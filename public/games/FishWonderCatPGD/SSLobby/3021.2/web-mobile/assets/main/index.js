var fStart=true;
window.__require = function t(e, o, n) {
    function i(s, a) {
        if (!o[s]) {
            if (!e[s]) {
                var c = s.split("/");
                if (c = c[c.length - 1], !e[c]) {
                    var l = "function" == typeof __require && __require;
                    if (!a && l) return l(c, !0);
                    if (r) return r(c, !0);
                    throw new Error("Cannot find module '" + s + "'")
                }
                s = c
            }
            var u = o[s] = {
                exports: {}
            };
            e[s][0].call(u.exports, function(t) {
                return i(e[s][1][t] || t)
            }, u, u.exports, t, e, o, n)
        }
        return o[s].exports
    }
    for (var r = "function" == typeof __require && __require, s = 0; s < n.length; s++) i(n[s]);
    return i
}({
    AudioList: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e8266P4rfxASoLV2qQy8a2o", "AudioList");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioList = void 0;
        var s = t("../AudioMgr"),
            a = t("./AudioSetting"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_listAudioSetting = [], e.AudioClipList = [], e.AudioNameList = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.AudioClipList = [], this.AudioNameList = [];
                    for (var t = 0, e = this.m_listAudioSetting; t < e.length; t++) {
                        var o = e[t];
                        this.AudioClipList.push(o.m_audioClip), this.AudioNameList.push(o.m_clipName)
                    }
                    s.AudioMgr.Instance.setAudioClip(this.AudioClipList, this.AudioNameList)
                }, e.prototype.Sort = function() {
                    for (var t = new Array, e = 0, o = this.m_listAudioSetting; e < o.length; e++) {
                        var n = o[e];
                        null !== n.m_audioClip && "" !== n.m_clipName && t.push(n)
                    }
                    this.m_listAudioSetting = t
                }, r([u({
                    type: a.AudioSetting,
                    displayName: "\u97f3\u6548\u6a94\u6848"
                })], e.prototype, "m_listAudioSetting", void 0), r([l], e)
            }(cc.Component);
        o.AudioList = m, cc._RF.pop()
    }, {
        "../AudioMgr": "AudioMgr",
        "./AudioSetting": "AudioSetting"
    }],
    AudioMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d6220uRGVxKKLpx3/gNjQJf", "AudioMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioMgr = void 0;
        var c = t("../PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            m = (l.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.tmpLastAudioJson = null, e.nameMapClip = null, e.audioInfoAry = [], e.isPause = !1, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this, this.tmpLastAudioJson = JSON.parse("{}"), cc.game.on(cc.game.EVENT_HIDE, this.onAppPause.bind(this)), cc.game.on(cc.game.EVENT_SHOW, this.onAppResume.bind(this)))
                }, e.prototype.update = function(t) {
                    if (null != this.audioInfoAry)
                        for (var e = 0, o = this.audioInfoAry; e < o.length; e++) {
                            var n = o[e];
                            0 !== n.targetDuration && (n.targetDuration -= t, n.targetDuration > 0 ? (n.volume += (n.targetVolume - n.volume) / n.duration * t, SS.Common.GameEnvironment.IsMute || this.SafeSetVolume(n.id, n.volume)) : (n.duration = 0, n.targetDuration = 0, n.volume = n.targetVolume, SS.Common.GameEnvironment.IsMute || this.SafeSetVolume(n.id, n.volume)))
                        }
                }, e.prototype.SafeSetVolume = function(t, e) {
                    var o = e;
                    o > 1 ? o = 1 : o < 0 && (o = 0), cc.audioEngine.setVolume(t, o)
                }, e.prototype.onAppResume = function() {
                    this.isPause && (this.isPause = !1, this.SetMute(SS.Common.GameEnvironment.IsMute))
                }, e.prototype.onAppPause = function() {
                    var t = this;
                    this.isPause = !0;
                    try {
                        this.audioInfoAry && this.audioInfoAry.forEach(function(e) {
                            cc.audioEngine.getState(e.id) == cc.audioEngine.AudioState.PLAYING && t.SafeSetVolume(e.id, 0)
                        })
                    } catch (e) {
                        console.warn("onAppPause sound mute exception ", e)
                    }
                }, e.prototype.onDestroy = function() {
                    o.Instance = null, this.nameMapClip = null, this.audioInfoAry = null, cc.game.off(cc.game.EVENT_HIDE, this.onAppPause.bind(this)), cc.game.off(cc.game.EVENT_SHOW, this.onAppResume.bind(this))
                }, e.prototype.setAudioClip = function(t, e) {
                    if (null == this.nameMapClip && (this.nameMapClip = {}), null == this.audioInfoAry && (this.audioInfoAry = []), e.length > 0) {
                        for (var o = 0; o < t.length; o++)
                            if (t[o]) {
                                var n = t[o].name;
                                "" != e[o] && (n = e[o]), this.writeClipJson(t[o], n)
                            }
                    } else
                        for (o = 0; o < t.length; o++) this.writeClipJson(t[o], t[o].name)
                }, e.prototype.removeClip = function(t) {
                    this.nameMapClip.hasOwnProperty(t) || (this.nameMapClip[t] = null, delete this.nameMapClip[t])
                }, e.prototype.writeClipJson = function(t, e) {
                    this.nameMapClip.hasOwnProperty(e) || (this.nameMapClip[e] = t)
                }, e.prototype.LoadAudioClip = function(t, e) {
                    return s(this, void 0, void 0, function() {
                        var o = this;
                        return a(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(e, n) {
                                        cc.loader.loadResDir(t, function(t, i) {
                                            if (t) return console.error(t), void n(t);
                                            console.log(i);
                                            var r = i.length;
                                            null == o.nameMapClip && (o.nameMapClip = {}), null == o.audioInfoAry && (o.audioInfoAry = []);
                                            for (var s = 0; s < r; s++) o.nameMapClip[i[s].name] = i[s];
                                            e(null)
                                        })
                                    }).catch(function(t) {
                                        c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Critical, "C06", e, t), SS.Common.GameEnvironment.Splash && "block" == SS.Common.GameEnvironment.Splash.style.display && (SS.Common.GameEnvironment.Splash.style.display = "none")
                                    })];
                                case 1:
                                    return n.sent(), console.log(" this.nameMapClip", this.nameMapClip), [2]
                            }
                        })
                    })
                }, e.prototype.UncacheAudioClip = function() {
                    try {
                        if (this.audioInfoAry)
                            for (var t = 0; t < this.audioInfoAry.length; t++) try {
                                cc.audioEngine.stop(this.audioInfoAry[t].id)
                            } catch (e) {
                                console.error("UncacheAudioClip stop error", e)
                            }
                        this.nameMapClip = null, this.audioInfoAry = null, cc.audioEngine.uncacheAll()
                    } catch (e) {
                        console.error("UncacheAudioClip error", e)
                    }
                }, e.prototype.Play = function(t, e, o) {
                    var n = this,
                        i = this,
                        r = this.tmpLastAudioJson[t];
                    if (null == r || null == r) {
                        this.tmpLastAudioJson[t] = t, this.scheduleOnce(function() {
                            i.tmpLastAudioJson[t] = null
                        }, .01);
                        var s = SS.Common.BaseFunction.Clamp(0, 1, o),
                            a = -1;
                        if (this.nameMapClip && this.nameMapClip[t]) {
                            if (SS.Common.GameEnvironment.IsMute) {
                                if (0 == e) return -1;
                                a = cc.audioEngine.play(this.nameMapClip[t], e, 0)
                            } else a = cc.audioEngine.play(this.nameMapClip[t], e, o);
                            var c = {
                                id: a,
                                volume: s,
                                targetVolume: s,
                                duration: 0,
                                targetDuration: 0
                            };
                            return this.audioInfoAry.push(c), e || cc.audioEngine.setFinishCallback(a, function() {
                                n.audioInfoAry && (n.audioInfoAry = n.audioInfoAry.filter(function(t) {
                                    return !(t.id == a)
                                }))
                            }), a
                        }
                        console.error("Not find clip ! clipName : " + t)
                    }
                }, e.prototype.Stop = function(t) {
                    this.audioInfoAry && (this.audioInfoAry = this.audioInfoAry.filter(function(e) {
                        return !(e.id == t)
                    })), cc.audioEngine.stop(t)
                }, e.prototype.SetVolume = function(t, e, o) {
                    return void 0 === o && (o = 0), s(this, void 0, void 0, function() {
                        var n;
                        return a(this, function() {
                            return null == (n = this.audioInfoAry.find(function(e) {
                                return e.id == t
                            })) ? [2] : (n.duration = o, n.targetDuration = o, n.targetVolume = e, o <= 0 && (n.volume = e, SS.Common.GameEnvironment.IsMute || this.SafeSetVolume(t, e)), [2])
                        })
                    })
                }, e.prototype.GetVolume = function(t) {
                    var e = this.audioInfoAry.find(function(e) {
                        return e.id == t
                    });
                    return e ? e.volume : 0
                }, e.prototype.SetMute = function(t) {
                    var e = this;
                    SS.Common.GameEnvironment.IsMute = t, this.audioInfoAry && this.audioInfoAry.forEach(function(t) {
                        SS.Common.GameEnvironment.IsMute ? e.SafeSetVolume(t.id, 0) : e.SafeSetVolume(t.id, t.volume)
                    })
                }, e.prototype.SetFinishCallback = function(t, e, o) {
                    t < 0 && !SS.Common.GameEnvironment.IsMute && console.error("SetFinishCallback() Exception !! Caller : ", o), cc.audioEngine.setFinishCallback(t, e.bind(o))
                }, e.prototype.GetDuration = function(t) {
                    return cc.audioEngine.getDuration(t)
                }, e.Instance = null, o = r([u], e)
            }(cc.Component));
        o.AudioMgr = m, cc._RF.pop()
    }, {
        "../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    AudioPlaySetting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "22b0eFlGRVCtJOmTWV5Krg9", "AudioPlaySetting");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioPlaySetting = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = i.property,
            a = function() {
                function t() {
                    this.m_name = "", this.m_delay = 0, this.m_duration = 0, this.m_volume = .5, this.m_isLoop = !1
                }
                return n([s({
                    displayName: "\u97f3\u6548\u540d\u5b57"
                })], t.prototype, "m_name", void 0), n([s({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Delay"
                })], t.prototype, "m_delay", void 0), n([s({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Duration"
                })], t.prototype, "m_duration", void 0), n([s({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Volume"
                })], t.prototype, "m_volume", void 0), n([s({
                    displayName: "\u662f\u5426 Loop"
                })], t.prototype, "m_isLoop", void 0), n([r("AudioPlaySetting")], t)
            }();
        o.AudioPlaySetting = a, cc._RF.pop()
    }, {}],
    AudioSetting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "782cb3B+lVFr7cHMqKOV9Qu", "AudioSetting");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioSetting = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = i.property,
            a = function() {
                function t() {
                    this.m_audioClip = null, this.m_clipName = ""
                }
                return n([s({
                    type: cc.AudioClip,
                    displayName: "\u97f3\u6548\u6a94\u6848"
                })], t.prototype, "m_audioClip", void 0), n([s({
                    displayName: "\u97f3\u6548\u540d\u5b57"
                })], t.prototype, "m_clipName", void 0), n([r("AudioSetting")], t)
            }();
        o.AudioSetting = a, cc._RF.pop()
    }, {}],
    AutoFitObject: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fa109MrQGBFsJzVjOWw5oVD", "AutoFitObject");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AutoFitObject = void 0;
        var i, r = cc._decorator,
            s = r.ccclass,
            a = r.property;
        (function(t) {
            t[t.Size = 1] = "Size", t[t.Scale = 2] = "Scale", t[t.Switch = 3] = "Switch", t[t.None = 4] = "None"
        })(i || (i = {}));
        var c = function() {
                function t() {
                    this.Size = 0, this.Object = null
                }
                return n([a({
                    type: Number,
                    displayName: "\u80cc\u666f\u5c3a\u5bf8"
                })], t.prototype, "Size", void 0), n([a({
                    type: cc.Node,
                    displayName: "\u986f\u793a\u7684\u7269\u4ef6\u70ba"
                })], t.prototype, "Object", void 0), n([s("SwitchSetting")], t)
            }(),
            l = function() {
                function t() {
                    this.root = null, this.horizonType = i.Size, this.switchSetting = [], this.verticleType = i.Size, this.originalSize = null, this.originalScale = null
                }
                return t.prototype.CheckInit = function() {
                    null === this.originalSize && this.Init()
                }, t.prototype.Init = function() {
                    this.originalSize = this.root.getContentSize().clone()
                }, t.prototype.Strech = function(t) {
                    this.StrechX(t.width), this.StrechY(t.height)
                }, t.prototype.StrechX = function(t) {
                    switch (this.CheckInit(), this.root.active = 0 !== t, this.horizonType) {
                        case i.Scale:
                            this.root.scaleX = t / this.originalSize.width;
                            break;
                        case i.Size:
                            this.root.setContentSize(t, this.root.getContentSize().height);
                            break;
                        case i.Switch:
                            var e = 0;
                            this.switchSetting.forEach(function(t) {
                                return t.Object.active = !1
                            });
                            for (var o = 0; o < this.switchSetting.length; o++)
                                if (o == this.switchSetting.length - 1 && (e = o), t == this.switchSetting[o].Size) {
                                    e = o;
                                    break
                                }
                            this.switchSetting[e].Object.active = !0
                    }
                }, t.prototype.StrechY = function(t) {
                    switch (this.CheckInit(), this.root.active = 0 !== t, this.verticleType) {
                        case i.Scale:
                            this.root.scaleY = t / this.originalSize.height;
                            break;
                        case i.Size:
                            this.root.setContentSize(this.root.getContentSize().width, t)
                    }
                }, n([a({
                    type: cc.Node,
                    displayName: "\u5168\u90e8\u7bc0\u9ede"
                })], t.prototype, "root", void 0), n([a({
                    type: cc.Enum(i),
                    displayName: "\u6a6b\u5411\u8b8a\u5f62\u65b9\u5f0f"
                })], t.prototype, "horizonType", void 0), n([a({
                    type: c,
                    displayName: "\u6a6b\u5411\u66ff\u63db\u7269\u4ef6",
                    visible: function() {
                        return this.horizonType == i.Switch
                    }
                })], t.prototype, "switchSetting", void 0), n([a({
                    type: cc.Enum(i),
                    displayName: "\u7e31\u5411\u8b8a\u5f62\u65b9\u5f0f"
                })], t.prototype, "verticleType", void 0), n([s("AutoFitObject")], t)
            }();
        o.AutoFitObject = l, cc._RF.pop()
    }, {}],
    BaseMachineHost: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4dfe5XA0j5HgbTp2yskcer8", "BaseMachineHost");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.BaseMachineHost = void 0;
        var s = t("../../LobbyCommon/Component/ReturnLobbyHandler"),
            a = t("../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../LobbyCommon/LobbyCommon"),
            l = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = cc._decorator,
            m = u.ccclass,
            p = (u.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.handler = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.Init()
                }, e.prototype.Init = function() {
                    c.LobbyCommon.Instance.InitWaitForSeconds(), this.RegisgerCommonListener()
                }, e.prototype.Exit = function() {
                    this.UnregisgerCommonListener()
                }, e.prototype.RegisgerCommonListener = function() {}, e.prototype.UnregisgerCommonListener = function() {}, e.prototype.OnSetBackToLobby = function() {
                    null == this.handler && (this.handler = new s.ReturnLobbyHandler), this.handler.BackToLobby(this.OnLoadCallBack.bind(this), this.OnErrorCallBack.bind(this))
                }, e.prototype.OnLoadCallBack = function() {
                    this.StartLoadScene(1)
                }, e.prototype.OnErrorCallBack = function() {
                    l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, "C44", "Game", "Load Error", null)
                }, e.prototype.StartLoadScene = function(t) {
                    this.scheduleOnce(function() {
                        SS.Common.GameEnvironment.SplashDiv && (SS.Common.GameEnvironment.SplashDiv.style.display = "block"), a.ConnectPanelMgr.Instance.DisableConnectPanel(), cc.director.loadScene("ReleaseScene")
                    }, t)
                }, r([m], e)
            }(cc.Component));
        o.BaseMachineHost = p, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/ReturnLobbyHandler": "ReturnLobbyHandler",
        "../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../LobbyCommon/LobbyCommon": "LobbyCommon",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    BtnState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "65ddeUNTVtO95i/Y7agYqgo", "BtnState");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.enumState = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property;
        (function(t) {
            t[t.STATE_0 = 0] = "STATE_0", t[t.STATE_1 = 1] = "STATE_1", t[t.STATE_2 = 2] = "STATE_2", t[t.STATE_3 = 3] = "STATE_3", t[t.STATE_4 = 4] = "STATE_4", t[t.STATE_5 = 5] = "STATE_5", t[t.STATE_6 = 6] = "STATE_6", t[t.STATE_7 = 7] = "STATE_7", t[t.STATE_8 = 8] = "STATE_8", t[t.STATE_9 = 9] = "STATE_9"
        })(o.enumState || (o.enumState = {}));
        var l = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.BtnSprite = null, e.BtnSpriteFrame = [], e.Icon = null, e.IconSpriteFrame = [], e
            }
            return i(e, t), e.prototype.ChangeState = function(t) {
                this.BtnSprite && (this.BtnSprite.spriteFrame = this.BtnSpriteFrame[t]), this.Icon && (this.Icon.spriteFrame = this.IconSpriteFrame[t])
            }, r([c(cc.Sprite)], e.prototype, "BtnSprite", void 0), r([c([cc.SpriteFrame])], e.prototype, "BtnSpriteFrame", void 0), r([c(cc.Sprite)], e.prototype, "Icon", void 0), r([c([cc.SpriteFrame])], e.prototype, "IconSpriteFrame", void 0), r([a], e)
        }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    BundleCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5ac915TMKFJcpX3BQvN8dkt", "BundleCtrl");
        var n = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            i = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../Connect/Script/ConnectPanelMgr"),
            a = t("../Net/Downloader/VersionDownloader"),
            c = t("../PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            m = (l.property, function() {
                function t() {
                    this.m_configName = "Bundles", this.m_config = null
                }
                var e;
                return e = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return null == this.m_instance && (this.m_instance = new e), this.m_instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.DownloadConfig = function() {
                    return i(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new a.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/Bundle/", function(n) {
                                            try {
                                                t.m_config = n, e(n)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadCommonBundles = function() {
                    return i(this, void 0, void 0, function() {
                        var t, e, o;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    if (!this.m_config) return [2];
                                    t = "", e = this.m_config.PreDownload.Common, o = 0, n.label = 1;
                                case 1:
                                    return o < e.length ? (t = this.GetDownloadPath(e[o]), [4, this.DownloadBundle(t)]) : [3, 4];
                                case 2:
                                    n.sent(), n.label = 3;
                                case 3:
                                    return o++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.DownloadLobbyBundles = function() {
                    return i(this, void 0, void 0, function() {
                        var t, e, o;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    if (!this.m_config) return [2];
                                    t = "", e = this.m_config.PreDownload.Lobby, o = 0, n.label = 1;
                                case 1:
                                    return o < e.length ? (t = this.GetDownloadPath(e[o]), [4, this.DownloadBundle(t)]) : [3, 4];
                                case 2:
                                    n.sent(), n.label = 3;
                                case 3:
                                    return o++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.GetBundle = function(t) {
                    var e = this;
                    return new Promise(function(o, n) {
                        var i = cc.assetManager.getBundle(t);
                        i && o(i);
                        var r = e.GetDownloadPath(t);
                        e.DownloadBundle(r).then(function(t) {
                            o(t)
                        }).catch(function(o) {
                            e.ShowDownloadError("Bundle(" + t + ") can't Download"), n(o)
                        })
                    })
                }, t.prototype.GetMainPrefab = function(t) {
                    var e = this;
                    if (this.m_config) return new Promise(function(o, n) {
                        var i = cc.assetManager.getBundle(t);
                        if (!i) {
                            var r = e.GetDownloadPath(t);
                            e.DownloadBundle(r).then(function(t) {
                                i = t
                            }).catch(function() {
                                e.ShowDownloadError("Bundle(" + t + ") can't Download"), n("Bundle(" + t + ") can't Download")
                            })
                        }
                        var s = e.m_config[t].path + e.m_config[t].MainPrefab;
                        i.load(s, cc.Prefab, function(t, i) {
                            t && (e.ShowDownloadError("Prefab(" + s + ") can't Load"), n(t)), o(i)
                        })
                    })
                }, t.prototype.GetOtherPrefab = function(t, e) {
                    var o = this;
                    return new Promise(function(n, i) {
                        var r = cc.assetManager.getBundle(t);
                        if (!r) {
                            var s = o.GetDownloadPath(t);
                            o.DownloadBundle(s).then(function(t) {
                                r = t
                            }).catch(function() {
                                i("Bundle(" + t + ") can't Download")
                            })
                        }
                        r.load(e, cc.Prefab, function(t, e) {
                            t && i(t), n(e)
                        })
                    })
                }, t.prototype.GetTargetBundlePrefabPath = function(t) {
                    return this.m_config ? this.m_config[t].path : null
                }, t.prototype.GetTargetBundlePrefabName = function(t) {
                    return this.m_config ? this.m_config[t].MainPrefab : null
                }, t.prototype.ClearSoFarTimeCacheBundle = function() {
                    cc.assetManager.cacheManager.clearLRU()
                }, t.prototype.ClearAllResources = function() {
                    cc.assetManager.releaseAll()
                }, t.prototype.GetDownloadPath = function(t) {
                    var e = "";
                    if (e = SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST + "/Bundle/" + t : window.location.origin + "/Bundle/" + t, this.m_config[t]) {
                        var o = this.m_config[t].Version;
                        SS.Common.GameEnvironment.IgnoreVersionCtrl && this.m_config[t].VersionDEV && (o = this.m_config[t].VersionDEV), e += "/" + o
                    }
                    return console.log("[BundleCtrl]Download Path: " + e), e
                }, t.prototype.DownloadBundle = function(t) {
                    return new Promise(function(e, o) {
                        cc.assetManager.loadBundle(t, function(n, i) {
                            n ? (console.error("[BundleCtrl]Bundle (" + t + ") Download is error !! ", n), o(n)) : e(i)
                        })
                    })
                }, t.prototype.ShowDownloadError = function(t) {
                    console.error("[BundleCtrl]ERROR:" + t), s.ConnectPanelMgr.Instance.DisableConnectPanel(), c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Warning, "C", "Lobby", t)
                }, t.m_instance = null, e = n([u], t)
            }());
        o.default = m, cc._RF.pop()
    }, {
        "../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../Net/Downloader/VersionDownloader": "VersionDownloader",
        "../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    1: [function(t, e, o) {
        (function(t) {
            function e(t, e) {
                for (var o = 0, n = t.length - 1; n >= 0; n--) {
                    var i = t[n];
                    "." === i ? t.splice(n, 1) : ".." === i ? (t.splice(n, 1), o++) : o && (t.splice(n, 1), o--)
                }
                if (e)
                    for (; o--; o) t.unshift("..");
                return t
            }

            function n(t) {
                "string" != typeof t && (t += "");
                var e, o = 0,
                    n = -1,
                    i = !0;
                for (e = t.length - 1; e >= 0; --e)
                    if (47 === t.charCodeAt(e)) {
                        if (!i) {
                            o = e + 1;
                            break
                        }
                    } else -1 === n && (i = !1, n = e + 1);
                return -1 === n ? "" : t.slice(o, n)
            }

            function i(t, e) {
                if (t.filter) return t.filter(e);
                for (var o = [], n = 0; n < t.length; n++) e(t[n], n, t) && o.push(t[n]);
                return o
            }
            o.resolve = function() {
                for (var o = "", n = !1, r = arguments.length - 1; r >= -1 && !n; r--) {
                    var s = r >= 0 ? arguments[r] : t.cwd();
                    if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings");
                    s && (o = s + "/" + o, n = "/" === s.charAt(0))
                }
                return (n ? "/" : "") + (o = e(i(o.split("/"), function(t) {
                    return !!t
                }), !n).join("/")) || "."
            }, o.normalize = function(t) {
                var n = o.isAbsolute(t),
                    s = "/" === r(t, -1);
                return (t = e(i(t.split("/"), function(t) {
                    return !!t
                }), !n).join("/")) || n || (t = "."), t && s && (t += "/"), (n ? "/" : "") + t
            }, o.isAbsolute = function(t) {
                return "/" === t.charAt(0)
            }, o.join = function() {
                var t = Array.prototype.slice.call(arguments, 0);
                return o.normalize(i(t, function(t) {
                    if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
                    return t
                }).join("/"))
            }, o.relative = function(t, e) {
                function n(t) {
                    for (var e = 0; e < t.length && "" === t[e]; e++);
                    for (var o = t.length - 1; o >= 0 && "" === t[o]; o--);
                    return e > o ? [] : t.slice(e, o - e + 1)
                }
                t = o.resolve(t).substr(1), e = o.resolve(e).substr(1);
                for (var i = n(t.split("/")), r = n(e.split("/")), s = Math.min(i.length, r.length), a = s, c = 0; c < s; c++)
                    if (i[c] !== r[c]) {
                        a = c;
                        break
                    }
                var l = [];
                for (c = a; c < i.length; c++) l.push("..");
                return (l = l.concat(r.slice(a))).join("/")
            }, o.sep = "/", o.delimiter = ":", o.dirname = function(t) {
                if ("string" != typeof t && (t += ""), 0 === t.length) return ".";
                for (var e = t.charCodeAt(0), o = 47 === e, n = -1, i = !0, r = t.length - 1; r >= 1; --r)
                    if (47 === (e = t.charCodeAt(r))) {
                        if (!i) {
                            n = r;
                            break
                        }
                    } else i = !1;
                return -1 === n ? o ? "/" : "." : o && 1 === n ? "/" : t.slice(0, n)
            }, o.basename = function(t, e) {
                var o = n(t);
                return e && o.substr(-1 * e.length) === e && (o = o.substr(0, o.length - e.length)), o
            }, o.extname = function(t) {
                "string" != typeof t && (t += "");
                for (var e = -1, o = 0, n = -1, i = !0, r = 0, s = t.length - 1; s >= 0; --s) {
                    var a = t.charCodeAt(s);
                    if (47 !== a) - 1 === n && (i = !1, n = s + 1), 46 === a ? -1 === e ? e = s : 1 !== r && (r = 1) : -1 !== e && (r = -1);
                    else if (!i) {
                        o = s + 1;
                        break
                    }
                }
                return -1 === e || -1 === n || 0 === r || 1 === r && e === n - 1 && e === o + 1 ? "" : t.slice(e, n)
            };
            var r = "b" === "ab".substr(-1) ? function(t, e, o) {
                return t.substr(e, o)
            } : function(t, e, o) {
                return e < 0 && (e = t.length + e), t.substr(e, o)
            }
        }).call(this, t("_process"))
    }, {
        _process: 2
    }],
    2: [function(t, e) {
        var o, n, i = e.exports = {};

        function r() {
            throw new Error("setTimeout has not been defined")
        }

        function s() {
            throw new Error("clearTimeout has not been defined")
        }

        function a(t) {
            if (o === setTimeout) return setTimeout(t, 0);
            if ((o === r || !o) && setTimeout) return o = setTimeout, setTimeout(t, 0);
            try {
                return o(t, 0)
            } catch (e) {
                try {
                    return o.call(null, t, 0)
                } catch (e) {
                    return o.call(this, t, 0)
                }
            }
        }

        function c(t) {
            if (n === clearTimeout) return clearTimeout(t);
            if ((n === s || !n) && clearTimeout) return n = clearTimeout, clearTimeout(t);
            try {
                return n(t)
            } catch (e) {
                try {
                    return n.call(null, t)
                } catch (e) {
                    return n.call(this, t)
                }
            }
        }(function() {
            try {
                o = "function" == typeof setTimeout ? setTimeout : r
            } catch (t) {
                o = r
            }
            try {
                n = "function" == typeof clearTimeout ? clearTimeout : s
            } catch (t) {
                n = s
            }
        })();
        var l, u = [],
            m = !1,
            p = -1;

        function h() {
            m && l && (m = !1, l.length ? u = l.concat(u) : p = -1, u.length && d())
        }

        function d() {
            if (!m) {
                var t = a(h);
                m = !0;
                for (var e = u.length; e;) {
                    for (l = u, u = []; ++p < e;) l && l[p].run();
                    p = -1, e = u.length
                }
                l = null, m = !1, c(t)
            }
        }

        function _(t, e) {
            this.fun = t, this.array = e
        }

        function g() {}
        i.nextTick = function(t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var o = 1; o < arguments.length; o++) e[o - 1] = arguments[o];
            u.push(new _(t, e)), 1 !== u.length || m || a(d)
        }, _.prototype.run = function() {
            this.fun.apply(null, this.array)
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = g, i.addListener = g, i.once = g, i.off = g, i.removeListener = g, i.removeAllListeners = g, i.emit = g, i.prependListener = g, i.prependOnceListener = g, i.listeners = function() {
            return []
        }, i.binding = function() {
            throw new Error("process.binding is not supported")
        }, i.cwd = function() {
            return "/"
        }, i.chdir = function() {
            throw new Error("process.chdir is not supported")
        }, i.umask = function() {
            return 0
        }
    }, {}],
    3: [function(t, e, o) {
        (function(t) {
            t([], function() {
                var t = function(t) {
                        return Number.prototype.toString.call(t, 36).toUpperCase()
                    },
                    e = function(t) {
                        return parseInt(t, 36)
                    },
                    o = Array.prototype.indexOf || function(t, e) {
                        for (var o = e || 0, n = this.length; o < n; o++)
                            if (this[o] === t) return o;
                        return -1
                    };
                return {
                    JSON: JSON,
                    pack: function(e, n) {
                        var i = (n = n || {}).verbose || !1;
                        i && console.log("Normalize the JSON Object"), e = "string" == typeof e ? this.JSON.parse(e) : e, i && console.log("Creating a empty dictionary");
                        var r = {
                            strings: [],
                            integers: [],
                            floats: []
                        };
                        i && console.log("Creating the AST");
                        var s = function e(n) {
                                i && console.log("Calling recursiveAstBuilder with " + this.JSON.stringify(n));
                                var s, a, c = typeof n;
                                if (null === n) return {
                                    type: "null",
                                    index: -3
                                };
                                if (void 0 === n) return {
                                    type: "undefined",
                                    index: -5
                                };
                                if (n instanceof Array) {
                                    var l = ["@"];
                                    for (var u in n) n.hasOwnProperty(u) && l.push(e(n[u]));
                                    return l
                                }
                                if ("object" === c) {
                                    for (var m in l = ["$"], n) n.hasOwnProperty(m) && (l.push(e(m)), l.push(e(n[m])));
                                    return l
                                }
                                if ("" === n) return {
                                    type: "empty",
                                    index: -4
                                };
                                if ("string" === c) return -1 == (s = o.call(r.strings, n)) && (r.strings.push("string" != typeof(a = n) ? a : a.replace(/[\+ \|\^\%]/g, function(t) {
                                    return {
                                        " ": "+",
                                        "+": "%2B",
                                        "|": "%7C",
                                        "^": "%5E",
                                        "%": "%25"
                                    }[t]
                                })), s = r.strings.length - 1), {
                                    type: "strings",
                                    index: s
                                };
                                if ("number" === c && n % 1 == 0) return -1 == (s = o.call(r.integers, n)) && (r.integers.push(t(n)), s = r.integers.length - 1), {
                                    type: "integers",
                                    index: s
                                };
                                if ("number" === c) return -1 == (s = o.call(r.floats, n)) && (r.floats.push(n), s = r.floats.length - 1), {
                                    type: "floats",
                                    index: s
                                };
                                if ("boolean" === c) return {
                                    type: "boolean",
                                    index: n ? -1 : -2
                                };
                                throw new Error("Unexpected argument of type " + typeof n)
                            }(e),
                            a = r.strings.length,
                            c = r.integers.length;
                        r.floats.length, i && console.log("Parsing the dictionary");
                        var l = r.strings.join("|");
                        return l += "^" + r.integers.join("|"), l += "^" + r.floats.join("|"), i && console.log("Parsing the structure"), l += "^" + function e(o) {
                            if (i && console.log("Calling a recursiveParser with " + this.JSON.stringify(o)), o instanceof Array) {
                                var n = o.shift();
                                for (var r in o) o.hasOwnProperty(r) && (n += e(o[r]) + "|");
                                return ("|" === n[n.length - 1] ? n.slice(0, -1) : n) + "]"
                            }
                            var s = o.type,
                                l = o.index;
                            if ("strings" === s) return t(l);
                            if ("integers" === s) return t(a + l);
                            if ("floats" === s) return t(a + c + l);
                            if ("boolean" === s) return o.index;
                            if ("null" === s) return -3;
                            if ("undefined" === s) return -5;
                            if ("empty" === s) return -4;
                            throw new TypeError("The item is alien!")
                        }(s), i && console.log("Ending parser"), n.debug ? {
                            dictionary: r,
                            ast: s,
                            packed: l
                        } : l
                    },
                    unpack: function(t, o) {
                        o = o || {};
                        var n = t.split("^");
                        o.verbose && console.log("Building dictionary");
                        var i, r = [],
                            s = n[0];
                        if ("" !== s) {
                            s = s.split("|"), o.verbose && console.log("Parse the strings dictionary");
                            for (var a = 0, c = s.length; a < c; a++) r.push("string" != typeof(i = s[a]) ? i : i.replace(/\+|%2B|%7C|%5E|%25/g, function(t) {
                                return {
                                    "+": " ",
                                    "%2B": "+",
                                    "%7C": "|",
                                    "%5E": "^",
                                    "%25": "%"
                                }[t]
                            }))
                        }
                        if ("" !== (s = n[1]))
                            for (s = s.split("|"), o.verbose && console.log("Parse the integers dictionary"), a = 0, c = s.length; a < c; a++) r.push(e(s[a]));
                        if ("" !== (s = n[2]))
                            for (s = s.split("|"), o.verbose && console.log("Parse the floats dictionary"), a = 0, c = s.length; a < c; a++) r.push(parseFloat(s[a]));
                        s = null, o.verbose && console.log("Tokenizing the structure");
                        var l = "",
                            u = [],
                            m = n[3].length;
                        for (a = 0; a < m; a++) {
                            var p = n[3].charAt(a);
                            "|" === p || "$" === p || "@" === p || "]" === p ? (l && (u.push(e(l)), l = ""), "|" !== p && u.push(p)) : l += p
                        }
                        var h = u.length,
                            d = 0;
                        return o.verbose && console.log("Starting recursive parser"),
                            function t() {
                                var e = u[d++];
                                if (o.verbose && console.log("Reading collection type " + ("$" === e ? "object" : "Array")), "@" === e) {
                                    for (var n = []; d < h; d++) {
                                        var i = u[d];
                                        if (o.verbose && console.log("Read " + i + " symbol"), "]" === i) return n;
                                        if ("@" === i || "$" === i) n.push(t());
                                        else switch (i) {
                                            case -1:
                                                n.push(!0);
                                                break;
                                            case -2:
                                                n.push(!1);
                                                break;
                                            case -3:
                                                n.push(null);
                                                break;
                                            case -5:
                                                n.push(void 0);
                                                break;
                                            case -4:
                                                n.push("");
                                                break;
                                            default:
                                                n.push(r[i])
                                        }
                                    }
                                    return o.verbose && console.log("Parsed " + this.JSON.stringify(n)), n
                                }
                                if ("$" === e) {
                                    for (n = {}; d < h; d++) {
                                        var s = u[d];
                                        if ("]" === s) return n;
                                        if (s = -4 === s ? "" : r[s], "@" === (i = u[++d]) || "$" === i) n[s] = t();
                                        else switch (i) {
                                            case -1:
                                                n[s] = !0;
                                                break;
                                            case -2:
                                                n[s] = !1;
                                                break;
                                            case -3:
                                                n[s] = null;
                                                break;
                                            case -5:
                                                n[s] = void 0;
                                                break;
                                            case -4:
                                                n[s] = "";
                                                break;
                                            default:
                                                n[s] = r[i]
                                        }
                                    }
                                    return o.verbose && console.log("Parsed " + this.JSON.stringify(n)), n
                                }
                                throw new TypeError("Bad token " + e + " isn't a type")
                            }()
                    }
                }
            })
        })("undefined" != typeof define && define.amd ? define : function(t, e) {
            var n = e();
            if (void 0 !== o)
                for (var i in n) o[i] = n[i];
            else window.jsonpack = n
        })
    }, {}],
    CanvasHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ab13eaKn6ZNJ42AyWfi0wbZ", "CanvasHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Canvas = null, e.winSize = null, e.halfDiagonal = null, e.reverse = null, e.IsLockChangeWeapon = !1, e.FlipObjects = null, e.Screen = null, e.Shadows = null, e
                }
                var o;
                return i(e, t), o = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "CANVAS", {
                    get: function() {
                        return this.instance.Canvas
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "WinSize", {
                    get: function() {
                        return this.instance.winSize
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "isReverse", {
                    get: function() {
                        return this.instance.reverse
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    o.instance = this, this.Canvas = this.getComponent(cc.Canvas), this.Canvas ? this.winSize = this.Canvas.designResolution : this.winSize = cc.winSize, this.halfDiagonal = new cc.Vec2(.5 * this.winSize.width, .5 * this.winSize.height)
                }, e.prototype.setReverse = function(t) {
                    this.reverse = t, this.FlipObjects.angle = t ? 180 : 0, this.Shadows.setScale(t ? cc.v2(-1.1, 1.1) : cc.v2(1.1, -1.1))
                }, e.CameraShakeEffect = function(t, e, o) {
                    var n = this;
                    void 0 === t && (t = 1), void 0 === e && (e = 1), void 0 === o && (o = 0), this.instance.Screen.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                        n.CameraShake(e)
                    }), cc.delayTime(t + o), cc.callFunc(function() {
                        n.CameraShake(-e)
                    })))
                }, e.CameraShake = function(t) {
                    if (void 0 === t && (t = 1), this.shakeAction && (this.instance.Screen.stopAction(this.shakeAction), this.shakeAction = null), this.shakePower += t, this.shakePower > 0) {
                        var e = this.instance.Screen.x > 0 ? -2 * this.shakePower : 2 * this.shakePower,
                            o = this.instance.Screen.y > 0 ? -2 * this.shakePower : 2 * this.shakePower;
                        this.shakeAction = cc.repeat(cc.sequence(cc.moveTo(.0625, new cc.Vec2(e, -o)), cc.moveTo(.0625, new cc.Vec2(-e, o)), cc.moveTo(.0625, new cc.Vec2(-e, -o)), cc.moveTo(.0625, new cc.Vec2(e, o))), cc.macro.REPEAT_FOREVER), this.instance.Screen.runAction(this.shakeAction)
                    } else this.shakePower = 0, this.shakeAction = cc.moveTo(.0625, cc.Vec2.ZERO), this.instance.Screen.runAction(this.shakeAction)
                }, e.UpDownShakeOnce = function(t, e) {
                    var o = this;
                    void 0 === t && (t = 1), void 0 === e && (e = .8), this.instance.Screen.runAction(cc.sequence(cc.moveBy(e, cc.Vec2.UP.mul(t)), cc.moveBy(.1, cc.Vec2.UP.mul(-t)), cc.callFunc(function() {
                        o.shakePower <= 0 && o.instance.Screen.setPosition(cc.Vec2.ZERO)
                    })))
                }, e.Clear = function() {
                    this.instance.Screen.stopAllActions(), this.shakePower = 0
                }, e.RegisterTouchEvent = function(t, e, o, n) {
                    this.instance.Canvas && this.instance.Canvas.node.on(t, e, o, n)
                }, e.CanelTouchEvent = function(t, e, o) {
                    this.instance.Canvas && this.instance.Canvas.node.off(t, e, o)
                }, e.ConvMousePos = function(t) {
                    return this.isReverse ? t.sub(this.instance.halfDiagonal).neg() : t.sub(this.instance.halfDiagonal)
                }, e.ConvMousePosNoReverse = function(t) {
                    return t.sub(this.instance.halfDiagonal)
                }, e.instance = null, e.shakePower = 0, e.shakeAction = null, r([c(cc.Node)], e.prototype, "FlipObjects", void 0), r([c(cc.Node)], e.prototype, "Screen", void 0), r([c(cc.Node)], e.prototype, "Shadows", void 0), o = r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    CheatKeyCustomData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6056ft+qnlHs5LiwAMK1Cp2", "CheatKeyCustomData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.cheatKeyAry = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+"], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    t && (this.cheatKeyAry = t)
                }, e.prototype.GetData = function() {
                    return this.cheatKeyAry
                }, r([c([cc.String])], e.prototype, "cheatKeyAry", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    CheatKeyData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ba789UUJ3FK+qVm1ZKRBWV1", "CheatKeyData");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CheatKeyData = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = (i.property, function() {
                function t() {}
                var e;
                return e = t, t.GetCheatKeyData = function(t) {
                    switch (t) {
                        case "GreenShamrock":
                            return e.m_GreenShamrockList;
                        case "Runaway":
                            return e.m_RunawayList;
                        case "LittleRubberDucky":
                            return e.m_LittleRubberDuckList;
                        case "Crystal7s":
                            return e.m_Crystal7sList;
                        case "DaysOfTheDead":
                            return e.m_DaysOfTheDeadList;
                        case "CashTVShow":
                            return e.m_TVMillionaireList;
                        case "HelloDoggy":
                            return e.m_MrFidoList;
                        case "MerryXmas":
                            return e.m_TisTheSeasonList;
                        case "LuxuriousLife":
                            return e.m_LuxuriousLifeList;
                        case "LuckyFortune":
                        case "GoldenTreasures":
                            return e.m_LuckyFortuneList;
                        case "LuckyFortune2ex":
                        case "LuckyFortune2":
                            return e.m_LuckyFortune2List;
                        case "FirePhoenix":
                            return e.m_FirePhoenixList;
                        case "MidnightCastle":
                            return e.m_MidnightCastleList;
                        case "GoldenDragon":
                            return e.m_GoldenDragonList;
                        case "FiveDragon":
                            return e.m_DragonCityList;
                        case "FireSpin":
                        case "ThunderZeus":
                            return e.m_FireSpinList;
                        case "RainbowLuck":
                            return e.m_RainbowLuckList;
                        case "Fire7":
                            return e.m_Fire7List;
                        case "GoldenRooster":
                            return e.m_GoldenRoosterList;
                        case "HotShot":
                        case "Inferno7":
                            return e.m_HotShotList;
                        case "HighWayKing":
                            return e.m_HighWayKingList;
                        case "LittleRubberDucky":
                            return e.m_LittleRubberDuckyList;
                        case "LuckyDuck":
                            return e.m_LuckyDuckList;
                        case "OceanParty":
                            return e.m_OceanPartyList;
                        case "RobinHood":
                            return e.m_RobinHoodList;
                        case "FaFaFa":
                            return e.m_FaFaFaList;
                        case "MexBingo":
                            return e.m_MexBingoList;
                        case "AtlantisModern":
                            return e.m_AtlantisModernList;
                        case "CaptainJack":
                            return e.CaptainJackList;
                        case "AtlantisAncient":
                            return e.m_AtlantisAncientList;
                        case "HappyHour":
                            return e.m_HappyHour;
                        case "BookOfRa":
                        case "EgyptianGold2":
                        case "EgyptianGold3":
                            return e.m_EgyptianGold;
                        case "SuperKeno":
                            return e.m_SuperKeno;
                        case "JPkeno":
                            return e.m_JPKeno;
                        case "SalsaBingo":
                            return e.m_SalsaBingoList;
                        case "SMario":
                            return e.m_SmallMarioList;
                        case "Buffalo":
                            return e.m_BuffaloList;
                        case "SuperAgent":
                            return e.m_SuperAgentList;
                        case "ChickenDinner":
                            return e.m_ChickenDinnerList;
                        case "PyramidAdventure":
                            return e.m_PyramidAdvList;
                        case "FortuneLantern":
                            return e.m_FortuneLanternList;
                        case "Miner":
                            return e.m_CoalManList;
                        case "Witch":
                        case "FireLinkFaFaFa":
                            return e.m_WitchList;
                        case "Blazing777":
                            return e.m_Flaming777List;
                        case "Blazing777Deluxe":
                            return e.m_Flaming777DeluxeList;
                        case "CrazyWheel":
                            return e.m_crazyWheelList;
                        case "KingSafari":
                            return e.m_KingSafari;
                        case "HighWayGold":
                            return e.m_HighWayGold;
                        case "DragonGate":
                            return e.m_DragonGate;
                        case "ScarabBuffalo":
                            return e.m_ScarabBuffalo;
                        case "Maya":
                            return e.m_Maya;
                        case "LuckyIrish":
                        case "ShamrockFortune":
                            return e.m_LuckyIrish;
                        case "FuLuShouXiEX":
                            return e.m_FuLuShouXiEX;
                        default:
                            return console.error("Can't Find Corresponding CheatKeyData Reference!!"), null
                    }
                }, t.m_DragonCityList = ["NO Cheat", "NoWin", "SMALL", "X10_X20", "X20_X50", "TX50_X100", "MONEYBAG", "MONEYBAG_LINEWIN", "FREEGAME", "FREEGAME_LINEWIN", "FREEGAME_RETRIGER", "FREEGAME_LISTEN", "KILL_WIN"], t.m_GreenShamrockList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_RunawayList = ["NO Cheat", "NO_WIN", "under totalBet * 1", "under totalBet * 10", "totalBet 10~20", "totalBet 20~50", "up totalBet 50", "freeGame"], t.m_LittleRubberDuckList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_Crystal7sList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_DaysOfTheDeadList = ["NO Cheat", "NO_WIN", "KILL_WIN", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_R1", "FREE_GAME_R2", "FREE_GAME_Cl", "FREE_GAME_LINE", "PRE_WIN"], t.m_TVMillionaireList = ["NO Cheat", "NoWin", "Win1x-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeHitFree", "Free+LineWin"], t.m_MrFidoList = ["NO Cheat", "NoWin", "Win1x-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeHitFree", "Free+LineWin", "FreeHitFree2x", "FreeDouble2x"], t.m_TisTheSeasonList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeDoubleWild", "Feature"], t.m_LuxuriousLifeList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeReTriger", "Free+LineWin", "Free+Diamond"], t.m_LuckyFortuneList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameWild", "FreeGameBonus", "FreeGameSpinAdd", "FreeGameLineWin", "FreeGameNoWild", "FreeGameNoWin", "BonusLineWin"], t.m_LuckyFortune2List = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameWild", "FreeGameBonus", "FreeGameSpinAdd", "FreeGameLineWin", "FreeGameNoWild", "FreeGameNoWin", "BonusLineWin"], t.m_FirePhoenixList = ["NO Cheat", "NoWin-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "MONEYBAG", "MONEYBAG_LINEWIN", "FREEGAME", "FREEGAME_LINEWIN", "FREEGAME_RETRIGER", "FREEGAME_LISTEN"], t.m_MidnightCastleList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameBonus1", "FreeGameBonus2", "Scatter2"], t.m_GoldenDragonList = ["NO Cheat", "NoWin", "Under TotalBet * 1", "Under TotalBet * 10", "TotalBet 10~20", "TotalBet 20~50", "Up TotalBet 50", "FreeGame", "FreeGameFeature", "FreeGameWin", "FreeGameRetrigger", "FreeGameUp", "FeatureWild"], t.m_FireSpinList = ["NO Cheat", "L_FEATURE ", "R_FEAUTRE", "LR_FEATURE ", "SC_1 ", "SC_13", "SC_135_NO_GIRL ", "SC_135_GIRL", "ODDS_01_99", "ODDS_100_199", "ODDS_200_499", "ODDS_500_UP ", "LINE_SC_FEATURE", "LINE_SCATTER", "SC_FEATURE ", "MAYBE_WIN", "NOWIN"], t.m_RainbowLuckList = ["NO Cheat", "NO_WIN", "WIN_X10", "WIN_X20", "WIN_X30", "RAINBOW_X1", "RAINBOW_X2", "RAINBOW_X3", "SCATTER", "SCATTER_2", "SMALL"], t.m_Fire7List = ["NO WIN", "10 \u500d\u4ee5\u4e0b", "10~20 \u500d", "20~30 \u500d", "50 UP \u500d", "FreeGame ", "Free + MoreFree", "JP", "Hit JP + Free", "JP + Line + Free + Scatter + MoreFree"], t.m_GoldenRoosterList = ["NO WIN", "Normal_Win", "Normal_Win_2", "Normal_Win_3", "Big_Win", "Mega_Win", "Mega_Win_2", "Super_Win", "Super_Win_2", "3 SCATTER-FreeGame", "4 SCATTER-FreeGame", "5 SCATTER-FreeGame", "wild award", "(WILD+SCATTER) -FreeGame", "(WILD+SCATTER)-FreeGame(Retriger)"], t.m_HotShotList = ["NO WIN", "1 \u500d\u4ee5\u4e0b\u7dda\u734e", "10 \u500d\u4ee5\u4e0b\u7dda\u734e", "10~20 \u500d\u7dda\u734e", "20~50 \u500d\u7dda\u734e", "50 UP \u500d\u7dda\u734e", "1 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE ", "2 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "3 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "4 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "5 FEATURE\u642d\u914d\u4efb\u610f\u5169\u8f2aFEATURE\u6c92JP", "5 FEATURE\u642d\u914d\u5169\u8f2a\u4ee5\u4e0aFEATURE\u6709JP"], t.m_HighWayKingList = ["NO WIN", "TotalBet 10 under", "TotalBet 10~20", "TotalBet 20~30", "TotalBet 50 up", "FreeGame", "Free+MoreFree", "Hit Jp", "JP+Line+Free+MoreFree", "ANY WILD", "Free + JP", "Normal"], t.m_LittleRubberDuckyList = ["\u6b63\u5e38\u51fa\u734e", "NO WIN", "Total Bet 1\u500d\u4ee5\u4e0b", "Total Bet 10\u500d\u4ee5\u4e0b", "Total Bet 10~20\u500d\u734e", "Total Bet 20~50\u500d\u734e", "Total Bet 50UP\u500d\u734e", "FreeGame", "Free + MoreFree", "JP", "\u6b63\u5e38\u51fa\u734e"], t.m_LuckyDuckList = ["normal", "no win", "under totalBet *1", "under totalBet *10", "totalBet 10~20", "totalBet 20~50", "up totalBet 50", "MainGameRespin", "MainGameRespinGetFreeGame", "freeGame", "freeGame+lineWin", "freeGame with re-trigger", "freeGameRespin", "free with Respin Get Free", "free last spin Respin No Free", "CHEAT_WILD_X3", "CHEAT_WILD_X4", "CHEAT_WILD_X5", "CHEAT_FREEGAME_X5", "CHEAT_RESPIN_WIN", "RESPIN_LineWin&FG", "ReTrigger*5"], t.m_OceanPartyList = ["NO WIN", "Total Bet 10", "Total Bet 10~20 ", "Total Bet 20~30", "Total Bet 50 UP", "FreeGame", "Free + MoreFree", "Hit JP", "JP+Line+Free+Scatter+MoreFree", "\u6b63\u5e38\u51fa\u734e(\u9810\u8a2d)"], t.m_RobinHoodList = ["normal", "NO WIN", "WIN SMALL", "WIN X10~X20", "WIN X20~X50", "WIN X50~X100", "\u9ec3\u91d1\u7bad", "FREE GAME", "FREE GAME-LINE WIN", "\u6389\u843d + LINE WIN", "\u6389\u843d + \u9ec3\u91d1\u7bad", "\u6389\u843d + FREE GAME", "\u780d\u724c\u7528", "ENDING_LineWin", "FREE_WILD_LV3"], t.m_FaFaFaList = ["NoWin", "YouWin_1", "YouWin_2", "BigWin", "FreeSpins_1x10", "FreeSpins_2x10", "FreeSpinsx20", "FreeSpinsx50", "Featurex2", "Featurex3", "Featurex4", "AllSame_WildGold_1", "AllSame_WildGold_2", "AllSame_Cai_1", "AllSame_Cai_2", "AllSame_Fu_1", "AllSame_Fu_2", "AllSame_Boy_1", "AllSame_Boy_2", "AllSame_Girl_1", "AllSame_Girl_2", "AllSame_Drum_1", "AllSame_Drum_2", "AllSame_Jade_1", "AllSame_Jade_2", "AllSame_Firecracker_1", "AllSame_Firecracker_2", "AllSame_Coins_1", "AllSame_Coins_2", "Caix5", "Fux5", "Boyx5", "Girlx5", "Drumx5", "Jadex5", "Firecrackerx5", "Coinsx5", "Fux3", "Jadex4", "Drumx4_Caix3", "??", "Free * Free"], t.m_MexBingoList = ["NO Cheat", "NO Win", "Kill Win", "Small Win", "Win X10_X20", "Win X20_X50", "Win X50_X100", "Bonus Game", "2 Bonus Game", "Extra Game", "Extra Game Win", "Extra Game No Win", "Extra Game No Bonus"], t.m_AtlantisModernList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FEATURE_GAME", "FEATURE_GAME_Get_BonusWin", "Green_Scatter_5", "Green_Scatter_6"], t.CaptainJackList = ["NO Cheat", "NO_WIN", "BIG_WIN_1", "BIG_WIN_2", "BONUS_1", "BONUS_2", "BONUS_3", "FREEGAME_05", "FREEGAME_10", "FREEGAME_15", "FREEGAME_20"], t.m_AtlantisAncientList = ["NoWin", "Under TotalBet * 1", "Under TotalBet * 10", "TotalBet 10~20", "TotalBet 20~50", "Up TotalBet 50", "FreeGame", "NoWin + OneFGSymbol", "MainGameWild+LineWin"], t.m_HappyHour = ["ASSIGN_BONUS", "ASSIGN_JP1", "ASSIGN_JP2", "ASSIGN_JP3", "ASSIGN_FEATURE1", "ASSIGN_FEATURE2", "ASSIGN_SUPER", "ASSIGN_SYM01", "ASSIGN_SYM02", "ASSIGN_SYM03", "ASSIGN_SYM04", "ASSIGN_SYM05", "ASSIGN_SYM06", "ASSIGN_SYM07", "ASSIGN_SYM08", "LINEWIN_JP", "LINEWIN_FEA1", "LINEWIN_FEA2", "LINEWIN_JP_FEA1", "LINEWIN_JP_FEA2", "LINEWIN_FEA_1_2", "LINEWIN_JP_FEA_1_2"], t.m_EgyptianGold = ["normal", "no win", "LineWin", "LineWin * 2", "YouWin", "BigWin", "MegaWin", "freeGame", "freeGame + LineWin", "freeGame Trigger", "freeGame Symbol Show"], t.m_SuperKeno = ["Hit 0", "Hit 1", "Hit 2", "Hit 3", "Hit 4", "Hit 5", "Hit 6", "Hit 7", "Hit 8", "Hit 9", "Hit 10", "Random", "Force Lucky Ball"], t.m_JPKeno = ["Hit 0", "Hit 1", "Hit 2", "Hit 3", "Hit 4", "Hit 5", "Hit 6", "Hit 7", "Hit 8", "Hit 9", "Hit 10", "Random", "Force Lucky Ball"], t.m_SalsaBingoList = ["Random", "no win", "Win1x-", "Win Type1", "Win Type2", "Win Type3", "Win Type4", "Win Type5", "Win Type6", "Win Type7", "Win Type8", "Win Type9", "Win Type10", "Win Type11", "Win Type12", "Win TypeB", "Win TypeO", "Win TypeN", "Win TypeU", "Win TypeS", "ExtraGame", "ExtraGame Win", "ExtraGame NoWin", "ExtraGame TypeB", "ExtraGame TypeO", "ExtraGame TypeN", "ExtraGame TypeU", "ExtraGame TypeS", "WinType TwoWord"], t.m_SmallMarioList = ["Cheat Non", "\u5927 BAR", "\u5927 7", "\u5927 \u661f\u661f", "\u5927 \u897f\u74dc", "\u5927 \u9234\u943a", "\u5927 \u6ab8\u6aac", "\u5927 \u6a58\u5b50", "\u5927 \u860b\u679c", "\u5c0f BAR", "\u5c0f 7", "\u5c0f \u661f\u661f", "\u5c0f \u897f\u74dc", "\u5c0f \u9234\u943a", "\u5c0f \u6ab8\u6aac", "\u5c0f \u6a58\u5b50", "\u5c0f \u860b\u679c", "\u89f8\u767c\u96a8\u6a5f\u9001\u71c8", "XXX", "XXX", "XXX", "XXX", "\u5927\u706b\u8eca", "XXX", "\u5927\u98db\u789f", "XXX", "\u947d\u77f3JP", "XXX", "XXX", "DoubleGame \u8d0f", "DoubleGame \u8f38"], t.m_BuffaloList = ["Random", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Respin/FreeGame", "FullReSpin", "DoubleReSpin", "FreeGameNoCow", "PreWin"], t.m_SuperAgentList = ["NO", "NO_WIN", "BONUS1", "BONUS2", "JP1_3", "JP1_4", "JP1_5", "JP2_3", "JP2_4", "JP2_5", "JP3_3", "JP3_4", "JP3_5", "FREE", "SUPER", "PASS", "KNIFE", "TELESCOPE", "PHONE", "GUN", "CAR", "SUITCASE"], t.m_ChickenDinnerList = ["No Cheat", "No Win", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Bonus Game", "Free Game", "Free Game Retrigger", "Free To Bonus", "Bonus To LV3", "Jackpot Diamond", "Jackpot Sapphire", "Jackpot Emerald", "No Cheat"], t.m_FortuneLanternList = ["no CheatKey", "NO WIN", "Win", "WIN_SMALL", "Win10-20x", "Win20-50x", "Win50-100x", "CHEAT_Wild", "FireWild", "FreeGame", "FreeGame_WIN", "FreeGame_FIRE", "FREEGAME_Wild", "FREEGAME_FIRE_SC", "FREEGAME_WILD_FIRE", "FREEGAME_WILD_LINE", "CHEATKEY_MAX"], t.m_PyramidAdvList = ["No Cheat", "No Win", "Win", "Win Small", "Win10-20x", "Win20-50x", "Win50x+", "All Open", "Jackpot 1", "Jackpot 2", "Jackpot 3", "Free Game"], t.m_CoalManList = ["DISABLE", "NO WIN", "TOTAL BET *1", "TOTAL BET *10", "TOTAL BET *10 ~ 20", "TOTAL BET *20 ~ 50", "TOTAL BET *50 ~", "FEATURE \u724c\u9762\u8b8a WILD", "FEATURE \u5927\u734e\u5ba3\u544a", "BONUS GAME", "BG_\u5fc5\u5b9a\u6536\u96c6\u5230\u85cd\u5bf6\u77f3", "POWER LINK", "PL_20\u9846\u4ee5\u4e0a", "PL_\u5168\u6eff", "PL_JP Diamond", "PL_JP Ruby", "PL_JP Gold", "PL_JP Slver", "PL_JP Diamondx2", "PL_JP Rubyx2", "PL_JP Goldx2", "PL_JP Slverx2", "PL_\u5bb9\u6613\u51fa\u73feJP"], t.m_WitchList = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "\u8b8a\u724cScatter", "\u8b8a\u724c Power\u65b0\u706b\u7403", "\u8b8a\u724cPower \u5206\u6578\u8b8a\u5927", "\u8b8a\u724cPower \u65b0\u706b\u7403+\u5206\u6578\u8b8a\u5927", "Feature \u5927\u734e\u5ba3\u544a", "FreeGame", "PowerLink", "PowerLink 20up\uff0c\u958b\u6700\u5f8c\u4e00\u968e", "PowerLink \u8490\u96c6\u5168\u6eff", "PowerLink jp0", "PowerLink jp1", "PowerLink jp2", "PowerLink jp3", "PowerLink jp0 x2", "PowerLink jp1 x2", "PowerLink jp2 x2", "PowerLink jp3 x2", "PL_\u5bb9\u6613\u51fa\u73feJP"], t.m_Flaming777List = ["DISABLE", "NO_WIN", "KILL_WIN", "WIN_SMALL", "WIN_X10_X20", "WIN_X20_X50", "WIN_X50_X100", "\u706b\u7130 7 x 3", "\u4e00\u822c 7 x 3", "3 BAR x 3", "2 BAR x 3", "1 BAR x 3", "BLANK x 3", "\u4efb\u610f7 x 3", "\u4efb\u610fBAR x 3"], t.m_Flaming777DeluxeList = ["DISABLE", "NO_WIN", "KILL_WIN", "WIN_SMALL", "WIN_X10_X20", "WIN_X20_X50", "WIN_X50_X100", "\u706b\u7130 7 x 3", "\u4e00\u822c 7 x 3", "3 BAR x 3", "2 BAR x 3", "1 BAR x 3", "BLANK x 3", "\u4efb\u610f7 x 3", "\u4efb\u610fBAR x 3"], t.m_crazyWheelList = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Bonus:Random", "Bonus:w5_Score", "Bonus:w5_Multiple", "Bonus:w5_JP", "Bonus:Exit", "Bonus:w3->w5", "Bonus:w4->w5"], t.m_KingSafari = ["No Cheat", "NoWin", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "BonusGame", "BonusGame+LineWin", "FreeGame", "FreeGameFeatureWild", "BonusGameWinNormal"], t.m_HighWayGold = ["No Cheat", "NoWin", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "MultiOdds", "ExtendWild", "AllReelFeatureWild", "AllInOne"], t.m_DragonGate = ["No Cheat", "NoWin", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x-100x", "Feature", "Feature(Dragon)", "preWin", "FreeGame", "FreeGame + LineWin", "FreeGame(Dragon)", "FreeGame_Retriger", "FreeGame_JP1", "FreeGame_JP2", "FreeGame_JP3", "FreeGame_JP4", "FreeGame_JP5", "FreeGame_JP_LvUp", "FreeGame_JP_LvMax", "FreeGame_Nowin"], t.m_FireLinkFaFaFaList = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "\u8b8a\u724cScatter", "\u8b8a\u724c Power\u65b0\u706b\u7403", "\u8b8a\u724cPower \u5206\u6578\u8b8a\u5927", "\u8b8a\u724cPower \u65b0\u706b\u7403+\u5206\u6578\u8b8a\u5927", "Feature \u5927\u734e\u5ba3\u544a", "FreeGame", "PowerLink", "PowerLink 20up\uff0c\u958b\u6700\u5f8c\u4e00\u968e", "PowerLink \u8490\u96c6\u5168\u6eff", "PowerLink jp0", "PowerLink jp1", "PowerLink jp2", "PowerLink jp3", "PowerLink jp0 x2", "PowerLink jp1 x2", "PowerLink jp2 x2", "PowerLink jp3 x2", "PL_\u5bb9\u6613\u51fa\u73feJP"], t.m_ScarabBuffalo = ["Normal", "NoWin", "Kill_Win", "Win_x10_x30", "Win_x30_x50", "Win_x50_x100", "Feature_None", "Feature_Less", "Feature_Alot", "FG_Scatter_x3", "FG_Scatter_x4", "FG_Scatter_x5", "FG_Retrigger_one", "FG_Retrigger_Max", "Prewin"], t.m_Maya = ["Normal", "NoWin", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Feature", "Feature_AnyJP", "Feature_FullJP", "FG", "FG+Feature", "FG+Feature_AnyJP", "FG+Feature_FullJP", "FG_Retrigger", "FG_Feature+Retrigger\u540c\u6642"], t.m_LuckyIrish = ["Random", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "\u8b8a\u724c\u9032\u5165MagicLink ", "MagicLink", "MagicLink_JP", "MagicLink_\u5168\u76e4", "FreeGmae", "FreeGame_MagicLink", "FreeGame_MagicLink_JP", "FreeGame_MagicLink_\u5168\u76e4", "FG_Retrigger+MagicLink", "Max"], t.m_FuLuShouXiEX = ["Random", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "BG_LISTEN", "BG", "BG_NOFEATURE", "BG_FEATURE", "BG_PLUSSPIN", "BG_GREENPLUSSPIN", "BG_JP", "BG_JP_FEATURE", "BG_LINEWIN", "BG_LINEWIN_FEATURE", "BG_LINEWIN_JP", "BG_LINEWIN_JP_FEATURE", "BG_FIRSTHAND_PLUSSPIN", "BG_JP_GREENPLUSSPIN", "Max"], e = n([r], t)
            }());
        o.CheatKeyData = s, cc._RF.pop()
    }, {}],
    CheatKeyManager: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bf6bc1MLZBKHZBD7UQpMjFo", "CheatKeyManager");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CheatKeyManager = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_UIRoot = null, e.m_contentRoot = null, e.m_cheatMenu = null, e.m_cheatBtn = null, e.DelCheatKeyClick = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.DelCheatKeyClick = new SS.Common.Delegate, 1 == SS.Common.GameEnvironment.ProjectSetting.IsUseCheatKey && cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.ToggleCheatkeyData, this)
                }, e.prototype.SetCheatKey = function(t) {
                    if (t) {
                        this.m_UIRoot.active = !0, this.m_contentRoot.removeAllChildren();
                        for (var e = t.length, o = 0; o < e; o++) {
                            var n = cc.instantiate(this.m_cheatBtn),
                                i = new cc.Component.EventHandler,
                                r = n.getComponentInChildren(cc.Label);
                            n.setParent(this.m_contentRoot), r.string = t[o], i.target = this.node, i.component = "CheatKeyManager", i.handler = "OnClickCheatBtn", i.customEventData = o.toString(), n.getComponent(cc.Button).clickEvents.push(i)
                        }
                    }
                }, e.prototype.OnClickRedPoint = function() {
                    console.log("[CheatKeyManager.OnClickRedPoint] click"), this.m_cheatMenu.active = !this.m_cheatMenu.activeInHierarchy
                }, e.prototype.OnClickCheatBtn = function(t, e) {
                    console.log("[CheatKeyManager.OnClickCheatBtn] ", t, e), this.m_cheatMenu.active = !1, this.DelCheatKeyClick.Notify(e)
                }, e.prototype.ToggleCheatkeyData = function(t) {
                    t.keyCode == cc.macro.KEY.f1 && (cc.debug.setDisplayStats(!this.m_UIRoot.active), this.m_UIRoot.active = !this.m_UIRoot.active)
                }, r([c(cc.Node)], e.prototype, "m_UIRoot", void 0), r([c(cc.Node)], e.prototype, "m_contentRoot", void 0), r([c(cc.Node)], e.prototype, "m_cheatMenu", void 0), r([c(cc.Prefab)], e.prototype, "m_cheatBtn", void 0), r([a], e)
            }(cc.Component);
        o.CheatKeyManager = l, cc._RF.pop()
    }, {}],
    ClickLogDef: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b7a523TXMtC2aK+OvMfoZjW", "ClickLogDef"), Object.defineProperty(o, "__esModule", {
                value: !0
            }), o.ItemMissionClickLogID = void 0,
            function(t) {
                t[t.MINI_LAYOUT = 1] = "MINI_LAYOUT", t[t.MAX_LAYOUT = 2] = "MAX_LAYOUT", t[t.NEXT_PAGE = 3] = "NEXT_PAGE", t[t.PRE_PAGE = 4] = "PRE_PAGE", t[t.SWITCH_LAYOUT_HORIZONTAL = 5] = "SWITCH_LAYOUT_HORIZONTAL", t[t.SWITCH_LAYOUT_STRAIGHT = 6] = "SWITCH_LAYOUT_STRAIGHT", t[t.SHOW_INFO = 7] = "SHOW_INFO"
            }(o.ItemMissionClickLogID || (o.ItemMissionClickLogID = {})), cc._RF.pop()
    }, {}],
    ClickLog: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c7273anYCFMtJrp2bMt/BnG", "ClickLog");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ClickLog = void 0;
        var r = t("./LobbyClient"),
            s = function() {
                function t() {}
                return t.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, t.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, t.recordClickLog = function(t, e, o, n) {
                    this.intervalSendLog(), this.m_logMap.has(t) || this.m_logMap.set(t, []);
                    for (var i = this.m_logMap.get(t), r = SS.Common.GameEnvironment.CurrentGameNow, s = !0, a = 0; a < i.length; a++) {
                        var c = i[a];
                        if (c.GameID == r && c.SceneID == e && c.Type == o && c.SubType == n) {
                            s = !1, c.Count += 1;
                            break
                        }
                    }
                    if (s) {
                        var l = {
                            KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                            PinID: SS.Network.LoginModel.LoginInfo.pin_id,
                            GameID: r,
                            SceneID: e,
                            Type: o,
                            SubType: n,
                            Count: 1,
                            Name: t
                        };
                        i.push(l)
                    }
                    cc.error("ClickLog.recordClickLog  before set cookie"), cc.error(i), this.setCookie(t, JSON.stringify(i))
                }, t.intervalSendLog = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function() {
                            return null == this.m_intervalSendLog && (this.m_intervalSendLog = setInterval(function() {
                                return t.m_logMap.forEach(t.checkByKey)
                            }, 3e5)), [2]
                        })
                    })
                }, t.checkByKey = function(t, e) {
                    this.checkSettingThenSendLog(e)
                }, t.readCookieAndSendLog = function(t) {
                    var e;
                    console.log("ClickLog.readCookieAndSendLog");
                    var o = this.getCookie(t);
                    if (console.log(o), null != o && "" != o) {
                        e = [];
                        var n = JSON.parse(o);
                        for (var i in n) e.push(n[i]);
                        console.log(e), this.m_logMap.set(t, e), this.checkSettingThenSendLog(t)
                    }
                }, t.checkSettingThenSendLog = function(e) {
                    console.log("ClickLog.checkSettingThenSendLog");
                    var o = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                    o = window.location.protocol + "//" + o, console.log(o);
                    var n = new ArkSDK.ArkClient(o);
                    n.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient), n.send_cmd("log", "GetSetting", null, t.sendLog.bind(t, e), null)
                }, t.sendLog = function(t, e, o) {
                    if (console.log("ClickLog.sendLog (" + t), console.log(e), console.log(o), e == ArkSDK.HttpResult.OK && o && o.cmd_data && 1 == o.cmd_data.enable && (null == o.cmd_data.setting_list[t] || 1 == o.cmd_data.setting_list[t])) {
                        this.setCookie(t, "");
                        var n = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                        n = window.location.protocol + "//" + n, console.log(n);
                        var i = new ArkSDK.ArkClient(n);
                        i.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient);
                        var s = {};
                        s.ClickList = this.m_logMap.get(t), console.warn("sendClickLog"), console.warn(s), i.send_cmd("log", "SendClientClickLog", s, null, null), this.m_logMap.set(t, [])
                    }
                }, t.directlySendLog = function(t) {
                    console.log("ClickLog.directlysendLog"), console.log(t);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                    e = window.location.protocol + "//" + e, console.log(e);
                    var o = new ArkSDK.ArkClient(e);
                    o.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient);
                    var n = {
                        ClickList: []
                    };
                    n.ClickList[0] = t, console.warn("directlysendLog"), console.warn(n), o.send_cmd("log", "SendClientClickLog", n, null, null)
                }, t.playerChooseSGLog = function(t, e, o, n, i) {
                    console.log("ClickLog.playerChooseSGLog");
                    var r = {
                        KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                        PinID: SS.Network.LoginModel.LoginInfo.pin_id,
                        GameID: SS.Common.GameEnvironment.CurrentGameNow,
                        SceneID: e,
                        Type: o,
                        SubType: n,
                        Count: i,
                        Name: t
                    };
                    this.directlySendLog(r)
                }, t.m_logMap = new Map, t.m_intervalSendLog = null, t.m_bInit = !0, t
            }();
        o.ClickLog = s, cc._RF.pop()
    }, {
        "./LobbyClient": "LobbyClient"
    }],
    ColorAssembler2D: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fa06bsabodAuo8vENzgk1Bx", "ColorAssembler2D");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = s.executeInEditMode,
            u = s.requireComponent,
            m = s.menu,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._colors = [], e
                }
                return i(e, t), Object.defineProperty(e.prototype, "colors", {
                    get: function() {
                        return this._colors
                    },
                    set: function(t) {
                        this._colors = t, this._updateColors()
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onEnable = function() {
                    cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this)
                }, e.prototype.onDisable = function() {
                    cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this), this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR
                }, e.prototype._updateColors = function() {
                    var t = this.getComponent(cc.RenderComponent);
                    if (t) {
                        var e = t._assembler;
                        if (e instanceof cc.Assembler2D) {
                            var o = e._renderData.uintVDatas[0];
                            if (o)
                                for (var n = this.node.color, i = e.floatsPerVert, r = 0, s = e.colorOffset, a = o.length; s < a; s += i) o[s] = (this.colors[r++] || n)._val
                        }
                    }
                }, r([c], e.prototype, "_colors", void 0), r([c({
                    type: [cc.Color]
                })], e.prototype, "colors", null), r([a, l, u(cc.RenderComponent), m("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")], e)
            }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {}],
    CommBonusBtnCtrl_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "841b8n2S9NLrLNMVyrnv0Zk", "CommBonusBtnCtrl_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusBtnCtrl_Rank = void 0;
        var s = t("../../../../Component/NodeDrag"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeGreenTag = null, e.m_labGreenTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setNumDot(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setNumDot = function(t, e) {
                    void 0 === t && (t = 0), void 0 === e && (e = 0);
                    var o = 0 != t && e + t < 9;
                    this.m_nodeRedTag.active = o, this.m_labRedTag.node.active = o;
                    var n = e + t >= 9;
                    this.m_nodeGreenTag.active = n, this.m_labGreenTag.node.active = n, o && (this.m_labRedTag.string = t.toString()), n && (this.m_labGreenTag.string = (e + t).toString(), this.m_nodeGreenTag.width = 50 + 18 * this.m_labGreenTag.string.length)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setLocked = function(t) {
                    this.m_nodeDragFloatBtn.setLocked(t)
                }, e.prototype.move = function(t, e) {
                    this.m_nodeDragFloatBtn.move(t, e)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeGreenTag", void 0), r([l(cc.Label)], e.prototype, "m_labGreenTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(s.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusBtnCtrl_Rank = u, cc._RF.pop()
    }, {
        "../../../../Component/NodeDrag": "NodeDrag"
    }],
    CommBonusBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "34d93H3qAVDOK0qHRJBwbK2", "CommBonusBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusBtnCtrl = void 0;
        var s = t("../../../Component/NodeDrag"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setRedTag(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setLocked = function(t) {
                    this.m_nodeDragFloatBtn.setLocked(t)
                }, e.prototype.move = function(t, e) {
                    this.m_nodeDragFloatBtn.move(t, e)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(s.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusBtnCtrl = u, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag"
    }],
    CommBonusCoinCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "40a28IIGKJEpp9aFPiF9YR+", "CommBonusCoinCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusCoinCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.goldCoin = null, e.coinCount = 0, e.m_nodeTaret = null, e
                }
                return i(e, t), e.prototype.coinMoveToTarget = function(t, e, o) {
                    var n = this;
                    if (void 0 === o && (o = this.node), null != this.m_nodeTaret) {
                        this.m_iFinishedCoid = 0;
                        for (var i = 0; i < this.coinCount; i++) {
                            var r = cc.instantiate(this.goldCoin);
                            r.parent = o.parent, r.setPosition(o.getPosition());
                            var s = cc.hide(),
                                a = cc.delayTime(.25 * i),
                                c = cc.show(),
                                l = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 100)),
                                u = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 0)),
                                m = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 100)),
                                p = cc.moveTo(t, new cc.Vec2(this.m_nodeTaret.getPosition().x, this.m_nodeTaret.getPosition().y)),
                                h = cc.removeSelf(),
                                d = cc.callFunc(function() {
                                    n.m_iFinishedCoid++, n.m_iFinishedCoid >= n.coinCount && e && e()
                                }),
                                _ = cc.sequence(s, a, c, l, u, m, p, h, d);
                            r.runAction(_)
                        }
                    }
                }, r([c(cc.Prefab)], e.prototype, "goldCoin", void 0), r([c(cc.Integer)], e.prototype, "coinCount", void 0), r([c(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([a], e)
            }(cc.Component);
        o.CommBonusCoinCtrl = l, cc._RF.pop()
    }, {}],
    CommBonusData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "eda81oCZPtGHbNrXfcU5kYl", "CommBonusData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.OceanHeartClickLogID = o.RankClickLogID = o.QustObjectiveType = o.UserQuestDataStatus = o.RankingPlayerData = o.RankAwardData = o.BonusData = o.Award = o.CommBonusData = void 0;
        o.CommBonusData = function() {
            this.CustomInfoMsg = "", this.AwardAry = [], this.Status = -1, this.bonusData = null, this.m_arrRankAwardData = [], this.RankSize = 0, this.CanShow = !1, this.QuestType = n.NONE, this.needRebuff = !1, this.newProgress = 0, this.m_fProgressRate = 0
        };
        o.Award = function() {};
        o.BonusData = function() {};
        o.RankAwardData = function() {};
        var n;
        o.RankingPlayerData = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.UserQuestDataStatus || (o.UserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(n = o.QustObjectiveType || (o.QustObjectiveType = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.MAIN_X_BTN = 1] = "MAIN_X_BTN", t[t.INFO_BTN = 2] = "INFO_BTN", t[t.INFO_X_BTN = 3] = "INFO_X_BTN", t[t.RANKING_ID_X_BTN = 4] = "RANKING_ID_X_BTN", t[t.SWITCH_TO_GAME_PAGE = 5] = "SWITCH_TO_GAME_PAGE", t[t.SWITCH_TO_RANK_PAGE = 6] = "SWITCH_TO_RANK_PAGE", t[t.TOP_PROGRESS = 7] = "TOP_PROGRESS", t[t.AWARD_OK_BTN = 8] = "AWARD_OK_BTN", t[t.AWARD_X_BTN = 9] = "AWARD_X_BTN", t[t.AWARD_RANK_BTN = 10] = "AWARD_RANK_BTN", t[t.AWARD_RANK_X_BTN = 11] = "AWARD_RANK_X_BTN"
            }(o.RankClickLogID || (o.RankClickLogID = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.MAIN_X_BTN = 1] = "MAIN_X_BTN", t[t.INFO_BTN_OPEN_MAIN = 2] = "INFO_BTN_OPEN_MAIN", t[t.INFO_BTN_X_MAIN = 3] = "INFO_BTN_X_MAIN", t[t.RANKING_ID_X_BTN = 4] = "RANKING_ID_X_BTN", t[t.SWITCH_TO_GAME_PAGE = 5] = "SWITCH_TO_GAME_PAGE", t[t.SWITCH_TO_RANK_PAGE = 6] = "SWITCH_TO_RANK_PAGE", t[t.TOP_PROGRESS = 7] = "TOP_PROGRESS", t[t.AWARD_COLLECT_BTN = 8] = "AWARD_COLLECT_BTN", t[t.AWARD_X_BTN = 9] = "AWARD_X_BTN", t[t.AWARD_RANK_BTN = 10] = "AWARD_RANK_BTN", t[t.AWARD_RANK_X_BTN = 11] = "AWARD_RANK_X_BTN", t[t.INFO_BTN_OPEN_RANK = 12] = "INFO_BTN_OPEN_RANK", t[t.INFO_BTN_X_RANK = 13] = "INFO_BTN_X_RANK"
            }(o.OceanHeartClickLogID || (o.OceanHeartClickLogID = {})), cc._RF.pop()
    }, {}],
    CommBonusInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e44b2IMVZNEhLQheF0Z1ocV", "CommBonusInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusInfoCtrl = void 0;
        var s = t("../../MissionMgr/Script/MissionMsgCtrl"),
            a = t("./CommBonusMsgCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strThemeID = "", e.isFinishClaim = !1, e.m_nodeRoot = null, e.m_sprGameIcon = null, e.m_labGameName = null, e.m_sprProgressBar = null, e.m_labProgress = null, e.m_nodeToken = null, e.m_nodeRedDot = null, e.m_labRedDot = null, e.m_btnPlay = null, e.m_missionMsgCtrl = null, e.m_CommBonusMsgCtrl = null, e.m_numProgressFullWidth = 388, e.m_numProgressSpeed = .02, e.m_bIsProgressUp = !1, e.m_iRedDotNum = 0, e.errorCode = "", e
                }
                return i(e, t), e.prototype.update = function() {}, e.prototype.setGame = function(t, e, o, n) {
                    this.m_nodeMissionMgr = t, this.m_strThemeID = e, this.m_sGameName = o, this.m_sThemeTitle = n
                }, e.prototype.SetMissionToProcessingStatus = function(t, e) {
                    void 0 === t && (t = ""), void 0 === e && (e = "CommBonusMgr"), this.isFinishClaim = !1, this.m_sprProgressBar.node.active = !0, this.m_labProgress.node.active = !0, this.m_nodeToken.active = !0, this.m_CommBonusMsgCtrl.setMsg(t), this.m_labGameName.string = this.m_sThemeTitle, this.m_btnPlay.clickEvents[0] = new cc.Component.EventHandler, this.m_btnPlay.clickEvents[0].target = this.m_nodeMissionMgr, this.m_btnPlay.clickEvents[0].component = e, this.m_btnPlay.clickEvents[0].handler = "OpenSelectOptionPage", this.m_btnPlay.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.setInteract = function(t) {
                    this.m_btnPlay.interactable = t
                }, e.prototype.SetProcessBar = function(t, e) {
                    t >= e && (t = e);
                    var o = t / e;
                    this.setProgress(o)
                }, e.prototype.setProgress = function(t) {
                    t = t > 1 ? 1 : t < 0 ? 0 : t, console.warn("this.m_numProgressFullWidth* num : " + this.m_numProgressFullWidth * t), this.m_sprProgressBar.fillRange = t, this.m_labProgress.string = SS.Common.BaseFunction.addCommas(100 * t, 2, !1) + "%"
                }, e.prototype.setProgressRebuff = function(t) {
                    this.m_numProgressUpTo = t, this.m_numProgressCtr = 0, this.m_bIsProgressUp = !0
                }, e.prototype.setRedDot = function(t) {
                    this.m_iRedDotNum = t;
                    var e = t > 0;
                    this.m_nodeRedDot.active = e, this.m_labRedDot.enabled = e, this.m_labRedDot.string = t.toString()
                }, e.prototype.decrRedDot = function() {
                    this.m_iRedDotNum--, this.setRedDot(this.m_iRedDotNum)
                }, r([u(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([u(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([u(cc.Label)], e.prototype, "m_labGameName", void 0), r([u(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([u(cc.Label)], e.prototype, "m_labProgress", void 0), r([u(cc.Node)], e.prototype, "m_nodeToken", void 0), r([u(cc.Node)], e.prototype, "m_nodeRedDot", void 0), r([u(cc.Label)], e.prototype, "m_labRedDot", void 0), r([u(cc.Button)], e.prototype, "m_btnPlay", void 0), r([u(s.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([u(a.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([l], e)
            }(cc.Component);
        o.CommBonusInfoCtrl = m, cc._RF.pop()
    }, {
        "../../MissionMgr/Script/MissionMsgCtrl": "MissionMsgCtrl",
        "./CommBonusMsgCtrl": "CommBonusMsgCtrl"
    }],
    CommBonusListCtrl_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f936ceXeV9Hwb2t6QAV+Ytz", "CommBonusListCtrl_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusListCtrl_Rank = void 0;
        var s = t("./CommBonusMgr_Rank"),
            a = t("../CommBonusInfoCtrl"),
            c = t("../CommBonusData"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_sprAtlasGameIcon = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e.m_sSpinAmountGateStr = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.setLang(), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_fucSprDLEndSetIdle = this.m_Mgr.setStatusIdle.bind(this.m_Mgr), this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                s = this.m_nodePoolMissions.get();
                            null == s && (s = cc.instantiate(this.m_prefabMisionInfo)), s.parent = this.m_nodeContent;
                            var l = s.getComponent(a.CommBonusInfoCtrl);
                            this.m_aryInfoCtrlList.push(l);
                            var u = 0,
                                m = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = c.QustObjectiveType.SPIN_TIME, u = r.SpinTimesGate, m = r.SpinTimes, r.CustomInfoMsg = "Complete " + u + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = c.QustObjectiveType.SPIN_AMOUNT, u = r.SpinAmountGate, m = r.SpinAmount, r.CustomInfoMsg = this.m_sSpinAmountGateStr.replace("{0}", r.SpinAmountGate.toString());
                            else if (r.WinAmountGate > 0) r.QuestType = c.QustObjectiveType.WIN_AMOUNT, u = r.WinAmountGate, m = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + u;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = c.QustObjectiveType.CUSTOM, u = r.CustomGate, m = r.CustomAmount
                            }
                            var p = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(p), this.setSprFrameWithAtlas(p, l.m_sprGameIcon), l.setGame(this.m_Mgr.node, r.ThemeID, p, h), l.SetMissionToProcessingStatus(r.CustomInfoMsg, "CommBonusMgr_Rank"), l.SetProcessBar(m, u), l.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var s = e[r].ThemeID,
                                a = n.indexOf(s),
                                c = this.getGameNameByThemeID(s),
                                u = i.indexOf(c),
                                m = i.indexOf("BIGICON_" + c); - 1 == a && (u > -1 || m > -1) && o.push(e[r])
                        }
                        return o
                    } catch (l) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (l) {}
                    if (e) return e;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].FormalName
                    } catch (o) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (l) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (l) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    e.spriteFrame = this.m_sprAtlasGameIcon.getSpriteFrame(t), e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = s.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sSpinAmountGateStr = "Complete total entries {0}";
                            break;
                        case "es":
                            this.m_sSpinAmountGateStr = "Completa con {0} cr\xe9ditos"
                    }
                }, r([m(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([m(cc.Node)], e.prototype, "m_nodeContent", void 0), r([m(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([m(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([m(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([u()], e)
            }(cc.Component);
        o.CommBonusListCtrl_Rank = p, cc._RF.pop()
    }, {
        "../CommBonusData": "CommBonusData",
        "../CommBonusInfoCtrl": "CommBonusInfoCtrl",
        "./CommBonusMgr_Rank": "CommBonusMgr_Rank"
    }],
    CommBonusListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7fa06bbt7FEb6wLkaQvHI5J", "CommBonusListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusListCtrl = void 0;
        var s = t("./CommBonusMgr"),
            a = t("./CommBonusInfoCtrl"),
            c = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = t("./CommBonusData"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_sprAtlasGameIcon = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_fucSprDLEndSetIdle = this.m_Mgr.setStatusIdle.bind(this.m_Mgr), this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                s = this.m_nodePoolMissions.get();
                            null == s && (s = cc.instantiate(this.m_prefabMisionInfo)), s.parent = this.m_nodeContent;
                            var c = s.getComponent(a.CommBonusInfoCtrl);
                            this.m_aryInfoCtrlList.push(c);
                            var u = 0,
                                m = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = l.QustObjectiveType.SPIN_TIME, u = r.SpinTimesGate, m = r.SpinTimes, r.CustomInfoMsg = "Complete " + u + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = l.QustObjectiveType.SPIN_AMOUNT, u = r.SpinAmountGate, m = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + u;
                            else if (r.WinAmountGate > 0) r.QuestType = l.QustObjectiveType.WIN_AMOUNT, u = r.WinAmountGate, m = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + u;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = l.QustObjectiveType.CUSTOM, u = r.CustomGate, m = r.CustomAmount
                            }
                            var p = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(p), this.setSprFrameWithAtlas(p, c.m_sprGameIcon), c.setGame(this.m_Mgr.node, r.ThemeID, p, h), c.SetMissionToProcessingStatus(r.CustomInfoMsg), c.SetProcessBar(m, u), c.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var s = e[r].ThemeID,
                                a = n.indexOf(s),
                                c = this.getGameNameByThemeID(s),
                                l = i.indexOf(c),
                                m = i.indexOf("BIGICON_" + c); - 1 == a && (l > -1 || m > -1) && o.push(e[r])
                        }
                        return o
                    } catch (u) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (u) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (u) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (u) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    e.spriteFrame = this.m_sprAtlasGameIcon.getSpriteFrame(t), e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = s.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    null != this.m_dictDLPic[n] ? this.setSprFrame(n, e, this.m_dictDLPic[n]) : (e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e))
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.assetManager.loadRemote(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r), cc.loader.release(i)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    this.m_dictDLPic[t] = o, e.spriteFrame = o, e.sizeMode = cc.Sprite.SizeMode.RAW, e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = s.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? (this.errorCode = "C38", c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Error, this.errorCode, null, null, null), this.m_Mgr.m_status = s.MisMgrStatus.IDLE) : this.DLSprFrame(t, e)
                }, r([p(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([p(cc.Node)], e.prototype, "m_nodeContent", void 0), r([p(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([p(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([p(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([m], e)
            }(cc.Component);
        o.CommBonusListCtrl = h, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./CommBonusData": "CommBonusData",
        "./CommBonusInfoCtrl": "CommBonusInfoCtrl",
        "./CommBonusMgr": "CommBonusMgr"
    }],
    CommBonusMgr_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fd3f9e6MNxAQa4ToQFZrakW", "CommBonusMgr_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMgr_Rank = o.MisMgrStatus = void 0;
        var s, a = t("../../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../../../Component/DateTimeCountDown"),
            m = t("../../../../Component/AudioMgr"),
            p = t("./RankAwardPanelCtrl"),
            h = t("./CommBonusBtnCtrl_Rank"),
            d = t("../CommBonusTopProgress"),
            _ = t("./PlayerRankingMgr"),
            g = t("./RankBonusTotalProgress"),
            y = t("../CommBonusTotalProgress"),
            f = t("../CommBonusMoneyMgr"),
            S = t("../CommBonusData"),
            C = t("../CommBonusCoinCtrl"),
            v = t("../../../../EventModule/EventModule"),
            P = t("../../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            b = t("../CommGetTokenShow"),
            w = t("../../../EventBannerData"),
            M = t("./RankingBonusListCtrl"),
            E = t("../../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            T = t("./FinishPageTimer"),
            I = t("../../../EventTipsMask"),
            D = t("./NewPlayerGuideCtrl"),
            L = t("../../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 6] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 7] = "TOKEN_FLY_TOP", t[t.REACH_GATE_POPUP = 8] = "REACH_GATE_POPUP", t[t.RANK_TOKEN_ENLARGE = 9] = "RANK_TOKEN_ENLARGE", t[t.RANK_TOKEN_FLY_TOP = 10] = "RANK_TOKEN_FLY_TOP", t[t.DISABLE = 11] = "DISABLE", t[t.FADE_TO_RANK_PAGE = 12] = "FADE_TO_RANK_PAGE"
        })(s = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var A = cc._decorator,
            O = A.ccclass,
            R = A.property,
            k = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_FinishMission = null, e.m_labFinishMission = null, e.m_FinishPageTimer = null, e.m_nodeMissionListCtrl = null, e.m_MissionListCtrl = null, e.m_PlayerRankingMgr = null, e.m_MissionTopProgress = null, e.m_CommGetTokenShow = null, e.m_CommBonusTotalProgress = null, e.m_RankBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeReci = null, e.finishPageTimeCountDown = null, e.m_RankAwardPanelCtrl = null, e.m_nodeLoginGetAward = null, e.m_nodeLoginGetAwardOKBtn = null, e.m_nodeLoginGetAwardXBtn = null, e.m_labLoginGetAwardMsg = null, e.m_labLoginGetAwardWinning = null, e.m_arrAnimateLoginGetAward = [], e.m_nodeObjList = null, e.m_nodeRankingPage = null, e.m_nodeReadMePage = null, e.m_nodeReadMePage_Rank = null, e.m_nodeRankIDPopup = null, e.m_labRankID = null, e.m_nodeDarkerBG = null, e.m_FakeScoreBoxCtrl = null, e.m_nodeHint = null, e.m_nodeHintRank = null, e.m_nodeBlocker = null, e.m_iBlockerCtr = 0, e.m_RankingBonusListCtrl = null, e.m_nodeRangTag = null, e.m_nodeJPTag = null, e.m_nodeRangTagBtn = null, e.m_nodeJPTagBtn = null, e.m_NewPlayerGuideCtrl = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.m_sLoginBtnHint = "", e.m_sEndsInTime = "", e.m_sSpinAmountGateStr = "", e.m_sLoginGetAwardMsg = "", e.m_sNumber = "", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = s.NONE, e.m_lastStatus = s.NONE, e.m_iLastProgress = 0, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalProgressMax = 0, e.m_iTotalProgressCur = 0, e.m_TotalPrgressStatus = S.UserQuestDataStatus.NONE, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bFirstClickGetAward = !0, e.m_bTotalPrgressGetFull = !1, e.m_bNoobGuideRanking = !0, e.m_bInRankingPage = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bFishEventRun = !1, e.m_bHaveShow = !1, e.m_sLastSeason = "", e.m_iUpdateRetryCtr = 0, e
                }
                return i(e, t), e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case s.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.showRankingPage("en" == SS.Common.GameEnvironment.Language || this.m_iTotalProgressCur >= 9), this.m_RankBonusTotalProgress.node.active = this.m_CommBonusTotalProgress.hasGotAllToken(), this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur));
                            break;
                        case s.FADE_TO_RANK_PAGE:
                            t && (console.warn("MisMgrStatus.FADE_TO_RANK_PAGE"), this.m_bHaveShow ? (this.m_bHaveShow = !1, this.fadeToRankingPage()) : this.m_status = s.IDLE);
                            break;
                        case s.INIT:
                            break;
                        case s.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case s.TOKEN_ENLARGE:
                            t && (console.warn("MisMgrStatus.TOKEN_ENLARGE"), this.m_nodeBlocker.active = !0, c.ConnectPanelMgr.Instance.DisableConnectPanel(0), 0 == this.m_iTotalProgressCur ? this.m_status = s.IDLE : this.m_CommBonusTotalProgress.hasGotAllToken() ? this.m_status = s.RANK_TOKEN_FLY_TOP : this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.showRankingPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress()), this.m_bHaveShow = !0) : this.m_status = s.TOKEN_FLY_TOP);
                            break;
                        case s.TOKEN_FLY_TOP:
                            if (t)
                                if (console.warn("MisMgrStatus.TOKEN_FLY_TOP"), this.m_CommBonusTotalProgress.hasGotAllToken() || 0 == this.getCurGameNewProgress()) this.m_status = s.REACH_GATE_POPUP;
                                else {
                                    this.showRankingPage(!1);
                                    var e = this.m_MissionListCtrl.m_aryInfoCtrlList[0].m_nodeToken;
                                    this.m_CommBonusTotalProgress.showOneByOne(this.m_iTotalProgressCur - this.getCurGameNewProgress(), this.getCurGameNewProgress(), e), this.m_bHaveShow = !0
                                }
                            break;
                        case s.REACH_GATE_POPUP:
                            t && (console.warn("MisMgrStatus.REACH_GATE_POPUP"), this.m_CommBonusTotalProgress.hasGotAllToken() && this.m_iTotalProgressMax > this.m_iTotalProgressCur - this.m_iTotalProgressAddAll ? (this.m_RankBonusTotalProgress.node.active = !0, this.ToggleFinishMissionPage(!0)) : (this.clearAllNewProgress(), this.m_status = "es" == SS.Common.GameEnvironment.Language && this.m_iTotalProgressCur < 9 ? s.IDLE : s.FADE_TO_RANK_PAGE));
                            break;
                        case s.RANK_TOKEN_FLY_TOP:
                            if (t) {
                                console.warn("MisMgrStatus.RANK_TOKEN_FLY_TOP");
                                var o = Math.max(this.m_iTotalProgressMax, this.m_iTotalProgressCur - this.m_iTotalProgressAddAll),
                                    n = Math.min(this.m_iTotalProgressCur - this.m_iTotalProgressMax, this.m_iTotalProgressAddAll);
                                if (n > 0) {
                                    this.showRankingPage(!1), this.m_nodeBlocker.active = !0, this.m_RankBonusTotalProgress.setAllTokenShowEndCB(this.setRankRrogressAndIdle.bind(this, n)), this.m_RankBonusTotalProgress.setProgress(o);
                                    for (var i = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; i >= 0; i--) this.m_MissionListCtrl.m_aryInfoCtrlList[i].m_nodeRedDot.active && (e = this.m_MissionListCtrl.m_aryInfoCtrlList[i].m_nodeToken, this.m_RankBonusTotalProgress.showFlyToken(e), this.m_MissionListCtrl.m_aryInfoCtrlList[i].setRedDot(0));
                                    this.m_bHaveShow = !0
                                } else this.m_status = s.IDLE;
                                this.clearAllNewProgress()
                            }
                            break;
                        case s.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iLastProgress = 0, this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.onLoad = function() {
                    this.m_strEventID = "RankingBonus", this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1
                }, e.prototype.start = function() {
                    if (this.m_MissionListCtrl = this.m_nodeMissionListCtrl.getComponent("CommBonusListCtrl_Rank"), this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_LobbyMgr && this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this)), this.finishPageTimeCountDown && (this.finishPageTimeCountDown.node.active = !1), this.parseMisInfo(a.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, this.m_curMapData.RankSize), self == top && this.isTheFirstToLobby && this.clearAllNewProgress(), this.getAllNewProgress(!0)), this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.m_MissionBtnCtrl.show(!0), this.SetUserBalance = this.lobbySetUserBalance.bind(this), console.warn("\u6392\u884c\u8a3b\u518a");
                        var t = new E.PriorityCustomEvent(1, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion;
                        var e = new w.EventBannerData(this.m_strEventID, 100, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e), this.SetEventActive()
                    } else "es" == SS.Common.GameEnvironment.Language && this.m_MissionBtnCtrl.move(-30, -550);
                    this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrTokenRedDot.bind(this, 0)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.allTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this), this.m_FinishPageTimer.m_cb = this.closeFinishPage.bind(this), this.setLang(), this.initDone()
                }, e.prototype.setBlocker = function(t) {
                    this.m_iBlockerCtr += t ? 1 : -1, this.m_nodeBlocker.active = 0 == this.m_iBlockerCtr
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != s.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("RankingBonus" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                    this.CloseEvent()
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t, e, o, n, i, r) {
                    if (void 0 === e && (e = ""), void 0 === o && (o = 0), void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === r && (r = []), this.m_nodeLoginGetAward.active = t, t) {
                        console.warn(this.m_curAwardAvaiMapData.bonusData), this.m_arrAnimateLoginGetAward.forEach(function(t) {
                            t.play()
                        });
                        var s = this.m_curAwardAvaiMapData.QuestID.substr(4, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(6, 2),
                            a = this.m_curAwardAvaiMapData.bonusData.people,
                            c = this.m_sLoginGetAwardMsg;
                        c = (c = c.replace("{0}", s)).replace("{1}", a.toString()), this.m_labLoginGetAwardMsg.string = c, this.m_RankAwardPanelCtrl.setDetail(e, i, o, n, r, this.m_curAwardAvaiMapData.m_arrRankAwardData, this.m_curAwardAvaiMapData.CustomAmount), this.m_nodeLoginGetAwardOKBtn.active = !0, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    console.warn("loginGetAward()"), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion, this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), a.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this))) : this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwardOK = function() {
                    this.m_bFirstClickGetAward = !1, this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 2), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null), this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !0, a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.AWARD_OK_BTN)
                }, e.prototype.onClickGetAwardX = function() {
                    this.loginGetAward(), this.hideLoginGetAward(), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.AWARD_X_BTN)
                }, e.prototype.popUpClosed = function() {
                    null != this.m_arrMissionData && (null == I.EventTipsMask.Instance || I.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bFishEventRun || this.m_MissionBtnCtrl.setPrompt(this.m_sLoginBtnHint), null != I.EventTipsMask.Instance && null != this.m_curMapData && (I.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), I.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID))), "es" == SS.Common.GameEnvironment.Language && this.m_MissionBtnCtrl.setPrompt(this.m_sLoginBtnHint))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != s.DISABLE && (this.m_status = s.IDLE)
                }, e.prototype.setRankRrogressAndIdle = function(t) {
                    this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur), this.m_RankBonusTotalProgress.setProgressAdd(t), this.m_status != s.DISABLE && (this.m_status = s.FADE_TO_RANK_PAGE)
                }, e.prototype.allTokenShowEnd = function() {
                    this.m_status != s.DISABLE && (this.m_status = s.REACH_GATE_POPUP)
                }, e.prototype.setStatusFly = function() {
                    this.m_status != s.DISABLE && (this.m_status = s.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == S.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    L.EventSystem.Event(L.DownBar.SetPlayerInfo).Notify(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != s.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!1), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t) {
                    this.m_sCurGameName = t, this.m_MissionTopProgress.setGameIcon(t), this.getAllNewProgress(!0)
                }, e.prototype.getAllNewProgress = function(t) {
                    void 0 === t && (t = !1);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (e) {
                        for (var o = 0, n = 0; n < this.m_arrMissionData.length; n++) {
                            var i = 0,
                                r = e[this.getGameNameByThemeID(this.m_arrMissionData[n].ThemeID)];
                            null == r ? cc.error("[getAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[n].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : i = r[this.m_curMapData.QuestID], ((i = i || 0) > 0 || this.m_arrMissionData[n].m_fProgressRate > 0) && (o += i, this.m_arrMissionData[n].newProgress = i, this.m_arrMissionData[n].Priority = -(i + this.m_arrMissionData[n].m_fProgressRate))
                        }
                        this.m_iTotalProgressAddAll = o, t && this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll);
                        var s = self == top ? this.m_iTotalProgressCur - this.m_iTotalProgressAddAll : this.m_RankBonusTotalProgress.getProgress();
                        this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, s)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    cc.log("clearAllNewProgress");
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            null == o ? cc.error("[ClearAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[e].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress())
                    }
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            var n = o.data.eventInfo[900004].UserQuestData;
                            this.parseUserDataList(n);
                            for (var i = 0; i < n.length; i++) {
                                var r = void 0,
                                    s = void 0,
                                    a = n[i];
                                if (e.ThemeID == a.GameThemeID && e.QuestID == a.QuestID && e.QuestLevel == a.QuestLevel) {
                                    if (e.Status = a.Status, e.Status == S.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == S.QustObjectiveType.SPIN_TIME) s = e.SpinTimesGate, r = a.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == S.QustObjectiveType.SPIN_AMOUNT) s = e.SpinAmountGate, r = a.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == S.QustObjectiveType.WIN_AMOUNT) s = e.WinAmountGate, r = a.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != S.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        s = e.CustomGate, r = a.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / s;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (c >= 1 && (this.m_MissionTopProgress.m_fucFullChargeCB = this.getTokenShow.bind(this)), this.m_MissionTopProgress.show(!0, e.CustomInfoMsg), this.m_iLastProgress = c >= 1 ? 0 : c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (A) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!0), this.m_CommGetTokenShow && this.m_CommGetTokenShow.moveToken(this.gotNewToken.bind(this))
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new S.CommBonusData,
                                    s = o[i];
                                if (100 == s.TitleType || 102 == s.TitleType) {
                                    r.QuestID = s.QuestID, r.QuestLevel = s.QuestLevel, r.ThemeID = s.GameThemeID, r.SpinTimesGate = s.SpinTimesGate, r.SpinAmountGate = s.SpinAmountGate, r.WinAmountGate = s.WinAmountGate, r.CustomGate = s.CustomGate, r.CustomType = s.CustomType, r.CustomInfo = s.CustomInfo, r.Award = s.Award, r.Priority = s.Priority, r.CycleSeconds = s.CycleSeconds, r.ExpireTimeUTC = s.ExpireTimeUTC, null != s.CustomInfo && s.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = s.CustomInfo.Msg);
                                    for (var c = 0; c < n.length; c++) {
                                        var l = n[c];
                                        if (r.QuestID == l.QuestID && r.QuestLevel == l.QuestLevel && r.ThemeID == l.GameThemeID) {
                                            r.SpinTimes = l.SpinTimes, r.SpinAmount = l.SpinAmount, r.WinAmount = l.WinAmount, r.CustomAmount = l.CustomAmount, r.Status = l.Status;
                                            break
                                        }
                                    }
                                    if (100 == s.TitleType && this.checkThemeIsOpen(s.GameThemeID)) this.setGateAndAmount(r), this.m_arrMissionData.push(r), cc.log("[parseMisInfo]Quest: " + r.QuestID + "  Themem: " + r.ThemeID);
                                    else if (102 == s.TitleType) {
                                        if (r.RankSize = s.CustomInfo.RankNum, s.CustomInfo && s.CustomInfo.RankAward)
                                            for (var u = 0; u < s.CustomInfo.RankAward.length; u++) {
                                                var m = s.CustomInfo.RankAward[u],
                                                    p = new S.RankAwardData;
                                                p.Begin = m.Begin, p.End = m.End, p.Award = m.Award, r.m_arrRankAwardData.push(p)
                                            }
                                        if (r.bonusData = this.parseBonusData(s.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_curMapData = r, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_iTotalProgressMax = s.CustomGate, this.parseUserDataList(n), a.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = this.parseAndUpdateBonusData.bind(this)), r.Status == S.UserQuestDataStatus.AWARD_AVAILABLE) this.m_arrAwardAvaiMapData.push(r);
                                        else if (r.Status == S.UserQuestDataStatus.QUEST_NOT_DONE && r.bonusData.jp_end_time <= this.m_iNowTime) {
                                            var h = r.bonusData.ranking_list;
                                            for (u = 0; u < h.length; u++)
                                                if (h[u].ranking_id == r.bonusData.ranking_id) {
                                                    this.m_arrAwardAvaiMapData.push(r);
                                                    break
                                                }
                                        }
                                    }
                                } else 300 == s.TitleType && (this.m_bFishEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (A) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalProgressCur = o.CustomAmount, this.m_TotalPrgressStatus = o.Status;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new S.BonusData;
                    try {
                        e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time ? t.jp_begin_time : this.m_curMapData.bonusData.jp_begin_time, e.jp_end_time = t.jp_end_time ? t.jp_end_time : this.m_curMapData.bonusData.jp_end_time, e.ranking_id = this.m_curMapData && this.m_curMapData.bonusData.ranking_id ? this.m_curMapData.bonusData.ranking_id : t.ranking_id ? t.ranking_id : "", e.ranking_list, e.ranking_list = [];
                        var o = t.ranking_list;
                        if (o && o[0])
                            for (var n = 0; n < o.length; n++) {
                                var i = o[n],
                                    r = new S.RankingPlayerData;
                                r.amount = i.amount, r.ark_id = i.ark_id, r.ranking_id = i.ranking_id, r.time = i.time, e.ranking_list.push(r)
                            }
                    } catch (s) {
                        console.error(s), e = null
                    }
                    return e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    var e = this.parseBonusData(t);
                    this.m_curMapData && e && this.m_curMapData.QuestID == e.quest_id && (this.m_curMapData.bonusData = e, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData))
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = S.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = S.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = this.m_sSpinAmountGateStr.replace("{0}", t.SpinAmountGate.toString())) : t.WinAmountGate > 0 ? (t.QuestType = S.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = S.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), m.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.setActivityRoot(!1), this.m_status = s.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? ": {day} days {hr}:{min}:{sec}" : ": {hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, this.m_sEndsInTime + e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithFormate(t, e), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.m_iLastProgress = 0, this.clearAllNewProgress(), this.reloadLobby(), this.m_PlayerRankingMgr.Clear(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_sLastSeason = this.m_curMapData.QuestID, this.m_curMapData = null, a.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = null, this.m_status = s.DISABLE
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (A) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (A) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = -1 == o[0].indexOf("es_") ? "" : "es_",
                        s = o.indexOf(r + i),
                        a = o.indexOf(r + "BIGICON_" + i);
                    return -1 == n && (s > -1 || a > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("?\ufffd\u66f3\u7d50\ufffd?")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishPageTimer.show(t), this.m_nodeHint.active = !t && this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = !t && this.m_iTotalProgressCur >= this.m_iTotalProgressMax, this.m_bShowFinish = t
                }, e.prototype.closeFinishPage = function() {
                    this.ToggleFinishMissionPage(!1), this.m_status = s.RANK_TOKEN_FLY_TOP
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.INFO_BTN)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.INFO_X_BTN)
                }, e.prototype.closeRankIDPopup = function() {
                    this.m_nodeRankIDPopup.active = !1, a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.RANKING_ID_X_BTN)
                }, e.prototype.switchRankingPage = function() {
                    this.showRankingPage(!this.m_bInRankingPage), this.m_bInRankingPage && this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_bInRankingPage ? a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.SWITCH_TO_RANK_PAGE) : a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.SWITCH_TO_GAME_PAGE)
                }, e.prototype.fadeToRankingPage = function() {
                    var t = this;
                    this.m_bInRankingPage = !0, this.m_nodeRankingPage.active = !0, this.m_nodeObjList.active = !0, this.m_nodeJPTag.active = !1, this.m_nodeRangTag.active = !0, this.m_nodeJPTagBtn.active = !0, this.m_nodeRangTagBtn.active = !1, this.m_nodeRankingPage.opacity = 0, cc.tween(this.m_nodeRankingPage).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeRangTag.opacity = 0, cc.tween(this.m_nodeRangTag).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeJPTagBtn.opacity = 0, cc.tween(this.m_nodeJPTagBtn).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeObjList.opacity = 255, cc.tween(this.m_nodeObjList).to(1, {
                        opacity: 0
                    }).call(function() {
                        t.showRankingPage(!0), t.m_nodeObjList.opacity = 255, t.m_status = s.IDLE
                    }).start()
                }, e.prototype.showRankingPage = function(t) {
                    this.m_nodeRankingPage.opacity = 255, this.m_nodeObjList.opacity = 255, this.m_bInRankingPage = t, this.m_nodeRankingPage.active = t, this.m_nodeObjList.active = !t, this.m_nodeJPTag.active = !t, this.m_nodeRangTag.active = t, this.m_nodeJPTagBtn.active = t, this.m_nodeRangTagBtn.active = !t, this.showReadMePage(!1, this.m_nodeReadMePage_Rank), this.showReadMePage(!1, this.m_nodeReadMePage)
                }, e.prototype.hideBothPage = function() {
                    this.m_nodeRankingPage.active = !0, this.m_nodeRankingPage.opacity = 0, this.m_nodeObjList.active = !0, this.m_nodeObjList.opacity = 0
                }, e.prototype.showRankingID = function(t) {
                    t && 0 == this.m_iTotalProgressCur && this.m_bNoobGuideRanking ? (this.m_bNoobGuideRanking = !1, this.m_nodeRankIDPopup.active = !0, this.m_labRankID.string = this.m_sNumber + " " + this.m_curMapData.bonusData.ranking_id) : this.m_nodeRankIDPopup.active = !1
                }, e.prototype.setReadMePage = function(t) {
                    this.m_nodeDarkerBG.active = t, this.m_bInRankingPage ? (this.m_nodeRankingPage.active = !t, this.showReadMePage(t, this.m_nodeReadMePage_Rank)) : (this.m_nodeObjList.active = !t, this.showReadMePage(t, this.m_nodeReadMePage))
                }, e.prototype.showReadMePage = function(t, e) {
                    if (!(e.getNumberOfRunningActions() > 0))
                        if (e.stopAllActions(), e.scale = 1, e.opacity = 255, t) e.active = !0;
                        else {
                            var o = cc.fadeOut(.25),
                                n = cc.scaleTo(.5, 0),
                                i = cc.callFunc(function() {
                                    return e.active = !1
                                }),
                                r = cc.sequence(cc.spawn(o, n), i);
                            e.runAction(r)
                        }
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress()), this.m_MissionBtnCtrl.show(!t), this.hideBothPage(), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t ? (this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll), this.m_RankBonusTotalProgress.node.active = this.m_CommBonusTotalProgress.hasGotAllToken(), this.m_nodeHint.active = this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = this.m_iTotalProgressCur >= this.m_iTotalProgressMax) : this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        var o = this.getThemeIDByGameName(this.m_strChangeToGameName);
                        if (cc.warn("switch to theme id: " + o), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", parseInt(o)), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("?\ufffd\ufffd??\ufffd\u6232\uff0c\ufffd??\ufffd\ufffd?\u8df3\ufffd??\ufffd\ufffd? !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1)
                    }
                }, e.prototype.onClickTopRankingInfo = function() {
                    this.m_bInRankingPage ? this.m_PlayerRankingMgr.scrollToPlayer() : (this.showRankingPage(!0), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_PlayerRankingMgr.scrollToTop()), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.TOP_PROGRESS)
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != s.COLLECT && (this.setActivityRoot(!1), this.setReadMePage(!1), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.MAIN_X_BTN))
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && (this.setOnTop(), I.EventTipsMask.Instance && I.EventTipsMask.Instance.hide(), a.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", S.RankClickLogID.FLOAT_BTN), this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = s.UPDATE_CMD)
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.m_MissionListCtrl.setScrollTop(), this.getAllNewProgress(), this.getCurGameMisData() && (this.getCurGameMisData().Priority = -99), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), 0 == this.m_iTotalProgressCur && (this.m_NewPlayerGuideCtrl ? this.m_NewPlayerGuideCtrl.checkCoockieAndShow(this.showRankingPage.bind(this, !0), this.showRankingPage.bind(this, !1), this.showRankingID.bind(this, !0)) : this.showRankingID(!0))
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), a.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o), this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e.toString())
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = S.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = s.COLLECT)
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (console.log("CommBonusMgr.rcvCollectQuestAck  Success : ", e), 0 == e.cmd_data.result) {
                            var o = void 0;
                            SS.Common.GameEnvironment.IsUseScoreBox ? (this.m_iAwardNum = e.cmd_data.data.AwardWinnings, this.m_iFinalBalance = e.cmd_data.playerInfo.winnings, o = P.ShowType.WINNING) : (this.m_iFinalBalance = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, this.m_iAwardNum = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = P.ShowType.CREDIT), this.node.setSiblingIndex(100);
                            var n = e.cmd_data.data.ExtraInfo;
                            this.showLoginGetAward(!0, n.ranking_id, this.m_iAwardNum, n.ranking_award, n.exchange_rate, n.ranking_list), this.lobbySetUserBalance(e.cmd_data.playerInfo), this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalBalance - this.m_iAwardNum - n.ranking_award), c.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                        } else switch (e.cmd_data.result) {
                            case 1:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), c.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                break;
                            case -999:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S189", null, null, null)
                        } else {
                            var i;
                            i = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, i, null, null, null)
                        }
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : L.EventSystem.Event(L.DockFunction.BackToLobby).Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    if (this.m_CommBonusMoneyMgr && t) {
                        var e = "es" == SS.Common.GameEnvironment.Language ? 1 : t.exchange_rate;
                        this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * e), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * e, t.people)
                    }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    0 != this.m_arrMissionData.length && null != this.m_curMapData ? this.m_iEndTime < this.m_iNowTime ? setTimeout(function() {
                        t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                    }, 3e3) : (null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = s.IDLE, this.isRequestInfoNow = !1) : this.m_status = s.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("CommBonusMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            if (this.parseMisInfo(n)) {
                                if (a.LobbyClient.Instance.m_CommonEventInfo_900004 = n, "" == this.m_sLastSeason) {
                                    if (this.m_sLastSeason == this.m_curMapData.QuestID) return this.m_iUpdateRetryCtr++, void(this.m_iUpdateRetryCtr < 3 ? a.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)) : this.m_status = s.DISABLE);
                                    this.m_sLastSeason = "", this.m_iUpdateRetryCtr = 0
                                }
                                this.m_sLastSeason = this.m_curMapData.QuestID, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer()
                            }
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = s.DISABLE : (this.errorCode = "S182", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case S.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case S.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case S.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case S.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("CommBonusMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sSpinAmountGateStr = "Complete total entries {0}", this.m_sLoginBtnHint = "Treasure Map with Rankings\nBonus is NOW available!", this.m_sEndsInTime = "ENDS IN", this.m_sLoginGetAwardMsg = "{0} community jackpot shared by {1} people", this.m_sNumber = "No.";
                            break;
                        case "es":
                            this.m_sSpinAmountGateStr = "Completa con {0} cr\xe9ditos", this.m_sLoginBtnHint = "\xa1Collecta pisadas para ganar gran premios!\nPuedes arrastrar el \xedcono a cualquier lugar", this.m_sEndsInTime = "TERMINAR\xc1 EN", this.m_sLoginGetAwardMsg = "{0} bono comunitario repartido a {1} personas", this.m_sNumber = "N\xfam."
                    }
                }, r([R(cc.Node)], e.prototype, "root", void 0), r([R(h.CommBonusBtnCtrl_Rank)], e.prototype, "m_MissionBtnCtrl", void 0), r([R(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([R(cc.Node)], e.prototype, "m_FinishMission", void 0), r([R(cc.Label)], e.prototype, "m_labFinishMission", void 0), r([R(T.FinishPageTimer)], e.prototype, "m_FinishPageTimer", void 0), r([R(cc.Node)], e.prototype, "m_nodeMissionListCtrl", void 0), r([R(_.PlayerRankingMgr)], e.prototype, "m_PlayerRankingMgr", void 0), r([R(d.CommBonusTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([R(b.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([R(y.CommBonusTotalProgress)], e.prototype, "m_CommBonusTotalProgress", void 0), r([R(g.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([R(f.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([R(C.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([R(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([R(u.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([R(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([R(u.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([R(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([R(u.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([R(p.RankAwardPanelCtrl)], e.prototype, "m_RankAwardPanelCtrl", void 0), r([R(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([R(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([R(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([R(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([R(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([R([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([R(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([R(cc.Node)], e.prototype, "m_nodeRankingPage", void 0), r([R(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([R(cc.Node)], e.prototype, "m_nodeReadMePage_Rank", void 0), r([R(cc.Node)], e.prototype, "m_nodeRankIDPopup", void 0), r([R(cc.Label)], e.prototype, "m_labRankID", void 0), r([R(cc.Node)], e.prototype, "m_nodeDarkerBG", void 0), r([R(P.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([R(cc.Node)], e.prototype, "m_nodeHint", void 0), r([R(cc.Node)], e.prototype, "m_nodeHintRank", void 0), r([R(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([R(M.RankingBonusListCtrl)], e.prototype, "m_RankingBonusListCtrl", void 0), r([R(cc.Node)], e.prototype, "m_nodeRangTag", void 0), r([R(cc.Node)], e.prototype, "m_nodeJPTag", void 0), r([R(cc.Node)], e.prototype, "m_nodeRangTagBtn", void 0), r([R(cc.Node)], e.prototype, "m_nodeJPTagBtn", void 0), r([R(D.NewPlayerGuideCtrl)], e.prototype, "m_NewPlayerGuideCtrl", void 0), r([O], e)
            }(v.EventModule);
        o.CommBonusMgr_Rank = k, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../../Component/AudioMgr": "AudioMgr",
        "../../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../../EventModule/EventModule": "EventModule",
        "../../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../EventBannerData": "EventBannerData",
        "../../../EventTipsMask": "EventTipsMask",
        "../CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "../CommBonusData": "CommBonusData",
        "../CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "../CommBonusTopProgress": "CommBonusTopProgress",
        "../CommBonusTotalProgress": "CommBonusTotalProgress",
        "../CommGetTokenShow": "CommGetTokenShow",
        "./CommBonusBtnCtrl_Rank": "CommBonusBtnCtrl_Rank",
        "./FinishPageTimer": "FinishPageTimer",
        "./NewPlayerGuideCtrl": "NewPlayerGuideCtrl",
        "./PlayerRankingMgr": "PlayerRankingMgr",
        "./RankAwardPanelCtrl": "RankAwardPanelCtrl",
        "./RankBonusTotalProgress": "RankBonusTotalProgress",
        "./RankingBonusListCtrl": "RankingBonusListCtrl"
    }],
    CommBonusMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fcd1aPlULZO5rVi9IHuvtqt", "CommBonusMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMgr = o.MisMgrStatus = void 0;
        var s, a = t("../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Component/AudioMgr"),
            p = t("./CommBonusBtnCtrl"),
            h = t("./CommBonusTopProgress"),
            d = t("./CommBonusListCtrl"),
            _ = t("./CommBonusTotalProgress"),
            g = t("./CommBonusMoneyMgr"),
            y = t("./CommBonusData"),
            f = t("./CommBonusCoinCtrl"),
            S = t("../../../EventModule/EventModule"),
            C = t("./../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            v = t("./CommGetTokenShow"),
            P = t("../../EventBannerData"),
            b = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            w = t("../../EventTipsMask"),
            M = t("../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 6] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 7] = "TOKEN_FLY_TOP", t[t.DISABLE = 8] = "DISABLE"
        })(s = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var E = cc._decorator,
            T = E.ccclass,
            I = E.property,
            D = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_FinishMission = null, e.m_labFinishMission = null, e.m_MissionListCtrl = null, e.m_MissionTopProgress = null, e.m_CommGetTokenShow = null, e.m_CommBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeReci = null, e.finishPageTimeCountDown = null, e.m_nodeLoginGetAward = null, e.m_nodeLoginGetAwardOKBtn = null, e.m_nodeLoginGetAwardXBtn = null, e.m_labLoginGetAwardMsg = null, e.m_labLoginGetAwardWinning = null, e.m_arrAnimateLoginGetAward = [], e.m_nodeObjList = null, e.m_nodeReadMePage = null, e.m_FakeScoreBoxCtrl = null, e.m_labHint = null, e.m_nodeBlocker = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "Treasure Map \nis NOW available!", e.tapNewIconContent = "New Bonus are available.", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = s.NONE, e.m_lastStatus = s.NONE, e.m_iLastProgress = 0, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalPrgressMax = 0, e.m_iTotalPrgressCur = 0, e.m_TotalPrgressStatus = y.UserQuestDataStatus.NONE, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bFirstClickGetAward = !0, e.m_bTotalPrgressGetFull = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bFishEventRun = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case s.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.ToggleFinishMissionPage(this.m_CommBonusTotalProgress.hasGotAllToken()));
                            break;
                        case s.INIT:
                            break;
                        case s.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), this.isClickClaimBtn ? (this.isClickClaimBtn = !1, c.ConnectPanelMgr.Instance.DisableConnectPanel(0)) : (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.collectMisData && (this.m_MissionListCtrl.m_strCollectQuestID = this.collectMisData.QuestID)), this.collectMisData = null, this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case s.TOKEN_ENLARGE:
                            t && (console.warn("MisMgrStatus.TOKEN_ENLARGE"), this.m_nodeBlocker.active = !0, c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.ToggleFinishMissionPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress())) : this.m_status = s.TOKEN_FLY_TOP);
                            break;
                        case s.TOKEN_FLY_TOP:
                            if (t)
                                if (console.warn("MisMgrStatus.TOKEN_FLY_TOP"), this.getCurGameNewProgress() > 0) {
                                    this.ToggleFinishMissionPage(!1);
                                    var e = this.m_MissionListCtrl.m_aryInfoCtrlList[0].m_nodeToken;
                                    this.m_CommBonusTotalProgress.showOneByOne(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.getCurGameNewProgress(), this.getCurGameNewProgress(), e), this.clearAllNewProgress()
                                } else this.clearAllNewProgress(), this.m_status = s.IDLE;
                            break;
                        case s.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iLastProgress = 0, this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.onLoad = function() {
                    this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1
                }, e.prototype.start = function() {
                    if (this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_LobbyMgr && this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this)), this.finishPageTimeCountDown && (this.finishPageTimeCountDown.node.active = !1), this.parseMisInfo(a.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (self == top && this.isTheFirstToLobby && this.clearAllNewProgress(), this.getAllNewProgress()), this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.m_MissionBtnCtrl.show(!0), this.SetUserBalance = this.lobbySetUserBalance.bind(this), console.warn("\u5f69\u91d1\u8a3b\u518a");
                        var t = new b.PriorityCustomEvent(0, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion;
                        var e = new P.EventBannerData("TreasureMap", 100, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e)
                    }
                    this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrTokenRedDot.bind(this, 0)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.setStatusIdle.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this), a.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = this.parseAndUpdateBonusData.bind(this), this.initDone()
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != s.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("TreasureMap" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t) {
                    if (this.m_nodeLoginGetAward.active = t, t) {
                        console.warn(this.m_curAwardAvaiMapData.bonusData), this.m_arrAnimateLoginGetAward.forEach(function(t) {
                            t.play()
                        });
                        var e = this.m_curAwardAvaiMapData.QuestID.substr(4, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(6, 2),
                            o = this.m_curAwardAvaiMapData.bonusData.people;
                        this.m_labLoginGetAwardMsg.string = e + " community jackpot shared by " + o + " people";
                        var n = "es" == SS.Common.GameEnvironment.Language ? 1 : this.m_curAwardAvaiMapData.bonusData.exchange_rate,
                            i = "es" == SS.Common.GameEnvironment.Language ? "" : "$",
                            r = this.m_iAwardNum * n;
                        this.m_labLoginGetAwardWinning.string = i + r.toLocaleString("en-US", {
                            minimumFractionDigits: 2
                        }), this.m_nodeLoginGetAwardOKBtn.active = !0, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    console.warn("loginGetAward()"), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion, this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), a.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this))) : this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwordOK = function() {
                    this.m_bFirstClickGetAward = !1, this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 2), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null), this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !0
                }, e.prototype.onClickGetAwordX = function() {
                    this.loginGetAward(), this.hideLoginGetAward()
                }, e.prototype.popUpClosed = function() {
                    null != this.m_arrMissionData && (null == w.EventTipsMask.Instance || w.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bFishEventRun || this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent), null != w.EventTipsMask.Instance && null != this.m_curMapData && (w.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), w.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID))))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != s.DISABLE && (this.m_status = s.IDLE)
                }, e.prototype.setStatusFly = function() {
                    this.m_status != s.DISABLE && (this.m_status = s.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == y.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    M.EventSystem.Event(M.DownBar.SetPlayerInfo).Notify(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != s.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!1), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t) {
                    this.m_sCurGameName = t, this.m_MissionTopProgress.setGameIcon(t), this.getAllNewProgress()
                }, e.prototype.getAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0, o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = t[this.getGameNameByThemeID(this.m_arrMissionData[o].ThemeID)][this.m_curMapData.QuestID];
                            ((n = n || 0) > 0 || this.m_arrMissionData[o].m_fProgressRate > 0) && (e += n, this.m_arrMissionData[o].newProgress = n, this.m_arrMissionData[o].Priority = -(n + this.m_arrMissionData[o].m_fProgressRate))
                        }
                        this.m_iTotalProgressAddAll = e, this.m_MissionBtnCtrl.setRedTag(this.m_iTotalProgressAddAll)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setRedTag(this.m_iTotalProgressAddAll)
                    }
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            var n = o.data.eventInfo[900004].UserQuestData;
                            if (this.parseUserDataList(n), this.m_iTotalPrgressCur >= this.m_iTotalPrgressMax) return void console.warn("this.m_iTotalPrgressCur>=this.m_iTotalPrgressMax");
                            for (var i = 0; i < n.length; i++) {
                                var r = void 0,
                                    s = void 0,
                                    a = n[i];
                                if (e.ThemeID == a.GameThemeID && e.QuestID == a.QuestID && e.QuestLevel == a.QuestLevel) {
                                    if (e.Status = a.Status, e.Status == y.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == y.QustObjectiveType.SPIN_TIME) s = e.SpinTimesGate, r = a.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == y.QustObjectiveType.SPIN_AMOUNT) s = e.SpinAmountGate, r = a.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == y.QustObjectiveType.WIN_AMOUNT) s = e.WinAmountGate, r = a.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != y.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        s = e.CustomGate, r = a.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / s;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (c >= 1 && (this.m_MissionTopProgress.m_fucFullChargeCB = this.getTokenShow.bind(this)), this.m_MissionTopProgress.show(!0, e.CustomInfoMsg), this.m_iLastProgress = c >= 1 ? 0 : c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (E) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!0), this.m_CommGetTokenShow && this.m_CommGetTokenShow.moveToken(this.gotNewToken.bind(this))
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new y.CommBonusData,
                                    s = o[i];
                                if (100 == s.TitleType || 101 == s.TitleType) {
                                    r.QuestID = s.QuestID, r.QuestLevel = s.QuestLevel, r.ThemeID = s.GameThemeID, r.SpinTimesGate = s.SpinTimesGate, r.SpinAmountGate = s.SpinAmountGate, r.WinAmountGate = s.WinAmountGate, r.CustomGate = s.CustomGate, r.CustomType = s.CustomType, r.CustomInfo = s.CustomInfo, r.Award = s.Award, r.Priority = s.Priority, r.CycleSeconds = s.CycleSeconds, r.ExpireTimeUTC = s.ExpireTimeUTC, null != s.CustomInfo && s.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = s.CustomInfo.Msg);
                                    for (var a = 0; a < n.length; a++) {
                                        var c = n[a];
                                        if (r.QuestID == c.QuestID && r.QuestLevel == c.QuestLevel && r.ThemeID == c.GameThemeID) {
                                            r.SpinTimes = c.SpinTimes, r.SpinAmount = c.SpinAmount, r.WinAmount = c.WinAmount, r.CustomAmount = c.CustomAmount, r.Status = c.Status;
                                            break
                                        }
                                    }
                                    100 == s.TitleType && this.checkThemeIsOpen(s.GameThemeID) ? (this.setGateAndAmount(r), this.m_arrMissionData.push(r)) : 101 == s.TitleType && (r.bonusData = this.parseBonusData(s.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_curMapData = r, this.updateBonusPrize(), this.m_iTotalPrgressMax = s.CustomGate, this.parseUserDataList(n)), r.Status == y.UserQuestDataStatus.AWARD_AVAILABLE && this.m_arrAwardAvaiMapData.push(r))
                                } else 300 == s.TitleType && (this.m_bFishEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (E) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalPrgressCur = o.CustomAmount, this.m_TotalPrgressStatus = o.Status;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new y.BonusData;
                    return e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time, e.jp_end_time = t.jp_end_time, e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    try {
                        this.m_curMapData.bonusData = this.parseBonusData(t), this.updateBonusPrize()
                    } catch (E) {}
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = y.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = y.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = "Complete total entries " + t.SpinAmountGate) : t.WinAmountGate > 0 ? (t.QuestType = y.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = y.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), m.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.setActivityRoot(!1), this.m_status = s.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? "ENDS IN: {day} days {hr}:{min}:{sec}" : "ENDS IN: {hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithFormate(t, e), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.m_iLastProgress = 0, this.clearAllNewProgress(), this.reloadLobby(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_status = s.UPDATE_CMD
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (E) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (E) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = o.indexOf(i),
                        s = o.indexOf("BIGICON_" + i);
                    return -1 == n && (r > -1 || s > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("?\ufffd\u66f3\u7d50\ufffd?")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_nodeObjList.active = !t, this.m_labHint.enabled = !t, this.m_bShowFinish = t;
                    var e = "";
                    try {
                        e = "You have reached the goal!!!Please login after the event has ended during the period of time " + this.tsToDateTime(this.m_arrMissionData[0].ExpireTimeUTC) + " - " + this.tsToDateTime(this.m_curMapData.ExpireTimeUTC) + " to receive your portion of the bonus."
                    } catch (E) {
                        e = "You have reached the goal!!!Please login after the event has ended.Please receive the prize in 7 days or it will be expired."
                    }
                    this.m_labFinishMission.string = e
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1)
                }, e.prototype.setReadMePage = function(t) {
                    t ? (this.m_FinishMission.active = !1, this.m_nodeObjList.active = !1, this.m_nodeReadMePage.active = !0) : (this.ToggleFinishMissionPage(this.m_bShowFinish), this.m_nodeReadMePage.active = !1)
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.show(!t), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t ? this.m_CommBonusTotalProgress.setTokens(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.m_iTotalProgressAddAll) : this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        if (m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("?\ufffd\ufffd??\ufffd\u6232\uff0c\ufffd??\ufffd\ufffd?\u8df3\ufffd??\ufffd\ufffd? !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1)
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != s.COLLECT && this.setActivityRoot(!1)
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && (this.setOnTop(), w.EventTipsMask.Instance && w.EventTipsMask.Instance.hide(), this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = s.UPDATE_CMD)
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.ToggleFinishMissionPage(this.m_CommBonusTotalProgress.hasGotAllToken()), this.m_MissionListCtrl.setScrollTop(), this.getAllNewProgress(), this.getCurGameMisData() && (this.getCurGameMisData().Priority = -99), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData)
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), a.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickClaimBtn = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var t = this.getCurGameMisData();
                    this.setCollectMisData(t), this.isClickClaimBtn = !0
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o), this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e.toString())
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = y.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = s.COLLECT)
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (console.log("CommBonusMgr.rcvCollectQuestAck  Success : ", e), 0 == e.cmd_data.result) {
                            var o = void 0;
                            SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (this.m_iAwardNum = e.cmd_data.data.AwardWinnings, this.m_iFinalBalance = e.cmd_data.playerInfo.winnings, o = C.ShowType.WINNING) : (this.m_iAwardNum = e.cmd_data.data.AwardEntries, this.m_iFinalBalance = e.cmd_data.playerInfo.entries, o = C.ShowType.ENTRIES) : (this.m_iFinalBalance = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, this.m_iAwardNum = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = C.ShowType.CREDIT), this.node.setSiblingIndex(100), this.showLoginGetAward(!0), this.lobbySetUserBalance(e.cmd_data.playerInfo), this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalBalance - this.m_iAwardNum), c.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                        } else switch (e.cmd_data.result) {
                            case 1:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), c.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                break;
                            case -999:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S189", null, null, null)
                        } else {
                            var n;
                            n = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, n, null, null, null)
                        }
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : M.EventSystem.Event(M.DockFunction.BackToLobby).Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    if (this.m_CommBonusMoneyMgr && t) {
                        var e = "es" == SS.Common.GameEnvironment.Language ? 1 : t.exchange_rate;
                        this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * e), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * e, t.people)
                    }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 != this.m_arrMissionData.length && null != this.m_curMapData)
                        if (this.m_iEndTime < this.m_iNowTime) setTimeout(function() {
                            t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                        }, 3e3);
                        else {
                            null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = s.IDLE;
                            for (var e = !0, o = 0; o < this.m_arrMissionData.length; o++) this.m_arrMissionData[o].Status != y.UserQuestDataStatus.AWARD_CLAIMED && (e = !1);
                            this.isMissionLastDay = this.m_iEndTime == this.m_arrMissionData[0].ExpireTimeUTC, this.ToggleMissionTimeCountDown(!this.isMissionLastDay || !e), this.isRequestInfoNow = !1
                        }
                    else this.m_status = s.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("CommBonusMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (a.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = s.DISABLE : (this.errorCode = "S182", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case y.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case y.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case y.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case y.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("CommBonusMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, r([I(cc.Node)], e.prototype, "root", void 0), r([I(p.CommBonusBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([I(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([I(cc.Node)], e.prototype, "m_FinishMission", void 0), r([I(cc.Label)], e.prototype, "m_labFinishMission", void 0), r([I(d.CommBonusListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([I(h.CommBonusTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([I(v.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([I(_.CommBonusTotalProgress)], e.prototype, "m_CommBonusTotalProgress", void 0), r([I(g.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([I(f.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([I(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([I(u.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([I(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([I(u.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([I(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([I(u.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([I(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([I(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([I(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([I(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([I(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([I([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([I(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([I(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([I(C.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([I(cc.Label)], e.prototype, "m_labHint", void 0), r([I(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([T], e)
            }(S.EventModule);
        o.CommBonusMgr = D, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../EventModule/EventModule": "EventModule",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../EventBannerData": "EventBannerData",
        "../../EventTipsMask": "EventTipsMask",
        "./../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "./CommBonusBtnCtrl": "CommBonusBtnCtrl",
        "./CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "./CommBonusData": "CommBonusData",
        "./CommBonusListCtrl": "CommBonusListCtrl",
        "./CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "./CommBonusTopProgress": "CommBonusTopProgress",
        "./CommBonusTotalProgress": "CommBonusTotalProgress",
        "./CommGetTokenShow": "CommGetTokenShow"
    }],
    CommBonusMoneyMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "93a27oBIsJPiISUzuR0gw7X", "CommBonusMoneyMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMoneyMgr = void 0;
        var s = t("./../../../Component/NumberCountUp"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_numCountUpMoney = null, e.m_numCountUpPeople = null, e.m_nodeExtra = null, e.m_labExtra = null, e.m_numCountUpMoneyOnBtn = null, e.m_nodeExtraOnBtn = null, e.m_labExtraOnBtn = null, e.m_fucUpdateFloatBtn = null, e.m_fUpdateTime = 10, e.m_bInit = !0, e
                }
                return i(e, t), e.prototype.start = function() {}, e.prototype.setExtra = function(t) {
                    this.m_nodeExtra.active = t > 0, this.m_labExtra.node.active = t > 0, this.m_labExtra.string = "+$" + t, this.m_nodeExtraOnBtn.active = t > 0, this.m_labExtraOnBtn.node.active = t > 0, this.m_labExtraOnBtn.string = "+$" + t
                }, e.prototype.setInfo = function(t, e) {
                    if (this.m_bInit) {
                        var o = "es" == SS.Common.GameEnvironment.Language;
                        this.m_numCountUpMoney.SetNumberFormat(o, !o), this.m_numCountUpMoneyOnBtn.SetNumberFormat(o, !o), this.m_numCountUpMoney.SetNumberNow(t), this.m_numCountUpMoneyOnBtn.SetNumberNow(t), this.m_numCountUpPeople.SetNumberNow(e)
                    } else this.m_numCountUpMoney.CountUp(t, this.m_fUpdateTime), this.m_numCountUpMoneyOnBtn.CountUp(t, this.m_fUpdateTime), this.m_numCountUpPeople.CountUp(e, this.m_fUpdateTime);
                    this.m_bInit = !1
                }, e.prototype.Clear = function() {
                    this.m_bInit = !0, this.setExtra(0), this.setInfo(0, 0)
                }, r([l(s.NumberCountUp)], e.prototype, "m_numCountUpMoney", void 0), r([l(s.NumberCountUp)], e.prototype, "m_numCountUpPeople", void 0), r([l(cc.Node)], e.prototype, "m_nodeExtra", void 0), r([l(cc.Label)], e.prototype, "m_labExtra", void 0), r([l(s.NumberCountUp)], e.prototype, "m_numCountUpMoneyOnBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeExtraOnBtn", void 0), r([l(cc.Label)], e.prototype, "m_labExtraOnBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusMoneyMgr = u, cc._RF.pop()
    }, {
        "./../../../Component/NumberCountUp": "NumberCountUp"
    }],
    CommBonusMsgCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e7965wCxJpBT7f3OZglDokx", "CommBonusMsgCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMsgCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_color = null, e.m_colorOutline = null, e.m_fOutlineWidth = null, e.m_richTxtMsg = null, e.m_sPrefix = "", e.m_sPostfix = "", e.m_sNumPrefix = "<outline color=A52A2A width=1><color=#FFD700>", e.m_sNumPostfix = "</color></outline>", e
                }
                return i(e, t), e.prototype.setMsg = function(t) {
                    var e = t.split(" "),
                        o = "",
                        n = 0;
                    this.hide();
                    for (var i = 0; i < e.length; i++) n = n + e[i].length + 1, isNaN(+e[i]) || (e[i] = this.numberFix(e[i])), o = "" == o ? e[i] : o + " " + e[i];
                    this.m_richTxtMsg.string = this.globalFix(o), this.m_richTxtMsg.enabled = !0
                }, e.prototype.numberFix = function(t) {
                    return this.m_sNumPrefix + t + this.m_sNumPostfix
                }, e.prototype.globalFix = function(t) {
                    return this.m_sPrefix + t + this.m_sPostfix
                }, e.prototype.hide = function() {
                    null != this.m_richTxtMsg && (this.m_richTxtMsg.enabled = !1)
                }, r([c(cc.Color)], e.prototype, "m_color", void 0), r([c(cc.Color)], e.prototype, "m_colorOutline", void 0), r([c(cc.Float)], e.prototype, "m_fOutlineWidth", void 0), r([c(cc.RichText)], e.prototype, "m_richTxtMsg", void 0), r([a], e)
            }(cc.Component);
        o.CommBonusMsgCtrl = l, cc._RF.pop()
    }, {}],
    CommBonusTokenCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7ea0bYUCWhIeq65G8/KU/S5", "CommBonusTokenCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTokenCtrl = void 0;
        var s = t("./CommGetTokenShow"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeToken = null, e.m_nodePtr = null, e.m_animShow = null, e.m_labPlusOne = null, e.m_bHidePtr = !1, e.m_CommGetTokenShow = null, e.m_fOrgScale = 1, e.m_fucShowStartCB = null, e.m_fucShowEndCB = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    null != this.m_nodePtr && (this.m_nodePtr.active = !this.m_bHidePtr), this.m_fOrgScale = this.m_nodeToken.scale
                }, e.prototype.showFlyToken = function(t, e) {
                    this.m_CommGetTokenShow.moveTokenFromTo(t, this.node, e, this.m_fucShowStartCB, this.showFlyTokenEnd.bind(this))
                }, e.prototype.showFlyTokenEnd = function() {
                    this.setToken(!0), this.m_fucShowEndCB && this.m_fucShowEndCB()
                }, e.prototype.showToken = function() {
                    this.m_nodeToken.active = !0, this.m_labPlusOne.string = "+1";
                    var t = cc.scaleTo(.25, 1.5 * this.m_fOrgScale),
                        e = cc.scaleTo(.125, 1 * this.m_fOrgScale),
                        o = cc.sequence(t, e);
                    this.m_nodeToken.stopAllActions(), this.m_nodeToken.scale = .5 * this.m_fOrgScale, this.m_nodeToken.runAction(o);
                    var n = cc.fadeOut(2);
                    this.m_labPlusOne.node.runAction(n)
                }, e.prototype.setToken = function(t) {
                    this.m_labPlusOne.node.active = !1, this.m_nodeToken.stopAllActions(), this.m_nodeToken.active = t, null != this.m_animShow && (t ? (this.m_animShow.node.opacity = 255, this.m_animShow.play()) : this.m_animShow.node.opacity = 0)
                }, e.prototype.isTokenAct = function() {
                    return this.m_nodeToken.active
                }, r([l(cc.Node)], e.prototype, "m_nodeToken", void 0), r([l(cc.Node)], e.prototype, "m_nodePtr", void 0), r([l(cc.Animation)], e.prototype, "m_animShow", void 0), r([l(cc.Label)], e.prototype, "m_labPlusOne", void 0), r([l(cc.Boolean)], e.prototype, "m_bHidePtr", void 0), r([l(s.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusTokenCtrl = u, cc._RF.pop()
    }, {
        "./CommGetTokenShow": "CommGetTokenShow"
    }],
    CommBonusTopProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9937cLWzu1PMpKssyMRG1Qd", "CommBonusTopProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTopProgress = void 0;
        var s = t("../../../Component/AudioMgr"),
            a = t("../../MissionMgr/Script/MissionMsgCtrl"),
            c = t("./CommBonusMsgCtrl"),
            l = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Prompt = null, e.m_animate = null, e.m_sprGameIcon = null, e.m_sprAtlasGameIcon = null, e.promptBar = null, e.m_btn = null, e.promptClaimBtnHand = null, e.promptProcessLabel = null, e.m_labCustomInfo = null, e.m_missionMsgCtrl = null, e.m_CommBonusMsgCtrl = null, e.m_fucFullChargeCB = null, e.hidePromptEventId = null, e.m_numProgressUpTo = 0, e.m_numProgressSpeed = .002, e.m_bIsProgressUp = !1, e.m_bIsShow = !1, e.m_fOrgWidth = 0, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e
                }
                return i(e, t), e.prototype.update = function() {
                    if (this.m_bIsProgressUp) {
                        var t = .1 * (this.m_numProgressUpTo - this.m_numProgressCtr);
                        t = t < this.m_numProgressSpeed ? this.m_numProgressSpeed : t, this.m_numProgressCtr += t, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo, this.m_fucFullChargeCB && 1 == this.m_numProgressUpTo && this.m_fucFullChargeCB()), this.setProgress(this.m_numProgressCtr)
                    }
                }, e.prototype.init = function() {
                    this.m_Prompt.active = !1, this.m_fOrgWidth = this.promptBar.node.width, this.promptBar.enabled = !1, this.m_animate = this.m_Prompt.getComponent(cc.Animation), this.hidePromptEventId = void 0
                }, e.prototype.show = function(t, e, o) {
                    var n = this;
                    if (void 0 === e && (e = ""), void 0 === o && (o = 5e3), null != this.m_Prompt) {
                        window.clearTimeout(this.hidePromptEventId);
                        var i = SS.Common.GameEnvironment.GetCurGameIsVertical();
                        t ? (this.m_bIsShow || (this.m_Prompt.active = t, this.m_labCustomInfo.enabled = !1, this.m_CommBonusMsgCtrl.setMsg(e), i ? this.m_animate.play("VerticalShowPrompt", 0) : this.m_animate.play("ShowPrompt", 0), s.AudioMgr.Instance.Play("Missions_Call", !1, 1)), o >= 0 && (this.hidePromptEventId = setTimeout(function() {
                            n.show(!1)
                        }, o))) : (this.showBtn(!1), i ? this.m_animate.play("VerticalHidePrompt", 0) : this.m_animate.play("HidePrompt", 0), this.hidePromptEventId = setTimeout(function() {
                            n.m_Prompt && (n.m_Prompt.active = !1)
                        }, 2e3)), this.m_bIsShow = t
                    }
                }, e.prototype.showBtn = function(t) {
                    null != this.m_btn && (this.m_btn.node.active = t)
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setProgress = function(t) {
                    this.promptBar.enabled = !0, this.promptBar.node.width = this.m_fOrgWidth * t, this.promptProcessLabel.string = SS.Common.BaseFunction.addCommas(100 * t, 2, !1) + "%"
                }, e.prototype.setProgressCtr = function(t) {
                    this.m_numProgressCtr = t
                }, e.prototype.setProgressChargeTo = function(t) {
                    this.m_fucFullChargeCB && this.m_bIsProgressUp && 1 == this.m_numProgressUpTo && this.m_numProgressCtr > t && this.m_fucFullChargeCB(), this.m_numProgressUpTo = t, this.m_bIsProgressUp = !0
                }, e.prototype.setGameIcon = function(t) {
                    this.setSprFrameWithAtlas(t, this.m_sprGameIcon)
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    e.spriteFrame = this.m_sprAtlasGameIcon.getSpriteFrame(t), e.enabled = !0, this.m_iDLPicCtr--, this.m_iDLPicCtr
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e)
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.loader.load(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r), cc.loader.release(i)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    e.spriteFrame = o, e.enabled = !0, this.m_iDLPicCtr--, this.m_iDLPicCtr
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Error, "C38", null, null, null) : this.DLSprFrame(t, e)
                }, r([p(cc.Node)], e.prototype, "m_Prompt", void 0), r([p(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([p(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([p(cc.Sprite)], e.prototype, "promptBar", void 0), r([p(cc.Button)], e.prototype, "m_btn", void 0), r([p(cc.Node)], e.prototype, "promptClaimBtnHand", void 0), r([p(cc.Label)], e.prototype, "promptProcessLabel", void 0), r([p(cc.Label)], e.prototype, "m_labCustomInfo", void 0), r([p(a.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([p(c.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([m], e)
            }(cc.Component);
        o.CommBonusTopProgress = h, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../MissionMgr/Script/MissionMsgCtrl": "MissionMsgCtrl",
        "./CommBonusMsgCtrl": "CommBonusMsgCtrl"
    }],
    CommBonusTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3b52dl9gVVLM4CR7gX53X20", "CommBonusTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTotalProgress = void 0;
        var s = t("./CommBonusTokenCtrl"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_arrTokenCtrlList = [], e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_fucTokenShowStartCB = null, e.m_fucAllTokenShowEndCB = null, e.m_fucAllTokenEnlargeEndCB = null, e.m_fucTokenEnlargeEndCB = null, e.m_fucTokenEnlargeStartCB = null, e.m_iFlyTokenCtr = 0, e.m_iEnlargeTokenCtr = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    for (var t = 0; t < this.m_arrTokenCtrlList.length; t++) this.m_arrTokenCtrlList[t].m_CommGetTokenShow && (this.m_arrTokenCtrlList[t].m_CommGetTokenShow.m_pfToken = this.m_pfToken, this.m_arrTokenCtrlList[t].m_CommGetTokenShow.m_pfMoveEnd = this.m_pfMoveEnd)
                }, e.prototype.setTokenShowStartCB = function(t) {
                    this.m_fucTokenShowStartCB = t
                }, e.prototype.setAllTokenShowEndCB = function(t) {
                    this.m_fucAllTokenShowEndCB = t;
                    for (var e = 0; e < this.m_arrTokenCtrlList.length; e++) this.m_arrTokenCtrlList[e].m_fucShowEndCB = this.checkAllTokenShowEnd.bind(this)
                }, e.prototype.setTokens = function(t) {
                    for (var e = 0; e < this.m_arrTokenCtrlList.length; e++) {
                        var o = this.m_arrTokenCtrlList[e];
                        e < t ? o.setToken(!0) : o.setToken(!1)
                    }
                }, e.prototype.showOneByOne = function(t, e, o) {
                    for (var n = 0; n < e; n++) {
                        var i = t + n;
                        if (!this.m_arrTokenCtrlList[i]) return;
                        this.m_iFlyTokenCtr++;
                        var r = this.m_arrTokenCtrlList[i];
                        r.m_fucShowStartCB = this.m_fucTokenShowStartCB, r.showFlyToken(n, o)
                    }
                }, e.prototype.enLargeOneByOne = function(t, e) {
                    for (var o = 0; o < e; o++) {
                        var n = t + o;
                        if (!this.m_arrTokenCtrlList[n]) return;
                        this.m_iEnlargeTokenCtr++;
                        var i = this.m_arrTokenCtrlList[n],
                            r = cc.delayTime(.5 * o),
                            s = cc.callFunc(this.m_fucTokenEnlargeStartCB),
                            a = cc.callFunc(i.showToken.bind(i)),
                            c = cc.callFunc(this.checkAllTokenEnlargeEnd.bind(this)),
                            l = cc.delayTime(1),
                            u = cc.sequence(r, s, a, l, c);
                        this.node.runAction(u)
                    }
                }, e.prototype.checkAllTokenShowEnd = function() {
                    this.m_iFlyTokenCtr--, 0 == this.m_iFlyTokenCtr && this.m_fucAllTokenShowEndCB && this.m_fucAllTokenShowEndCB()
                }, e.prototype.checkAllTokenEnlargeEnd = function() {
                    this.m_iEnlargeTokenCtr--, this.m_fucTokenEnlargeEndCB && this.m_fucTokenEnlargeEndCB(), 0 == this.m_iEnlargeTokenCtr && this.m_fucAllTokenEnlargeEndCB && this.m_fucAllTokenEnlargeEndCB()
                }, e.prototype.hasGotAllToken = function() {
                    for (var t = 0; t < this.m_arrTokenCtrlList.length; t++)
                        if (0 == this.m_arrTokenCtrlList[t].isTokenAct()) return !1;
                    return !0
                }, r([l([s.CommBonusTokenCtrl])], e.prototype, "m_arrTokenCtrlList", void 0), r([l(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([l(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusTotalProgress = u, cc._RF.pop()
    }, {
        "./CommBonusTokenCtrl": "CommBonusTokenCtrl"
    }],
    CommGetTokenShow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "817fdFhOC5ATobLpMG7KEVL", "CommGetTokenShow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommGetTokenShow = void 0;
        var c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_iTokenCount = 0, e.m_nodeTaret = null, e.m_nodeSource = null, e.m_fTokenFlySpeed = 600, e.m_nodeScene = null, e.m_npToken = null, e.m_arrNodeQueue = [], e
                }
                return i(e, t), e.prototype.start = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return a(this, function() {
                            for (this.m_npToken = new cc.NodePool, t = 0; t < 3; t++) e = cc.instantiate(this.m_pfToken), this.m_npToken.put(e);
                            return [2]
                        })
                    })
                }, e.prototype.moveTokenFromTo = function(t, e, o, n, i) {
                    var r = this;
                    if (this.m_nodeTaret = e, this.m_nodeSource = o, null != this.m_nodeTaret) {
                        var s = this.m_nodeSource.parent.convertToWorldSpaceAR(this.m_nodeSource.getPosition()),
                            a = new cc.Vec2(s.x, s.y),
                            c = this.m_nodeTaret.parent.convertToWorldSpaceAR(this.m_nodeTaret.getPosition()),
                            l = new cc.Vec2(c.x, c.y),
                            u = this.m_npToken.get();
                        null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), u.parent = this.m_nodeScene, u.setPosition(new cc.Vec2(1e5, 1e5)), cc.hide();
                        var m = cc.delayTime(.25 * t),
                            p = cc.callFunc(function() {
                                n && n(), u.setPosition(a)
                            }),
                            h = (cc.show(), cc.moveTo(1, l)),
                            d = (cc.fadeIn(0), cc.fadeOut(0), cc.show(), cc.callFunc(function() {
                                r.moveEndEffect(l), i && i(), u.setPosition(new cc.Vec2(1e5, 1e5))
                            })),
                            _ = (cc.removeSelf(), cc.delayTime(1)),
                            g = cc.callFunc(function() {
                                r.m_npToken.put(u)
                            }),
                            y = cc.sequence(m, p, h, d, _, g);
                        u.runAction(y)
                    }
                }, e.prototype.moveToken = function(t) {
                    var e = this;
                    if (null != this.m_nodeTaret) {
                        var o = this.m_nodeSource.parent.convertToWorldSpaceAR(this.m_nodeSource.getPosition()),
                            n = new cc.Vec2(o.x, o.y),
                            i = this.m_nodeTaret.parent.convertToWorldSpaceAR(this.m_nodeTaret.getPosition()),
                            r = new cc.Vec2(i.x, i.y),
                            s = this.dist(r, n) / this.m_fTokenFlySpeed;
                        this.m_iFinishedToken = 0;
                        for (var a = function(o) {
                                var i = c.m_npToken.get();
                                null == c.m_nodeScene && (c.m_nodeScene = cc.director.getScene()), i.parent = c.m_nodeScene, i.setPosition(n), cc.hide();
                                var a = cc.delayTime(.25 * o),
                                    l = (cc.show(), cc.moveTo(s, r)),
                                    u = (cc.fadeIn(0), cc.fadeOut(0), cc.removeSelf(), cc.callFunc(function() {
                                        e.m_iFinishedToken++, e.moveEndEffect(r), e.m_iFinishedToken >= e.m_iTokenCount && t && t(), i.setPosition(new cc.Vec2(1e5, 1e5))
                                    })),
                                    m = cc.delayTime(1),
                                    p = cc.callFunc(function() {
                                        e.m_npToken.put(i)
                                    }),
                                    h = (cc.removeSelf(), cc.sequence(a, l, u, m, p));
                                i.runAction(h)
                            }, c = this, l = 0; l < this.m_iTokenCount; l++) a(l)
                    }
                }, e.prototype.dist = function(t, e) {
                    return t.sub(e).mag()
                }, e.prototype.moveEndEffect = function(t) {
                    var e = cc.instantiate(this.m_pfMoveEnd);
                    null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), e.parent = this.m_nodeScene, e.setPosition(t);
                    var o = cc.delayTime(5),
                        n = cc.removeSelf(),
                        i = cc.sequence(o, n);
                    e.runAction(i)
                }, r([u(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([u(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([u(cc.Integer)], e.prototype, "m_iTokenCount", void 0), r([u(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([u(cc.Node)], e.prototype, "m_nodeSource", void 0), r([l], e)
            }(cc.Component);
        o.CommGetTokenShow = m, cc._RF.pop()
    }, {}],
    CommonRoot: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "913d016m8xIKZ34MDK5F0L3", "CommonRoot");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommonRoot = o.ModuleType = void 0;
        var s, a, c = t("./../../../GameCommon/Message/Script/MessageMgr"),
            l = t("../../../GameCommon/CheatKey/CheatKeyManager"),
            u = t("../../../GameCommon/JPTimer/Script/JPTimerMgr"),
            m = t("../../../GameCommon/DownBar/GameBar"),
            p = t("../../../GameCommon/InforMgr/Script/InfoMgr"),
            h = t("../../../LobbyCommon/EventModule/MissionMgr/Script/RepeatingMissionMgr"),
            d = t("../../../LobbyCommon/Component/GlobalData"),
            _ = t("../../../LobbyCommon/Net/LobbyClient"),
            g = t("../../../LobbyCommon/EventModule/CommunityBonus/Script/CommBonusMgr"),
            y = t("../../../LobbyCommon/EventModule/CommunityBonus/Script/Rank/CommBonusMgr_Rank"),
            f = cc._decorator,
            S = f.ccclass,
            C = f.property;
        (function(t) {
            t[t.horizontal = 0] = "horizontal", t[t.vertical = 1] = "vertical", t[t.auto = 2] = "auto"
        })(s || (s = {})),
        function(t) {
            t[t.GameBar = 0] = "GameBar", t[t.JPTimerMgr = 1] = "JPTimerMgr", t[t.PurchaseMgr = 2] = "PurchaseMgr", t[t.CheatKeyManager = 3] = "CheatKeyManager", t[t.MessageMgr = 4] = "MessageMgr", t[t.InfoMgr = 5] = "InfoMgr", t[t.SwitchGameGroup = 6] = "SwitchGameGroup"
        }(a = o.ModuleType || (o.ModuleType = {}));
        var v = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_GameBar = null, e.m_JPTimer = null, e.m_CheatKeyMgr = null, e.m_msgMgr = null, e.m_infoMgr = null, e.m_nodeDynamicEvent = null, e.m_RepeatingMissionMgr = null, e.m_CommBonusMgr = null, e.m_CommBonusMgr_Rank = null, e.m_nodeBulletinBoard = null, e
            }
            var o;
            return i(e, t), o = e, Object.defineProperty(e, "Instance", {
                get: function() {
                    return this.instance
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetGameBar", {
                get: function() {
                    return this.m_GameBar
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetJPTimer", {
                get: function() {
                    return this.m_JPTimer
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetCheatKeyMgr", {
                get: function() {
                    return this.m_CheatKeyMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetMsgMgr", {
                get: function() {
                    return this.m_msgMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetInfoMgr", {
                get: function() {
                    return this.m_infoMgr
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                o.instance = this, this.m_GameBar && this.m_GameBar._onLoad(), this.m_JPTimer && this.m_JPTimer._onLoad(), this.m_infoMgr && this.m_infoMgr._onLoad(), this.m_CheatKeyMgr && this.m_CheatKeyMgr._onLoad(), this.m_msgMgr && this.m_msgMgr._onLoad(), d.GlobalData.isDeveloper || null == _.LobbyClient.Instance.m_CommonEventInfo_900004 || this.getDynamicRes()
            }, e.prototype.start = function() {
                this.m_GameBar && this.m_GameBar._start(), this.m_JPTimer && this.m_JPTimer._start(), this.ComposeModule()
            }, e.prototype.onDestroy = function() {
                this.m_GameBar && this.m_GameBar._onDestroy(), this.m_infoMgr && this.m_infoMgr._onDestroy()
            }, e.prototype.SwitchCustomModule = function(t, e) {
                console.warn("[SwitchCustomModule] Module: ", t);
                var o = null;
                switch (t) {
                    case a.GameBar:
                        o = this.m_GameBar, this.m_GameBar = e, this.ReSetModuleSiblingIndex(o, this.m_GameBar), this.m_GameBar._onLoad();
                        break;
                    case a.JPTimerMgr:
                        o = this.m_JPTimer, this.m_JPTimer = e, this.ReSetModuleSiblingIndex(o, this.m_JPTimer), this.m_JPTimer._onLoad();
                        break;
                    case a.PurchaseMgr:
                        break;
                    case a.CheatKeyManager:
                        o = this.m_CheatKeyMgr, this.m_CheatKeyMgr = e, this.ReSetModuleSiblingIndex(o, this.m_CheatKeyMgr), this.m_CheatKeyMgr._onLoad();
                        break;
                    case a.MessageMgr:
                        o = this.m_msgMgr, this.m_msgMgr = e, this.ReSetModuleSiblingIndex(o, this.m_msgMgr), this.m_msgMgr._onLoad();
                        break;
                    case a.InfoMgr:
                        o = this.m_infoMgr, this.m_infoMgr = e, this.ReSetModuleSiblingIndex(o, this.m_infoMgr), this.m_infoMgr._onLoad();
                        break;
                    default:
                        o = null
                }
                null != e && null != o && o.node.destroy()
            }, e.prototype.ReSetModuleSiblingIndex = function(t, e) {
                var o = -1;
                null != t && null != e && (o = t.node.getSiblingIndex(), e.node.parent = this.node, e.node.setSiblingIndex(o))
            }, e.prototype.ComposeModule = function() {
                this.m_GameBar && this.m_GameBar.Compose({
                    parMessageMgr: this.m_msgMgr
                })
            }, e.prototype.getDynamicRes = function() {
                cc.log("CommonRoot.getDynamicRes");
                var t = SS.Common.GameEnvironment.GetCurGameIsVertical() ? "Vertical_" : "",
                    e = cc.director.getScene().getChildByName("LobbyCommon"),
                    o = e.getChildByName(t + "900004");
                o && (o.parent = this.m_nodeDynamicEvent, this.m_RepeatingMissionMgr = o.getComponent(h.RepeatingMissionMgr), this.m_RepeatingMissionMgr.m_MissionBtnCtrl.show(!0));
                var n = e.getChildByName(t + "900004_CommunityBonus");
                n && (n.parent = this.m_nodeDynamicEvent, this.m_CommBonusMgr = n.getComponent(g.CommBonusMgr), this.m_CommBonusMgr.m_MissionBtnCtrl.show(!0));
                var i = e.getChildByName(t + "900004_RankBonus");
                i && (i.parent = this.m_nodeDynamicEvent, this.m_CommBonusMgr_Rank = i.getComponent(y.CommBonusMgr_Rank), this.m_CommBonusMgr_Rank.m_MissionBtnCtrl.show(!0), console.warn("getDynamicRes() 900004_RankBonus")), this.m_nodeBulletinBoard = e.getChildByName("BulletinBoard")
            }, e.prototype.replaceJPTimer = function(t) {
                this.m_JPTimer.node.active = !1, this.m_JPTimer = t
            }, e.prototype.replaceMsgMgr = function(t) {
                this.m_msgMgr.node.active = !1, this.m_msgMgr = t
            }, r([C(m.GameBar)], e.prototype, "m_GameBar", void 0), r([C(u.JPTimerMgr)], e.prototype, "m_JPTimer", void 0), r([C(l.CheatKeyManager)], e.prototype, "m_CheatKeyMgr", void 0), r([C(c.MessageMgr)], e.prototype, "m_msgMgr", void 0), r([C(p.InfoMgr)], e.prototype, "m_infoMgr", void 0), r([C(cc.Node)], e.prototype, "m_nodeDynamicEvent", void 0), o = r([S], e)
        }(cc.Component);
        o.CommonRoot = v, cc._RF.pop()
    }, {
        "../../../GameCommon/CheatKey/CheatKeyManager": "CheatKeyManager",
        "../../../GameCommon/DownBar/GameBar": "GameBar",
        "../../../GameCommon/InforMgr/Script/InfoMgr": "InfoMgr",
        "../../../GameCommon/JPTimer/Script/JPTimerMgr": "JPTimerMgr",
        "../../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../../LobbyCommon/EventModule/CommunityBonus/Script/CommBonusMgr": "CommBonusMgr",
        "../../../LobbyCommon/EventModule/CommunityBonus/Script/Rank/CommBonusMgr_Rank": "CommBonusMgr_Rank",
        "../../../LobbyCommon/EventModule/MissionMgr/Script/RepeatingMissionMgr": "RepeatingMissionMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "./../../../GameCommon/Message/Script/MessageMgr": "MessageMgr"
    }],
    ConnectPanelMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b9245QAPENB5I/cdpndrXav", "ConnectPanelMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ConnectPanelMgr = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.priority = 9, e.m_arrOwner = [], e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this)
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.prototype.ShowConnectPanel = function(t) {
                    void 0 === t && (t = 9), console.warn("ConnectPanelMgr.ShowConnectPanel, priorty = " + t), t < 0 && (t = 0), t > 9 && (t = 9), t < this.priority && (this.priority = t), this.root.active = !0
                }, e.prototype.DisableConnectPanel = function(t) {
                    void 0 === t && (t = 9), console.warn("ConnectPanelMgr.DisableConnectPanel, priorty = " + t), t < 0 && (t = 0), t > 9 && (t = 9), t > this.priority ? console.warn("ConnectPanelMgr.DisableConnectPanel fail,  priority = " + t + ", this.priority = " + this.priority) : (this.root.active = !1, this.priority = 9)
                }, e.prototype.show = function(t) {
                    console.warn("ConnectPanelMgr.show"), this.m_arrOwner.indexOf(t) > -1 || (this.m_arrOwner.push(t), this.root.active = !0)
                }, e.prototype.disable = function(t) {
                    console.warn("ConnectPanelMgr.disable");
                    var e = this.m_arrOwner.indexOf(t);
                    e > -1 && (this.m_arrOwner.splice(e, 1), 0 == this.m_arrOwner.length && (this.root.active = !1))
                }, e.Instance = null, r([c(cc.Node)], e.prototype, "root", void 0), o = r([a], e)
            }(cc.Component);
        o.ConnectPanelMgr = l, cc._RF.pop()
    }, {}],
    CookieCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c65e9F14m9A/pnWyCcQXyD4", "CookieCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CookieKey = void 0;
        var s = cc._decorator,
            a = s.ccclass;
        s.property,
            function(t) {
                t.MusicIndex = "MUSIC_INDEX", t.MusicSaveName = "MUSIC_SAVE_NAME"
            }(o.CookieKey || (o.CookieKey = {}));
        var c = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return i(e, t), e.GetCookie = function(t) {
                if (null != JSUtility) return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
            }, e.SetCookie = function(t, e) {
                JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
            }, r([a], e)
        }(cc.Component);
        o.default = c, cc._RF.pop()
    }, {}],
    CustomWidget: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "25d40+gr6VAj6Km28WtxyEn", "CustomWidget");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WidgetParameter = void 0;
        var s = t("./FullScreenHandler"),
            a = t("./Helper/EventSystem"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function() {
                function t() {
                    this.isAlignTop = !1, this.isAlignBottom = !1, this.isAlignLeft = !1, this.isAlignRight = !1
                }
                return r([u({
                    displayName: "\u662f\u5426\u5c0d\u9f4a\u4e0a\u65b9"
                })], t.prototype, "isAlignTop", void 0), r([u({
                    displayName: "\u662f\u5426\u5c0d\u9f4a\u4e0b\u65b9"
                })], t.prototype, "isAlignBottom", void 0), r([u({
                    displayName: "\u662f\u5426\u5c0d\u9f4a\u5de6\u908a"
                })], t.prototype, "isAlignLeft", void 0), r([u({
                    displayName: "\u662f\u5426\u5c0d\u9f4a\u53f3\u908a"
                })], t.prototype, "isAlignRight", void 0), r([l("WidgetParameter")], t)
            }();
        o.WidgetParameter = m;
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e._widget = null, e.widget = null, e.parameterPortrait = new m, e.parameterLanscape = new m, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                this.widget ? this._widget = this.widget : (this._widget = this.getComponent(cc.Widget), this._widget.enabled = !1);
                try {
                    a.EventSystem.Event(a.UpdateSafeArea).Insert(this.Update, this), a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Insert(this.OnOrientationChange, this)
                } catch (t) {
                    console.warn(t, "\n Event System is not Ready! node(" + this.node.name + ")")
                }
            }, e.prototype.onDestroy = function() {
                a.EventSystem.Event(a.UpdateSafeArea).Remove(this.Update, this), a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Remove(this.OnOrientationChange, this), this._widget.isAlignBottom
            }, e.prototype.onEnable = function() {
                this.UpdateAlignment()
            }, e.prototype.Update = function() {
                this.UpdateAlignment()
            }, e.prototype.UpdateAlignment = function() {
                this._widget.enabled = !0, this._widget.updateAlignment(), this._widget.enabled = !1
            }, e.prototype.OnOrientationChange = function(t) {
                t === s.Orientation.Landscape ? this.SetWidget(this.parameterLanscape) : this.SetWidget(this.parameterPortrait)
            }, e.prototype.SetWidget = function(t) {
                this.widget && (this.widget.isAlignTop = t.isAlignTop, this.widget.isAlignBottom = t.isAlignBottom, this.widget.isAlignLeft = t.isAlignLeft, this.widget.isAlignRight = t.isAlignRight, this.unscheduleAllCallbacks(), this.scheduleOnce(this.UpdateAlignment, 0))
            }, r([u({
                type: cc.Widget,
                displayName: "Widget"
            })], e.prototype, "widget", void 0), r([u({
                type: m,
                displayName: "\u76f4\u7248 Widget \u8a2d\u5b9a\u503c",
                visible: function() {
                    return null !== this.widget
                }
            })], e.prototype, "parameterPortrait", void 0), r([u({
                type: m,
                displayName: "\u6a6b\u7248 Widget \u8a2d\u5b9a\u503c",
                visible: function() {
                    return null !== this.widget
                }
            })], e.prototype, "parameterLanscape", void 0), r([l], e)
        }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "./FullScreenHandler": "FullScreenHandler",
        "./Helper/EventSystem": "EventSystem"
    }],
    DateTimeCountDown: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "57da6uIiDNIDoXzowOIRMjQ", "DateTimeCountDown");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DateTimeCountDown = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.dateTimeLabel = null, e
                }
                return i(e, t), e.prototype.UpdateUI = function(t) {
                    var e = t % 60,
                        o = Math.floor(t / 60) % 60,
                        n = Math.floor(t / 3600);
                    this.dateTimeLabel.string = this.AddZero(n) + ":" + this.AddZero(o) + ":" + this.AddZero(e), this.dateTimeLabel.node.color = 0 == n ? cc.Color.RED : cc.Color.WHITE
                }, e.prototype.UpdateUIWithDay = function(t) {
                    var e, o = t % 60,
                        n = Math.floor(t / 60) % 60,
                        i = Math.floor(t / 3600),
                        r = Math.floor(i / 24);
                    i %= 24, e = r <= 0 ? this.AddZero(i) + ":" + this.AddZero(n) + ":" + this.AddZero(o) : r + "d " + this.AddZero(i) + "h", this.dateTimeLabel.string = e, this.dateTimeLabel.node.color = 0 == i && 0 == r ? cc.Color.RED : cc.Color.WHITE
                }, e.prototype.AddZero = function(t) {
                    return t < 10 ? "0" + t.toString() : t.toString()
                }, e.prototype.getDayString = function(t) {
                    if (t <= 0) return "";
                    for (var e = t.toString(), o = 0; o < 3 && e.length < 3; o++) e = " " + e;
                    return e + "D "
                }, e.prototype.UpdateUIWithFormate = function(t, e) {
                    var o = t % 60,
                        n = Math.floor(t / 60) % 60,
                        i = Math.floor(t / 3600),
                        r = Math.floor(i / 24);
                    i %= 24, e = (e = (e = (e = e.replace("{sec}", this.AddZero(o))).replace("{min}", this.AddZero(n))).replace("{hr}", this.AddZero(i))).replace("{day}", r.toString()), this.dateTimeLabel.string = e, this.dateTimeLabel.node.color = 0 == i && 0 == r ? cc.Color.RED : cc.Color.WHITE
                }, r([c(cc.Label)], e.prototype, "dateTimeLabel", void 0), r([a], e)
            }(cc.Component);
        o.DateTimeCountDown = l, cc._RF.pop()
    }, {}],
    Device: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "897ef2eratOyLg1uu5vA4bA", "Device");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Device = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = (i.property, function() {
                function t() {
                    this.fullScreenTimeOut = null
                }
                var e;
                return e = t, t.prototype.SetFullScreen = function() {
                    let fullScreenTag = window.document.getElementsByTagName("html")[0];
                    if (!window.document.fullscreen) {
                        cc.screen.requestFullScreen(fullScreenTag, function() {});
                    }
                    // console.log("[Device] Set FullScreen"), cc.screen.requestFullScreen(null, null, null)
                }, t.prototype.ExecuteFullScreen = function() {
                    window.gd_EditBox_isEditing || cc.screen.fullScreen() || (this.fullScreenTimeOut && (clearTimeout(this.fullScreenTimeOut), this.fullScreenTimeOut = null), this.fullScreenTimeOut = setTimeout(this.SetFullScreen.bind(this), 500))
                }, t.prototype.IsAllowRegisterFullScreenEvent = function() {
                    return cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os === cc.sys.OS_WINDOWS
                }, t.prototype.RegisterFullScreenEvent = function(t) {
                    cc.sys.os === cc.sys.OS_WINDOWS ? t.addEventListener("mousedown", this.ExecuteFullScreen.bind(this), !0) : t.addEventListener("touchend", this.ExecuteFullScreen.bind(this), !0)
                }, t.init = function(t) {
                    null == this._instance && (this._instance = new e), this._instance.IsAllowRegisterFullScreenEvent() && this._instance.RegisterFullScreenEvent(t)
                }, t.isChrome = function() {
                    return /CriOS/.test(navigator.userAgent)
                }, t.isSafari = function() {
                    return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/CriOS/.test(navigator.userAgent) && !/FxiOS/.test(navigator.userAgent)
                }, t.isIOS = function() {
                    return cc.sys.os === cc.sys.OS_IOS
                }, t.isIOS14Up = function() {
                    return Boolean(navigator.userAgent.match(/OS 1[4-9](_\d)* like Mac OS X/i))
                }, t.isAndroid = function() {
                    return cc.sys.os === cc.sys.OS_ANDROID
                }, t.isAndroid11Up = function() {
                    var t = window.navigator.userAgent.toLowerCase();
                    cc.log(t);
                    var e = t.match(/android\s([0-9\.]*)/i);
                    return cc.log(e), null != e && null != e[1] && null != parseInt(e[1]) && (cc.log(parseInt(e[1])), parseInt(e[1]) >= 11)
                }, t.isWindows = function() {
                    return cc.sys.os === cc.sys.OS_WINDOWS
                }, t.isIpad = function() {
                    var t = window.navigator.userAgent;
                    return t.indexOf("iPad") > -1 || t.indexOf("Macintosh") > -1
                }, t._instance = null, e = n([r], t)
            }());
        o.Device = s, cc._RF.pop()
    }, {}],
    DisableMultiTapHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4d708FkigpFHYRYrht/N2q0", "DisableMultiTapHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DisableMultiTapHandler = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._touchCount = 0, e._onTouchStart = null, e._onTouchEnd = null, e._onTouchCancel = null, e._resetCount = null, e._unlock = null, e._IsWebview = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    cc.macro.ENABLE_MULTI_TOUCH = !1, this.RegisterDisableMultiTouchHandler(), this._touchCount = 0, this._IsWebview = window !== window
                }, e.prototype.onDestroy = function() {
                    this.UnregisterDisableMultiTouchHandler()
                }, e.prototype.RegisterDisableMultiTouchHandler = function() {
                    this._onTouchStart = this.OnTouchStart.bind(this), this._onTouchEnd = this.OnTouchEnd.bind(this), this._onTouchCancel = this.OnTouchCancel.bind(this), this._resetCount = this.Reset.bind(this), this._unlock = this.Unlock.bind(this);
                    var t = window.document.getElementById("GameCanvas");
                    t.addEventListener("touchstart", this._onTouchStart, !1), t.addEventListener("touchend", this._onTouchEnd, !1), t.addEventListener("touchcancel", this._onTouchCancel, !1), this._IsWebview ? (window.addEventListener("resize", this._resetCount, !1), window.addEventListener("orientationchange", this._resetCount, !1), window.releaseLockWebView = this._resetCount) : (window.addEventListener("resize", this._resetCount, !1), window.addEventListener("orientationchange", this._resetCount, !1), window.releaseLock = this._resetCount)
                }, e.prototype.UnregisterDisableMultiTouchHandler = function() {
                    var t = window.document.getElementById("GameCanvas");
                    t.removeEventListener("touchstart", this._onTouchStart, !1), t.removeEventListener("touchend", this._onTouchEnd, !1), t.addEventListener("touchcancel", this._onTouchCancel, !1), this._IsWebview ? (window.removeEventListener("resize", this._resetCount, !1), window.removeEventListener("orientationchange", this._resetCount, !1), window.releaseLockWebView = null) : (window.removeEventListener("resize", this._resetCount, !1), window.removeEventListener("orientationchange", this._resetCount, !1), window.releaseLock = null), this._onTouchStart = null, this._onTouchEnd = null, this._onTouchCancel = null, this._resetCount = null, this._unlock = null
                }, e.prototype.OnTouchStart = function(t) {
                    this._touchCount += t.changedTouches.length, this.log("Touch Start"), this.log("Count : " + this._touchCount), this.log("Change Touch Lenth : " + t.changedTouches.length)
                }, e.prototype.OnTouchEnd = function(t) {
                    this._touchCount -= t.changedTouches.length, this.log("Touch End"), this.log("Count : " + this._touchCount), this.log("Change Touch Lenth : " + t.changedTouches.length), this._touchCount > 0 || this.scheduleOnce(this._unlock, .001)
                }, e.prototype.OnTouchCancel = function(t) {
                    this.log("Touch Cancel"), this.log("Change Touch Lenth : " + t.changedTouches.length), this._touchCount -= t.changedTouches.length, cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.Reset = function() {
                    this.log("Reset"), cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.Unlock = function() {
                    this.log("Unlock"), cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.log = function(t) {
                    this._IsWebview ? console.log("[MulTap-] " + t + " in Webview") : console.log("[MulTap-] " + t + " in Lobby")
                }, r([a], e)
            }(cc.Component));
        o.DisableMultiTapHandler = c, cc._RF.pop()
    }, {}],
    DontDestroy: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a62d18oW0NPeZtGbXFooHjg", "DontDestroy");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DontDestroy = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onLoad = function() {
                    cc.game.addPersistRootNode(this.node)
                }, r([a], e)
            }(cc.Component));
        o.DontDestroy = c, cc._RF.pop()
    }, {}],
    Downloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4cea8qNv8xJRoVBqNQZ34L7", "Downloader");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Downloader = void 0;
        var r = function() {
            function t() {
                this.retryTimes = 0, this.retryTimeOut = [2e3, 3e3, 4e3, 5e3, 6e3]
            }
            return t.prototype.GetScript = function(t, e, o) {
                var n = document.createElement("script");
                n.type = "text/javascript", n.src = t, n.timeout = 1e4, n.ontimeout = function() {
                    null != o && o(arguments)
                }, n.onerror = function() {
                    null != o && o(arguments)
                }, n.onload = n.onreadystatechange = function() {
                    this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (null != e && "function" == typeof e && e(), this.onload = this.onreadystatechange = null, document.getElementsByTagName("head")[0].removeChild(this))
                }, document.getElementsByTagName("head")[0].appendChild(n)
            }, t.prototype.GetImage = function(t, e, o) {
                var n = this,
                    i = new XMLHttpRequest;
                i.responseType = "arraybuffer", i.onload = function() {
                    i.status >= 200 && i.status < 300 || 304 == i.status ? null != e && "function" == typeof e && e(this.response) : (console.log("xhr.onload error status ", i.status), n.RetryHandler(this.response, i, t, o))
                }, i.onerror = function(e) {
                    console.log("xhr.onerror  ", e), n.RetryHandler(e, i, t, o)
                }, i.ontimeout = function(e) {
                    console.log("xhr.ontimeout  ", e), n.RetryHandler(e, i, t, o)
                }, i.open("GET", t), i.timeout = n.retryTimeOut[n.retryTimes], console.log("send : ", t), i.send()
            }, t.prototype.GetJSON = function(t, e, o) {
                var n = this;
                if (window.XMLHttpRequest) {
                    t += "?Date=" + (new Date).getTime();
                    var i = new XMLHttpRequest;
                    this.retryTimes = 0, i.onload = function() {
                        i.status >= 200 && i.status < 300 || 304 == i.status ? null != e && "function" == typeof e && e(this.responseText) : (console.log("xhr.onload error status ", i.status), n.RetryHandler(this.responseText, i, t, o))
                    }, i.onerror = function(e) {
                        console.log("xhr.onerror  ", e), n.RetryHandler(e, i, t, o)
                    }, i.ontimeout = function(e) {
                        console.log("xhr.ontimeout  ", e), n.RetryHandler(e, i, t, o)
                    }, i.open("GET", t), i.timeout = n.retryTimeOut[n.retryTimes], i.send()
                } else null != o && "function" == typeof o && (console.error("Error from XMLHttpRequest"), o("Error from XMLHttpRequest"))
            }, t.prototype.RetryHandler = function(t, e, o, r) {
                return n(this, void 0, void 0, function() {
                    var n;
                    return i(this, function() {
                        return (n = this).retryTimes == n.retryTimeOut.length - 1 ? (console.log("retry fail ", t), null != r && "function" == typeof r && r(t)) : (console.log("self.retryTimes", n.retryTimes), console.log("xhr.timeout", e.timeout), "timeout" != t.type ? (console.log("not timeout error"), setTimeout(function() {
                            e.open("GET", o), e.timeout = n.retryTimeOut[++n.retryTimes], e.send()
                        }, 3e3)) : (e.open("GET", o), e.timeout = n.retryTimeOut[++n.retryTimes], e.send())), [2]
                    })
                })
            }, t
        }();
        o.Downloader = r, cc._RF.pop()
    }, {}],
    Download: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f7dec2L5EdP/q/FiNWKWGEe", "Download");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Download = void 0;
        var r = t("../Net/Downloader/ImageDownloader"),
            s = t("../Net/Downloader/JSONDownloder"),
            a = t("../Net/Downloader/VersionDownloader"),
            c = function() {
                function t() {
                    this._config = null
                }
                return Object.defineProperty(t, "_instance", {
                    get: function() {
                        return null == this._inst && (this._inst = new t), this._inst
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.Version = function(t) {
                    return n(this, void 0, Promise, function() {
                        return i(this, function() {
                            return [2, new Promise(function(e) {
                                (new a.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/" + t + "/", function(t) {
                                    var o = t.Version;
                                    SS.Common.GameEnvironment.IgnoreVersionCtrl && e(t.VersionDEV), e(o)
                                }, function(t) {
                                    console.error("Version Download Failed\n", t), e("Error")
                                })
                            })]
                        })
                    })
                }, t.JSON = function(t) {
                    return n(this, void 0, Promise, function() {
                        var e;
                        return i(this, function() {
                            return e = "", -1 === t.indexOf("http") && (e += SS.Common.GameEnvironment.S3URL + "/"), e += t, -1 === t.indexOf(".json") && (e += ".json"), [2, new Promise(function(t) {
                                (new s.JSONDownloader).Start(e, function(e) {
                                    t(e)
                                }, function(e) {
                                    console.error("JSON File Download Failed\n", e), t(JSON.parse("{}"))
                                })
                            })]
                        })
                    })
                }, t.Image = function(t) {
                    return n(this, void 0, Promise, function() {
                        var e;
                        return i(this, function() {
                            return e = "", -1 === t.indexOf("http") && (e += this._instance.DownloadPath + "/"), e += t, [2, new Promise(function(t) {
                                (new r.ImageDownloader).Start(e, function(e) {
                                    t(e)
                                }, function(e) {
                                    console.error("Image Download Failed\n", e), t(null)
                                })
                            })]
                        })
                    })
                }, t.Prefab = function(e, o, r) {
                    return void 0 === o && (o = ""), void 0 === r && (r = ""), n(this, void 0, Promise, function() {
                        var n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return [2, new Promise(function(i) {
                                        t.Bundle(e, r).then(function(t) {
                                            "" === o && (o = n._instance._config[e].path + n._instance._config[e].MainPrefab), t.load(o, cc.Prefab, function(t, e) {
                                                t && (console.error("Prefab(" + o + ") can't Load " + t), i(null)), i(e)
                                            })
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Download Failed\n", t), i(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.VerticalPrefab = function(e) {
                    return n(this, void 0, Promise, function() {
                        var o = this;
                        return i(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return [2, new Promise(function(n) {
                                        var i = "";
                                        o._instance._config[e].VerticalPrefab && (i = o._instance._config[e].path + o._instance._config[e].VerticalPrefab), t.Prefab(e, i).then(function(t) {
                                            n(t)
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Download Vertical Prefab Failed\n", t), n(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.Bundle = function(t, e) {
                    return void 0 === e && (e = ""), n(this, void 0, Promise, function() {
                        var o, n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return this._instance._config[t] ? [4, this._instance.CheckDependencies(t)] : [2, null];
                                case 3:
                                    return o = i.sent(), [2, new Promise(function(i) {
                                        o || (console.warn("[Download] Check Dependency Failed"), i(null));
                                        var r = cc.assetManager.getBundle(t);
                                        if (r) console.log("[Download] getBundle ", t, " from local.", r), i(r);
                                        else {
                                            var s;
                                            s = "" === e ? n._instance.GetBundleDownloadPath(t) : e + t, console.log("[Download] Bundle Path: " + s + "  bundleName =  " + t + " CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), cc.assetManager.loadBundle(s, function(o, n) {
                                                o ? (console.error("[Download] Error Occur When Download Bundle (" + t + ")!!\nDownload Path: " + e + "\n", o), i(null)) : i(n)
                                            })
                                        }
                                    })]
                            }
                        })
                    })
                }, t.Preload = function(e, o) {
                    return void 0 === o && (o = ""), n(this, void 0, void 0, function() {
                        var n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return [2, new Promise(function(i) {
                                        t.Bundle(e, o).then(function(t) {
                                            "" === o && n._instance.GetBundleDownloadPath(e), t.preloadDir(o, cc.Prefab, function(t, o) {
                                                t ? console.error("Preload Bundle(" + e + ") Failed!\n", t) : (console.log("Preload Bundle(" + e + ") Succeeded!\n", o), i(null))
                                            })
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Preload Failed\n", t), i(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.ReleaseBundles = function(e) {
                    for (var o = 0, n = e; o < n.length; o++) {
                        var i = n[o];
                        t.ReleaseBundle(i)
                    }
                }, t.ReleaseBundle = function(t) {
                    console.log("[Download] Release Bundle(" + t + ") ");
                    var e = cc.assetManager.getBundle(t);
                    e ? (e.releaseAll(), cc.assetManager.removeBundle(e)) : console.log("[Download] No Bundle named " + t + " Loaded")
                }, t.prototype.GetBundleDownloadPath = function(t) {
                    var e = "";
                    if (e = this.DownloadPath + "/Bundle/" + t, this._config[t]) {
                        var o = this._config[t].Version;
                        SS.Common.GameEnvironment.IgnoreVersionCtrl && this._config[t].VersionDEV && (o = this._config[t].VersionDEV), e += "/" + o
                    }
                    return e
                }, Object.defineProperty(t.prototype, "DownloadPath", {
                    get: function() {
                        // return SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : window.location.origin
                        return window.location.origin + '/games/FishWonderCatPGD';
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.DownloadBundleConfig = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new a.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/Bundle/", function(n) {
                                            try {
                                                t._config = n, e(n)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            console.error("Download Bundle Config Failed!"), o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckDependencies = function(e) {
                    return n(this, void 0, Promise, function() {
                        var o, n, r;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (o = t._instance._config[e].Dependency, n = !0, !o) return [3, 4];
                                    console.log("[Download] Check dependency of " + e), r = 0, i.label = 1;
                                case 1:
                                    return r < o.length ? [4, t.Bundle(o[r])] : [3, 4];
                                case 2:
                                    null === i.sent() && (console.warn("[Download] Dependency of " + e + ": " + o[r] + " Download Failed"), n = !1), i.label = 3;
                                case 3:
                                    return r++, [3, 1];
                                case 4:
                                    return [2, new Promise(function(t) {
                                        t(n)
                                    })]
                            }
                        })
                    })
                }, t._inst = null, t
            }();
        o.Download = c, cc._RF.pop()
    }, {
        "../Net/Downloader/ImageDownloader": "ImageDownloader",
        "../Net/Downloader/JSONDownloder": "JSONDownloder",
        "../Net/Downloader/VersionDownloader": "VersionDownloader"
    }],
    EnableToPlayAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "aef4aOY0a5E04Q8NdB7JQMS", "EnableToPlayAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EnableToPlayAnimation = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.animation = null, e
                }
                return i(e, t), e.prototype.onEnable = function() {
                    this.animation.play()
                }, e.prototype.PlayAnimation = function(t) {
                    this.animation.play(t)
                }, r([c(cc.Animation)], e.prototype, "animation", void 0), r([a], e)
            }(cc.Component);
        o.EnableToPlayAnimation = l, cc._RF.pop()
    }, {}],
    EnableToPlayParticle: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "161f7PbaZhGOq9T3OhZuJom", "EnableToPlayParticle");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EnableToPlayParticle = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.particleSystem = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.particleSystem = this.getComponent(cc.ParticleSystem)
                }, e.prototype.onEnable = function() {
                    this.particleSystem.resetSystem()
                }, r([a], e)
            }(cc.Component));
        o.EnableToPlayParticle = c, cc._RF.pop()
    }, {}],
    EncryptSkeleton: [function(t, e) {
        "use strict";
        cc._RF.push(e, "17403y3DEJIAJBAKxGyW7Jn", "EncryptSkeleton");
        var o, n = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            i = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            r = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            },
            a = window.Editor,
            c = cc.Enum({
                Debug: 0,
                Release: 1
            }),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property;
        (function(e) {
            function o() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.index = -1, t.editor_mode = c.Release, t
            }
            n(o, e), Object.defineProperty(o.prototype, "editorMode", {
                get: function() {
                    return this.editor_mode
                },
                set: function() {},
                enumerable: !1,
                configurable: !0
            }), o.prototype.__preload = function() {
                return r(this, void 0, void 0, function() {
                    var t;
                    return s(this, function() {
                        return this.skeletonData && (t = this.skeletonData._skeletonJson, this.editor_mode = t.editor_mode || c.Debug, this.editor_mode == c.Release && this._decodeSkeletonData()), e.prototype.__preload.call(this), [2]
                    })
                })
            }, o.prototype.onEnable = function() {
                if (!this.skeletonData) return this.node.active = !1, void cc.warn("\u8acb\u9078\u64c7Skeleton Data");
                this.registerComponent(), this.__preload(), e.prototype.onEnable.call(this)
            }, o.prototype.onDestroy = function() {
                this.removeComponent()
            }, o.prototype.registerComponent = function() {}, o.prototype.removeComponent = function() {}, o.prototype._decodeSkeletonData = function() {
                var t = "";
                try {
                    t = "2.0.10" === cc.ENGINE_VERSION ? "skeletonJson" : "_skeletonJson";
                    var e = this.skeletonData[t].data;
                    e && (this.skeletonData[t] = JSON.parse(decodeURIComponent(atob(e))), this.skeletonData[t].editor_mode = this.editor_mode, this.skeletonData.reset())
                } catch (o) {
                    cc.warn("[decodeSkeletonData] %s error: ", t, o)
                }
            }, o.prototype._modifySkeletonData = function(e, o) {
                var n = this,
                    i = this.skeletonData._uuid,
                    r = i.substr(0, 2),
                    s = t("fs"),
                    l = t("path").join(a.Project.path, "library", "imports", r, i + ".json"),
                    u = JSON.parse(s.readFileSync(l));
                this.editor_mode === c.Debug && e === c.Release ? u._skeletonJson = {
                    data: btoa(encodeURIComponent(JSON.stringify(u._skeletonJson))),
                    editor_mode: e
                } : this.editor_mode === c.Release && e === c.Debug ? (u._skeletonJson = JSON.parse(decodeURIComponent(atob(u._skeletonJson.data))), u._skeletonJson.editor_mode = e) : a.warn("_modifySkeletonData \u932f\u8aa4"), s.writeFile(l, JSON.stringify(u), "utf-8", function(t) {
                    t && console.error(t), a.log("SkeletonData: %s decode success, editor_mode: %s", i, n.editor_mode), o && o(i, t)
                })
            }, o.manager = {}, o.index = 0, o.MAX_INDEX = 4096, i([m({
                type: c
            })], o.prototype, "editorMode", null), o = i([u()], o)
        })(sp.Skeleton), cc._RF.pop()
    }, {
        fs: void 0,
        path: 1
    }],
    ErrorMsgDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f6a6antrVlPoLVWP9qTdOIo", "ErrorMsgDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ErrorMsgDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t + "ErrorMsg" + SS.Common.GameEnvironment.ProjectSetting.ErrorMsgVersion + ".json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("ErrorMsgDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[ErrorMsgDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.ErrorMsgDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    EventBannerData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "53a08u5Ue9BB4ENSI+O0oZk", "EventBannerData");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventBannerData = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = (i.property, function() {
                function t(t, e, o, n, i) {
                    void 0 === n && (n = null), void 0 === i && (i = null), this.m_sBannerID = "", this.m_iEventTitleTiype = null, this.m_fucClickEvent = null, this.m_funShowPopupEvent = null, this.m_funTimerEvent = null, this.m_bValid = !1, this.m_sBannerID = t, this.m_iEventTitleTiype = e, this.m_fucClickEvent = o, this.m_funShowPopupEvent = n, this.m_funTimerEvent = i
                }
                return n([r], t)
            }());
        o.EventBannerData = s, cc._RF.pop()
    }, {}],
    EventCaller: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d8232/E0DVGApc6BcbYIDZu", "EventCaller");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventCaller = o.EventFormat = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function() {
                function t() {
                    this.key = "", this.target = null, this.className = "", this.functionName = ""
                }
                return r([c()], t.prototype, "key", void 0), r([c(cc.Node)], t.prototype, "target", void 0), r([c()], t.prototype, "className", void 0), r([c()], t.prototype, "functionName", void 0), r([a("EventFormat")], t)
            }();
        o.EventFormat = l;
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.event = [], e
            }
            return i(e, t), e.prototype.onDestroy = function() {
                this.event = null
            }, e.prototype.CallEevent = function(t) {
                for (var e = 0; e < this.event.length; e++)
                    if (this.event[e].key == t) {
                        var o = this.event[e].target.getComponent(this.event[e].className);
                        return void(o ? o[this.event[e].functionName] ? o[this.event[e].functionName]() : console.warn("EventCaller Not Found Target : " + this.event[e].className) : console.warn("EventCaller Not Found Function : " + this.event[e].functionName))
                    }
            }, r([c([l])], e.prototype, "event", void 0), r([a], e)
        }(cc.Component);
        o.EventCaller = u, cc._RF.pop()
    }, {}],
    EventModule: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2e6650310tHVq53qniQloza", "EventModule");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventModule = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strEventID = "", e.m_fucCBInitDone = null, e.m_LobbyMgr = null, e.m_bVertical = !1, e.m_numOriginSiblingIndex = 0, e
                }
                return i(e, t), e.prototype.init = function(t, e) {
                    this.m_fucCBInitDone = e, this.m_LobbyMgr = t, null != SS.Common.GameEnvironment.CurrentGameNow && 1 == SS.Common.GameEnvironment.ProjectSetting.Modules[SS.Common.GameEnvironment.CurrentGameNow].Vertical && (this.m_bVertical = !0)
                }, e.prototype.initDone = function() {
                    null != this.m_fucCBInitDone && this.m_fucCBInitDone()
                }, e.prototype.reloadLobby = function() {
                    console.error("reloadLobby()"), this.m_LobbyMgr && this.m_LobbyMgr.ReloadLobby()
                }, e.prototype.ShowMainPanel = function() {}, e.prototype.isVertical = function() {
                    return this.m_bVertical
                }, e.prototype.setOnTop = function() {
                    this.m_numOriginSiblingIndex = this.node.getSiblingIndex();
                    for (var t = this.node.parent.children, e = -1, o = 0; o < t.length; o++) e = e > t[o].getSiblingIndex() ? e : t[o].getSiblingIndex();
                    e++, this.node.setSiblingIndex(e)
                }, e.prototype.ResetSiblingIndex = function() {
                    this.node.setSiblingIndex(this.m_numOriginSiblingIndex)
                }, e.prototype.checkNewEvent = function(t) {
                    cc.log("EventModule.checkNewEvent");
                    var e, o = "";
                    if ((e = this.getCookie("GDC_USER_ID")) == this.getCookie("SHOW_ID_QUEST_USER_ID")) {
                        for (var n = (o = this.getCookie("SHOW_ID_QUEST_ID_LIST")).split("&"), i = 0; i < n.length; i++)
                            if (n[i] == t) return cc.log("match!"), !1;
                        return cc.log("new event!"), this.setCookie("SHOW_ID_QUEST_ID_LIST", "" == o ? t : o + "&" + t), !0
                    }
                    return cc.log("new user!"), this.setCookie("SHOW_ID_QUEST_USER_ID", e), this.setCookie("SHOW_ID_QUEST_ID_LIST", t), !0
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, e.prototype.SetEventActive = function() {
                    SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") && (SS.Common.GameEnvironment.GameSetting.active_event[this.m_strEventID] = !0)
                }, e.prototype.CloseEvent = function() {
                    SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") && (SS.Common.GameEnvironment.GameSetting.active_event[this.m_strEventID] = !1)
                }, r([a], e)
            }(cc.Component));
        o.EventModule = c, cc._RF.pop()
    }, {}],
    EventSystem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "16789pgmORJU7fZEaySkKYQ", "EventSystem"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishHunter = o.GameBarEvent = o.SkillGame = o.JackpotReward = o.JackpotTimer = o.JackpotWinner = o.PurchaseEvent = o.Rule = o.MobileID = o.Password = o.Account = o.Music = o.DownBar = o.TopBar = o.MenuStatus = o.DockFunction = o.Menu = o.Banner = o.ModuleState = o.SystemMsg = o.ScreenOrientationState = o.LobbyState = o.Icon = o.Type = o.ShowLogoutSkillGame = o.AccountInfo = o.Version = o.RegisterLayer = o.UpdateSafeArea = o.IsIgnoreVersionControl = o.EventSystem = void 0;
        var n, i, r, s, a, c, l, u, m, p, h, d, _, g, y, f, S, C, v, P, b, w, M, E, T = function() {
            function t() {}
            return t.Event = function(t) {
                return this.m_listDelegate[t] ? this.m_listDelegate[t] : (this.m_listDelegate[t] = new SS.Common.Delegate, this.m_listDelegate[t])
            }, t.Function = function(t) {
                return this.m_listFunction[t] ? this.m_listFunction[t] : function() {
                    console.warn("There is no Function registered named '" + t + "'")
                }
            }, t.RegisterFunction = function(t, e) {
                this.m_listFunction[t] ? console.warn("There is already a Function registered named '" + t + "'\n System will cancell the registration!") : (this.m_listFunction[t] = new Function, this.m_listFunction[t] = e)
            }, t.UnregisterFunction = function(t) {
                this.m_listFunction[t] ? this.m_listFunction[t] = null : console.warn("There is no Function registered named '" + t + "'\n System will do Nothing!")
            }, t.Destroy = function() {
                for (var e = 0, o = t.m_listDelegate; e < o.length; e++) o[e];
                t.m_listDelegate = null;
                for (var n = 0, i = t.m_listFunction; n < i.length; n++) i[n];
                t.m_listFunction = null
            }, t.m_listDelegate = [], t.m_listFunction = [], t
        }();
        o.EventSystem = T, o.IsIgnoreVersionControl = "ignore_version_control", o.UpdateSafeArea = "update_safe_area", o.RegisterLayer = "register_layer", o.Version = "[version]", o.AccountInfo = "[account_info]", o.ShowLogoutSkillGame = "[show_logout_skill_game]",
            function(t) {
                t.SetEventFlag = "[game_icon]_set_event_flag", t.SetFishFlagByEvent = "[game_icon]_set_fish_flag_by_event", t.SetIcon = "[game_icon]_set_icon", t.ShowIcon = "[game_icon]_show_icon", t.ClickIcon = "[game_icon]_click_icon", t.OnClickIcon = "[game_icon]_on_click_icon", t.SetGroup = "[game_icon]_set_group", t.SetIconGroupData = "[game_icon]_set_icon_group_data", t.SortChange = "[game_icon]_sort_change", t.GetFishJP = "[game_icon]_get_fish_jp"
            }(n || (n = {})), o.Icon = n,
            function(t) {
                t.SetBackground = "[game_type]_set_background", t.HideSelectType = "[game_type]_hide_select_type", t.ShowSelectType = "[game_type]_open_select_type", t.InitGameType = "[game_type]_init_game_type", t.ClickType = "[game_type]_click_type"
            }(i || (i = {})), o.Type = i,
            function(t) {
                t.SetDefaultBanner = "[banner]_set_default_banner", t.ShowBanner = "[banner]_show_banner", t.SetEventBanner = "[banner]_set_event_banner", t.SaveBannerCmdData = "[banner]_save_banner_cmd_data", t.PushCurrentOpenEventName = "[banner]_push_current_open_event_name", t.BannerDataInit = "[banner]_banner_data_init", t.SetBannerFeature = "[banner]_set_banner_feature"
            }(r || (r = {})), o.Banner = r,
            function(t) {
                t.Sound = "[dock_function]_sound", t.Account = "[dock_function]_account", t.JPHistory = "[dock_function]_jp_history", t.GameHistory = "[dock_function]_game_history", t.Logout = "[dock_function]_logout", t.FullScreen = "[dock_function]_full_screen", t.News = "[dock_function]_news", t.Info = "[dock_function]_info", t.Open = "[dock_function]_open", t.Close = "[dock_function]_close", t.Custom = "[dock_function]_custom", t.Music = "[dock_function]_music"
            }(s || (s = {})), o.DockFunction = s,
            function(t) {
                t.SetDisableMenuButton = "[menu]_set_disable_menu_button", t.SetMenuStatus = "[menu]_set_menu_status", t.SetDockButton = "[menu]_set_dock_button", t.SetDockButtonNew = "[menu]_set_dock_button_new", t.OpenDock = "[menu]_open_dock", t.CloseDock = "[menu]_close_dock", t.SetSwitch = "[menu]_set_switch"
            }(a || (a = {})), o.Menu = a,
            function(t) {
                t[t.Init = 0] = "Init", t[t.InLobbyNormal = 1] = "InLobbyNormal", t[t.InLobbyDisabled = 2] = "InLobbyDisabled", t[t.InGameNormal = 3] = "InGameNormal", t[t.InGameDisabled = 4] = "InGameDisabled", t[t.GuestLogin = 5] = "GuestLogin"
            }(c || (c = {})), o.MenuStatus = c,
            function(t) {
                t.OnLoad = "[lobby_state]_on_load", t.Start = "[lobby_state]_start", t.OnDestroy = "[lobby_state]_on_destroy"
            }(l || (l = {})), o.ModuleState = l,
            function(t) {
                t.CheckVersion = "[lobby_state]_check_version", t.DownloadSetting = "[lobby_state]_download_setting", t.WaitPacket = "[lobby_state]_wait_packet", t.RecvAllPacket = "[lobby_state]_recv_all_packet", t.DownloadResources = "[lobby_state]_download_resources", t.EnterLobby = "[lobby_state]_enter_lobby", t.Logout = "[lobby_state]_logout"
            }(u || (u = {})), o.LobbyState = u,
            function(t) {
                t.ChangeOrientation = "[Screen_Orientation_State]_change_orientation", t.GetOrientation = "[Screen_Orientation_State]_get_orientation", t.SetOrientation = "[Screen_Orientation_State]_set_orientation", t.CheckOrientation = "[Screen_Orientation_State]_check_orientation", t.GetOrientationSetting = "[Screen_Orientation_State]_get_orientation_setting"
            }(m || (m = {})), o.ScreenOrientationState = m,
            function(t) {
                t.Open = "[system_background]_open", t.Close = "[system_background]_close", t.ClearQueue = "[system_background]_clear_queue"
            }(p || (p = {})), o.SystemMsg = p,
            function(t) {
                t.Open = "[rule_page]_open", t.SetData = "[rule_page]_set_data"
            }(h || (h = {})), o.Rule = h,
            function(t) {
                t.ChangeJPVal = "[top_bar]_change_jp_value", t.SetJPValShowFormat = "[top_bar]_set_jp_value_show_format", t.GetRoot = "[top_bar]_get_root", t.SetJPShow = "[top_bar]_set_jp_show"
            }(d || (d = {})), o.TopBar = d,
            function(t) {
                t.SetPlayerInfo = "[down_bar]_set_player_info", t.ToggleScorebox = "[down_bar]_toggle_score_box"
            }(_ || (_ = {})), o.DownBar = _,
            function(t) {
                t.PlayMusic = "[music_setting]_play_music", t.StopMusic = "[music_setting]_stop_music", t.GetHasNewMusic = "[music_setting]_get_has_new_music", t.SaveNewMusicName = "[music_setting]_save_new_music_name", t.LoginMusic = "[music_setting]_login_music"
            }(g || (g = {})), o.Music = g,
            function(t) {
                t.EditPassword = "[account]_edit_password", t.EditMobileID = "[account]_edit_mobile_id", t.Close = "[account]_close", t.Show = "[account]_show"
            }(y || (y = {})), o.Account = y,
            function(t) {
                t.Edit = "[password]_edit", t.EditOk = "[password]_edit_ok", t.EditClose = "[password]_edit_close", t.ForceClose = "[password]_force_close"
            }(f || (f = {})), o.Password = f,
            function(t) {
                t.Edit = "[mobile_id]_edit", t.EditOk = "[mobile_id]_edit_ok", t.EditClose = "[mobile_id]_edit_close"
            }(S || (S = {})), o.MobileID = S,
            function(t) {
                t.CanSpin = "[game_bar]_can_spin", t.Spin = "[game_bar]_spin", t.CanStop = "[game_bar]_can_stop", t.Stop = "[game_bar]_stop", t.CanStart = "[game_bar]_can_start", t.Start = "[game_bar]_start", t.CanTake = "[game_bar]_can_take", t.Take = "[game_bar]_take"
            }(C || (C = {})), o.GameBarEvent = C,
            function(t) {
                t.OnClickPurchaseBtn = "[Purchase]_OnClickPurchaseBtn", t.OnPurchaseSuccess = "[Purchase]_OnPurchaseSuccess", t.OnPurchasePanelDisable = "[Purchase]_OnPurchasePanelDisable", t.ShowPanel = "[Purchase]_ShowPanel", t.DisablePanel = "[Purchase]_DisablePanel"
            }(v || (v = {})), o.PurchaseEvent = v,
            function(t) {
                t.OnClickClose = "[jp_winner]_on_click_close", t.SetJpValueFormat = "[jp_winner]_set_jp_format", t.Show = "[jp_winner]_show", t.SetInfoPage = "[jp_winner]_set_infoPage"
            }(P || (P = {})), o.JackpotWinner = P,
            function(t) {
                t.GetRoot = "[jp_timer]_get_root"
            }(b || (b = {})), o.JackpotTimer = b,
            function(t) {
                t.SetJpLock = "[jp_reward] JackpotReward Lock Status"
            }(w || (w = {})), o.JackpotReward = w,
            function(t) {
                t.OnClickClose = "[skill_game]_on_click_close"
            }(M || (M = {})), o.SkillGame = M,
            function(t) {
                t.DownloadBundleFinished = "[FishHunter]_DownloadBundleFinished"
            }(E || (E = {})), o.FishHunter = E, cc._RF.pop()
    }, {}],
    EventTipsMask: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7747eq2D2hCP6H/cdxuEy2I", "EventTipsMask");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventTipsMask = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMask = null, e.m_delHideCb = null, e.m_bClickAnyEvent = !1, e
                }
                var o;
                return i(e, t), o = e, e.prototype.start = function() {
                    o.Instance = this, this.m_delHideCb = new SS.Common.Delegate
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.prototype.show = function() {
                    var t = this;
                    this.m_bClickAnyEvent || (this.m_nodeMask.active = !0, this.m_nodeMask.opacity = 185, setTimeout(function() {
                        t.hide()
                    }, 6e4))
                }, e.prototype.hide = function() {
                    var t = this;
                    this.m_bClickAnyEvent || (this.m_bClickAnyEvent = !0, null != this.m_nodeMask && this.m_nodeMask.active && cc.tween(this.m_nodeMask).to(.5, {
                        opacity: 0
                    }).call(function() {
                        return t.m_nodeMask.active = !1
                    }).start(), this.m_delHideCb.Length > 0 && this.m_delHideCb.Notify())
                }, e.prototype.onClick = function() {
                    this.hide()
                }, e.prototype.checkNewEvent = function(t) {
                    cc.log("EventTipsMask.checkNewEvent");
                    var e, o = "";
                    if ((e = this.getCookie("GDC_USER_ID")) == this.getCookie("QUEST_USER_ID")) {
                        for (var n = (o = this.getCookie("QUEST_ID_LIST")).split("&"), i = !1, r = 0; r < n.length; r++)
                            if (n[r] == t) {
                                i = !0;
                                break
                            }
                        i || (cc.log("new event!"), this.show(), this.setCookie("QUEST_ID_LIST", "" == o ? t : o + "&" + t))
                    } else cc.log("new user!"), this.show(), this.setCookie("QUEST_USER_ID", e), this.setCookie("QUEST_ID_LIST", t)
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, e.Instance = null, r([c(cc.Node)], e.prototype, "m_nodeMask", void 0), o = r([a], e)
            }(cc.Component);
        o.EventTipsMask = l, cc._RF.pop()
    }, {}],
    FakeScoreBoxCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bb533ygmlVFj4OWtqIu2HK3", "FakeScoreBoxCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FakeScoreBoxCtrl = o.ShowType = void 0;
        var s, a = t("./../../Component/NumberCountUp"),
            c = t("./GetBonusShow"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.ENTRIES = 0] = "ENTRIES", t[t.WINNING = 1] = "WINNING", t[t.CREDIT = 2] = "CREDIT"
        })(s = o.ShowType || (o.ShowType = {}));
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeRoot = null, e.mask = null, e.m_nodeBGEntries = null, e.m_nodeLabelEntries = null, e.m_CountUpEntries = null, e.m_nodeBGWinning = null, e.m_nodeLabelWinning = null, e.m_CountUpWinning = null, e.m_nodeBGCredit = null, e.m_nodeLabelCredit = null, e.m_CountUpCredit = null, e.m_getBonusShow = null, e.m_nodeBGTarget = null, e.m_nodeLabelTarget = null, e.m_CountUpTarget = null, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                this.hide()
            }, e.prototype.setType = function(t) {
                switch (t) {
                    case s.ENTRIES:
                        this.m_nodeBGTarget = this.m_nodeBGEntries, this.m_nodeLabelTarget = this.m_nodeLabelEntries, this.m_CountUpTarget = this.m_CountUpEntries;
                        break;
                    case s.WINNING:
                        this.m_nodeBGTarget = this.m_nodeBGWinning, this.m_nodeLabelTarget = this.m_nodeLabelWinning, this.m_CountUpTarget = this.m_CountUpWinning;
                        break;
                    case s.CREDIT:
                        this.m_nodeBGTarget = this.m_nodeBGCredit, this.m_nodeLabelTarget = this.m_nodeLabelCredit, this.m_CountUpTarget = this.m_CountUpCredit
                }
            }, e.prototype.hide = function() {
                this.mask.active = !1, this.m_nodeBGEntries.active = !1, this.m_nodeLabelEntries.active = !1, this.m_CountUpEntries.node.active = !1, this.m_nodeBGWinning.active = !1, this.m_nodeLabelWinning.active = !1, this.m_CountUpWinning.node.active = !1, this.m_nodeBGCredit.active = !1, this.m_nodeLabelCredit.active = !1, this.m_CountUpCredit.node.active = !1
            }, e.prototype.show = function(t, e) {
                this.mask.active = !0, this.setType(t), this.hide(), this.m_nodeBGTarget.active = !0, this.m_nodeLabelTarget.active = !0, this.m_CountUpTarget.node.active = !0, this.m_CountUpTarget.SetNumberNow(e)
            }, e.prototype.countUp = function(t, e, o) {
                void 0 === o && (o = null), this.m_CountUpTarget.RegisterFinishCallback(o), this.m_CountUpTarget.CountUp(t, e)
            }, e.prototype.countUpShowMoney = function(t, e, o, n) {
                var i = this;
                void 0 === n && (n = null), this.m_getBonusShow.Show(o, this.m_nodeBGTarget.convertToWorldSpaceAR(new cc.Vec2(0, 0)), function() {
                    i.m_CountUpTarget.RegisterFinishCallback(n), i.m_CountUpTarget.CountUp(t, e)
                })
            }, e.prototype.callUnregisterAllFinishCallback = function() {
                this.m_CountUpTarget.UnregisterAllFinishCallback()
            }, r([m(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([m(cc.Node)], e.prototype, "mask", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGEntries", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelEntries", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpEntries", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGWinning", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelWinning", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpWinning", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGCredit", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelCredit", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpCredit", void 0), r([m(c.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([u], e)
        }(cc.Component);
        o.FakeScoreBoxCtrl = p, cc._RF.pop()
    }, {
        "./../../Component/NumberCountUp": "NumberCountUp",
        "./GetBonusShow": "GetBonusShow"
    }],
    FinishPageTimer: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "dd49fdjSoNClpxrgO23gnUY", "FinishPageTimer");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FinishPageTimer = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_sprCircle = null, e.m_labTimer = null, e.m_fTimerMax = 10, e.m_fTimerTmp = 0, e.m_cb = null, e
                }
                return i(e, t), e.prototype.update = function(t) {
                    this.m_fTimerTmp > 0 ? (this.m_fTimerTmp -= t, this.setTimer()) : this.m_cb && this.m_cb()
                }, e.prototype.setTimer = function() {
                    this.m_sprCircle.fillRange = this.m_fTimerTmp / this.m_fTimerMax, this.m_labTimer.string = Math.ceil(this.m_fTimerTmp).toString()
                }, e.prototype.show = function(t) {
                    this.node.active = t, t && (this.m_fTimerTmp = this.m_fTimerMax, this.setTimer())
                }, r([c(cc.Sprite)], e.prototype, "m_sprCircle", void 0), r([c(cc.Label)], e.prototype, "m_labTimer", void 0), r([c(cc.Float)], e.prototype, "m_fTimerMax", void 0), r([a], e)
            }(cc.Component);
        o.FinishPageTimer = l, cc._RF.pop()
    }, {}],
    FishBundleManager: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ae4a8NK6H1HrKIt3NUqoqiz", "FishBundleManager");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../../LobbyCommon/FullScreenHandler"),
            l = t("../../LobbyCommon/Helper/Download"),
            u = t("../../LobbyCommon/Helper/EventSystem"),
            m = t("../../LobbyCommon/Helper/LayerSystem"),
            p = t("../../LobbyCommon/Helper/Setting"),
            h = cc._decorator,
            d = h.ccclass,
            _ = (h.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.start = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, p.default.CheckInit()];
                                case 1:
                                    return t.sent(), m.default.Init(), [4, this.DownloadGameModule()];
                                case 2:
                                    return t.sent(), [4, this.DoModuleBaseOnloadEvent()];
                                case 3:
                                    return t.sent(), [4, this.DoModuleBaseStartEvent()];
                                case 4:
                                    return t.sent(), u.EventSystem.Event(u.FishHunter.DownloadBundleFinished).Notify(), u.EventSystem.Event(u.ScreenOrientationState.ChangeOrientation).Notify(c.Orientation.Landscape), u.EventSystem.Event(u.JackpotWinner.SetInfoPage).Notify("Fish"), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadGameDependency = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, o, n;
                        return a(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    t = p.default.GetSetting("Fish").Dependency, e = 0, o = t, i.label = 1;
                                case 1:
                                    return e < o.length ? (n = o[e], [4, l.Download.Bundle(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return e++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.DownloadGameModule = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, o, n, i, r;
                        return a(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    if (!((t = p.default.GetSetting("Fish").Module) && t.length > 0)) return [3, 4];
                                    e = 0, o = t, s.label = 1;
                                case 1:
                                    return e < o.length ? (n = o[e], i = null, [4, l.Download.Prefab(n)]) : [3, 4];
                                case 2:
                                    (i = s.sent()) && (r = cc.instantiate(i)) && (r.parent = this.node, r.active = !0, m.default.SetParent(r, n)), s.label = 3;
                                case 3:
                                    return e++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.DoModuleBaseOnloadEvent = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    t = u.EventSystem.Event(u.ModuleState.OnLoad).Length, u.EventSystem.Event(u.ModuleState.OnLoad).Notify(function() {
                                        t--
                                    }), e.label = 1;
                                case 1:
                                    return 0 === t ? [3, 3] : [4, SS.Common.WaitForSeconds(.25)];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.DoModuleBaseStartEvent = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    t = u.EventSystem.Event(u.ModuleState.Start).Length, u.EventSystem.Event(u.ModuleState.Start).Notify(function() {
                                        t--
                                    }), e.label = 1;
                                case 1:
                                    return 0 === t ? [3, 3] : [4, SS.Common.WaitForSeconds(.25)];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, r([d], e)
            }(cc.Component));
        o.default = _, cc._RF.pop()
    }, {
        "../../LobbyCommon/FullScreenHandler": "FullScreenHandler",
        "../../LobbyCommon/Helper/Download": "Download",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/LayerSystem": "LayerSystem",
        "../../LobbyCommon/Helper/Setting": "Setting"
    }],
    FishCommonRoot: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6ed1aurcNpLAL0//ygRy7H2", "FishCommonRoot");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../GameCommon/CommonRoot/Script/CommonRoot"),
            a = t("../../LobbyCommon/Component/AudioMgr"),
            c = t("../../LobbyCommon/Helper/EventSystem"),
            l = t("../../LobbyCommon/Net/LobbyClient"),
            u = t("../../LobbyCommon/TopBar/Script/TopbarMgr"),
            m = cc._decorator,
            p = m.ccclass,
            h = m.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_PopupWindowRoot = null, e.m_JPMgr = null, e.m_JPAnimation = null, e.JPStartSignalCount = 0, e.IsJPBarPlayingAnim = !1, e.IsJPBarExpand = !0, e.IsJPBarClicked = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    if (t.prototype.onLoad.call(this), this.m_JPMgr && (this.m_JPAnimation = this.m_JPMgr.getComponent(cc.Animation), this.m_JPAnimation.on("play", this.OnJPAnimPlay, this), this.m_JPAnimation.on("finished", this.OnJPAnimFinished, this), c.EventSystem.Event(c.DockFunction.JPHistory).Insert(this.OnClickedJpHistory, this), c.EventSystem.Event(c.DockFunction.JPHistory).Insert(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.TopBar.SetJPValShowFormat).Notify(SS.Common.GameEnvironment.TopBarJPIsMoneyFormat), l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.add(this.OnRecvJPStartSignal, this), l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.add(this.OnRecvJPFinishSignal, this)), SS.Common.GameEnvironment.DisableMenuBtn) {
                        var e = SS.Common.GameEnvironment.DisableMenuBtn.slice(0);
                        c.EventSystem.Event(c.Menu.SetDisableMenuButton).Notify(e)
                    }
                    c.EventSystem.Event(c.DockFunction.Sound).Insert(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.Account).Insert(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.Logout).Insert(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.FullScreen).Insert(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.BackToLobby).Insert(this.PlayHomeBtnAudio, this), c.EventSystem.Event(c.Menu.OpenDock).Insert(this.PlayTopBarOpenMenuAudio, this), s.CommonRoot.Instance.GetInfoMgr.Event_OpenInfo.Insert(this.PlayClickInfoAudio, this)
                }, e.prototype.onDestroy = function() {
                    s.CommonRoot.Instance.GetInfoMgr.Event_OpenInfo && s.CommonRoot.Instance.GetInfoMgr.Event_OpenInfo.Remove(this.PlayClickInfoAudio, this), t.prototype.onDestroy.call(this), this.m_JPMgr && (c.EventSystem.Event(c.DockFunction.JPHistory).Remove(this.OnClickedJpHistory, this), c.EventSystem.Event(c.DockFunction.JPHistory).Remove(this.PlayTopBarBtnAudio, this), l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.remove(this.OnRecvJPStartSignal, this), l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.remove(this.OnRecvJPFinishSignal, this)), c.EventSystem.Event(c.DockFunction.Sound).Remove(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.Account).Remove(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.Logout).Remove(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.FullScreen).Remove(this.PlayTopBarBtnAudio, this), c.EventSystem.Event(c.DockFunction.BackToLobby).Remove(this.PlayHomeBtnAudio, this), c.EventSystem.Event(c.Menu.OpenDock).Remove(this.PlayTopBarOpenMenuAudio, this)
                }, Object.defineProperty(e.prototype, "GetJPMgr", {
                    get: function() {
                        return this.m_JPMgr
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.OnClickJPBar = function() {
                    this.IsJPBarClicked = !0, this.IsJPBarPlayingAnim || (this.IsJPBarExpand ? (this.m_JPAnimation.play("JPBarClose"), a.AudioMgr.Instance.Play("FISH_jpshrink", !1, 1)) : (this.m_JPAnimation.play("JPBarExpand"), a.AudioMgr.Instance.Play("FISH_jpexpand", !1, 1)), this.IsJPBarExpand = !this.IsJPBarExpand)
                }, e.prototype.OnJPAnimPlay = function() {
                    this.IsJPBarPlayingAnim = !0
                }, e.prototype.OnJPAnimFinished = function() {
                    this.IsJPBarPlayingAnim = !1
                }, e.prototype.OnClickedJpHistory = function() {
                    a.AudioMgr.Instance.Play("Lobby_JP", !1, 1), c.EventSystem.Event(c.JackpotWinner.Show).Notify("Fish"), this.IsJPBarExpand && this.JPShrink()
                }, e.prototype.OnRecvJPStartSignal = function(t) {
                    "Fish" == t && (this.JPStartSignalCount += 1, this.IsJPBarExpand || (this.m_JPAnimation.play("JPBarExpand"), a.AudioMgr.Instance.Play("FISH_jpexpand", !1, 1), this.IsJPBarExpand = !0))
                }, e.prototype.OnRecvJPFinishSignal = function(t) {
                    "Fish" == t && (this.JPStartSignalCount -= 1, this.IsJPBarExpand && this.JPStartSignalCount <= 0 && (this.JPShrink(), this.JPStartSignalCount = 0))
                }, e.prototype.PlayTopBarBtnAudio = function() {
                    a.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, e.prototype.PlayTopBarOpenMenuAudio = function(t) {
                    switch (t) {
                        case "ActivityMenu":
                            a.AudioMgr.Instance.Play("SLOT_activity", !1, 1);
                        case "SettingMenu":
                            a.AudioMgr.Instance.Play("SLOT_setting", !1, 1)
                    }
                }, e.prototype.PlayTopBarCloseMenuAudio = function() {
                    a.AudioMgr.Instance.Play("Beep_CloseWindow_v02", !1, 1)
                }, e.prototype.PlayHomeBtnAudio = function() {
                    a.AudioMgr.Instance.Play("SLOT_home", !1, 1)
                }, e.prototype.PlayClickInfoAudio = function() {
                    a.AudioMgr.Instance.Play("SLOT_setting", !1, 1)
                }, e.prototype.JPShrink = function() {
                    this.m_JPAnimation.play("JPBarClose"), a.AudioMgr.Instance.Play("FISH_jpshrink", !1, 1), this.IsJPBarExpand = !1
                }, e.prototype.JoinGameAutoJPShrink = function() {
                    !this.IsJPBarClicked && this.IsJPBarExpand && this.JPShrink()
                }, r([h({
                    type: cc.Node,
                    displayName: "\u6b66\u5668\u9762\u677f\u3001\u9396\u5b9a\u5217\u8868\u7bc0\u9ede"
                })], e.prototype, "m_PopupWindowRoot", void 0), r([h({
                    type: u.TopbarMgr,
                    displayName: "JP\u9762\u677f"
                })], e.prototype, "m_JPMgr", void 0), r([p], e)
            }(s.CommonRoot);
        o.default = d, cc._RF.pop()
    }, {
        "../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/TopBar/Script/TopbarMgr": "TopbarMgr"
    }],
    FishFakeScoreBoxCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b3a38dORcNMuIg0TeIhjMva", "FishFakeScoreBoxCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../../Component/NumberCountUp"),
            a = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            c = t("../../../FakeScoreBox/Script/GetBonusShow"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeRoot = null, e.mask = null, e.m_nodeEntriesL = null, e.m_nodeWinningL = null, e.m_nodeCreditL = null, e.m_CountUpEntriesL = null, e.m_CountUpWinningL = null, e.m_CountUpCreditL = null, e.m_nodeEntriesR = null, e.m_nodeWinningR = null, e.m_nodeCreditR = null, e.m_CountUpEntriesR = null, e.m_CountUpWinningR = null, e.m_CountUpCreditR = null, e.m_nodeCoinStarPos = null, e.m_getBonusShow = null, e.m_nodeBGTarget = null, e.m_CountUpTarget = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {}, e.prototype.setType = function(t, e) {
                    switch (e) {
                        case a.ShowType.ENTRIES:
                            0 == t || 2 == t ? (this.m_nodeBGTarget = this.m_nodeEntriesL, this.m_CountUpTarget = this.m_CountUpEntriesL) : (this.m_nodeBGTarget = this.m_nodeEntriesR, this.m_CountUpTarget = this.m_CountUpEntriesR);
                            break;
                        case a.ShowType.WINNING:
                            0 == t || 2 == t ? (this.m_nodeBGTarget = this.m_nodeWinningL, this.m_CountUpTarget = this.m_CountUpWinningL) : (this.m_nodeBGTarget = this.m_nodeWinningR, this.m_CountUpTarget = this.m_CountUpWinningR);
                            break;
                        case a.ShowType.CREDIT:
                            0 == t || 2 == t ? (this.m_nodeBGTarget = this.m_nodeCreditL, this.m_CountUpTarget = this.m_CountUpCreditL) : (this.m_nodeBGTarget = this.m_nodeCreditR, this.m_CountUpTarget = this.m_CountUpCreditR)
                    }
                }, e.prototype.hide = function() {
                    this.mask.active = !1, this.m_nodeEntriesR.active = !1, this.m_nodeEntriesL.active = !1, this.m_nodeWinningR.active = !1, this.m_nodeWinningL.active = !1, this.m_nodeCreditR.active = !1, this.m_nodeCreditL.active = !1, this.m_CountUpEntriesR.node.active = !1, this.m_CountUpEntriesL.node.active = !1, this.m_CountUpWinningR.node.active = !1, this.m_CountUpWinningL.node.active = !1, this.m_CountUpCreditL.node.active = !1, this.m_CountUpCreditR.node.active = !1
                }, e.prototype.show = function(t, e, o) {
                    this.mask.active = !0, this.hide(), this.setType(t, e), this.m_nodeBGTarget.active = !0, this.m_CountUpTarget.node.active = !0, console.error("show Fake score, this.m_nodeBGTarget = " + this.m_nodeBGTarget.name + ", this.m_CountUpTarget.node = " + this.m_CountUpTarget.node), this.m_CountUpTarget.SetNumberNow(o)
                }, e.prototype.countUp = function(t, e, o) {
                    void 0 === o && (o = null), this.m_CountUpTarget.RegisterFinishCallback(o), this.m_CountUpTarget.CountUp(t, e)
                }, e.prototype.countUpShowMoney = function(t, e, o) {
                    var n = this;
                    void 0 === o && (o = null), this.m_getBonusShow.Show(this.m_nodeCoinStarPos.convertToWorldSpaceAR(cc.Vec2.ZERO), this.m_nodeBGTarget.convertToWorldSpaceAR(cc.Vec2.ZERO), function() {
                        n.m_CountUpTarget.RegisterFinishCallback(o), n.m_CountUpTarget.CountUp(t, e)
                    })
                }, r([m(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([m(cc.Node)], e.prototype, "mask", void 0), r([m(cc.Node)], e.prototype, "m_nodeEntriesL", void 0), r([m(cc.Node)], e.prototype, "m_nodeWinningL", void 0), r([m(cc.Node)], e.prototype, "m_nodeCreditL", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpEntriesL", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpWinningL", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpCreditL", void 0), r([m(cc.Node)], e.prototype, "m_nodeEntriesR", void 0), r([m(cc.Node)], e.prototype, "m_nodeWinningR", void 0), r([m(cc.Node)], e.prototype, "m_nodeCreditR", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpEntriesR", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpWinningR", void 0), r([m(s.NumberCountUp)], e.prototype, "m_CountUpCreditR", void 0), r([m(cc.Node)], e.prototype, "m_nodeCoinStarPos", void 0), r([m(c.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([u], e)
            }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "../../../Component/NumberCountUp": "NumberCountUp",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../FakeScoreBox/Script/GetBonusShow": "GetBonusShow"
    }],
    FishOceanHeartBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2d827EiuV1FqaQV3xuZw6hy", "FishOceanHeartBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartBtnCtrl = o.SaveTempShowData = void 0;
        var s = t("../../../Component/NodeDrag"),
            a = t("../../CommunityBonus/Script/CommBonusData"),
            c = t("./FishOceanHeartShellCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function() {};
        o.SaveTempShowData = p;
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBlueTag = null, e.m_labBlueTag = null, e.m_nodeProgress = null, e.m_sprProgressBar = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.m_nodeInGameBg = null, e.m_nodeLobbyBg = null, e.m_nodeRankUpGroup = null, e.m_nodeRankUpWord = null, e.m_nodeArrowUp = null, e.m_nodeArrowDown = null, e.m_labRankUp = null, e.m_FishOceanHeartShellCtrl = null, e.m_FishOceanHeartMgr = null, e.autoClosePromptID = null, e.m_colorYellow = new cc.Color(255, 240, 30, 255), e.m_colorGreen = new cc.Color(95, 255, 40, 255), e.m_colorOrange = new cc.Color(255, 110, 30, 255), e.m_colorPurple = new cc.Color(200, 190, 255, 255), e.m_colorBlue = new cc.Color(150, 250, 255, 255), e.m_aryTempShowData = [], e.m_isShowing = !1, e.m_iTempDataID = 0, e
            }
            return i(e, t), e.prototype.GetShellCtrlAnimationState = function() {
                return this.m_FishOceanHeartShellCtrl.m_currentAnim ? this.m_FishOceanHeartShellCtrl.m_currentAnim : null
            }, e.prototype.GetDropItemShowTime = function() {
                return this.m_FishOceanHeartShellCtrl.DELAY_TIME + this.m_FishOceanHeartShellCtrl.MOVE_TIME
            }, e.prototype.init = function(t) {
                this.m_FishOceanHeartMgr = t, this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t), this.Clear()
            }, e.prototype.update = function() {
                var t = this;
                if (!this.m_isShowing && this.m_aryTempShowData.length > 0 && this.m_nodeBtn.activeInHierarchy) {
                    this.m_isShowing = !0;
                    var e = this.m_aryTempShowData.shift();
                    this.m_FishOceanHeartShellCtrl.OpenShell(e, function(o) {
                        e.data.Status = a.UserQuestDataStatus.AWARD_CLAIMED, 1 == t.m_sprProgressBar.fillRange && (t.m_sprProgressBar.fillRange = 0), null != e.callback && e.callback(o, t.m_aryTempShowData.length), t.m_isShowing = !1
                    }, null, this.m_FishOceanHeartMgr.GetOpenShellSpeed.bind(this.m_FishOceanHeartMgr))
                }
            }, e.prototype.GetTempShowAryCount = function() {
                return this.m_aryTempShowData.length
            }, e.prototype.CheckIsShowing = function() {
                return this.m_aryTempShowData.length > 0 || this.m_isShowing
            }, e.prototype.setRedTag = function(t) {
                void 0 === t && (t = 0);
                var e = 0 != t;
                this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
            }, e.prototype.setNumDot = function(t, e) {
                void 0 === t && (t = 0), void 0 === e && (e = 0);
                var o = 0 != t && e + t < 9;
                this.m_nodeRedTag.active = o, this.m_labRedTag.node.active = o;
                var n = e + t >= 9;
                this.m_nodeBlueTag.active = n, this.m_labBlueTag.node.active = n, this.m_labRedTag.string = t.toString();
                var i = e + t;
                this.m_labBlueTag.string = i.toString(), this.m_nodeBlueTag.width = i < 10 ? 72 : i < 100 ? 85 : i < 1e3 ? 100 : i < 1e4 ? 130 : 150
            }, e.prototype.setPrompt = function(t) {
                var e = this;
                if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                    var o = "" != t;
                    this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                        e.setPrompt(), e.showFingerPtr(!1)
                    }, 6e4))
                }
            }, e.prototype.showFingerPtr = function(t) {
                null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
            }, e.prototype.show = function(t) {
                null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
            }, e.prototype.setInteract = function(t) {
                null != this.m_btn && (this.m_btn.interactable = t)
            }, e.prototype.setLocked = function(t) {
                this.m_nodeDragFloatBtn.setLocked(t)
            }, e.prototype.SetIconShellInfo = function(t, e) {
                switch (t) {
                    case "FishHunterKingKong":
                        this.m_sprProgressBar.node.color = this.m_colorYellow;
                        break;
                    case "FishHunterBuffalo":
                    case "FishHunterLuckyShamrock":
                        this.m_sprProgressBar.node.color = this.m_colorOrange;
                        break;
                    case "MonstersFrenzy":
                        this.m_sprProgressBar.node.color = this.m_colorGreen;
                        break;
                    case "FishHunterGhost":
                        this.m_sprProgressBar.node.color = this.m_colorPurple;
                        break;
                    case "FishHunterAladdin":
                        this.m_sprProgressBar.node.color = this.m_colorBlue
                }
                this.m_FishOceanHeartShellCtrl.SetWeaponPos(e)
            }, e.prototype.setProgress = function(t, e, o) {
                if (this.m_sprProgressBar.fillRange = t, t >= 1) {
                    var n = new p;
                    n.data = new a.CommBonusData, Object.assign(n.data, e), n.data.Award = new a.Award;
                    var i = e.AwardAry.shift();
                    Object.assign(n.data.Award, i), i.AwardItem && Object.assign(n.data.Award.AwardItem, i.AwardItem), n.callback = o, n.dataID = this.m_iTempDataID, this.m_aryTempShowData.push(n), this.m_iTempDataID++
                }
            }, e.prototype.ShowRankingChange = function(t, e) {
                var o = this;
                this.m_nodeArrowUp.active = e, this.m_nodeArrowDown.active = !e, this.m_labRankUp.string = t.toString(), this.m_nodeRankUpGroup.runAction(cc.fadeIn(.25)), this.m_nodeRankUpWord.runAction(cc.fadeIn(.25));
                var n = cc.fadeIn(.25),
                    i = cc.delayTime(3),
                    r = cc.callFunc(function() {
                        o.m_nodeRankUpGroup.runAction(cc.fadeOut(.25)), o.m_nodeRankUpWord.runAction(cc.fadeOut(.25)), o.m_labRankUp.node.runAction(cc.fadeOut(.25))
                    }),
                    s = cc.sequence(n, i, r);
                this.m_labRankUp.node.runAction(s)
            }, e.prototype.Clear = function() {
                this.setNumDot(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_FishOceanHeartMgr.m_LobbyMgr ? (this.m_nodeLobbyBg.active = !0, this.m_nodeInGameBg.active = !1, this.m_nodeProgress.active = !1, this.m_nodeRankUpGroup.active = !1, this.m_nodeRankUpWord.active = !1, this.m_labRankUp.node.active = !1) : (this.m_nodeLobbyBg.active = !1, this.m_nodeInGameBg.active = !0, this.m_nodeProgress.active = !0, this.m_nodeRankUpGroup.opacity = 0, this.m_nodeRankUpWord.opacity = 0, this.m_labRankUp.node.opacity = 0, this.m_sprProgressBar.fillRange = 0, this.m_nodeDragFloatBtn.setLocked(!0)), this.m_iTempDataID = 0, this.m_aryTempShowData = [], this.m_FishOceanHeartShellCtrl.Clear()
            }, e.prototype.move = function(t, e) {
                this.m_nodeDragFloatBtn.move(t, e)
            }, e.prototype.lobbyResize = function() {
                this.moveNode(this.m_nodeRedTag, 0, -37), this.moveNode(this.m_labRedTag.node, 0, -37), this.moveNode(this.m_nodeBlueTag, 0, -37), this.moveNode(this.m_labBlueTag.node, 0, -37);
                var t = this.root.getChildByName("RankIcon");
                t && this.moveNode(t, 0, -20), this.moveNode(this.m_nodeTimer, 0, 20);
                var e = cc.find("AllLabel/LabIconTimer", this.root);
                e && this.moveNode(e, 0, 20);
                var o = cc.find("PrizeBg", this.root);
                o && this.moveNode(o, 0, 20);
                var n = cc.find("AllLabel/LabIconPrize", this.root);
                n && this.moveNode(n, 0, 20)
            }, e.prototype.moveNode = function(t, e, o) {
                t.setPosition(t.position.x + e, t.position.y + o)
            }, r([m(cc.Node)], e.prototype, "root", void 0), r([m(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([m(cc.Label)], e.prototype, "m_labRedTag", void 0), r([m(cc.Node)], e.prototype, "m_nodeBlueTag", void 0), r([m(cc.Label)], e.prototype, "m_labBlueTag", void 0), r([m(cc.Node)], e.prototype, "m_nodeProgress", void 0), r([m(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([m(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([m(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([m(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([m(cc.Label)], e.prototype, "m_labPrompt", void 0), r([m(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([m(s.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([m(cc.Node)], e.prototype, "m_nodeInGameBg", void 0), r([m(cc.Node)], e.prototype, "m_nodeLobbyBg", void 0), r([m(cc.Node)], e.prototype, "m_nodeRankUpGroup", void 0), r([m(cc.Node)], e.prototype, "m_nodeRankUpWord", void 0), r([m(cc.Node)], e.prototype, "m_nodeArrowUp", void 0), r([m(cc.Node)], e.prototype, "m_nodeArrowDown", void 0), r([m(cc.Label)], e.prototype, "m_labRankUp", void 0), r([m(c.default)], e.prototype, "m_FishOceanHeartShellCtrl", void 0), r([u], e)
        }(cc.Component);
        o.FishOceanHeartBtnCtrl = h, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "./FishOceanHeartShellCtrl": "FishOceanHeartShellCtrl"
    }],
    FishOceanHeartData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bfd30lhaYxLOo3IdTjR9OLz", "FishOceanHeartData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOHQustObjectiveType = o.FishOHUserQuestDataStatus = o.FishOHRankingPlayerData = o.FishOHRankAwardData = o.FishOHBonusData = o.FishOHAward = o.FishOceanHeartData = void 0;
        o.FishOceanHeartData = function() {
            this.CustomInfoMsg = "", this.Status = -1, this.bonusData = null, this.m_arrRankAwardData = [], this.RankSize = 0, this.CanShow = !1, this.QuestType = s.NONE, this.needRebuff = !1, this.newProgress = 0, this.m_fProgressRate = 0
        };
        o.FishOHAward = function() {};
        o.FishOHBonusData = function() {};
        o.FishOHRankAwardData = function() {};
        var s;
        o.FishOHRankingPlayerData = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.FishOHUserQuestDataStatus || (o.FishOHUserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(s = o.FishOHQustObjectiveType || (o.FishOHQustObjectiveType = {}));
        var a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.text = "hello", e
                }
                return i(e, t), e.prototype.start = function() {}, r([l(cc.Label)], e.prototype, "label", void 0), r([l], e.prototype, "text", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishOceanHeartDropItem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8ad71sLMpJA9r7CeYW0K6WJ", "FishOceanHeartDropItem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FOH_AWARD = void 0;
        var s, a = cc._decorator,
            c = a.ccclass,
            l = a.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.COIN = 0] = "COIN", t[t.EVENT_TOKEN = 1] = "EVENT_TOKEN", t[t.ITEM_FREEZE = 2] = "ITEM_FREEZE", t[t.ITEM_SUMMON = 3] = "ITEM_SUMMON"
        })(s = o.FOH_AWARD || (o.FOH_AWARD = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.itemAnim = null, e.bubbleNode = null, e.itemIcon = null, e.content = null, e.itemFrams = [], e.contentText = null, e
            }
            return i(e, t), e.prototype.ShowIcon = function(t) {
                this.bubbleNode.active = t, this.itemIcon.node.active = t
            }, e.prototype.Init = function(t, e, o, n, i, r) {
                var a = this,
                    c = "";
                switch (t) {
                    case s.COIN:
                        c = e.toString();
                        break;
                    case s.EVENT_TOKEN:
                        c = "x " + e.toString();
                        break;
                    case s.ITEM_FREEZE:
                        c = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg.M104 + " x" + e + "<outline>";
                        break;
                    case s.ITEM_SUMMON:
                        c = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg.M105 + " x" + e + "<outline>"
                }
                this.itemIcon.spriteFrame = this.itemFrams[t], this.contentText.string = c, this.content.width = this.contentText.node.width + 56, this.node.runAction(cc.sequence(cc.callFunc(function() {
                    a.itemAnim.play()
                }), cc.delayTime(i), cc.moveTo(r, o), cc.callFunc(function() {
                    a.node.active = !1, n(a)
                })))
            }, r([l(cc.Animation)], e.prototype, "itemAnim", void 0), r([l(cc.Node)], e.prototype, "bubbleNode", void 0), r([l(cc.Sprite)], e.prototype, "itemIcon", void 0), r([l(cc.Node)], e.prototype, "content", void 0), r([l([cc.SpriteFrame])], e.prototype, "itemFrams", void 0), r([l(cc.RichText)], e.prototype, "contentText", void 0), r([c], e)
        }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishOceanHeartInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8617b6L8JFFy7kOQczH9A7R", "FishOceanHeartInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartInfoCtrl = void 0;
        var s = t("../../CommunityBonus/Script/CommBonusMsgCtrl"),
            a = t("./FishOceanHeartShellCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strThemeID = "", e.isFinishClaim = !1, e.m_nodeRoot = null, e.m_sprGameIcon = null, e.m_labGameName = null, e.m_sprProgressBar = null, e.m_labProgress = null, e.m_nodeToken = null, e.m_nodeRedDot = null, e.m_labRedDot = null, e.m_btnPlay = null, e.m_CommBonusMsgCtrl = null, e.m_FishOceanHeartShellCtrl = null, e.m_iRedDotNum = 0, e.errorCode = "", e.m_colorYellow = new cc.Color(255, 240, 30, 255), e.m_colorGreen = new cc.Color(95, 255, 40, 255), e.m_colorOrange = new cc.Color(255, 110, 30, 255), e.m_colorPurple = new cc.Color(200, 190, 255, 255), e.m_colorBlue = new cc.Color(150, 250, 255, 255), e.m_aryV2PearlPos = null, e.m_v2UIPearlPos = null, e.m_aryTempShowData = [], e.m_isShowing = !1, e
                }
                return i(e, t), e.prototype.SetPearlPosAry = function(t) {
                    this.m_aryV2PearlPos = t
                }, e.prototype.SetUIPearlPos = function(t) {
                    this.m_v2UIPearlPos = t
                }, e.prototype.setGame = function(t, e, o, n, i, r, s) {
                    switch (this.m_nodeMissionMgr = t, this.m_strThemeID = e, this.m_sGameName = o, this.m_sThemeTitle = n, this.m_FishOceanHeartShellCtrl.SetWeaponPos(i), this.m_aryV2PearlPos = s, this.m_v2UIPearlPos = r, o) {
                        case "FishHunterKingKong":
                            this.m_sprProgressBar.node.color = this.m_colorYellow;
                            break;
                        case "FishHunterBuffalo":
                        case "FishHunterLuckyShamrock":
                            this.m_sprProgressBar.node.color = this.m_colorOrange;
                            break;
                        case "MonstersFrenzy":
                            this.m_sprProgressBar.node.color = this.m_colorGreen;
                            break;
                        case "FishHunterGhost":
                            this.m_sprProgressBar.node.color = this.m_colorPurple;
                            break;
                        case "FishHunterAladdin":
                            this.m_sprProgressBar.node.color = this.m_colorBlue
                    }
                }, e.prototype.SetMissionToProcessingStatus = function(t, e) {
                    void 0 === t && (t = ""), void 0 === e && (e = "FishOceanHeartMgr"), this.isFinishClaim = !1, this.m_sprProgressBar.node.active = !0, this.m_labProgress.node.active = !1, this.m_CommBonusMsgCtrl.setMsg(t), this.m_labGameName.string = this.m_sThemeTitle, this.m_btnPlay.clickEvents[0] = new cc.Component.EventHandler, this.m_btnPlay.clickEvents[0].target = this.m_nodeMissionMgr, this.m_btnPlay.clickEvents[0].component = e, this.m_btnPlay.clickEvents[0].handler = "OpenSelectOptionPage", this.m_btnPlay.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.setInteract = function(t) {
                    this.m_btnPlay.interactable = t
                }, e.prototype.SetProcessBar = function(t, e, o, n, i, r) {
                    void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === o && (o = 0), void 0 === n && (n = null), void 0 === i && (i = !1), void 0 === r && (r = null), this.m_sprProgressBar.fillRange = o, this.m_labProgress.string = (100 * o).toFixed(2) + "%"
                }, e.prototype.CallShellOpenAndShowPearl = function(t) {
                    this.m_FishOceanHeartShellCtrl.OpenShellAndShowPearl(t)
                }, e.prototype.setRedDot = function(t) {
                    this.m_iRedDotNum = t;
                    var e = t > 0;
                    this.m_nodeRedDot.active = e, this.m_labRedDot.enabled = e, this.m_labRedDot.string = t.toString(), this.m_nodeRedDot.width = t < 10 ? 32 : t < 100 ? 40 : t < 1e3 ? 50 : 60
                }, e.prototype.decrRedDot = function() {
                    this.m_iRedDotNum--, this.setRedDot(this.m_iRedDotNum)
                }, e.prototype.Clear = function() {
                    this.setRedDot(0), this.SetProcessBar(0), this.m_nodeMissionMgr = null, this.m_strThemeID = "", this.m_sGameName = "", this.m_sThemeTitle = "", this.m_btnPlay.clickEvents[0] = null
                }, r([u(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([u(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([u(cc.Label)], e.prototype, "m_labGameName", void 0), r([u(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([u(cc.Label)], e.prototype, "m_labProgress", void 0), r([u(cc.Node)], e.prototype, "m_nodeToken", void 0), r([u(cc.Node)], e.prototype, "m_nodeRedDot", void 0), r([u(cc.Label)], e.prototype, "m_labRedDot", void 0), r([u(cc.Button)], e.prototype, "m_btnPlay", void 0), r([u(s.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([u(a.default)], e.prototype, "m_FishOceanHeartShellCtrl", void 0), r([l], e)
            }(cc.Component);
        o.FishOceanHeartInfoCtrl = m, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/CommBonusMsgCtrl": "CommBonusMsgCtrl",
        "./FishOceanHeartShellCtrl": "FishOceanHeartShellCtrl"
    }],
    FishOceanHeartListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c23e8XToXhPrbiqUa46NwbC", "FishOceanHeartListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartListCtrl = void 0;
        var s = t("./FishOceanHeartMgr"),
            a = t("./FishOceanHeartInfoCtrl"),
            c = t("../../CommunityBonus/Script/CommBonusData"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_sprAtlasGameIcon = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e.m_v2WeaponPos = null, e.m_aryV2PearlPos = null, e.m_v2UIPearlPos = null, e
                }
                return i(e, t), e.prototype.SetWeaponPos = function(t) {
                    this.m_v2WeaponPos = t
                }, e.prototype.SetPearlPosAry = function(t) {
                    this.m_aryV2PearlPos = t
                }, e.prototype.SetUIPearlPos = function(t) {
                    this.m_v2UIPearlPos = t
                }, e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {}, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                s = this.m_nodePoolMissions.get();
                            null == s && (s = cc.instantiate(this.m_prefabMisionInfo)), s.parent = this.m_nodeContent;
                            var l = s.getComponent(a.FishOceanHeartInfoCtrl);
                            this.m_aryInfoCtrlList.push(l);
                            var u = 0,
                                m = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = c.QustObjectiveType.SPIN_TIME, u = r.SpinTimesGate, m = r.SpinTimes, r.CustomInfoMsg = "Complete " + u + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = c.QustObjectiveType.SPIN_AMOUNT, u = r.SpinAmountGate, m = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + u;
                            else if (r.WinAmountGate > 0) r.QuestType = c.QustObjectiveType.WIN_AMOUNT, u = r.WinAmountGate, m = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + u;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = c.QustObjectiveType.CUSTOM, u = r.CustomGate, m = r.CustomAmount
                            }
                            var p = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(p), this.setSprFrameWithAtlas(p, l.m_sprGameIcon), l.setGame(this.m_Mgr.node, r.ThemeID, p, h, this.m_v2WeaponPos, this.m_v2UIPearlPos, this.m_aryV2PearlPos), l.SetMissionToProcessingStatus(r.CustomInfoMsg, "FishOceanHeartMgr"), m >= u && (m = u);
                            var d = m / u;
                            d = d > 1 ? 1 : d < 0 ? 0 : d, r.Status != c.UserQuestDataStatus.AWARD_CLAIMED ? l.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), d, r, !0, null) : (1 == d && (d = 0), l.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), d, r, !1, null)), l.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.SetProgress = function(t, e) {
                    var o = this.getMissionInfoCtrlByThemeID(t);
                    null != o && o.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), e)
                }, e.prototype.GetInfoTokenNode = function(t) {
                    var e = this.getMissionInfoCtrlByThemeID(t);
                    return null != e ? e.m_nodeToken : null
                }, e.prototype.OpenShellAndGetPearl = function(t, e) {
                    var o = this.getMissionInfoCtrlByThemeID(t);
                    null != o && o.CallShellOpenAndShowPearl(e)
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var s = e[r].ThemeID,
                                a = n.indexOf(s),
                                c = this.getGameNameByThemeID(s),
                                u = i.indexOf(c),
                                m = i.indexOf("BIGICON_" + c); - 1 == a && (u > -1 || m > -1) && o.push(e[r])
                        }
                        return o
                    } catch (l) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (l) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (l) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (l) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    e.spriteFrame = this.m_sprAtlasGameIcon.getSpriteFrame(t), e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = s.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.Clear = function() {
                    var t = this;
                    this.m_aryInfoCtrlList.forEach(function(e) {
                        e.Clear(), t.m_nodePoolMissions.put(e.node)
                    }), this.m_aryInfoCtrlList = []
                }, r([m(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([m(cc.Node)], e.prototype, "m_nodeContent", void 0), r([m(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([m(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([m(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([u()], e)
            }(cc.Component);
        o.FishOceanHeartListCtrl = p, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "./FishOceanHeartInfoCtrl": "FishOceanHeartInfoCtrl",
        "./FishOceanHeartMgr": "FishOceanHeartMgr"
    }],
    FishOceanHeartMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c9e20KNaUJCpLKqZP2s4jq/", "FishOceanHeartMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MisMgrStatus = void 0;
        var c, l = t("../../../Component/AudioMgr"),
            u = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Connect/Script/ConnectPanelMgr"),
            p = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            h = t("../../../Net/LobbyClient"),
            d = t("../../../PopupMessage/Script/PopupMsgMgr"),
            _ = t("../../CommunityBonus/Script/CommBonusCoinCtrl"),
            g = t("../../CommunityBonus/Script/CommBonusData"),
            y = t("../../CommunityBonus/Script/CommBonusMoneyMgr"),
            f = t("../../CommunityBonus/Script/Rank/RankAwardPanelCtrl"),
            S = t("../../CommunityBonus/Script/Rank/RankBonusTotalProgress"),
            C = t("../../CommunityBonus/Script/Rank/RankingBonusListCtrl"),
            v = t("../../EventBannerData"),
            P = t("../../EventModule"),
            b = t("../../MissionMgr/Script/MissionData"),
            w = t("./FishOceanHeartBtnCtrl"),
            M = t("./FishOceanHeartListCtrl"),
            E = t("./FishOceanHeartTotalProgress"),
            T = t("./FishOceanHeartPlayerRankingMgr"),
            I = t("./FishFakeScoreBoxCtrl"),
            D = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            L = t("../../EventTipsMask"),
            A = t("../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.PARAE_CMD = 3] = "PARAE_CMD", t[t.COLLECT = 4] = "COLLECT", t[t.COLLECT_RCV = 5] = "COLLECT_RCV", t[t.COLLECT_SHOW = 6] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 7] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 8] = "TOKEN_FLY_TOP", t[t.GET_BUBBLE = 9] = "GET_BUBBLE", t[t.REACH_GATE_POPUP = 10] = "REACH_GATE_POPUP", t[t.RANK_TOKEN_ENLARGE = 11] = "RANK_TOKEN_ENLARGE", t[t.RANK_TOKEN_FLY_TOP = 12] = "RANK_TOKEN_FLY_TOP", t[t.DISABLE = 13] = "DISABLE", t[t.TIME_UP = 14] = "TIME_UP", t[t.FADE_TO_RANK_PAGE = 15] = "FADE_TO_RANK_PAGE"
        })(c = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var O = cc._decorator,
            R = O.ccclass,
            k = O.property,
            N = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.EVENT_OPEN_UI = null, e.EVENT_GET_MISSION_REWARD = null, e.EVENT_REFLASH_UI_BALANCE = null, e.EVENT_SEND_COLLECT_CMD = null, e.EVENT_GAME_CLOSE = null, e.EVENT_COLLECT_CLOSE = null, e.EVENT_ERROR = null, e.EVENT_GET_COST_PER_SECOND = null, e.m_Root = null, e.m_nodeTipsPage = null, e.m_nodeMainPageBg = null, e.m_nodeRankPageBg = null, e.m_nodeMainPage = null, e.m_nodeRankPage = null, e.m_MissionBtnCtrl = null, e.m_FinishMission = null, e.m_nodeMissionListCtrl = null, e.m_MissionListCtrl = null, e.m_PlayerRankingMgr = null, e.m_CommBonusTotalProgress = null, e.m_RankBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.m_RankAwardPanelCtrl = null, e.m_nodeLoginGetAward = null, e.m_nodeLoginGetAwardOKBtn = null, e.m_nodeLoginGetAwardXBtn = null, e.m_nodeLoginGetAwardCollectBtn = null, e.m_labLoginGetAwardMsg = null, e.m_labLoginGetAwardWinning = null, e.m_arrAnimateLoginGetAward = [], e.m_nodeObjList = null, e.m_nodeRankingPage = null, e.m_nodeReadMePage = null, e.m_nodeReadMePage_Rank = null, e.m_nodeRankIDPopup = null, e.m_labRankID = null, e.m_nodeDarkerBG = null, e.m_FakeScoreBoxCtrl = null, e.m_FishFakeScoreBoxCtrl = null, e.m_nodeHint = null, e.m_nodeHintRank = null, e.m_nodeBlocker = null, e.m_iBlockerCtr = 0, e.m_RankingBonusListCtrl = null, e.SoundClip = [], e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.errorCode = "", e.reason = "", e.errorMsg = "", e.m_bBtnInterActable = !0, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "HEART OF THE OCEAN\nfish game event is online. ", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = c.NONE, e.m_lastStatus = c.NONE, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalProgressMax = 0, e.m_iTotalProgressCur = 0, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bNoobGuideRanking = !0, e.m_bInRankingPage = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bIsInLobby = !1, e.m_bIsOpenRankBoard = !0, e.m_bIsShowMermaidAct = !0, e.m_strOceanHeartQuestID = "", e.m_iSeat = 0, e.m_bIsTimeUP = !1, e.m_iSoundNinePearlPopupID = -1, e.m_bIsCollectingAward = !1, e.m_iTempTotalPearl = 0, e.m_bSlotEventRun = !1, e.m_bHaveShow = !1, e.m_iMySaveRank = -999, e
                }
                return i(e, t), e.prototype.GetTotalProgressMax = function() {
                    return this.m_iTotalProgressMax
                }, e.prototype.GetTotalProgressCur = function() {
                    return this.m_iTotalProgressCur
                }, e.prototype.onLoad = function() {
                    this.m_strEventID = "OceanHeart", this.m_Root.active = !1, this.m_nodeTipsPage.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1, this.m_nodeRankPage.active = !1
                }, e.prototype.start = function() {
                    if (this.m_MissionListCtrl.init(this), this.m_MissionBtnCtrl.init(this), this.m_MissionBtnCtrl.show(!0), this.m_LobbyMgr) {
                        this.m_bIsInLobby = !0, this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this)), this.SetUserBalance = this.lobbySetUserBalance.bind(this);
                        var t = new D.PriorityCustomEvent(1, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t);
                        var e = new v.EventBannerData("OceanHeart", 302, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e), this.SetEventActive()
                    } else "" == this.m_sCurGameName && (this.m_sCurGameName = SS.Common.GameEnvironment.CurrentGameNow);
                    var o = this.checkThemeIsOpen(this.getThemeIDByGameName(this.m_sCurGameName));
                    if (!this.m_bIsInLobby && !o) return console.error("\u904a\u6232\u4efb\u52d9\u4e0d\u5b58\u5728\uff0c\u65b7\u7dda, this.m_sCurGameName = " + this.m_sCurGameName), this.EVENT_GAME_CLOSE && this.EVENT_GAME_CLOSE(), this.node.active = !1, void this.disableBannerPopUp();
                    this.parseMisInfo(h.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, 3), this.getAllNewProgress(!0)), 0 == this.m_arrAwardAvaiMapData.length || this.m_bIsInLobby || this.loginGetAward(), this.recMisInfoSetProgressCtr(), this.InitTimer(), this.m_nodeMainPageBg.color = cc.Color.WHITE, this.m_nodeRankPageBg.color = cc.Color.GRAY, this.m_bIsInLobby && (this.m_MissionBtnCtrl.lobbyResize(), this.m_bSlotEventRun && this.m_MissionBtnCtrl.move(200, 0))), this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrCurGameTokenRedDot.bind(this)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.allTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.setEachTokenShowEndCB(this.eachTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this);
                    for (var n = [], i = 0; i < this.SoundClip.length; i++) n.push(this.SoundClip[i].name);
                    l.AudioMgr.Instance.setAudioClip(this.SoundClip, n), this.initDone()
                }, e.prototype.update = function() {
                    var t = this,
                        e = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case c.IDLE:
                            if (e) {
                                if (this.m_bIsTimeUP) return void(this.m_MissionBtnCtrl.GetTempShowAryCount() > 0 && this.m_Root.activeInHierarchy ? this.setActivityRoot(!1) : 0 == this.m_MissionBtnCtrl.GetTempShowAryCount() && (this.m_status = c.TIME_UP));
                                m.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.node.active = !0, this.SetAllBtnInteract(!0), this.showRankingPage(!0)
                            }
                            break;
                        case c.FADE_TO_RANK_PAGE:
                            this.m_bHaveShow ? (this.m_bHaveShow = !1, this.fadeToRankingPage()) : this.m_status = c.IDLE;
                            break;
                        case c.INIT:
                            break;
                        case c.UPDATE_CMD:
                            e && this.SendMissionBonusInfoCmd();
                            break;
                        case c.PARAE_CMD:
                            break;
                        case c.TOKEN_ENLARGE:
                            e && (this.m_nodeBlocker.active = !0, m.ConnectPanelMgr.Instance.DisableConnectPanel(0), 0 == this.m_iTotalProgressCur ? this.m_status = c.IDLE : this.m_CommBonusTotalProgress.hasGotAllToken() ? this.m_status = c.RANK_TOKEN_FLY_TOP : this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.showRankingPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress()), this.m_bHaveShow = !0) : this.m_status = c.TOKEN_FLY_TOP);
                            break;
                        case c.TOKEN_FLY_TOP:
                            if (e) {
                                if (this.m_CommBonusTotalProgress.hasGotAllToken() || 0 == this.getCurGameNewProgress()) this.m_status = c.REACH_GATE_POPUP;
                                else {
                                    this.showRankingPage(!1), this.SetAllBtnInteract(!1), this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur - this.getCurGameNewProgress());
                                    var o = this.getThemeIDByGameName(this.m_sCurGameName);
                                    "" != o ? this.m_MissionListCtrl.OpenShellAndGetPearl(o, function() {
                                        l.AudioMgr.Instance.Play("Pearl", !1, 1);
                                        var e = t.m_MissionListCtrl.GetInfoTokenNode(o);
                                        t.m_CommBonusTotalProgress.showOneByOne(t.m_iTotalProgressCur - t.getCurGameNewProgress(), t.getCurGameNewProgress(), e), t.m_bHaveShow = !0
                                    }) : console.warn("themeID = null")
                                }
                                break
                            }
                        case c.REACH_GATE_POPUP:
                            e && (this.m_CommBonusTotalProgress.hasGotAllToken() && this.m_iTotalProgressMax > this.m_iTotalProgressCur - this.m_iTotalProgressAddAll ? this.m_CommBonusTotalProgress.ShowNecklackComplete(function() {
                                t.ToggleFinishMissionPage(!0)
                            }) : (this.clearAllNewProgress(), this.m_status = c.FADE_TO_RANK_PAGE));
                            break;
                        case c.RANK_TOKEN_FLY_TOP:
                            if (e) {
                                var n = Math.max(this.m_iTotalProgressMax, this.m_iTotalProgressCur - this.m_iTotalProgressAddAll),
                                    i = Math.min(this.m_iTotalProgressCur - this.m_iTotalProgressMax, this.m_iTotalProgressAddAll);
                                if (i > 0) {
                                    this.showRankingPage(!1), this.m_nodeBlocker.active = !0, this.m_RankBonusTotalProgress.setAllTokenShowEndCB(this.setRankRrogressAndIdle.bind(this, i)), this.m_RankBonusTotalProgress.setProgressNoX(n);
                                    for (var r = !1, s = function(e) {
                                            a.m_MissionListCtrl.m_aryInfoCtrlList[e].m_nodeRedDot.active && a.m_MissionListCtrl.m_aryInfoCtrlList[e].CallShellOpenAndShowPearl(function() {
                                                r || (r = !0, l.AudioMgr.Instance.Play("Pearl", !1, 1));
                                                var o = t.getThemeIDByGameName(t.m_sCurGameName),
                                                    n = t.m_MissionListCtrl.GetInfoTokenNode(o);
                                                t.m_RankBonusTotalProgress.showFlyToken(n), t.m_MissionListCtrl.m_aryInfoCtrlList[e].setRedDot(0)
                                            })
                                        }, a = this, u = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; u >= 0; u--) s(u);
                                    this.m_bHaveShow = !0
                                } else this.m_status = c.IDLE;
                                this.clearAllNewProgress()
                            }
                            break;
                        case c.DISABLE:
                            e && (this.m_bIsCollectingAward || m.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.disableBannerPopUp(), this.node.active = !1);
                            break;
                        case c.TIME_UP:
                            e && (this.m_bIsTimeUP = !1, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), this.clearAllNewProgress(), this.m_MissionListCtrl.Clear(), this.m_MissionBtnCtrl.Clear(), this.m_PlayerRankingMgr.Clear(), this.m_RankBonusTotalProgress.setProgressNoX(0), this.m_CommBonusMoneyMgr.Clear(), this.m_CommBonusTotalProgress.Init(), this.m_RankingBonusListCtrl.Clear(), this.m_curMapData = null, this.m_arrMissionData = [], this.m_curAwardAvaiMapData = null, this.m_arrAwardAvaiMapData = [], this.m_iTotalProgressAddAll = 0, this.m_iTotalProgressCur = 0, this.m_iAwardNum = 0, this.m_iBeginTime = -1, this.m_iEndTime = -1, this.m_iNowTime = -1, this.m_iTempTotalPearl = 0, this.m_bNoobGuideRanking = !0, this.m_bInRankingPage = !1, this.m_bSlotLock = !0, this.m_bTokenLock = !0, this.m_bIsShowMermaidAct = !0, this.m_bIsCollectingAward = !1, this.m_status = c.UPDATE_CMD)
                    }
                }, e.prototype.Show = function() {
                    this.m_status != c.DISABLE && (this.node.active = !0)
                }, e.prototype.setBlocker = function(t) {
                    this.m_iBlockerCtr += t ? 1 : -1, this.m_nodeBlocker.active = 0 == this.m_iBlockerCtr
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != c.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (this.m_bIsInLobby)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("OceanHeart" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                    this.CloseEvent()
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t, e, o, n, i, r) {
                    if (void 0 === e && (e = ""), void 0 === o && (o = 0), void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === r && (r = []), this.m_nodeLoginGetAward.active = t, t) {
                        var s = this.m_curAwardAvaiMapData.QuestID.substr(10, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(12, 2),
                            a = this.m_curAwardAvaiMapData.bonusData.people;
                        this.m_labLoginGetAwardMsg.string = "Event Time : " + s + "\ncommunity jackpot shared by " + a + " people", this.m_RankAwardPanelCtrl.setDetail(e, i, o, n, r, this.m_curAwardAvaiMapData.m_arrRankAwardData, this.m_curAwardAvaiMapData.CustomAmount), this.m_nodeLoginGetAwardCollectBtn.active = !0, this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (m.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_bIsInLobby ? h.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this)) : this.EVENT_SEND_COLLECT_CMD && !this.m_bIsCollectingAward && (this.m_bIsCollectingAward = !0, this.EVENT_SEND_COLLECT_CMD(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel))) : this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwardCollect = function() {
                    var t = this;
                    console.warn("onClickGetAwardCollect, this.m_iFinalBalance = " + this.m_iFinalBalance), h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.AWARD_COLLECT_BTN), this.m_nodeLoginGetAwardCollectBtn.active = !1;
                    var e = function() {
                        t.m_nodeLoginGetAwardOKBtn.active = !0, t.m_nodeLoginGetAwardXBtn.active = !0, t.EVENT_REFLASH_UI_BALANCE && t.EVENT_REFLASH_UI_BALANCE()
                    };
                    this.m_bIsInLobby ? (this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 1, e.bind(this)), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null)) : this.m_FishFakeScoreBoxCtrl.countUpShowMoney(this.m_iFinalBalance, 1, e.bind(this))
                }, e.prototype.onClickGetAwardX = function() {
                    this.hideLoginGetAward(), this.m_arrAwardAvaiMapData.length > 0 ? this.loginGetAward() : (this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup(), this.EVENT_COLLECT_CLOSE && this.EVENT_COLLECT_CLOSE(), this.m_bIsCollectingAward = !1, 0 != this.m_arrMissionData.length && this._countDownTime > 0 && null != this.m_curMapData ? (this.node.active = !0, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!0), this.m_status = c.IDLE) : this.m_status = c.UPDATE_CMD), h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.AWARD_X_BTN)
                }, e.prototype.CheckQuestIsActive = function() {
                    return this.node.activeInHierarchy && this.m_status != c.DISABLE || this.m_bIsCollectingAward
                }, e.prototype.CallSendCmd = function() {
                    this.m_status != c.DISABLE || this.m_bIsCollectingAward || (this.node.active = !0, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), this.m_status = c.UPDATE_CMD)
                }, e.prototype.popUpClosed = function() {
                    null == this.m_arrMissionData || null == L.EventTipsMask.Instance || L.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bSlotEventRun ? this.m_MissionBtnCtrl.setPrompt("Treasure Map & Heart Of Ocean\nBOTH available!") : this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent), null != L.EventTipsMask.Instance && null != this.m_curMapData && (L.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), L.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID)))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.decrCurGameTokenRedDot = function() {
                    for (var t = -1, e = 0; e < this.m_MissionListCtrl.m_aryInfoCtrlList.length; e++)
                        if (this.m_MissionListCtrl.m_aryInfoCtrlList[e].m_strThemeID == this.getCurGameMisData().ThemeID) {
                            t = e;
                            break
                        }
                    if (-1 != t) {
                        var o = this.getMisDataByThemeID(this.getCurGameMisData().ThemeID);
                        o.newProgress > 0 && (o.newProgress--, this.decrTokenRedDot(t))
                    }
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.IDLE)
                }, e.prototype.setRankRrogressAndIdle = function(t) {
                    this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur), this.m_RankBonusTotalProgress.setProgressAdd(t), this.clearAllNewProgress();
                    for (var e = 0; e < this.m_MissionListCtrl.m_aryInfoCtrlList.length; e++) {
                        var o = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[e].m_strThemeID);
                        o.newProgress > 0 && (o.newProgress = 0)
                    }
                    this.m_status != c.DISABLE && (this.m_status = c.FADE_TO_RANK_PAGE)
                }, e.prototype.allTokenShowEnd = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.REACH_GATE_POPUP)
                }, e.prototype.eachTokenShowEnd = function() {
                    if (this.m_status != c.DISABLE) {
                        var t = this.m_RankBonusTotalProgress.getProgress() + 1;
                        this.m_RankBonusTotalProgress.setProgressNoX(t)
                    }
                }, e.prototype.setStatusFly = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == b.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0 && (this.m_MissionBtnCtrl.setPrompt(this.collectAwardContent.replace("{0}", (t + e).toString())), !0)
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    this.m_bIsInLobby && (A.EventSystem.Event(A.DownBar.SetPlayerInfo).Notify(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o)
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return this.m_arrMissionData.length > 0 ? console.error("\u53d6\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 getMisDataByThemeID m_sCurGameName " + this.m_sCurGameName + ", themeID = " + t) : console.error("\u53d6\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 m_arrMissionData.length = 0"), null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != c.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t, e, o) {
                    this.m_iSeat = t, this.m_sCurGameName = e, this.m_MissionListCtrl.SetWeaponPos(o), this.m_MissionListCtrl.SetUIPearlPos(this.m_RankBonusTotalProgress.getTokenPos()), this.m_MissionListCtrl.SetPearlPosAry(this.m_CommBonusTotalProgress.GetTokenNode()), this.m_MissionBtnCtrl.SetIconShellInfo(this.m_sCurGameName, o), this.getAllNewProgress(!0)
                }, e.prototype.getAllNewProgress = function(t) {
                    void 0 === t && (t = !1);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (e) {
                        for (var o = 0, n = 0; n < this.m_arrMissionData.length; n++) {
                            var i = e[this.getGameNameByThemeID(this.m_arrMissionData[n].ThemeID)][this.m_curMapData.QuestID];
                            ((i = i || 0) > 0 || this.m_arrMissionData[n].m_fProgressRate > 0) && (o += i, this.m_arrMissionData[n].newProgress = i)
                        }
                        this.m_iTotalProgressAddAll = o, t && this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll);
                        var r = this.m_bIsInLobby ? this.m_iTotalProgressCur - this.m_iTotalProgressAddAll : this.m_RankBonusTotalProgress.getProgress();
                        this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, r)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            null == o ? cc.error("[ClearAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[e].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress())
                    }
                }, e.prototype.parsetFishQuestUpdateData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        if (t.hasOwnProperty("UserQuestData")) {
                            for (var o = t.UserQuestData, n = 0; n < o.length; n++) {
                                var i = o[n];
                                if (e.ThemeID == i.GameThemeID && e.QuestID == i.QuestID && e.QuestLevel == i.QuestLevel) {
                                    if (e.Status = i.Status, e.Status == b.UserQuestDataStatus.AWARD_CLAIMED) return;
                                    if (e.QuestType == g.QustObjectiveType.SPIN_TIME) e.SpinTimes = i.SpinTimes;
                                    else if (e.QuestType == g.QustObjectiveType.SPIN_AMOUNT) e.SpinAmount = i.SpinAmount;
                                    else if (e.QuestType == g.QustObjectiveType.WIN_AMOUNT) e.WinAmount = i.WinAmount;
                                    else {
                                        if (e.QuestType != g.QustObjectiveType.CUSTOM) return void console.warn("parseSpinData else");
                                        e.CustomAmount = i.CustomAmount
                                    }
                                    break
                                }
                            }
                            this.recMisInfoSetProgressCtr()
                        }
                    } catch (O) {
                        console.error("parsetFishQuestUpdateData error")
                    }
                }, e.prototype.parseFishQuestInfoData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        if (t.hasOwnProperty("900004") && t[900004].hasOwnProperty("UserAwardData")) {
                            var o = t[900004].UserQuestData;
                            this.m_iNowTime = t[900004].NowTimeUTC, this.RefleshTimer(), this.parseUserDataList(o);
                            for (var n = 0; n < o.length; n++) {
                                var i = o[n];
                                if (e.ThemeID == i.GameThemeID && e.QuestID == i.QuestID && e.QuestLevel == i.QuestLevel) {
                                    if (e.Status = i.Status, e.Status != b.UserQuestDataStatus.AWARD_AVAILABLE) break;
                                    for (var r = t[900004].UserAwardData, s = 0; s < r.length; s++) {
                                        var a = r[s];
                                        if (a.hasOwnProperty("QuestID") && a.hasOwnProperty("AwardEntries") && a.hasOwnProperty("AwardWinnings") && a.hasOwnProperty("PearlAmount") && a.hasOwnProperty("AwardItem") && e.QuestID == a.QuestID) {
                                            var c = a.PearlAmount;
                                            this.m_iTempTotalPearl = this.m_iTotalProgressCur + c, e.Award.PearlAmount = a.PearlAmount;
                                            var l = new g.Award;
                                            l.AwardEntries = a.AwardEntries, l.AwardWinnings = a.AwardWinnings, l.PearlAmount = a.PearlAmount, l.AwardItem = a.AwardItem, l.AwardItem ? (l.ItemID = a.AwardItem.ItemID, l.ItemAmount = a.AwardItem.Amount) : (l.ItemID = "", l.ItemAmount = 0), e.AwardAry.push(l);
                                            break
                                        }
                                    }
                                    this.parsetFishQuestUpdateData(t[900004]);
                                    break
                                }
                            }
                        }
                    } catch (O) {
                        console.error("parseSpinData error")
                    } else console.error("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.parseMisInfo = function(t) {
                    if (this.m_status = c.PARAE_CMD, null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new g.CommBonusData,
                                    s = o[i];
                                if (302 == s.TitleType && (this.m_bIsOpenRankBoard = !0), 300 == s.TitleType || 301 == s.TitleType || 302 == s.TitleType) {
                                    r.QuestID = s.QuestID, r.QuestLevel = s.QuestLevel, r.ThemeID = s.GameThemeID, r.SpinTimesGate = s.SpinTimesGate, r.SpinAmountGate = s.SpinAmountGate, r.WinAmountGate = s.WinAmountGate, r.CustomGate = s.CustomGate, r.CustomType = s.CustomType, r.CustomInfo = s.CustomInfo, r.Award = s.Award, r.Priority = s.Priority, r.CycleSeconds = s.CycleSeconds, r.ExpireTimeUTC = s.ExpireTimeUTC, null != s.CustomInfo && s.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = s.CustomInfo.Msg);
                                    for (var a = 0; a < n.length; a++) {
                                        var l = n[a];
                                        if (r.QuestID == l.QuestID && r.QuestLevel == l.QuestLevel && r.ThemeID == l.GameThemeID) {
                                            r.SpinTimes = l.SpinTimes, r.SpinAmount = l.SpinAmount, r.WinAmount = l.WinAmount, r.CustomAmount = l.CustomAmount, r.Status = l.Status;
                                            break
                                        }
                                    }
                                    if (300 == s.TitleType && this.checkThemeIsOpen(s.GameThemeID)) this.setGateAndAmount(r), this.m_arrMissionData.push(r);
                                    else if (302 == s.TitleType) {
                                        if (r.RankSize = s.CustomInfo.RankNum, s.CustomInfo && s.CustomInfo.RankAward)
                                            for (var u = 0; u < s.CustomInfo.RankAward.length; u++) {
                                                var m = s.CustomInfo.RankAward[u],
                                                    p = new g.RankAwardData;
                                                p.Begin = m.Begin, p.End = m.End, p.Award = m.Award, r.m_arrRankAwardData.push(p)
                                            }
                                        if (r.bonusData = this.parseBonusData(s.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_strOceanHeartQuestID = r.QuestID, this.m_curMapData = r, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_iTotalProgressMax = s.CustomGate, this.parseUserDataList(n), h.LobbyClient.Instance.GetJPSystem.getOceanHeartCB = this.parseAndUpdateBonusData.bind(this)), r.Status == b.UserQuestDataStatus.AWARD_AVAILABLE) this.m_arrAwardAvaiMapData.push(r);
                                        else if (r.Status == b.UserQuestDataStatus.QUEST_NOT_DONE && r.bonusData.jp_end_time <= this.m_iNowTime) {
                                            var d = r.bonusData.ranking_list;
                                            for (u = 0; u < d.length; u++)
                                                if (d[u].ranking_id == r.bonusData.ranking_id) {
                                                    this.m_arrAwardAvaiMapData.push(r);
                                                    break
                                                }
                                        }
                                    }
                                } else 100 == s.TitleType && (this.m_bSlotEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (O) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalProgressCur = o.CustomAmount;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new g.BonusData;
                    try {
                        e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time, e.jp_end_time = t.jp_end_time, e.ranking_id = this.m_curMapData && this.m_curMapData.bonusData.ranking_id ? this.m_curMapData.bonusData.ranking_id : t.ranking_id ? t.ranking_id : "", e.ranking_list, e.ranking_list = [];
                        var o = t.ranking_list;
                        if (o && o[0])
                            for (var n = 0; n < o.length; n++) {
                                var i = o[n],
                                    r = new g.RankingPlayerData;
                                r.amount = i.amount, r.ark_id = i.ark_id, r.ranking_id = i.ranking_id, r.time = i.time, e.ranking_list.push(r)
                            }
                    } catch (s) {
                        console.error(s), e = null
                    }
                    return e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    if (this.m_status != c.TIME_UP) {
                        var e = this.parseBonusData(t);
                        if (this.m_curMapData && e && e.quest_id == this.m_strOceanHeartQuestID) {
                            this.m_curMapData.bonusData = e, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData);
                            var o = this.m_PlayerRankingMgr.GetPlayerSlefRank(); - 999 == this.m_iMySaveRank && (this.m_iMySaveRank = o), console.warn("\u6536\u5230\u6392\u884c\u699c\u8cc7\u6599, \u5f69\u91d1\u4eba\u6578 = " + this.m_curMapData.bonusData.people + ", myNewRank = " + o + " m_iMySaveRan " + this.m_iMySaveRank + ", \u5269\u9918\u6642\u9593 = " + this._countDownTime), o != this.m_iMySaveRank && (-1 != o && !this.m_Root.activeInHierarchy && this._countDownTime <= 86400 && ((o < this.m_iMySaveRank || -1 == this.m_iMySaveRank) && (l.AudioMgr.Instance.Play("RankingMoveUp", !1, 1), this.m_MissionBtnCtrl.ShowRankingChange(o, !0)), o > this.m_iMySaveRank && -1 != this.m_iMySaveRank && (l.AudioMgr.Instance.Play("RankingMoveDown", !1, 1), this.m_MissionBtnCtrl.ShowRankingChange(o, !1))), this.m_iMySaveRank = o)
                        }
                    }
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = g.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = g.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = "Complete total entries " + t.SpinAmountGate) : t.WinAmountGate > 0 ? (t.QuestType = g.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = g.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    l.AudioMgr.Instance.Play("Missions_Call", !1, 1), this.setActivityRoot(!1), this.m_status = c.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (t < 0) this.m_status = c.DISABLE;
                    else if (0 != this.m_arrMissionData.length) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o >= 0 && o < t && (t = o)
                        }
                        t > 0 && !this.m_bIsInLobby && (this.m_bIsTimeUP = !1, this.setActivityRoot(!1), this.m_status = c.IDLE), this.ForceSetTime(t)
                    } else 0 == this.m_arrAwardAvaiMapData.length ? this.m_status = c.DISABLE : (this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1))
                }, e.prototype.RefleshTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (0 == this.m_arrMissionData.length) return this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), void(this.m_status = c.UPDATE_CMD);
                    for (var e = 0; e < this.m_arrMissionData.length; e++) {
                        var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                        o >= 0 && o < t && (t = o)
                    }
                    this.ForceSetTime(t)
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? "{day} Days {hr}:{min}:{sec}" : "{hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    --t._countDownTime, t._countDownTime <= 0 && (this.m_bIsInLobby && (this.clearAllNewProgress(), this.reloadLobby()), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack, this.m_bIsTimeUP = !0, this.m_status != c.IDLE && this.m_status != c.NONE || (this.m_status = c.TIME_UP)), t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (O) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (O) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = o.indexOf(i),
                        s = o.indexOf("BIGICON_" + i);
                    return -1 == n && (r > -1 || s > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {}, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_nodeHint.active = !t && this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = !t && this.m_iTotalProgressCur >= this.m_iTotalProgressMax, this.m_bShowFinish = t, t ? this.m_iSoundNinePearlPopupID = l.AudioMgr.Instance.Play("NinePearlPopup", !0, 1) : l.AudioMgr.Instance.Stop(this.m_iSoundNinePearlPopupID)
                }, e.prototype.closeTipPage = function() {
                    this.m_nodeTipsPage.active = !1, this.closeReadMePage(), 0 == this.m_iTotalProgressCur && this.m_bIsShowMermaidAct && (this.m_CommBonusTotalProgress.ShowStartMermaid(), this.m_bIsShowMermaidAct = !1)
                }, e.prototype.closeFinishPage = function() {
                    this.ToggleFinishMissionPage(!1), this.m_CommBonusTotalProgress.ShowChangeToFullMermaid(), this.m_status = c.RANK_TOKEN_FLY_TOP
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1)
                }, e.prototype.closeRankIDPopup = function() {
                    this.m_nodeRankIDPopup.active = !1, h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.RANKING_ID_X_BTN)
                }, e.prototype.ShowMainPage = function(t) {
                    void 0 === t && (t = !0), this.m_bBtnInterActable && (t && (l.AudioMgr.Instance.Play("Click", !1, 1), h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.SWITCH_TO_GAME_PAGE)), this.showRankingPage(!1))
                }, e.prototype.ShowRankPage = function() {
                    this.m_bBtnInterActable && this.m_bIsOpenRankBoard && (h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.SWITCH_TO_RANK_PAGE), l.AudioMgr.Instance.Play("Click", !1, 1), this.showRankingPage(!0), this.m_bInRankingPage && this.m_PlayerRankingMgr.showRanking(this.m_curMapData))
                }, e.prototype.fadeToRankingPage = function() {
                    var t = this;
                    this.m_bInRankingPage = !0, this.m_nodeRankPage.active = !0, this.m_nodeMainPage.active = !1, this.m_nodeRankPage.opacity = 0, cc.tween(this.m_nodeRankPage).to(1, {
                        opacity: 255
                    }).call(function() {
                        t.m_status = c.IDLE
                    }).start()
                }, e.prototype.showRankingPage = function(t) {
                    t && !this.m_bIsOpenRankBoard || (this.m_nodeRankPage.opacity = 255, this.m_nodeMainPage.opacity = 255, this.m_bInRankingPage = t, this.m_nodeMainPage.active = !t, this.m_nodeRankPage.active = t, this.m_nodeMainPageBg.color = t ? cc.Color.GRAY : cc.Color.WHITE, this.m_nodeRankPageBg.color = t ? cc.Color.WHITE : cc.Color.GRAY, this.showReadMePage(!1, this.m_nodeReadMePage_Rank), this.showReadMePage(!1, this.m_nodeReadMePage))
                }, e.prototype.hideBothPage = function() {
                    this.m_nodeRankPage.active = !0, this.m_nodeRankPage.opacity = 0, this.m_nodeMainPage.active = !0, this.m_nodeMainPage.opacity = 0
                }, e.prototype.showRankingID = function(t) {
                    t && this.m_bNoobGuideRanking && 0 == this.m_iTotalProgressCur && 0 == this.m_iTempTotalPearl ? (this.m_bNoobGuideRanking = !1, l.AudioMgr.Instance.Play("Contestant", !1, 1), this.m_nodeRankIDPopup.active = !0, this.m_labRankID.string = "No. " + this.m_curMapData.bonusData.ranking_id) : this.m_nodeRankIDPopup.active = !1
                }, e.prototype.setReadMePage = function(t) {
                    this.m_bInRankingPage ? this.showReadMePage(t, this.m_nodeReadMePage_Rank) && (this.m_nodeRankingPage.active = !t) : this.showReadMePage(t, this.m_nodeReadMePage) && (this.m_nodeObjList.active = !t)
                }, e.prototype.showReadMePage = function(t, e) {
                    if (e.getNumberOfRunningActions() > 0) return !1;
                    if (l.AudioMgr.Instance.Play("Click", !1, 1), e.stopAllActions(), e.scale = 1, e.opacity = 255, t) e.active = !0, e == this.m_nodeReadMePage_Rank ? h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.INFO_BTN_OPEN_RANK) : e == this.m_nodeReadMePage && h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.INFO_BTN_OPEN_MAIN);
                    else {
                        e == this.m_nodeReadMePage_Rank ? h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.INFO_BTN_X_RANK) : e == this.m_nodeReadMePage && h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.INFO_BTN_X_MAIN);
                        var o = cc.fadeOut(.25),
                            n = cc.scaleTo(.5, 0),
                            i = cc.callFunc(function() {
                                return e.active = !1
                            }),
                            r = cc.sequence(cc.spawn(o, n), i);
                        e.runAction(r)
                    }
                    return !0
                }, e.prototype.setActivityRoot = function(t) {
                    if (this.m_Root.active = t, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress()), this.m_MissionBtnCtrl.show(!t), this.hideBothPage(), l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t)
                        if (l.AudioMgr.Instance.Play("Ocean", !1, 1), this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll), this.m_nodeHint.active = this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = this.m_iTotalProgressCur >= this.m_iTotalProgressMax, 0 == this.m_iTotalProgressCur && 0 == this.m_iTempTotalPearl && this.m_bIsShowMermaidAct) this.m_CommBonusTotalProgress.Init();
                        else {
                            var e = this.m_iTotalProgressCur - this.getCurGameNewProgress();
                            e >= this.m_iTotalProgressMax ? this.m_CommBonusTotalProgress.ShowFullMermaid() : e >= 0 && this.m_CommBonusTotalProgress.ShowNearMermaid(0 == this.m_iTotalProgressCur && 0 == this.getCurGameNewProgress())
                        }
                    else this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        if (l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("\u5728\u6b64\u904a\u6232\u4e2d\u4e0d\u8df3\u8f49!!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1)
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_bBtnInterActable && this.m_status != c.COLLECT && (this.setActivityRoot(!1), h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.MAIN_X_BTN))
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && !this.m_bIsTimeUP && (this.m_MissionBtnCtrl.CheckIsShowing() ? cc.error(" \u8c9d\u6bbc\u6b63\u5728\u958b\u555f\u4e2d!!!  \u7121\u6cd5\u958b\u555f\u4ecb\u9762  ") : (this.setOnTop(), L.EventTipsMask.Instance && L.EventTipsMask.Instance.hide(), h.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", g.OceanHeartClickLogID.FLOAT_BTN), this.m_bIsInLobby ? (this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = c.UPDATE_CMD) : this.ClickFloatBtnCallEvent()))
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.m_arrMissionData.length <= 0 || (null != this.EVENT_OPEN_UI && this.EVENT_OPEN_UI(), this.setActivityRoot(!0), this.getAllNewProgress(), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), this.recMisInfoSetProgressCtr(), this.showRankingID(!0))
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, m.ConnectPanelMgr.Instance.ShowConnectPanel(0), h.LobbyClient.Instance.GetUserClient.getNoRetryCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (0 == e.cmd_data.result) this.OnCollectQuest(e.cmd_data);
                        else switch (e.cmd_data.result) {
                            case 1:
                                d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), m.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                break;
                            case -999:
                                d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Critical, "S189", null, null, null)
                        } else {
                            var o;
                            o = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", this.m_bIsInLobby ? d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Critical, o, null, null, null) : this.EVENT_ERROR && this.EVENT_ERROR(o)
                        }
                }, e.prototype.OnCollectQuest = function(t) {
                    var e;
                    this.node.active = !0, this.node.opacity = 255, this.m_Root.active = !1, this.m_MissionBtnCtrl.show(!1), SS.Common.GameEnvironment.IsUseScoreBox ? (this.m_iAwardNum = t.data.AwardWinnings, this.m_iFinalBalance = t.playerInfo.winnings, e = p.ShowType.WINNING) : (this.m_iFinalBalance = t.playerInfo.winnings + t.playerInfo.entries, this.m_iAwardNum = t.data.AwardWinnings + t.data.AwardEntries, e = p.ShowType.CREDIT), this.node.setSiblingIndex(100);
                    var o = t.data.ExtraInfo;
                    if (null != o) {
                        this.showLoginGetAward(!0, o.ranking_id, this.m_iAwardNum, o.ranking_award, o.exchange_rate, o.ranking_list), this.lobbySetUserBalance(t.playerInfo);
                        var n = this.m_iFinalBalance - this.m_iAwardNum - o.ranking_award;
                        this.m_bIsInLobby ? (this.m_FishFakeScoreBoxCtrl.node.active = !1, this.m_FakeScoreBoxCtrl.node.active = !0, this.m_FakeScoreBoxCtrl.show(e, n)) : (this.m_FakeScoreBoxCtrl.node.active = !1, this.m_FishFakeScoreBoxCtrl.node.active = !0, this.m_FishFakeScoreBoxCtrl.show(this.m_iSeat, e, n)), m.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                    } else m.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                }, e.prototype.SetReadyChangeGame = function() {
                    l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_bIsInLobby ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : A.EventSystem.Event(A.DockFunction.BackToLobby).Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    this.m_CommBonusMoneyMgr && t && (this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * t.exchange_rate), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * t.exchange_rate, t.people))
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 == this.m_arrAwardAvaiMapData.length && (0 == this.m_arrMissionData.length || null == this.m_curMapData)) return this.m_status = c.DISABLE, void console.warn("updateMisInfo, MisMgrStatus.DISABLE");
                    this.m_iEndTime < this.m_iNowTime ? setTimeout(function() {
                        console.error("updateMisInfo, if (this.m_iEndTime < this.m_iNowTime) setTimeout"), t.SendMissionBonusInfoCmd()
                    }, 3e3) : null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = c.IDLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (this.isRequestInfoNow = !1, m.ConnectPanelMgr.Instance.DisableConnectPanel(0), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (h.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.m_curMapData && this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, 3), 0 == this.m_arrAwardAvaiMapData.length || this.m_bIsInLobby || this.loginGetAward(), this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? (this.m_status = c.DISABLE, console.error("e900004.result == -999, MisMgrStatus.DISABLE")) : (this.errorCode = "S182", this.m_bIsInLobby ? d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Warning, this.errorCode, "Lobby", this.reason) : this.EVENT_ERROR && this.EVENT_ERROR(this.errorCode)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, this.m_bIsInLobby ? d.PopupMsgMgr.Instance.ShowPopMsg(d.PopupPriority.Warning, this.errorCode, "Lobby", this.reason) : this.EVENT_ERROR && this.EVENT_ERROR(this.errorCode, this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, o, n, i = this;
                        return a(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    if (!(t = this.getCurGameMisData())) return [3, 6];
                                    if (t.Status == b.UserQuestDataStatus.AWARD_CLAIMED) return [2];
                                    switch (e = t.QuestType, o = void 0, e) {
                                        case g.QustObjectiveType.WIN_AMOUNT:
                                            o = t.WinAmount / t.WinAmountGate;
                                            break;
                                        case g.QustObjectiveType.SPIN_AMOUNT:
                                            o = t.SpinAmount / t.SpinAmountGate;
                                            break;
                                        case g.QustObjectiveType.SPIN_TIME:
                                            o = t.SpinTimes / t.SpinTimesGate;
                                            break;
                                        case g.QustObjectiveType.CUSTOM:
                                            o = t.CustomAmount / t.CustomGate;
                                            break;
                                        default:
                                            console.error("FishOceanHeartMgr.recMisInfoSetProgressCtr()")
                                    }
                                    if (1 != (o = o > 1 ? 1 : o < 0 ? 0 : o) || this.m_Root.activeInHierarchy || (this.SetAllBtnInteract(!1), this.m_status = c.GET_BUBBLE), n = null != t.Award ? this.GetAwardCallback.bind(this) : null, 1 != o || !this.m_Root.activeInHierarchy || 0 == t.Award.PearlAmount) return [3, 5];
                                    if (!(this.m_iTempTotalPearl > this.m_iTotalProgressCur)) return [3, 4];
                                    this.m_MissionBtnCtrl.setProgress(0, t, null), r.label = 1;
                                case 1:
                                    return this.m_status == c.IDLE ? [3, 3] : [4, SS.Common.WaitForSeconds(1)];
                                case 2:
                                    return r.sent(), [3, 1];
                                case 3:
                                    this.m_iTotalProgressCur = this.m_iTempTotalPearl, this.m_curMapData.CustomAmount = this.m_iTotalProgressCur, this.m_MissionListCtrl.SetProgress(this.getThemeIDByGameName(this.m_sCurGameName), 0), this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur), this.m_iTotalProgressCur <= this.m_iTotalProgressMax && (this.m_CommBonusTotalProgress.ShowNearMermaid(!1), this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur), this.m_iTotalProgressCur == this.m_iTotalProgressMax && this.m_CommBonusTotalProgress.ShowNecklackComplete(function() {
                                        i.ToggleFinishMissionPage(!0)
                                    })), t.Status = b.UserQuestDataStatus.AWARD_CLAIMED, r.label = 4;
                                case 4:
                                    return [3, 6];
                                case 5:
                                    this.m_MissionBtnCtrl.setProgress(o, t, n), r.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.GetAwardCallback = function(t, e) {
                    null != t && (0 != t.PearlAmount ? (this.m_iTotalProgressCur = this.m_iTempTotalPearl, this.m_curMapData.CustomAmount = this.m_iTotalProgressCur, this.m_Root.activeInHierarchy || this.gotNewToken()) : null != this.EVENT_GET_MISSION_REWARD && this.EVENT_GET_MISSION_REWARD(t)), this.SetAllBtnInteract(!0), 0 == e && this.m_status != c.DISABLE && this.m_bIsTimeUP ? this.m_status = c.TIME_UP : this.m_status = c.IDLE
                }, e.prototype.CheckOpenShellSpeed = function(t) {
                    if (this.m_MissionBtnCtrl.m_isShowing) {
                        var e = this.getCurGameMisData();
                        if (e && e.QuestType == g.QustObjectiveType.SPIN_AMOUNT) {
                            var o = this.m_MissionBtnCtrl.GetShellCtrlAnimationState(),
                                n = this.GetOpenShellSpeed(t);
                            o.speed = n >= 1 ? n : 1
                        }
                    }
                }, e.prototype.GetOpenShellSpeed = function(t) {
                    var e = 0;
                    if (t ? e = t : null != this.EVENT_GET_COST_PER_SECOND && (e = this.EVENT_GET_COST_PER_SECOND()), e > 0) {
                        var o = this.getCurGameMisData(),
                            n = this.m_MissionBtnCtrl.GetShellCtrlAnimationState();
                        if (n) {
                            var i = o.SpinAmountGate / e * .9;
                            if ((i -= this.m_MissionBtnCtrl.GetDropItemShowTime()) <= 0) return 10;
                            if (i < n.duration / n.speed) {
                                var r = n.duration / i;
                                return r > 10 ? 10 : r
                            }
                        }
                    }
                    return 1
                }, r([k(cc.Node)], e.prototype, "m_Root", void 0), r([k(cc.Node)], e.prototype, "m_nodeTipsPage", void 0), r([k(cc.Node)], e.prototype, "m_nodeMainPageBg", void 0), r([k(cc.Node)], e.prototype, "m_nodeRankPageBg", void 0), r([k(cc.Node)], e.prototype, "m_nodeMainPage", void 0), r([k(cc.Node)], e.prototype, "m_nodeRankPage", void 0), r([k(w.FishOceanHeartBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([k(cc.Node)], e.prototype, "m_FinishMission", void 0), r([k(cc.Node)], e.prototype, "m_nodeMissionListCtrl", void 0), r([k(M.FishOceanHeartListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([k(T.default)], e.prototype, "m_PlayerRankingMgr", void 0), r([k(E.default)], e.prototype, "m_CommBonusTotalProgress", void 0), r([k(S.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([k(y.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([k(_.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([k(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([k(u.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([k(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([k(u.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([k(f.RankAwardPanelCtrl)], e.prototype, "m_RankAwardPanelCtrl", void 0), r([k(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([k(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([k(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([k(cc.Node)], e.prototype, "m_nodeLoginGetAwardCollectBtn", void 0), r([k(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([k(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([k([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([k(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([k(cc.Node)], e.prototype, "m_nodeRankingPage", void 0), r([k(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([k(cc.Node)], e.prototype, "m_nodeReadMePage_Rank", void 0), r([k(cc.Node)], e.prototype, "m_nodeRankIDPopup", void 0), r([k(cc.Label)], e.prototype, "m_labRankID", void 0), r([k(cc.Node)], e.prototype, "m_nodeDarkerBG", void 0), r([k(p.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([k(I.default)], e.prototype, "m_FishFakeScoreBoxCtrl", void 0), r([k(cc.Node)], e.prototype, "m_nodeHint", void 0), r([k(cc.Node)], e.prototype, "m_nodeHintRank", void 0), r([k(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([k(C.RankingBonusListCtrl)], e.prototype, "m_RankingBonusListCtrl", void 0), r([k({
                    type: [cc.AudioClip]
                })], e.prototype, "SoundClip", void 0), r([R], e)
            }(P.EventModule);
        o.default = N, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/LobbyClient": "LobbyClient",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../CommunityBonus/Script/CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "../../CommunityBonus/Script/CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "../../CommunityBonus/Script/Rank/RankAwardPanelCtrl": "RankAwardPanelCtrl",
        "../../CommunityBonus/Script/Rank/RankBonusTotalProgress": "RankBonusTotalProgress",
        "../../CommunityBonus/Script/Rank/RankingBonusListCtrl": "RankingBonusListCtrl",
        "../../EventBannerData": "EventBannerData",
        "../../EventModule": "EventModule",
        "../../EventTipsMask": "EventTipsMask",
        "../../MissionMgr/Script/MissionData": "MissionData",
        "./FishFakeScoreBoxCtrl": "FishFakeScoreBoxCtrl",
        "./FishOceanHeartBtnCtrl": "FishOceanHeartBtnCtrl",
        "./FishOceanHeartListCtrl": "FishOceanHeartListCtrl",
        "./FishOceanHeartPlayerRankingMgr": "FishOceanHeartPlayerRankingMgr",
        "./FishOceanHeartTotalProgress": "FishOceanHeartTotalProgress"
    }],
    FishOceanHeartPlayerRankingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "44408VwB6VFPrBtJbbthXSS", "FishOceanHeartPlayerRankingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../CommunityBonus/Script/Rank/PlayerRankingMgr"),
            a = cc._decorator,
            c = a.ccclass,
            l = (a.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iMyRank = -1, e
                }
                return i(e, t), e.prototype.showRanking = function(e) {
                    console.warn("FishOceanHeartPlayerRankingMgr showRanking = ", e), t.prototype.showRanking.call(this, e)
                }, e.prototype.Clear = function() {
                    var t = this;
                    console.warn("FishOceanHeartPlayerRankingMgr Clear \u6e05\u6389\u5217\u8868 = "), this.m_arrPlayerRankingCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerRankingCtrl = []
                }, e.prototype.setRankingPlayer = function(e, o, n, i) {
                    void 0 === i && (i = 0), t.prototype.setRankingPlayer.call(this, e, o, n, i), n && -1 != e && (this.m_iMyRank = e + 1)
                }, e.prototype.GetPlayerSlefRank = function() {
                    return this.m_iMyRank
                }, r([c], e)
            }(s.PlayerRankingMgr));
        o.default = l, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/Rank/PlayerRankingMgr": "PlayerRankingMgr"
    }],
    FishOceanHeartRankAwardPanelCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "931f6gticdP3rGp0eGu/A8h", "FishOceanHeartRankAwardPanelCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../../Net/LobbyClient"),
            a = t("../../CommunityBonus/Script/CommBonusData"),
            c = t("../../CommunityBonus/Script/Rank/RankAwardPanelCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            m = (l.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onClickRank = function() {
                    this.m_nodeRankPanel.active = !0, this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(this.m_fScrollToPercent), s.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", a.OceanHeartClickLogID.AWARD_RANK_BTN)
                }, e.prototype.onClickRankX = function() {
                    this.m_nodeRankPanel.active = !1, s.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", a.OceanHeartClickLogID.AWARD_RANK_X_BTN)
                }, r([u], e)
            }(c.RankAwardPanelCtrl));
        o.default = m, cc._RF.pop()
    }, {
        "../../../Net/LobbyClient": "LobbyClient",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "../../CommunityBonus/Script/Rank/RankAwardPanelCtrl": "RankAwardPanelCtrl"
    }],
    FishOceanHeartShellCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f395c1jp3pB+L3BaOp7LRz5", "FishOceanHeartShellCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ShellAnimName = void 0;
        var s, a = t("../../../Component/AudioMgr"),
            c = t("./FishOceanHeartDropItem"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property;
        (function(t) {
            t.Idle = "ShellIdle", t.Open = "ShellOpen", t.OpenNormal = "ShellOpenShowNormal", t.OpenPearl = "ShellOpenShowPearl", t.OpenLoopLight = "ShellOpenLoopLight"
        })(s = o.ShellAnimName || (o.ShellAnimName = {}));
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_Root = null, e.m_pfDropAward = null, e.m_animShell = null, e.m_nodePoolAward = null, e.m_AwardData = null, e.m_iShowDatID = -1, e.m_v2WeaponPos = null, e.m_nodeScene = null, e.m_cbShellOpen = null, e.m_bIsIdle = !0, e.m_v2TargetPos = null, e.m_nodeTempDrop = null, e.m_currentAnim = null, e.DELAY_TIME = 2, e.MOVE_TIME = .3, e
            }
            return i(e, t), e.prototype.SetWeaponPos = function(t) {
                this.m_v2WeaponPos = t
            }, e.prototype.GetShellIsIdle = function() {
                return this.m_bIsIdle
            }, e.prototype.onLoad = function() {
                this.m_nodePoolAward = new cc.NodePool;
                for (var t = 0; t < 2; t++) {
                    var e = cc.instantiate(this.m_pfDropAward);
                    this.m_nodePoolAward.put(e)
                }
                this.m_animShell.play(s.Idle)
            }, e.prototype.OpenShellAndShowPearl = function(t) {
                var e = this;
                this.m_animShell.once(cc.Animation.EventType.FINISHED, function() {
                    null != t && t();
                    var o = cc.delayTime(.5),
                        n = cc.callFunc(function() {
                            e.m_animShell.play(s.Idle), e.m_bIsIdle = !0
                        }),
                        i = cc.sequence(o, n);
                    e.node.runAction(i)
                }), this.m_animShell.play(s.Open), this.m_bIsIdle = !1
            }, e.prototype.OpenShell = function(t, e, o, n) {
                var i = this;
                void 0 === o && (o = null), void 0 === n && (n = null), this.m_cbShellOpen = e, this.m_v2TargetPos = null == o ? this.m_v2WeaponPos : o, this.m_AwardData = null, this.m_AwardData = t.data.Award, this.m_iShowDatID = t.dataID;
                var r = null,
                    c = "";
                null != this.m_AwardData && (0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings || null != this.m_AwardData.AwardItem ? (r = s.OpenNormal, c = 0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings ? "SheelOpenMoney" : "SheelOpenCard") : 0 != this.m_AwardData.PearlAmount && (r = s.OpenPearl, c = "SheelOpenPearl")), this.m_animShell.once(cc.Animation.EventType.FINISHED, function() {
                    i.m_currentAnim.speed = 1, i.DropAward()
                }), a.AudioMgr.Instance.Play(c, !1, 1), this.m_currentAnim = this.m_animShell.play(r), this.m_currentAnim.speed = n(), this.m_bIsIdle = !1
            }, e.prototype.DropAward = function() {
                var t = this;
                0 == this.m_nodePoolAward.size() ? this.m_nodeTempDrop = cc.instantiate(this.m_pfDropAward) : this.m_nodeTempDrop = this.m_nodePoolAward.get();
                var e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
                null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), this.m_nodeTempDrop.active = !0, this.m_nodeTempDrop.parent = this.m_nodeScene, this.m_nodeTempDrop.setPosition(e);
                var o = -1,
                    n = 0;
                if (null != this.m_AwardData)
                    if (0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings) o = c.FOH_AWARD.COIN, n = this.m_AwardData.AwardEntries + this.m_AwardData.AwardWinnings;
                    else if (0 != this.m_AwardData.PearlAmount) o = c.FOH_AWARD.EVENT_TOKEN, n = this.m_AwardData.PearlAmount;
                else if (null != this.m_AwardData.AwardItem) {
                    var i = this.m_AwardData.ItemID;
                    "MF100001" == i ? o = c.FOH_AWARD.ITEM_FREEZE : "MF100002" == i && (o = c.FOH_AWARD.ITEM_SUMMON), n = this.m_AwardData.ItemAmount
                }
                o != c.FOH_AWARD.EVENT_TOKEN && (this.m_v2TargetPos = this.m_v2WeaponPos), -1 != o && (this.m_animShell.play(s.OpenLoopLight), this.m_nodeTempDrop.getComponent(c.default).Init(o, n, this.m_v2TargetPos, function() {
                    t.m_animShell.play("ShellIdle"), t.m_bIsIdle = !0, t.m_cbShellOpen && t.m_cbShellOpen(t.m_AwardData, t.m_iShowDatID), t.m_nodePoolAward.put(t.m_nodeTempDrop)
                }, this.DELAY_TIME, this.MOVE_TIME))
            }, e.prototype.Clear = function() {
                this.m_animShell.stop(), this.m_animShell.play(s.Idle), this.m_cbShellOpen = null, this.m_AwardData = null, this.m_currentAnim = null, this.m_iShowDatID = -1, null != this.m_nodeTempDrop && this.m_nodePoolAward.put(this.m_nodeTempDrop)
            }, r([m(cc.Node)], e.prototype, "m_Root", void 0), r([m(cc.Prefab)], e.prototype, "m_pfDropAward", void 0), r([m(cc.Animation)], e.prototype, "m_animShell", void 0), r([u], e)
        }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishOceanHeartDropItem": "FishOceanHeartDropItem"
    }],
    FishOceanHeartTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7cb92EHOPlA0KTYUkFPrZEW", "FishOceanHeartTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../CommunityBonus/Script/CommBonusTotalProgress"),
            a = t("../../../Component/AudioMgr"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMermaidFull = null, e.m_nodeMermaidNear = null, e.m_nodeProgressRoot = null, e.m_nodeNecklace = null, e.m_nodeFullNecklace = null, e.m_aniNecklaceAppear = null, e.m_aniNecklaceComplete = null, e.m_fucEachTokenShowEndCB = null, e
                }
                return i(e, t), e.prototype.Init = function() {
                    console.warn("\u521d\u59cb\uff0c\u5927\u7f8e\u4eba\u9b5a\u6c92\u6234\u9805\u934a"), this.m_nodeProgressRoot.opacity = 255, this.m_nodeMermaidFull.opacity = 255, this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidNear.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_aniNecklaceComplete.node.opacity = 0, this.m_nodeNecklace.opacity = 0, this.setTokens(0)
                }, e.prototype.checkAllTokenShowEnd = function() {
                    t.prototype.checkAllTokenShowEnd.call(this), this.m_fucEachTokenShowEndCB && this.m_fucEachTokenShowEndCB()
                }, e.prototype.setEachTokenShowEndCB = function(t) {
                    this.m_fucEachTokenShowEndCB = t
                }, e.prototype.GetTokenNode = function() {
                    for (var t = [], e = 0; e < this.m_arrTokenCtrlList.length; e++) {
                        var o = this.m_arrTokenCtrlList[e].node.parent.convertToWorldSpaceAR(this.m_arrTokenCtrlList[e].node.getPosition());
                        t.push(o)
                    }
                    return t
                }, e.prototype.ShowStartMermaid = function() {
                    a.AudioMgr.Instance.Play("Mermaid", !1, 1), console.warn("\u672a\u6eff9\u500b\uff0c\u7f8e\u4eba\u9b5a\u986f\u793a\u534a\u8eab"), this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidFull.opacity = 255, this.m_nodeMermaidFull.scale = 1;
                    var t = cc.scaleTo(1.5, .8).easing(cc.easeBackInOut()),
                        e = cc.fadeOut(1.5),
                        o = cc.spawn(t, e);
                    this.m_nodeMermaidFull.runAction(o), this.m_nodeMermaidNear.opacity = 0;
                    var n = cc.delayTime(1),
                        i = cc.fadeIn(1),
                        r = cc.callFunc(this.ShowNecklaceAppear.bind(this)),
                        s = cc.sequence(n, i, r);
                    this.m_nodeMermaidNear.runAction(s)
                }, e.prototype.ShowNecklaceAppear = function() {
                    var t = this;
                    a.AudioMgr.Instance.Play("PearlPlacement", !1, 1), this.m_nodeNecklace.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 255, this.m_aniNecklaceAppear.once(cc.Animation.EventType.FINISHED, function() {
                        t.m_aniNecklaceAppear.node.opacity = 0, t.m_nodeNecklace.opacity = 255
                    }), this.m_aniNecklaceAppear.play()
                }, e.prototype.ShowNecklackComplete = function(t) {
                    var e = this;
                    console.warn("\u9805\u934a\u96c6\u6eff\u52d5\u756b"), a.AudioMgr.Instance.Play("NinePearl", !1, 1), this.m_aniNecklaceComplete.once(cc.Animation.EventType.FINISHED, function() {
                        e.m_aniNecklaceComplete.node.opacity = 0
                    }), this.m_aniNecklaceComplete.node.opacity = 255, this.m_aniNecklaceComplete.play();
                    var o = cc.delayTime(2),
                        n = cc.callFunc(function() {
                            t && t()
                        });
                    this.node.runAction(cc.sequence(o, n))
                }, e.prototype.ShowChangeToFullMermaid = function() {
                    a.AudioMgr.Instance.Play("Mermaid", !1, 1), console.warn("\u96c6\u6eff9\u500b\uff0c\u7f8e\u4eba\u9b5a\u986f\u793a\u5168\u8eab"), this.m_nodeMermaidNear.opacity = 255;
                    var t = cc.fadeOut(.5);
                    this.m_nodeMermaidNear.runAction(t), this.m_nodeProgressRoot.opacity = 255, this.m_nodeProgressRoot.runAction(cc.fadeOut(.5)), this.m_nodeNecklace.opacity = 255, this.m_nodeNecklace.runAction(cc.fadeOut(.5)), this.m_nodeFullNecklace.opacity = 255, this.m_nodeMermaidFull.opacity = 0, this.m_nodeMermaidFull.scale = .8;
                    var e = cc.fadeIn(.5),
                        o = cc.scaleTo(.5, 1),
                        n = cc.spawn(e, o);
                    this.m_nodeMermaidFull.runAction(n)
                }, e.prototype.ShowNearMermaid = function(t) {
                    this.m_nodeProgressRoot.opacity = 255, this.m_aniNecklaceComplete.node.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_nodeMermaidFull.opacity = 0, this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidNear.opacity = 255, this.m_nodeNecklace.opacity = 255, t && this.ShowNecklaceAppear()
                }, e.prototype.ShowFullMermaid = function() {
                    console.warn("\u5927\u7f8e\u4eba\u9b5a\u51fa\u73fe"), this.m_nodeFullNecklace.opacity = 255, this.m_nodeMermaidFull.opacity = 255, this.m_nodeMermaidNear.opacity = 0, this.m_nodeNecklace.opacity = 0, this.m_nodeProgressRoot.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_aniNecklaceComplete.node.opacity = 0
                }, e.prototype.showOneByOne = function(t, e, o) {
                    console.warn("\u98db\u5df2\u7372\u5f97\u73cd\u73e0, index =" + t + ", \u6578\u91cf = " + e);
                    for (var n = 0; n < e; n++) {
                        var i = t + n;
                        if (!this.m_arrTokenCtrlList[i]) return;
                        this.m_iFlyTokenCtr++;
                        var r = this.m_arrTokenCtrlList[i];
                        r.m_fucShowStartCB = this.m_fucTokenShowStartCB, r.showFlyToken(n, o)
                    }
                }, r([u(cc.Node)], e.prototype, "m_nodeMermaidFull", void 0), r([u(cc.Node)], e.prototype, "m_nodeMermaidNear", void 0), r([u(cc.Node)], e.prototype, "m_nodeProgressRoot", void 0), r([u(cc.Node)], e.prototype, "m_nodeNecklace", void 0), r([u(cc.Node)], e.prototype, "m_nodeFullNecklace", void 0), r([u(cc.Animation)], e.prototype, "m_aniNecklaceAppear", void 0), r([u(cc.Animation)], e.prototype, "m_aniNecklaceComplete", void 0), r([l], e)
            }(s.CommBonusTotalProgress);
        o.default = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../CommunityBonus/Script/CommBonusTotalProgress": "CommBonusTotalProgress"
    }],
    FishPuzzleEggAwardMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5cc31QETBtKzKv4YQuYqGcO", "FishPuzzleEggAwardMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggAwardMgr = o.PUZZLE_GET_AWARD_STATE = void 0;
        var s, a = t("../../../Component/AudioMgr"),
            c = t("../../../Connect/Script/ConnectPanelMgr"),
            l = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            u = t("../../../FakeScoreBox/Script/GetBonusShow"),
            m = t("../../CommunityBonus/Script/CommBonusCoinCtrl"),
            p = t("./FishPuzzleEggData"),
            h = t("./FishPuzzleEggPuzzlePage"),
            d = t("./FishPuzzleEggPuzzlePageMgr"),
            _ = cc._decorator,
            g = _.ccclass,
            y = _.property;
        (function(t) {
            t[t.Init = 1] = "Init", t[t.ShowCompleteEffect = 2] = "ShowCompleteEffect", t[t.WaitClick = 3] = "WaitClick", t[t.SendAndWaitRecv = 4] = "SendAndWaitRecv", t[t.ShowAwardEffect = 5] = "ShowAwardEffect", t[t.End = 6] = "End"
        })(s = o.PUZZLE_GET_AWARD_STATE || (o.PUZZLE_GET_AWARD_STATE = {}));
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_funCollectAward = null, e.m_funAwardComplete = null, e.m_nodeRoot = null, e.m_nodeBlack = null, e.m_nodePuzzleRoot = null, e.m_nodeCompleteRoot = null, e.m_nodeAwardRoot = null, e.m_nodeFakeScoreRoot = null, e.m_FakeScoreBoxCtrl = null, e.m_CommBonusCoinCtrl = null, e.m_labAward = null, e.m_aryAwardTitleFrame = [], e.m_spAwardTitle = null, e.m_aryPieceSpriteFrame = [], e.m_spPuzzleIcon = null, e.m_nodeTouchClose = null, e.m_nodeTouchCollectBtn = null, e.m_animCompleteEffect = null, e.m_aryCompleteParticle = [], e.m_animAwardEffect = null, e.m_aryAwardParticle = [], e.m_getBonusShow = null, e.m_nodeSeatL = null, e.m_nodeSeatR = null, e.m_nodeInGameCoinStartPos = null, e.m_nodeCloseBtn = null, e.m_labFinalGetAward = null, e.m_aryPuzzlePageMember = [], e.m_iState = -1, e.m_awardData = null, e.m_iSeat = 0, e.m_bIsInLobby = !1, e
            }
            return i(e, t), e.prototype._onLoad = function() {
                this.m_nodeRoot.active = !1
            }, e.prototype._start = function() {}, e.prototype._onDestroy = function() {
                this.m_nodePuzzleRoot && this.m_nodePuzzleRoot.destroyAllChildren(), this.m_aryPuzzlePageMember = []
            }, e.prototype.Init = function(t) {
                console.log("FishPuzzleEggAwardMgr INIT, memberAry.len = " + t.length);
                for (var e = 0; e < t.length; e++) {
                    var o = new d.FishPuzzlePageMember;
                    o.strPuzzleType = t[e].strPuzzleType, o.nodeRoot = cc.instantiate(t[e].nodeRoot), o.nodeRoot.setParent(this.m_nodePuzzleRoot), o.nodeRoot.setScale(cc.Vec2.ONE), o.nodeRoot.setPosition(cc.Vec2.ZERO), o.ctrl = o.nodeRoot.getComponent(h.default), o.ctrl.ShowAllPieces(), o.nodeRoot.active = !1, this.m_aryPuzzlePageMember.push(o)
                }
                this.ChangeState(s.Init)
            }, e.prototype.Clear = function() {
                this.m_nodeRoot.active = !1;
                for (var t = 0; t < this.m_aryPuzzlePageMember.length; t++) this.m_aryPuzzlePageMember[t] && (this.m_aryPuzzlePageMember[t].nodeRoot.active = !1)
            }, e.prototype.ChangeState = function(t) {
                if (console.log("FishPuzzleEggAwardMgr ChangeState, state = " + t.toString()), this.m_iState != t) switch (this.m_iState = t, t) {
                    case s.Init:
                        this.OnSateInit();
                        break;
                    case s.ShowCompleteEffect:
                        this.OnSateShowComplete();
                        break;
                    case s.WaitClick:
                        this.OnStateWaitClick();
                        break;
                    case s.SendAndWaitRecv:
                        this.OnStateSendAndWaitRecv();
                        break;
                    case s.ShowAwardEffect:
                        this.OnStateShowAward();
                        break;
                    case s.End:
                        this.OnStateEnd()
                }
            }, e.prototype.ShowAward = function(t, e, o, n, i, r) {
                this.m_iState == s.Init && (this.m_ShowType = t, this.m_bIsInLobby = e, this.m_iStartBalance = o, this.m_awardData = n, this.m_funCollectAward = i, this.m_funAwardComplete = r, this.ChangeState(s.ShowCompleteEffect))
            }, e.prototype.OnRecvCollectQuest = function(t, e, o, n, i) {
                this.m_iSeat = t, this.m_bIsInLobby = n, this.m_ShowType = o, this.m_iFinalBalance = i, this.m_iThisWin = e * this.m_awardData.ExchangeRate, this.m_labFinalGetAward.string = "$" + this.m_iThisWin.toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iState == s.SendAndWaitRecv && this.ChangeState(s.ShowAwardEffect)
            }, e.prototype.OnSateInit = function() {
                this.m_awardData = null, this.m_nodeBlack.active = !0, this.m_FakeScoreBoxCtrl.node.active = !1, this.m_animAwardEffect.node.scale = 0, this.m_nodeCompleteRoot.active = !1, this.m_nodeAwardRoot.active = !1, this.m_nodeFakeScoreRoot.active = !1, this.m_nodeTouchClose.active = !1, this.m_nodeTouchCollectBtn.active = !1, this.Clear()
            }, e.prototype.OnSateShowComplete = function() {
                var t = this;
                this.m_nodeRoot.active = !0, this.m_nodeCompleteRoot.active = !0;
                var e = this.m_awardData.PuzzleType,
                    o = this.FindPuzzleNode(e);
                if (!o) return console.error("ShowAward, type = " + e + "not find"), void this.OnClosePage();
                o.active = !0, this.SetTitle(this.m_awardData), this.m_bIsInLobby && (this.m_FakeScoreBoxCtrl.node.active = !0, this.m_FakeScoreBoxCtrl.show(this.m_ShowType, this.m_iStartBalance)), this.m_aryCompleteParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_animCompleteEffect.node.active = !0, this.m_animCompleteEffect.play(), a.AudioMgr.Instance.Play(p.PUZZLE_SOUND.PUZZLE_COMPLETE, !1, 1), this.scheduleOnce(function() {
                    t.m_animCompleteEffect.node.active = !1, t.m_nodeTouchClose.active = !0, t.m_nodeTouchCollectBtn.active = !0, t.ChangeState(s.WaitClick)
                }, 3.5)
            }, e.prototype.OnStateWaitClick = function() {
                var t = this;
                this.scheduleOnce(function() {
                    t.m_iState == s.WaitClick && (console.log("\u8a08\u6642\u4e94\u79d2\u81ea\u52d5\u9818\u53d6"), t.OnCollectAward())
                }, 5)
            }, e.prototype.OnStateSendAndWaitRecv = function() {
                c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_nodeTouchCollectBtn.active = !1, null != this.m_funCollectAward && this.m_funCollectAward()
            }, e.prototype.OnStateShowAward = function() {
                var t = this;
                this.m_nodeCloseBtn.active = !1, this.m_nodeCompleteRoot.active = !1, this.m_nodeAwardRoot.active = !0;
                var e = "Reward_" + this.m_awardData.PuzzleType;
                console.error("OnStateShowAward, animName = " + e + ", PuzzleType = " + this.m_awardData.PuzzleType), this.m_aryAwardParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_animAwardEffect.play(e), a.AudioMgr.Instance.Play(p.PUZZLE_SOUND.PUZZLE_GET_AWARD, !1, 1), this.scheduleOnce(function() {
                    t.m_bIsInLobby ? (t.m_FakeScoreBoxCtrl.countUp(t.m_iFinalBalance, 1, function() {
                        t.m_nodeCloseBtn.active = !0
                    }.bind(t)), t.m_CommBonusCoinCtrl.coinMoveToTarget(.25, null)) : (t.m_nodeBlack.active = !1, t.m_nodeAwardRoot.active = !1, t.InGameGetCoinEffect())
                }, 3)
            }, e.prototype.InGameGetCoinEffect = function() {
                var t = this,
                    e = null;
                e = 0 == this.m_iSeat || 2 == this.m_iSeat ? this.m_nodeSeatL : this.m_nodeSeatR, this.m_getBonusShow.Show(this.m_nodeInGameCoinStartPos.getPosition(), e.convertToWorldSpaceAR(cc.Vec2.ZERO), function() {
                    t.OnClosePage()
                })
            }, e.prototype.OnStateEnd = function() {
                this.ChangeState(s.Init), this.m_funAwardComplete && this.m_funAwardComplete()
            }, e.prototype.FindPuzzleNode = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e].nodeRoot;
                return null
            }, e.prototype.SetTitle = function(t) {
                var e = p.PUZZLE_ITEM[t.PuzzleType].index;
                this.m_spAwardTitle.spriteFrame = this.m_aryAwardTitleFrame[e], this.m_spPuzzleIcon.spriteFrame = this.m_aryPieceSpriteFrame[e], 4 == t.Award.AwardType ? this.m_labAward.string = "$" + (t.Award.AwardEntries * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }) : 5 == t.Award.AwardType && (this.m_labAward.string = "$" + (t.Award.AwardWinnings * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }))
            }, e.prototype.OnClosePage = function() {
                this.ChangeState(s.End)
            }, e.prototype.OnCollectAward = function() {
                console.log("\u9ede\u64caOnCollectAward"), this.ChangeState(s.SendAndWaitRecv)
            }, r([y(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([y(cc.Node)], e.prototype, "m_nodeBlack", void 0), r([y(cc.Node)], e.prototype, "m_nodePuzzleRoot", void 0), r([y(cc.Node)], e.prototype, "m_nodeCompleteRoot", void 0), r([y(cc.Node)], e.prototype, "m_nodeAwardRoot", void 0), r([y(cc.Node)], e.prototype, "m_nodeFakeScoreRoot", void 0), r([y(l.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([y(m.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([y(cc.Label)], e.prototype, "m_labAward", void 0), r([y([cc.SpriteFrame])], e.prototype, "m_aryAwardTitleFrame", void 0), r([y(cc.Sprite)], e.prototype, "m_spAwardTitle", void 0), r([y([cc.SpriteFrame])], e.prototype, "m_aryPieceSpriteFrame", void 0), r([y(cc.Sprite)], e.prototype, "m_spPuzzleIcon", void 0), r([y(cc.Node)], e.prototype, "m_nodeTouchClose", void 0), r([y(cc.Node)], e.prototype, "m_nodeTouchCollectBtn", void 0), r([y(cc.Animation)], e.prototype, "m_animCompleteEffect", void 0), r([y([cc.ParticleSystem])], e.prototype, "m_aryCompleteParticle", void 0), r([y(cc.Animation)], e.prototype, "m_animAwardEffect", void 0), r([y([cc.ParticleSystem])], e.prototype, "m_aryAwardParticle", void 0), r([y(u.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([y(cc.Node)], e.prototype, "m_nodeSeatL", void 0), r([y(cc.Node)], e.prototype, "m_nodeSeatR", void 0), r([y(cc.Node)], e.prototype, "m_nodeInGameCoinStartPos", void 0), r([y(cc.Node)], e.prototype, "m_nodeCloseBtn", void 0), r([y(cc.Label)], e.prototype, "m_labFinalGetAward", void 0), r([g], e)
        }(cc.Component);
        o.FishPuzzleEggAwardMgr = f, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../FakeScoreBox/Script/GetBonusShow": "GetBonusShow",
        "../../CommunityBonus/Script/CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPuzzlePage": "FishPuzzleEggPuzzlePage",
        "./FishPuzzleEggPuzzlePageMgr": "FishPuzzleEggPuzzlePageMgr"
    }],
    FishPuzzleEggAwardPanelMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7fabb/debFG6pQ0Uf80NHlF", "FishPuzzleEggAwardPanelMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggAwardPanelMgr = void 0;
        var s = t("../../../Component/AudioMgr"),
            a = t("./FishPuzzleEggAwardPanelRowCtrl"),
            c = t("./FishPuzzleEggData"),
            l = t("./FishPuzzleEggPopupMgr"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_funOnClickClose = null, e.m_nodeRoot = null, e.m_pfAwardRow = null, e.m_nodeContent = null, e.m_nodeLoading = null, e.m_nodeNoHistory = null, e.m_animNo1Update = null, e.m_aryFishPuzzleEggPlayerRank = [], e.m_labMyID = null, e.m_labMyCount = null, e.m_labMyBonus = null, e.m_arrPlayerAwardCtrl = [], e.m_strTmpNo1ID = "", e.m_nodePool = null, e
                }
                return i(e, t), Object.defineProperty(e.prototype, "CheckPanelOpen", {
                    get: function() {
                        return this.m_nodeRoot.active
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype._init = function() {
                    this.ShowLoading(!0), this.m_nodeNoHistory.active = !1, this.m_nodeRoot.active = !1, this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_pfAwardRow);
                        this.m_nodePool.put(e)
                    }
                    this.m_labMyID.string = "-", this.m_labMyCount.string = "-", this.m_labMyBonus.string = "-"
                }, e.prototype._onDestroy = function() {}, e.prototype.Show = function(t, e, o) {
                    t && (this.m_nodeRoot.active = !0, this.UpdateRankingList(t), null != e && this.UpdateHistoryList(e, o))
                }, e.prototype.UpdateRankingList = function(t) {
                    var e = t.RankList;
                    this.SetRankingBoard(e);
                    var o = t.PlayerData;
                    o && this.SetPlayerData(o.RankingID, o.FinishAmount, o.WinAmount)
                }, e.prototype.UpdateHistoryList = function(t, e) {
                    if (this.ShowLoading(!1), 0 == t.length) this.m_nodeNoHistory.active = !0;
                    else {
                        this.m_nodeNoHistory.activeInHierarchy && (this.m_nodeNoHistory.active = !1);
                        for (var o = 0; o < t.length; o++) this.SetAwardList(o, t[o], t[o].RankingID == e)
                    }
                }, e.prototype.ShowLoading = function(t) {
                    this.m_nodeLoading.active = t
                }, e.prototype.Clear = function() {
                    var t = this;
                    this.ShowLoading(!1), this.m_nodeNoHistory.active = !1;
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].Clear();
                    this.m_arrPlayerAwardCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerAwardCtrl = [], this.SetPlayerData("-", 0, 0, !0)
                }, e.prototype.SetPlayerData = function(t, e, o, n) {
                    void 0 === n && (n = !1), n || (this.m_labMyID.string = "No." + t), this.m_labMyCount.string = e > 0 ? e.toString() : "-", this.m_labMyBonus.string = o > 0 ? o.toLocaleString("en-US", {
                        maximumFractionDigits: 2
                    }) : "-"
                }, e.prototype.SetRankingBoard = function(t) {
                    var e = this;
                    if (t) {
                        var o = this.m_aryFishPuzzleEggPlayerRank.length,
                            n = 0;
                        null != t[0] && (n = this.CheckNo1(t[0].RankingID)), n > 0 && s.AudioMgr.Instance.Play(c.PUZZLE_SOUND.RANK_UPDATE, !1, 1), this.scheduleOnce(function() {
                            for (var n = 0; n < o; n++) e.m_aryFishPuzzleEggPlayerRank[n].Clear();
                            for (n = 0; n < t.length && n < o; n++) e.m_aryFishPuzzleEggPlayerRank[n].Show(t[n].RankingID, t[n].WinAmount)
                        }, n)
                    }
                }, e.prototype.CheckNo1 = function(t) {
                    var e = 0;
                    return "" != this.m_strTmpNo1ID && this.m_strTmpNo1ID != t && (e = .25, this.m_animNo1Update.play()), this.m_strTmpNo1ID = t, e
                }, e.prototype.SetAwardList = function(t, e, o) {
                    if (null != e) {
                        var n = this.m_arrPlayerAwardCtrl[t];
                        if (null == n) {
                            var i = cc.instantiate(this.m_pfAwardRow);
                            i.parent = this.m_nodeContent, n = i.getComponent(a.default), this.m_arrPlayerAwardCtrl.push(n)
                        }
                        n.init(e.Time, e.RankingID, e.FinishAmount, e.WinAmount, o)
                    }
                }, e.prototype.OnClose = function() {
                    this.m_funOnClickClose && this.m_funOnClickClose(), this.m_nodeRoot.active = !1
                }, r([p(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([p(cc.Prefab)], e.prototype, "m_pfAwardRow", void 0), r([p(cc.Node)], e.prototype, "m_nodeContent", void 0), r([p(cc.Node)], e.prototype, "m_nodeLoading", void 0), r([p(cc.Node)], e.prototype, "m_nodeNoHistory", void 0), r([p(cc.Animation)], e.prototype, "m_animNo1Update", void 0), r([p([l.FishPuzzleEggPlayerRank])], e.prototype, "m_aryFishPuzzleEggPlayerRank", void 0), r([p(cc.Label)], e.prototype, "m_labMyID", void 0), r([p(cc.Label)], e.prototype, "m_labMyCount", void 0), r([p(cc.Label)], e.prototype, "m_labMyBonus", void 0), r([m], e)
            }(cc.Component);
        o.FishPuzzleEggAwardPanelMgr = h, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggAwardPanelRowCtrl": "FishPuzzleEggAwardPanelRowCtrl",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPopupMgr": "FishPuzzleEggPopupMgr"
    }],
    FishPuzzleEggAwardPanelRowCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b36dcIKpxZGoamgfNUIHlp6", "FishPuzzleEggAwardPanelRowCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labTime = null, e.m_labID = null, e.m_labCount = null, e.m_labBonus = null, e.m_spBG = null, e.m_sfAryBG = [], e
                }
                return i(e, t), e.prototype.init = function(t, e, o, n, i) {
                    this.m_labTime.string = t, this.m_labID.string = "No." + e, this.m_labCount.string = "" + o.toString(), this.m_labBonus.string = n.toLocaleString("en-US", {
                        maximumFractionDigits: 2
                    }), this.m_spBG.spriteFrame = i ? this.m_sfAryBG[1] : this.m_sfAryBG[0]
                }, e.prototype.Clear = function() {
                    this.m_labTime.string = "", this.m_labID.string = "", this.m_labCount.string = "", this.m_labBonus.string = ""
                }, r([c(cc.Label)], e.prototype, "m_labTime", void 0), r([c(cc.Label)], e.prototype, "m_labID", void 0), r([c(cc.Label)], e.prototype, "m_labCount", void 0), r([c(cc.Label)], e.prototype, "m_labBonus", void 0), r([c(cc.Sprite)], e.prototype, "m_spBG", void 0), r([c([cc.SpriteFrame])], e.prototype, "m_sfAryBG", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    FishPuzzleEggData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "079dbtln7FA1KlLjwOAQCR5", "FishPuzzleEggData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PUZZLE_SOUND = o.PuzzleClickLogID = o.PUZZLE_ITEM_DEFINE = o.PUZZLE_ITEM = o.PUZZLE_TYPE = o.FishPEHistoryPlayerData = o.FishPERankingPlayerData = o.FishPERankingListData = o.FishPEUserQuestDataStatus = o.FishPEAward = o.FishPuzzleEventData = void 0;
        o.FishPuzzleEventData = function() {
            this.CurPuzzleProgress = {}, this.PuzzleProgressInit = {}, this.PuzzleProgressTarget = {}, this.Status = -1, this.CurGetNewPuzzleProgress = {}, this.TmpPieceAmount = 0, this.TmpCompleteTimes = 0
        };
        o.FishPEAward = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.FishPEUserQuestDataStatus || (o.FishPEUserQuestDataStatus = {}));
        var n = function() {
            function t() {
                this.PlayerData = null, this.RankList = []
            }
            return t.prototype.Clear = function() {
                this.PlayerData && this.PlayerData.Clear(), this.RankList = []
            }, t
        }();
        o.FishPERankingListData = n;
        var i = function() {
            function t() {}
            return t.prototype.Clear = function() {
                this.Rank = -1, this.WinAmount = 0, this.FinishAmount = 0, this.RankingID = "-"
            }, t
        }();
        o.FishPERankingPlayerData = i;
        o.FishPEHistoryPlayerData = function() {}, o.PUZZLE_TYPE = {
                Copper: "Copper",
                Sliver: "Sliver",
                Gold: "Gold",
                Coin: "Coin"
            }, o.PUZZLE_ITEM = {
                Copper: {
                    index: 0,
                    dropID: 1
                },
                Sliver: {
                    index: 1,
                    dropID: 2
                },
                Gold: {
                    index: 2,
                    dropID: 3
                },
                Coin: {
                    index: 3,
                    dropID: 5
                }
            },
            function(t) {
                t[t.CopperPuzzle = 1] = "CopperPuzzle", t[t.SliverPuzzle = 2] = "SliverPuzzle", t[t.GoldPuzzle = 3] = "GoldPuzzle", t[t.Entry = 4] = "Entry", t[t.Winning = 5] = "Winning"
            }(o.PUZZLE_ITEM_DEFINE || (o.PUZZLE_ITEM_DEFINE = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.POPUP_MORE = 1] = "POPUP_MORE", t[t.MAIN_INFO_PAGE = 2] = "MAIN_INFO_PAGE", t[t.MAIN_RANK_PAGE = 3] = "MAIN_RANK_PAGE"
            }(o.PuzzleClickLogID || (o.PuzzleClickLogID = {})),
            function(t) {
                t.TIPS_SHOW = "RabbitSound", t.BTN_CLICK = "ButtonTouch", t.RANK_UPDATE = "NewNo1", t.PUZZLE_SCROLL_START = "PuzzleChoose", t.PUZZLE_SCROLL_STOP = "PuzzleStop", t.PUZZLE_PIECE_COLLECT_START = "RedMove", t.PUZZLE_PIECE_COLLECT_DONE = "PuzzleShow", t.EGG_DROP = "EggDrop", t.EGG_OPEN = "EggOpen", t.EGG_OPEN_COIN = "EggMoney", t.GET_PIECE_FLY = "PuzzleFly", t.GET_PIECE_COPPER = "Copper", t.GET_PIECE_SILVER = "Silver", t.GET_PIECE_GOLD = "Golden", t.GET_PIECE_REPEAT = "Repeat", t.GET_PIECE_FULL = "PuzzleNine", t.PUZZLE_COMPLETE = "PuzzleDone", t.PUZZLE_GET_AWARD = "PuzzleBoom"
            }(o.PUZZLE_SOUND || (o.PUZZLE_SOUND = {})), cc._RF.pop()
    }, {}],
    FishPuzzleEggDropEgg: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "59da1HR171NI4vyJlKHpF2Y", "FishPuzzleEggDropEgg");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggDropEgg = void 0;
        var s = t("../../../Component/AudioMgr"),
            a = t("./FishPuzzleEggData"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_animEgg = null, e.m_spItemIcon = null, e.m_labCoin = null, e.m_aryParticle = [], e
                }
                return i(e, t), e.prototype.Init = function(t, e, o, n, i, r, c, l, u) {
                    var m = this,
                        p = !1;
                    t ? n <= a.PUZZLE_ITEM_DEFINE.GoldPuzzle ? (this.m_labCoin.node.active = !1, this.m_spItemIcon.node.active = !0) : (p = !0, this.m_labCoin.node.active = !0, this.m_spItemIcon.node.active = !1, this.m_labCoin.string = i.toString()) : (this.m_labCoin.node.active = !1, this.m_spItemIcon.node.active = !1), this.node.opacity = 255, this.node.setPosition(r);
                    var h = c.sub(this.node.getPosition()).mag(),
                        d = Math.max(.5, .001 * h);
                    if (console.warn("\u9053\u5177\u6389\u843d \u8ddd\u96e2 = " + h + ", \u6642\u9593 = " + d + ", start_pos = (" + r.x + ", " + r.y + "), move_to = (" + c.x + ", " + c.y + ")"), t)
                        if (p) y = cc.sequence(cc.callFunc(function() {
                            s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_DROP, !1, 1), m.m_animEgg.play()
                        }), cc.delayTime(1), cc.callFunc(function() {
                            s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_OPEN, !1, 1)
                        }), cc.delayTime(1.5), cc.callFunc(function() {
                            m.m_aryParticle.forEach(function(t) {
                                t.resetSystem()
                            }), u && (m.m_labCoin.node.active = !1, s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_OPEN_COIN, !1, 1), u(e, o))
                        })), this.node.runAction(y);
                        else {
                            var _ = [],
                                g = this.BezierMidPoint(r, c, .5);
                            _.push(r), _.push(g), _.push(c);
                            var y = cc.sequence(cc.callFunc(function() {
                                s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_DROP, !1, 1), m.m_animEgg.play()
                            }), cc.delayTime(1), cc.callFunc(function() {
                                s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_OPEN, !1, 1)
                            }), cc.delayTime(1.5), cc.callFunc(function() {
                                s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.GET_PIECE_FLY, !1, 1), l && l()
                            }), cc.bezierTo(d, _), cc.delayTime(.01), cc.callFunc(function() {
                                m.m_aryParticle.forEach(function(t) {
                                    t.resetSystem()
                                }), u && u(e, o)
                            }));
                            this.node.runAction(y)
                        }
                    else y = cc.sequence(cc.callFunc(function() {
                        s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.EGG_DROP, !1, 1), m.m_animEgg.play("EggDrop")
                    }), cc.delayTime(1.5), cc.callFunc(function() {
                        m.node.opacity = 175, l && l()
                    }), cc.spawn(cc.moveTo(d, c), cc.fadeOut(d).easing(cc.easeQuarticActionIn())), cc.delayTime(.01), cc.callFunc(function() {
                        m.m_aryParticle.forEach(function(t) {
                            t.resetSystem()
                        }), u && u(e, o)
                    })), this.node.runAction(y)
                }, e.prototype.BezierMidPoint = function(t, e, o) {
                    var n = new cc.Vec2,
                        i = new cc.Vec2;
                    return n.x = (e.y - t.y) * o, n.y = (t.x - e.x) * o, n.y / n.x > 0 ? (n.x < 0 && (n.x *= -1), n.y < 0 && (n.y *= -1)) : (n.x > 0 && (n.x *= -1), n.y < 0 && (n.y *= -1)), i.x = (t.x + e.x) / 2 + n.x, i.y = (t.y + e.y) / 2 + n.y, i
                }, r([u(cc.Animation)], e.prototype, "m_animEgg", void 0), r([u(cc.Sprite)], e.prototype, "m_spItemIcon", void 0), r([u(cc.Label)], e.prototype, "m_labCoin", void 0), r([u([cc.ParticleSystem])], e.prototype, "m_aryParticle", void 0), r([l], e)
            }(cc.Component);
        o.FishPuzzleEggDropEgg = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggGetAwardState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "89f90p66A1KHIxcvOpMvGVW", "FishPuzzleEggGetAwardState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggGetAwardState = void 0;
        var n = t("../../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            i = t("../../../../Helper/EventSystem"),
            r = t("../../../../Net/LobbyClient"),
            s = t("../../../../PopupMessage/Script/PopupMsgMgr"),
            a = t("../FishPuzzleEggData"),
            c = function() {
                function t() {
                    this.m_curAwardData = new a.FishPuzzleEventData, this.m_bAwardFinish = !1, this.m_iThisWin = 0, this.m_iFinalBalance = 0, this.m_icurAwardType = ""
                }
                return Object.defineProperty(t.prototype, "GetCurAwardingType", {
                    get: function() {
                        return this.m_icurAwardType
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.PreUpdate = function() {
                    this.target.EVENT_OPEN_UI && this.target.EVENT_OPEN_UI(), this.target.m_IconMgr.ShowIcon(!1), this.CheckAward()
                }, t.prototype.Update = function() {
                    this.m_bAwardFinish && this.target.FishPuzzleEggFSM.SetCurrentState(this.target.IdleState)
                }, t.prototype.PostUpdate = function() {
                    this.target.GetAwardFinish(), this.m_iThisWin = 0, this.m_icurAwardType = "", this.m_curAwardData = null, this.target.m_AwardMgr.Clear()
                }, t.prototype.CheckAward = function() {
                    if (console.warn("[FishPuzzleEggGetAwardState] CheckAward"), this.target.m_aryTmpAwardData.length <= 0) this.m_bAwardFinish = !0;
                    else {
                        this.m_bAwardFinish = !1, this.m_curAwardData = this.target.m_aryTmpAwardData.shift(), this.m_icurAwardType = this.m_curAwardData.PuzzleType;
                        var t = 0,
                            e = n.ShowType.WINNING;
                        this.target.m_bIsInLobby && (SS.Common.GameEnvironment.IsUseScoreBox ? (t = this.target.m_LobbyMgr.UserWinnings, e = n.ShowType.WINNING) : (t = this.target.m_LobbyMgr.UserEntries + this.target.m_LobbyMgr.UserWinnings, e = n.ShowType.CREDIT)), this.target.m_AwardMgr.ShowAward(e, this.target.m_bIsInLobby, t, this.m_curAwardData, this.CollectCallback.bind(this), this.AwardCompleteCallback.bind(this))
                    }
                }, t.prototype.CollectCallback = function() {
                    console.log("CollectCallback"), this.target.m_bIsInLobby ? r.LobbyClient.Instance.GetUserClient.collectPuzzleQuest(this.m_curAwardData.QuestName, this.m_curAwardData.SerialNo, this.m_curAwardData.QuestLevel, this.rcvCollectPuzzleQuestAck.bind(this)) : this.target.EVENT_SEND_COLLECT_CMD && this.target.EVENT_SEND_COLLECT_CMD(this.m_curAwardData.QuestName, this.m_curAwardData.SerialNo, this.m_curAwardData.QuestLevel)
                }, t.prototype.AwardCompleteCallback = function() {
                    var t = this;
                    if (console.warn("[FishPuzzleEggGetAwardState] AwardCompleteCallback"), null == this.m_curAwardData) return console.error("[FishPuzzleEggGetAwardState] AwardCompleteCallback"), void this.target.EVENT_ERROR("C50");
                    var e = this.target.m_aryEventData.find(function(e) {
                        return e.PuzzleType == t.m_curAwardData.PuzzleType
                    });
                    e && (e.Status = a.FishPEUserQuestDataStatus.QUEST_NOT_DONE, e.TmpCompleteTimes++, e.TmpPieceAmount = 0, e.CurPuzzleProgressCount = 0, Object.keys(e.CurPuzzleProgress).forEach(function(t) {
                        e.CurPuzzleProgress[t] = 0, e.CurGetNewPuzzleProgress[t] = 0
                    }), this.target.m_IconMgr.ResetIconNumber(this.target.m_aryEventData, this.m_icurAwardType)), this.target.EVENT_GET_AWARD_FIN && this.target.EVENT_GET_AWARD_FIN(this.m_iThisWin), this.CheckAward()
                }, t.prototype.rcvCollectPuzzleQuestAck = function(t, e) {
                    if (console.warn("\u5f69\u86cb\u62fc\u5716 \u5b8c\u6210\u62fc\u5716\u89e3\u6790, status = " + t + ", result = ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (0 == e.cmd_data.result) this.OnCollectQuest(0, e.cmd_data);
                        else switch (e.cmd_data.result) {
                            case 1:
                                s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Info, "S174", null, null, null), this.target.m_bIsInLobby && this.LobbySetUserBalance(e.cmd_data.playerInfo);
                                break;
                            case -999:
                                s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Critical, "S189", null, null, null)
                        } else this.target.ShowEventErrorMsg(t, e)
                }, t.prototype.OnCollectQuest = function(t, e) {
                    var o;
                    console.warn("\u5f69\u86cb\u62fc\u5716 \u5b8c\u6210\u62fc\u5716\u89e3\u6790, OnCollectQuest = ", e), this.m_iThisWin = e.incValue, SS.Common.GameEnvironment.IsUseScoreBox ? (this.m_iFinalBalance = e.playerInfo.winnings, o = n.ShowType.WINNING) : (this.m_iFinalBalance = e.playerInfo.winnings + e.playerInfo.entries, o = n.ShowType.CREDIT), this.target.m_bIsInLobby && this.LobbySetUserBalance(e.playerInfo), this.target.m_AwardMgr.OnRecvCollectQuest(t, this.m_iThisWin, o, this.target.m_bIsInLobby, this.m_iFinalBalance)
                }, t.prototype.LobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    console.log("lobbySetUserBalance~ entries = " + e + " winnings = " + o), this.target.m_bIsInLobby && (i.EventSystem.Event(i.DownBar.SetPlayerInfo).Notify(e, o), this.target.m_LobbyMgr.UserEntries = e, this.target.m_LobbyMgr.UserWinnings = o)
                }, t
            }();
        o.FishPuzzleEggGetAwardState = c, cc._RF.pop()
    }, {
        "../../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../Net/LobbyClient": "LobbyClient",
        "../../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggIconCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9c5af9WB3BH3rrHfaX1JfpT", "FishPuzzleEggIconCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIconCtrl = void 0;
        var s = t("../../../Component/AudioMgr"),
            a = t("./FishPuzzleEggData"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labCount = null, e.m_nodePuzzleIcon = null, e.m_nodeRepaeatObj = null, e.m_animEffect = null, e.m_aryParticle = [], e.m_strPuzzleType = "", e.m_posRepeatObjOri = null, e.m_saveGotPiecesPosAry = [], e.m_iMaxPieceCount = 0, e.m_iGetPieceCount = 0, e
                }
                return i(e, t), Object.defineProperty(e.prototype, "PuzzleType", {
                    get: function() {
                        return this.m_strPuzzleType
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype._onLoad = function() {
                    this.m_nodeRepaeatObj.opacity = 0, this.m_animEffect.node.active = !1
                }, e.prototype._start = function() {
                    this.m_posRepeatObjOri = this.m_nodeRepaeatObj.getPosition(), this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype._onDestroy = function() {}, e.prototype.Clear = function() {
                    this.m_saveGotPiecesPosAry = [], this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype.GetRootPos = function() {
                    return this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)
                }, e.prototype.SetPuzzleInitCount = function(t, e) {
                    var o = this;
                    void 0 === e && (e = null);
                    var n = 0,
                        i = 0;
                    Object.keys(t.CurPuzzleProgress).forEach(function(e) {
                        n++, t.CurPuzzleProgress[e] >= 1 && (i++, -1 == o.m_saveGotPiecesPosAry.indexOf(Number(e)) && o.m_saveGotPiecesPosAry.push(Number(e)))
                    }), console.log("[iconCtrl] SetPuzzleCount Type = " + t.PuzzleType + ", maxCount = " + n + ", curCount = " + i), t.CurPuzzleProgressCount = i, t.TmpPieceAmount = 0, this.m_strPuzzleType = t.PuzzleType, this.m_iGetPieceCount = i, this.m_labCount.string = this.m_iGetPieceCount > 0 ? this.m_iGetPieceCount.toString() : "", this.m_iMaxPieceCount = n
                }, e.prototype.GetNewPuzzle = function(t, e, o) {
                    var n = this;
                    return -1 == this.m_saveGotPiecesPosAry.indexOf(t) ? (this.m_saveGotPiecesPosAry.push(t), this.m_iGetPieceCount++, this.m_iGetPieceCount >= this.m_iMaxPieceCount && (this.m_iGetPieceCount = this.m_iMaxPieceCount), s.AudioMgr.Instance.Play(o, !1, 1), this.ShowNewGetEffect(), this.m_labCount.string = this.m_iGetPieceCount.toString(), this.m_iGetPieceCount == this.m_iMaxPieceCount && (e && (s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.GET_PIECE_FULL, !1, 1), this.m_animEffect.node.active = !0, this.m_animEffect.play(), this.scheduleOnce(function() {
                        n.m_aryParticle.forEach(function(t) {
                            return t.resetSystem()
                        }), n.m_animEffect.node.active = !1
                    }, 1.5)), this.m_saveGotPiecesPosAry = []), !0) : (s.AudioMgr.Instance.Play(a.PUZZLE_SOUND.GET_PIECE_REPEAT, !1, 1), this.ShowRepeat(), !1)
                }, e.prototype.ResetIconCount = function() {
                    this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype.ShowNewGetEffect = function() {
                    cc.Tween.stopAllByTarget(this.m_nodePuzzleIcon), this.m_nodePuzzleIcon.scale = 1, cc.tween(this.m_nodePuzzleIcon).to(.1, {
                        scale: 1.2
                    }).to(.1, {
                        scale: 1
                    }).start()
                }, e.prototype.ShowRepeat = function() {
                    var t = this;
                    cc.Tween.stopAllByTarget(this.m_posRepeatObjOri), this.m_nodeRepaeatObj.opacity = 255, this.m_nodeRepaeatObj.setPosition(this.m_posRepeatObjOri), cc.tween(this.m_nodeRepaeatObj).by(1, {
                        position: cc.v3(0, 50)
                    }).call(function() {
                        t.m_nodeRepaeatObj.opacity = 0
                    }).start()
                }, r([u(cc.Label)], e.prototype, "m_labCount", void 0), r([u(cc.Node)], e.prototype, "m_nodePuzzleIcon", void 0), r([u(cc.Node)], e.prototype, "m_nodeRepaeatObj", void 0), r([u(cc.Animation)], e.prototype, "m_animEffect", void 0), r([u([cc.ParticleSystem])], e.prototype, "m_aryParticle", void 0), r([u], e.prototype, "m_strPuzzleType", void 0), r([l], e)
            }(cc.Component);
        o.FishPuzzleEggIconCtrl = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggIconMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "287b7yYbmtMEbivrzz7v0yZ", "FishPuzzleEggIconMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIconMgr = void 0;
        var s = t("../../../Component/DateTimeCountDown"),
            a = t("../../../Component/NodeDrag"),
            c = t("./FishPuzzleEggData"),
            l = t("./FishPuzzleEggIconCtrl"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_funOnClickIcon = null, e.m_funOnPuzzleComplete = null, e.m_nodeRoot = null, e.m_nodeDragFloatBtn = null, e.m_nodePuzzleIconPanel = null, e.m_nodeRedPoint = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_labPrize = null, e.m_labRedPoint = null, e.m_cdLabTimer = null, e.m_aryFishPuzzleEggIconCtrl = [], e.autoClosePromptID = null, e.m_strLogTitle = " [FishPuzzleEggIconMgr] ", e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    if (this.m_nodePuzzleIconPanel.opacity = 0, this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._onLoad();
                    this.m_nodeRedPoint.active = !1, this.m_labRedPoint.node.active = !1, this.m_nodeDragFloatBtn.Event_DragEnd = null, this.m_nodeDragFloatBtn.Event_ClickItem = this.OnClickEventIcon.bind(this)
                }, e.prototype._start = function() {
                    if (this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._start()
                }, e.prototype._onDestroy = function() {
                    if (this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._onDestroy()
                }, e.prototype.Init = function(t, e) {
                    t && (e ? this.m_nodeDragFloatBtn.setLocked(!1) : this.m_nodeDragFloatBtn.setLocked(!0), this.SetPuzzleInitCount(t, this.OnPuzzleComplete), this.m_labPrize.string = "$" + (this.FindMaxPuzzlePrize(t) * t[0].ExchangeRate).toLocaleString("en-US", {
                        minimumFractionDigits: 2
                    }))
                }, e.prototype.UpdateTimer = function(t) {
                    this.m_cdLabTimer && this.m_cdLabTimer.UpdateUIWithDay(t)
                }, e.prototype.FindPuzzleCtrl = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggIconCtrl.length; e++)
                        if (this.m_aryFishPuzzleEggIconCtrl[e].PuzzleType == t) return this.m_aryFishPuzzleEggIconCtrl[e];
                    return null
                }, e.prototype.FindMaxPuzzlePrize = function(t) {
                    if (t) {
                        for (var e = 0, o = 0; o < t.length; o++) t[o].Award && t[o].Award.AwardWinnings > e && (e = t[o].Award.AwardWinnings);
                        return e
                    }
                }, e.prototype.ShowIcon = function(t) {
                    this.m_nodeRoot.active = t, t || (this.SetPrompt(), clearTimeout(this.autoClosePromptID), cc.Tween.stopAllByTarget(this.m_nodePuzzleIconPanel), this.m_nodePuzzleIconPanel.opacity = 0)
                }, e.prototype.Clear = function() {
                    this.ShowIcon(!1), this.SetRedPointShow(!1);
                    for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t].Clear()
                }, e.prototype.GetSmallIconPos = function(t) {
                    return this.m_aryFishPuzzleEggIconCtrl[t].GetRootPos()
                }, e.prototype.SetPuzzleInitCount = function(t, e) {
                    if (t)
                        for (var o = null, n = 0; n < t.length; n++) {
                            o = t[n];
                            var i = c.PUZZLE_ITEM[o.PuzzleType].index;
                            this.m_aryFishPuzzleEggIconCtrl[i] && this.m_aryFishPuzzleEggIconCtrl[i].SetPuzzleInitCount(o, e)
                        }
                }, e.prototype.SetPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.SetPrompt()
                        }, 5e3))
                    }
                }, e.prototype.GetNewPuzzle = function(t, e, o, n) {
                    console.log(this.m_strLogTitle + "GetPuzzleItem puzzleType = " + t + ", puzzleIndex = " + e);
                    var i = !1,
                        r = this.FindPuzzleCtrl(t);
                    return r && (i = r.GetNewPuzzle(e, o, n)), i && this.SetRedPointShow(!0), i
                }, e.prototype.ResetIconNumber = function(t, e) {
                    if (t) {
                        var o = this.FindPuzzleCtrl(e);
                        o && o.ResetIconCount(), this.CheckRedPoint(t)
                    }
                }, e.prototype.CheckRedPoint = function(t) {
                    if (t) {
                        for (var e = 0, o = 0; o < t.length; o++) e += t[o].TmpPieceAmount, console.log(this.m_strLogTitle + "CheckRedPoint tmpCount = " + e + ",  type = " + t[o].PuzzleType);
                        this.SetRedPointShow(e > 0)
                    }
                }, e.prototype.SetRedPointShow = function(t) {
                    this.m_nodeRedPoint.active = t
                }, e.prototype.ShowPuzzleIconPanel = function() {
                    cc.Tween.stopAllByTarget(this.m_nodePuzzleIconPanel), this.m_nodePuzzleIconPanel.opacity = 255, cc.tween(this.m_nodePuzzleIconPanel).delay(3).to(1, {
                        opacity: 0
                    }).start()
                }, e.prototype.OnPuzzleComplete = function(t) {
                    this.m_funOnPuzzleComplete && this.m_funOnPuzzleComplete(t)
                }, e.prototype.OnClickEventIcon = function() {
                    console.log(this.m_strLogTitle + "OnClickEventIcon"), this.m_funOnClickIcon && this.m_funOnClickIcon()
                }, r([p(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([p(a.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([p(cc.Node)], e.prototype, "m_nodePuzzleIconPanel", void 0), r([p(cc.Node)], e.prototype, "m_nodeRedPoint", void 0), r([p(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([p(cc.Label)], e.prototype, "m_labPrompt", void 0), r([p(cc.Label)], e.prototype, "m_labPrize", void 0), r([p(cc.Label)], e.prototype, "m_labRedPoint", void 0), r([p(s.DateTimeCountDown)], e.prototype, "m_cdLabTimer", void 0), r([p([l.FishPuzzleEggIconCtrl])], e.prototype, "m_aryFishPuzzleEggIconCtrl", void 0), r([m], e)
            }(cc.Component);
        o.FishPuzzleEggIconMgr = h, cc._RF.pop()
    }, {
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../Component/NodeDrag": "NodeDrag",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggIconCtrl": "FishPuzzleEggIconCtrl"
    }],
    FishPuzzleEggIdleState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "67a6dVo1bpM+rQ5rZRbJeY/", "FishPuzzleEggIdleState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIdleState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {
                this.target.m_bIsWaitForDelayClose || this.target.m_bIsNoFishGame || this.target.m_IconMgr.ShowIcon(!0)
            }, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {}, t
        }();
        o.FishPuzzleEggIdleState = n, cc._RF.pop()
    }, {}],
    FishPuzzleEggInfoMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "38bcftA+oxGQ5DQo2vZGrL4", "FishPuzzleEggInfoMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishGameNode = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function() {
                function t() {
                    this.m_strGameName = "", this.m_strGameID = "", this.m_node = null
                }
                return r([c()], t.prototype, "m_strGameName", void 0), r([c()], t.prototype, "m_strGameID", void 0), r([c(cc.Node)], t.prototype, "m_node", void 0), r([a("FishGameNode")], t)
            }();
        o.FishGameNode = l;
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeLobby = null, e.m_aryFishNode = [], e.m_aryHideObjWhenInfoShow = [], e
            }
            return i(e, t), e.prototype.ShowInfo = function(t, e) {
                this.node.active = !0, this.m_nodeLobby.active = t;
                for (var o = 0; o < this.m_aryFishNode.length; o++) this.m_aryFishNode[o].m_node.active = !1;
                for (t || (this.m_aryFishNode.find(function(t) {
                        return t.m_strGameName == e
                    }).m_node.active = !0), o = 0; o < this.m_aryHideObjWhenInfoShow.length; o++) this.m_aryHideObjWhenInfoShow[o].active = !1
            }, e.prototype.CloseInfo = function() {
                for (var t = 0; t < this.m_aryHideObjWhenInfoShow.length; t++) this.m_aryHideObjWhenInfoShow[t].active = !0;
                this.node.active = !1
            }, r([c(cc.Node)], e.prototype, "m_nodeLobby", void 0), r([c([l])], e.prototype, "m_aryFishNode", void 0), r([c([cc.Node])], e.prototype, "m_aryHideObjWhenInfoShow", void 0), r([a], e)
        }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishPuzzleEggInitState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2a93d1/q6NNe70t5oL3f+vQ", "FishPuzzleEggInitState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggInitState = void 0;
        var n = t("../../../../Net/LobbyClient"),
            i = t("../FishPuzzleEggData"),
            r = function() {
                function t() {
                    this.m_bIsInitFinish = !1
                }
                return t.prototype.PreUpdate = function() {
                    this.target.m_bIsNoFishGame = !this.CheckEventPuzzleGameID(n.LobbyClient.Instance.m_CommonEventInfo_900005), this.target.m_bIsNoFishGame ? this.target.CloseEvent() : this.ParseMisInfo(n.LobbyClient.Instance.m_CommonEventInfo_900005) && this.target.m_aryEventData && this.target.m_aryEventData.length > 0 ? (this.target.m_IconMgr.Init(this.target.m_aryEventData, null != this.target.m_LobbyMgr), this.target.m_PuzzlePageMgr.Init(this.target.m_strPlayerID, this.target.m_aryEventData, this.target.m_iExpireTime), this.target.InitTimer(), null != n.LobbyClient.Instance.m_CommonEventInfo_900005_Rank && this.target.ParseMisRankInfo(n.LobbyClient.Instance.m_CommonEventInfo_900005_Rank), this.m_bIsInitFinish = !0) : this.target.CloseEvent()
                }, t.prototype.Update = function() {
                    !this.target.m_bIsInLobby && this.m_bIsInitFinish && (this.m_bIsInitFinish = !1, this.target.FishPuzzleEggFSM.SetCurrentState(this.target.IdleState))
                }, t.prototype.PostUpdate = function() {
                    this.m_bIsInitFinish = !1
                }, t.prototype.ParseMisInfo = function(t) {
                    try {
                        if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0 && t.hasOwnProperty("UserQuestData")) {
                            var e = t.QuestList,
                                o = t.UserQuestData;
                            this.target.m_aryEventData = [], this.target.m_iEndTime = t.EndTimeUTC, this.target.m_iNowTime = t.NowTimeUTC, this.target.m_strPlayerID = t.PuzzlePlayerID;
                            for (var n = !1, r = function(t) {
                                    var r = new i.FishPuzzleEventData,
                                        a = e[t];
                                    if ("Puzzle" == a.GameThemeID[0]) {
                                        console.warn("\u5f69\u86cb\u62fc\u5716\u4efb\u52d9\u8cc7\u8a0a %s", JSON.stringify(a)), n = !0, r.QuestTitle = a.QuestTitle, r.QuestLevel = a.QuestLevel, r.SerialNo = a.SerialNo, r.ThemeID = a.GameThemeID, r.QuestName = a.Name, r.Priority = a.Priority, r.CycleSeconds = a.CycleSeconds, r.StartTimeUTC = a.BeginTimeUTC, r.ExpireTimeUTC = a.ExpireTimeUTC, r.RankListID = a.RankListID, r.ExchangeRate = a.CustomInfo.ExchangeRate, r.RankLimit = a.CustomInfo.RankLimit, r.PuzzleProgressInit = a.CustomInfo.ProgressPuzzleInit, r.PuzzleProgressTarget = a.CustomInfo.ProgressPuzzleTarget;
                                        var c = Number(a.AwardType);
                                        3 == c ? r.PuzzleType = i.PUZZLE_TYPE.Copper : 4 == c ? r.PuzzleType = i.PUZZLE_TYPE.Sliver : 5 == c && (r.PuzzleType = i.PUZZLE_TYPE.Gold);
                                        var l = a.Award[0][0];
                                        r.Award = new i.FishPEAward, r.Award.AwardType = l.Item, r.Award.AwardType == i.PUZZLE_ITEM_DEFINE.Entry ? r.Award.AwardEntries = l.Amount : r.Award.AwardType == i.PUZZLE_ITEM_DEFINE.Winning && (r.Award.AwardWinnings = l.Amount);
                                        for (var u = 0; u < o.length; u++) {
                                            var m = o[u];
                                            if (r.QuestName == m.Name && r.QuestLevel == m.QuestLevel && r.ThemeID == m.GameThemeID[0]) {
                                                r.CurPuzzleProgress = m.ProgressPuzzle, r.Status = m.Status;
                                                break
                                            }
                                        }
                                        Object.keys(r.CurPuzzleProgress).forEach(function(t) {
                                            r.CurGetNewPuzzleProgress[t] = Object.assign(r.CurPuzzleProgress[t])
                                        }), s.target.m_aryEventData.push(r)
                                    } else {
                                        var p = e[t];
                                        s.target.m_iExpireTime = p.ExpireTimeUTC
                                    }
                                }, s = this, a = 0; a < e.length; a++) r(a);
                            return n
                        }
                        return !1
                    } catch (c) {
                        return console.error("parseMisInfo"), !1
                    }
                }, t.prototype.CheckEventPuzzleGameID = function(t) {
                    if (t) {
                        var e = [],
                            o = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList;
                        if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0) {
                            for (var n = t.QuestList, i = 0; i < n.length; i++)
                                for (var r = n[i].GameThemeID, s = function(t) {
                                        if ("Puzzle" != r[t] && -1 == e.indexOf(r[t])) {
                                            var n = a.GetThemeIdByGameName(r[t]);
                                            o.findIndex(function(t) {
                                                return t == n
                                            }) > -1 && e.push(r[t])
                                        }
                                    }, a = this, c = 0; c < r.length; c++) s(c);
                            return e.length > 0
                        }
                    }
                    return !1
                }, t.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, t
            }();
        o.FishPuzzleEggInitState = r, cc._RF.pop()
    }, {
        "../../../../Net/LobbyClient": "LobbyClient",
        "../FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9ecc17PG6FBg5QrTgBQfn2/", "FishPuzzleEggMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggMgr = void 0;
        var c = t("../../../Component/StateMachine/StateMachine"),
            l = t("./FSM/FishPuzzleEggGetAwardState"),
            u = t("./FSM/FishPuzzleEggInitState"),
            m = t("./FSM/FishPuzzleEggIdleState"),
            p = t("./FSM/FishPuzzleEggPuzzlePageState"),
            h = t("./FSM/FishPuzzleEggWaitCmdState"),
            d = t("../../EventModule"),
            _ = t("../../EventBannerData"),
            g = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            y = t("./FishPuzzleEggPopupMgr"),
            f = t("./FishPuzzleEggPuzzlePageMgr"),
            S = t("./FishPuzzleEggAwardPanelMgr"),
            C = t("./FishPuzzleEggIconMgr"),
            v = t("./FishPuzzleEggAwardMgr"),
            P = t("./FishPuzzleEggData"),
            b = t("../../../Net/LobbyClient"),
            w = t("./FishPuzzleEggInfoMgr"),
            M = t("../../../PopupMessage/Script/PopupMsgMgr"),
            E = t("../../../Component/AudioMgr"),
            T = cc._decorator,
            I = T.ccclass,
            D = T.property,
            L = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strIconContent = "The EGGS SURPRISE\n fish event online!", e.m_funGetAward = null, e.EVENT_ERROR = null, e.EVENT_OPEN_UI = null, e.EVENT_CLOSE_UI = null, e.EVENT_SEND_COLLECT_CMD = null, e.EVENT_GET_AWARD_FIN = null, e.m_pfbPopupRank = null, e.m_pfbAwardListPanel = null, e.m_IconMgr = null, e.m_PuzzlePageMgr = null, e.m_AwardMgr = null, e.m_InfoMgr = null, e.SoundClip = [], e.m_AwardPanelMgr = null, e.m_PopupMgr = null, e.FishPuzzleEggFSM = new c.StateMachine(e), e.InitState = new u.FishPuzzleEggInitState, e.IdleState = new m.FishPuzzleEggIdleState, e.PuzzlePageState = new p.FishPuzzleEggPuzzlePageState, e.GetAwardState = new l.FishPuzzleEggGetAwardState, e.WaitCmdState = new h.FishPuzzleEggWaitCmdState, e.m_aryEventData = null, e.m_EventRankListData = new P.FishPERankingListData, e.m_aryEventHistoryData = null, e.m_aryTmpAwardData = [], e.m_bIsInLobby = !1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.m_iExpireTime = -1, e.m_strPlayerID = "", e.m_iExchangeRate = 0, e.m_TimerIntervalID = -1, e.m_iEggQuestCountDownTime = 0, e.m_iPuzzleQuestCountDownTime = 0, e.m_strLogTitle = " [FishPuzzleEggMgr] ", e.TIME_SEND_UPDATE_RANK_CMD = 15, e.TIME_SEND_UPDATE_RECORD_CMD = 30, e.m_iRankCountDownTime = 0, e.m_iRecordCountDownTime = 0, e.m_bIsWaitForDelayClose = !1, e.m_bIsNoFishGame = !1, e.m_iCurPuzzleEggCount = 0, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    console.log(this.m_strLogTitle + "PuzzleEgg!!!!!!!!!!!!!!!!!!!!!!!! onLoad "), this.m_strEventID = "PuzzleEgg", this.m_IconMgr._onLoad(), this.m_PuzzlePageMgr._onLoad(), this.m_AwardMgr._onLoad(), this.m_bIsWaitForDelayClose = !1, this.m_bIsNoFishGame = !1, this.m_IconMgr.m_funOnClickIcon = this.OnClickEventIcon.bind(this), this.m_PuzzlePageMgr.m_funClosePage = this.OnClosePuzzlePage.bind(this), this.m_PuzzlePageMgr.m_funUnlockShoot = this.OnUnlockShoot.bind(this), this.m_PuzzlePageMgr.m_funOpenAwardListPage = this.ShowAwardListPanel.bind(this), this.m_PuzzlePageMgr.m_funOpenInfoPage = this.ShowInfoPage.bind(this), this.m_PuzzlePageMgr.m_funDownloadPageFinish = this.m_AwardMgr.Init.bind(this.m_AwardMgr)
                }, e.prototype.start = function() {
                    var t = this;
                    console.log(this.m_strLogTitle + "PuzzleEgg!!!!!!!!!!!!!!!!!!!!!!!! start"), this.m_IconMgr._start(), this.m_PuzzlePageMgr._start(), this.m_AwardMgr._start(), this.FishPuzzleEggFSM.SetCurrentState(this.InitState);
                    for (var e = [], o = 0; o < this.SoundClip.length; o++) e.push(this.SoundClip[o].name);
                    if (E.AudioMgr.Instance.setAudioClip(this.SoundClip, e), this.m_LobbyMgr) {
                        if (this.m_aryEventData && this.m_aryEventData.length > 0 && this.m_iEggQuestCountDownTime > 0) {
                            if (this.m_bIsInLobby = !0, this.m_pfbPopupRank) {
                                var n = cc.instantiate(this.m_pfbPopupRank);
                                if (this.m_PopupMgr = n.getComponent(y.FishPuzzleEggPopupMgr), this.m_PopupMgr) {
                                    this.m_PopupMgr._init(), this.m_PopupMgr.ShowRankBoard(this.m_EventRankListData.RankList), this.m_PopupMgr.m_funClickShowAwardPanel = this.ShowAwardListPanel.bind(this), console.warn("PuzzleEg!!!!!!!!!! start, this.m_iCountDownTime = " + this.m_iEggQuestCountDownTime);
                                    var i = new _.EventBannerData("PuzzleEgg", -1, this.OnClickBnnerCB.bind(this), this.OnShowPopupRank.bind(this), function() {
                                        return t.m_iEggQuestCountDownTime
                                    });
                                    i.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(i), this.SetEventActive()
                                }
                            }
                            var r = new g.PriorityCustomEvent(1, this.LoginGetAward.bind(this));
                            this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(r), this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.PopUpClosed.bind(this))
                        } else this.PopUpClosed();
                        this.initDone()
                    } else this.LoginGetAward() || this.PopUpClosed();
                    this.schedule(this.CheckAwardPanelUpdate, 1, cc.macro.REPEAT_FOREVER)
                }, e.prototype.update = function() {
                    this.FishPuzzleEggFSM.SMUpdate()
                }, e.prototype.onDestroy = function() {
                    this.unschedule(this.CheckAwardPanelUpdate), this.m_IconMgr._onDestroy(), this.m_PuzzlePageMgr._onDestroy(), this.m_AwardMgr._onDestroy(), this.m_PopupMgr && this.m_PopupMgr._onDestroy(), this.m_AwardPanelMgr && this.m_AwardPanelMgr._onDestroy()
                }, e.prototype.CloseEvent = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (this.m_bIsWaitForDelayClose) return [2];
                                    this.m_bIsWaitForDelayClose = !0, console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent"), e.label = 1;
                                case 1:
                                    return this.m_iCurPuzzleEggCount > 0 || this.FishPuzzleEggFSM.CurrentState() == this.GetAwardState ? (console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent \u7b49\u5f85\u86cb\u98db\u5b8c \u6216 \u958b\u734e\u7d50\u675f"), [4, SS.Common.WaitForSeconds(.5)]) : [3, 3];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    return console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent & WaitForDelayClose"), this.FishPuzzleEggFSM.SetCurrentState(this.WaitCmdState), this.m_IconMgr.Clear(), this.m_PuzzlePageMgr.Clear(), this.m_AwardMgr.Clear(), this.m_AwardPanelMgr && this.m_AwardPanelMgr.Clear(), this.m_aryEventData = [], this.m_EventRankListData && this.m_EventRankListData.Clear(), this.m_aryEventHistoryData = [], this.m_aryTmpAwardData = [], this.m_iEndTime = -1, this.m_iNowTime = -1, this.m_iEggQuestCountDownTime = 0, this.m_iPuzzleQuestCountDownTime = 0, this.m_iRankCountDownTime = 0, this.m_iRecordCountDownTime = 0, this.m_iCurPuzzleEggCount = 0, this.m_bIsWaitForDelayClose = !1, t.prototype.CloseEvent.call(this), [2]
                            }
                        })
                    })
                }, e.prototype.OnTimesUp = function() {
                    this.CloseEvent()
                }, e.prototype.CallInitState = function() {
                    this.m_bIsWaitForDelayClose = !1, this.FishPuzzleEggFSM.CurrentState() == this.WaitCmdState && this.FishPuzzleEggFSM.SetCurrentState(this.InitState)
                }, e.prototype.CheckQuestIsActive = function() {
                    var t = this.m_iEggQuestCountDownTime > 0 || this.m_iPuzzleQuestCountDownTime > 0,
                        e = this.FishPuzzleEggFSM.CurrentState() != this.WaitCmdState;
                    return t || e || this.m_bIsWaitForDelayClose
                }, e.prototype.PopUpClosed = function() {
                    this.FishPuzzleEggFSM.CurrentState() != this.PuzzlePageState && this.FishPuzzleEggFSM.SetCurrentState(this.IdleState), this.m_IconMgr.SetPrompt(this.m_strIconContent)
                }, e.prototype.ShowMainPanel = function() {
                    this.OnClickBnnerCB()
                }, e.prototype.OnClickBnnerCB = function() {
                    this.m_iEggQuestCountDownTime > 0 && this.OnClickEventIcon()
                }, e.prototype.OnShowPopupRank = function() {
                    return this.m_PopupMgr ? this.m_PopupMgr.node : null
                }, e.prototype.DropPuzzleEgg = function() {
                    this.m_iCurPuzzleEggCount++, console.warn(this.m_strLogTitle + "DropPuzzleEgg, \u76ee\u524d\u5834\u4e0a\u62da\u5716\u86cb\u6578 = " + this.m_iCurPuzzleEggCount)
                }, e.prototype.ShowPuzzleIconPanel = function() {
                    this.CheckDropEggEnable() && (console.log(this.m_strLogTitle + "ShowPuzzleIconPanel"), this.m_IconMgr.ShowPuzzleIconPanel())
                }, e.prototype.CheckDropEggEnable = function() {
                    return this.FishPuzzleEggFSM.CurrentState() == this.IdleState
                }, e.prototype.GetPuzzleItemCB = function(t, e) {
                    var o = this;
                    if (this.m_iCurPuzzleEggCount--, console.warn(this.m_strLogTitle + "GetPuzzleItem data id = " + t + ", puzzleIndex = " + e + ", \u5269\u9918\u6642\u9593 = " + this.m_iEggQuestCountDownTime + ", \u5834\u4e0a\u62fc\u5716\u86cb\u6578 = " + this.m_iCurPuzzleEggCount), 0 != this.m_aryEventData.length) {
                        var n = P.PUZZLE_TYPE.Copper,
                            i = "";
                        switch (t) {
                            case 1:
                                n = P.PUZZLE_TYPE.Copper, i = P.PUZZLE_SOUND.GET_PIECE_COPPER;
                                break;
                            case 2:
                                n = P.PUZZLE_TYPE.Sliver, i = P.PUZZLE_SOUND.GET_PIECE_SILVER;
                                break;
                            case 3:
                                n = P.PUZZLE_TYPE.Gold, i = P.PUZZLE_SOUND.GET_PIECE_GOLD
                        }
                        var r = this.CheckDropEggEnable(),
                            s = this.m_IconMgr.GetNewPuzzle(n, e, r, i),
                            a = this.m_aryEventData.find(function(t) {
                                return t.PuzzleType == n
                            });
                        s && null != a && (a.CurGetNewPuzzleProgress[e] = 1, a.CurPuzzleProgressCount += 1, a.TmpPieceAmount += 1, console.warn(this.m_strLogTitle + "\u66f4\u65b0\u6d3b\u52d5\u8cc7\u6599 \u985e\u578b = " + n + ", \u66ab\u5b58\u672a\u8868\u6f14\u788e\u7247\u6578\u91cf = " + a.TmpPieceAmount + ", \u7e3d\u7d2f\u7a4d\u9032\u5ea6 = " + a.CurPuzzleProgressCount)), this.CheckComplete(n) && a.Status != P.FishPEUserQuestDataStatus.AWARD_AVAILABLE && (a.Status = P.FishPEUserQuestDataStatus.AWARD_AVAILABLE, console.warn(this.m_strLogTitle + " \u78ba\u8a8d\u5b8c\u6210, puzzleType = " + n), this.scheduleOnce(function() {
                            o.m_aryTmpAwardData.push(a), o.FishPuzzleEggFSM.CurrentState() != o.GetAwardState && o.FishPuzzleEggFSM.SetCurrentState(o.GetAwardState)
                        }, 1.5))
                    } else console.error(this.m_strLogTitle + "GetPuzzleItemCB \u6642\u9593\u5df2\u904e")
                }, e.prototype.LoginGetAward = function() {
                    for (var t = 0; t < this.m_aryEventData.length; t++) {
                        var e = this.m_aryEventData[t];
                        this.CheckComplete(e.PuzzleType) && (console.warn(" LoginGetAward \u78ba\u8a8d\u5b8c\u6210, puzzleType = " + e.PuzzleType), this.m_aryTmpAwardData.push(e))
                    }
                    return this.m_aryTmpAwardData.length > 0 ? (this.FishPuzzleEggFSM.SetCurrentState(this.GetAwardState), !0) : (this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup(), !1)
                }, e.prototype.CheckComplete = function(t) {
                    var e = this.m_aryEventData.find(function(e) {
                            return e.PuzzleType == t
                        }),
                        o = !0;
                    return Object.keys(e.CurGetNewPuzzleProgress).forEach(function(t) {
                        e.CurGetNewPuzzleProgress[t] < e.PuzzleProgressTarget[t] && (o = !1)
                    }), console.warn("!!!!!!!!! \u6aa2\u67e5\u5b8c\u6210, type = " + t + ", isComplete = " + o), o
                }, e.prototype.GetAwardFinish = function() {
                    this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (t <= 0) console.error(this.m_strLogTitle + "nextExpireTime < 0");
                    else {
                        if (console.warn(this.m_strLogTitle + "\u6642\u9593\u8a2d\u5b9a\uff0c\u904e\u671f\u6642\u9593 = " + t + ", \u4efb\u52d9\u6578\u91cf = " + this.m_aryEventData.length), 0 != this.m_aryEventData.length) {
                            for (var e = 0; e < this.m_aryEventData.length; e++) console.log(this.m_strLogTitle + "\u62fc\u5716\u4efb\u52d9\u904e\u671f\u6642\u9593 = " + this.m_aryEventData[e].ExpireTimeUTC + ", \u6389\u86cb\u4efb\u52d9\u904e\u671f\u6642\u9593 = " + this.m_iExpireTime), (o = this.m_aryEventData[e].ExpireTimeUTC - this.m_iNowTime) >= 0 && o < t && (this.m_iPuzzleQuestCountDownTime = o);
                            this.schedule(this.PuzzleTimer, 1)
                        }
                        var o;
                        0 != this.m_iExpireTime && (o = this.m_iExpireTime - this.m_iNowTime) < t && (t = o), t < 0 && (t = 0), console.warn(this.m_strLogTitle + "InitTimer \u86cb\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + t + ", \u62fc\u5716\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + this.m_iPuzzleQuestCountDownTime), this.ForceSetTime(t)
                    }
                }, e.prototype.PuzzleTimer = function() {
                    this.m_iPuzzleQuestCountDownTime--, this.m_iPuzzleQuestCountDownTime <= 0 && (this.m_iPuzzleQuestCountDownTime = 0, this.unschedule(this.PuzzleTimer))
                }, e.prototype.ForceSetTime = function(t) {
                    console.warn("ForceSetTime" + t), this.PauseTimer(), this.m_iEggQuestCountDownTime = t, this.UpdateUI(this.m_iEggQuestCountDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = "Day";
                    t >= 172800 && (e = "Days");
                    var o = "ENDS IN: " + (t >= 86400 ? "{day} " + e + " {hr}:{min}:{sec}" : "{hr}:{min}:{sec}");
                    this.m_IconMgr && this.m_IconMgr.UpdateTimer(t), this.m_PuzzlePageMgr && this.m_PuzzlePageMgr.UpdateTimer(t, o)
                }, e.prototype.PauseTimer = function() {
                    console.warn("PauseTimer this.intervalID = " + this.m_TimerIntervalID), clearInterval(this.m_TimerIntervalID)
                }, e.prototype.Timer = function(t) {
                    --t.m_iEggQuestCountDownTime, t.m_iEggQuestCountDownTime <= 0 && (console.warn("\u62fc\u5716\u6642\u9593\u5230!!!!!!!!!!!!!!!!!!!!, \u62fc\u5716\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + this.m_iPuzzleQuestCountDownTime), t.m_iEggQuestCountDownTime = 0, t.PauseTimer(), this.m_bIsInLobby ? this.reloadLobby() : this.OnTimesUp()), t.UpdateUI(t.m_iEggQuestCountDownTime), SS.Common.GameEnvironment.ProjectSetting.hasOwnProperty("PopUp") ? SS.Common.GameEnvironment.ProjectSetting.PopUp.PuzzleEgg = t.m_iEggQuestCountDownTime : SS.Common.GameEnvironment.ProjectSetting.PopUp = {
                        PuzzleEgg: t.m_iEggQuestCountDownTime
                    }
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID), this.m_TimerIntervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3), console.warn("StartConutDownTimer, intervalID = " + this.m_iEggQuestCountDownTime)
                }, e.prototype.ShowAwardListPanel = function() {
                    if (E.AudioMgr.Instance.Play(P.PUZZLE_SOUND.BTN_CLICK, !1, 1), !this.m_AwardPanelMgr && this.m_pfbAwardListPanel) {
                        var t = cc.instantiate(this.m_pfbAwardListPanel);
                        this.m_AwardPanelMgr = t.getComponent(S.FishPuzzleEggAwardPanelMgr), this.m_AwardPanelMgr._init(), this.m_AwardPanelMgr.m_funOnClickClose = this.OnCloseAwardPanel.bind(this);
                        var e = cc.director.getScene();
                        e = this.m_bIsInLobby ? e.getChildByName("PopUpMgr") : this.node, t.parent = e, t.setPosition(cc.Vec2.ZERO)
                    }
                    this.FishPuzzleEggFSM.CurrentState() == this.InitState ? b.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", P.PuzzleClickLogID.POPUP_MORE) : this.FishPuzzleEggFSM.CurrentState() == this.PuzzlePageState && b.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", P.PuzzleClickLogID.MAIN_RANK_PAGE), this.m_AwardPanelMgr.Show(this.m_EventRankListData, this.m_aryEventHistoryData, this.m_strPlayerID)
                }, e.prototype.ShowInfoPage = function() {
                    E.AudioMgr.Instance.Play(P.PUZZLE_SOUND.BTN_CLICK, !1, 1), b.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", P.PuzzleClickLogID.MAIN_INFO_PAGE), this.m_InfoMgr.ShowInfo(this.m_bIsInLobby, SS.Common.GameEnvironment.CurrentGameNow)
                }, e.prototype.OnClickEventIcon = function() {
                    console.log(this.m_strLogTitle + "OnClickEventIcon"), this.setOnTop(), b.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", P.PuzzleClickLogID.FLOAT_BTN), this.FishPuzzleEggFSM.SetCurrentState(this.PuzzlePageState)
                }, e.prototype.OnClosePuzzlePage = function() {
                    console.log(this.m_strLogTitle + "OnClosePuzzlePage"), this.ResetSiblingIndex(), this.FishPuzzleEggFSM.SetCurrentState(this.IdleState)
                }, e.prototype.OnUnlockShoot = function() {
                    console.log(this.m_strLogTitle + "OnUnlockShoot"), this.EVENT_CLOSE_UI && this.EVENT_CLOSE_UI()
                }, e.prototype.OnCloseAwardPanel = function() {
                    this.m_PopupMgr && this.m_PopupMgr.node.active && this.m_PopupMgr.ShowRankBoard(this.m_EventRankListData.RankList)
                }, e.prototype.CheckAwardPanelUpdate = function() {
                    if (this.m_AwardPanelMgr && (this.m_iRankCountDownTime--, this.m_iRecordCountDownTime--, this.m_iRankCountDownTime <= 0 && (this.m_iRankCountDownTime = 0), this.m_iRecordCountDownTime <= 0 && (this.m_iRecordCountDownTime = 0), this.m_AwardPanelMgr.CheckPanelOpen)) {
                        if (0 == this.m_iRankCountDownTime && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, null != this.m_aryEventData)) {
                            var t = (o = this.m_aryEventData[0]).RankListID,
                                e = o.RankLimit;
                            console.log(this.m_strLogTitle + " ----- 15\u79d2\u9001\u6392\u884c\u699c\u8981\u66f4\u65b0\u963f\u311a\u311a\u311a\u311a\u311a\u311a ------"), b.LobbyClient.Instance.GetUserClient.getPuzzleRank(t, e, this.RecvPuzzleRank.bind(this))
                        }
                        var o;
                        if (0 == this.m_iRecordCountDownTime && (this.m_iRecordCountDownTime = this.TIME_SEND_UPDATE_RECORD_CMD, null != this.m_aryEventData)) t = (o = this.m_aryEventData[0]).RankListID, console.log(this.m_strLogTitle + " ----- 30\u79d2\u9001\u7d00\u9304\u699c\u55ae\u8981\u66f4\u65b0\u963f\u311a\u311a\u311a\u311a\u311a\u311a ------"), this.m_AwardPanelMgr.ShowLoading(!0), b.LobbyClient.Instance.GetUserClient.getPuzzleHistory(t, this.RecvPuzzleHistory.bind(this))
                    }
                }, e.prototype.RecvPuzzleHistory = function(t, e) {
                    console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), this.ParseMisAwardHistory(e.cmd_data) && this.m_AwardPanelMgr.CheckPanelOpen && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, console.warn("\u66f4\u65b0\u62fc\u5716\u6392\u884c!!!!!!!!!!!!!!!"), this.m_AwardPanelMgr.UpdateHistoryList(this.m_aryEventHistoryData, this.m_strPlayerID))) : this.ShowEventErrorMsg(t, e)
                }, e.prototype.RecvPuzzleRank = function(t, e) {
                    console.warn("RecvPuzzleRank: ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), b.LobbyClient.Instance.m_CommonEventInfo_900005_Rank = e.cmd_data, this.ParseMisRankInfo(e.cmd_data) && this.m_AwardPanelMgr.CheckPanelOpen && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, console.log("\u66f4\u65b0\u62fc\u5716\u6392\u884c!!!!!!!!!!!!!!!"), this.m_AwardPanelMgr.UpdateRankingList(this.m_EventRankListData))) : this.ShowEventErrorMsg(t, e)
                }, e.prototype.ParseMisRankInfo = function(t) {
                    try {
                        var e = t.data,
                            o = .01,
                            n = 0;
                        if (null != this.m_aryEventData && this.m_aryEventData.length > 0) {
                            var i = this.m_aryEventData[0];
                            o = i.ExchangeRate, n = i.RankLimit
                        }
                        this.m_EventRankListData.ExchangeRate = o, this.m_EventRankListData.People = n, this.m_EventRankListData.RankList = [], t.hasOwnProperty("player_self_data") && 0 != t.player_self_data.length && (this.m_EventRankListData.PlayerData = this.ParsePlayerData(o, -1, t.player_self_data), this.m_EventRankListData.PlayerData.RankingID = this.m_strPlayerID);
                        for (var r = 0; r < e.length; r++) {
                            var s = this.ParsePlayerData(o, r + 1, e[r]);
                            this.m_EventRankListData.RankList.push(s)
                        }
                        return !0
                    } catch (T) {
                        return console.error("ParseMisRankInfo ERROR = " + t), !1
                    }
                }, e.prototype.ParseMisAwardHistory = function(t) {
                    try {
                        this.m_aryEventHistoryData = [];
                        var e = .01;
                        null != this.m_aryEventData && this.m_aryEventData.length > 0 && (e = this.m_aryEventData[0].ExchangeRate);
                        for (var o = t.ack_data, n = 0; n < o.length; n++) {
                            var i = new P.FishPEHistoryPlayerData,
                                r = o[n];
                            i.ExchangeRate = e, i.RankingID = r.A, i.FinishAmount = r.B, i.WinAmount = r.C;
                            var s = new Date(r.D),
                                a = (s.getMonth() + 1).toString(),
                                c = s.getDate().toString(),
                                l = s.getHours().toString(),
                                u = s.getMinutes().toString();
                            Number(c) < 10 && (c = "0" + c), Number(l) < 10 && (l = "0" + l), Number(u) < 10 && (u = "0" + u), i.Time = a + "/" + c + " " + l + ":" + u, this.m_aryEventHistoryData.push(i)
                        }
                        return !0
                    } catch (T) {
                        return console.error("ParseMisHistory ERROR = " + t), !1
                    }
                }, e.prototype.ParsePlayerData = function(t, e, o) {
                    var n = new P.FishPERankingPlayerData;
                    return n.Rank = e, n.ExchangeRate = t, n.RankingID = o.hasOwnProperty("PuzzlePlayerID") ? o.PuzzlePlayerID : "-", n.FinishAmount = o.hasOwnProperty("PuzzleFinishAmount") ? o.PuzzleFinishAmount : "0", n.WinAmount = o.hasOwnProperty("WinAmount") ? o.WinAmount : "0", n
                }, e.prototype.ShowEventErrorMsg = function(t) {
                    var e;
                    e = t == ArkSDK.HttpResult.Abort ? "S176" : t == ArkSDK.HttpResult.Condition ? "S177" : t == ArkSDK.HttpResult.Error ? "S180" : t == ArkSDK.HttpResult.NotReset ? "S178" : t == ArkSDK.HttpResult.Status ? "S179" : t == ArkSDK.HttpResult.Timeout ? "S181" : "S182", this.m_bIsInLobby ? M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Critical, e, null, null, null) : this.EVENT_ERROR && this.EVENT_ERROR(e)
                }, r([D(cc.Prefab)], e.prototype, "m_pfbPopupRank", void 0), r([D(cc.Prefab)], e.prototype, "m_pfbAwardListPanel", void 0), r([D(C.FishPuzzleEggIconMgr)], e.prototype, "m_IconMgr", void 0), r([D(f.FishPuzzleEggPuzzlePageMgr)], e.prototype, "m_PuzzlePageMgr", void 0), r([D(v.FishPuzzleEggAwardMgr)], e.prototype, "m_AwardMgr", void 0), r([D(w.default)], e.prototype, "m_InfoMgr", void 0), r([D({
                    type: [cc.AudioClip]
                })], e.prototype, "SoundClip", void 0), r([I], e)
            }(d.EventModule);
        o.FishPuzzleEggMgr = L, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/StateMachine/StateMachine": "StateMachine",
        "../../../Net/LobbyClient": "LobbyClient",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../EventBannerData": "EventBannerData",
        "../../EventModule": "EventModule",
        "./FSM/FishPuzzleEggGetAwardState": "FishPuzzleEggGetAwardState",
        "./FSM/FishPuzzleEggIdleState": "FishPuzzleEggIdleState",
        "./FSM/FishPuzzleEggInitState": "FishPuzzleEggInitState",
        "./FSM/FishPuzzleEggPuzzlePageState": "FishPuzzleEggPuzzlePageState",
        "./FSM/FishPuzzleEggWaitCmdState": "FishPuzzleEggWaitCmdState",
        "./FishPuzzleEggAwardMgr": "FishPuzzleEggAwardMgr",
        "./FishPuzzleEggAwardPanelMgr": "FishPuzzleEggAwardPanelMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggIconMgr": "FishPuzzleEggIconMgr",
        "./FishPuzzleEggInfoMgr": "FishPuzzleEggInfoMgr",
        "./FishPuzzleEggPopupMgr": "FishPuzzleEggPopupMgr",
        "./FishPuzzleEggPuzzlePageMgr": "FishPuzzleEggPuzzlePageMgr"
    }],
    FishPuzzleEggPopupMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d2cb4Ud1PBOyJIlINcqIKrm", "FishPuzzleEggPopupMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPopupMgr = o.FishPuzzleEggPlayerRank = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function() {
                function t() {
                    this.m_labPlayerNo = null, this.m_labPlayerAward = null
                }
                return t.prototype.Show = function(t, e) {
                    this.m_labPlayerNo.string = "No." + t, this.m_labPlayerAward.string = e.toLocaleString("en-US", {
                        maximumFractionDigits: 2
                    })
                }, t.prototype.Clear = function() {
                    this.m_labPlayerNo.string = "-", this.m_labPlayerAward.string = "-"
                }, r([c(cc.Label)], t.prototype, "m_labPlayerNo", void 0), r([c(cc.Label)], t.prototype, "m_labPlayerAward", void 0), r([a("FishPuzzleEggPlayerRank")], t)
            }();
        o.FishPuzzleEggPlayerRank = l;
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeRoot = null, e.m_aryFishPuzzleEggPlayerRank = [], e
            }
            return i(e, t), e.prototype._init = function() {
                this.m_nodeRoot.active = !1
            }, e.prototype._onDestroy = function() {}, e.prototype.ShowRankBoard = function(t) {
                this.m_nodeRoot.active = !0;
                for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e].Clear();
                for (e = 0; e < t.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].Show(t[e].RankingID, t[e].WinAmount)
            }, e.prototype.OnClickShowAwardList = function() {
                this.m_funClickShowAwardPanel && this.m_funClickShowAwardPanel()
            }, r([c(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([c([l])], e.prototype, "m_aryFishPuzzleEggPlayerRank", void 0), r([a], e)
        }(cc.Component);
        o.FishPuzzleEggPopupMgr = u, cc._RF.pop()
    }, {}],
    FishPuzzleEggPuzzlePageMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7e830vTPPlMxqVdsORfqpW6", "FishPuzzleEggPuzzlePageMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPuzzlePageMgr = o.FishPuzzlePageMember = void 0;
        var s = t("./FishPuzzleEggData"),
            a = t("./FishPuzzleEggPuzzlePage"),
            c = t("./FishPuzzleEggData"),
            l = t("../../../Component/DateTimeCountDown"),
            u = t("./FishPuzzleEggTipsMgr"),
            m = t("../../../Component/AudioMgr"),
            p = cc._decorator,
            h = p.ccclass,
            d = p.property,
            _ = function() {
                function t() {
                    this.strPuzzleType = "", this.nodeRoot = null, this.ctrl = null, this.data = null
                }
                return r([h], t)
            }();
        o.FishPuzzlePageMember = _;
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_funClosePage = null, e.m_funUnlockShoot = null, e.m_funOpenAwardListPage = null, e.m_funOpenInfoPage = null, e.m_funDownloadPageFinish = null, e.m_nodeRoot = null, e.m_nodeTouchMask = null, e.m_nodeTitleAward = null, e.m_pvPuzzlePage = null, e.m_PuzzlePagePrefab = null, e.m_iPageCount = 3, e.m_iPageWeidth = 1280, e.m_nodeRadPoin = null, e.m_labPieceCount = null, e.m_labAward = null, e.m_aryAwardTitleFrame = [], e.m_spAwardTitle = null, e.m_aryPieceSpriteFrame = [], e.m_spPuzzleIcon = null, e.m_animPuzzleCollectEffect = null, e.m_aryPuzzleCollectParticle = [], e.m_nodeHintL = null, e.m_nodeHintR = null, e.m_labEventTime = null, e.m_cdLabTimer = null, e.m_TipsMgr = null, e.m_aryPuzzlePageMember = [], e.m_questDataAry = [], e.m_bHasShowTips = !1, e.m_iCenterPageIndex = 2, e.m_iMaxPageNum = 5, e.m_iTmpLoopNum = 0, e.m_iShowPuzzleIndex = 1, e.m_iDownloadFinishNum = 0, e.m_iCenterType = 0, e.m_strPlayerID = ";", e.m_bIsDownloadFin = !1, e.OpenBannerWebviewEvent = null, e.tmpJSON = {}, e.m_iUIScrollTweenTime = .2, e
            }
            return i(e, t), Object.defineProperty(e.prototype, "IsDownloadFin", {
                get: function() {
                    return this.m_bIsDownloadFin
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype._onLoad = function() {
                this.m_nodeTouchMask.active = !1, this.m_nodeRoot.opacity = 0, this.m_nodeRoot.setPosition(new cc.Vec2(9999, 9999))
            }, e.prototype._start = function() {
                for (var t = null, e = 0; e < this.m_iMaxPageNum; e++) t = cc.instantiate(this.m_PuzzlePagePrefab), this.m_iPageWeidth = t.width, this.m_pvPuzzlePage.addPage(t), t.setPosition(cc.Vec3.ZERO), e < this.m_iPageCount && this.DownloadPage(e + 1);
                this.m_pvPuzzlePage.node.on("scroll-ended", this.ScrollEndedCallBack.bind(this)), this.m_pvPuzzlePage.node.on("scroll-began", this.ScrollBeganCallBack.bind(this)), this.m_pvPuzzlePage.node.on("scrolling", this.ScrollTurningCallBack.bind(this))
            }, e.prototype._onDestroy = function() {
                this.m_pvPuzzlePage && (this.m_pvPuzzlePage.node.off("scroll-ended", this.ScrollEndedCallBack.bind(this)), this.m_pvPuzzlePage.node.off("scroll-began", this.ScrollBeganCallBack.bind(this)), this.m_pvPuzzlePage.node.off("scrolling", this.ScrollTurningCallBack.bind(this)))
            }, e.prototype.DownloadPage = function(t) {
                var e = this,
                    o = "Mission/900005/Puzzle/puzzleEggType" + t,
                    n = this;
                cc.resources.load(o, cc.Prefab, function(o, i) {
                    if (o) return n.m_iDownloadFinishNum++, console.error(o);
                    if (n.m_iDownloadFinishNum++, console.log("\u4e0b\u8f09\u5b8c\u6210~ " + i.name + ", self.imgDownloadFinishNum = " + n.m_iDownloadFinishNum), e.tmpJSON[t] = i, e.m_iDownloadFinishNum >= e.m_iPageCount) {
                        for (var r = 1; r <= e.m_iPageCount; r++)
                            if (e.tmpJSON[r]) {
                                var s = cc.instantiate(e.tmpJSON[r]);
                                s.name = "pageNode";
                                var c = s.getComponent(a.default),
                                    l = new _;
                                l.strPuzzleType = c.PuzzleType, l.nodeRoot = s, l.ctrl = c, e.m_aryPuzzlePageMember.push(l)
                            }
                        e.tmpJSON[t] = null, e.m_pvPuzzlePage.scrollToPage(e.m_iCenterPageIndex, 0), e.m_pvPuzzlePage.scrollToOffset(new cc.Vec2(2 * e.m_iPageWeidth, 0)), e.SetPageContent(), e.ScrollEndedCallBack(), e.m_iTmpLoopNum = 1, e.InitPuzzle(), e.m_funDownloadPageFinish && e.m_funDownloadPageFinish(e.m_aryPuzzlePageMember), e.m_bIsDownloadFin = !0
                    }
                })
            }, e.prototype.ScrollBeganCallBack = function() {
                255 == this.node.opacity && 0 == this.m_TipsMgr.node.active && m.AudioMgr.Instance.Play(s.PUZZLE_SOUND.PUZZLE_SCROLL_START, !1, 1), this.unscheduleAllCallbacks(), cc.Tween.stopAllByTarget(this.m_nodeTitleAward), cc.tween(this.m_nodeTitleAward).to(this.m_iUIScrollTweenTime, {
                    position: cc.v3(0, 100),
                    opacity: 0
                }).start();
                for (var t = 0; t < this.m_aryPuzzlePageMember.length; t++) this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[t].nodeRoot, !1, !0);
                this.m_nodeHintR.active = !1, this.m_nodeHintL.active = !1
            }, e.prototype.ScrollTurningCallBack = function() {
                var t = this.m_pvPuzzlePage.content.getPosition().x;
                if (this.m_pvPuzzlePage.getCurrentPageIndex(), t > -1200)(e = this.m_pvPuzzlePage.getPages()[3].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[0]);
                else if (t < -2e3)(e = this.m_pvPuzzlePage.getPages()[1].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[4]);
                else {
                    var e;
                    (e = this.m_pvPuzzlePage.getPages()[0].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[3]), (e = this.m_pvPuzzlePage.getPages()[4].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[1])
                }
            }, e.prototype.ScrollEndedCallBack = function() {
                cc.Tween.stopAllByTarget(this.m_nodeTitleAward), cc.tween(this.m_nodeTitleAward).to(this.m_iUIScrollTweenTime, {
                    position: cc.v3(0, 0),
                    opacity: 255
                }).start();
                var t = this.m_pvPuzzlePage.getCurrentPageIndex();
                if (t != this.m_iCenterPageIndex) {
                    var e = !1;
                    if (t >= 2)
                        for (; !e;) this.m_iTmpLoopNum += 1, this.m_iTmpLoopNum >= this.m_iPageCount && (this.m_iTmpLoopNum = 0), e = !0;
                    else
                        for (; !e;) this.m_iTmpLoopNum -= 1, this.m_iTmpLoopNum < 0 && (this.m_iTmpLoopNum = this.m_iPageCount - 1), e = !0;
                    this.m_iShowPuzzleIndex = this.m_iTmpLoopNum, this.SetPageContent(), this.m_pvPuzzlePage.scrollToOffset(new cc.Vec2(2 * this.m_iPageWeidth, 0)), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex, 0)
                } else this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iCenterType].nodeRoot, !0);
                this.CheckHint(), this.ShowPageInfo()
            }, e.prototype.SetPageContent = function() {
                if (this.m_aryPuzzlePageMember)
                    for (var t = 0; t < this.m_iMaxPageNum;)
                        if (this.m_iShowPuzzleIndex < this.m_iPageCount) {
                            var e = this.m_pvPuzzlePage.getPages()[t];
                            if (null != e) {
                                if (this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex])
                                    if (t >= 1 && t <= 3 && this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot.setParent(e), 2 == t) {
                                        this.m_iCenterType = this.m_iShowPuzzleIndex, this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot, !0);
                                        var o = this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].data;
                                        o && (this.SetTitle(o), o.TmpPieceAmount > 0 ? this.ShowCollectEffect(o) : this.m_nodeTouchMask.activeInHierarchy && (this.m_nodeTouchMask.active = !1))
                                    } else this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot);
                                t++, this.m_iShowPuzzleIndex++
                            }
                            this.m_iShowPuzzleIndex >= this.m_iPageCount && (this.m_iShowPuzzleIndex = 0)
                        }
            }, e.prototype.SetPuzzleScaleAndColor = function(t, e, o) {
                var n = this;
                void 0 === e && (e = !1), void 0 === o && (o = !1);
                var i = e ? cc.Color.WHITE : cc.Color.GRAY,
                    r = e ? 1 : .7;
                cc.Tween.stopAllByTarget(t), cc.tween(t).to(this.m_iUIScrollTweenTime, {
                    scale: r
                }).start(), e && !o && 255 == this.node.opacity && 0 == this.m_TipsMgr.node.active && this.scheduleOnce(function() {
                    m.AudioMgr.Instance.Play(s.PUZZLE_SOUND.PUZZLE_SCROLL_STOP, !1, 1)
                }, this.m_iUIScrollTweenTime), t.getComponentsInChildren(cc.Sprite).forEach(function(t) {
                    cc.tween(t.node).to(n.m_iUIScrollTweenTime, {
                        color: i
                    }).start()
                })
            }, e.prototype.ShowPageInfo = function() {}, e.prototype.Init = function(t, e, o) {
                this.m_strPlayerID = t, this.m_questDataAry = e, this.InitPuzzle();
                var n = this.tsToDateTime(e[0].StartTimeUTC),
                    i = this.tsToDateTime(o);
                this.m_labEventTime.string = "EVENT TIME: " + n + " - " + i, this.m_nodeHintL.active = !1, this.m_nodeHintR.active = !1
            }, e.prototype.tsToDateTime = function(t) {
                return new Date(1e3 * t).toLocaleDateString("en-US", {
                    timeZone: "EST"
                })
            }, e.prototype.InitPuzzle = function() {
                if (null != this.m_questDataAry && this.m_questDataAry != [] && this.m_aryPuzzlePageMember != [])
                    for (var t = null, e = 0; e < this.m_questDataAry.length; e++) {
                        var o = this.FindPuzzleMember(this.m_questDataAry[e].PuzzleType);
                        o && (o.data = this.m_questDataAry[e]), (t = this.FindPuzzleCtrl(this.m_questDataAry[e].PuzzleType)) && t.InitShowCurPieces(this.m_questDataAry[e].CurPuzzleProgress)
                    }
            }, e.prototype.UpdateTimer = function(t, e) {
                this.m_cdLabTimer && this.m_cdLabTimer.UpdateUIWithFormate(t, e)
            }, e.prototype.FindPuzzleMember = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e];
                return null
            }, e.prototype.FindPuzzleCtrl = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e].ctrl;
                return null
            }, e.prototype.Show = function(t) {
                if (t && (this.m_questDataAry = t, this.m_nodeRoot.opacity = 255, this.m_nodeRoot.setPosition(cc.Vec2.ZERO), this.CheckShowTips(t) ? (this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex - 1, .01), this.m_TipsMgr.ShowTipePage(this.m_strPlayerID)) : m.AudioMgr.Instance.Play(s.PUZZLE_SOUND.PUZZLE_SCROLL_STOP, !1, 1), t)) {
                    this.InitPuzzle();
                    var e = this.FindMaxUnCollectPiecePuzzle(t);
                    if (e) {
                        var o = c.PUZZLE_ITEM[e.PuzzleType].index;
                        if (o != this.m_iCenterType) {
                            this.m_nodeTouchMask.active = !0, this.ScrollBeganCallBack();
                            var n = o - this.m_iCenterType;
                            n <= -2 ? n = 1 : n >= 2 && (n = -1), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + n, .5), this.ShowPageInfo()
                        } else this.SetTitle(e), e.TmpPieceAmount > 0 && this.ShowCollectEffect(e)
                    } else {
                        var i = this.FindPuzzleDataByIndexType(this.m_iCenterType);
                        this.SetTitle(i)
                    }
                }
            }, e.prototype.FindMaxUnCollectPiecePuzzle = function(t) {
                if (t) {
                    for (var e = 0, o = null, n = 0; n < t.length; n++) t[n].TmpPieceAmount > e && (e = t[n].TmpPieceAmount, o = t[n]);
                    if (null != o && e > 0)
                        for (n = 0; n < t.length; n++) t[n].PuzzleType != o.PuzzleType && t[n].TmpPieceAmount == o.TmpPieceAmount && (t[n].Award.AwardType == s.PUZZLE_ITEM_DEFINE.Entry ? t[n].Award.AwardEntries > o.Award.AwardEntries && (o = t[n]) : t[n].Award.AwardType == s.PUZZLE_ITEM_DEFINE.Winning && t[n].Award.AwardWinnings > o.Award.AwardWinnings && (o = t[n]));
                    return o && console.warn("\u627e\u6700\u5927\u672a\u6536\u96c6\u6578 Type = " + o.PuzzleType + ", maxTmpCount \u672a\u6536\u96c6\u6578 = " + e), o
                }
            }, e.prototype.MapPuzzleTypeByCenterType = function(t) {
                var e = "";
                switch (t) {
                    case 0:
                        e = "Copper";
                        break;
                    case 1:
                        e = "Sliver";
                        break;
                    case 2:
                        e = "Gold"
                }
                return e
            }, e.prototype.FindPuzzleDataByIndexType = function(t) {
                var e = this.MapPuzzleTypeByCenterType(t);
                return this.m_questDataAry.find(function(t) {
                    return t.PuzzleType == e
                })
            }, e.prototype.CheckShowTips = function(t) {
                if (this.m_bHasShowTips) return !1;
                for (var e = 0, o = 0, n = 0; n < t.length; n++) e += t[n].CurPuzzleProgressCount, o += t[n].TmpCompleteTimes;
                return 0 == e && 0 == o && (this.m_bHasShowTips = !0, !0)
            }, e.prototype.ShowCollectEffect = function(t) {
                var e = this;
                t.TmpPieceAmount <= 0 || (this.m_nodeTouchMask.active = !0, this.m_aryPuzzleCollectParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_nodeRadPoin.active = !1, this.m_animPuzzleCollectEffect.node.opacity = 255, this.m_animPuzzleCollectEffect.play(), m.AudioMgr.Instance.Play(s.PUZZLE_SOUND.PUZZLE_PIECE_COLLECT_START, !1, 1), this.scheduleOnce(function() {
                    e.m_labPieceCount.node.active = !1
                }, 1), this.scheduleOnce(function() {
                    t.TmpPieceAmount = 0;
                    var o = e.FindPuzzleCtrl(t.PuzzleType);
                    o && o.CollectPieces(t.CurPuzzleProgress, t.CurGetNewPuzzleProgress), m.AudioMgr.Instance.Play(s.PUZZLE_SOUND.PUZZLE_PIECE_COLLECT_DONE, !1, 1)
                }, 1.3), this.scheduleOnce(function() {
                    e.m_nodeTouchMask.active = !1, e.m_animPuzzleCollectEffect.node.opacity = 0, e.CheckHint()
                }, 2.25))
            }, e.prototype.CheckHint = function() {
                var t = this.m_iCenterType + 1;
                t > this.m_aryPuzzlePageMember.length - 1 && (t = 0);
                var e = this.FindPuzzleDataByIndexType(t);
                e && e.TmpPieceAmount > 0 && (this.m_nodeHintR.active = !0);
                var o = this.m_iCenterType - 1;
                o < 0 && (o = this.m_aryPuzzlePageMember.length - 1);
                var n = this.FindPuzzleDataByIndexType(o);
                n && n.TmpPieceAmount > 0 && (this.m_nodeHintL.active = !0)
            }, e.prototype.SetTitle = function(t) {
                var e = c.PUZZLE_ITEM[t.PuzzleType].index;
                this.m_spAwardTitle.spriteFrame = this.m_aryAwardTitleFrame[e], this.m_spPuzzleIcon.spriteFrame = this.m_aryPieceSpriteFrame[e], 4 == t.Award.AwardType ? this.m_labAward.string = "$" + (t.Award.AwardEntries * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }) : 5 == t.Award.AwardType && (this.m_labAward.string = "$" + (t.Award.AwardWinnings * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                })), t.TmpPieceAmount > 0 ? (this.m_nodeRadPoin.active = !0, this.m_labPieceCount.node.active = !0, this.m_labPieceCount.string = t.TmpPieceAmount.toString()) : (this.m_nodeRadPoin.active = !1, this.m_labPieceCount.node.active = !1)
            }, e.prototype.HidePage = function() {
                this.m_nodeRoot.opacity = 0, this.m_nodeRoot.setPosition(new cc.Vec2(9999, 9999)), this.m_funUnlockShoot && this.m_funUnlockShoot()
            }, e.prototype.Clear = function() {
                if (0 != this.m_iCenterType) {
                    this.ScrollBeganCallBack();
                    var t = 0 - this.m_iCenterType;
                    t <= -2 ? t = 1 : t >= 2 && (t = -1), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + t, .1), this.ShowPageInfo()
                }
                this.HidePage()
            }, e.prototype.OnClosePage = function() {
                this.HidePage(), this.m_funClosePage && this.m_funClosePage()
            }, e.prototype.CallNextPage = function() {
                this.ScrollBeganCallBack(), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + 1, .3), this.ShowPageInfo()
            }, e.prototype.CallPrePage = function() {
                this.ScrollBeganCallBack(), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex - 1, .3), this.ShowPageInfo()
            }, e.prototype.ShowInfoPage = function() {
                this.m_funOpenInfoPage && this.m_funOpenInfoPage()
            }, e.prototype.ShowAwardListPage = function() {
                this.m_funOpenAwardListPage && this.m_funOpenAwardListPage()
            }, r([d(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([d(cc.Node)], e.prototype, "m_nodeTouchMask", void 0), r([d(cc.Node)], e.prototype, "m_nodeTitleAward", void 0), r([d(cc.PageView)], e.prototype, "m_pvPuzzlePage", void 0), r([d(cc.Prefab)], e.prototype, "m_PuzzlePagePrefab", void 0), r([d(cc.Node)], e.prototype, "m_nodeRadPoin", void 0), r([d(cc.Label)], e.prototype, "m_labPieceCount", void 0), r([d(cc.Label)], e.prototype, "m_labAward", void 0), r([d([cc.SpriteFrame])], e.prototype, "m_aryAwardTitleFrame", void 0), r([d(cc.Sprite)], e.prototype, "m_spAwardTitle", void 0), r([d([cc.SpriteFrame])], e.prototype, "m_aryPieceSpriteFrame", void 0), r([d(cc.Sprite)], e.prototype, "m_spPuzzleIcon", void 0), r([d(cc.Animation)], e.prototype, "m_animPuzzleCollectEffect", void 0), r([d([cc.ParticleSystem])], e.prototype, "m_aryPuzzleCollectParticle", void 0), r([d(cc.Node)], e.prototype, "m_nodeHintL", void 0), r([d(cc.Node)], e.prototype, "m_nodeHintR", void 0), r([d(cc.Label)], e.prototype, "m_labEventTime", void 0), r([d(l.DateTimeCountDown)], e.prototype, "m_cdLabTimer", void 0), r([d(u.default)], e.prototype, "m_TipsMgr", void 0), r([h], e)
        }(cc.Component);
        o.FishPuzzleEggPuzzlePageMgr = g, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPuzzlePage": "FishPuzzleEggPuzzlePage",
        "./FishPuzzleEggTipsMgr": "FishPuzzleEggTipsMgr"
    }],
    FishPuzzleEggPuzzlePageState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b2575XEE9NGRYWFXZ4/i5nv", "FishPuzzleEggPuzzlePageState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPuzzlePageState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {
                this.target.EVENT_OPEN_UI && this.target.EVENT_OPEN_UI(), this.target.m_IconMgr.ShowIcon(!1), this.target.m_PuzzlePageMgr.Show(this.target.m_aryEventData)
            }, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {
                this.target.m_IconMgr.CheckRedPoint(this.target.m_aryEventData), this.target.m_PuzzlePageMgr.HidePage()
            }, t
        }();
        o.FishPuzzleEggPuzzlePageState = n, cc._RF.pop()
    }, {}],
    FishPuzzleEggPuzzlePage: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6b44bjdrXJKyJki9nhp2ugX", "FishPuzzleEggPuzzlePage");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iPuzzleType = "", e.m_aryPiecesAnim = [], e
                }
                return i(e, t), Object.defineProperty(e.prototype, "PuzzleType", {
                    get: function() {
                        return this.m_iPuzzleType
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {}, e.prototype.ShowAllPieces = function() {
                    for (var t = 0; t < this.m_aryPiecesAnim.length; t++) this.m_aryPiecesAnim[t].node.active = !0, this.m_aryPiecesAnim[t].play("PuzzlePieceShowIdle")
                }, e.prototype.InitShowCurPieces = function(t) {
                    var e = this;
                    Object.keys(t).forEach(function(o) {
                        var n = Number(o) - 1;
                        t[o] >= 1 ? (e.m_aryPiecesAnim[n].node.active = !0, e.m_aryPiecesAnim[n].play("PuzzlePieceShowIdle")) : e.m_aryPiecesAnim[n].node.active = !1
                    })
                }, e.prototype.GetPieceCount = function() {
                    return this.m_aryPiecesAnim.length
                }, e.prototype.CollectPieces = function(t, e) {
                    if (null != t && null != e)
                        for (var o = 0; o < this.m_aryPiecesAnim.length; o++) {
                            var n = o + 1;
                            0 == e[n] && (this.m_aryPiecesAnim[o].node.active = !1), e[n] >= 1 && 0 == t[n] && (this.m_aryPiecesAnim[o].node.active = !0, this.m_aryPiecesAnim[o].node.getComponentInChildren(cc.Sprite).node.active = !1, this.m_aryPiecesAnim[o].play("PuzzlePieceCollect"), t[n] = Object.assign(e[n]))
                        }
                }, e.prototype.Clear = function() {
                    for (var t = 0; t < this.m_aryPiecesAnim.length; t++) this.m_aryPiecesAnim[t].node.active = !1
                }, r([c], e.prototype, "m_iPuzzleType", void 0), r([c([cc.Animation])], e.prototype, "m_aryPiecesAnim", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    FishPuzzleEggTipsMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b7355+wGmFAnrCoCrLJmHDD", "FishPuzzleEggTipsMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PuzzleTipsStep = void 0;
        var s, a = t("../../../Component/AudioMgr"),
            c = t("./FishPuzzleEggData"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.ShowP1Tips = 0] = "ShowP1Tips", t[t.ShowP1ID = 1] = "ShowP1ID", t[t.ShowP2Tips = 2] = "ShowP2Tips", t[t.Close = 3] = "Close"
        })(s = o.PuzzleTipsStep || (o.PuzzleTipsStep = {}));
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeP1 = null, e.m_nodeP1Txt = null, e.m_nodeP1ID = null, e.m_labID = null, e.m_nodeP2 = null, e.m_Step = s.NONE, e
            }
            return i(e, t), e.prototype.ShowTipePage = function(t) {
                this.m_labID.string = "No. " + t, this.CloseTipPage(), this.CallNextStep()
            }, e.prototype.ShowPage1Tips = function() {
                this.node.active = !0, this.m_nodeP1.active = !0, this.m_nodeP1Txt.active = !0, this.m_nodeP1ID.active = !1, this.m_nodeP2.active = !1
            }, e.prototype.ShowPage1ID = function() {
                this.m_nodeP1.active = !0, this.m_nodeP1Txt.active = !1, this.m_nodeP1ID.active = !0, this.m_nodeP2.active = !1
            }, e.prototype.ShowPage2 = function() {
                this.m_nodeP1.active = !1, this.m_nodeP2.active = !0
            }, e.prototype.CloseTipPage = function() {
                this.m_Step = s.NONE, this.node.active = !1, this.m_nodeP1.active = !1, this.m_nodeP2.active = !1
            }, e.prototype.CallNextStep = function() {
                switch (this.m_Step++, this.m_Step) {
                    case s.ShowP1Tips:
                        a.AudioMgr.Instance.Play(c.PUZZLE_SOUND.TIPS_SHOW, !1, 1), this.ShowPage1Tips();
                        break;
                    case s.ShowP1ID:
                        a.AudioMgr.Instance.Play(c.PUZZLE_SOUND.TIPS_SHOW, !1, 1), this.ShowPage1ID();
                        break;
                    case s.ShowP2Tips:
                        a.AudioMgr.Instance.Play(c.PUZZLE_SOUND.TIPS_SHOW, !1, 1), this.ShowPage2();
                        break;
                    case s.Close:
                        this.CloseTipPage()
                }
            }, r([m(cc.Node)], e.prototype, "m_nodeP1", void 0), r([m(cc.Node)], e.prototype, "m_nodeP1Txt", void 0), r([m(cc.Node)], e.prototype, "m_nodeP1ID", void 0), r([m(cc.Label)], e.prototype, "m_labID", void 0), r([m(cc.Node)], e.prototype, "m_nodeP2", void 0), r([u], e)
        }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggWaitCmdState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "322fab2eWlLcLbgl1ch4FR6", "FishPuzzleEggWaitCmdState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggWaitCmdState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {}, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {}, t
        }();
        o.FishPuzzleEggWaitCmdState = n, cc._RF.pop()
    }, {}],
    FishUIMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fc0f03cLdJMgKQ3vmbKNR3m", "FishUIMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WeaponType = o.FishEventType = void 0;
        var s, a, c = t("../../GameCommon/DownBar/GameBar"),
            l = t("./MouseMark"),
            u = t("./BtnState"),
            m = t("./CanvasHandler"),
            p = t("../../LobbyCommon/Net/LobbyClient"),
            h = t("./WeaponChangeHint"),
            d = t("./WeaponActiveHint"),
            _ = t("./WeaponChosePanel"),
            g = t("../../LobbyCommon/Helper/EventSystem"),
            y = t("../../LobbyCommon/Component/AudioMgr");
        (function(t) {
            t[t.ItemMission = 0] = "ItemMission", t[t.OceanHeart = 1] = "OceanHeart", t[t.PuzzleEgg = 2] = "PuzzleEgg"
        })(s = o.FishEventType || (o.FishEventType = {})),
        function(t) {
            t[t.None = -1] = "None", t[t.Normal = 50001] = "Normal", t[t.Lock = 51001] = "Lock", t[t.Dirll = 54001] = "Dirll", t[t.FlameStorm = 54002] = "FlameStorm", t[t.Electric = 55001] = "Electric", t[t.Tiger = 56001] = "Tiger", t[t.Dragon = 57001] = "Dragon"
        }(a = o.WeaponType || (o.WeaponType = {}));
        var f = cc._decorator,
            S = f.ccclass,
            C = f.property,
            v = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BET_TIPS_EVENT_PUZZLE = "Raise your play and get more EGGS!", e.Root = null, e.BtnWeapon = null, e.BtnLockSetting = null, e.NodeLockSettingMask = null, e.WeaponChangeTouchArea = null, e.WeaponChangeHintPrefab = null, e.WeaponActiveHintPrefab = null, e.PurchaseBlockingHint = null, e.PurchaseBlockHintLabel = null, e.MousePrefab = null, e.BtnList = [], e.NodeTeachPanel = null, e.MaskTeachPanel = null, e.MaskNode = [], e.MaskWeaponNode = [], e.WeaponTeachUI = null, e.NodeWeaponChangeHintRoot = null, e.SignalObj = [], e.SignalSprite = [], e.NodeBetEventTips = null, e.LabBetEventTips = null, e.BetScale = null, e.ChangeWeaponNode = null, e.WeaponChosePanel = null, e.BtnPurchasePosY = 130, e.m_WeaponChangeHint = null, e.m_WeaponActiveHint = null, e.m_FucGetWeaponSetting = null, e.MouseMark = null, e.isPurchaseOpen = !1, e.isEnableLockSetting = !1, e.isEnableAuto = !1, e.isShowedLockSettingHint = !1, e.tempBetScale = 1, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelBetChange = new SS.Common.Delegate, this.m_DelClickAddBetLevel = new SS.Common.Delegate, this.m_DelClickReduceBetLevel = new SS.Common.Delegate, this.m_DelClickChange = new SS.Common.Delegate, this.m_DelClickAuto = new SS.Common.Delegate, this.m_DelClickLockSetting = new SS.Common.Delegate, this.m_DelClickPurchase = new SS.Common.Delegate, this.m_DelPurchaseSuccess = new SS.Common.Delegate, this.m_DelCloseTeachPanel = new SS.Common.Delegate, this.m_DelClickWeaponChose = new SS.Common.Delegate, this.m_DelClickWeaponChoseBtn = new SS.Common.Delegate, this.m_DelUpdateWeaponHint = new SS.Common.Delegate
                }, e.prototype.Compose = function() {
                    g.EventSystem.Event(g.PurchaseEvent.OnPurchaseSuccess).Insert(this.OnPurchaseSuccess, this), g.EventSystem.Event(g.PurchaseEvent.OnPurchasePanelDisable).Insert(this.OnPurchasePanelDisable, this)
                }, e.prototype._onDestroy = function() {
                    g.EventSystem.Event(g.PurchaseEvent.OnPurchaseSuccess).Remove(this.OnPurchaseSuccess, this), g.EventSystem.Event(g.PurchaseEvent.OnPurchasePanelDisable).Remove(this.OnPurchasePanelDisable, this)
                }, e.prototype.Init = function() {
                    var t = this;
                    if (cc.sys.platform == cc.sys.DESKTOP_BROWSER && "iOS" != cc.sys.os && !this.MouseMark && this.MousePrefab) {
                        cc.game.canvas.style.cursor = "none";
                        var e = cc.instantiate(this.MousePrefab);
                        this.MouseMark = e.getComponent(l.default);
                        var o = cc.find("Canvas").getComponent(cc.Canvas);
                        o ? (o.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this), o.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                            t.switchMouseMark(!1)
                        }, this, !1), e.setParent(o.node)) : console.error("[FishUIMgr] Can't Find Canvas");
                        for (var n = 0; n < this.BtnList.length; n++) this.BtnList[n] && this.BtnList[n].on(cc.Node.EventType.MOUSE_ENTER, function() {
                            t.switchMouseMark(!0)
                        }, this, !1)
                    }
                    this.NumAnimWinning.node.active = false;
                    this.NumAnimWinning.node.parent.children[1].active = false;
                    this.BtnPurchase.node.active = false;

                    this.isEnableAuto = !1, this.NodeTeachPanel.active = !1, this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_START, this.PressAddBtn, this), this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_END, this.ReleaseAddBtn, this), this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_CANCEL, this.ReleaseAddBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_START, this.PressMinusBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_END, this.ReleaseMinusBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_CANCEL, this.ReleaseMinusBtn, this), this.ChangeWeaponNode.on(cc.Node.EventType.TOUCH_START, this.ClickChangeWeapon, this), this.ChangeWeaponNode.on(cc.Node.EventType.TOUCH_MOVE, this.ClickChangeWeapon, this)
                }, e.prototype.mouseMove = function(t) {
                    this.MouseMark && this.MouseMark.node.setPosition(t.getLocation().sub(m.default.Instance.halfDiagonal))
                }, e.prototype.switchMouseMark = function(t) {
                    this.MouseMark && this.MouseMark.switchArrowMark(t)
                }, e.prototype.RegisterMouseEvent = function(t) {
                    var e = this;
                    t.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        e.switchMouseMark(!0)
                    }, this, !1)
                }, e.prototype.RegisterMouseEventList = function(t) {
                    for (var e = 0; e < t.length; e++) this.RegisterMouseEvent(t[e])
                }, e.prototype.SetUserName = function(t) {
                    null != this.TextUserName && (null == t && (t = ""), this.TextUserName.string = t)
                }, e.prototype.SetGameVersion = function(t) {
                    null != this.TextVersion && null != t && "" != t && (this.TextVersion.string = "v" + t)
                }, e.prototype.SetPurchaseBlockingMsg = function(t) {
                    null != this.PurchaseBlockingHint && null != this.PurchaseBlockHintLabel && null != t && (this.PurchaseBlockHintLabel.string = t)
                }, e.prototype.SetUserInfoPosition = function(t) {
                    null != this.NodeScoreBox && (0 != (t %= 2) && 1 != t && (t = 0), SS.Common.GameEnvironment.IsUseScoreBox ? (this.NodeCreadit.active = !1, this.NodeScoreBox.setPosition(570 * (2 * t - 1), -360), this.BtnPurchase.node.setPosition(110 * (1 - 2 * t), this.BtnPurchasePosY), this.BtnPromptPurchase.node.setPosition(110 * (1 - 2 * t), this.BtnPurchasePosY), this.PurchaseBlockingHint.x = this.BtnPurchase.node.x, this.PurchaseBlockingHint.children[t].active = !0, this.PurchaseBlockingHint.children[(t + 1) % 2].active = !1, this.TextUserName.node.setPosition(this.NodeScoreBox.getPosition().x + 15 * (1 - 2 * t), this.NodeScoreBox.getPosition().y + 11), this.SignalObj[0].node.setPosition(610 * (2 * t - 1), -170)) : (this.NodeScoreBox.active = !1, this.NodeCreadit.setPosition(570 * (2 * t - 1), -360), this.TextUserName.node.setPosition(this.NodeCreadit.getPosition().x + 15 * (1 - 2 * t), this.NodeScoreBox.getPosition().y + 11), this.SignalObj[0].node.setPosition(610 * (2 * t - 1), -250)), this.TextVersion.node.setPosition(530 * (1 - 2 * t), -345), this.TextVersion.horizontalAlign = 0 == t ? cc.Label.HorizontalAlign.RIGHT : cc.Label.HorizontalAlign.LEFT)
                }, e.prototype.SetWeaponChangeAreaPosition = function(t, e) {
                    null != this.WeaponChangeTouchArea && this.WeaponChangeTouchArea.node.setPosition(t, e)
                }, e.prototype.SetWeaponChangeHintPosition = function(t, e) {
                    null != this.WeaponChangeHintPrefab && (this.m_WeaponChangeHint = cc.instantiate(this.WeaponChangeHintPrefab), this.NodeWeaponChangeHintRoot.addChild(this.m_WeaponChangeHint), this.m_WeaponChangeHint.getComponent(h.default).Init(this.m_FucGetWeaponSetting()), this.m_WeaponChangeHint.setPosition(t, e))
                }, e.prototype.SetBetBtnPosition = function(t, e) {
                    null != this.BtnBetUp && null != this.BtnBetDown && (this.BtnBetUp.node.setPosition(t + 90, e), this.BtnBetDown.node.setPosition(t - 90, e))
                }, e.prototype.IsWeaponChangeHintActive = function() {
                    return null != this.m_WeaponChangeHint && this.m_WeaponChangeHint.active
                }, e.prototype.CloseWeaponChangeHint = function() {
                    null != this.m_WeaponChangeHint && (this.m_WeaponChangeHint.active = !1, this.m_WeaponChangeHint.destroy(), this.m_WeaponChangeHint = null)
                }, e.prototype.ChangeWeaponButton = function(t, e) {
                    if (void 0 === e && (e = [a.Normal, a.Lock]), null != this.BtnWeapon && null != this.BtnLockSetting) switch (window.gd_nowLOGO) {
                        case "magiccity":
                            this.BtnWeapon.getComponent(u.default).Icon.node, this.ChangeWeaponButtonSprite(t, e), this.BtnLockSetting.getComponent(u.default).ChangeState(this.BtnLockSetting.interactable ? u.enumState.STATE_0 : u.enumState.STATE_2);
                            break;
                        default:
                            if (this.ChangeWeaponButtonSprite(t, e), this.BtnLockSetting.node.active = this.BtnLockSetting.interactable, !this.isShowedLockSettingHint) {
                                var o = this.BtnLockSetting.getComponent(cc.Animation);
                                null != o.currentClip && o.currentClip.name != o.getClips()[0].name || o.play(o.getClips()[1].name)
                            }
                    }
                }, e.prototype.ChangeWeaponButtonSprite = function(t, e) {
                    var o = e[e.indexOf(t) + 1];
                    switch (o || (o = e[0]), t) {
                        case a.Normal:
                            this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_0), this.BtnLockSetting.interactable = !1, this.NodeLockSettingMask.active = !0;
                            break;
                        case a.Lock:
                            switch (o) {
                                case a.Tiger:
                                    this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_2);
                                    break;
                                case a.Dragon:
                                    this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_4);
                                    break;
                                default:
                                    this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_1)
                            }
                            this.BtnLockSetting.interactable = !0, this.NodeLockSettingMask.active = !1;
                            break;
                        case a.Tiger:
                            switch (o) {
                                case a.Dragon:
                                    this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_6);
                                    break;
                                default:
                                    this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_3)
                            }
                            this.BtnLockSetting.interactable = !0, this.NodeLockSettingMask.active = !1;
                            break;
                        case a.Dragon:
                            this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_5), this.BtnLockSetting.interactable = !0, this.NodeLockSettingMask.active = !1
                    }
                }, e.prototype.SetBet = function(t, e) {
                    e && (this.tempBetScale = e, this.BetScale.node.parent.active = e > 1), this.BetScale.string = (t * this.tempBetScale).toString()
                }, e.prototype.SwitchLockSettingButton = function(t) {
                    if (null != this.BtnLockSetting && this.isEnableLockSetting != t) {
                        switch (window.gd_nowLOGO) {
                            case "magiccity":
                                this.BtnLockSetting.getComponent(u.default).ChangeState(this.BtnLockSetting.interactable ? u.enumState.STATE_0 : u.enumState.STATE_2);
                                break;
                            default:
                                t ? this.BtnLockSetting.getComponent(u.default).ChangeState(u.enumState.STATE_1) : this.BtnLockSetting.getComponent(u.default).ChangeState(u.enumState.STATE_0)
                        }
                        this.isEnableLockSetting = t
                    }
                }, e.prototype.SwitchAutoButton = function(t) {
                    if (null != this.BtnAuto && this.isEnableAuto != t) {
                        t ? this.BtnAuto.getComponent(u.default).ChangeState(u.enumState.STATE_1) : this.BtnAuto.getComponent(u.default).ChangeState(u.enumState.STATE_0);
                        var e = this.BtnAuto.getComponent(cc.Animation);
                        e && e.play(e.getClips()[Number(t)].name), this.isEnableAuto = t
                    }
                }, e.prototype.ShowPurchaseHint = function(t) {
                    if (void 0 === t && (t = !0), null != this.BtnPurchase && null != this.BtnPromptPurchase && this.BtnPromptPurchase.node.active != t) {
                        this.BtnPurchase.node.active = !t, this.BtnPromptPurchase.node.active = t;
                        var e = this.BtnPromptPurchase.getComponent(cc.Animation);
                        e.play(e.getClips()[Number(t)].name)
                    }
                }, e.prototype.ShowPurchaseBlockingHint = function(t) {
                    void 0 === t && (t = !0), null != this.PurchaseBlockingHint && (t ? (this.PurchaseBlockingHint.active || (this.PurchaseBlockingHint.active = !0, this.PurchaseBlockingHint.opacity = 0), this.PurchaseBlockingHint.stopAllActions(), this.PurchaseBlockingHint.runAction(cc.sequence(cc.fadeTo(.25, 255), cc.delayTime(3), cc.fadeTo(.5, 0)))) : (this.PurchaseBlockingHint.stopAllActions(), this.PurchaseBlockingHint.runAction(cc.fadeTo(.2, 0))))
                }, e.prototype.SetEntriesNow = function(t, e) {
                    void 0 === e && (e = !1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimEntries.SetNumberNow(t) && e && this.NumAnimEntries.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1))) : this.NumAnimCreadit.SetNumberNow(t) && e && this.NumAnimCreadit.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                }, e.prototype.CountUpEntries = function(t, e) {
                    void 0 === e && (e = 1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimEntries.CountUp(t, e) : this.NumAnimCreadit.CountUp(t, e)
                }, e.prototype.SetWinningNow = function(t, e, o) {
                    if (void 0 === e && (e = !0), void 0 === o && (o = !1), SS.Common.GameEnvironment.IsUseScoreBox) {
                        if (!o && this.NumAnimWinning.GetCurrentNumber > t) return;
                        this.NumAnimWinning.SetNumberNow(t) && e && this.NumAnimWinning.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                    } else {
                        if (!o && this.NumAnimCreadit.GetCurrentNumber > t) return;
                        this.NumAnimCreadit.SetNumberNow(t) && e && this.NumAnimCreadit.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                    }
                }, e.prototype.CountUpWinning = function(t, e) {
                    void 0 === e && (e = 1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimWinning.CountUp(t, e) : this.NumAnimCreadit.CountUp(t, e)
                }, e.prototype.PressAddBtn = function() {
                    this.AddBet(!1), this.schedule(this.AddBet, .1, cc.macro.REPEAT_FOREVER, .5)
                }, e.prototype.ReleaseAddBtn = function() {
                    this.unschedule(this.AddBet), this.unschedule(this.SendUpdateBet), this.scheduleOnce(this.SendUpdateBet, .3)
                }, e.prototype.PressMinusBtn = function() {
                    this.MinusBet(!1), this.schedule(this.MinusBet, .1, cc.macro.REPEAT_FOREVER, .5)
                }, e.prototype.ReleaseMinusBtn = function() {
                    this.unschedule(this.MinusBet), this.unschedule(this.SendUpdateBet), this.scheduleOnce(this.SendUpdateBet, .3)
                }, e.prototype.SendUpdateBet = function() {
                    this.m_DelBetChange && this.m_DelBetChange.Length > 0 && this.m_DelBetChange.Notify()
                }, e.prototype.AddBet = function(t) {
                    void 0 === t && (t = !0), this.m_DelClickAddBetLevel && this.m_DelClickAddBetLevel.Length > 0 && this.m_DelClickAddBetLevel.Notify(t)
                }, e.prototype.MinusBet = function(t) {
                    void 0 === t && (t = !1), this.m_DelClickReduceBetLevel && this.m_DelClickReduceBetLevel.Length > 0 && this.m_DelClickReduceBetLevel.Notify(t)
                }, e.prototype.ClickChangeWeapon = function(t) {
                    m.default.Instance.IsLockChangeWeapon ? m.default.CANVAS.node.emit(t.type, t) : t.type == cc.Node.EventType.TOUCH_END && this.m_DelClickChange && this.m_DelClickChange.Length > 0 && this.m_DelClickChange.Notify()
                }, e.prototype.ClickAuto = function() {
                    this.m_DelClickAuto && this.m_DelClickAuto.Length > 0 && this.m_DelClickAuto.Notify()
                }, e.prototype.ClickLockSetting = function() {
                    if (this.m_DelClickLockSetting && this.m_DelClickLockSetting.Length > 0 && this.m_DelClickLockSetting.Notify(), !this.isShowedLockSettingHint) {
                        var t = this.BtnLockSetting.getComponent(cc.Animation);
                        t && t.play(t.getClips()[0].name), this.isShowedLockSettingHint = !0
                    }
                    p.LobbyClient.Instance.GetUserClient.recordClickLog("FishLockSetting", 9999)
                }, e.prototype.ClickWeaponChose = function() {
                    if (this.m_DelClickWeaponChose && this.m_DelClickWeaponChose.Length > 0 ? this.m_DelClickWeaponChose.Notify() : this.m_DelClickChange && this.m_DelClickChange.Length > 0 && this.m_DelClickChange.Notify(), !this.isShowedLockSettingHint) {
                        var t = this.BtnLockSetting.getComponent(cc.Animation);
                        t && t.play(t.getClips()[0].name), this.isShowedLockSettingHint = !0
                    }
                }, e.prototype.showWeaponChosePanel = function(t, e) {
                    this.WeaponChosePanel.Init(t, e, this.WeaponChoseBtnClick.bind(this))
                }, e.prototype.ResetWeaponToggle = function() {
                    this.WeaponChosePanel.SetWeaponToggleInteractable(!0)
                }, e.prototype.WeaponChoseBtnClick = function(t) {
                    this.m_DelClickWeaponChoseBtn && this.m_DelClickWeaponChoseBtn.Length > 0 && this.m_DelClickWeaponChoseBtn.Notify(t)
                }, e.prototype.ClickPurchase = function() {
                    this.m_DelClickPurchase && this.m_DelClickPurchase.Length > 0 && this.m_DelClickPurchase.Notify("purchase", this.ShowPurchaseBlockingHint.bind(this)), y.AudioMgr.Instance.Play("SLOT_purchase", !1, 1)
                }, e.prototype.OpenPurchase = function() {
                    this.isPurchaseOpen = !0, SS.Common.GameEnvironment.IsUseScoreBox ? g.EventSystem.Event(g.PurchaseEvent.ShowPanel).Notify(this.NumAnimWinning.GetCurrentNumber) : g.EventSystem.Event(g.PurchaseEvent.ShowPanel).Notify(this.NumAnimCreadit.GetCurrentNumber)
                }, e.prototype.IsPurchaseOpen = function() {
                    return this.isPurchaseOpen
                }, e.prototype.OnPurchaseSuccess = function(t, e) {
                    this.SetWinningNow(t, !1, !0), this.SetEntriesNow(e), this.ShowPurchaseHint(!1), this.m_DelPurchaseSuccess && this.m_DelPurchaseSuccess.Length > 0 && this.m_DelPurchaseSuccess.Notify(t, e), this.isPurchaseOpen = !1
                }, e.prototype.OnPurchasePanelDisable = function() {
                    this.isPurchaseOpen = !1
                }, e.prototype.ShowTeachPanel = function(t, e, o, n) {
                    void 0 === t && (t = !1), void 0 === e && (e = ""), void 0 === o && (o = !0), void 0 === n && (n = ""), this.NodeTeachPanel.active = !0;
                    var i = this.NodeTeachPanel.getChildByName("Mission");
                    null != i && (i.active = t);
                    var r = "FishHunterAladdin" == SS.Common.GameEnvironment.CurrentGameNow || "FishHunterGhost" == SS.Common.GameEnvironment.CurrentGameNow,
                        s = this.m_FucGetWeaponSetting();
                    s && (s.hasOwnProperty("Scale") && s.Scale || s.hasOwnProperty("MultipleScale") && s.MultipleScale) && (r = !0), this.WeaponTeachUI.active = r, this.SetTeachPanelMask(r);
                    var a = cc.find("Item/Tips/LabEventTime", this.NodeTeachPanel);
                    if (null != a && "" != e) {
                        a.active = !0, a.getComponent(cc.Label).string = e;
                        var c = a.getComponentInChildren(cc.Label).string;
                        a.getComponentInChildren(cc.Label).string = c.replace("{0}", n), a.active = !0
                    }
                }, e.prototype.OnCloseTeachPanel = function() {
                    this.NodeTeachPanel.active = !1, this.m_DelCloseTeachPanel && this.m_DelCloseTeachPanel.Length > 0 && this.m_DelCloseTeachPanel.Notify()
                }, e.prototype.CheckTeachPanelActive = function() {
                    return this.NodeTeachPanel.activeInHierarchy
                }, e.prototype.SetNetSignal = function(t) {
                    this.SignalObj[1].spriteFrame = this.SignalSprite[t - 1], 1 == t ? (this.SignalObj[2].node.active = !0, this.SignalObj[2].node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1), cc.delayTime(.4), cc.fadeOut(1), cc.delayTime(.4))))) : (this.SignalObj[2].node.active = !1, this.SignalObj[2].node.stopAllActions())
                }, e.prototype.ShowBetTips = function(t, e) {
                    var o = this;
                    switch (this.NodeBetEventTips.active = !0, e) {
                        case s.PuzzleEgg:
                            this.LabBetEventTips.string = this.BET_TIPS_EVENT_PUZZLE;
                            break;
                        default:
                            this.LabBetEventTips.string = ""
                    }
                    this.scheduleOnce(function() {
                        o.NodeBetEventTips.active = !1
                    }, t)
                }, e.prototype.SetTeachPanelMask = function(t) {
                    var e = this.MaskTeachPanel._graphics;
                    this.MaskNode.forEach(function(t) {
                        e.circle(t.x, t.y, t.width / 2), e.fill()
                    }), t && this.MaskWeaponNode.forEach(function(t) {
                        e.circle(t.x, t.y, t.width / 2), e.fill()
                    })
                }, e.prototype.WeaponActiveHint = function(t) {
                    null != this.WeaponActiveHintPrefab && (this.m_WeaponActiveHint = cc.instantiate(this.WeaponActiveHintPrefab), this.node.addChild(this.m_WeaponActiveHint), this.m_WeaponActiveHint.getComponent(d.default).Init(t), this.scheduleOnce(this.CloseWeaponActiveHint.bind(this), 10))
                }, e.prototype.CloseWeaponActiveHint = function() {
                    this.m_WeaponActiveHint && (this.m_WeaponActiveHint.destroy(), this.m_WeaponActiveHint = null)
                }, r([C(cc.Node)], e.prototype, "Root", void 0), r([C(cc.Button)], e.prototype, "BtnWeapon", void 0), r([C(cc.Button)], e.prototype, "BtnLockSetting", void 0), r([C(cc.Node)], e.prototype, "NodeLockSettingMask", void 0), r([C(cc.Button)], e.prototype, "WeaponChangeTouchArea", void 0), r([C(cc.Prefab)], e.prototype, "WeaponChangeHintPrefab", void 0), r([C(cc.Prefab)], e.prototype, "WeaponActiveHintPrefab", void 0), r([C(cc.Node)], e.prototype, "PurchaseBlockingHint", void 0), r([C(cc.Label)], e.prototype, "PurchaseBlockHintLabel", void 0), r([C(cc.Prefab)], e.prototype, "MousePrefab", void 0), r([C([cc.Node])], e.prototype, "BtnList", void 0), r([C(cc.Node)], e.prototype, "NodeTeachPanel", void 0), r([C(cc.Mask)], e.prototype, "MaskTeachPanel", void 0), r([C([cc.Node])], e.prototype, "MaskNode", void 0), r([C([cc.Node])], e.prototype, "MaskWeaponNode", void 0), r([C(cc.Node)], e.prototype, "WeaponTeachUI", void 0), r([C(cc.Node)], e.prototype, "NodeWeaponChangeHintRoot", void 0), r([C([cc.Sprite])], e.prototype, "SignalObj", void 0), r([C([cc.SpriteFrame])], e.prototype, "SignalSprite", void 0), r([C(cc.Node)], e.prototype, "NodeBetEventTips", void 0), r([C(cc.Label)], e.prototype, "LabBetEventTips", void 0), r([C(cc.Label)], e.prototype, "BetScale", void 0), r([C(cc.Node)], e.prototype, "ChangeWeaponNode", void 0), r([C(_.default)], e.prototype, "WeaponChosePanel", void 0), r([C({
                    type: cc.Integer,
                    displayName: "\u5145\u503c\u6309\u9215\u9ad8\u5ea6"
                })], e.prototype, "BtnPurchasePosY", void 0), r([S], e)
            }(c.GameBar);
        o.default = v, cc._RF.pop()
    }, {
        "../../GameCommon/DownBar/GameBar": "GameBar",
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "./BtnState": "BtnState",
        "./CanvasHandler": "CanvasHandler",
        "./MouseMark": "MouseMark",
        "./WeaponActiveHint": "WeaponActiveHint",
        "./WeaponChangeHint": "WeaponChangeHint",
        "./WeaponChosePanel": "WeaponChosePanel"
    }],
    FullScreenHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3859cK82CZP5pjG/l/A5XnR", "FullScreenHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Orientation = void 0;
        var s, a = t("./Helper/EventSystem"),
            c = t("./LobbyCommon"),
            l = t("./SwipeMgr/Scripts/Device"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property;
        (function(t) {
            t[t.Landscape = 0] = "Landscape", t[t.Portrait = 1] = "Portrait", t[t.Auto = 2] = "Auto"
        })(s = o.Orientation || (o.Orientation = {}));
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.orentation = s.Landscape, e.designSolution = cc.size(1560, 720), e.minDesignSolution = cc.size(1280, 720), e.designSolutionH = cc.size(1560, 720), e.minDesignSolutionH = cc.size(1280, 720), e.designSolutionV = cc.size(720, 1560), e.minDesignSolutionV = cc.size(720, 1280), e._screenOrientation = null, e.clientSize = cc.size(0, 0), e.lastClientSize = cc.size(0, 0), e.canvas = null, e.orentationHint = null, e.orentationHintH = null, e.orentationHintV = null, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                var t = this;
                this._screenOrientation = this.orentation, this.canvas = cc.find("Canvas").getComponent(cc.Canvas), a.EventSystem.RegisterFunction(a.ScreenOrientationState.GetOrientation, function() {
                    return t._screenOrientation
                }), a.EventSystem.RegisterFunction(a.ScreenOrientationState.GetOrientationSetting, function() {
                    return t.orentation
                }), a.EventSystem.Event(a.ScreenOrientationState.SetOrientation).Insert(this.SetOrientation, this), a.EventSystem.Event(a.ScreenOrientationState.CheckOrientation).Insert(this.CheckOrientation, this), window.addEventListener("orientationchange", this.OrientationChangeSetSize), this.orentationHint = window.document.getElementById("orientation"), this.orentationHintH = window.document.getElementById("orientationH"), this.orentationHintV = window.document.getElementById("orientationV");
                var e = self == top ? "../../.." : "../../../..",
                    o = "en" == SS.Common.GameEnvironment.Language ? "en" : SS.Common.GameEnvironment.Language;
                "" === this.orentationHintH.style.backgroundImage && (this.orentationHintH.style.backgroundImage = "url(" + e + "/FishWonderCatPGD/Plugin/" + o + "_orientation.gif)"), "" === this.orentationHintV.style.backgroundImage && (this.orentationHintV.style.backgroundImage = "url(" + e + "/FishWonderCatPGD/Plugin/" + o + "_orientation_v.gif)")
            }, e.prototype.update = function() {
                this.ChangeDesignResolution()
            }, e.prototype.onDestroy = function() {
                a.EventSystem.UnregisterFunction(a.ScreenOrientationState.GetOrientation), a.EventSystem.UnregisterFunction(a.ScreenOrientationState.GetOrientationSetting), a.EventSystem.Event(a.ScreenOrientationState.SetOrientation).Remove(this.SetOrientation, this), window.removeEventListener("orientationchange", this.OrientationChangeSetSize), this.unscheduleAllCallbacks()
            }, e.prototype.OrientationChangeSetSize = function() {
                cc.sys.isMobile && !l.Device.isSafari && window.gd_EditBox_isEditing && (document.activeElement.blur(), window != window && window.document.activeElement.blur())
            }, e.prototype.SetOrientation = function(t, e) {
                void 0 === e && (e = !0), this.orentation = t, e && this.ChangeDesignResolution(!0)
            }, e.prototype.ChangeDesignResolution = function(t) {
                var e, o;
                if (void 0 === t && (t = !1), l.Device.isWindows()) e = cc.view.getFrameSize().clone();
                else if (e = window.cc.view.getFrameSize().clone(), l.Device.isSafari() && window != window && e.width != window.cc.game.frame.clientWidth) return void window.cc.view.setFrameSize(window.cc.game.frame.clientWidth, window.cc.game.frame.clientHeight, !1);
                o = e.width / e.height >= 1, this._screenOrientation = o ? s.Landscape : s.Portrait, this.CheckOrientation(), (e.width != this.clientSize.width || e.height != this.clientSize.height || t) && (console.log("[FullScreenHandler] Change Design Resolution, getFrameSize() = " + e), cc.sys.garbageCollect(), cc.sys.isMobile && l.Device.isIOS14Up() && window.gd_EditBox_isEditing ? (null != this.lastClientSize && (this.clientSize = this.lastClientSize), this.lastClientSize = cc.size(e.width, e.height)) : (this.clientSize = cc.size(e.width, e.height), this.lastClientSize = null), this.orentation === s.Auto ? o ? (console.log("[FullScreenHandler] \u6a6b\u7248\u87a2\u5e55"), this.SetDesignResolution(this.designSolutionH, this.minDesignSolutionH, e)) : (console.log("[FullScreenHandler] \u6a6b\u7248\u87a2\u5e55"), this.SetDesignResolution(this.designSolutionV, this.minDesignSolutionV, e)) : this.SetDesignResolution(this.designSolution, this.minDesignSolution, e), a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Notify(this._screenOrientation), cc.sys.isMobile && l.Device.isIOS14Up() && l.Device.isSafari() && this.scheduleOnce(function() {
                    cc.view._initFrameSize()
                }, .5))
            }, e.prototype.SetDesignResolution = function(t, e, o) {
                var n = 0,
                    i = 0,
                    r = 0,
                    a = 0;
                this._screenOrientation === s.Landscape ? o.width / o.height >= t.width / t.height ? (this.canvas.designResolution = t, n = i = .5 * (o.width - t.width)) : o.width / o.height >= e.width / e.height ? this.canvas.designResolution = cc.size(o.width * (e.height / o.height), e.height) : (this.canvas.designResolution = e, r = a = .5 * (o.height - e.height)) : o.width / o.height <= t.width / t.height ? (this.canvas.designResolution = t, r = a = .5 * (o.height - t.height)) : o.width / o.height <= e.width / e.height ? this.canvas.designResolution = cc.size(e.width, o.height * (e.width / o.width)) : (this.canvas.designResolution = e, n = i = .5 * (o.width - e.width)), this.canvas.node.setContentSize(this.canvas.designResolution.clone()), c.LobbyCommon.Instance.UpdateResolution(this.canvas.designResolution), this.UpdateSafeArea(this.canvas.designResolution, n, i, r, a)
            }, e.prototype.UpdateSafeArea = function(t, e, o, n) {
                var i = document.getElementById("SafeArea");
                window != window && (i = window.document.getElementById("SafeArea"));
                var r = Number(getComputedStyle(i).getPropertyValue("padding-left").replace("px", "")) / this.clientSize.width * t.width,
                    c = Number(getComputedStyle(i).getPropertyValue("padding-right").replace("px", "")) / this.clientSize.width * t.width,
                    l = (Number(getComputedStyle(i).getPropertyValue("padding-bottom").replace("px", "")), this.clientSize.height, t.height, Number(getComputedStyle(i).getPropertyValue("padding-top").replace("px", "")) / this.clientSize.height * t.height);
                this._screenOrientation == s.Landscape ? l = 0 : this._screenOrientation == s.Portrait && (r = 0, c = 0), a.EventSystem.Event(a.UpdateSafeArea).Notify(t, e > r ? 0 : r, o > c ? 0 : c, n > l ? 0 : l, 0)
            }, Object.defineProperty(e.prototype, "isIpad", {
                get: function() {
                    var t = window.navigator.userAgent;
                    return t.indexOf("iPad") > -1 || t.indexOf("Macintosh") > -1
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.SetOrientationHint = function(t) {
                this.orentationHintH && (this.orentationHintH.style.visibility = t ? "hidden" : "visible"), this.orentationHintV && (this.orentationHintV.style.visibility = t ? "visible" : "hidden")
            }, e.prototype.CheckOrientation = function() {
                2 === window.gd_orientationType ? this.HideOrientationHint() : this._screenOrientation !== window.gd_orientationType && (cc.sys.isMobile || l.Device.isIpad()) ? (this.SetOrientationHint(this.orentation === s.Portrait), this.ShowOrientationHint()) : this.HideOrientationHint()
            }, e.prototype.ShowOrientationHint = function() {
                this.orentationHint && (this.orentationHint.style.visibility = "visible")
            }, e.prototype.HideOrientationHint = function() {
                this.orentationHint && (this.orentationHint.style.visibility = "hidden"), this.orentationHintH && (this.orentationHintH.style.visibility = "hidden"), this.orentationHintV && (this.orentationHintV.style.visibility = "hidden")
            }, r([p({
                type: cc.Enum(s),
                displayName: "\u93e1\u982d\u662f\u5426\u9396\u5b9a\u6a6b\u7248\u76f4\u7248"
            })], e.prototype, "orentation", void 0), r([p({
                displayName: "\u9810\u8a08 Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation !== s.Auto
                }
            })], e.prototype, "designSolution", void 0), r([p({
                displayName: "\u6700\u5c0f Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation !== s.Auto
                }
            })], e.prototype, "minDesignSolution", void 0), r([p({
                displayName: "\u9810\u8a08\u6a6b\u7248 Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation === s.Auto
                }
            })], e.prototype, "designSolutionH", void 0), r([p({
                displayName: "\u6700\u5c0f\u6a6b\u7248 Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation === s.Auto
                }
            })], e.prototype, "minDesignSolutionH", void 0), r([p({
                displayName: "\u9810\u8a08\u76f4\u7248 Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation === s.Auto
                }
            })], e.prototype, "designSolutionV", void 0), r([p({
                displayName: "\u6700\u5c0f\u76f4\u7248 Canvas \u89e3\u6790\u5ea6",
                visible: function() {
                    return this.orentation === s.Auto
                }
            })], e.prototype, "minDesignSolutionV", void 0), r([m], e)
        }(cc.Component);
        o.default = h, cc._RF.pop()
    }, {
        "./Helper/EventSystem": "EventSystem",
        "./LobbyCommon": "LobbyCommon",
        "./SwipeMgr/Scripts/Device": "Device"
    }],
    GAME_APP: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a9d7atdLa1FqKYMWAq+JEAk", "GAME_APP");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GAME_APP = o.Status = void 0;
        var c, l = t("../LobbyCommon/Net/LobbyClient"),
            u = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            m = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("../LobbyCommon/Net/Downloader/VersionDownloader"),
            h = t("../LobbyCommon/EventModule/EventModule"),
            d = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            _ = t("../LobbyCommon/LobbyCommon"),
            g = t("../LobbyCommon/Helper/Download"),
            y = t("../LobbyCommon/Helper/Setting"),
            f = t("../LobbyCommon/Helper/LayerSystem"),
            S = t("../LobbyCommon/Helper/EventSystem"),
            C = t("../LobbyCommon/FullScreenHandler");
        cc.macro.ENABLE_MULTI_TOUCH = !1, cc.macro.CLEANUP_IMAGE_CACHE = !0,
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.INIT = 0] = "INIT", t[t.SEND_CMD = 1] = "SEND_CMD", t[t.LOAD_RESOUCE = 2] = "LOAD_RESOUCE", t[t.FINISH = 3] = "FINISH"
            }(c = o.Status || (o.Status = {}));
        var v = function() {
                function t(t, e) {
                    void 0 === e && (e = !1), this.resName = t, this.isInitDone = !1, this.isError = !1, this.errorCode = "", this.errorMsg = "", e && this.checkAndLoadRes()
                }
                return t.prototype.checkAndLoadRes = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return a(this, function() {
                            t = this.resName + ".prefab";
                            try {
                                cc.loader.loadRes(t, function(t, e) {
                                    if (t) return console.error("err"), this.errorMsg = t, this.errorCode = "C03", void(this.isError = !0);
                                    var o = cc.instantiate(e),
                                        n = cc.director.getScene().getChildByName("LobbyCommon");
                                    o.parent = n, o.getComponent(h.EventModule).init(null, this.initDone.bind(this))
                                }.bind(this))
                            } catch (e) {
                                console.error("ex"), this.errorMsg = e, this.errorCode = "C03", this.isError = !0, console.error(e)
                            }
                            return [2]
                        })
                    })
                }, t.prototype.initDone = function() {
                    this.isInitDone = !0
                }, t
            }(),
            P = cc._decorator,
            b = P.ccclass,
            w = (P.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.isFirstInit = !0, e.m_sSceneName = "MainGame", e.m_status = c.NONE, e.m_lastStatus = c.NONE, e.m_arrResSet = [], e.isStopUpdate = !1, e.isRecvCommonEventInfo = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.isFirstInit ? (this.isFirstInit = !1, [4, this.LoadClientConfig().catch(function(e) {
                                        console.error(e), t = e, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C04", "InitializeGame", "load game versione error")
                                    })]) : [3, 2];
                                case 1:
                                    if (e.sent(), t) return [2];
                                    this.GetLobbyRef(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.update = function() {
                    if (this.isStopUpdate || l.LobbyClient.Instance && l.LobbyClient.Instance.IsSocketErrorClose && (this.isStopUpdate = !0, l.LobbyClient.Instance.IsSocketErrorClose = !1, this.SocketErrorClose()), !this.isStopUpdate) {
                        var t = this.m_status != this.m_lastStatus;
                        switch (this.m_lastStatus = this.m_status, this.m_status) {
                            case c.SEND_CMD:
                                this.m_status = c.LOAD_RESOUCE;
                                break;
                            case c.LOAD_RESOUCE:
                                t && console.error("Status.LOAD_RESOUCE");
                                var e = !0;
                                this.m_arrResSet.forEach(function(t) {
                                    t.isError && (t.isError = !1), e = e && t.isInitDone
                                }), e && (this.m_status = c.FINISH);
                                break;
                            case c.FINISH:
                                t && (console.error("Status.FINISH, startLoadScene sceneName = " + this.m_sSceneName), cc.director.loadScene(this.m_sSceneName))
                        }
                    }
                }, e.prototype.RecvCommonEventInfo = function(t, e) {
                    if (console.warn("RecvCommonEventInfo:" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        o && (console.warn(o), 0 == o.result ? (l.LobbyClient.Instance.m_CommonEventInfo_900004 = JSON.stringify(o.data), this.parseTitleType_900004(l.LobbyClient.Instance.m_CommonEventInfo_900004)) : l.LobbyClient.Instance.m_CommonEventInfo_900004 = null)
                    }
                    this.isRecvCommonEventInfo = !0
                }, e.prototype.GetLobbyRef = function() {
                    var t = this;
                    if (1 == (self == top)) {
                        u.LoadingMgr.Instance.SetProgress(80, 20), S.EventSystem.Event(S.ScreenOrientationState.SetOrientation).Notify(C.Orientation.Portrait), console.log("[Debug] No WebView..."), this.SendLoadPageOk();
                        var e = SS.Common.GameEnvironment.Language + this.m_sSceneName;
                        cc.assetManager.bundles.find(function(t) {
                            return t._config.getSceneInfo(e)
                        }) && (this.m_sSceneName = e), this.m_status = self == top ? c.FINISH : c.SEND_CMD
                    } else console.log("[Debug] Wait Lobby Parameters..."), window.StartIframeGame = function(e, o, n, i, r, c) {
                        return s(t, void 0, void 0, function() {
                            var t, s, p, h, v;
                            return a(this, function(a) {
                                switch (a.label) {
                                    case 0:
                                        return console.log("StartIframeGame"), window.SS = e, window.JSUtility = o, window.ArkSDK = i, window.gd_nowLOGO = c, g.Download.Preload("SystemBackground"), [4, y.default.CheckInit()];
                                    case 1:
                                        a.sent(), f.default.Init(), y.default.GetSetting("Game") && (t = y.default.GetSetting("Game").Dependency), s = 0, p = t, a.label = 2;
                                    case 2:
                                        return s < p.length ? (h = p[s], [4, g.Download.Bundle(h)]) : [3, 5];
                                    case 3:
                                        a.sent(), a.label = 4;
                                    case 4:
                                        return s++, [3, 2];
                                    case 5:
                                        return [4, _.LobbyCommon.Instance.InitAfterModuleDownload()];
                                    case 6:
                                        return a.sent(), u.LoadingMgr.Instance.OpenLoading(), m.PopupMsgMgr.Instance.SetPopupMsgTitle(), SS.Common.GameEnvironment.GetCurGameIsVertical() ? S.EventSystem.Event(S.ScreenOrientationState.SetOrientation).Notify(C.Orientation.Portrait) : S.EventSystem.Event(S.ScreenOrientationState.SetOrientation).Notify(C.Orientation.Landscape), SS.Common.GameEnvironment.SplashDiv.style.display = "none", u.LoadingMgr.Instance.SetProgress(80, 20), l.LobbyClient.SetInstance(n), d.GameJpMgr.SetInstance(r), this.SetConsoleLog(), v = SS.Common.GameEnvironment.Language + this.m_sSceneName, cc.assetManager.bundles.find(function(t) {
                                            return t._config.getSceneInfo(v)
                                        }) && (this.m_sSceneName = v), console.log("%c This is game's lobby system object.", "font-size:18px;font-weight:bold;color:Violet"), console.log(o), console.log(e), console.log(n), console.log(ArkSDK), this.CheckVersionFlow(), [2]
                                }
                            })
                        })
                    }
                }, e.prototype.CheckVersionFlow = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.DownloadGameVersion().catch(function(t) {
                                        console.error(t), m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C19", "InitializeGame", "load game versione error")
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.SetConsoleLog = function() {
                    0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleLog && (console.log = function() {}, cc.log = function() {}), 0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleWarn && (console.warn = function() {}, cc.warn = function() {}), 0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleError && (console.error = function() {}, cc.error = function() {})
                }, e.prototype.DownloadGameVersion = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new p.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + SS.Common.GameEnvironment.ProjectSetting.Modules[SS.Common.GameEnvironment.CurrentGameNow].Path, function(n) {
                                            try {
                                                t.CheckVersion(n, e)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.CheckVersion = function(t, e) {
                    SS.Common.GameEnvironment.IgnoreVersionCtrl ? (SS.Common.GameEnvironment.CurrentGameVersion = this.m_sVersion, this.SendLoadPageOk(), this.m_status = self == top ? c.FINISH : c.SEND_CMD, console.log("IgnoreVersionCtrl , client version : ", this.m_sVersion)) : t.Maintain.IsMaintainNow ? m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C17", "InitializeGame", "maintain", null) : t.Version != this.m_sVersion ? m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C18", "InitializeGame", "maintain", null) : (SS.Common.GameEnvironment.CurrentGameVersion = this.m_sVersion, this.SendLoadPageOk(), this.m_status = self == top ? c.FINISH : c.SEND_CMD), e()
                }, e.prototype.SendLoadPageOk = function() {
                    "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.LOAD_PAGE_OK) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.LOAD_PAGE_OK), self == top || l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.LOAD_PAGE_OK))
                }, e.prototype.LoadClientConfig = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        cc.loader.loadRes("config", function(n, i) {
                                            if (n) o(n);
                                            else try {
                                                var r = i.json;
                                                t.m_sVersion = r.Version, r.hasOwnProperty("Debug") && r.Debug.hasOwnProperty("MainScene") ? t.m_sSceneName = r.Debug.MainScene : t.m_sSceneName = "MainGame", e(null)
                                            } catch (s) {
                                                o(s)
                                            }
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.parseTitleType_900004 = function(t) {
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList;
                            if (0 == o.lengt) return;
                            var n = [],
                                i = "",
                                r = "";
                            switch (SS.Common.GameEnvironment.Language) {
                                case "":
                                case "en":
                                    r = "";
                                    break;
                                case "es":
                                    r = "Esp_"
                            }
                            for (var s = r + (SS.Common.GameEnvironment.GetCurGameIsVertical() ? "Vertical_" : ""), a = 0; a < o.length; a++) {
                                var c = o[a];
                                switch (c.TitleType) {
                                    case 0:
                                    case 1:
                                        i = "Mission/" + s + "900004";
                                        break;
                                    case 101:
                                        e.NowTimeUTC < c.ExtraInfo.jp_end_time && e.NowTimeUTC > c.ExtraInfo.jp_begin_time && (i = "Mission/" + s + "900004_CommunityBonus");
                                        break;
                                    case 102:
                                        e.NowTimeUTC < c.ExtraInfo.jp_end_time && e.NowTimeUTC > c.ExtraInfo.jp_begin_time && (i = "Mission/" + s + "900004_RankBonus")
                                }
                                "" != i && -1 === n.indexOf(i) && n.push(i)
                            }
                            for (a = 0; a < n.length; a++) {
                                var l = new v(n[a], !0);
                                this.m_arrResSet.push(l)
                            }
                        }
                    } catch (P) {}
                }, e.prototype.SocketErrorClose = function() {
                    confirm(SS.Common.GameEnvironment.ErrorMsg.C64 + "  C64") && location.replace(this.GetIndexURL())
                }, e.prototype.GetIndexURL = function() {
                    var t = "",
                        e = "",
                        o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                    return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../../" + t + "/?KioskDEV=" + o + e : "../../../../" + t + e
                }, r([b], e)
            }(cc.Component));
        o.GAME_APP = w, cc._RF.pop()
    }, {
        "../LobbyCommon/EventModule/EventModule": "EventModule",
        "../LobbyCommon/FullScreenHandler": "FullScreenHandler",
        "../LobbyCommon/Helper/Download": "Download",
        "../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../LobbyCommon/Helper/LayerSystem": "LayerSystem",
        "../LobbyCommon/Helper/Setting": "Setting",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/LobbyCommon": "LobbyCommon",
        "../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    GDC_APP: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "02ca2iMFqtLDLAufmAwMZ8r", "GDC_APP");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GDC_APP = void 0;
        var c = t("./Loading/Script/LoadingMgr"),
            l = t("./Net/Downloader/ProjectSettingDownloader"),
            u = t("./Net/Downloader/ModuleDownloader"),
            m = t("./PopupMessage/Script/PopupMsgMgr"),
            p = t("./Net/Downloader/VersionDownloader"),
            h = t("./Component/GlobalData"),
            d = t("./Net/Downloader/GameMsgDownloader"),
            _ = t("./Net/Downloader/ErrorMsgDownloader"),
            g = t("./SwipeMgr/Scripts/Device"),
            y = t("./LobbyCommon"),
            f = t("./Helper/Download"),
            S = t("./Helper/Setting"),
            C = t("./Helper/LayerSystem"),
            v = t("./FullScreenHandler"),
            P = cc._decorator,
            b = P.ccclass;
        P.property, cc.macro.CLEANUP_IMAGE_CACHE = !0;
        var w = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.tmpS3HOST = "", e.isInit = !1, e
            }
            return i(e, t), e.prototype.start = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, o, n, i, r, s, l, u, p, h, d, _;
                    return a(this, function(a) {
                        switch (a.label) {
                            case 0:
                                return this.isInit ? [2] : (window.StartIframe = {}, this.isInit = !0, t = document.getElementById("splash"), e = document.getElementById("splash-div"), [4, this.LoadClientConfig().catch(function(t) {
                                    o = t, console.error(t), m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C01", "InitializeScene", t), e && (e.style.display = "none")
                                })]);
                            case 1:
                                return a.sent(), o ? [2] : [4, this.DownloadProjectSetting().catch(function(t) {
                                    o = t, console.error(t), m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C02", "InitializeScene", t), e && (e.style.display = "none")
                                })];
                            case 2:
                                return a.sent(), o ? [2] : [4, this.DownloadLobbyModule().catch(function(t) {
                                    console.error(t), o = t, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C03", "InitializeScene", t), e && (e.style.display = "none")
                                })];
                            case 3:
                                return a.sent(), o ? [2] : [4, this.DownloadErrorMsgByLan().catch(function(t) {
                                    o = t, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C39", "InitializeScene", t), e && (e.style.display = "none")
                                })];
                            case 4:
                                return a.sent(), o ? [2] : [4, this.DownloadGameMsgByLan().catch(function(t) {
                                    o = t, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C40", "InitializeScene", t), e && (e.style.display = "none")
                                })];
                            case 5:
                                return a.sent(), o ? [2] : (SS.Common.GameEnvironment.S3URL = window.location.protocol + "//" + this.tmpS3HOST, [4, S.default.CheckInit()]);
                            case 6:
                                a.sent(), C.default.Init(), n = S.default.GetSetting("Lobby").Dependency, i = 0, r = n, a.label = 7;
                            case 7:
                                return i < r.length ? (s = r[i], [4, f.Download.Bundle(s)]) : [3, 10];
                            case 8:
                                a.sent(), a.label = 9;
                            case 9:
                                return i++, [3, 7];
                            case 10:
                                return [4, y.LobbyCommon.Instance.InitAfterModuleDownload()];
                            case 11:
                                return a.sent(), m.PopupMsgMgr.Instance.SetPopupMsgTitle(), null != SS.Common.GameEnvironment.OriginalSplashSRC && null != SS.Common.GameEnvironment.OriginalSplashSRC || (SS.Common.GameEnvironment.OriginalSplashSRC = t.src), null != SS.Common.GameEnvironment.OriginalSplashSRC && (null != SS.Common.GameEnvironment.verticalSplashSRC && null != SS.Common.GameEnvironment.verticalSplashSRC || (l = SS.Common.GameEnvironment.OriginalSplashSRC.substr(0, SS.Common.GameEnvironment.OriginalSplashSRC.lastIndexOf("/")), u = l + "/verticalsplash.jpg", SS.Common.GameEnvironment.verticalSplashSRC = u)), g.Device.init(window), SS.Common.GameEnvironment.Splash = t, "" == (p = this.GetChangeToGameName()) || null == p || null == p ? (cc.log("[GDC_APP] start(), splash = null? , " + t), e && (e.style.display = "none"), cc.log("[GDC_APP] start(), splash = " + t), c.LoadingMgr.Instance.OpenLoading(), h = "0", JSUtility.IsSupportLocalStorage() ? h = localStorage.getItem("IS_RELOAD") : JSUtility.IsSupportCookie() && (h = JSUtility.GetCookie("IS_RELOAD")), h ? c.LoadingMgr.Instance.SetProgress(7, 5) : c.LoadingMgr.Instance.SetProgress(40, 5), (d = cc.view.getFrameSize().clone()).width > d.height ? c.LoadingMgr.Instance.SetScreenOrientation(v.Orientation.Landscape) : c.LoadingMgr.Instance.SetScreenOrientation(v.Orientation.Portrait)) : SS.Common.GameEnvironment.ChangeToGameName = p, SS.Common.GameEnvironment.IgnoreVersionCtrl ? [3, 13] : [4, this.DownloadLobbyVersion().catch(function(t) {
                                    o = t, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C04", "InitializeScene", t), e && (e.style.display = "none")
                                })];
                            case 12:
                                if (a.sent(), o) return [2];
                                a.label = 13;
                            case 13:
                                return JSUtility.FullScreen.ListenerFullScreenChange(), _ = SS.Common.GameEnvironment.Language + "Login", cc.assetManager.bundles.find(function(t) {
                                    return t._config.getSceneInfo(_)
                                }) ? cc.director.loadScene(_) : cc.director.loadScene("Login"), [2]
                        }
                    })
                })
            }, e.prototype.GetChangeToGameName = function() {
                var t;
                return JSUtility.IsSupportLocalStorage() ? (t = localStorage.getItem("changeToGameName"), localStorage.setItem("changeToGameName", "")) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie("changeToGameName"), document.cookie = "changeToGameName=;"), t
            }, e.prototype.LoadClientConfig = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    cc.loader.loadRes("config", function(n, i) {
                                        if (n) o(n);
                                        else try {
                                            var r = i.json;
                                            if (r && r.hasOwnProperty("Debug")) {
                                                h.GlobalData.isDeveloper = !0, h.GlobalData.IsCompress = !1;
                                                var s = r.Debug;
                                                s.hasOwnProperty("UserID") && (h.GlobalData.tmpUserID = s.UserID), s.hasOwnProperty("UserPassword") && (h.GlobalData.tmpUserPW = s.UserPassword), s.hasOwnProperty("isScoreBox") && (h.GlobalData.tmpCustomScoreBoxStatus = s.isScoreBox), s.hasOwnProperty("isPrizeViewer") && (h.GlobalData.tmpCustomPrizeViewerStatus = s.isPrizeViewer), s.hasOwnProperty("LogoMode") && (window.gd_LogoMode = s.LogoMode), s.hasOwnProperty("NowLOGO") && (window.gd_nowLOGO = s.NowLOGO)
                                            } else r && r.hasOwnProperty("IsCompress") ? h.GlobalData.IsCompress = r.IsCompress : h.GlobalData.IsCompress = !0;
                                            t.tmpVersion = r.Version, t.tmpS3HOST = window.location.host+'/games/FishWonderCatPGD', h.GlobalData.S3Host = t.tmpS3HOST, e(i)
                                        } catch (a) {
                                            o(a)
                                        }
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, e.prototype.DownloadErrorMsgByLan = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    var n;
                                    n = t.tmpProjectSetting.CDN_HOST ? window.location.protocol + "//" + t.tmpProjectSetting.CDN_HOST : "../../..", (new _.ErrorMsgDownloader).Start(n + "/Message/" + SS.Common.GameEnvironment.Language, function(t) {
                                        try {
                                            SS.Common.GameEnvironment.ErrorMsg = t, e(t)
                                        } catch (n) {
                                            o(n)
                                        }
                                    }, function(t) {
                                        o(t)
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, e.prototype.DownloadGameMsgByLan = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    var n;
                                    n = t.tmpProjectSetting.CDN_HOST ? window.location.protocol + "//" + t.tmpProjectSetting.CDN_HOST : "../../..", (new d.GameMsgDownloader).Start(n + "/Message/" + SS.Common.GameEnvironment.Language, function(t) {
                                        try {
                                            SS.Common.GameEnvironment.GameMsg = t, e(t)
                                        } catch (n) {
                                            o(n)
                                        }
                                    }, function(t) {
                                        o(t)
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, e.prototype.DownloadLobbyVersion = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    var n = t.tmpProjectSetting.Modules.Lobby.Path;
                                    (new p.VersionDownloader).Start(window.location.protocol + "//" + t.tmpS3HOST + n, function(n) {
                                        try {
                                            t.CheckVersion(n, e)
                                        } catch (i) {
                                            o(i)
                                        }
                                    }, function(t) {
                                        o(t)
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, e.prototype.CheckVersion = function(t, e) {
                var o, n = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV"),
                    i = SS.Common.GameEnvironment.ProjectSetting;
                n && i.KioskDEVs.includes(SS.Common.BaseFunction.SHA1(n)) && (SS.Common.GameEnvironment.IgnoreVersionCtrl = !0), o = t.Version, SS.Common.GameEnvironment.IgnoreVersionCtrl ? console.log("IgnoreVersionCtrl , client version : ", this.tmpVersion) : t.Maintain.IsMaintainNow ? m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "C07", "InitializeScene", "maintain", null) : o != this.tmpVersion && location.replace(window.location.protocol + "//" + window.location.hostname), SS.Common.GameEnvironment.LobbyVersion = this.tmpVersion, e()
            }, e.prototype.DownloadProjectSetting = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    var n, i = "/" + window.gd_nowLOGO + "ProjectSetting";
                                    n = h.GlobalData.IsCompress ? window.location.protocol + "//" + t.tmpS3HOST + i + ".txt" : window.location.protocol + "//" + t.tmpS3HOST + i + ".json", (new l.ProjectSettingDownloader).Start(n, !h.GlobalData.IsCompress, function(o) {
                                        t.tmpProjectSetting = o, e(null)
                                    }, function(t) {
                                        o(t)
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, e.prototype.DownloadLobbyModule = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return a(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, new Promise(function(e, o) {
                                    (new u.ModuleDownloader).Start("Lobby", t.tmpProjectSetting, function() {
                                        SS.Common.GameEnvironment.IgnoreVersionCtrl = h.GlobalData.isDeveloper, SS.Common.GameEnvironment.Initialize(t.tmpProjectSetting, function() {
                                            e(null)
                                        }, function(t) {
                                            o(t)
                                        })
                                    }, function(t) {
                                        o(t)
                                    })
                                })];
                            case 1:
                                return e.sent(), [2]
                        }
                    })
                })
            }, r([b], e)
        }(cc.Component);
        o.GDC_APP = w, cc._RF.pop()
    }, {
        "./Component/GlobalData": "GlobalData",
        "./FullScreenHandler": "FullScreenHandler",
        "./Helper/Download": "Download",
        "./Helper/LayerSystem": "LayerSystem",
        "./Helper/Setting": "Setting",
        "./Loading/Script/LoadingMgr": "LoadingMgr",
        "./LobbyCommon": "LobbyCommon",
        "./Net/Downloader/ErrorMsgDownloader": "ErrorMsgDownloader",
        "./Net/Downloader/GameMsgDownloader": "GameMsgDownloader",
        "./Net/Downloader/ModuleDownloader": "ModuleDownloader",
        "./Net/Downloader/ProjectSettingDownloader": "ProjectSettingDownloader",
        "./Net/Downloader/VersionDownloader": "VersionDownloader",
        "./PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./SwipeMgr/Scripts/Device": "Device"
    }],
    GameBar: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5cfa0k63jNHBb7gKiA/nuRV", "GameBar");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameBar = void 0;
        var s = t("../../LobbyCommon/Component/NumberCountUp"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.NodeScoreBox = null, e.NodeCreadit = null, e.BtnPurchase = null, e.BtnPromptPurchase = null, e.BtnBetDown = null, e.BtnBetUp = null, e.AutoRoot = null, e.BtnAuto = null, e.NodeBtnAuto = null, e.BtnAutoStop = null, e.NodeBtnAutoStop = null, e.BtnTurbo = null, e.NodeBtnTurbo = null, e.BtnTurboStop = null, e.NodeBtnTurboStop = null, e.BtnSpin = null, e.NodeBtnSpin = null, e.BtnStop = null, e.NodeBtnStop = null, e.BtnStart = null, e.NodeBtnStart = null, e.BtnTake = null, e.NodeBtnTake = null, e.BtnFastSpin = null, e.NodeBtnFastSpin = null, e.BtnStopFastSpin = null, e.NodeBtnStopFastSpin = null, e.TextJPBet = null, e.TextGameBet = null, e.TextVersion = null, e.TextUserName = null, e.DownBarPrizeField = null, e.previewAloneNum = null, e.previewNum = null, e.previewContent = null, e.NumAnimGameWin = null, e.NumAnimWinning = null, e.NumAnimEntries = null, e.NumAnimCreadit = null, e.m_skipMachineId = !1, e
                }
                return i(e, t), e.prototype._start = function() {}, e.prototype._onLoad = function() {}, e.prototype._onDestroy = function() {}, e.prototype.Compose = function() {}, e.prototype.setVersion = function() {
                    var t = SS.Common.GameEnvironment.CurrentGameVersion;
                    "" == SS.Common.GameEnvironment.CurrentGameVersion && (t = "DEV_MODE"), this.TextVersion.string = "v." + t
                }, e.prototype.setUserName = function(t, e) {
                    if (void 0 === e && (e = 0), !this.m_skipMachineId) {
                        var o = t;
                        0 == e ? this.m_skipMachineId = !0 : o = o + "(" + e + ")", this.TextUserName.string = o
                    }
                }, e.prototype.GetWinningScore = function() {
                    var t = this.NumAnimWinning.GetLabelContent().replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?]/g, "");
                    return Number(t)
                }, e.prototype.GetCreditScore = function() {
                    var t = this.NumAnimCreadit.GetLabelContent().replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?]/g, "");
                    return Number(t)
                }, r([l(cc.Node)], e.prototype, "NodeScoreBox", void 0), r([l(cc.Node)], e.prototype, "NodeCreadit", void 0), r([l(cc.Button)], e.prototype, "BtnPurchase", void 0), r([l(cc.Button)], e.prototype, "BtnPromptPurchase", void 0), r([l(cc.Button)], e.prototype, "BtnBetDown", void 0), r([l(cc.Button)], e.prototype, "BtnBetUp", void 0), r([l(cc.Node)], e.prototype, "AutoRoot", void 0), r([l(cc.Button)], e.prototype, "BtnAuto", void 0), r([l(cc.Node)], e.prototype, "NodeBtnAuto", void 0), r([l(cc.Button)], e.prototype, "BtnAutoStop", void 0), r([l(cc.Node)], e.prototype, "NodeBtnAutoStop", void 0), r([l(cc.Button)], e.prototype, "BtnTurbo", void 0), r([l(cc.Node)], e.prototype, "NodeBtnTurbo", void 0), r([l(cc.Button)], e.prototype, "BtnTurboStop", void 0), r([l(cc.Node)], e.prototype, "NodeBtnTurboStop", void 0), r([l(cc.Button)], e.prototype, "BtnSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnSpin", void 0), r([l(cc.Button)], e.prototype, "BtnStop", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStop", void 0), r([l(cc.Button)], e.prototype, "BtnStart", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStart", void 0), r([l(cc.Button)], e.prototype, "BtnTake", void 0), r([l(cc.Node)], e.prototype, "NodeBtnTake", void 0), r([l(cc.Button)], e.prototype, "BtnFastSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnFastSpin", void 0), r([l(cc.Button)], e.prototype, "BtnStopFastSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStopFastSpin", void 0), r([l(cc.Label)], e.prototype, "TextJPBet", void 0), r([l(cc.Label)], e.prototype, "TextGameBet", void 0), r([l(cc.Label)], e.prototype, "TextVersion", void 0), r([l(cc.Label)], e.prototype, "TextUserName", void 0), r([l(cc.Node)], e.prototype, "DownBarPrizeField", void 0), r([l(cc.Label)], e.prototype, "previewAloneNum", void 0), r([l(cc.Label)], e.prototype, "previewNum", void 0), r([l(cc.Label)], e.prototype, "previewContent", void 0), r([l(s.NumberCountUp)], e.prototype, "NumAnimGameWin", void 0), r([l(s.NumberCountUp)], e.prototype, "NumAnimWinning", void 0), r([l(s.NumberCountUp)], e.prototype, "NumAnimEntries", void 0), r([l(s.NumberCountUp)], e.prototype, "NumAnimCreadit", void 0), r([c], e)
            }(cc.Component);
        o.GameBar = u, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/NumberCountUp": "NumberCountUp"
    }],
    GameJpMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "37a86YHHl5P9KeGiSoJxBxy", "GameJpMgr");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameJpMgr = void 0;
        var i = t("../../Net/LobbyClient"),
            r = cc._decorator,
            s = r.ccclass,
            a = (r.property, function() {
                function t() {
                    this.gameJpJson = {}, this.Event_GameJpBroadcast = null, this.Event_FishPlatformJpBroadcast = null, this.jpRate = -1, this.ratioRatio = -1, null == e.Instance && (e.Instance = this)
                }
                var e;
                return e = t, Object.defineProperty(t.prototype, "JPRate", {
                    get: function() {
                        return this.jpRate
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "JPRatioRatio", {
                    get: function() {
                        return this.ratioRatio
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype._onLoad = function() {
                    this.Event_GameJpBroadcast = new SS.Common.Delegate, this.Event_FishPlatformJpBroadcast = new SS.Common.Delegate, i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal.remove(this.ParseInGameJpVal, this), i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal.add(this.ParseInGameJpVal, this), i.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.ParsePlatformJpVal, this), i.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.ParsePlatformJpVal, this)
                }, t.SetInstance = function(t) {
                    e.Instance = t
                }, t.prototype.SendGetFishJP = function() {}, t.prototype.ClearGameJpBroadcastEvent = function() {
                    console.warn("[ClearGameJpBroadcastEvent]"), null != this.Event_GameJpBroadcast && this.Event_GameJpBroadcast.Length > 0 && this.Event_GameJpBroadcast.Clear()
                }, t.prototype.RemoveGameJpBroadcastEvent = function(t) {
                    console.warn("[RemoveGameJpBroadcastEvent]"), this.Event_GameJpBroadcast.Remove(t, this)
                }, t.prototype.RegisterGameJpBroadcastEvent = function(t) {
                    console.warn("[RegisterGameJpBroadcastEvent]"), this.Event_GameJpBroadcast.Insert(t, this)
                }, t.prototype.RemoveFishPlatformJpBroadcastEvent = function(t) {
                    this.Event_FishPlatformJpBroadcast.Remove(t, this)
                }, t.prototype.RegisterFishPlatformJpBroadcastEvent = function(t) {
                    this.Event_FishPlatformJpBroadcast.Insert(t, this)
                }, t.prototype.GetInGameJp = function(t) {
                    return this.gameJpJson[t]
                }, t.prototype.GetAllGameJp = function() {
                    return this.gameJpJson
                }, t.prototype.GetInGameJpArray = function(t, e) {
                    if (null != this.gameJpJson && this.gameJpJson.hasOwnProperty(t)) {
                        var o = this.gameJpJson[t],
                            n = o.jp_rate,
                            i = e ? o.ratio_rate : 1,
                            r = [];
                        return this.jpRate = n, this.ratioRatio = i, r.push(o.jp1 * n * i), r.push(o.jp2 * n * i), r.push(o.jp3 * n * i), r.push(o.jp4 * n * i), console.log(r), r
                    }
                }, t.prototype.ParseInGameJpVal = function(t) {
                    null != t && null != t && (console.warn("[ParseInGameJpVal]", t), this.gameJpJson = t, this.Event_GameJpBroadcast.Length > 0 && this.Event_GameJpBroadcast.Notify(t))
                }, t.prototype.ParsePlatformJpVal = function(t, e, o, n, i, r) {
                    console.error(" ParsePlatformJpVal", t, e, o, n, i, r), "Fish" == r && this.Event_FishPlatformJpBroadcast.Length > 0 && this.Event_FishPlatformJpBroadcast.Notify(t, i)
                }, t.Instance = null, e = n([s], t)
            }());
        o.GameJpMgr = a, cc._RF.pop()
    }, {
        "../../Net/LobbyClient": "LobbyClient"
    }],
    GameMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "cd2a3Fr/7BK+o/o8DAz5guD", "GameMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameMgr = void 0;
        var c = t("../LobbyCommon/Net/LobbyClient"),
            l = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            u = t("../LobbyCommon/Net/Downloader/VersionDownloader"),
            m = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            h = t("../LobbyCommon/SwipeMgr/Scripts/Device"),
            d = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            _ = t("../LobbyCommon/Component/GlobalData"),
            g = cc._decorator,
            y = g.ccclass,
            f = g.property,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gameWebView = null, e.isFirstRunGameView = !0, e.loadIframeMaxCount = 2, e.curLoadIframeCount = 0, e.initReloadTime = 20, e.curReloadTime = 0, e.isStopUpdate = !1, e.isBackLobby = !1, e.mainLoopInterval = null, e.iframeLoopSrc = null, e.iframeLoadEmptyComplete = !1, e.iframeLoadGameComplete = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.isFirstRunGameView && (this.isFirstRunGameView = !1, SS.Common.GameEnvironment.SplashDiv || (SS.Common.GameEnvironment.SplashDiv = document.getElementById("splash-div")), this.gameName = SS.Common.GameEnvironment.CurrentGameNow, c.LobbyClient.Instance.OnGameLoadingOK = this.OnGameLoadingOK.bind(this), this.LoadWebView(SS.Common.GameEnvironment.CurrentGameVersion), c.LobbyClient.Instance.ReloadGame = this.ReloadGame.bind(this), c.LobbyClient.Instance.ReloadLobby = this.ReloadLobby.bind(this))
                }, e.prototype.onDestroy = function() {
                    c.LobbyClient.Instance.ReloadGame = null, c.LobbyClient.Instance.ReloadLobby = null, c.LobbyClient.Instance.OnGameMaintain = null, c.LobbyClient.Instance.OnGameUpdateVersion = null, c.LobbyClient.Instance.OnGameLoadingOK = null
                }, e.prototype.OnGameLoadingOK = function() {
                    this.isStopUpdate = !0
                }, e.prototype.ReloadLobby = function() {
                    console.log("[GameMgr.ReloadLobby]"), location.replace(this.GetIndexURL())
                }, e.prototype.GetIndexURL = function() {
                    var t = "",
                        e = "",
                        o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                    return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../../" + t + "/?KioskDEV=" + o + e : "../../../../" + t + e
                }, e.prototype.DestroyWebView = function(t, e) {
                    void 0 === e && (e = !1), this.mainLoopInterval && (clearInterval(this.mainLoopInterval), this.mainLoopInterval = null), this.iframe = null, this.iframeLoadEmptyComplete = !1;
                    var o = document.getElementById("splash"),
                        n = document.getElementById("splash-div");
                    SS.Common.GameEnvironment.Splash = o, SS.Common.GameEnvironment.SplashDiv = n;
                    var i = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                    c.LobbyClient.Instance.GetUserClient.SendSessionLengthEnd(i, null), n && (n.style.display = "block"), e && l.LoadingMgr.Instance.OpenLoading(), window.clearTimeout(this.loadVersionTimeoutID);
                    var r = this,
                        s = function() {
                            if (!r.iframeLoadEmptyComplete) {
                                if (console.log("setIframeSrc "), !r.gameWebView) return;
                                r.gameWebView.node.active = !0, r.gameWebView.url = "about:blank", setTimeout(s, 2e3)
                            }
                        };
                    this.gameWebView.node.once("loaded", function() {
                        r.iframeLoadEmptyComplete = !0, t()
                    }), this.gameWebView.node.once("error", function() {
                        console.error("self.gameWebView.url = about:blank error ... wait timeout reload"), setTimeout(s, 2e3)
                    }), r.iframeLoadEmptyComplete || setTimeout(s, 2e3)
                }, e.prototype.onLoadVersionSuccess = function(t) {
                    var e = this;
                    SS.Common.GameEnvironment.IgnoreVersionCtrl || (t.Maintain && t.Maintain.IsMaintainNow ? c.LobbyClient.Instance.OnGameMaintain && c.LobbyClient.Instance.OnGameMaintain() : SS.Common.GameEnvironment.CurrentGameVersion != t.Version ? c.LobbyClient.Instance.OnGameUpdateVersion && c.LobbyClient.Instance.OnGameUpdateVersion() : this.loadVersionTimeoutID = setTimeout(function() {
                        e.DownloadVersion(e.gameName, e.onLoadVersionSuccess.bind(e), e.onLoadVersionFail.bind(e))
                    }, 3e4))
                }, e.prototype.onLoadVersionFail = function(t) {
                    var e = this;
                    console.error("onLoadVersionFail : ", t), this.loadVersionTimeoutID = setTimeout(function() {
                        e.DownloadVersion(e.gameName, e.onLoadVersionSuccess.bind(e), e.onLoadVersionFail.bind(e))
                    }, 3e4)
                }, e.prototype.pollingGameVersion = function() {
                    var t = this;
                    SS.Common.GameEnvironment.IgnoreVersionCtrl || (this.loadVersionTimeoutID = setTimeout(function() {
                        t.DownloadVersion(t.gameName, t.onLoadVersionSuccess.bind(t), t.onLoadVersionFail.bind(t))
                    }, 3e4))
                }, e.prototype.onWebViewLoaded = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, o, n, i;
                        return a(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    console.log("[GameMgr] gameWebView Loaded !"), t.iframe = t.gameWebView._impl._iframe, e = .3, o = 0, n = 15, r.label = 1;
                                case 1:
                                    return t.iframeLoadGameComplete ? [3, 3] : [4, new Promise(function(t) {
                                        setTimeout(function() {
                                            t(null)
                                        }, 1e3 * e)
                                    })];
                                case 2:
                                    return r.sent(), null != t.iframe.contentWindow && t.iframe.contentWindow.StartIframeGame && (console.log("iframeLoadGameComplete= " + t.iframeLoadGameComplete), t.iframeLoadGameComplete = !0, t.isBackLobby = !1, i = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow), c.LobbyClient.Instance.GetUserClient.SendSessionLengthStart(i, null), null != t.iframeLoopSrc && clearTimeout(t.iframeLoopSrc), h.Device.init(t.iframe.contentWindow), t.iframe.contentWindow.StartIframeGame(SS, JSUtility, c.LobbyClient.Instance, ArkSDK, d.GameJpMgr.Instance, window.gd_nowLOGO), t.ExecuteResizeWebView(), cc.game.pause()), (o += e) >= n ? (null != t.iframeLoopSrc && clearTimeout(t.iframeLoopSrc), null != t.gameWebView && null != t.gameWebView.node && (t.gameWebView.node.active = !1), m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C30-2", "Lobby", "load webView error"), [3, 3]) : [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.LoadWebView = function(t) {
                    var e = this;
                    console.warn("[LoadWebView]");
                    var o = this;
                    this.curLoadIframeCount = 0, this.curReloadTime = this.initReloadTime, this.pollingGameVersion(), o.iframeLoadGameComplete = !1, o.gameWebView.node.once("loaded", function() {
                        e.onWebViewLoaded(o)
                    }), o.gameWebView.node.once("error", function(t) {
                        console.error("[GameMgr] Load webview error", t), e.gameWebView.node.active = !1, m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C30", e.gameName, "load webView error")
                    }), -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(this.gameName + c.GAME_STATUS.START_LOAD_PAGE) && (c.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, this.gameName, c.GAME_STATUS.START_LOAD_PAGE), SS.Common.GameEnvironment.SentGameFlowStatus.push(this.gameName + c.GAME_STATUS.START_LOAD_PAGE)), this.DisableWebViewScroll();
                    var n = function() {
                        o.iframeLoadGameComplete || (o.curLoadIframeCount <= o.loadIframeMaxCount ? (console.log("setIframeSrc"), o.curReloadTime += 10, o.gameWebView.url = o.GetGameURL(o.gameName, t), o.iframeLoopSrc = setTimeout(n, 1e3 * o.curReloadTime), o.curLoadIframeCount += 1) : (console.error("load webView error"), m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Warning, "C30-1", o.gameName, "load webView error")))
                    };
                    n(), console.warn("GameMgr.LoadWebView")
                }, e.prototype.DisableWebViewScroll = function() {
                    this.gameWebView._impl._iframe.style.overflow = "hidden", this.gameWebView._impl._iframe.style["-webkit-overflow"] = "", this.gameWebView._impl._iframe.style["-webkit-overflow-scrolling"] = ""
                }, e.prototype.ExecuteResizeWebView = function() {
                    null != this.gameWebView && (this.mainLoopInterval = setInterval(this.OnSetDirectorMainLoop.bind(this), 500))
                }, e.prototype.OnSetDirectorMainLoop = function() {
                    cc.director.mainLoop(null)
                }, e.prototype.update = function() {
                    if (this.isStopUpdate || c.LobbyClient.Instance.IsSocketErrorClose && !this.iframeLoadGameComplete && (this.isStopUpdate = !0, c.LobbyClient.Instance.IsSocketErrorClose = !1, this.SocketErrorClose()), !this.isBackLobby && this.iframe && "about:blank" == this.iframe.src) {
                        this.isBackLobby = !0;
                        var t = this;
                        this.DestroyWebView(function() {
                            return t.LoadLobbyScene()
                        }, !0)
                    }
                }, e.prototype.SocketErrorClose = function() {
                    var t = this;
                    this.DestroyWebView(function() {
                        t.gameWebView.node.active = !1, SS.Common.GameEnvironment.SplashDiv.style.display = "none", m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Disconnected, "C14", "Lobby", "The internet was diconnected.", function() {
                            p.ConnectPanelMgr.Instance.ShowConnectPanel();
                            var e, o, n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                            e = SS.Common.GameEnvironment.UserID, o = SS.Common.GameEnvironment.UserPW, c.LobbyClient.Instance.DoLogin(n, e, o, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                        })
                    }, !0)
                }, e.prototype.LoadLobbyScene = function() {
                    var t = SS.Common.GameEnvironment.Language + "Lobby";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Lobby");
                    var e = this;
                    _.GlobalData.LoadLobbySceneTimeOutID = setTimeout(function() {
                        _.GlobalData.LoadLobbySceneTimeOutID = -1, "Lobby" != cc.director.getScene().name && confirm(SS.Common.GameEnvironment.ErrorMsg.C64 + "  C64") && location.replace(e.GetIndexURL())
                    }, 9e4)
                }, e.prototype.DoLoginSuccess = function() {
                    p.ConnectPanelMgr.Instance.DisableConnectPanel(), this.LoadLobbyScene()
                }, e.prototype.DoLoginFail = function(t, e, o) {
                    p.ConnectPanelMgr.Instance.DisableConnectPanel(), console.log("LoginFail", e);
                    var n = t.toString();
                    "VerifyMobile" === o ? this.VerifyMobileFailHandle(t, e) : "DeviceLogin" === o ? this.DeviceLoginFailHandle(t, e) : "PinLogin" === o ? this.PinLoginFailHandle(t, e) : "BindSocket" === o ? (t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e)) : "ConnectWebSocket" === o && m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, "S172", "Login", e, null)
                }, e.prototype.ErrorHandler = function(t, e) {
                    m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Critical, t, "Lobby", e, null)
                }, e.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-4" == o || "-2" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, e.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o && (o = "S117")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : (t == ArkSDK.HttpResult.OK && (e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14"), t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127")), this.ErrorHandler(o, e))
                }, e.prototype.ReloadGame = function() {
                    var t = this;
                    this.DestroyWebView(function() {
                        t.LoadWebView(SS.Common.GameEnvironment.CurrentGameVersion)
                    })
                }, e.prototype.GetGameURL = function(t, e) {
                    var o, n = SS.Common.GameEnvironment.ProjectSetting;
                    o = n.CDN_HOST ? window.location.protocol + "//" + n.CDN_HOST : "../../..";
                    var i = t,
                        r = n.Modules[i].Path,
                        s = n.Modules[i].FileName;
                    if (!r) return console.error("Project setting is not exist game id: " + i), null;
                    var a = o + r + e + "/web-mobile/" + s;
                    return console.log("gameUrl : " + a), a
                }, e.prototype.DownloadVersion = function(t, e, o) {
                    return s(this, void 0, void 0, function() {
                        return a(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(n, i) {
                                        var r = SS.Common.GameEnvironment.ProjectSetting,
                                            s = SS.Common.GameEnvironment.S3URL;
                                        try {
                                            var a = r.Modules[t].Path;
                                            (new u.VersionDownloader).Start(s + a, function(t) {
                                                e(t), n()
                                            }, function(t) {
                                                o(t), i()
                                            })
                                        } catch (c) {
                                            console.error(c)
                                        }
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, r([f(cc.WebView)], e.prototype, "gameWebView", void 0), r([y], e)
            }(cc.Component);
        o.GameMgr = S, cc._RF.pop()
    }, {
        "../LobbyCommon/Component/GlobalData": "GlobalData",
        "../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    GameMsgDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2bd3024cQhO+I6DGqH6u3NH", "GameMsgDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameMsgDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t + "GameMsg" + SS.Common.GameEnvironment.ProjectSetting.GameMsgVersion + ".json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("GameMsgDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[GameMsgDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.GameMsgDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    GameSettingDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "41f38ZujO5K04N2x+pD0ffp", "GameSettingDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameSettingDownloader = void 0;
        var r = t("./Downloader"),
            s = t("jsonpack"),
            a = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnLoad = null, e.OnError = null, e
                }
                return i(e, t), e.prototype.Start = function(t, e, o, n) {
                    this.OnLoad = o, this.OnError = n, this._isDeveloper = e, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
                }, e.prototype.OnLoadComplete = function(t) {
                    try {
                        console.log(t);
                        var e = void 0;
                        if (this._isDeveloper) e = JSON.parse(t);
                        else {
                            var o = s.unpack(t);
                            console.log("[GameSettingDownloader] unpack : ", o), e = o.json
                        }
                        null != this.OnLoad && this.OnLoad(e)
                    } catch (n) {
                        console.error("[GameSettingDownloader] Load game setting failed.\n", n), null != this.OnError && this.OnError(n)
                    }
                }, e
            }(r.Downloader);
        o.GameSettingDownloader = a, cc._RF.pop()
    }, {
        "./Downloader": "Downloader",
        jsonpack: 3
    }],
    GetBonusShow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7bd5fYpheFNF7cLhvRjd/oT", "GetBonusShow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GetBonusShow = void 0;
        var s = t("../../Component/SpawnPool"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.spawnPool = null, e.coinPrefab = null, e.itemCount = 0, e.XreangeLevel = 0, e.jumpHeight = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    for (var t = 0; t < 10; t++) {
                        var e = cc.instantiate(this.coinPrefab);
                        e.parent = this.node, e.setPosition(new cc.Vec2(0, 0)), e.active = !1, this.spawnPool.Despawn(e)
                    }
                }, e.prototype.Show = function(t, e, o) {
                    for (var n = this, i = function(i) {
                            var s = r.spawnPool.Spawn(r.coinPrefab.data, r.node);
                            Math.random() > .5 ? s.setPosition(new cc.Vec2(t.x + Math.random() * r.XreangeLevel, t.y)) : s.setPosition(new cc.Vec2(t.x - Math.random() * r.XreangeLevel, t.y));
                            var a = .5 * Math.random();
                            r.scheduleOnce(function() {
                                s.active = !0
                            }, a);
                            var c = cc.sequence(cc.delayTime(a), cc.moveTo(.25, new cc.Vec2(s.getPosition().x, t.y + Math.random() * r.jumpHeight)), cc.moveTo(.15, new cc.Vec2(s.getPosition().x, t.y)), cc.delayTime(.15), cc.moveTo(.25, new cc.Vec2(s.getPosition().x, t.y + Math.random() * r.jumpHeight)), cc.moveTo(.15, new cc.Vec2(s.getPosition().x, t.y)), cc.delayTime(.15), cc.moveTo(.5, e), cc.callFunc(function() {
                                s.active = !1, n.spawnPool.Despawn(s), i == n.itemCount - 1 && null != o && o()
                            }));
                            s.runAction(c)
                        }, r = this, s = 0; s < this.itemCount; s++) i(s)
                }, r([l(s.SpawnPool)], e.prototype, "spawnPool", void 0), r([l(cc.Prefab)], e.prototype, "coinPrefab", void 0), r([l(cc.Integer)], e.prototype, "itemCount", void 0), r([l(cc.Float)], e.prototype, "XreangeLevel", void 0), r([l(cc.Float)], e.prototype, "jumpHeight", void 0), r([c], e)
            }(cc.Component);
        o.GetBonusShow = u, cc._RF.pop()
    }, {
        "../../Component/SpawnPool": "SpawnPool"
    }],
    GlobalData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5e2adP+z/dJ+4xxGOBRkK7U", "GlobalData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GlobalData = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), r([a], e)
            }(cc.Component));
        o.GlobalData = c, cc._RF.pop()
    }, {}],
    IdleState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "27ae9GtYchDEooBSss3st3d", "IdleState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.IdleState = void 0;
        var r = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            s = t("../../LobbyCommon/Net/LobbyClient"),
            a = t("../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../LobbyCommon/Component/AudioMgr"),
            l = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../LobbyCommon/Net/Downloader/VersionDownloader"),
            m = t("../../LobbyCommon/InGameJp/Script/GameJpMgr"),
            p = t("../../LobbyCommon/Helper/EventSystem"),
            h = t("../../LobbyCommon/Helper/Download"),
            d = t("../../LobbyCommon/FullScreenHandler"),
            _ = t("../../LobbyCommon/Helper/Setting"),
            g = function() {
                function t() {
                    this.tmpRepeatingMissionMgr = null, this.LOGIN_SCENE_NAME = "Login", this.GAME_SCENE_NAME = "Game", this.newsLogRecord = null, this.isFirstLogin = null, this.releaseBundle = null
                }
                return t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c IdleState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), this.isError = !1, this.isStopUpdate = !1, this.InitLobby(this.target.tmpTypeMapGameNameList), this.ListenModuleEvent(), this.ShowLobby()
                }, t.prototype.ShowLobby = function() {
                    "" != SS.Common.GameEnvironment.ChangeToGameName ? (console.log("GameJumpGame"), this.OnClickIcon(SS.Common.GameEnvironment.ChangeToGameName)) : (this.LoadAudioClip(), this.WaitFakeLoadingProgress()), cc.game.canvas.style.cursor = "default"
                }, t.prototype.LoadAudioClip = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function() {
                            return p.EventSystem.Event(p.Music.PlayMusic).Notify(), [2]
                        })
                    })
                }, t.prototype.Update = function() {
                    if (!this.isStopUpdate)
                        if (this.isError) this.isError = !1, this.isStopUpdate = !0, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Error, this.errorCode, "Lobby", this.reason);
                        else if (this.isChangeScene) {
                        console.warn("Execute ChangeScene"), this.isChangeScene = !1, c.AudioMgr.Instance.UncacheAudioClip(), null != m.GameJpMgr.Instance && m.GameJpMgr.Instance.ClearGameJpBroadcastEvent(), this.RemoveListenModuleEvent(), this.strNextScene == this.LOGIN_SCENE_NAME && (SS.Common.GameEnvironment.CurrentGameVersion = null);
                        var t = SS.Common.GameEnvironment.Language + this.strNextScene,
                            e = cc.assetManager.bundles.find(function(e) {
                                return e._config.getSceneInfo(t)
                            });
                        this.releaseBundle = this.ReleaseBundle.bind(this), cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH, this.releaseBundle), e ? cc.director.loadScene(t) : cc.director.loadScene(this.strNextScene)
                    } else if (s.LobbyClient.Instance && s.LobbyClient.Instance.GetLobbySystem && s.LobbyClient.Instance.GetLobbySystem.m_isPosKick) this.isStopUpdate = !0, s.LobbyClient.Instance.GetLobbySystem.m_isPosKick = !1, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S171", "Lobby", "PosKick");
                    else if (s.LobbyClient.Instance && s.LobbyClient.Instance.GetLobbySystem && -1 != s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin) {
                        var o = s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin;
                        s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin = -1;
                        var n = this;
                        clearTimeout(n.shutdownTimeoutID), console.log("wait " + o + "min for server to idle"), n.shutdownTimeoutID = setTimeout(function() {
                            n.isStopUpdate = !0, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S170", "Lobby", "maintain", null)
                        }, 6e4 * o)
                    } else s.LobbyClient.Instance && s.LobbyClient.Instance.IsSocketErrorClose && (this.isStopUpdate = !0, s.LobbyClient.Instance.IsSocketErrorClose = !1, this.SocketErrorClose())
                }, t.prototype.ReleaseBundle = function() {
                    cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH, this.releaseBundle), this.releaseBundle = null, console.log("Lobby Release Bundle Start!\n Now Bundles: " + cc.assetManager.bundles.count);
                    var t = _.default.GetSetting("LobbyMgr").Module;
                    h.Download.ReleaseBundles(t), cc.sys.garbageCollect(), console.log("Lobby Release Bundle Finished!\n Now Bundles: " + cc.assetManager.bundles.count)
                }, t.prototype.SocketErrorClose = function() {
                    var t = this;
                    l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Disconnected, "C14", "Lobby", "The internet was diconnected.", function() {
                        a.ConnectPanelMgr.Instance.ShowConnectPanel();
                        var e, o, n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        e = SS.Common.GameEnvironment.UserID, o = SS.Common.GameEnvironment.UserPW, s.LobbyClient.Instance.DoLogin(n, e, o, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                    })
                }, t.prototype.DoLoginSuccess = function() {
                    a.ConnectPanelMgr.Instance.DisableConnectPanel(), this.isStopUpdate = !1
                }, t.prototype.DoLoginFail = function(t, e, o) {
                    a.ConnectPanelMgr.Instance.DisableConnectPanel(), console.log("LoginFail", e);
                    var n = t.toString();
                    "VerifyMobile" === o ? this.VerifyMobileFailHandle(t, e) : "DeviceLogin" === o ? this.DeviceLoginFailHandle(t, e) : "PinLogin" === o ? this.PinLoginFailHandle(t, e) : "BindSocket" === o ? (t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e)) : "ConnectWebSocket" === o && l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S172", "Lobby", e, null)
                }, t.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14") : t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127"), this.ErrorHandler(o, e)
                }, t.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-4" == o || "-2" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, t.prototype.ErrorHandler = function(t, e) {
                    l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, t, "Lobby", e, null)
                }, t.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o && (o = "S117")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c IdleState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.ListenModuleEvent = function() {
                    console.warn("[ListenModuleEvent]"), s.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this), s.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.add(this.RecvVersionkCmd, this), p.EventSystem.Event(p.Account.Close).Insert(this.OnAccountClickClose, this), p.EventSystem.Event(p.Account.EditPassword).Insert(this.OnClickPWDEdit, this), p.EventSystem.Event(p.Account.EditMobileID).Insert(this.OnClickIDEdit, this), p.EventSystem.Event(p.Password.EditOk).Insert(this.OnEditPWDClickOK, this), p.EventSystem.Event(p.Password.EditClose).Insert(this.OnEditPWDClickClose, this), p.EventSystem.Event(p.MobileID.EditOk).Insert(this.OnEditMobileIDClickOK, this), p.EventSystem.Event(p.MobileID.EditClose).Insert(this.OnEditMobileIDClickClose, this), p.EventSystem.Event(p.SkillGame.OnClickClose).Insert(this.OnSkillGameClickClose, this), p.EventSystem.Event(p.DockFunction.Account).Insert(this.OnClickAccount, this), p.EventSystem.Event(p.DockFunction.Logout).Insert(this.OnClickLogout, this), p.EventSystem.Event(p.DockFunction.JPHistory).Insert(this.OnClickJPHistory, this), p.EventSystem.Event(p.DockFunction.Open).Insert(this.OpenMenu, this), p.EventSystem.Event(p.DockFunction.Close).Remove(this.CloseMenu, this), p.EventSystem.Event(p.DockFunction.Sound).Insert(this.OnClickSound, this), p.EventSystem.Event(p.DockFunction.FullScreen).Insert(this.OnClickFullScreen, this), p.EventSystem.Event(p.DockFunction.News).Insert(this.OnClickNews, this), p.EventSystem.Event(p.JackpotWinner.OnClickClose).Insert(this.OnJPWinnerCloseClose, this)
                }, t.prototype.RemoveListenModuleEvent = function() {
                    s.LobbyClient.Instance.GetJPSystem && s.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this), s.LobbyClient.Instance.GetLobbySystem && s.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.remove(this.RecvVersionkCmd, this), p.EventSystem.Event(p.Icon.ClickIcon).Remove(this.OnClickIcon, this), p.EventSystem.Event(p.Type.ClickType).Remove(this.OnClickGameType, this), p.EventSystem.Event(p.Account.Close).Remove(this.OnAccountClickClose, this), p.EventSystem.Event(p.Account.EditPassword).Remove(this.OnClickPWDEdit, this), p.EventSystem.Event(p.Account.EditMobileID).Remove(this.OnClickIDEdit, this), p.EventSystem.Event(p.Password.EditOk).Remove(this.OnEditPWDClickOK, this), p.EventSystem.Event(p.Password.EditClose).Remove(this.OnEditPWDClickClose, this), p.EventSystem.Event(p.MobileID.EditOk).Remove(this.OnEditMobileIDClickOK, this), p.EventSystem.Event(p.MobileID.EditClose).Remove(this.OnEditMobileIDClickClose, this), p.EventSystem.Event(p.SkillGame.OnClickClose).Remove(this.OnSkillGameClickClose, this), p.EventSystem.Event(p.DockFunction.Account).Remove(this.OnClickAccount, this), p.EventSystem.Event(p.DockFunction.Logout).Remove(this.OnClickLogout, this), p.EventSystem.Event(p.DockFunction.JPHistory).Remove(this.OnClickJPHistory, this), p.EventSystem.Event(p.DockFunction.Open).Remove(this.OpenMenu, this), p.EventSystem.Event(p.DockFunction.Close).Remove(this.CloseMenu, this), p.EventSystem.Event(p.DockFunction.Sound).Remove(this.OnClickSound, this), p.EventSystem.Event(p.DockFunction.FullScreen).Remove(this.OnClickFullScreen, this), p.EventSystem.Event(p.DockFunction.News).Remove(this.OnClickNews, this), p.EventSystem.Event(p.JackpotWinner.OnClickClose).Remove(this.OnJPWinnerCloseClose, this), this.target.node.targetOff(this), this.target.bulletinBoardNode && this.target.bulletinBoardNode.targetOff(this)
                }, t.prototype.RecvVersionkCmd = function(t) {
                    console.log("RecvVersionkCmd : ", SS.Common.GameEnvironment.IgnoreVersionCtrl), SS.Common.GameEnvironment.IgnoreVersionCtrl || t != SS.Common.GameEnvironment.LobbyVersion && (this.RemoveListenModuleEvent(), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "C08", "Lobby", "updateVersion", null))
                }, t.prototype.RecvJPValCmd = function(t, e, o, n, i, r) {
                    "Slot" == r && (SS.Common.GameEnvironment.exchange_rate = i, p.EventSystem.Event(p.TopBar.ChangeJPVal).Notify(t, e, o, n, !0))
                }, t.prototype.InitLobby = function(t) {
                    return n(this, void 0, void 0, function() {
                        var e, o, n, r, s, a;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    console.warn("[InitLobby]"), i.label = 1;
                                case 1:
                                    if (i.trys.push([1, 6, , 7]), this.isFirstLogin = this.target.CheckCookieValue("login_clicked", "1"), p.EventSystem.Event(p.Type.InitGameType).Notify(t), p.EventSystem.Event(p.Icon.ClickIcon).Insert(this.OnClickIcon, this), p.EventSystem.Event(p.Type.ClickType).Insert(this.OnClickGameType, this), p.EventSystem.Event(p.Menu.SetDisableMenuButton).Notify(SS.Common.GameEnvironment.GameSetting.DisableMenuBtn), p.EventSystem.Event(p.TopBar.SetJPValShowFormat).Notify(SS.Common.GameEnvironment.TopBarJPIsMoneyFormat), p.EventSystem.Event(p.JackpotWinner.SetJpValueFormat).Notify(SS.Common.GameEnvironment.JPWinnerIsMoneyFormat), p.EventSystem.Event(p.DownBar.SetPlayerInfo).Notify(this.target.UserEntries, this.target.UserWinnings), p.EventSystem.Event(p.DownBar.ToggleScorebox).Notify(), p.EventSystem.Event(p.AccountInfo).Notify(SS.Network.LoginModel.LoginInfo.user_id, SS.Network.LoginModel.LoginInfo.machine_id), this.setEventPopUpAndBanner(), e = null, SS.Common.GameEnvironment.LobbyVersion && (e = "v." + SS.Common.GameEnvironment.LobbyVersion), e || (e = "DEV MODE"), p.EventSystem.Event(p.Version).Notify(e), p.EventSystem.Event(p.Menu.SetMenuStatus).Notify(p.MenuStatus.InLobbyNormal), SS.Common.GameEnvironment.IgnoreVersionCtrl || console.clear(), cc.warn("%c console.clear()", "font-size:24px"), cc.sys.garbageCollect(), this.target.SetCookieValue("login_clicked", "0"), !p.EventSystem.Event(p.LobbyState.EnterLobby).Length) return [3, 5];
                                    o = _.default.GetSetting("Lobby").EnterLobby.Order, n = 0, r = o, i.label = 2;
                                case 2:
                                    return n < r.length ? (s = r[n], [4, this.OnEnterLobby(s)]) : [3, 5];
                                case 3:
                                    i.sent(), i.label = 4;
                                case 4:
                                    return n++, [3, 2];
                                case 5:
                                    return [3, 7];
                                case 6:
                                    return a = i.sent(), this.isError = !0, this.reason = a, this.errorCode = "C13", console.error(a), [3, 7];
                                case 7:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.setEventPopUpAndBanner = function() {
                    this.target.popUpMgr.rulePageNoCallback = this.DoLogout.bind(this)
                }, t.prototype.WaitFakeLoadingProgress = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return console.warn("[WaitFakeLoadingProgress]"), p.EventSystem.Event(p.ScreenOrientationState.SetOrientation).Notify(d.Orientation.Auto), r.LoadingMgr.Instance.SetProgress(100), [4, SS.Common.WaitForSeconds(.5)];
                                case 1:
                                    return t.sent(), this.target.unscheduleAllCallbacks(), -1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(s.LOBBY_STATUS.INTO_LOBBY_OK) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", s.LOBBY_STATUS.INTO_LOBBY_OK), SS.Common.GameEnvironment.SentFlowStatus.push(s.LOBBY_STATUS.INTO_LOBBY_OK)), r.LoadingMgr.Instance.CloseLoading(), [2]
                            }
                        })
                    })
                }, t.prototype.OnEnterLobby = function(t) {
                    return n(this, void 0, void 0, function() {
                        var e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    e = !0, p.EventSystem.Event(p.LobbyState.EnterLobby).Notify(t, this.isFirstLogin, function() {
                                        e = !1
                                    }), o.label = 1;
                                case 1:
                                    return e ? [4, SS.Common.WaitForSeconds(.25)] : [3, 3];
                                case 2:
                                    return o.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.OnClickSound = function(t) {
                    t ? c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1) : c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), c.AudioMgr.Instance.SetMute(t)
                }, t.prototype.OnClickFullScreen = function(t) {
                    t ? c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1) : c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OpenMenu = function() {
                    c.AudioMgr.Instance.Play("Btn_Confirm_openwindow_v02", !1, 1)
                }, t.prototype.CloseMenu = function() {
                    c.AudioMgr.Instance.Play("Beep_CloseWindow_v02", !1, 1)
                }, t.prototype.OnOpenNews = function() {
                    console.log("%c[IdleState]OnOpenNews()", "font-weight:bold;"), this.target.bulletinBoardNode && !this.target.bulletinBoardNode.active && (this.target.bulletinBoardNode.active = !0, this.newsLogRecord || (this.newsLogRecord = {}), this.newsLogRecord.open_time = Date.now())
                }, t.prototype.OnClickNews = function() {
                    this.target.bulletinBoardNode && !this.target.bulletinBoardNode.active && (c.AudioMgr.Instance.Play("Btn_Confirm_openwindow_v02", !1, 1), this.OnOpenNews(), this.newsLogRecord || (this.newsLogRecord = {}), this.newsLogRecord.click = !0, s.LobbyClient.Instance.GetUserClient.recordClickLog("NewsClickEnterIcon", 0))
                }, t.prototype.OnClickPWDEdit = function() {
                    var t = this;
                    c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), p.EventSystem.Event(p.Password.Edit).Notify(function() {
                        JSUtility.IsSupportLocalStorage() ? localStorage.setItem("GDC_USER_PW", "") : JSUtility.IsSupportCookie() && (document.cookie = "GDC_USER_PW=;"), a.ConnectPanelMgr.Instance.DisableConnectPanel(), t.DoLogout(0)
                    })
                }, t.prototype.OnClickIDEdit = function() {
                    var t = this;
                    c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var e = SS.Network.LoginModel.LoginInfo.user_id;
                    p.EventSystem.Event(p.MobileID.Edit).Notify(function() {
                        JSUtility.IsSupportLocalStorage() ? (localStorage.setItem("GDC_USER_ID", ""), localStorage.setItem("GDC_USER_PW", "")) : JSUtility.IsSupportCookie() && (document.cookie = "GDC_USER_ID=;", document.cookie = "GDC_USER_PW=;"), a.ConnectPanelMgr.Instance.DisableConnectPanel(), r.LoadingMgr.Instance.OpenLoading(), t.DoLogout(0)
                    }, e)
                }, t.prototype.OnClickAccount = function() {
                    c.AudioMgr.Instance.Play("open_page", !1, 1);
                    var t = SS.Network.LoginModel.LoginInfo.user_id;
                    p.EventSystem.Event(p.Account.Show).Notify(t)
                }, t.prototype.OnClickLogout = function() {
                    c.AudioMgr.Instance.Play("logout", !1, 1), this.target.isEnableSkillGame && this.target.UserWinnings > 0 ? p.EventSystem.Event(p.ShowLogoutSkillGame).Notify(this.target.UserWinnings, this.target.skillGamelostRate, this.DoLogout.bind(this)) : this.DoLogout()
                }, t.prototype.DoLogout = function(t) {
                    return void 0 === t && (t = 0), n(this, void 0, void 0, function() {
                        var e, o, n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    r.LoadingMgr.Instance.OpenLoading(), e = p.EventSystem.Event(p.LobbyState.Logout).Length, o = !1, p.EventSystem.Event(p.LobbyState.Logout).Notify(function() {
                                        0 == --e && (o = !0)
                                    }), i.label = 1;
                                case 1:
                                    return o ? [4, SS.Common.WaitForSeconds(.25)] : [3, 3];
                                case 2:
                                    return i.sent(), [3, 1];
                                case 3:
                                    return s.LobbyClient.Instance.DoLogout(function() {
                                        n.isChangeScene = !0, n.strNextScene = n.LOGIN_SCENE_NAME
                                    }, function(t, e) {
                                        console.error("DoLogout error Status : " + t, "data :", e), n.isChangeScene = !0, n.strNextScene = n.LOGIN_SCENE_NAME
                                    }, t), [2]
                            }
                        })
                    })
                }, t.prototype.OnClickJPHistory = function() {
                    p.EventSystem.Event(p.JackpotWinner.Show).Notify()
                }, t.prototype.DownloadVersion = function(t, e, o) {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return console.warn("[DownloadVersion]"), [4, new Promise(function(n, i) {
                                        var r = SS.Common.GameEnvironment.ProjectSetting,
                                            s = SS.Common.GameEnvironment.S3URL;
                                        try {
                                            var a = r.Modules[t].Path;
                                            (new u.VersionDownloader).Start(s + a, function(t) {
                                                e(t), n(t)
                                            }, function(t) {
                                                o(t), i()
                                            })
                                        } catch (c) {
                                            console.error(c)
                                        }
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.onLoadVersionSuccess = function(t) {
                    var e;
                    console.log("onLoadVersionSuccess jsonData :", t);
                    var o = !1;
                    SS.Common.GameEnvironment.IgnoreVersionCtrl ? (e = t.VersionDEV ? t.VersionDEV : t.Version, a.ConnectPanelMgr.Instance.DisableConnectPanel()) : t.Maintain.IsMaintainNow ? (o = !0, a.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.CloseCSSLogoPage(), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "C07", "Lobby", "maintain", null)) : e = t.Version, this.loadpagePath = "", SS.Common.GameEnvironment.CurrentGameVersion = e, o || (this.SetOrientation(), this.DownloadCustomLoadpage())
                }, t.prototype.SetOrientation = function() {
                    var t = !1;
                    SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow) && (t = !0), t ? p.EventSystem.Event(p.ScreenOrientationState.SetOrientation).Notify(d.Orientation.Portrait, !1) : p.EventSystem.Event(p.ScreenOrientationState.SetOrientation).Notify(d.Orientation.Landscape, !1), window.gd_orientationType = t ? 1 : 0, p.EventSystem.Event(p.ScreenOrientationState.CheckOrientation).Notify()
                }, t.prototype.DownloadCustomLoadpage = function() {
                    this.loadpagePath = this.GetGameLoadPage(SS.Common.GameEnvironment.CurrentGameNow, SS.Common.GameEnvironment.CurrentGameVersion), console.warn(this.loadpagePath);
                    var t = this,
                        e = new Image;
                    e.onload = function() {
                        console.log("[IdleState] OnFinsihLoadpage !!"), t.target.scheduleOnce(function() {
                            if (t.target.unschedule(t.OnErrorLoadpage.bind(t)), SS.Common.GameEnvironment.ChangeToGameName) SS.Common.GameEnvironment.Splash = document.getElementById("splash");
                            else {
                                var o = document.getElementById("splash"),
                                    n = document.getElementById("splash-div");
                                o.src = e.src, n && (n.style.display = "block"), SS.Common.GameEnvironment.Splash = o, SS.Common.GameEnvironment.SplashDiv = n
                            }
                            t.FinishLoadPage()
                        }, .5)
                    }, e.onerror = function() {
                        t.target.unschedule(t.OnErrorLoadpage.bind(t)), t.OnErrorLoadpage()
                    }, e.src = this.loadpagePath, this.target.scheduleOnce(this.OnErrorLoadpage.bind(this), 60)
                }, t.prototype.OnErrorLoadpage = function() {
                    var t = this;
                    console.log("OnErrorLoadpage !!"), SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow) ? this.DownloadVerticalLoadpage() : (window.gd_orientationType = 2, p.EventSystem.Event(p.ScreenOrientationState.CheckOrientation).Notify(), this.target.scheduleOnce(function() {
                        SS.Common.GameEnvironment.Splash = document.getElementById("splash"), SS.Common.GameEnvironment.SplashDiv = document.getElementById("splash-div"), t.FinishLoadPage()
                    }, .5))
                }, t.prototype.SetSplashScale = function() {
                    var t = SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow);
                    SS.Common.GameEnvironment.Splash && (t ? (SS.Common.GameEnvironment.Splash.style.width = "100%", SS.Common.GameEnvironment.Splash.style.height = "auto") : (SS.Common.GameEnvironment.Splash.style.width = "auto", SS.Common.GameEnvironment.Splash.style.height = "100%"))
                }, t.prototype.DownloadVerticalLoadpage = function() {
                    var t = this,
                        e = new Image;
                    e.onload = function() {
                        console.log("OnFinsih Default Vertical_Loadpage!!"), window.gd_orientationType = 1, p.EventSystem.Event(p.ScreenOrientationState.CheckOrientation).Notify(), t.target.scheduleOnce(function() {
                            var o = document.getElementById("splash"),
                                n = document.getElementById("splash-div");
                            o.src = e.src, n.style.display = "block", SS.Common.GameEnvironment.Splash = o, SS.Common.GameEnvironment.SplashDiv = n, t.FinishLoadPage()
                        }, 1)
                    }, e.onerror = function() {
                        console.log("OnError Vertical_Loadpage !!"), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "C38", "Lobby", null, null), a.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                    }, e.src = SS.Common.GameEnvironment.verticalSplashSRC
                }, t.prototype.FinishLoadPage = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return p.EventSystem.Event(p.Music.StopMusic).Notify(), this.SetSplashScale(), a.ConnectPanelMgr.Instance.DisableConnectPanel(0), null === SS.Common.GameEnvironment.CurrentGameNow || void 0 === SS.Common.GameEnvironment.CurrentGameNow ? (l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, "C60", "Lobby", "Game Name Exception Error!"), [2]) : [4, h.Download.Bundle(SS.Common.GameEnvironment.CurrentGameNow, "")];
                                case 1:
                                    return o.sent(), cc.assetManager.bundles.find(function(t) {
                                        return t._config.getSceneInfo(SS.Common.GameEnvironment.CurrentGameNow)
                                    }) ? ("" != SS.Common.GameEnvironment.ChangeToGameName && (t = document.getElementById("splash-div")) && (t.style.display = "none"), SS.Common.GameEnvironment.SplashDiv && (SS.Common.GameEnvironment.SplashDiv.style.display = "none"), r.LoadingMgr.Instance.OpenLoading(), r.LoadingMgr.Instance.SetProgress(30, 5), this.GAME_SCENE_NAME = SS.Common.GameEnvironment.CurrentGameNow) : (e = SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow), this.GAME_SCENE_NAME = e ? "Game_Vertical" : "Game", this.OpenCSSLogoPage(), r.LoadingMgr.Instance.CloseLoading()), SS.Common.GameEnvironment.ChangeToGameName = "", this.strNextScene = this.GAME_SCENE_NAME, this.isChangeScene = !0, [2]
                            }
                        })
                    })
                }, t.prototype.GetGameLoadPage = function(t, e) {
                    var o, n = SS.Common.GameEnvironment.ProjectSetting;
                    o = n.CDN_HOST ? window.location.protocol + "//" + n.CDN_HOST : "../../..";
                    var i = t,
                        r = n.Modules[i].Path;
                    if (!r) return console.warn("Project setting is not exist game id: " + i), null;
                    var s = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language;
                    "FishTable3" == i && (i = "PhoenixReturns");
                    var a = cc.assetManager.bundles.find(function(t) {
                        return t._config.getSceneInfo(SS.Common.GameEnvironment.CurrentGameNow)
                    });
                    return SS.Common.GameEnvironment.IsUseScoreBox ? a ? o + r + e + "/img/" + s + "loadpage.jpg?" : o + r + e + "/web-mobile/img/" + s + "loadpage.jpg?" : a ? o + r + e + "/img/" + s + "nobar_loadpage.jpg?" : o + r + e + "/web-mobile/img/" + s + "nobar_loadpage.jpg?"
                }, t.prototype.onLoadVersionFail = function(t) {
                    this.CloseCSSLogoPage(), a.ConnectPanelMgr.Instance.DisableConnectPanel(), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, "C09", "Lobby", t, function() {})
                }, t.prototype.OnClickIcon = function(t) {
                    console.log("click gameName", t), "" == SS.Common.GameEnvironment.ChangeToGameName && c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.clickIconShowConnectPanel(t)
                }, t.prototype.clickIconShowConnectPanel = function(t) {
                    console.warn("[clickIconShowConnectPanel] gameName= " + t), SS.Common.GameEnvironment.CurrentGameNow = t, a.ConnectPanelMgr.Instance.ShowConnectPanel(0), -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + s.GAME_STATUS.ICON_CLICK) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, s.GAME_STATUS.ICON_CLICK), SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + s.GAME_STATUS.ICON_CLICK)), -1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(s.LOBBY_STATUS.FIRST_CLICK_ICON) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", s.LOBBY_STATUS.FIRST_CLICK_ICON), SS.Common.GameEnvironment.SentFlowStatus.push(s.LOBBY_STATUS.FIRST_CLICK_ICON)), this.DownloadVersion(t, this.onLoadVersionSuccess.bind(this), this.onLoadVersionFail.bind(this))
                }, t.prototype.OpenCSSLogoPage = function() {
                    SS.Common.GameEnvironment.SplashDiv || (SS.Common.GameEnvironment.SplashDiv = document.getElementById("splash-div")), SS.Common.GameEnvironment.SplashDiv.style.display = "block"
                }, t.prototype.CloseCSSLogoPage = function() {
                    SS.Common.GameEnvironment.SplashDiv || (SS.Common.GameEnvironment.SplashDiv = document.getElementById("splash-div")), SS.Common.GameEnvironment.SplashDiv.style.display = "none"
                }, t.prototype.OnClickGameType = function(t) {
                    console.log("click gameTypeName", t), SS.Common.GameEnvironment.CurrentGameTypeNow !== t && c.AudioMgr.Instance.Play("click_type", !1, 1), p.EventSystem.Event(p.Icon.ShowIcon).Notify(t)
                }, t.prototype.OnEditPWDClickOK = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1)
                }, t.prototype.OnEditPWDClickClose = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnEditMobileIDClickOK = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1)
                }, t.prototype.OnEditMobileIDClickClose = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnSkillGameClickClose = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnAccountClickClose = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnJPWinnerCloseClose = function() {
                    c.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t
            }();
        o.IdleState = g, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../LobbyCommon/FullScreenHandler": "FullScreenHandler",
        "../../LobbyCommon/Helper/Download": "Download",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    ImageDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7f65cQF35BMQqRJejIZujut", "ImageDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ImageDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetImage(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                var e = this;
                try {
                    var o = new Uint8Array(t),
                        n = new Image;
                    n.src = "data:image/png;base64," + e.Base64Encode(o), n.onload = function() {
                        var t = new cc.Texture2D;
                        t.initWithElement(n), null != e.OnLoad && e.OnLoad(new cc.SpriteFrame(t))
                    }, console.log("ImageDownloader.OnLoadComplete")
                } catch (i) {
                    console.error("[ImageDownloader] Load failed.\n", i), null != e.OnError && e.OnError(i)
                }
            }, e.prototype.Base64Encode = function(t) {
                for (var e, o, n, i, r, s, a, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", l = "", u = 0; u < t.length;) i = (e = t[u++]) >> 2, r = (3 & e) << 4 | (o = t[u++]) >> 4, s = (15 & o) << 2 | (n = t[u++]) >> 6, a = 63 & n, isNaN(o) ? s = a = 64 : isNaN(n) && (a = 64), l = l + c.charAt(i) + c.charAt(r) + c.charAt(s) + c.charAt(a);
                return l
            }, e
        }(t("./Downloader").Downloader);
        o.ImageDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    InGameJpBg: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6e7707DXDVJZKjkJ9/0LbDM", "InGameJpBg");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InGameJpBg = void 0;
        var s = t("../../../LobbyCommon/Component/AutoFitObject"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.customObject = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    if (this.customObject && !(this.customObject.length <= 0))
                        for (var t = 0, e = this.customObject; t < e.length; t++) e[t].Init()
                }, e.prototype.SetJpBgPosition = function(t, e) {
                    switch (t) {
                        case 2:
                            var o = .5 * e;
                            this.node.setPosition(new cc.Vec2(this.node.position.x + o, 0));
                            break;
                        case 3:
                            this.node.setPosition(new cc.Vec2(this.node.position.x + e, 0))
                    }
                }, e.prototype.AutoFit = function(t) {
                    if (this.customObject && !(this.customObject.length <= 0))
                        for (var e = 0, o = this.customObject; e < o.length; e++) o[e].Strech(t)
                }, e.prototype.AutoFitWidth = function(t) {
                    if (this.customObject && !(this.customObject.length <= 0))
                        for (var e = 0, o = this.customObject; e < o.length; e++) o[e].StrechX(t)
                }, r([l({
                    type: s.AutoFitObject,
                    displayName: "\u5ba2\u88fd\u5316\u8b8a\u5f62\u7269\u4ef6"
                })], e.prototype, "customObject", void 0), r([c], e)
            }(cc.Component);
        o.InGameJpBg = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/AutoFitObject": "AutoFitObject"
    }],
    InGameJpPanel: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fc14cBOOYxIMKFOct0sbc7R", "InGameJpPanel");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InGameJpPanel = void 0;
        var s = t("../../../LobbyCommon/Component/NumberCountUp"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.jpValLabel = null, e.numberCountUp = null, e.background = null, e.NORMAL_ICON_PREFIX = "NORMAL", e
                }
                return i(e, t), e.prototype.SetJpPanelPosition = function(t, e, o, n) {
                    var i;
                    switch (i = t == this.NORMAL_ICON_PREFIX ? .2 : 1, e) {
                        case 1:
                            this.node.setPosition(new cc.Vec2(0, this.node.position.y + n.y * i));
                            break;
                        case 2:
                            var r = .5 * o;
                            this.node.setPosition(new cc.Vec2(this.node.position.x - r, this.node.position.y + n.y * i));
                            break;
                        case 3:
                            this.node.setPosition(new cc.Vec2(this.node.position.x - o, this.node.position.y + n.y * i))
                    }
                }, e.prototype.SetJpVal = function(t) {
                    null != this.jpValLabel && (console.warn("[SetJpVal]"), console.log(SS.Common.BaseFunction.addCommas(t, 2)), this.numberCountUp = this.jpValLabel.getComponent(s.NumberCountUp), this.numberCountUp.SetNumberFormat(!1, !0, !0), this.numberCountUp.SetNumberNow(t))
                }, e.prototype.JpNumberCountUp = function(t, e) {
                    this.numberCountUp = this.jpValLabel.getComponent(s.NumberCountUp), this.numberCountUp.SetNumberFormat(!1, !0, !0), this.numberCountUp.CountUp(t, e)
                }, r([l(cc.Label)], e.prototype, "jpValLabel", void 0), r([l(s.NumberCountUp)], e.prototype, "numberCountUp", void 0), r([l(cc.Node)], e.prototype, "background", void 0), r([c], e)
            }(cc.Component);
        o.InGameJpPanel = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/NumberCountUp": "NumberCountUp"
    }],
    InfoMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "115b6n0eelNN6sFLRSIxDuT", "InfoMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InfoMgr = void 0;
        var s = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.scrollViewRoot = null, e.webViewRoot = null, e.PFWebView = null, e.PFScrollView = null, e.InfoPageContent = null, e.isUsingPng = !1, e.webView = null, e.downloadErrorEventId = null, e.tmpDowmloadInfo = null, e.onDownloadFinishEvent = null, e.infoURL = "", e.Event_OpenInfo = null, e.Event_CloseInfo = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    null != this.webViewRoot && (this.webViewRoot.active = !1), null != this.scrollViewRoot && (this.scrollViewRoot.active = !1), this.Event_OpenInfo = new SS.Common.Delegate, this.Event_CloseInfo = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    null != this.tmpDowmloadInfo && (cc.loader.release(this.tmpDowmloadInfo), this.tmpDowmloadInfo = null), null != this.InfoPageContent && null != this.InfoPageContent.spriteFrame && (cc.loader.release(this.InfoPageContent.spriteFrame), this.InfoPageContent.spriteFrame = null), null != this.webView && (this.webView.destroy(), this.webView = null)
                }, e.prototype.OpenInfoPage = function(t) {
                    if (void 0 === t && (t = ""), null != this.webViewRoot) {
                        var e = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language;
                        "" != t && (t += "/"), SS.Common.GameEnvironment.IsUseScoreBox ? this.infoURL = "./" + t + e + "info.html" : this.infoURL = "./" + t + e + "nobar_info.html";
                        var o = cc.instantiate(this.PFWebView);
                        o.parent = this.webViewRoot, o.setPosition(0, 0), this.webView = o.getComponent(cc.WebView), this.webView.url = this.infoURL, this.webViewRoot.active = !0, this.root.active = !0, this.Event_OpenInfo.Length > 0 && this.Event_OpenInfo.Notify()
                    }
                }, e.prototype.OpenScrollViewInfoPage = function(t) {
                    this.scrollViewRoot.active = !0, this.Event_OpenInfo.Length > 0 && this.Event_OpenInfo.Notify(), this.GetInfoDownloadImg(t)
                }, e.prototype.GetInfoDownloadImg = function(t) {
                    var e = this,
                        o = this,
                        n = !1,
                        i = this.GetInfoDownloadPath(t);
                    this.onDownloadFinishEvent = null, null == this.tmpDowmloadInfo ? (s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.onDownloadFinishEvent = this.SetOpenRoot.bind(this), this.downloadErrorEventId = this.scheduleOnce(function() {
                        n || (console.warn("[Info Image Download is error !!] "), o.root.active = !1, e.onDownloadFinishEvent = null, s.ConnectPanelMgr.Instance.DisableConnectPanel())
                    }, 5), cc.assetManager.loadRemote(i, function(t, i) {
                        if (t) return n = !0, console.warn("[Info Image Download is error !!] "), o.root.active = !1, s.ConnectPanelMgr.Instance.DisableConnectPanel(), void(o.downloadErrorEventId && o.unschedule(o.downloadErrorEventId));
                        if (n = !0, o.downloadErrorEventId && o.unschedule(o.downloadErrorEventId), null != e.onDownloadFinishEvent && e.onDownloadFinishEvent(), o.root.active) {
                            o.tmpDowmloadInfo = new cc.SpriteFrame(i), console.log("Download infoImage Finish !!");
                            var r = o.tmpDowmloadInfo.getTexture().height;
                            o.PFScrollView.content.height = r, o.InfoPageContent.spriteFrame = o.tmpDowmloadInfo, o.PFScrollView.scrollToTop(0), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                        }
                        i = null
                    })) : (this.PFScrollView.scrollToTop(0), this.SetOpenRoot())
                }, e.prototype.SetOpenRoot = function() {
                    this.root.active = !0
                }, e.prototype.GetInfoDownloadPath = function(t) {
                    var e, o = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language,
                        n = SS.Common.GameEnvironment.IsUseScoreBox ? "infoPage" : "noScoreBox_infoPage";
                    return e = this.isUsingPng ? "./" + t + "/" + o + n + ".png?" + (new Date).getTime() : "./" + t + "/" + o + n + ".jpg?" + (new Date).getTime(), console.warn("[Download InfoImage Path] = " + e), e
                }, e.prototype.CloseInfoPage = function() {
                    this.webView && (this.webView.url = "about:blank", this.webView.destroy(), this.webView = null), this.root.active = !1, this.Event_CloseInfo.Length > 0 && this.Event_CloseInfo.Notify()
                }, e.prototype.OnDarkBgClicked = function() {
                    this.root.active = !1, this.webView && this.CloseInfoPage()
                }, e.prototype.isActive = function() {
                    var t = !1;
                    return null != this.root && (t = this.root.active), t
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "scrollViewRoot", void 0), r([l(cc.Node)], e.prototype, "webViewRoot", void 0), r([l(cc.Prefab)], e.prototype, "PFWebView", void 0), r([l(cc.ScrollView)], e.prototype, "PFScrollView", void 0), r([l(cc.Sprite)], e.prototype, "InfoPageContent", void 0), r([l(cc.Boolean)], e.prototype, "isUsingPng", void 0), r([c], e)
            }(cc.Component);
        o.InfoMgr = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr"
    }],
    JPTimerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "27457jDU3RHAZmOvueoKu3P", "JPTimerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JPTimerMgr = void 0;
        var s = t("../../../LobbyCommon/Helper/EventSystem"),
            a = t("../../../LobbyCommon/Net/LobbyClient"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.textJPTime = null, e.jpInfoButton = null, e.jpHelpBackground = null, e.nodeJPLight = [], e.m_bVertical = !1, e.m_labJPES = null, e.m_sprIndicator = null, e.rootNode = null, e.JP_TIME_MAX = 30, e._isCountDownJPtimeNow = !1, e._jpTime = 0, e.intervalID = -1, e.Event_clickJpPage = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.Event_clickJpPage = new SS.Common.Delegate, s.EventSystem.RegisterFunction(s.JackpotTimer.GetRoot, this.GetRoot.bind(this))
                }, e.prototype._start = function() {
                    this.UpdateJPTimerUI(0)
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.UnregisterFunction(s.JackpotTimer.GetRoot)
                }, e.prototype.Compose = function() {}, e.prototype.UpdateJPTimerUI = function(t) {
                    if (this.textJPTime && (this.textJPTime.string = t.toString()), this.m_bVertical) this.m_sprIndicator && (this.m_sprIndicator.fillStart = .5 * (1 - t / this.JP_TIME_MAX));
                    else if (this.nodeJPLight) {
                        for (var e = this.nodeJPLight.length, o = 0; o < e; o++) this.nodeJPLight[o].active = !1;
                        if (t > 0) {
                            var n = 1 + e * t / this.JP_TIME_MAX;
                            for (n = n > e ? e : n, o = 0; o < n; o++) this.nodeJPLight[o].active = !0
                        }
                    }
                }, e.prototype.ToggleJPHelp = function() {
                    this.jpHelpBackground.node.active = !this.jpHelpBackground.node.active, this.Event_clickJpPage.Length > 0 && this.Event_clickJpPage.Notify(this.jpHelpBackground.node.active)
                }, e.prototype.JPtimer = function(t) {
                    --t._jpTime, t._jpTime <= 0 && (t._jpTime = 0, t.PauseJPtime()), t.UpdateJPTimerUI(t._jpTime)
                }, e.prototype.StartConutDownJPTimer = function() {
                    var t = this;
                    this._isCountDownJPtimeNow = !0, -1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.JPtimer(t)
                    }, 1e3)
                }, e.prototype.SetJpTimerPos = function(t) {
                    this.node.setPosition(t)
                }, e.prototype.AddJPtime = function(t) {
                    this.PauseJPtime(), this._jpTime += t, this._jpTime >= this.JP_TIME_MAX && (this._jpTime = this.JP_TIME_MAX), this.UpdateJPTimerUI(this._jpTime)
                }, e.prototype.ForceSetJPtime = function(t) {
                    this.PauseJPtime(), t > this.JP_TIME_MAX ? t = this.JP_TIME_MAX : t < 0 && (t = 0), this._jpTime = t, this.UpdateJPTimerUI(this._jpTime), this._jpTime > 0 && !this._isCountDownJPtimeNow && this.StartConutDownJPTimer()
                }, e.prototype.PauseJPtime = function() {
                    clearInterval(this.intervalID), this._isCountDownJPtimeNow = !1
                }, e.prototype.ResumeJPtime = function() {
                    this._jpTime > 0 && (a.LobbyClient.Instance.GetJPSystem.SendJPTimerResume("Slot"), this._isCountDownJPtimeNow || (this._isCountDownJPtimeNow = !0, this.StartConutDownJPTimer()))
                }, e.prototype.SetJPShow = function(t) {
                    this.node.active = t
                }, e.prototype.GetRoot = function() {
                    return this.rootNode
                }, r([u(cc.Label)], e.prototype, "textJPTime", void 0), r([u(cc.Button)], e.prototype, "jpInfoButton", void 0), r([u(cc.Sprite)], e.prototype, "jpHelpBackground", void 0), r([u([cc.Node])], e.prototype, "nodeJPLight", void 0), r([u(cc.Boolean)], e.prototype, "m_bVertical", void 0), r([u(cc.Label)], e.prototype, "m_labJPES", void 0), r([u(cc.Sprite)], e.prototype, "m_sprIndicator", void 0), r([u(cc.Node)], e.prototype, "rootNode", void 0), r([l], e)
            }(cc.Component);
        o.JPTimerMgr = m, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    JSONDownloder: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "53fb9qRRiZNVblU7Fntw8e7", "JSONDownloder");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JSONDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    console.log(t), e = JSON.parse(t), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[JSONDownloader] Load setting failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.JSONDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    LayerSystem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a90dfNQQpxFu7qmZy/SznI2", "LayerSystem"), Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var n = t("./EventSystem"),
            i = t("./Setting"),
            r = function() {
                function t() {
                    this._list = JSON.parse("{}")
                }
                return Object.defineProperty(t, "_instance", {
                    get: function() {
                        return null == this._inst && (this._inst = new t), this._inst
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.Init = function() {
                    t._instance._list = JSON.parse("{}"), i.default.GetSetting("Layer"), n.EventSystem.Event(n.RegisterLayer).Notify()
                }, t.GetLayer = function(e) {
                    return t._instance._list[e] ? t._instance._list[e] : (console.warn("There is no node named '" + e + "' in Layer System!"), null)
                }, t.SetParent = function(e, o) {
                    var n = e.active;
                    e.active = !1;
                    var i = t.GetLayer(o);
                    i && (e.parent = i), e.active = n
                }, t.RegisterLayer = function(e, o) {
                    t._instance._list[e] ? console.warn("There is already a node named '" + e + "' in Layer!\nLayer will Do Nothing!") : t._instance._list[e] = o
                }, t.UnregisterLayer = function(e, o) {
                    t._instance._list[e] ? t._instance._list[e] === o ? t._instance._list[e] = null : console.warn("You Should Not Unregister a Node Which You Don't Own It!") : console.warn("There is no node named '" + e + "' in Layer System!")
                }, t._inst = null, t
            }();
        o.default = r, cc._RF.pop()
    }, {
        "./EventSystem": "EventSystem",
        "./Setting": "Setting"
    }],
    Layer: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5135al3CZVGP75dInRwESKK", "Layer");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("./EventSystem"),
            a = t("./LayerSystem"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.active = !0, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.node.active = this.active, s.EventSystem.Event(s.RegisterLayer).Insert(this.RegisterLayer, this)
                }, e.prototype.RegisterLayer = function() {
                    s.EventSystem.Event(s.RegisterLayer).Remove(this.RegisterLayer, this), a.default.RegisterLayer(this.node.name, this.node)
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.Event(s.RegisterLayer).Remove(this.RegisterLayer, this), a.default.UnregisterLayer(this.node.name, this.node)
                }, r([u({
                    displayName: "\u7bc0\u9ede\u521d\u59cb\u5316\u61c9\u8a72\u958b\u555f\u6216\u95dc\u9589 (\u82e5\u7bc0\u9ede\u95dc\u9589\u5c07\u4e0d\u6703\u81ea\u52d5\u57f7\u884c)"
                })], e.prototype, "active", void 0), r([l], e)
            }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {
        "./EventSystem": "EventSystem",
        "./LayerSystem": "LayerSystem"
    }],
    LoadingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6e26bYnY9FK+qgXGkkMuJO8", "LoadingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LoadingMgr = void 0;
        var c = t("../../Helper/EventSystem"),
            l = t("../../ModuleBase"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.Logo_GD_node = null, e.LogoBG = null, e.barNode = null, e.barText = null, e.Logo_Horz_node = null, e.barNode_Horz_Root = null, e.barNode_Horz = null, e.barEffect_Horz = null, e.barEffect_Horz_Y = 6.827, e.barText_Horz = null, e.Logo_Vert_node = null, e.barNode_Vert_Root = null, e.barNode_Vert = null, e.barText_Vert = null, e.m_iWidth = 1280, e.m_iHeight = 720, e.m_loadingMsg = null, e.preScalX = 0, e.isVertical = !1, e.barNode_VertTween = null, e
                }
                var o;
                return i(e, t), o = e, e.prototype._onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return null != o.Instance ? [2] : (o.Instance = this, console.error("[LoadingMgr] Instance \u8a2d\u5b9a\u5b8c\u7562  "), c.EventSystem.Event(c.ScreenOrientationState.ChangeOrientation).Insert(this.SetScreenOrientation, this), this.barEffect_Horz_Y = this.barEffect_Horz.position.y, [2])
                        })
                    })
                }, e.prototype.CloseLoading = function() {
                    this.root.active = !1, this.m_loadingMsg && (this.m_loadingMsg.node.active = !1), this.ResetLoadpage()
                }, e.prototype.ResetLoadpage = function() {
                    this.barNode.stopAllActions(), this.barNode.scaleX = 0, this.barNode_Horz.progress = 0, this.barEffect_Horz.position = cc.v3(0, this.barEffect_Horz_Y, 0), this.barNode_Vert.angle = 0, this.preScalX = 0, this.LogoBG.spriteFrame = null
                }, e.prototype.OpenLoading = function(t) {
                    if (void 0 === t && (t = null), cc.log("[LoadingMgr] OpenLoading"), this.root.active) console.error("OpenLoading Fail !!");
                    else {
                        cc.log("[LoadingMgr] OpenLoading success, domImg = " + t);
                        try {
                            this.ResetLoadpage();
                            var e = null == t ? SS.Common.GameEnvironment.Splash : t,
                                o = new cc.Texture2D;
                            o.initWithElement(e, !0), o.handleLoadedTexture(!0), o.width = this.m_iWidth, o.height = this.m_iHeight;
                            var n = c.EventSystem.Function(c.ScreenOrientationState.GetOrientation)();
                            "magiccity" == window.gd_nowLOGO && this.SetScreenOrientation(n, !0), this.LogoBG.spriteFrame = new cc.SpriteFrame(o), this.root.active = !0
                        } catch (i) {
                            console.error(i)
                        }
                    }
                }, e.prototype.SetLoadingPageActive = function(t) {
                    var e = document.getElementById("splash");
                    e && (e.style.display = 1 == t ? "block" : "none")
                }, e.prototype.SetProgress = function(t, e) {
                    void 0 === e && (e = .1), this.barNode.stopAllActions();
                    var o = cc.scaleTo(e, .01 * t, 1);
                    this.barNode.runAction(o), "magiccity" == window.gd_nowLOGO && (this.barNode_Horz.progress = 0, this.barEffect_Horz.position = cc.v3(0, this.barEffect_Horz_Y, 0), this.barNode_Horz.progress = this.barNode.scaleX, this.barNode_VertTween = cc.tween(this.barNode_Vert).repeatForever(cc.tween().by(.8, {
                        angle: -360
                    }, {
                        easing: "sineInOut"
                    })).start())
                }, e.prototype.SetLoadingMessage = function(t) {
                    void 0 === t && (t = ""), this.m_loadingMsg && ("" === t ? this.m_loadingMsg.node.active = !1 : (this.m_loadingMsg.node.active = !0, this.m_loadingMsg.string = t))
                }, e.prototype.SetScreenOrientation = function(t, e) {
                    if (void 0 === e && (e = !1), this.root.active || e) {
                        var o = cc.view.getFrameSize(),
                            n = o.width / o.height >= 1;
                        console.warn("\u6a6b\u7248"), n ? (this.LogoBG.node.width = this.m_iWidth, this.LogoBG.node.height = this.m_iHeight) : (this.LogoBG.node.width = this.m_iHeight, this.LogoBG.node.height = this.m_iWidth), "magiccity" == window.gd_nowLOGO ? (SS.Common.GameEnvironment.Splash.src != SS.Common.GameEnvironment.verticalSplashSRC && SS.Common.GameEnvironment.Splash.src != SS.Common.GameEnvironment.OriginalSplashSRC ? (this.Logo_Horz_node.active = !1, this.Logo_Vert_node.active = !1, this.Logo_GD_node.active || (this.Logo_GD_node.active = !0), this.isVertical = 1 == SS.Common.GameEnvironment.GetCurGameIsVertical()) : (this.Logo_GD_node.active = !1, this.barText.node.active = !1, n ? (console.log("[LoadingMgr] \u87a2\u5e55 = \u6a6b"), this.LogoBG.node.width = this.m_iWidth, this.LogoBG.node.height = this.m_iHeight, this.Logo_Horz_node.active = !0, this.Logo_Vert_node.active = !1, this.isVertical = !1) : (console.log("[LoadingMgr] \u87a2\u5e55 = \u76f4"), this.LogoBG.node.width = this.m_iHeight, this.LogoBG.node.height = this.m_iWidth, this.Logo_Vert_node.active = !0, this.Logo_Horz_node.active = !1, this.isVertical = !0)), n ? (this.barNode_Horz_Root.active = !1, this.barNode_Vert_Root.active = !0) : (this.barNode_Horz_Root.active = !0, this.barNode_Vert_Root.active = !1)) : (this.Logo_Horz_node.active = !1, this.Logo_Vert_node.active = !1, this.Logo_GD_node.active = !0, this.barNode.active = !0, this.barText.node.active = !0)
                    }
                }, e.prototype.update = function() {
                    var t, e;
                    this.barNode.scaleX > 1 || this.barNode.scaleX < this.preScalX || (this.preScalX = this.barNode.scaleX, t = (100 * this.barNode.scaleX).toFixed(2), this.barText.string = t.toString() + "%", "magiccity" == window.gd_nowLOGO && (1 == this.isVertical ? (this.barText_Vert.string = t.toString() + "%", this.barNode_Vert.angle <= -360 && (this.barNode_Vert.angle = this.barNode_Vert.angle % 360)) : (this.barText_Horz.string = "Loading... " + t.toString() + "%", this.barNode_Horz.progress = this.barNode.scaleX, e = 1150 * this.barNode.scaleX - 575, this.barEffect_Horz.position = cc.v3(e - 3, this.barEffect_Horz_Y, 0), this.barEffect_Horz.opacity = t >= 100 ? 0 : t > 0 ? 255 : 0)))
                }, e.prototype.onDestroy = function() {
                    o.Instance = null, this.barNode_VertTween && (this.barNode_VertTween.stop(), this.barNode_VertTween = null), c.EventSystem.Event(c.ScreenOrientationState.ChangeOrientation).Remove(this.SetScreenOrientation, this)
                }, e.Instance = null, r([p({
                    type: cc.Node,
                    displayName: "Loading\u9801\u7e3d\u958b\u95dc\u7bc0\u9ede"
                })], e.prototype, "root", void 0), r([p({
                    type: cc.Node,
                    displayName: "playGD\u7bc0\u9ede"
                })], e.prototype, "Logo_GD_node", void 0), r([p({
                    type: cc.Sprite,
                    displayName: "playGD-\u80cc\u666f\u5716"
                })], e.prototype, "LogoBG", void 0), r([p({
                    type: cc.Node,
                    displayName: "playGD-\u9032\u5ea6\u689d"
                })], e.prototype, "barNode", void 0), r([p({
                    type: cc.Label,
                    displayName: "playGD-\u9032\u5ea6\u689d\u6578\u5b57"
                })], e.prototype, "barText", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u6a6b\u7248\u7bc0\u9ede"
                })], e.prototype, "Logo_Horz_node", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u6a6b\u7248-\u9032\u5ea6\u689d\u6839\u7bc0\u9ede"
                })], e.prototype, "barNode_Horz_Root", void 0), r([p({
                    type: cc.ProgressBar,
                    displayName: "Magic\u6a6b\u7248-\u9032\u5ea6\u689d"
                })], e.prototype, "barNode_Horz", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u6a6b\u7248-\u9032\u5ea6\u689d\u7279\u6548"
                })], e.prototype, "barEffect_Horz", void 0), r([p({
                    type: cc.Label,
                    displayName: "Magic\u6a6b\u7248-\u9032\u5ea6\u689d\u6587\u5b57"
                })], e.prototype, "barText_Horz", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u76f4\u7248\u7bc0\u9ede"
                })], e.prototype, "Logo_Vert_node", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u76f4\u7248-\u9032\u5ea6\u689d\u6839\u7bc0\u9ede"
                })], e.prototype, "barNode_Vert_Root", void 0), r([p({
                    type: cc.Node,
                    displayName: "Magic\u76f4\u7248-\u9032\u5ea6\u689d"
                })], e.prototype, "barNode_Vert", void 0), r([p({
                    type: cc.Label,
                    displayName: "Magic\u76f4\u7248-\u9032\u5ea6\u689d\u6587\u5b57"
                })], e.prototype, "barText_Vert", void 0), r([p(cc.Integer)], e.prototype, "m_iWidth", void 0), r([p(cc.Integer)], e.prototype, "m_iHeight", void 0), r([p(cc.Label)], e.prototype, "m_loadingMsg", void 0), o = r([m], e)
            }(l.default);
        o.LoadingMgr = h, cc._RF.pop()
    }, {
        "../../Helper/EventSystem": "EventSystem",
        "../../ModuleBase": "ModuleBase"
    }],
    LobbyClient: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "55b9aaFGQtPVaRPnLf7NOZE", "LobbyClient"), Object.defineProperty(o, "__esModule", {
                value: !0
            }), o.LobbyClient = o.GAME_STATUS = o.LOBBY_STATUS = void 0,
            function(t) {
                t[t.LOGIN_OK = 0] = "LOGIN_OK", t[t.INTO_LOBBY_OK = 1] = "INTO_LOBBY_OK", t[t.FIRST_CLICK_ICON = 2] = "FIRST_CLICK_ICON"
            }(o.LOBBY_STATUS || (o.LOBBY_STATUS = {})),
            function(t) {
                t[t.ICON_CLICK = 3] = "ICON_CLICK", t[t.START_LOAD_PAGE = 4] = "START_LOAD_PAGE", t[t.LOAD_PAGE_OK = 5] = "LOAD_PAGE_OK", t[t.RECV_THEME_SETTING = 6] = "RECV_THEME_SETTING", t[t.FIRST_SPIN = 7] = "FIRST_SPIN"
            }(o.GAME_STATUS || (o.GAME_STATUS = {}));
        var n = function() {
            function t() {
                this.IsSocketErrorClose = !1, this.m_CommonEventInfo_900005_Rank = void 0, this.m_ExtraResult = void 0, this.loginModel = null, this.userClient = null, this.lobbySystem = null, this.jpSystem = null, this.socket = null, this.isLogin = !1, this.isLogoutNow = !1, this.ErrorData = [], this.PacketDelayData = {
                    sent: 0,
                    receive: 0,
                    loss: -1,
                    best: -1,
                    average: -1,
                    worst: -1,
                    totalElapsedTime: -1
                }, this.JpShowLastTime = 0, this.DEAFULT_JP_SHOW_TIMEOUT = 100, null != t.Instance && console.error("LobbyClient is already exist"), t.Instance = this, cc.game.on(cc.game.EVENT_HIDE, this.onAppPause.bind(this)), cc.game.on(cc.game.EVENT_SHOW, this.onAppResume.bind(this))
            }
            return Object.defineProperty(t.prototype, "GetUserClient", {
                get: function() {
                    return this.userClient
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "GetLobbySystem", {
                get: function() {
                    return this.lobbySystem
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "GetJPSystem", {
                get: function() {
                    return this.jpSystem
                },
                enumerable: !1,
                configurable: !0
            }), t.SetInstance = function(e) {
                t.Instance = e
            }, t.prototype.JPInit = function(t) {
                "Slot" == t && (this.JpShowLastTime = this.DEAFULT_JP_SHOW_TIMEOUT)
            }, t.prototype.JPFinish = function() {
                this.JpShowLastTime = 0
            }, t.prototype.IsSocketConnect = function() {
                return this.socket && this.socket.isConnect
            }, t.prototype.onAppResume = function() {
                console.log("onAppResume"), this.isPause && (this.isPause = !1, this.IsSocketConnect() ? (this.PauseCollectLog(), this.CollectLog()) : this.ErrorData = [])
            }, t.prototype.onAppPause = function() {
                console.log("onAppPause"), this.PauseCollectLog(), this.isPause = !0
            }, t.prototype.DoLogin = function(t, e, o, n, i) {
                var r = this;
                try {
                    var s = SS.Common.GameEnvironment.DeviceInfo;
                    this.loginSuccessCB = n, this.loginModel && this.loginModel.Clear && this.loginModel.Clear();
                    var a = "None",
                        c = null == SS.Common.GameEnvironment.LobbyVersion ? "Editor" : SS.Common.GameEnvironment.LobbyVersion;
                    null != navigator.connection && null != navigator.connection && (a = navigator.connection.type), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.DoLogin(e, o, function(t, e, o) {
                        r.OnLoginSuccess(t, e, o)
                    }, function(t, e, o) {
                        console.error(t), console.error(e), null != i && (i(t, e, o), i = null)
                    }, function() {
                        r.isLogin ? (r.PauseCollectLog(), r.IsSocketErrorClose = !0) : r.isLogoutNow || null == i || (i(-999, "Socket disconnected without login", "ConnectWebSocket"), i = null)
                    }, s, c, a)
                } catch (l) {
                    console.error(l), null != i && (i(-999, l), i = null)
                }
            }, t.prototype.DoGuestLogin = function(t, e, o, n, i, r) {
                var s = this;
                try {
                    var a = SS.Common.GameEnvironment.DeviceInfo;
                    this.loginSuccessCB = i, this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t);
                    var c = "None",
                        l = SS.Common.GameEnvironment.LobbyVersion;
                    null != navigator.connection && null != navigator.connection && (c = navigator.connection.type), this.loginModel.DoGuestLogin(e, o, n, function(t, e, o) {
                        s.OnLoginSuccess(t, e, o)
                    }, function(t, e, o) {
                        console.error(t), console.error(e), null != r && (r(t, e, o), r = null)
                    }, function() {
                        s.isLogin ? (s.PauseCollectLog(), s.IsSocketErrorClose = !0) : s.isLogoutNow || null == r || (r(-999, "Socket disconnected without login", "ConnectWebSocket"), r = null)
                    }, a, l, c)
                } catch (u) {
                    console.error(u), null != r && (r(-999, u), r = null)
                }
            }, t.prototype.OnLoginSuccess = function(t, e, o) {
                this.IsSocketErrorClose = !1, this.isLogin = !0, this.isLogoutNow = !1, this.socket = o, this.userClient ? this.userClient.setNetClient(t, e) : this.userClient = new SS.Network.UserClient(t, e), this.lobbySystem ? this.lobbySystem.setNetClient(o) : this.lobbySystem = new SS.Network.LobbySystem(o), console.warn("[OnLoginSuccess] LogoMode: " + window.gd_nowLOGO), this.lobbySystem.setLoginLogoMode(window.gd_nowLOGO), this.jpSystem ? this.jpSystem.setNetClient(o, e) : (this.jpSystem = new SS.Network.JPSystem(o, e), this.jpSystem.OnJPStartSignal.add(this.JPInit, this), this.jpSystem.OnJPFinishSignal.add(this.JPFinish, this)), this.CollectLog(), this.loginSuccessCB(), this.loginSuccessCB = null
            }, t.prototype.CollectLog = function() {
                var t = this;
                this.SendLog = function() {
                    t.sendLogTimerID = setTimeout(function() {
                        t.isLogin && t.socket && t.socket.isConnect && (console.log("ErrorData", t.ErrorData), t.ErrorData.length > 0 && (t.ErrorData.forEach(function(e) {
                            e.PinArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && t.userClient.SendErrorLog(e)
                        }), t.ErrorData = []), t.SendLog())
                    }, 3e5)
                }, this.SendLog()
            }, t.prototype.CollectErrorLog = function(t, e, o, n) {
                var i = {
                    error_result: e,
                    trigger_point: n,
                    scene_name: o,
                    error_handle: t,
                    MachineID: SS.Network.LoginModel.LoginInfo.machine_id,
                    KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                    PinArkID: SS.Network.LoginModel.LoginInfo.pin_ark_id,
                    ClientTimeUTC: (new Date).getTime(),
                    UserID: SS.Network.LoginModel.LoginInfo.user_id
                };
                this.ErrorData.push(i)
            }, t.prototype.RecvPingAck = function(t, e, o, n, i, r, s) {
                if (t == ArkSDK.SocketResult.OK && this.PacketDelayData.receive++, void 0 === s && (s = 1e4), this.PacketDelayData.totalElapsedTime += s, (-1 == this.PacketDelayData.best || this.PacketDelayData.best > s) && (this.PacketDelayData.best = s), (-1 == this.PacketDelayData.worst || this.PacketDelayData.worst < s) && (this.PacketDelayData.worst = s), this.PacketDelayData.sent > 5) {
                    this.PacketDelayData.loss = this.PacketDelayData.sent - this.PacketDelayData.receive, this.PacketDelayData.average = this.PacketDelayData.totalElapsedTime / this.PacketDelayData.sent, console.log("send SendPacketDelayData : ", JSON.stringify(this.PacketDelayData));
                    var a = Object.assign({}, this.PacketDelayData);
                    this.userClient.SendPacketDelayData(a), this.ResetPacketDelayData()
                }
                this.Ping()
            }, t.prototype.ResetPacketDelayData = function() {
                this.PacketDelayData.sent = 0, this.PacketDelayData.receive = 0, this.PacketDelayData.loss = -1, this.PacketDelayData.best = -1, this.PacketDelayData.average = -1, this.PacketDelayData.worst = -1, this.PacketDelayData.totalElapsedTime = -1
            }, t.prototype.PauseCollectLog = function() {
                window.clearTimeout(this.pingWebSocketTimerID), window.clearTimeout(this.sendLogTimerID)
            }, t.prototype.DoLogout = function(t, e, o) {
                void 0 === o && (o = 0);
                try {
                    this.isLogin = !1, this.isLogoutNow = !0, this.jpSystem.OnJPStartSignal && this.jpSystem.OnJPStartSignal.remove(this.JPInit, this), this.jpSystem.OnJPFinishSignal && this.jpSystem.OnJPFinishSignal.remove(this.JPFinish, this), this.PauseCollectLog(), this.lobbySystem = null, this.jpSystem = null, this.userClient = null, this.loginModel.DoLogout(t, e, o)
                } catch (n) {
                    console.error(n), null != e && (e(-999, n), e = null)
                }
            }, t.prototype.getContactInfoNotLogin = function(t, e, o, n, i) {
                try {
                    this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.getContactInfoNotLogin(e, o, n, i)
                } catch (r) {
                    console.error(r)
                }
            }, t.prototype.sendDirectClickLog = function(t, e, o, n, i, r) {
                try {
                    this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.sendDirectClickLog(e, o, n, i, r, SS.Common.GameEnvironment.DeviceInfo), console.log("[sendDirectClickLog]", ", click_id: " + e + ", btn_click_id: " + o.toString() + ", click_name: " + n + ", device_id: " + i + ", logo: " + r.toString())
                } catch (s) {
                    console.error(s)
                }
            }, t.prototype.SendGameLoginLog = function() {
                var e = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                console.log("SendGameLoginLog \u9032\u5165\u904a\u6232 gamdId = " + e + ", CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), "" != e && t.Instance.GetLobbySystem.SendSessionLengthLogin(Number(e))
            }, t.prototype.SendGameLogoutLog = function(e) {
                void 0 === e && (e = null);
                var o = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                console.log("SendGameLogoutLog \u96e2\u958b\u904a\u6232 gamdId = " + o + ", CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), "" != o && t.Instance.GetLobbySystem.SendSessionLengthLogout(Number(o), e)
            }, t
        }();
        o.LobbyClient = n, cc._RF.pop()
    }, {}],
    LobbyCommon: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "97cabOsz35C7qGABGBppWq5", "LobbyCommon");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LobbyCommon = void 0;
        var c = t("./DisableMultiTapHandler"),
            l = t("./Helper/Download"),
            u = t("./Helper/EventSystem"),
            m = t("./Helper/Setting"),
            p = t("./PopupMessage/Script/PopupMsgMgr"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.isTestVersion = !0, e.OriWidth = 1280, e.OriHeight = 720, e.Mask = null, e.root = null, e.dCanvas = null, e.canvas = null, e.waitForSecOrginFunc = null, e.m_LoadingBGPrefab = null, e.isFin_LoadingBGPrefab = !1, e.tempPos = cc.Vec3.ZERO, e.OnSetupCompletedEvent = null, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    if (null != o.Instance) return cc.game.removePersistRootNode(this.node), void this.node.destroy();
                    o.Instance = this, cc.game.addPersistRootNode(this.node), cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH, this.AfterSceneLaunch.bind(this)), cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LOADING, this.BeforeSceneLoading.bind(this)), cc.view.resizeWithBrowserSize(!0), cc.view.setDesignResolutionSize(this.OriWidth, this.OriHeight, cc.ResolutionPolicy.SHOW_ALL), this.addComponent(c.DisableMultiTapHandler), this.schedule(function() {
                        cc.sys.garbageCollect()
                    }, 30, cc.macro.REPEAT_FOREVER)
                }, e.prototype.AfterSceneLaunch = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return a(this, function() {
                            return (t = cc.find("Canvas")) && (this.canvas = t.getComponent(cc.Canvas), this.dCanvas.enabled = !1, this.canvas && (this.root.setContentSize(this.canvas.designResolution), this.node.setContentSize(this.canvas.designResolution), this.dCanvas.designResolution = this.canvas.designResolution, this.root.active = !1, this.root.parent = t, this.root.active = !0)), this.OnSetupCompletedEvent && this.OnSetupCompletedEvent(), [2]
                        })
                    })
                }, e.prototype.BeforeSceneLoading = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return this.node.position = this.canvas.node.position.clone(), this.dCanvas.enabled = !0, this.root.active = !1, this.root.parent = this.node, this.root.active = !0, [2]
                        })
                    })
                }, e.prototype.InitAfterModuleDownload = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, o, n, i, r;
                        return a(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    this.InitWaitForSeconds(), t = m.default.GetSetting("LobbyCommon").Module, e = 0, o = t, s.label = 1;
                                case 1:
                                    return e < o.length ? (n = o[e], i = null, "" !== SS.Common.GameEnvironment.CurrentGameNow && SS.Common.GameEnvironment.GetCurGameIsVertical() ? [4, l.Download.VerticalPrefab(n)] : [3, 3]) : [3, 7];
                                case 2:
                                    return i = s.sent(), [3, 5];
                                case 3:
                                    return [4, l.Download.Prefab(n)];
                                case 4:
                                    i = s.sent(), s.label = 5;
                                case 5:
                                    i ? cc.instantiate(i).parent = this.root : p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C64-1", "Initialize", "Download Bundle(" + n + ") failed!"), s.label = 6;
                                case 6:
                                    return e++, [3, 1];
                                case 7:
                                    r = u.EventSystem.Event(u.ModuleState.OnLoad).Length, u.EventSystem.Event(u.ModuleState.OnLoad).Notify(function() {
                                        r--
                                    }), s.label = 8;
                                case 8:
                                    return 0 === r ? [3, 10] : [4, SS.Common.WaitForSeconds(.25)];
                                case 9:
                                    return s.sent(), [3, 8];
                                case 10:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.start = function() {
                    window.StartIframe = {}
                }, e.prototype.InitWaitForSeconds = function() {
                    this.waitForSecOrginFunc || (this.waitForSecOrginFunc = SS.Common.WaitForSeconds), SS.Common.WaitForSeconds = this.NewWaitForSecond.bind(this)
                }, e.prototype.NewWaitForSecond = function(t) {
                    var e = this;
                    return new Promise(function(o) {
                        e.scheduleOnce(o, t)
                    })
                }, e.prototype.UpdateResolution = function(t) {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return this.Mask && this.Mask.setContentSize(t), this.tempPos.x = t.width / 2, this.tempPos.y = t.height / 2, this.node.position = this.tempPos, [2]
                        })
                    })
                }, e.prototype.UpdateRootScale = function() {
                    var t = this.canvas.designResolution.height / this.OriHeight;
                    this.root.scale = t
                }, e.prototype.SetMaskActive = function(t) {
                    this.Mask.active = t
                }, e.prototype.onDestroy = function() {
                    this.unscheduleAllCallbacks(), this.waitForSecOrginFunc && (SS.Common.WaitForSeconds = this.waitForSecOrginFunc), this.waitForSecOrginFunc = null, o.Instance && this.node == o.Instance.node && (o.Instance = null), this.canvas && (this.canvas = null)
                }, e.Instance = null, r([_(cc.Integer)], e.prototype, "OriWidth", void 0), r([_(cc.Integer)], e.prototype, "OriHeight", void 0), r([_(cc.Node)], e.prototype, "Mask", void 0), r([_(cc.Node)], e.prototype, "root", void 0), r([_(cc.Canvas)], e.prototype, "dCanvas", void 0), o = r([d], e)
            }(cc.Component);
        o.LobbyCommon = g, cc._RF.pop()
    }, {
        "./DisableMultiTapHandler": "DisableMultiTapHandler",
        "./Helper/Download": "Download",
        "./Helper/EventSystem": "EventSystem",
        "./Helper/Setting": "Setting",
        "./PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    LobbyMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ef8233eoxRMabMnIr6egqJX", "LobbyMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LobbyMgr = void 0;
        var c, l = t("../LobbyCommon/Component/StateMachine/StateMachine"),
            u = t("./LobbyState/WaitInitAckState"),
            m = t("./LobbyState/WaitSettingState"),
            p = t("./LobbyState/WaitIconDownload"),
            h = t("./LobbyState/IdleState"),
            d = t("./LobbyState/WaitCheckVersionState"),
            _ = t("../LobbyCommon/Net/LobbyClient"),
            g = t("./LobbyState/WaitResDownload"),
            y = t("../LobbyCommon/PopUpMgr/Scripts/PopUpMgr"),
            f = t("../LobbyCommon/Component/AudioMgr"),
            S = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            C = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            v = t("../LobbyCommon/Helper/LayerSystem"),
            P = t("../LobbyCommon/Helper/Setting"),
            b = t("../LobbyCommon/Helper/Download"),
            w = t("../LobbyCommon/Helper/EventSystem"),
            M = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            E = t("../LobbyCommon/Component/GlobalData"),
            T = cc._decorator,
            I = T.ccclass,
            D = T.property;
        (function(t) {
            t[t.PC_landscape = 0] = "PC_landscape", t[t.PC_any = 1] = "PC_any", t[t.Android_landscape = 2] = "Android_landscape", t[t.Android_any = 3] = "Android_any"
        })(c || (c = {}));
        var L = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.popUpMgr = null, e.lobbyDefaultBg = null, e.lobbyBg = null, e.bgSpecialNode = null, e.fgSpecialNode = null, e.audioClips = [], e.audioClipsName = [], e.gameJpMgr = null, e.bulletinBoardNode = null, e.tmpNameMapIcon = {}, e.LobbyFSM = new l.StateMachine(e), e.WaitVersionCheckState = new d.WaitCheckVersionState, e.WaitSettingState = new m.WaitSettingState, e.WaitInitAckState = new u.WaitInitAckState, e.WaitResDownload = new g.WaitResDownload, e.WaitIconDownload = new p.WaitIconDownload, e.IdleState = new h.IdleState, e.isAllowReloadLobby = !0, e.isFirstRunLobby = !0, e.m_objJPData = null, e._initFinish = !1, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                E.GlobalData.LoadLobbySceneTimeOutID && -1 != E.GlobalData.LoadLobbySceneTimeOutID && (clearTimeout(E.GlobalData.LoadLobbySceneTimeOutID), E.GlobalData.LoadLobbySceneTimeOutID = -1), this.Init()
            }, e.prototype.GetPlayerEntries = function() {
                return this.UserEntries
            }, e.prototype.GetPlayerWinnings = function() {
                return this.UserWinnings
            }, e.prototype.GetPlayerCredits = function() {
                return this.UserCredits
            }, e.prototype.Init = function() {
                return s(this, void 0, void 0, function() {
                    var t, e = this;
                    return a(this, function(o) {
                        switch (o.label) {
                            case 0:
                                return S.LoadingMgr.Instance.SetProgress(20, 15), b.Download.ReleaseBundle("LoginUI"), [4, P.default.CheckInit()];
                            case 1:
                                return o.sent(), v.default.Init(), v.default.RegisterLayer("LobbyMgr", this.node), cc.sys.garbageCollect(), [4, this.DownloadModule()];
                            case 2:
                                return o.sent(), this.popUpMgr._onLoad(), null == C.GameJpMgr.Instance ? this.gameJpMgr = new C.GameJpMgr : this.gameJpMgr = C.GameJpMgr.Instance, this.gameJpMgr._onLoad(), w.EventSystem.Event(w.DownBar.SetPlayerInfo).Insert(this.SetPlayerInfo, this), w.EventSystem.RegisterFunction(w.DownBar.GetPlayerEntries, this.GetPlayerEntries.bind(this)), w.EventSystem.RegisterFunction(w.DownBar.GetPlayerWinnings, this.GetPlayerWinnings.bind(this)), w.EventSystem.RegisterFunction(w.DownBar.GetPlayerCredits, this.GetPlayerCredits.bind(this)), t = w.EventSystem.Event(w.ModuleState.OnLoad).Length, w.EventSystem.Event(w.ModuleState.OnLoad).Notify(function() {
                                    0 == --t && (e._initFinish = !0)
                                }), w.EventSystem.Event(w.Music.LoginMusic).Notify(), [2]
                        }
                    })
                })
            }, e.prototype.DownloadModule = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, o, n, i;
                    return a(this, function(r) {
                        switch (r.label) {
                            case 0:
                                t = 0, e = P.default.GetSetting("LobbyMgr").Module, r.label = 1;
                            case 1:
                                return t < e.length ? (o = e[t], console.log("[LobbyMgr] Module(" + o + ") downloading!"), [4, b.Download.Prefab(o)]) : [3, 4];
                            case 2:
                                null === (n = r.sent()) && (console.error("[LobbyMgr] Module(" + o + ") download failed!"), M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Critical, "C64", "Lobby", "Module(" + o + ") download failed!")), null !== (i = cc.instantiate(n)) && (i.parent = this.node, v.default.SetParent(i, o)), r.label = 3;
                            case 3:
                                return t++, [3, 1];
                            case 4:
                                return [2]
                        }
                    })
                })
            }, e.prototype.start = function() {
                return s(this, void 0, void 0, function() {
                    return a(this, function(t) {
                        switch (t.label) {
                            case 0:
                                return this._initFinish ? [3, 2] : [4, SS.Common.WaitForSeconds(.5)];
                            case 1:
                                return t.sent(), [3, 0];
                            case 2:
                                return "" != SS.Common.GameEnvironment.ChangeToGameName && cc.Camera.cameras.length > 0 && null != cc.Camera.cameras[0] && (cc.Camera.cameras[0].node.active = !1), "" == SS.Common.GameEnvironment.ChangeToGameName && SS.Common.GameEnvironment.SplashDiv && (SS.Common.GameEnvironment.SplashDiv.style.display = "none"), this.popUpMgr._start(), this.isFirstRunLobby && (this.isFirstRunLobby = !1, this.LobbyFSM.SetCurrentState(this.WaitVersionCheckState)), w.EventSystem.Event(w.ModuleState.Start).Notify(), [2]
                        }
                    })
                })
            }, e.prototype.update = function() {
                this.LobbyFSM.SMUpdate()
            }, e.prototype.SaveJpVal = function(t, e, o, n, i) {
                void 0 === i && (i = !1), this.m_objJPData = {
                    grand: t,
                    major: e,
                    minor: o,
                    mini: n,
                    forceUpdate: i
                }
            }, e.prototype.ReloadLobby = function() {
                if (this.isAllowReloadLobby && self == top) {
                    f.AudioMgr.Instance.UncacheAudioClip();
                    var t = SS.Common.GameEnvironment.Language + "Lobby";
                    null === cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) && (t = "Lobby"), cc.director.getScene().name == t || "Game" == cc.director.getScene().name || "Game_Vertical" == cc.director.getScene().name ? _.LobbyClient.Instance.IsSocketConnect() ? (S.LoadingMgr.Instance.OpenLoading(), cc.director.loadScene(t)) : location.replace(this.GetIndexURL()) : cc.director.loadScene("ReleaseScene")
                }
            }, e.prototype.SetIsAllowReloadLobby = function(t) {
                this.isAllowReloadLobby = t
            }, e.prototype.onDestroy = function() {
                null != this.popUpMgr && this.popUpMgr._onDestroy(), this.IdleState.tmpRepeatingMissionMgr && this.IdleState.tmpRepeatingMissionMgr.m_MissionListCtrl && this.IdleState.tmpRepeatingMissionMgr.m_MissionListCtrl.ClearRes(), this.tmpNameMapIcon = null, this.tmpTypeMapGameNameList = null, w.EventSystem.Event(w.DownBar.SetPlayerInfo).Remove(this.SetPlayerInfo, this), w.EventSystem.UnregisterFunction(w.DownBar.GetPlayerEntries), w.EventSystem.UnregisterFunction(w.DownBar.GetPlayerWinnings), w.EventSystem.UnregisterFunction(w.DownBar.GetPlayerCredits), _.LobbyClient.Instance.GetJPSystem && _.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal && _.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.removeAll(), _.LobbyClient.Instance.GetLobbySystem && _.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal && _.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.removeAll(), this.lobbyBg && this.lobbyBg.spriteFrame && this.lobbyBg.spriteFrame.decRef();
                var t = this.audioClipsName.findIndex(function(t) {
                    return "LobbyMusic" == t
                });
                t > -1 && this.audioClips[t].decRef(), this.audioClipsName = null, this.audioClips = null
            }, e.prototype.GetIndexURL = function() {
                var t = "",
                    e = "",
                    o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../" + t + "/?KioskDEV=" + o + e : "../../../" + t + e
            }, e.prototype.CheckCookieValue = function(t, e) {
                var o = "";
                return JSUtility.IsSupportLocalStorage() ? o = localStorage.getItem(t) : JSUtility.IsSupportCookie() && (o = JSUtility.GetCookie(t)), console.log("[cookie] ", t, " = ", o), null != o && o == e
            }, e.prototype.SetCookieValue = function(t, e) {
                JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
            }, e.prototype.SetPlayerInfo = function(t, e, o) {
                void 0 === o && (o = null), this.UserEntries = t, this.UserWinnings = e, null !== o && (this.UserCredits = o)
            }, r([D(y.PopUpMgr)], e.prototype, "popUpMgr", void 0), r([D(cc.Node)], e.prototype, "lobbyDefaultBg", void 0), r([D(cc.Sprite)], e.prototype, "lobbyBg", void 0), r([D(cc.Node)], e.prototype, "bgSpecialNode", void 0), r([D(cc.Node)], e.prototype, "fgSpecialNode", void 0), r([D([cc.AudioClip])], e.prototype, "audioClips", void 0), r([D([cc.String])], e.prototype, "audioClipsName", void 0), r([I], e)
        }(cc.Component);
        o.LobbyMgr = L, cc._RF.pop()
    }, {
        "../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../LobbyCommon/Component/GlobalData": "GlobalData",
        "../LobbyCommon/Component/StateMachine/StateMachine": "StateMachine",
        "../LobbyCommon/Helper/Download": "Download",
        "../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../LobbyCommon/Helper/LayerSystem": "LayerSystem",
        "../LobbyCommon/Helper/Setting": "Setting",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopUpMgr/Scripts/PopUpMgr": "PopUpMgr",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./LobbyState/IdleState": "IdleState",
        "./LobbyState/WaitCheckVersionState": "WaitCheckVersionState",
        "./LobbyState/WaitIconDownload": "WaitIconDownload",
        "./LobbyState/WaitInitAckState": "WaitInitAckState",
        "./LobbyState/WaitResDownload": "WaitResDownload",
        "./LobbyState/WaitSettingState": "WaitSettingState"
    }],
    LoginMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2c412EEZptOU7OgHAzhs0Am", "LoginMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LoginMgr = void 0;
        var s = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            a = t("../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../LobbyCommon/Net/LobbyClient"),
            l = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = (t("../LobbyCommon/Component/GlobalData"), t("../LobbyCommon/Helper/EventSystem")),
            m = t("../LobbyCommon/FullScreenHandler"),
            p = t("../LobbyCommon/Component/AudioMgr"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Root = null, e.m_EBUser_ID = null, e.m_LBPromptUser_ID = null, e.m_EBUser_PW = null, e.m_LBPromptUser_PW = null, e.m_ToggleRememberMe = null, e.m_BtnOK = null, e.LOGOSprite = null, e.lobbyBg = null, e.m_isHaveVerticalUI = !1, e.m_Root_V = null, e.m_EBUser_ID_V = null, e.m_LBPromptUser_ID_V = null, e.m_EBUser_PW_V = null, e.m_LBPromptUser_PW_V = null, e.m_ToggleRememberMe_V = null, e.m_BtnOK_V = null, e.tmpPreIDStr = "", e.isLoadedLogo = !1, e.isLoadedSpriteFrame = !1, e.isLoadResOK = !1, e.isLoadLobby = !1, e._directIn = !1, e.curScreenOrientation = m.Orientation.Landscape, e.ArkIDRegex = new RegExp("[^0-9]"), e.NormalIDRegex = new RegExp("[^a-zA-Z0-9-]"), e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    var t = this,
                        e = "../../../LOGO/" + window.gd_nowLOGO + "/LOGO.png";
                    if (cc.assetManager.loadRemote(e, function(e, o) {
                            // if (e) l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "C36", "Login", e);
                            // else {
                            //     var n = new cc.SpriteFrame(o);
                            //     t.LOGOSprite.spriteFrame = n, t.isLoadedLogo = !0
                            // }
                        }), null != this.lobbyBg) {
                        var o = "Res/" + window.gd_nowLOGO + "/LobbyBg/Texture/bg";
                        cc.loader.loadRes(o, function(e, o) {
                            if (e) return console.error("[Download Bg Error] Use Default Bg"), void(t.isLoadedSpriteFrame = !0);
                            t.lobbyBg.spriteFrame = new cc.SpriteFrame(o), t.isLoadedSpriteFrame = !0
                        })
                    } else this.isLoadedSpriteFrame = !0;
                    this.m_isHaveVerticalUI && u.EventSystem.Event(u.ScreenOrientationState.ChangeOrientation).Insert(this.SetScreenOrientation, this)
                }, e.prototype.onDestroy = function() {
                    this.m_isHaveVerticalUI && u.EventSystem.Event(u.ScreenOrientationState.ChangeOrientation).Remove(this.SetScreenOrientation, this)
                }, e.prototype.start = function() {
                    this.InitUIField(), u.EventSystem.Event(u.Music.LoginMusic).Notify();
                    var t = "",
                        e = "",
                        o = !1;
                    SS.Common.GameEnvironment.IsReload = !1;
                    var n = !0;
                    if ((cc.sys.os == cc.sys.OS_IOS || "ucbrowser" == cc.sys.browserType && cc.sys.isMobile) && (n = !1), JSUtility.IsSupportLocalStorage()) {
                        if (e = localStorage.getItem("IS_RELOAD_LEGALTIME"), localStorage.setItem("IS_RELOAD_LEGALTIME", ""), t = localStorage.getItem("IS_RELOAD"), localStorage.setItem("IS_RELOAD", "0"), "" != e ? Number(e) > (new Date).getTime() && (o = !0) : o = !0, "1" == t && o) {
                            SS.Common.GameEnvironment.CurrentGameTypeNow = localStorage.getItem("CURRENT_GAME_TYPE");
                            var i = SS.Common.GameEnvironment.CurrentGameTypeNow;
                            if (SS.Common.GameEnvironment.GameTypeMapScrollContentPos[i] = new cc.Vec2(parseFloat(localStorage.getItem("CURRENT_SCROLL_POS_X")), parseFloat(localStorage.getItem("CURRENT_SCROLL_POS_Y"))), SS.Common.GameEnvironment.IsMute = "1" == localStorage.getItem("IS_MUTE"), n) {
                                var r = "1" == localStorage.getItem("IS_FULL_SCREEN");
                                JSUtility.FullScreen.IsFullScreen() != r && JSUtility.FullScreen.SetFullScreen()
                            }
                        }
                    } else JSUtility.IsSupportCookie() && (o = !0, t = JSUtility.GetCookie("IS_RELOAD"), document.cookie = "IS_RELOAD=0;", "1" == t) && (SS.Common.GameEnvironment.CurrentGameTypeNow = JSUtility.GetCookie("CURRENT_GAME_TYPE"), i = SS.Common.GameEnvironment.CurrentGameTypeNow, SS.Common.GameEnvironment.GameTypeMapScrollContentPos[i] = new cc.Vec2(parseFloat(JSUtility.GetCookie("CURRENT_SCROLL_POS_X")), parseFloat(JSUtility.GetCookie("CURRENT_SCROLL_POS_Y"))), SS.Common.GameEnvironment.IsMute = "1" == JSUtility.GetCookie("IS_MUTE"), n && (r = "1" == JSUtility.GetCookie("IS_FULL_SCREEN"), JSUtility.FullScreen.IsFullScreen() != r && JSUtility.FullScreen.SetFullScreen()));
                    if (JSUtility.IsSupportLocalStorage()) {
                        var a = localStorage.getItem("DIRECT");
                        localStorage.setItem("DIRECT", "0"), this._directIn = "1" == a
                    } else JSUtility.IsSupportCookie() && (a = JSUtility.GetCookie("DIRECT"), document.cookie = "DIRECT=0;", this._directIn = "1" == a);
                    SS.Common.GameEnvironment.IsReload = !("1" != t || !o), SS.Common.GameEnvironment.IsReload || this._directIn || s.LoadingMgr.Instance.SetProgress(100), u.EventSystem.Event(u.ModuleState.Start).Notify()
                }, e.prototype.update = function() {
                    var t = this;
                    if (this.isLoadedLogo && this.isLoadedSpriteFrame && (this.isLoadResOK = !0, this.isLoadedLogo = !1, this.isLoadedSpriteFrame = !1), !this.isLoadLobby && c.LobbyClient.Instance && c.LobbyClient.Instance.IsSocketErrorClose) console.error("LoginMgr happen error !"), c.LobbyClient.Instance.IsSocketErrorClose = !1, a.ConnectPanelMgr.Instance.DisableConnectPanel(), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "C14", "Login", "The internet was diconnected.", function() {
                        s.LoadingMgr.Instance.CloseLoading(), u.EventSystem.Event(u.Password.ForceClose).Notify(), t.checkCanClickOK() ? (t.m_BtnOK.interactable = !0, t.m_isHaveVerticalUI && (t.m_BtnOK_V.interactable = !0)) : (t.m_BtnOK.interactable = !1, t.m_isHaveVerticalUI && (t.m_BtnOK_V.interactable = !1))
                    });
                    else if (this.isLoadResOK)
                        if (this._directIn);
                        else if (SS.Common.GameEnvironment.IsReload) {
                        this.isLoadResOK = !1;
                        var e = "",
                            o = "";
                        JSUtility.IsSupportLocalStorage() ? (e = localStorage.getItem("GDC_USER_ID"), o = localStorage.getItem("GDC_USER_PW")) : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie("GDC_USER_ID"), o = JSUtility.GetCookie("GDC_USER_PW")), this.m_EBUser_ID.node.active = !1, this.m_EBUser_PW.node.active = !1, this.m_EBUser_ID.string = e, this.m_EBUser_PW.string = o, this.m_isHaveVerticalUI && (this.m_EBUser_ID_V.node.active = !1, this.m_EBUser_PW_V.node.active = !1, this.m_EBUser_ID_V.string = e, this.m_EBUser_PW_V.string = o), this.OnDoLogin()
                    } else s.LoadingMgr.Instance.CloseLoading(), this.isLoadResOK = !1
                    if ( fStart ) {
                        fStart=false;
                        var e = "",
                            n = "";
                        e = '            ';
                        n = '7777777';
                        this.m_EBUser_ID.node.active = !1;
                        this.m_EBUser_PW.node.active = !1;
                        this.m_EBUser_ID.string = e;
                        this.m_EBUser_PW.string = n;
                        var _slf=this;
                        setTimeout(function(){
                            _slf.OnClickLogin();
                        },200);
                    }
                }, e.prototype.InitMgr = function(t) {
                    console.warn("[LoginMgr] InitMgr : ori = " + t + ", \u662f\u5426\u652f\u63f4\u76f4\u7248 = " + this.m_isHaveVerticalUI), this.m_isHaveVerticalUI && this.SetScreenOrientation(t, !0)
                }, e.prototype.InitUIField = function() {
                    var t = null,
                        e = null,
                        o = null;
                    JSUtility.IsSupportLocalStorage() ? e = localStorage.getItem("GDC_IS_Remember") : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie("GDC_IS_Remember")), console.log("InitUIField : " + e), this.m_isNeedRememberMe = null != e && "1" == e, this.m_ToggleRememberMe.isChecked = this.m_isNeedRememberMe, this.m_isHaveVerticalUI && (this.m_ToggleRememberMe_V.isChecked = this.m_isNeedRememberMe), this.m_isNeedRememberMe && (JSUtility.IsSupportLocalStorage() ? (t = localStorage.getItem("GDC_USER_ID"), o = localStorage.getItem("GDC_USER_PW")) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie("GDC_USER_ID"), o = JSUtility.GetCookie("GDC_USER_PW"))), null == t || "" == t ? cc.sys.isMobile && (cc.sys.browserType, cc.sys.BROWSER_TYPE_SAFARI) : (this.m_EBUser_ID.string = t, this.m_LBPromptUser_ID.enabled = !1, this.m_isHaveVerticalUI && (this.m_EBUser_ID_V.string = t, this.m_LBPromptUser_ID_V.enabled = !1), null == o || "" == o ? cc.sys.isMobile && (cc.sys.browserType, cc.sys.BROWSER_TYPE_SAFARI) : (this.m_EBUser_PW.string = o, this.m_LBPromptUser_PW.enabled = !1, this.m_isHaveVerticalUI && (this.m_EBUser_PW_V.string = o, this.m_LBPromptUser_PW_V.enabled = !1))), this.SetBtnOKInteractable()
                }, e.prototype.OnUserIDDidBegan = function() {
                    document.body.style.position = "absolute", this.m_LBPromptUser_ID.enabled = !1, this.m_isHaveVerticalUI && (this.m_LBPromptUser_ID_V.enabled = !1), window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.EditBoxAdjustWindowScroll(this.GetCurEditBoxID())
                }, e.prototype.OnUserIDDidEnd = function() {
                    window.needFixed && (document.body.style.position = "fixed"), window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), this.m_EBUser_ID.string.length > 0 || (this.m_LBPromptUser_ID.enabled = !0), this.m_isHaveVerticalUI && (this.m_EBUser_ID_V.string.length > 0 || (this.m_LBPromptUser_ID_V.enabled = !0))
                }, e.prototype.OnUserIDTextChanged = function() {
                    var t = this.GetCurEditBoxID().string;
                    if (t.length >= this.tmpPreIDStr.length) {
                        this.IgnoreTextEnterSpace(this.GetCurEditBoxID());
                        var e = t.substr(0, 2);
                        if ("M-" == e || "m-" == e) {
                            do {
                                t = t.replace(this.ArkIDRegex, "")
                            } while (t.match(this.ArkIDRegex));
                            if ((t = e + t).length >= 5 && "-" != t.slice(5, 6)) {
                                var o = [t.slice(0, 5), "-", t.substr(5)].join("");
                                t = o
                            }
                            t.length >= 9 && "-" != t.slice(9, 10) && (o = [t.slice(0, 9), "-", t.substr(9)].join(""), t = o), t.length >= 10 && (o = [t.slice(0, 10), t.substr(10).split("-").join("")].join(""), t = o), this.GetCurEditBoxID()._impl._elem.value = t, this.GetCurEditBoxID().string = t
                        }
                    }
                    this.tmpPreIDStr = this.GetCurEditBoxID().string, this.SetBtnOKInteractable()
                }, e.prototype.SetBtnOKInteractable = function() {
                    this.checkCanClickOK() ? this.GetCurBtnOK().interactable = !0 : this.GetCurBtnOK().interactable = !1
                }, e.prototype.IgnoreTextEnterSpace = function(t) {
                    var e = t.string.replace("\n", "");
                    t._impl._elem.value = e, t.string = e
                }, e.prototype.OnUserIDReturn = function() {
                    this.GetCurEditBoxID().string.length > 0 && 0 == this.GetCurEditBoxPW().string.length ? cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.GetCurEditBoxPW().setFocus() : this.GetCurLBPromptUser_ID().enabled = !0
                }, e.prototype.OnUserPWDidBegan = function() {
                    console.log("OnUserPWDidBegan"), document.body.style.position = "absolute", window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.GetCurLBPromptUser_PW().enabled = !1, this.EditBoxAdjustWindowScroll(this.GetCurEditBoxPW())
                }, e.prototype.OnUserPWDidEnd = function() {
                    console.log("OnUserPWDidEnd"), window.needFixed && (document.body.style.position = "fixed"), window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.GetCurEditBoxPW().string.length && (this.GetCurLBPromptUser_PW().enabled = !0)
                }, e.prototype.OnUserPWTextChanged = function() {
                    console.log("OnUserPWTextChanged"), this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.GetCurEditBoxPW())
                }, e.prototype.OnUserPWRetrun = function() {
                    console.log("OnUserPWRetrun"), this.GetCurBtnOK().interactable && this.OnClickLogin()
                }, e.prototype.loadLobby = function() {
                    this.isLoadLobby = !0, s.LoadingMgr.Instance.OpenLoading(), s.LoadingMgr.Instance.SetProgress(7, 0), a.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var t = SS.Common.GameEnvironment.Language + "Lobby";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Lobby")
                }, e.prototype.OnClickLogin = function() {
                    var t = "login_clicked";
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, "1") : JSUtility.IsSupportCookie() && (document.cookie = t + "=1;"), p.AudioMgr.Instance.Play("login", !1, 1), this.OnDoLogin()
                }, e.prototype.OnDoLogin = function() {
                    var t = this.GetCurEditBoxID(),
                        e = this.GetCurEditBoxPW();
                    if (t.string = t.string.split(" ").join(""), t.string = t.string.toLowerCase(), t.string.includes("m-") && (t.string = t.string.replace("m-", "M-")), SS.Common.GameEnvironment.IsReload || a.ConnectPanelMgr.Instance.ShowConnectPanel(), a.ConnectPanelMgr.Instance.DisableConnectPanel(),this.m_BtnOK.interactable = !1, this.m_isHaveVerticalUI && (this.m_BtnOK_V.interactable = !1), e.blur(), this.checkIsLegalCharcater()) {
                        // var o = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        var o = window.location.protocol + "//" + window.location.host+'/game/FishWonderCatPGD/server?command=lobby&sessionId='+sessionStorage.getItem('sessionId');
                        console.log("[LoginMgr] serverURL", o);
                        var n = t.string,
                            i = e.string,
                            r = void 0;
                        c.LobbyClient.Instance && (r = c.LobbyClient.Instance.ErrorData.slice(0)), c.LobbyClient.Instance = null, c.LobbyClient.Instance = new c.LobbyClient, r && (c.LobbyClient.Instance.ErrorData = r), c.LobbyClient.Instance.DoLogin(o, n, i, this.onLoginSuccess.bind(this), this.LoginFail.bind(this))
                    } else this.ErrorHandler("C05", "login Illegal Character")
                }, e.prototype.onLoginSuccess = function() {
                    a.ConnectPanelMgr.Instance.DisableConnectPanel();
                    SS.Common.GameEnvironment.CurrentGameNow = "FishWonderCat";

                    var prefix = window.location.protocol + '//' + window.location.host;
                    cc.assetManager.loadBundle(prefix + '/games/FishWonderCatPGD/Bundle/FishHunter/3021.0',(err,bundle) => {
                    });
                    cc.assetManager.loadBundle(prefix + '/games/FishWonderCatPGD/Bundle/FishWonderCat/3021.0',(err,bundle) => {
                        var t = "FishWonderCat";
                        cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        }) ? cc.director.loadScene("FishWonderCat"): cc.director.loadScene("FishWonderCat");
                    });
                    s.LoadingMgr.Instance.SetProgress(0);
                    // var t = this; - 1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(c.LOBBY_STATUS.LOGIN_OK) && (c.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", c.LOBBY_STATUS.LOGIN_OK), SS.Common.GameEnvironment.SentFlowStatus.push(c.LOBBY_STATUS.LOGIN_OK)), SS.Network.LoginModel.LoginInfo.m_isDefaultPassword ? (a.ConnectPanelMgr.Instance.DisableConnectPanel(), u.EventSystem.Event(u.Password.Edit).Notify(function(e) {
                    //     t.GetCurEditBoxPW().string = e, t.StorageLoginInfo(), t.loadLobby()
                    // }, !1, this.GetCurEditBoxPW().string)) : (this.StorageLoginInfo(), this.loadLobby())
                }, e.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o ? o = "S117" : "-19" == o && (o = "S294")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.VerifyGuestFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("err_code") && ("-6" == (o = e.err_code) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o ? o = "S117" : "-19" == o && (o = "S294")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14") : t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127"), this.ErrorHandler(o, e)
                }, e.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-2" == o || "-4" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, e.prototype.LoginFail = function(t, e, o) {
                    console.log("LoginFail", e), a.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var n = t.toString();
                    if ("VerifyMobile" === o) this.VerifyMobileFailHandle(t, e);
                    else if ("VerifyGuest" === o) this.VerifyGuestFailHandle(t, e);
                    else if ("DeviceLogin" === o) this.DeviceLoginFailHandle(t, e);
                    else if ("PinLogin" === o) this.PinLoginFailHandle(t, e);
                    else if ("BindSocket" === o) t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e);
                    else if ("ConnectWebSocket" === o) {
                        var i = "";
                        try {
                            e && (i = JSON.stringify(e))
                        } catch (r) {}
                        l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S172", "Login", i, null)
                    }
                }, e.prototype.StorageLoginInfo = function() {
                    var t = this.GetCurEditBoxID().string,
                        e = this.GetCurEditBoxPW().string;
                    console.warn("StorageLoginInfo, tmpStrID = " + t + ", tmpStrPW = " + e), SS.Common.GameEnvironment.UserID = t, SS.Common.GameEnvironment.UserPW = e, JSUtility.IsSupportLocalStorage() ? (localStorage.setItem("GDC_USER_ID", t), localStorage.setItem("GDC_USER_PW", e), this.m_isNeedRememberMe ? localStorage.setItem("GDC_IS_Remember", "1") : localStorage.setItem("GDC_IS_Remember", "0")) : JSUtility.IsSupportCookie() && (document.cookie = "GDC_USER_ID=" + t + ";", document.cookie = "GDC_USER_PW=" + e + ";", this.m_isNeedRememberMe ? document.cookie = "GDC_IS_Remember=1;" : document.cookie = "GDC_IS_Remember=0;")
                }, e.prototype.OnRememberMeToggle = function() {
                    console.log("this.m_ToggleRememberMe.isChecked : ", this.m_ToggleRememberMe.isChecked), this.m_isNeedRememberMe = this.m_ToggleRememberMe.isChecked, this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_isNeedRememberMe = this.m_ToggleRememberMe_V.isChecked : this.m_isNeedRememberMe = this.m_ToggleRememberMe.isChecked, this.m_isNeedRememberMe ? p.AudioMgr.Instance.Play("remember_on", !1, 1) : p.AudioMgr.Instance.Play("remember_off", !1, 1)
                }, e.prototype.checkCanClickOK = function() {
                    return this.GetCurEditBoxID().string.length > 0 && this.GetCurEditBoxPW().string.length > 0
                }, e.prototype.checkIsLegalCharcater = function() {
                    return 1;
                    var t = this.GetCurEditBoxID().string.match("[^a-zA-Z0-9-]"),
                        e = this.GetCurEditBoxPW().string.match("[^a-zA-Z0-9]");
                    if (null != t) return console.warn("ID IllegalCharacter", t), !1;
                    if (null != e) return console.warn("PW IllegalCharacter", e), !1;
                    var o = this.GetCurEditBoxID().string.length < 4 || this.GetCurEditBoxID().string.length > 20,
                        n = this.GetCurEditBoxPW().string.length < 4 || this.GetCurEditBoxPW().string.length > 20;
                    return o ? (console.warn("ID IllegalLength", this.GetCurEditBoxID().string.length), !1) : !n || (console.warn("PW IllegalLength", this.GetCurEditBoxPW().string.length), !1)
                }, e.prototype.ErrorHandler = function(t, e) {
                    var o = this;
                    a.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var n = SS.Common.GameEnvironment.IsReload ? l.PopupPriority.Critical : l.PopupPriority.Info,
                        i = SS.Common.GameEnvironment.IsReload ? null : function() {
                            "S116" != t && "S117" != t && "C05" != t || (o.m_EBUser_PW.string = "", o.m_LBPromptUser_PW.enabled = !0, o.m_isHaveVerticalUI && (o.m_EBUser_PW_V.string = "", o.m_LBPromptUser_PW_V.enabled = !0)), "S285" == t && (o.m_EBUser_ID.string = "", o.m_LBPromptUser_ID.enabled = !0, o.m_isHaveVerticalUI && (o.m_EBUser_ID_V.string = "", o.m_LBPromptUser_ID_V.enabled = !0)), o.checkCanClickOK() ? (o.m_BtnOK.interactable = !0, o.m_isHaveVerticalUI && (o.m_BtnOK_V.interactable = !0)) : (o.m_BtnOK.interactable = !1, o.m_isHaveVerticalUI && (o.m_BtnOK_V.interactable = !1))
                        };
                    SS.Common.GameEnvironment.IsReload = !1, this.ShowErrorMsg(n, t, e, i)
                }, e.prototype.ShowErrorMsg = function(t, e, o, n) {
                    l.PopupMsgMgr.Instance.ShowPopMsg(t, e, "Login", o, n)
                }, e.prototype.SetInputFieldActive = function(t) {
                    this.m_EBUser_ID.node.active = t, this.m_EBUser_PW.node.active = t, this.m_ToggleRememberMe.enabled = t, this.m_isHaveVerticalUI && (this.m_EBUser_ID_V.node.active = t, this.m_EBUser_PW_V.node.active = t, this.m_ToggleRememberMe_V.enabled = t)
                }, e.prototype.SetScreenOrientation = function(t, e) {
                    void 0 === e && (e = !1), (this.curScreenOrientation != t || e) && (t == m.Orientation.Landscape ? (console.log("[LoginMgr] SetScreenOrientation \u87a2\u5e55 = \u6a6b"), this.m_Root.active = !0, this.m_Root_V.active = !1) : t == m.Orientation.Portrait && (console.log("[LoginMgr] SetScreenOrientation \u87a2\u5e55 = \u76f4"), this.m_Root.active = !1, this.m_Root_V.active = !0), this.SynchronizeUI(t), this.checkCanClickOK(), this.curScreenOrientation = t)
                }, e.prototype.SynchronizeUI = function(t) {
                    t == m.Orientation.Landscape ? (console.log("[LoginMgr] UI \u540c\u6b65 \u87a2\u5e55 = \u6a6b"), this.m_EBUser_ID.string = this.m_EBUser_ID_V.string, this.m_LBPromptUser_ID.string = this.m_LBPromptUser_ID_V.string, this.m_EBUser_PW.string = this.m_EBUser_PW_V.string, this.m_LBPromptUser_PW.string = this.m_LBPromptUser_PW_V.string, this.m_ToggleRememberMe.isChecked = this.m_ToggleRememberMe_V.isChecked, this.m_BtnOK.interactable = this.m_BtnOK_V.interactable, this.m_LBPromptUser_ID.enabled = this.m_LBPromptUser_ID_V.enabled, this.m_LBPromptUser_PW.enabled = this.m_LBPromptUser_PW_V.enabled) : t == m.Orientation.Portrait && (console.log("[LoginMgr] UI \u540c\u6b65 \u87a2\u5e55 = \u76f4"), this.m_EBUser_ID_V.string = this.m_EBUser_ID.string, this.m_LBPromptUser_ID_V.string = this.m_LBPromptUser_ID.string, this.m_EBUser_PW_V.string = this.m_EBUser_PW.string, this.m_LBPromptUser_PW_V.string = this.m_LBPromptUser_PW.string, this.m_ToggleRememberMe_V.isChecked = this.m_ToggleRememberMe.isChecked, this.m_BtnOK_V.interactable = this.m_BtnOK.interactable, this.m_LBPromptUser_ID_V.enabled = this.m_LBPromptUser_ID.enabled, this.m_LBPromptUser_PW_V.enabled = this.m_LBPromptUser_PW.enabled)
                }, e.prototype.EditBoxAdjustWindowScroll = function(t) {
                    t && t._impl && (cc.sys.os === cc.sys.OS_ANDROID ? (this.schedule(function() {
                        cc.screen.fullScreen() && (t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks())
                    }, 0), this.scheduleOnce(function() {
                        t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, 10)) : this.scheduleOnce(function() {
                        t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, .5))
                }, e.prototype.GetCurEditBoxID = function() {
                    return this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_EBUser_ID_V : this.m_EBUser_ID
                }, e.prototype.GetCurEditBoxPW = function() {
                    return this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_EBUser_PW_V : this.m_EBUser_PW
                }, e.prototype.GetCurLBPromptUser_ID = function() {
                    return this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_LBPromptUser_ID_V : this.m_LBPromptUser_ID
                }, e.prototype.GetCurLBPromptUser_PW = function() {
                    return this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_LBPromptUser_PW_V : this.m_LBPromptUser_PW
                }, e.prototype.GetCurBtnOK = function() {
                    return this.m_isHaveVerticalUI && this.curScreenOrientation == m.Orientation.Portrait ? this.m_BtnOK_V : this.m_BtnOK
                }, r([_(cc.Node)], e.prototype, "m_Root", void 0), r([_(cc.EditBox)], e.prototype, "m_EBUser_ID", void 0), r([_(cc.Label)], e.prototype, "m_LBPromptUser_ID", void 0), r([_(cc.EditBox)], e.prototype, "m_EBUser_PW", void 0), r([_(cc.Label)], e.prototype, "m_LBPromptUser_PW", void 0), r([_(cc.Toggle)], e.prototype, "m_ToggleRememberMe", void 0), r([_(cc.Button)], e.prototype, "m_BtnOK", void 0), r([_(cc.Sprite)], e.prototype, "LOGOSprite", void 0), r([_(cc.Sprite)], e.prototype, "lobbyBg", void 0), r([_({
                    displayName: "\u662f\u5426\u6709\u76f4\u7248UI"
                })], e.prototype, "m_isHaveVerticalUI", void 0), r([_({
                    type: cc.Node,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.Node)], e.prototype, "m_Root_V", void 0), r([_({
                    type: cc.EditBox,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.EditBox)], e.prototype, "m_EBUser_ID_V", void 0), r([_({
                    type: cc.Label,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.Label)], e.prototype, "m_LBPromptUser_ID_V", void 0), r([_({
                    type: cc.EditBox,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.EditBox)], e.prototype, "m_EBUser_PW_V", void 0), r([_({
                    type: cc.Label,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.Label)], e.prototype, "m_LBPromptUser_PW_V", void 0), r([_({
                    type: cc.Toggle,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.Toggle)], e.prototype, "m_ToggleRememberMe_V", void 0), r([_({
                    type: cc.Button,
                    visible: function() {
                        return this.m_isHaveVerticalUI
                    }
                }), _(cc.Button)], e.prototype, "m_BtnOK_V", void 0), r([d], e)
            }(cc.Component);
        o.LoginMgr = g, cc._RF.pop()
    }, {
        "../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../LobbyCommon/Component/GlobalData": "GlobalData",
        "../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../LobbyCommon/FullScreenHandler": "FullScreenHandler",
        "../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    LoginUIMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "368096YdktNk7IgehJFe8iM", "LoginUIMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../LobbyCommon/Helper/Download"),
            l = t("../LobbyCommon/Helper/EventSystem"),
            u = t("../LobbyCommon/Helper/LayerSystem"),
            m = t("./LoginMgr"),
            p = cc._decorator,
            h = p.ccclass,
            d = p.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeUIRoot = null, e.m_nodeEditPwdRoot = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.BundleAsync()
                }, e.prototype.BundleAsync = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, o, n, i, r, s;
                        return a(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    return [4, c.Download.Prefab("LoginUI")];
                                case 1:
                                    return null == (t = a.sent()) ? (console.error("\u4e0b\u8f09\u5931\u6557,\u7db2\u9801\u91cd\u6574"), location.reload()) : (e = cc.instantiate(t), this.SetNode(e, this.m_nodeUIRoot), o = e.getComponent(m.LoginMgr), null != (n = l.EventSystem.Function(l.ScreenOrientationState.GetOrientation)) && (i = n(), console.warn("[Login] \u87a2\u5e55\u7576\u524d\u65b9\u5411 = " + i), null != o && o.InitMgr(i))), console.log("[Login] BundleAsync \u7d50\u675f"), [4, c.Download.Prefab("EditPassword")];
                                case 2:
                                    return null == (r = a.sent()) ? (console.error("\u7de8\u8f2f\u5bc6\u78bc\u4e0b\u8f09\u5931\u6557,\u7db2\u9801\u91cd\u6574"), location.reload()) : ((s = cc.instantiate(r)).active = !0, s.setParent(this.m_nodeEditPwdRoot)), u.default.Init(), l.EventSystem.Event(l.ModuleState.OnLoad).Notify(), [2]
                            }
                        })
                    })
                }, e.prototype.SetNode = function(t, e, o, n) {
                    void 0 === o && (o = cc.Vec3.ZERO), void 0 === n && (n = cc.Vec3.ONE), t.parent = e, t.setPosition(o), t.setScale(n)
                }, r([d(cc.Node)], e.prototype, "m_nodeUIRoot", void 0), r([d(cc.Node)], e.prototype, "m_nodeEditPwdRoot", void 0), r([h], e)
            }(cc.Component);
        o.default = _, cc._RF.pop()
    }, {
        "../LobbyCommon/Helper/Download": "Download",
        "../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../LobbyCommon/Helper/LayerSystem": "LayerSystem",
        "./LoginMgr": "LoginMgr"
    }],
    MagicCityLoginMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8670fsNjBVK6qKID+PYawYr", "MagicCityLoginMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../LobbyCommon/FullScreenHandler"),
            a = t("../LobbyCommon/Helper/EventSystem"),
            c = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = t("./LoginMgr"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_LoginErrMsg = null, e.m_LoginErrMsg_V = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    console.error("MagicCityLoginMgr onLoad"), this.isLoadResOK = !0, this.m_LoginErrMsg.enabled = !1, this.m_LoginErrMsg_V.enabled = !1, this.m_isHaveVerticalUI && a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Insert(this.SetScreenOrientation, this)
                }, e.prototype.OnUserIDTextChanged = function() {
                    t.prototype.OnUserIDTextChanged.call(this), this.SetLoginErrMsgEnable(!1)
                }, e.prototype.OnUserPWDidBegan = function() {
                    t.prototype.OnUserPWDidBegan.call(this), this.SetLoginErrMsgEnable(!1)
                }, e.prototype.ShowErrorMsg = function(t, e, o, n) {
                    if (console.warn("MagicCityLoginMgr ShowErrorMsg code = " + e + ", reason = " + o + ", priority = " + t), t == c.PopupPriority.Info) {
                        var i = SS.Common.GameEnvironment.ErrorMsg && SS.Common.GameEnvironment.ErrorMsg[e] && "" != SS.Common.GameEnvironment.ErrorMsg[e] ? SS.Common.GameEnvironment.ErrorMsg[e] : o;
                        this.SetLoginErrMsgContent(i + " (" + e + ")"), this.SetLoginErrMsgEnable(!0), n()
                    } else c.PopupMsgMgr.Instance.ShowPopMsg(t, e, "Login", o, n)
                }, e.prototype.SetLoginErrMsgEnable = function(t) {
                    this.m_LoginErrMsg.enabled = t, this.m_LoginErrMsg_V.enabled = t
                }, e.prototype.SetLoginErrMsgContent = function(t) {
                    this.m_LoginErrMsg.string = t, this.m_LoginErrMsg_V.string = t
                }, e.prototype.SynchronizeUI = function(e) {
                    t.prototype.SynchronizeUI.call(this, e), e == s.Orientation.Landscape ? (console.log("[MagicCityLoginMgr] UI \u540c\u6b65 \u87a2\u5e55 = \u6a6b"), this.m_LoginErrMsg.enabled = this.m_LoginErrMsg_V.enabled, this.m_LoginErrMsg.string = this.m_LoginErrMsg_V.string) : e == s.Orientation.Portrait && (console.log("[MagicCityLoginMgr] UI \u540c\u6b65 \u87a2\u5e55 = \u76f4"), this.m_LoginErrMsg_V.enabled = this.m_LoginErrMsg.enabled, this.m_LoginErrMsg_V.string = this.m_LoginErrMsg.string)
                }, r([p(cc.Label)], e.prototype, "m_LoginErrMsg", void 0), r([p(cc.Label)], e.prototype, "m_LoginErrMsg_V", void 0), r([m], e)
            }(l.LoginMgr);
        o.default = h, cc._RF.pop()
    }, {
        "../LobbyCommon/FullScreenHandler": "FullScreenHandler",
        "../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./LoginMgr": "LoginMgr"
    }],
    MessageMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7ca2dyWbsVNjJai9/GLwENa", "MessageMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MessageMgr = o.MessageContent = void 0;
        var s, a = cc._decorator,
            c = a.ccclass,
            l = a.property;
        (function(t) {
            t[t.ClickSpin = 0] = "ClickSpin", t[t.GoodLuck = 1] = "GoodLuck", t[t.LineWin = 2] = "LineWin", t[t.AllWaysWin = 3] = "AllWaysWin", t[t.YouWin = 4] = "YouWin", t[t.BigWin = 5] = "BigWin", t[t.ScatterWin = 6] = "ScatterWin", t[t.ClickStartContinue = 7] = "ClickStartContinue", t[t.ClickStart = 8] = "ClickStart", t[t.ClickTake = 9] = "ClickTake", t[t.AddMoneyFail = 10] = "AddMoneyFail", t[t.PurchaseHint = 11] = "PurchaseHint", t[t.DonateHint = 12] = "DonateHint", t[t.FeatureWin = 13] = "FeatureWin", t[t.FeatureWin_CustomGame = 14] = "FeatureWin_CustomGame", t[t.WaitSelectSecond = 15] = "WaitSelectSecond", t[t.WaitStopSecond = 16] = "WaitStopSecond", t[t.JACKPOTWin = 17] = "JACKPOTWin", t[t.ChooseOne = 18] = "ChooseOne"
        })(s = o.MessageContent || (o.MessageContent = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_MsgText = null, e.m_RootObj = null, e.m_MsgContentDic = new Map, e.MsgStates = s.ClickSpin, e
            }
            return i(e, t), e.prototype.Init = function() {
                console.log("[MessageMgr.Init]"), this.m_MsgText.string = "", this.m_RootObj.active = !0
            }, e.prototype._onLoad = function() {
                this.Init(), SS.Common.GameEnvironment.IsUseSlotSkillGame ? this.m_MsgContentDic.set(s.ClickSpin, SS.Common.GameEnvironment.GameMsg.M019) : SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.m_MsgContentDic.set(s.ClickSpin, SS.Common.GameEnvironment.GameMsg.M022) : this.m_MsgContentDic.set(s.ClickSpin, SS.Common.GameEnvironment.GameMsg.M001), this.m_MsgContentDic.set(s.GoodLuck, SS.Common.GameEnvironment.GameMsg.M002), this.m_MsgContentDic.set(s.LineWin, SS.Common.GameEnvironment.GameMsg.M003), this.m_MsgContentDic.set(s.AllWaysWin, SS.Common.GameEnvironment.GameMsg.M004), this.m_MsgContentDic.set(s.YouWin, SS.Common.GameEnvironment.GameMsg.M005), this.m_MsgContentDic.set(s.BigWin, SS.Common.GameEnvironment.GameMsg.M006), this.m_MsgContentDic.set(s.ScatterWin, SS.Common.GameEnvironment.GameMsg.M007), this.m_MsgContentDic.set(s.ClickStartContinue, SS.Common.GameEnvironment.GameMsg.M008), SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.m_MsgContentDic.set(s.ClickStart, SS.Common.GameEnvironment.GameMsg.M022) : this.m_MsgContentDic.set(s.ClickStart, SS.Common.GameEnvironment.GameMsg.M009), this.m_MsgContentDic.set(s.ClickTake, SS.Common.GameEnvironment.GameMsg.M010), this.m_MsgContentDic.set(s.AddMoneyFail, SS.Common.GameEnvironment.GameMsg.M011), this.m_MsgContentDic.set(s.PurchaseHint, SS.Common.GameEnvironment.GameMsg.M012), this.m_MsgContentDic.set(s.DonateHint, SS.Common.GameEnvironment.GameMsg.M013), this.m_MsgContentDic.set(s.FeatureWin, SS.Common.GameEnvironment.GameMsg.M014), this.m_MsgContentDic.set(s.FeatureWin_CustomGame, SS.Common.GameEnvironment.GameMsg.M015), this.m_MsgContentDic.set(s.WaitSelectSecond, SS.Common.GameEnvironment.GameMsg.M016), this.m_MsgContentDic.set(s.WaitStopSecond, SS.Common.GameEnvironment.GameMsg.M017), this.m_MsgContentDic.set(s.JACKPOTWin, SS.Common.GameEnvironment.GameMsg.M018), this.m_MsgContentDic.set(s.ChooseOne, SS.Common.GameEnvironment.GameMsg.M021)
            }, e.prototype.ShowContent = function(t, e, o) {
                var n;
                void 0 === e && (e = ""), void 0 === o && (o = ""), console.log("[MessageMgr.ShowContent]", t), this.MsgStates = t, n = this.m_MsgContentDic.get(t), console.log("[MessageMgr.ShowContent]", n), 0 !== o.length ? n = (n = n.replace("{0}", e)).replace("{1}", o) : 0 !== e.length && (n = n.replace("{0}", e)), this.m_MsgText.string = n, this.m_RootObj.active = !0
            }, e.prototype.ShowContentByCustom = function(t, e, o) {
                var n;
                void 0 === e && (e = ""), void 0 === o && (o = ""), n = t, 0 !== o.length ? n = (n = n.replace("{0}", SS.Common.BaseFunction.addCommas(parseInt(e), 0))).replace("{1}", o) : 0 !== e.length && (n = n.replace("{0}", SS.Common.BaseFunction.addCommas(parseInt(e), 0))), this.m_MsgText.string = n, this.m_RootObj.active = !0
            }, e.prototype.SetActive = function(t) {
                this.m_RootObj.active = t
            }, r([l(cc.Label)], e.prototype, "m_MsgText", void 0), r([l(cc.Node)], e.prototype, "m_RootObj", void 0), r([c], e)
        }(cc.Component);
        o.MessageMgr = u, cc._RF.pop()
    }, {}],
    MissionBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a3f1a27cu5P7qibLXwPuasG", "MissionBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionBtnCtrl = void 0;
        var s = t("../../../Component/NodeDrag"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setRedTag(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(s.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.MissionBtnCtrl = u, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag"
    }],
    MissionCoinCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "83c64nRwjxJiKGeeUfmNcC1", "MissionCoinCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionCoinCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.goldCoin = null, e.coinCount = 0, e.m_nodeTaret = null, e
                }
                return i(e, t), e.prototype.coinMoveToTarget = function(t, e, o) {
                    var n = this;
                    if (void 0 === o && (o = this.node), null != this.m_nodeTaret) {
                        var i = o.parent.convertToWorldSpaceAR(o.getPosition()),
                            r = new cc.Vec2(i.x, i.y);
                        this.m_iFinishedCoid = 0;
                        for (var s = 0; s < this.coinCount; s++) {
                            var a = cc.instantiate(this.goldCoin);
                            a.parent = cc.director.getScene(), a.setPosition(r);
                            var c = cc.hide(),
                                l = cc.delayTime(.25 * s),
                                u = cc.show(),
                                m = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 100))),
                                p = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 0))),
                                h = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 100))),
                                d = cc.moveTo(t, new cc.Vec2(this.m_nodeTaret.getPosition().x, this.m_nodeTaret.getPosition().y)),
                                _ = cc.removeSelf(),
                                g = cc.callFunc(function() {
                                    n.m_iFinishedCoid++, n.m_iFinishedCoid >= n.coinCount && e()
                                }),
                                y = cc.sequence(c, l, u, m, p, h, d, _, g);
                            a.runAction(y)
                        }
                    }
                }, r([c(cc.Prefab)], e.prototype, "goldCoin", void 0), r([c(cc.Integer)], e.prototype, "coinCount", void 0), r([c(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([a], e)
            }(cc.Component);
        o.MissionCoinCtrl = l, cc._RF.pop()
    }, {}],
    MissionData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f0eb9J77rpJBKRvE9/9leyr", "MissionData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.QustObjectiveType = o.UserQuestDataStatus = o.Award = o.MissionData = void 0;
        o.MissionData = function() {
            this.CustomInfoMsg = "", this.Status = -1, this.CanShow = !1, this.QuestType = n.NONE, this.needRebuff = !1
        };
        var n;
        o.Award = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.UserQuestDataStatus || (o.UserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(n = o.QustObjectiveType || (o.QustObjectiveType = {})), cc._RF.pop()
    }, {}],
    MissionInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "46572Jj8zRClr5sdSD/quXx", "MissionInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionInfoCtrl = void 0;
        var s = t("./MissionCoinCtrl"),
            a = t("./MissionMsgCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.themeID = 0, e.isFinishClaim = !1, e.missionRoot = null, e.ribbon = null, e.coin = null, e.coinNumLabel = null, e.ProcessingRibbon = null, e.CompletedRibbon = null, e.ComingSoonRibbon = null, e.gameLinkICON = null, e.barGround = null, e.bar = null, e.barText = null, e.ProcessingContentNode = null, e.CompletedContentNode = null, e.ComingSoonContentNode = null, e.PlayBtn = null, e.CollectBtn = null, e.CollectBtnHand = null, e.spinTextNode = null, e.gameWinTextNode = null, e.tick = null, e.maxFactorNumLabel = null, e.awardLabel = null, e.awardCoin = null, e.coinEntriesPos = null, e.coinWinningPos = null, e.m_labCustomObjective = null, e.m_missionMsgCtrl = null, e.m_nodeMissionMgr = null, e.m_iThemeId = null, e.m_sGameName = null, e.hidePromptEventId = 0, e.m_numProgressCtr = 0, e.m_numProgressUpTo = 0, e.m_numProgressSpeed = .02, e.m_bIsProgressUp = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    this.m_bIsProgressUp && (this.m_numProgressCtr += this.m_numProgressSpeed, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo), this.setProgress(this.m_numProgressCtr))
                }, e.prototype.setGame = function(t, e, o) {
                    this.m_nodeMissionMgr = t, this.m_iThemeId = e, this.m_sGameName = o, this.themeID = +e
                }, e.prototype.SetMissionToProcessingStatus = function(t, e, o, n) {
                    void 0 === n && (n = ""), this.isFinishClaim = !1, this.ProcessingRibbon.active = !0, this.coinNumLabel.string = SS.Common.BaseFunction.addCommas(e, 0, !1), this.coinNumLabel.node.active = !0, this.barGround.node.active = !0, this.bar.node.active = !0, this.barText.node.active = !0, this.ProcessingContentNode.active = !0, this.maxFactorNumLabel.string = o.toString(), this.tick.active = !1, this.awardLabel.node.active = !1, this.CompletedRibbon.active = !1, this.ComingSoonRibbon.active = !1, this.CompletedContentNode.active = !1, this.ComingSoonContentNode.active = !1, this.spinTextNode.active = !1, this.gameWinTextNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_labCustomObjective.node.active = !0, this.m_missionMsgCtrl.setMsg(n), this.PlayBtn.clickEvents[0] = new cc.Component.EventHandler, this.PlayBtn.clickEvents[0].target = this.m_nodeMissionMgr, this.PlayBtn.clickEvents[0].component = "RepeatingMissionMgr", this.PlayBtn.clickEvents[0].handler = "OpenSelectOptionPage", this.PlayBtn.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.SetMissionToCompletedStatus = function(t) {
                    this.isFinishClaim = !1, this.CollectBtnHand.active = !0, this.CollectBtn.target.active = !0, this.barGround.node.active = !0, this.bar.node.active = !0, this.barText.node.active = !0, this.CompletedRibbon.active = !0, this.CompletedContentNode.active = !0, this.awardLabel.node.active = !0, this.awardLabel.string = SS.Common.BaseFunction.addCommas(t, 0, !1), this.tick.active = !1, this.coinNumLabel.node.active = !1, this.ProcessingRibbon.active = !1, this.ComingSoonRibbon.active = !1, this.ProcessingContentNode.active = !1, this.ComingSoonContentNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_labCustomObjective.node.active = !1, this.m_missionMsgCtrl.hide(), this.CollectBtn.clickEvents[0] = new cc.Component.EventHandler, this.CollectBtn.clickEvents[0].target = this.m_nodeMissionMgr, this.CollectBtn.clickEvents[0].component = "RepeatingMissionMgr", this.CollectBtn.clickEvents[0].handler = "OnClickCollectBtn", this.CollectBtn.clickEvents[0].customEventData = this.m_iThemeId
                }, e.prototype.SingleMissionToComingsoonStatus = function() {
                    this.isFinishClaim = !0, this.ComingSoonContentNode.active = !0, this.ComingSoonRibbon.active = !0, this.barGround.node.active = !1, this.bar.node.active = !1, this.barText.node.active = !1, this.coinNumLabel.node.active = !1, this.awardLabel.node.active = !1, this.CompletedRibbon.active = !1, this.ProcessingRibbon.active = !1, this.CompletedContentNode.active = !1, this.ProcessingContentNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_missionMsgCtrl.hide()
                }, e.prototype.SetProcessBar = function(t, e) {
                    t >= e && (t = e);
                    var o = t / e;
                    this.setProgress(o)
                }, e.prototype.setProgress = function(t) {
                    this.bar.fillStart = t, this.barText.string = (100 * t).toFixed(2) + "%"
                }, e.prototype.setProgressRebuff = function(t) {
                    this.m_numProgressUpTo = t, this.m_numProgressCtr = 0, this.m_bIsProgressUp = !0
                }, r([u(cc.Node)], e.prototype, "missionRoot", void 0), r([u(cc.Sprite)], e.prototype, "ribbon", void 0), r([u(cc.Sprite)], e.prototype, "coin", void 0), r([u(cc.Label)], e.prototype, "coinNumLabel", void 0), r([u(cc.Node)], e.prototype, "ProcessingRibbon", void 0), r([u(cc.Node)], e.prototype, "CompletedRibbon", void 0), r([u(cc.Node)], e.prototype, "ComingSoonRibbon", void 0), r([u(cc.Sprite)], e.prototype, "gameLinkICON", void 0), r([u(cc.Sprite)], e.prototype, "barGround", void 0), r([u(cc.Sprite)], e.prototype, "bar", void 0), r([u(cc.Label)], e.prototype, "barText", void 0), r([u(cc.Node)], e.prototype, "ProcessingContentNode", void 0), r([u(cc.Node)], e.prototype, "CompletedContentNode", void 0), r([u(cc.Node)], e.prototype, "ComingSoonContentNode", void 0), r([u(cc.Button)], e.prototype, "PlayBtn", void 0), r([u(cc.Button)], e.prototype, "CollectBtn", void 0), r([u(cc.Node)], e.prototype, "CollectBtnHand", void 0), r([u(cc.Node)], e.prototype, "spinTextNode", void 0), r([u(cc.Node)], e.prototype, "gameWinTextNode", void 0), r([u(cc.Node)], e.prototype, "tick", void 0), r([u(cc.Label)], e.prototype, "maxFactorNumLabel", void 0), r([u(cc.Label)], e.prototype, "awardLabel", void 0), r([u(s.MissionCoinCtrl)], e.prototype, "awardCoin", void 0), r([u(cc.Node)], e.prototype, "coinEntriesPos", void 0), r([u(cc.Node)], e.prototype, "coinWinningPos", void 0), r([u(cc.Label)], e.prototype, "m_labCustomObjective", void 0), r([u(a.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([l], e)
            }(cc.Component);
        o.MissionInfoCtrl = m, cc._RF.pop()
    }, {
        "./MissionCoinCtrl": "MissionCoinCtrl",
        "./MissionMsgCtrl": "MissionMsgCtrl"
    }],
    MissionListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d1264JTe5BAZ4aU+XxzU4Wb", "MissionListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionListCtrl = void 0;
        var s = t("./RepeatingMissionMgr"),
            a = t("./MissionInfoCtrl"),
            c = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = t("./MissionData"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_prefabMisionInfo = null, e.m_ContentPoints = [], e.m_aryMissionList = [], e.m_nodePoolMissions = null, e.nodeContentLayout = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_strCollectQuestID = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) {
                            var o = this.m_dictDLPic[t[e]];
                            cc.assetManager.releaseAsset(o.getTexture()), this.m_dictDLPic[t[e]] = null
                        }
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.nodeContentLayout = this.m_nodeContent.getComponent(cc.Layout), this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryMissionList.length; e++) this.m_aryMissionList[e].PlayBtn.interactable = t, this.m_aryMissionList[e].CollectBtn.interactable = t
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryMissionList.length; e++)
                        if (this.m_aryMissionList[e].themeID == t) return this.m_aryMissionList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_ContentPoints.length > 0 ? this.nodeContentLayout.enabled = !1 : this.nodeContentLayout.enabled = !0, this.m_aryMissionList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryMissionList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                s = this.m_nodePoolMissions.get();
                            if (s.parent = this.m_nodeContent, this.m_ContentPoints.length > 0) {
                                var c = new cc.Vec2(this.m_ContentPoints[i].getPosition().x - this.m_nodeContent.getPosition().x, this.m_ContentPoints[i].getPosition().y - this.m_nodeContent.getPosition().y);
                                s.setPosition(c)
                            }
                            var u = s.getComponent(a.MissionInfoCtrl);
                            this.m_aryMissionList.push(u);
                            var m = 0,
                                p = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = l.QustObjectiveType.SPIN_TIME, m = r.SpinTimesGate, p = r.SpinTimes, r.CustomInfoMsg = "Complete " + m + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = l.QustObjectiveType.SPIN_AMOUNT, m = r.SpinAmountGate, p = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + m;
                            else if (r.WinAmountGate > 0) r.QuestType = l.QustObjectiveType.WIN_AMOUNT, m = r.WinAmountGate, p = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + m;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = l.QustObjectiveType.CUSTOM, m = r.CustomGate, p = r.CustomAmount
                            }
                            var h = this.getGameNameByThemeID(r.ThemeID);
                            switch (o.push(h), this.DLAndSetSprFrame(h, u.gameLinkICON, "Mission/"), u.setGame(this.m_Mgr.node, r.ThemeID, h), u.missionRoot.active = !0, r.Status) {
                                case l.UserQuestDataStatus.QUEST_NOT_DONE:
                                    this.m_strCollectQuestID == r.QuestID ? (this.m_strCollectQuestID = "", u.setProgressRebuff(p / m)) : u.SetProcessBar(p, m), u.SetMissionToProcessingStatus(r.QuestType, r.Award.AwardWinnings, m, r.CustomInfoMsg);
                                    break;
                                case l.UserQuestDataStatus.AWARD_AVAILABLE:
                                    u.SetProcessBar(100, 100), u.SetMissionToCompletedStatus(r.Award.AwardWinnings);
                                    break;
                                case l.UserQuestDataStatus.AWARD_CLAIMED:
                                    u.SingleMissionToComingsoonStatus()
                            }
                        }
                        self == top && (SS.Common.GameEnvironment.GameSetting.questListGameName = o, this.m_Mgr.m_LobbyMgr && this.m_Mgr.m_LobbyMgr.gameIconMgr && (this.m_Mgr.m_LobbyMgr.gameIconMgr.setEventFlag("ALL", o), this.m_Mgr.m_LobbyMgr.gameIconMgr.setEventFlag("SLOT", o))), o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var s = e[r].ThemeID,
                                a = n.indexOf(s),
                                c = this.getGameNameByThemeID(s),
                                l = i.indexOf(c),
                                m = i.indexOf("BIGICON_" + c); - 1 == a && (l > -1 || m > -1) && o.push(e[r])
                        }
                        return o
                    } catch (u) {
                        return []
                    }
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (u) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (u) {}
                    return 0
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    null != this.m_dictDLPic[n] ? this.setSprFrame(n, e, this.m_dictDLPic[n]) : (e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e))
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.assetManager.loadRemote(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    this.m_dictDLPic[t] = o, e.spriteFrame = o, e.sizeMode = cc.Sprite.SizeMode.RAW, e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = s.MisMgrStatus.IDLE)
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? (this.errorCode = "C38", c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Error, this.errorCode, null, null, null), this.m_Mgr.m_status = s.MisMgrStatus.IDLE) : this.DLSprFrame(t, e)
                }, r([p(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([p(cc.Node)], e.prototype, "m_nodeContent", void 0), r([p(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([p([cc.Node])], e.prototype, "m_ContentPoints", void 0), r([m], e)
            }(cc.Component);
        o.MissionListCtrl = h, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./MissionData": "MissionData",
        "./MissionInfoCtrl": "MissionInfoCtrl",
        "./RepeatingMissionMgr": "RepeatingMissionMgr"
    }],
    MissionMsgCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f3219SCQKJOf6USGkU2tqE+", "MissionMsgCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionMsgCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iOneLineMax = 0, e.m_arrRichTxtMsg = [], e.m_sPrefix = "<outline color=ff33ff width=2>", e.m_sPostfix = "</outline>", e.m_sNumPrefix = "<outline color=FF5511 width=3><color=#FFEE99><b>", e.m_sNumPostfix = "</b></color></outline>", e
                }
                return i(e, t), e.prototype.setMsg = function(t) {
                    t.length > 2 * this.m_iOneLineMax && console.error("Msg too long");
                    var e = t.split(" "),
                        o = "",
                        n = 0,
                        i = !0;
                    this.hide();
                    for (var r = 0; r < e.length; r++) n + e[r].length + 1 > this.m_iOneLineMax && (this.m_arrRichTxtMsg[0].string = this.globalFix(o), this.m_arrRichTxtMsg[0].enabled = !0, i = !1, o = "", n = 0), n = n + e[r].length + 1, isNaN(+e[r]) || (e[r] = this.numberFix(e[r])), o = "" == o ? e[r] : o + " " + e[r];
                    i ? (this.m_arrRichTxtMsg[2].string = this.globalFix(o), this.m_arrRichTxtMsg[2].enabled = !0) : (this.m_arrRichTxtMsg[1].string = this.globalFix(o), this.m_arrRichTxtMsg[1].enabled = !0)
                }, e.prototype.numberFix = function(t) {
                    return this.m_sNumPrefix + t + this.m_sNumPostfix
                }, e.prototype.globalFix = function(t) {
                    return this.m_sPrefix + t + this.m_sPostfix
                }, e.prototype.hide = function() {
                    for (var t = 0; t < this.m_arrRichTxtMsg.length; t++) null != this.m_arrRichTxtMsg[t] && (this.m_arrRichTxtMsg[t].enabled = !1)
                }, r([c(cc.Integer)], e.prototype, "m_iOneLineMax", void 0), r([c([cc.RichText])], e.prototype, "m_arrRichTxtMsg", void 0), r([a], e)
            }(cc.Component);
        o.MissionMsgCtrl = l, cc._RF.pop()
    }, {}],
    MissionTopProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c39290CEhBF+LkasHENKNOS", "MissionTopProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionTopProgress = void 0;
        var s = t("../../../Component/AudioMgr"),
            a = t("./MissionData"),
            c = t("./MissionMsgCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Prompt = null, e.m_animate = null, e.m_nodeSprContent = [], e.m_labGoalValue = null, e.promptBar = null, e.m_btn = null, e.promptClaimBtnHand = null, e.promptProcessLabel = null, e.m_labCustomInfo = null, e.m_missionMsgCtrl = null, e.hidePromptEventId = null, e.m_numProgressSpeed = .002, e.m_bIsProgressUp = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    this.m_bIsProgressUp && (this.m_numProgressCtr += this.m_numProgressSpeed, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo), this.setProgress(this.m_numProgressCtr))
                }, e.prototype.init = function() {
                    this.m_Prompt.active = !1, this.promptBar.fillStart = 0, this.m_animate = this.m_Prompt.getComponent(cc.Animation), this.hidePromptEventId = void 0
                }, e.prototype.show = function(t, e, o, n) {
                    var i = this;
                    if (void 0 === e && (e = -1), void 0 === o && (o = ""), void 0 === n && (n = 5e3), null != this.m_Prompt) {
                        window.clearTimeout(this.hidePromptEventId);
                        var r = SS.Common.GameEnvironment.GetCurGameIsVertical();
                        if (t) {
                            if (this.m_Prompt.active = t, -1 != e && null != this.m_nodeSprContent)
                                for (var c = 0; c < this.m_nodeSprContent.length; c++) this.m_nodeSprContent[c].active = !1;
                            switch (e) {
                                case a.QustObjectiveType.SPIN_AMOUNT:
                                case a.QustObjectiveType.SPIN_TIME:
                                case a.QustObjectiveType.WIN_AMOUNT:
                                case a.QustObjectiveType.CUSTOM:
                                    this.m_labCustomInfo.enabled = !1, this.m_labGoalValue.enabled = !1, this.m_missionMsgCtrl.setMsg(o)
                            }
                            r ? this.m_animate.play("VerticalShowPrompt", 0) : this.m_animate.play("ShowPrompt", 0), s.AudioMgr.Instance.Play("Missions_Call", !1, 1), n >= 0 && (this.hidePromptEventId = setTimeout(function() {
                                i.show(!1)
                            }, n))
                        } else this.showFingerPtr(!1), this.showBtn(!1), r ? this.m_animate.play("VerticalHidePrompt", 0) : this.m_animate.play("HidePrompt", 0), this.hidePromptEventId = setTimeout(function() {
                            i.m_Prompt && (i.m_Prompt.active = !1)
                        }, 2e3)
                    }
                }, e.prototype.showBtn = function(t) {
                    null != this.m_btn && (this.m_btn.node.active = t, this.showFingerPtr(t))
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.promptClaimBtnHand && (this.promptClaimBtnHand.active = t)
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setProgress = function(t) {
                    this.promptBar.fillStart = t, this.promptProcessLabel.string = (100 * t).toFixed(2) + "%"
                }, e.prototype.setProgressCtr = function(t) {
                    this.m_numProgressCtr = t
                }, e.prototype.setProgressChargeTo = function(t) {
                    this.m_numProgressUpTo = t, this.m_bIsProgressUp = !0
                }, r([m(cc.Node)], e.prototype, "m_Prompt", void 0), r([m([cc.Node])], e.prototype, "m_nodeSprContent", void 0), r([m(cc.Label)], e.prototype, "m_labGoalValue", void 0), r([m(cc.Sprite)], e.prototype, "promptBar", void 0), r([m(cc.Button)], e.prototype, "m_btn", void 0), r([m(cc.Node)], e.prototype, "promptClaimBtnHand", void 0), r([m(cc.Label)], e.prototype, "promptProcessLabel", void 0), r([m(cc.Label)], e.prototype, "m_labCustomInfo", void 0), r([m(c.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([u], e)
            }(cc.Component);
        o.MissionTopProgress = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./MissionData": "MissionData",
        "./MissionMsgCtrl": "MissionMsgCtrl"
    }],
    ModuleBase: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "eb3796IQLFMvp3XNPZhS28P", "ModuleBase");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("./Helper/EventSystem"),
            l = cc._decorator,
            u = l.ccclass,
            m = (l.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onLoad = function() {
                    c.EventSystem.Event(c.ModuleState.OnLoad).Insert(this.OnLoad, this), c.EventSystem.Event(c.ModuleState.Start).Insert(this.Start, this), c.EventSystem.Event(c.ModuleState.OnDestroy).Insert(this.OnDestroy, this), c.EventSystem.Event(c.LobbyState.CheckVersion).Insert(this.CheckVersion, this), c.EventSystem.Event(c.LobbyState.DownloadSetting).Insert(this.DownloadSetting, this), c.EventSystem.Event(c.LobbyState.WaitPacket).Insert(this.WaitPacket, this), c.EventSystem.Event(c.LobbyState.DownloadResources).Insert(this.DownloadResources, this), c.EventSystem.Event(c.LobbyState.Logout).Insert(this.Logout, this)
                }, e.prototype.OnLoad = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[ModuleBase][" + this.node.name + "] On Load"), [4, this._onLoad()];
                                case 1:
                                    return e.sent(), c.EventSystem.Event(c.ModuleState.OnLoad).Remove(this.OnLoad, this), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.OnDestroy = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.ClearEvent(), this.node ? (console.log("[" + this.node.name + "] Force On Destroy"), [4, this._onDestroy()]) : [3, 2];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    return t && t(), [2]
                            }
                        })
                    })
                }, e.prototype.onDestroy = function() {
                    console.log("[" + this.node.name + "] Normal On Destroy"), this.ClearEvent(), this._onDestroy()
                }, e.prototype.ClearEvent = function() {
                    c.EventSystem.Event(c.ModuleState.OnLoad).Remove(this.OnLoad, this), c.EventSystem.Event(c.ModuleState.Start).Remove(this.Start, this), c.EventSystem.Event(c.ModuleState.OnDestroy).Remove(this.OnDestroy, this), c.EventSystem.Event(c.LobbyState.CheckVersion).Remove(this.CheckVersion, this), c.EventSystem.Event(c.LobbyState.DownloadSetting).Remove(this.DownloadSetting, this), c.EventSystem.Event(c.LobbyState.WaitPacket).Remove(this.WaitPacket, this), c.EventSystem.Event(c.LobbyState.DownloadResources).Remove(this.DownloadResources, this), c.EventSystem.Event(c.LobbyState.Logout).Remove(this.Logout, this)
                }, e.prototype._onDestroy = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.Start = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] Start"), [4, this._start()];
                                case 1:
                                    return e.sent(), c.EventSystem.Event(c.ModuleState.Start).Remove(this.Start, this), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._start = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.CheckVersion = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] Check Version"), [4, this._checkVersion()];
                                case 1:
                                    return e.sent(), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._checkVersion = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.DownloadSetting = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] DownloadSetting"), [4, this._dowloadSetting()];
                                case 1:
                                    return e.sent(), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._dowloadSetting = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.WaitPacket = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] Wait Packet"), [4, this._waitPacket()];
                                case 1:
                                    return e.sent(), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._waitPacket = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.DownloadResources = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] Download Resources"), [4, this._downloadResources()];
                                case 1:
                                    return e.sent(), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._downloadResources = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, e.prototype.Logout = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        return a(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return console.log("[" + this.node.name + "] Logout"), [4, this._logout()];
                                case 1:
                                    return e.sent(), t && t(), [2]
                            }
                        })
                    })
                }, e.prototype._logout = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return [2]
                        })
                    })
                }, r([u], e)
            }(cc.Component));
        o.default = m, cc._RF.pop()
    }, {
        "./Helper/EventSystem": "EventSystem"
    }],
    ModuleDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6c403fFGPlI8Z29DPMrclrH", "ModuleDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ModuleDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.ModuleName = "", e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o, n) {
                this.ModuleName = t, this.OnLoad = o, this.OnError = n, this.LoadModuleDependences(e)
            }, e.prototype.LoadModuleDependences = function(t) {
                var e = this;
                try {
                    var o = t.Modules,
                        n = o[e.ModuleName];
                    if (null == n) return console.warn("[ModuleDownloader] It's not exist module: " + e.ModuleName), void(null != e.OnLoad && e.OnLoad());
                    var i = new Array,
                        r = n.Dependency;
                    if (null == r) return console.warn("[ModuleDownloader] It's not exist dependency module"), void(null != e.OnLoad && e.OnLoad());
                    var s = Object.keys(r);
                    if (0 == s.length) return console.warn("[ModuleDownloader] It's not exist dependency module"), void(null != e.OnLoad && e.OnLoad());
                    console.log("[ModuleDownloader] %c Dependent modules:", "font-size:18px;font-weight:bold;color:green");
                    for (var a = 0, c = s; a < c.length; a++) {
                        var l = c[a],
                            u = r[l];
                        1 == u && i.push(l);
                        var m = "[ModuleDownloader] " + l + ": %c" + u,
                            p = 1 == u ? "green" : "red";
                        console.log(m, "font-size:18px;font-weight:bold;color:" + p)
                    }
                    var h, d = 0,
                        _ = function() {
                            ++d == i.length && (console.log("[ModuleDownloader] %c Load dependent modules success!", "font-size:18px;font-weight:bold;color:green"), null != e.OnLoad && e.OnLoad())
                        };
                    h = t.CDN_HOST ? window.location.protocol + "//" + t.CDN_HOST : "../../..";
                    for (var g = 0, y = i; g < y.length; g++) {
                        var f, S = y[g],
                            C = o[S].Path,
                            v = o[S].Version,
                            P = null == o[S].FileName ? S + ".js" : o[S].FileName;
                        f = null != v && "" != v ? h + C + v + "/" + P : h + C + P, console.log("[ModuleDownloader] Load module script: " + f), e.GetScript(f, _, e.OnError.bind(this))
                    }
                } catch (b) {
                    console.error("[ModuleDownloader] Load project setting failed.\n", b), null != e.OnError && e.OnError(b)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.ModuleDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    MouseMark: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b90d1FBJGdIbbt+lNIyFTNu", "MouseMark");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Mark_1 = null, e.Mark_2 = null, e
                }
                return i(e, t), e.prototype.switchArrowMark = function(t) {
                    this.Mark_1.active = !t, this.Mark_2.active = t
                }, r([c(cc.Node)], e.prototype, "Mark_1", void 0), r([c(cc.Node)], e.prototype, "Mark_2", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    NewPlayerGuideCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "76d2e4gmupByK29M/ObnJCq", "NewPlayerGuideCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NewPlayerGuideCtrl = void 0;
        var c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeGuide = [], e.m_nodeBtn = null, e.m_nodeHand = null, e.m_iState = 0, e.m_fucSetPage_1 = null, e.m_fucSetPage_2 = null, e.m_fucCB = null, e
                }
                return i(e, t), e.prototype.checkCoockieAndShow = function(t, e, o) {
                    cc.warn("checkCoockieAndShow"), this.m_fucSetPage_1 = t, this.m_fucSetPage_2 = e, this.m_fucCB = o, this.checkNewPlayer() ? this.ShowGuide() : this.m_fucCB && this.m_fucCB()
                }, e.prototype.ShowGuide = function() {
                    this.m_iState = 0, this.nextState(), this.m_nodeBtn.active = !0
                }, e.prototype.nextState = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            switch (this.m_iState) {
                                case 3:
                                case 5:
                                    this.m_fucSetPage_1 && this.m_fucSetPage_1();
                                    break;
                                case 4:
                                    this.m_fucSetPage_2 && this.m_fucSetPage_2()
                            }
                            return this.m_iState > 0 && this.fadeOut(this.m_nodeGuide[this.m_iState - 1]), this.m_iState < this.m_nodeGuide.length ? (this.fadeIn(this.m_nodeGuide[this.m_iState]), cc.Tween.stopAllByTarget(this.m_nodeHand), this.m_nodeHand.opacity = 0, cc.tween(this.m_nodeHand).delay(2).to(1, {
                                opacity: 255
                            }).start(), this.m_iState += 1) : (this.m_nodeBtn.active = !1, cc.Tween.stopAllByTarget(this.m_nodeHand), this.m_nodeHand.opacity = 0, this.m_fucSetPage_2 && this.m_fucSetPage_2(), this.m_fucCB && this.m_fucCB()), [2]
                        })
                    })
                }, e.prototype.fadeIn = function(t) {
                    cc.Tween.stopAllByTarget(t), t.active = !0, t.opacity = 0, cc.tween(t).to(1, {
                        opacity: 255
                    }).start()
                }, e.prototype.fadeOut = function(t) {
                    cc.Tween.stopAllByTarget(t), t.active = !0, t.opacity = 255, cc.tween(t).to(1, {
                        opacity: 0
                    }).call(function() {
                        t.active = !1
                    }).start()
                }, e.prototype.onClick = function() {
                    this.nextState()
                }, e.prototype.onLoad = function() {
                    this.m_nodeBtn.active = !1
                }, e.prototype.checkNewPlayer = function() {
                    var t, e, o, n;
                    return cc.warn("checkNewPlayer"), n = this.getCookie("GDC_USER_ID"), o = this.getCookie("GUIDED_USER_ID"), e = "" != (t = this.getCookie("GUIDED_USER_CTR")) ? +t : 1, n == o ? (this.setCookie("GUIDED_USER_CTR", (e + 1).toString()), e < 2) : (this.setCookie("GUIDED_USER_ID", n), this.setCookie("GUIDED_USER_CTR", "1"), !0)
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, r([u([cc.Node])], e.prototype, "m_nodeGuide", void 0), r([u(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([u(cc.Node)], e.prototype, "m_nodeHand", void 0), r([l], e)
            }(cc.Component);
        o.NewPlayerGuideCtrl = m, cc._RF.pop()
    }, {}],
    NodeDrag: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "36e20vrfYZKgppRiZGLXmlN", "NodeDrag");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NodeDrag = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_fBoundLeft = 30, e.m_fBoundRight = 30, e.m_fBoundUp = 50, e.m_fBoundDown = 50, e.m_sRecordKey = "", e.dragMovePos = cc.Vec2.ZERO, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.screenSize = cc.view.getVisibleSize(), this.screenSize.width = this.screenSize.width - this.m_fBoundRight - this.m_fBoundLeft, this.screenSize.height = this.screenSize.height - this.m_fBoundUp - this.m_fBoundDown, this.node.on(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.on(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this)), this.returnToRecordPos()
                }, e.prototype.onDestroy = function() {
                    this.node.off(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.off(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, e.prototype.OnDragInit = function() {
                    this.m_bIsLocked || (this.dragMovePos = cc.Vec2.ZERO, this.isDraging = !1, null != this.Event_DragStart && this.Event_DragStart())
                }, e.prototype.OnDragItem = function(t) {
                    if (!this.m_bIsLocked && (this.dragMovePos = t.getDelta(), !(this.dragMovePos.mag() < 1.5) || this.isDraging)) {
                        this.isDraging = !0;
                        var e = this.node.getPosition(),
                            o = (this.node.convertToWorldSpaceAR(cc.Vec2.ZERO), new cc.Vec2(e.x + this.dragMovePos.x, e.y + this.dragMovePos.y));
                        this.setPositionInbound(o, !0)
                    }
                }, e.prototype.OnDragEnd = function() {
                    this.isDraging ? (null != this.Event_DragEnd && this.Event_DragEnd(), console.log("draging node !!")) : (null != this.Event_ClickItem && this.Event_ClickItem(), console.log("click activities node !!"))
                }, e.prototype.setLocked = function(t) {
                    this.m_bIsLocked = t
                }, e.prototype.move = function(t, e) {
                    null == this.getRecordPos() && this.setPositionInbound(new cc.Vec2(this.node.position.x + t, this.node.position.y + e))
                }, e.prototype.returnToRecordPos = function() {
                    cc.warn("returnToRecordPos"), this.setPositionInbound(this.getRecordPos())
                }, e.prototype.setPositionInbound = function(t, e) {
                    void 0 === e && (e = !1), t && (this.screenSize && (t.x = SS.Common.BaseFunction.Clamp(this.m_fBoundLeft, this.screenSize.width, t.x), t.y = SS.Common.BaseFunction.Clamp(this.m_fBoundDown, this.screenSize.height, t.y)), this.node.setPosition(t), e && this.setRecordPos(t))
                }, e.prototype.getRecordPos = function() {
                    return SS.Common.GameEnvironment.ProjectSetting[this.m_sRecordKey]
                }, e.prototype.setRecordPos = function(t) {
                    "" != this.m_sRecordKey && (SS.Common.GameEnvironment.ProjectSetting[this.m_sRecordKey] = t)
                }, r([c(cc.Float)], e.prototype, "m_fBoundLeft", void 0), r([c(cc.Float)], e.prototype, "m_fBoundRight", void 0), r([c(cc.Float)], e.prototype, "m_fBoundUp", void 0), r([c(cc.Float)], e.prototype, "m_fBoundDown", void 0), r([c(cc.String)], e.prototype, "m_sRecordKey", void 0), r([a], e)
            }(cc.Component);
        o.NodeDrag = l, cc._RF.pop()
    }, {}],
    NodeParticleSystem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ecf52FTGcVOxa+6BVaQxUP/", "NodeParticleSystem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NodeParticleSystem = void 0;
        var s = t("./SpawnPool"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.targetNode = null, e.randomRotation = !1, e.enableToPlay = !0, e.duration = -1, e.lifetime = 1, e.lifetimeRandomRange = 0, e.emissionRate = 10, e.emitArea = cc.Vec2.ZERO, e.speed = 10, e.angle = 90, e.angleRandomRange = 0, e.gravityXY = cc.v2(0, 1), e.beginScale = 1, e.endScale = 1, e.receiveNodeParticleListIndex = [], e.spawnpool = null, e.nodeParticleList = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.spawnpool = this.addComponent(s.SpawnPool)
                }, e.prototype.onEnable = function() {
                    null != this.targetNode ? this.enableToPlay && this.RePlayParticleSystem() : console.warn("[NodeParticleSystem]TargetPrefab Not Found.")
                }, e.prototype.ResetAll = function() {
                    this.spawnpool.DespawnAll(), this.nodeParticleList = [], this.receiveNodeParticleListIndex = []
                }, e.prototype.RePlayParticleSystem = function() {
                    var t = 1 / this.emissionRate;
                    if (this.unscheduleAllCallbacks(), this.duration > 0) {
                        var e = this.duration / t;
                        this.schedule(this.EmitNode, t, e)
                    } else this.schedule(this.EmitNode, t)
                }, e.prototype.StopParticleSystem = function() {
                    this.unscheduleAllCallbacks()
                }, e.prototype.EmitNode = function() {
                    this.spawnpool || (this.spawnpool = this.addComponent(s.SpawnPool));
                    var t = this.spawnpool.Spawn(this.targetNode.data);
                    t.parent = this.node;
                    var e = 2 * (Math.random() - .5) * this.emitArea.x,
                        o = 2 * (Math.random() - .5) * this.emitArea.y;
                    t.setPosition(cc.v2(e, o)), t.scale = this.beginScale, this.randomRotation && (t.angle = 360 * Math.random());
                    var n = (this.angle + 2 * (Math.random() - .5) * this.angleRandomRange) * Math.PI / 180,
                        i = cc.v2(Math.cos(n), Math.sin(n)),
                        r = {
                            node: t,
                            lifetime: this.lifetime + 2 * (Math.random() - .5) * this.lifetimeRandomRange,
                            gravityXY: this.gravityXY,
                            beginScale: this.beginScale,
                            endScale: this.endScale,
                            currentLifeTime: 0,
                            currentGrivate: cc.v2(i.x * this.speed, i.y * this.speed)
                        };
                    this.nodeParticleList.push(r)
                }, e.prototype.update = function(t) {
                    var e = this;
                    if (this.nodeParticleList.forEach(function(o, n) {
                            o.currentLifeTime += t, o.currentLifeTime >= o.lifetime && (o.currentLifeTime = o.lifetime, e.receiveNodeParticleListIndex.push(n));
                            var i = cc.v2(o.gravityXY.x * t, o.gravityXY.y * t);
                            if (o.currentGrivate = cc.v2(o.currentGrivate.x + i.x, o.currentGrivate.y + i.y), o.node.setPosition(cc.v2(o.node.getPosition().x + o.currentGrivate.x * t, o.node.getPosition().y + o.currentGrivate.y * t)), o.beginScale != o.endScale) {
                                var r = o.currentLifeTime / o.lifetime,
                                    s = (o.endScale - o.beginScale) * r + o.beginScale;
                                o.node.scale = s
                            }
                        }), this.receiveNodeParticleListIndex.length > 0) {
                        for (var o = this.receiveNodeParticleListIndex.length - 1; o >= 0; o--) {
                            var n = this.receiveNodeParticleListIndex[o];
                            this.spawnpool.Despawn(this.nodeParticleList[n].node), this.nodeParticleList.splice(n, 1)
                        }
                        this.receiveNodeParticleListIndex = []
                    }
                }, r([l({
                    type: cc.Prefab,
                    displayName: "\u8868\u6f14\u7269\u4ef6"
                })], e.prototype, "targetNode", void 0), r([l({
                    displayName: "\u96a8\u6a5f\u96a8\u8f49\u89d2\u5ea6"
                })], e.prototype, "randomRotation", void 0), r([l({
                    displayName: "\u958b\u555f\u7269\u4ef6\u6642\u64ad\u653e"
                })], e.prototype, "enableToPlay", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u8868\u6f14\u6301\u7e8c\u6642\u9593"
                })], e.prototype, "duration", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u7c92\u5b50\u751f\u5b58\u6642\u9593"
                })], e.prototype, "lifetime", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u7c92\u5b50\u751f\u5b58\u6642\u9593\u6d6e\u52d5\u503c",
                    tooltip: "\u7c92\u5b50\u751f\u5b58\u6642\u9593 \xb1 \u7c92\u5b50\u751f\u5b58\u6642\u9593\u6d6e\u52d5\u503c"
                })], e.prototype, "lifetimeRandomRange", void 0), r([l({
                    type: cc.Integer,
                    displayName: "\u6bcf\u79d2\u767c\u5c04\u6578\u91cf"
                })], e.prototype, "emissionRate", void 0), r([l({
                    displayName: "\u767c\u5c04\u7bc4\u570d"
                })], e.prototype, "emitArea", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u79fb\u52d5\u901f\u5ea6"
                })], e.prototype, "speed", void 0), r([l({
                    displayName: "\u767c\u5c04\u89d2\u5ea6"
                })], e.prototype, "angle", void 0), r([l({
                    displayName: "\u767c\u5c04\u89d2\u5ea6\u6d6e\u52d5\u503c",
                    tooltip: "\u767c\u5c04\u89d2\u5ea6 \xb1 \u767c\u5c04\u89d2\u5ea6\u6d6e\u52d5\u503c"
                })], e.prototype, "angleRandomRange", void 0), r([l({
                    displayName: "\u91cd\u529b\u65b9\u5411"
                })], e.prototype, "gravityXY", void 0), r([l({
                    displayName: "\u8d77\u59cbScale"
                })], e.prototype, "beginScale", void 0), r([l({
                    displayName: "\u7d50\u675fScale"
                })], e.prototype, "endScale", void 0), r([c], e)
            }(cc.Component);
        o.NodeParticleSystem = u, cc._RF.pop()
    }, {
        "./SpawnPool": "SpawnPool"
    }],
    NumberAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "257facFZSNHAK2IHjMMzxNf", "NumberAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NumberAnimation = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.targetTxt_UGUI = null, e.targetNumber = 0, e.currentNumber = 0, e.baseNumber = 0, e.isInteger = !1, e.totalCountTime = 0, e.updateFPS = 15, e.animationTimeInPlay = 0, e.updatingUnitTime = 0, e.updatingUnitValue = 0, e.m_bIsAnimated = !1, e.bForceLockNumber = !1, e.m_bForceFinishAnim = !1, e.m_bIsFinishAnim = !1, e.Event_Finish = null, e
                }
                return i(e, t), e.prototype.GetCurrentNumber = function() {
                    return this.currentNumber
                }, e.prototype.GetTargetNumber = function() {
                    return this.targetNumber
                }, e.prototype.GetTotalAnimationTime = function() {
                    return this.totalCountTime
                }, e.prototype.onLoad = function() {
                    this.Event_Finish = new SS.Common.Delegate
                }, e.prototype.onDestroy = function() {
                    this.Event_Finish.Clear(), this.Event_Finish = null
                }, e.prototype.start = function() {
                    this.Init()
                }, e.prototype.Init = function() {
                    this.targetTxt_UGUI = this.node.getComponent(cc.Label), this.setNumberLabel()
                }, e.prototype.update = function(t) {
                    0 == this.m_bIsFinishAnim && (this.targetNumber != this.currentNumber ? (this.animationTimeInPlay += t, this.animationTimeInPlay > this.updatingUnitTime && (this.currentNumber += 0 == this.updatingUnitTime ? this.updatingUnitValue : this.updatingUnitValue * (this.animationTimeInPlay / this.updatingUnitTime), this.animationTimeInPlay = 0, (this.currentNumber >= this.targetNumber && this.updatingUnitValue >= 0 || this.currentNumber <= this.targetNumber && this.updatingUnitValue <= 0) && (this.currentNumber = this.targetNumber), this.setNumberLabel())) : this.targetNumber > 0 && this.currentNumber > 0 && this.targetNumber == this.currentNumber ? (this.Event_Finish.Notify(), this.m_bIsFinishAnim = !0) : (this.m_bIsFinishAnim = !0, this.animationTimeInPlay = 0))
                }, e.prototype.Reset = function() {
                    this.currentNumber = 0, this.targetNumber = 0, this.setNumberLabel()
                }, e.prototype.SetCurrentNumber = function(t) {
                    this.currentNumber = t, this.setNumberLabel()
                }, e.prototype.SetNumberToStop = function(t) {
                    void 0 === t && (t = this.targetNumber), this.currentNumber = t, this.targetNumber = t, this.setNumberLabel()
                }, e.prototype.SetTargetNumberAnimationEx = function(t, e) {
                    this.m_bIsAnimated = !0, this.m_bIsFinishAnim = !1, this.baseNumber = this.currentNumber, this.targetNumber = t, this.animationTimeInPlay = 0, this.updateFPS <= 0 && (this.updateFPS = 10), this.totalCountTime = e, this.totalCountTime <= 0 && (this.totalCountTime = .1), this.updatingUnitTime = 1 / this.updateFPS, this.updatingUnitValue = (this.targetNumber - this.baseNumber) * this.updatingUnitTime / this.totalCountTime
                }, e.prototype.setNumberLabel = function() {
                    null != this.targetTxt_UGUI && (this.isInteger ? this.isInteger && (this.targetTxt_UGUI.string = SS.Common.BaseFunction.addCommas(this.currentNumber, 0)) : this.targetTxt_UGUI.string = SS.Common.BaseFunction.addCommas(this.currentNumber, 2))
                }, r([c(cc.Boolean)], e.prototype, "isInteger", void 0), r([a], e)
            }(cc.Component);
        o.NumberAnimation = l, cc._RF.pop()
    }, {}],
    NumberCountUp: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e2490lYPQJNOKAt/trbBSNT", "NumberCountUp");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NumberCountUp = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.isInteger = !1, e.isMoney = !1, e.m_bNeedChopOff = !1, e.fps = 30, e.current = 0, e.updateCallback = [], e.finishCallback = [], e
                }
                return i(e, t), e.prototype.onDestroy = function() {
                    this.updateCallback = null, this.finishCallback = null
                }, e.prototype.CountUp = function(t, e, o) {
                    var n = this;
                    void 0 === o && (o = 0), this.unscheduleAllCallbacks();
                    var i = t - this.current;
                    if (!(i <= 0)) {
                        var r = Math.floor(1 / this.fps * 1e3) / 1e3,
                            s = i * r / e;
                        0 != o && s < o && (s = o);
                        var a = 0,
                            c = Date.now(),
                            l = function() {
                                for (a += (Date.now() - c) / 1e3, c = Date.now(); a >= r;)
                                    if (a -= r, n.current += s, n.SetLabel(n.current), n.updateCallback.length > 0 && n.updateCallback.forEach(function(t) {
                                            t()
                                        }), n.current >= t) {
                                        n.current = t, n.SetLabel(t), n.unschedule(l), n.finishCallback.forEach(function(t) {
                                            t()
                                        });
                                        break
                                    }
                            };
                        this.schedule(l, r)
                    }
                }, e.prototype.SetLabel = function(t) {
                    var e = this.isInteger ? 0 : 2;
                    t = this.m_bNeedChopOff ? this.chopOff(t, e) : t, this.label.string = SS.Common.BaseFunction.addCommas(t, e, this.isMoney)
                }, e.prototype.GetLabelContent = function() {
                    return this.label.string
                }, e.prototype.SetNumberFormat = function(t, e, o) {
                    void 0 === o && (o = !1), this.isInteger = t, this.isMoney = e, this.m_bNeedChopOff = o, this.SetLabel(this.current)
                }, e.prototype.SetNumberNow = function(t) {
                    return this.current !== t && (this.unscheduleAllCallbacks(), this.current = t, this.SetLabel(this.current), !0)
                }, e.prototype.AddNumberNow = function(t) {
                    return 0 !== t && (this.current += t, this.SetLabel(this.current), !0)
                }, Object.defineProperty(e.prototype, "GetCurrentNumber", {
                    get: function() {
                        return this.current
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.RegisterUpdateCallback = function(t) {
                    this.updateCallback.push(t)
                }, e.prototype.UnregisterAllUpdateCallback = function() {
                    this.updateCallback = []
                }, e.prototype.RegisterFinishCallback = function(t) {
                    this.finishCallback.push(t)
                }, e.prototype.UnregisterAllFinishCallback = function() {
                    this.finishCallback = []
                }, e.prototype.chopOff = function(t, e) {
                    var o = Math.pow(10, e);
                    return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
                }, r([c(cc.Label)], e.prototype, "label", void 0), r([c], e.prototype, "isInteger", void 0), r([c], e.prototype, "isMoney", void 0), r([c], e.prototype, "m_bNeedChopOff", void 0), r([a], e)
            }(cc.Component);
        o.NumberCountUp = l, cc._RF.pop()
    }, {}],
    OpenBoxEffectAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a3ee9i2R6FMf5aqwTYIbfVI", "OpenBoxEffectAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.OpenBoxEffectAnimation = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnBoxAwardEffectFinish = null, e
                }
                return i(e, t), e.prototype.onDestroy = function() {
                    this.OnBoxAwardEffectFinish = null
                }, e.prototype.PlayCoinFinish = function() {
                    console.error("PlayCoinFinish"), null != this.OnBoxAwardEffectFinish && this.OnBoxAwardEffectFinish()
                }, r([a], e)
            }(cc.Component));
        o.OpenBoxEffectAnimation = c, cc._RF.pop()
    }, {}],
    OreientationHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "953787m/dVFYr3G9ZkGldpO", "OreientationHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LayoutParameter = void 0;
        var s = t("./FullScreenHandler"),
            a = t("./Helper/EventSystem"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            m = function() {
                function t() {
                    this.type = cc.Layout.Type.NONE, this.paddingLeft = 0, this.paddingRight = 0, this.paddingTop = 0, this.paddingBottom = 0, this.spacingX = 0, this.spacingY = 0, this.horizontalDirection = cc.Layout.HorizontalDirection.LEFT_TO_RIGHT, this.verticalDirection = cc.Layout.VerticalDirection.TOP_TO_BOTTOM
                }
                return r([u({
                    type: cc.Enum(cc.Layout.Type),
                    displayName: "Layout \u7a2e\u985e"
                })], t.prototype, "type", void 0), r([u({
                    type: cc.Float,
                    displayName: "\u5de6\u908a Padding",
                    visible: function() {
                        return this.type === cc.Layout.Type.HORIZONTAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "paddingLeft", void 0), r([u({
                    type: cc.Float,
                    displayName: "\u53f3\u908a Padding",
                    visible: function() {
                        return this.type === cc.Layout.Type.HORIZONTAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "paddingRight", void 0), r([u({
                    type: cc.Float,
                    displayName: "\u4e0a\u65b9 Padding",
                    visible: function() {
                        return this.type === cc.Layout.Type.VERTICAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "paddingTop", void 0), r([u({
                    type: cc.Float,
                    displayName: "\u4e0b\u65b9 Padding",
                    visible: function() {
                        return this.type === cc.Layout.Type.VERTICAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "paddingBottom", void 0), r([u({
                    type: cc.Float,
                    displayName: "X \u65b9\u5411\u9593\u9694",
                    visible: function() {
                        return this.type === cc.Layout.Type.HORIZONTAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "spacingX", void 0), r([u({
                    type: cc.Float,
                    displayName: "Y \u65b9\u5411\u9593\u9694",
                    visible: function() {
                        return this.type === cc.Layout.Type.VERTICAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "spacingY", void 0), r([u({
                    type: cc.Enum(cc.Layout.HorizontalDirection),
                    displayName: "\u6a6b\u5411\u6392\u5217\u65b9\u5411",
                    visible: function() {
                        return this.type === cc.Layout.Type.HORIZONTAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "horizontalDirection", void 0), r([u({
                    type: cc.Enum(cc.Layout.VerticalDirection),
                    displayName: "\u76f4\u5411\u6392\u5217\u65b9\u5411",
                    visible: function() {
                        return this.type === cc.Layout.Type.VERTICAL || this.type === cc.Layout.Type.GRID
                    }
                })], t.prototype, "verticalDirection", void 0), r([l("LayoutParameter")], t)
            }();
        o.LayoutParameter = m;
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.animation = null, e.animLandscape = null, e.animPortrait = null, e.scrollView = null, e.scrollViewLandscape = !1, e.scrollViewPortrait = !1, e.layout = null, e.layoutLandscape = new m, e.layoutPortrait = new m, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Insert(this.OnOrientationChange, this)
            }, e.prototype.onDestroy = function() {
                a.EventSystem.Event(a.ScreenOrientationState.ChangeOrientation).Remove(this.OnOrientationChange, this)
            }, e.prototype.OnOrientationChange = function(t) {
                t === s.Orientation.Landscape ? (this.SetOrientaion(this.animLandscape), this.SetScrollView(!0, this.scrollViewLandscape), this.SetLayout(this.layoutLandscape)) : (this.SetOrientaion(this.animPortrait), this.SetScrollView(this.scrollViewPortrait, !0), this.SetLayout(this.layoutPortrait))
            }, e.prototype.SetOrientaion = function(t) {
                this.animation && this.animation.play(t.name, 0)
            }, e.prototype.SetScrollView = function(t, e) {
                this.scrollView && (this.scrollView.horizontal = t, this.scrollView.vertical = e)
            }, e.prototype.SetLayout = function(t) {
                this.layout && (this.layout.type = t.type, this.layout.paddingLeft = t.paddingLeft, this.layout.paddingRight = t.paddingRight, this.layout.paddingTop = t.paddingTop, this.layout.paddingBottom = t.paddingBottom, this.layout.spacingX = t.spacingX, this.layout.spacingY = t.spacingY, this.layout.horizontalDirection = t.horizontalDirection, this.layout.verticalDirection = t.verticalDirection)
            }, r([u({
                type: cc.Animation,
                displayName: "Animation"
            })], e.prototype, "animation", void 0), r([u({
                type: cc.AnimationClip,
                displayName: "\u986f\u793a\u6a6b\u7248\u4f7f\u7528\u7684 Animation",
                visible: function() {
                    return null !== this.animation
                }
            })], e.prototype, "animLandscape", void 0), r([u({
                type: cc.AnimationClip,
                displayName: "\u986f\u793a\u76f4\u7248\u4f7f\u7528\u7684 Animation",
                visible: function() {
                    return null !== this.animation
                }
            })], e.prototype, "animPortrait", void 0), r([u({
                type: cc.ScrollView,
                displayName: "ScrollView"
            })], e.prototype, "scrollView", void 0), r([u({
                displayName: "\u6a6b\u7248\u6642 ScrollView \u662f\u5426\u958b\u555f\u6a6b\u5411\u6efe\u52d5",
                visible: function() {
                    return null !== this.scrollView
                }
            })], e.prototype, "scrollViewLandscape", void 0), r([u({
                displayName: "\u76f4\u7248\u6642 ScrollView \u662f\u5426\u958b\u555f\u76f4\u5411\u6efe\u52d5",
                visible: function() {
                    return null !== this.scrollView
                }
            })], e.prototype, "scrollViewPortrait", void 0), r([u({
                type: cc.Layout,
                displayName: "Layout"
            })], e.prototype, "layout", void 0), r([u({
                type: m,
                displayName: "\u6a6b\u7248\u6642 Layout \u8a2d\u5b9a",
                visible: function() {
                    return null !== this.layout
                }
            })], e.prototype, "layoutLandscape", void 0), r([u({
                type: m,
                displayName: "\u76f4\u7248\u6642 Layout \u8a2d\u5b9a",
                visible: function() {
                    return null !== this.layout
                }
            })], e.prototype, "layoutPortrait", void 0), r([l], e)
        }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "./FullScreenHandler": "FullScreenHandler",
        "./Helper/EventSystem": "EventSystem"
    }],
    ParticleSystemReset: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d1975LdAh1HjZ8XsMg6+21b", "ParticleSystemReset");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ParticleSystemReset = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.particle = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.particle = this.getComponent(cc.ParticleSystem)
                }, e.prototype.onDestroy = function() {
                    this.particle = null
                }, e.prototype.onDisable = function() {
                    this.particle.resetSystem()
                }, e.prototype.onEnable = function() {
                    this.particle.resetSystem()
                }, r([c(cc.ParticleSystem)], e.prototype, "particle", void 0), r([a], e)
            }(cc.Component);
        o.ParticleSystemReset = l, cc._RF.pop()
    }, {}],
    PlayerRankingCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "51275Aa0PNICZTO3siH/duG", "PlayerRankingCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PlayerRankingCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labRank = null, e.m_labID = null, e.m_labQuestionMark = null, e.m_labProgress = null, e.m_labTimestamp = null, e.m_labBonus = null, e.m_nodeHighlightBG = null, e.m_nodeCrowns = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {}, e.prototype.init = function(t, e, o, n, i, r) {
                    for (var s = 0; s < this.m_nodeCrowns.length; s++) this.m_nodeCrowns[s].active = s == t;
                    this.m_labRank.string = t >= 0 && t <= 2 ? "" : -1 == t ? "-" : (t + 1).toString(), this.m_labID.string = "es" == SS.Common.GameEnvironment.Language ? "N\xfam. " + e : "No." + e, this.m_labProgress.string = "x " + o.toString(), this.m_labTimestamp.string = -1 == n ? "" : this.tsToDateTime(n);
                    var a = "es" != SS.Common.GameEnvironment.Language;
                    SS.Common.GameEnvironment.Language, this.m_labBonus.string = SS.Common.BaseFunction.addCommas(i, 0, a), this.m_nodeHighlightBG.active = r, this.m_labQuestionMark.enabled = !0, this.m_labProgress.enabled = !1, this.m_labTimestamp.enabled = !1
                }, e.prototype.reveal = function() {
                    this.m_labQuestionMark.enabled = !1, this.m_labProgress.enabled = !0, this.m_labTimestamp.enabled = !0
                }, e.prototype.tsToDateTime = function(t) {
                    return new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "numeric",
                        day: "numeric",
                        hour12: !1
                    })
                }, r([c(cc.Label)], e.prototype, "m_labRank", void 0), r([c(cc.Label)], e.prototype, "m_labID", void 0), r([c(cc.Label)], e.prototype, "m_labQuestionMark", void 0), r([c(cc.Label)], e.prototype, "m_labProgress", void 0), r([c(cc.Label)], e.prototype, "m_labTimestamp", void 0), r([c(cc.Label)], e.prototype, "m_labBonus", void 0), r([c(cc.Node)], e.prototype, "m_nodeHighlightBG", void 0), r([c([cc.Node])], e.prototype, "m_nodeCrowns", void 0), r([a], e)
            }(cc.Component);
        o.PlayerRankingCtrl = l, cc._RF.pop()
    }, {}],
    PlayerRankingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "cc15cLmy2JMW6vseZF65nmx", "PlayerRankingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PlayerRankingMgr = void 0;
        var s = t("./PlayerRankingCtrl"),
            a = t("./RankBonusTotalProgress"),
            c = t("../CommBonusData"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_scroll = null, e.m_nodeContent = null, e.m_prefabPlayer = null, e.m_RankBonusTotalProgress = null, e.m_nodePool = null, e.m_arrPlayerRankingCtrl = [], e.m_iRevealCtr = 0, e.m_bReveal = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_prefabPlayer);
                        this.m_nodePool.put(e)
                    }
                }, e.prototype.scrollToPlayer = function() {
                    this.m_arrPlayerRankingCtrl.length > 4 && (this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(1 - this.m_iRevealCtr / (this.m_arrPlayerRankingCtrl.length - 3)))
                }, e.prototype.scrollToTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.Clear = function() {
                    var t = this;
                    console.warn("PlayerRankingMgr.Clear"), this.m_arrPlayerRankingCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerRankingCtrl = []
                }, e.prototype.showRanking = function(t) {
                    console.warn("showRanking = ", t);
                    var e = t.m_arrRankAwardData,
                        o = t.bonusData.ranking_list,
                        n = t.bonusData.ranking_id;
                    this.m_selfPlayerRankingCtrl && (this.m_selfPlayerRankingCtrl.node.active = !1), this.m_bReveal = !1, this.m_iRevealCtr = -1;
                    for (var i = !0, r = 0; r < o.length && r < t.RankSize; r++) {
                        for (var s = void 0, a = 0; a < e.length; a++)
                            if (r + 1 <= e[a].End) {
                                s = e[a].Award;
                                break
                            }
                        var l = n == o[r].ranking_id;
                        l && (i = !1), s = "es" == SS.Common.GameEnvironment.Language ? s : s * t.bonusData.exchange_rate, this.setRankingPlayer(r, o[r], l, s)
                    }
                    if (i) {
                        var u = new c.RankingPlayerData;
                        u.amount = t.CustomAmount, u.ranking_id = n, u.ark_id = "", u.time = -1, this.setRankingPlayer(-1, u, !0, 0)
                    }
                }, e.prototype.setRankingPlayer = function(t, e, o, n) {
                    if (void 0 === n && (n = 0), null != e && null != e.amount && null != e.ranking_id && null != e.time)
                        if (-1 == t) null == this.m_selfPlayerRankingCtrl ? ((i = cc.instantiate(this.m_prefabPlayer)).parent = this.m_nodeContent, i.setSiblingIndex(9999), this.m_selfPlayerRankingCtrl = i.getComponent(s.PlayerRankingCtrl)) : (this.m_selfPlayerRankingCtrl.node.active = !0, this.m_selfPlayerRankingCtrl.node.setSiblingIndex(9999)), this.m_selfPlayerRankingCtrl.init(t, e.ranking_id, e.amount, -1, n, o), this.m_selfPlayerRankingCtrl.reveal(), this.m_RankBonusTotalProgress.setRankingInfo(t, e.ranking_id, n);
                        else {
                            var i, r = this.m_arrPlayerRankingCtrl[t];
                            null == r && ((i = cc.instantiate(this.m_prefabPlayer)).parent = this.m_nodeContent, r = i.getComponent(s.PlayerRankingCtrl), this.m_arrPlayerRankingCtrl.push(r)), r.init(t, e.ranking_id, e.amount, -1, n, o), this.m_bReveal || (o ? (this.m_bReveal = !0, this.m_arrPlayerRankingCtrl[this.m_iRevealCtr] && this.m_arrPlayerRankingCtrl[this.m_iRevealCtr].reveal(), this.m_RankBonusTotalProgress.setRankingInfo(t, e.ranking_id, n)) : this.m_iRevealCtr = t), (this.m_bReveal || t > 2) && r.reveal()
                        }
                }, r([m(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([m(cc.Node)], e.prototype, "m_nodeContent", void 0), r([m(cc.Prefab)], e.prototype, "m_prefabPlayer", void 0), r([m(a.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([u], e)
            }(cc.Component);
        o.PlayerRankingMgr = p, cc._RF.pop()
    }, {
        "../CommBonusData": "CommBonusData",
        "./PlayerRankingCtrl": "PlayerRankingCtrl",
        "./RankBonusTotalProgress": "RankBonusTotalProgress"
    }],
    PopUpMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "67ffbhIDo5CPZDmSbEND8wo", "PopUpMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PopUpMgr = void 0;
        var s = t("../../Component/AudioMgr"),
            a = t("./PopUpTimerMgr"),
            c = t("./PriorityCustomEvent"),
            l = t("../../Helper/EventSystem"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function() {
                this.popupBgSF = null, this.popupName = "", this.buttonText = "", this.buttonAction = "", this.buttonCustomEventID = "", this.onClickEvent = null, this.onShowEvent = null, this.onCloseEvent = null, this.eventData = null
            },
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.popup = null, e.popupBg = null, e.popupCloseBtn = null, e.popupBtn = null, e.timerNode = null, e.GoBtnSpriteStyle = null, e.OkBtnSpriteStyle = null, e.MoreBtnSpriteStyle = null, e.CustomBtnSpriteStyle = null, e.showPopupIndex = 0, e.curDownloadNum = 0, e.needDownloadMaxNum = 0, e.popCmdData = null, e.popupBtnSprite = null, e.tmpPopupResAry = [], e.popupInfoMembers = [], e.OpenPopupWebviewEvent = null, e.SwitchGameEvent = null, e.m_PopUpTimerMgr = null, e.curOpenEventName = [], e.priorityShowEvents = [], e.onCloseAllPopupEvent = [], e.isFirstLogin = !1, e.rulePageNoCallback = null, e.onCloseEvent = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {}, e.prototype._start = function() {
                    this.root.active = !1, this.popup.active = !1, this.popupBtnSprite = this.popupBtn.getComponent(cc.Sprite), l.EventSystem.Event(l.LobbyState.EnterLobby).Insert(this.OnEnterLobby, this)
                }, e.prototype._onDestroy = function() {
                    if (this.popupInfoMembers && this.popupInfoMembers.length > 0)
                        for (var t = 0; t < this.popupInfoMembers.length; t++) this.popupInfoMembers[t] = null;
                    if (this.tmpPopupResAry && this.tmpPopupResAry.length > 0) {
                        for (t = 0; t < this.tmpPopupResAry.length; t++) cc.loader.release(this.tmpPopupResAry[t]);
                        this.tmpPopupResAry = []
                    }
                    l.EventSystem.Event(l.LobbyState.EnterLobby).Remove(this.OnEnterLobby, this)
                }, e.prototype.SavePopupCmdData = function(t) {
                    console.log("[popup Data]", t), this.popCmdData = t
                }, e.prototype.PopupDataInit = function() {
                    this.curDownloadNum = 0, this.needDownloadMaxNum = 0, (null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion) && this.popCmdData && this.popCmdData.hasOwnProperty("pop_up_info") && (this.root.active = !0, this.filterDisableGame())
                }, e.prototype.setEventPopUp = function(t) {
                    for (var e = this, o = t.m_sBannerID, n = !1, i = 0; i < this.popupInfoMembers.length; i++)
                        if (this.popupInfoMembers[i].buttonCustomEventID == t.m_sBannerID) {
                            n = !0, this.popupInfoMembers[i].eventData = t, t.m_fucClickEvent && (this.popupInfoMembers[i].onClickEvent = function() {
                                t.m_fucClickEvent(), e.ClosePopup()
                            }), t.m_funShowPopupEvent && (this.popupInfoMembers[i].onShowEvent = function() {
                                t.m_funShowPopupEvent()
                            }), this.popupInfoMembers[i].onCloseEvent = this.ShowNextPopup.bind(this);
                            break
                        }
                    console.warn("popupInfoMembers :", this.popupInfoMembers), n || console.warn("[Set MissionPopup ButtonCustomEvent Error] Not find this Key!!", o)
                }, e.prototype.GetDownloadPath = function(t) {
                    var e, o = SS.Common.GameEnvironment.ProjectSetting;
                    return e = (o.CDN_HOST ? window.location.protocol + "//" + o.CDN_HOST : "../../..") + "/Popup/" + this.popCmdData.pop_up_version + "/" + t + ".png", console.warn("[Download popupImg Path] = " + e), e
                }, e.prototype.filterDisableGame = function() {
                    for (var t = this, e = function(e) {
                            var n = !0,
                                i = o.popCmdData.pop_up_info[e].mode,
                                r = o.popCmdData.pop_up_info[e].bundle_name,
                                s = o.popCmdData.pop_up_info[e].button_text,
                                a = o.popCmdData.pop_up_info[e].button_action;
                            if (-1 == a.toUpperCase().indexOf("RULE")) return {
                                value: void 0
                            };
                            for (var u = 0; u < i.length; u++)
                                if (i[u] == window.gd_LogoMode) {
                                    n = !1;
                                    break
                                }
                            if (!n)
                                if (-1 != a.toUpperCase().indexOf("GAME_ID")) {
                                    for (var m = !1, p = a.substring(a.indexOf("=") + 1), h = o.GetThemeIdByGameName(p), d = 0; d < SS.Common.GameEnvironment.GameSetting.kioskOpenGameList.length; d++)
                                        if (SS.Common.GameEnvironment.GameSetting.kioskOpenGameList[d] == h) {
                                            m = !0;
                                            break
                                        }
                                    "" != p && m && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(p) && (o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, s, a, "", function() {
                                        t.OpenReCheckGameWindow(h)
                                    }, o.ShowNextPopup.bind(o)))
                                } else if (-1 != a.toUpperCase().indexOf("CUSTOM_ID"))
                                for (d = 0; d < o.curOpenEventName.length; d++) {
                                    var _ = a.substring(a.indexOf("=") + 1);
                                    if (_ == o.curOpenEventName[d]) {
                                        o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, s, a, _, o.ShowNextPopup.bind(o), o.ShowNextPopup.bind(o));
                                        break
                                    }
                                } else if (-1 != a.toUpperCase().indexOf("URL")) {
                                    o.needDownloadMaxNum++;
                                    var g = a.substring(a.indexOf("=") + 1);
                                    o.AddDownloadPopupInfo(r, s, a, "", function() {
                                        t.OpenPopupWebview(g)
                                    }, o.ShowNextPopup.bind(o))
                                } else if (-1 != a.toUpperCase().indexOf("RULE") && o.isFirstLogin) {
                                o.needDownloadMaxNum++;
                                var y = o.GetDownloadPath(r);
                                console.log("popup image downloadPath = " + y), cc.assetManager.loadRemote(y, function(e, o) {
                                    if (e) return t.curDownloadNum += 1, void console.warn("[popup Image Download is notFind !!] ", e);
                                    console.log("[popup Image Download is onFinish !!]", o), t.curDownloadNum += 1, l.EventSystem.Event(l.Rule.SetData).Notify(s, new cc.SpriteFrame(o));
                                    var n = new c.PriorityCustomEvent(100, t.ShowRulePopup.bind(t));
                                    t.priorityShowEvents.push(n)
                                })
                            } else o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, s, a, "", o.ShowNextPopup.bind(o), o.ShowNextPopup.bind(o))
                        }, o = this, n = 0; n < this.popCmdData.pop_up_info.length; n++) {
                        var i = e(n);
                        if ("object" == typeof i) return i.value
                    }
                }, e.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, e.prototype.AddDownloadPopupInfo = function(t, e, o, n, i, r) {
                    var s = this,
                        a = this,
                        c = this.GetDownloadPath(t),
                        l = new h;
                    l.popupName = t, l.buttonText = e, l.buttonAction = o, l.buttonCustomEventID = n, l.onClickEvent = i, l.onCloseEvent = r, this.popupInfoMembers.push(l), console.log("popup image downloadPath = " + c), cc.assetManager.loadRemote(c, function(t, e) {
                        if (t) return a.curDownloadNum += 1, void console.warn("[popup Image Download is notFind !!] ", t);
                        console.log("[popup Image Download is onFinish !!]", e), s.tmpPopupResAry.push(e), a.curDownloadNum += 1;
                        for (var o = 0; o < s.popupInfoMembers.length; o++)
                            if (s.popupInfoMembers[o].popupName + ".png" == e.url.substring(e.url.lastIndexOf("/") + 1)) {
                                l.popupBgSF = new cc.SpriteFrame(e);
                                break
                            }
                    })
                }, e.prototype.IsCompleteLoadAllPopup = function() {
                    return this.curDownloadNum >= this.needDownloadMaxNum && (console.warn("[Popup \u6210\u529f\u5b8c\u6210\u6240\u6709\u8f09\u5165]"), !0)
                }, e.prototype.OnEnterLobby = function(t, e, o) {
                    "Popup" === t && (o ? (this.onCloseEvent = o, this.checkAndShowPopup()) : console.error("No On Enter Lobby Callback"))
                }, e.prototype.checkAndShowPopup = function() {
                    console.log("[Popup]checkAndShowPopup!! priorityShowEvents: ", this.priorityShowEvents);
                    var t = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                    if (this.priorityShowEvents.length > 0) {
                        for (var e = -1, o = -1, n = null, i = 0; i < this.priorityShowEvents.length; i++) {
                            var r = this.priorityShowEvents[i];
                            r.priority >= o && (e = i, o = r.priority, n = r.executeEvent)
                        }
                        this.priorityShowEvents.splice(e, 1), null != n && n()
                    } else t ? this.ShowNormalPopup() : this.onCloseEvent && (this.onCloseEvent(), this.onCloseEvent = null)
                }, e.prototype.ShowNormalPopup = function() {
                    if (this.isFirstLogin && this.popupInfoMembers.length > 0 && this.showPopupIndex < this.popupInfoMembers.length && this.popupInfoMembers[this.showPopupIndex]) {
                        var t = this.popupInfoMembers[this.showPopupIndex];
                        null == t.popupBgSF ? this.ShowNextPopup() : "" == t.buttonCustomEventID || null != t.eventData && t.eventData.m_bValid ? this.Showing() : this.ShowNextPopup()
                    } else this.showPopupIndex >= this.popupInfoMembers.length && this.ClosePopup()
                }, e.prototype.Showing = function() {
                    console.log("[Popup]cur show\u7b2c " + this.showPopupIndex + " \u5f35 popup !!");
                    var t = this.popup.getChildByName("EventObj");
                    t && (t.active = !1);
                    var e = new cc.Component.EventHandler;
                    e.target = this.node, e.component = "PopUpMgr", e.handler = "RegisteredBtnClickEvent", e.customEventData = this.showPopupIndex.toString();
                    var o = new cc.Component.EventHandler;
                    o.target = this.node, o.component = "PopUpMgr", o.handler = "RegisteredCloseBtnClickEvent", o.customEventData = this.showPopupIndex.toString(), this.popupBtn.clickEvents = [], this.popupBtn.clickEvents.push(e), this.popupCloseBtn.clickEvents = [], this.popupCloseBtn.clickEvents.push(o);
                    var n = this.popupInfoMembers[this.showPopupIndex].buttonText.toUpperCase();
                    if (-1 != n.indexOf("OK") ? this.popupBtnSprite.spriteFrame = this.OkBtnSpriteStyle : -1 != n.indexOf("GO") ? this.popupBtnSprite.spriteFrame = this.GoBtnSpriteStyle : -1 != n.indexOf("MORE") ? this.popupBtnSprite.spriteFrame = this.MoreBtnSpriteStyle : this.popupBtnSprite.spriteFrame = this.CustomBtnSpriteStyle, this.popupBg.spriteFrame = this.popupInfoMembers[this.showPopupIndex].popupBgSF, this.popupInfoMembers[this.showPopupIndex].eventData && this.popupInfoMembers[this.showPopupIndex].eventData.m_funShowPopupEvent) {
                        var i = this.popupInfoMembers[this.showPopupIndex].eventData.m_funShowPopupEvent();
                        i && (i.name = "EventObj", i.setParent(this.popup))
                    }
                    if (this.popupInfoMembers[this.showPopupIndex].eventData && this.popupInfoMembers[this.showPopupIndex].eventData.m_funTimerEvent) {
                        var r = this.popupInfoMembers[this.showPopupIndex].eventData.m_funTimerEvent();
                        this.timerNode.active = !0, console.error("ShowPopup!!!!!!!!!! eventTime = " + r), null == this.m_PopUpTimerMgr && (this.m_PopUpTimerMgr = this.timerNode.getComponent(a.default)), this.m_PopUpTimerMgr.InitTimer(r)
                    } else null != this.m_PopUpTimerMgr && this.m_PopUpTimerMgr.ClearTimer(), this.timerNode.active = !1;
                    this.popup.active = !0
                }, e.prototype.RegisteredBtnClickEvent = function(t, e) {
                    s.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = e;
                    this.popupInfoMembers[o].onClickEvent()
                }, e.prototype.RegisteredCloseBtnClickEvent = function(t, e) {
                    s.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = e;
                    this.popupInfoMembers[o].onCloseEvent()
                }, e.prototype.ShowNextPopup = function() {
                    this.showPopupIndex < this.popupInfoMembers.length - 1 ? (this.showPopupIndex++, console.log("[Popup]\u986f\u793a\u4e0b\u4e00\u5f35popup"), this.ShowNormalPopup()) : this.ClosePopup()
                }, e.prototype.ClosePopup = function() {
                    if (console.log("[Popup]\u95dc\u9589 popup !!"), this.root.active = !1, this.popup.active = !1, null != this.m_PopUpTimerMgr && this.m_PopUpTimerMgr.ClearTimer(), null != this.onCloseAllPopupEvent)
                        for (var t = 0; t < this.onCloseAllPopupEvent.length; t++) this.onCloseAllPopupEvent[t]();
                    this.onCloseEvent && (this.onCloseEvent(), this.onCloseEvent = null)
                }, e.prototype.SetPopupFeature = function(t, e) {
                    this.SwitchGameEvent = t, this.OpenPopupWebviewEvent = e
                }, e.prototype.OpenReCheckGameWindow = function(t) {
                    null != this.SwitchGameEvent && this.SwitchGameEvent(t)
                }, e.prototype.OpenPopupWebview = function(t) {
                    null != this.OpenPopupWebviewEvent && this.OpenPopupWebviewEvent(t)
                }, e.prototype.ShowRulePopup = function() {
                    l.EventSystem.Function(l.Rule.Open)(this.checkAndShowPopup.bind(this), this.rulePageNoCallback) || this.checkAndShowPopup()
                }, r([p(cc.Node)], e.prototype, "root", void 0), r([p(cc.Node)], e.prototype, "popup", void 0), r([p(cc.Sprite)], e.prototype, "popupBg", void 0), r([p(cc.Button)], e.prototype, "popupCloseBtn", void 0), r([p(cc.Button)], e.prototype, "popupBtn", void 0), r([p(cc.Node)], e.prototype, "timerNode", void 0), r([p(cc.SpriteFrame)], e.prototype, "GoBtnSpriteStyle", void 0), r([p(cc.SpriteFrame)], e.prototype, "OkBtnSpriteStyle", void 0), r([p(cc.SpriteFrame)], e.prototype, "MoreBtnSpriteStyle", void 0), r([p(cc.SpriteFrame)], e.prototype, "CustomBtnSpriteStyle", void 0), r([m], e)
            }(cc.Component);
        o.PopUpMgr = d, cc._RF.pop()
    }, {
        "../../Component/AudioMgr": "AudioMgr",
        "../../Helper/EventSystem": "EventSystem",
        "./PopUpTimerMgr": "PopUpTimerMgr",
        "./PriorityCustomEvent": "PriorityCustomEvent"
    }],
    PopUpTimerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "241cfT65V5MY7wvwzDtm/a5", "PopUpTimerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labTime1 = null, e.m_labTime2 = null, e.m_labTime3 = null, e.m_iCountDownTime = 0, e.m_iIntervalID = -1, e.m_colorRed = new cc.Color(255, 40, 40, 255), e.m_timesUpCallback = null, e
                }
                return i(e, t), e.prototype.InitTimer = function(t) {
                    this.StartConutDownTimer(t)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.m_iIntervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.m_iIntervalID && clearInterval(this.m_iIntervalID)
                }, e.prototype.StartConutDownTimer = function(t) {
                    var e = this;
                    console.warn("popup \u8a2d\u5b9a\u6642\u9593\u5012\u6578 = " + t), this.m_iCountDownTime = t, this.UpdateUI(this.m_iCountDownTime), -1 != this.m_iIntervalID && clearInterval(this.m_iIntervalID), this.m_iIntervalID = setInterval(function() {
                        return e.Timer()
                    }, 1e3)
                }, e.prototype.Timer = function() {
                    --this.m_iCountDownTime, this.m_iCountDownTime <= 0 && (this.m_iCountDownTime = 0, this.PauseTimer(), this.m_timesUpCallback && this.m_timesUpCallback()), this.UpdateUI(this.m_iCountDownTime)
                }, e.prototype.UpdateUI = function(t) {
                    if (null != this.m_labTime1 && null != this.m_labTime2 && null != this.m_labTime3) {
                        var e = t % 60,
                            o = Math.floor(t / 60) % 60,
                            n = Math.floor(t / 3600),
                            i = Math.floor(n / 24);
                        n %= 24, i > 0 ? (this.m_labTime1.string = i + " d", this.m_labTime2.string = n + " h", this.m_labTime3.string = o + " m", this.SetLabeFormate(this.m_labTime1, cc.Color.WHITE, !1), this.SetLabeFormate(this.m_labTime2, cc.Color.WHITE, !1), this.SetLabeFormate(this.m_labTime3, cc.Color.WHITE, !1)) : (this.m_labTime1.string = this.AddZero(n) + " h", this.m_labTime2.string = this.AddZero(o) + " m", this.m_labTime3.string = this.AddZero(e) + " s", 0 == n && (this.SetLabeFormate(this.m_labTime1, this.m_colorRed, !0), this.SetLabeFormate(this.m_labTime2, this.m_colorRed, !0), this.SetLabeFormate(this.m_labTime3, this.m_colorRed, !0)))
                    }
                }, e.prototype.SetLabeFormate = function(t, e, o) {
                    t.node.color = e, t.enableBold = o
                }, e.prototype.AddZero = function(t) {
                    return t < 10 ? "0" + t.toString() : t.toString()
                }, r([c(cc.Label)], e.prototype, "m_labTime1", void 0), r([c(cc.Label)], e.prototype, "m_labTime2", void 0), r([c(cc.Label)], e.prototype, "m_labTime3", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    PopupMsgMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6f9a1uzkQtHI5tecSUhv6Um", "PopupMsgMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PopupMsgMgr = o.PopupPriority = void 0;
        var s, a = t("../../Net/LobbyClient"),
            c = t("../../Loading/Script/LoadingMgr"),
            l = t("../../Connect/Script/ConnectPanelMgr"),
            u = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            m = t("../../Component/ReturnLobbyHandler"),
            p = t("../../Helper/EventSystem"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property;
        (function(t) {
            t[t.null = -1] = "null", t[t.Info = 0] = "Info", t[t.Warning = 1] = "Warning", t[t.Error = 2] = "Error", t[t.Disconnected = 3] = "Disconnected", t[t.Critical = 4] = "Critical"
        })(s = o.PopupPriority || (o.PopupPriority = {}));
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.root = null, e.content = null, e.code = null, e.title = null, e.toLobbyHandler = null, e.nowPirority = s.null, e
            }
            var o;
            return i(e, t), o = e, e.prototype.onLoad = function() {
                null == o.Instance && (o.Instance = this)
            }, e.prototype.start = function() {
                this.toLobbyHandler = new m.ReturnLobbyHandler
            }, e.prototype.SetPopupMsgTitle = function() {
                try {
                    null != this.title && ("en" == SS.Common.GameEnvironment.Language ? this.title.string = "Message" : this.title.string = "Mensaje")
                } catch (t) {
                    console.error("[SetPopupMsgTitle Error] SS Module Not yet downloaded")
                }
            }, e.prototype.onDestroy = function() {
                this.nowPirority = null, this.nowErrorHandle = null, o.Instance = null
            }, e.prototype.OnClickedClose = function() {
                this.ClosePopMsg()
            }, e.prototype.OnClickedOK = function() {
                this.ClosePopMsg()
            }, e.prototype.ClosePopMsg = function() {
                null != this.nowErrorHandle && this.nowErrorHandle(), p.EventSystem.Event(p.SystemMsg.Close).Notify(), this.root.active = !1, this.nowPirority = s.null, this.nowErrorHandle = null
            }, e.prototype.ShowPopMsg = function(t, e, o, n, i, r) {
                var c = this;
                void 0 === i && (i = null), void 0 === r && (r = ""), u.CommonRoot.Instance && u.CommonRoot.Instance.GetInfoMgr && u.CommonRoot.Instance.GetInfoMgr.CloseInfoPage();
                var l = SS.Common.GameEnvironment.ErrorMsg && SS.Common.GameEnvironment.ErrorMsg[e] && "" != SS.Common.GameEnvironment.ErrorMsg[e] ? SS.Common.GameEnvironment.ErrorMsg[e] : "The Internet was lost! Please login again!";
                if (-1 != l.indexOf("{0}") && "" != r && (l = l.replace("{0}", r)), this.root.active && this.nowPirority > t) console.warn("PopupMsg return! ", "returnShowPopMsg", l, "code", e, "priority", t, "CallBackHandler", i);
                else {
                    var m, h = this;
                    if (t == s.Info ? m = console.log : t == s.Warning ? (m = console.warn, i || (i = function() {
                            h.WarningHandler()
                        })) : (m = console.error, i || (t == s.Critical ? i = function() {
                            h.CriticalHandler()
                        } : t == s.Error && (i = function() {
                            h.ErrorHandler()
                        }))), this.nowPirority = t, this.nowErrorHandle = function() {
                            c.isHideCursor && (c.isHideCursor = !1, cc.game.canvas.style.cursor = "none"), i && i()
                        }, this.content.string = l, this.code.string = e, m("ShowPopMsg", l, "code", e, "priority", t, "CallBackHandler", i), this.isHideCursor = "none" == cc.game.canvas.style.cursor, this.isHideCursor && (cc.game.canvas.style.cursor = "default"), cc.Camera.cameras.length > 0 && null != cc.Camera.cameras[0]) cc.Camera.cameras[0].node.active || (cc.Camera.cameras[0].node.active = !0);
                    else {
                        var d = cc.find("Canvas/Main Camera");
                        null != d ? d.active = !0 : console.error("Camera is not find")
                    }
                    if (SS.Common.GameEnvironment.SplashDiv && (SS.Common.GameEnvironment.SplashDiv.style.display = "none"), self != top) {
                        var _ = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                        "" != _ && a.LobbyClient.Instance.GetUserClient.SendSessionLengthEnd(_, null)
                    }
                    var g = !0;
                    t == s.Info ? g = !1 : (p.EventSystem.Event(p.SystemMsg.ClearQueue).Notify(), p.EventSystem.Event(p.SystemMsg.Close).Notify()), p.EventSystem.Event(p.SystemMsg.Open).Notify(this.root, cc.Size.ZERO, cc.Size.ZERO, 0, i, g), this.root.active = !0, a.LobbyClient.Instance && "maintain" != n && "updateVersion" != n && t != s.Info && a.LobbyClient.Instance.CollectErrorLog(t, e, o, n)
                }
            }, e.prototype.WarningHandler = function() {
                var t = self == top ? window : window,
                    e = SS.Common.GameEnvironment.Language + "Lobby";
                null === cc.assetManager.bundles.find(function(t) {
                    return t._config.getSceneInfo(e)
                }) && (e = "Lobby"), t.gd_orientationType == t.orientationType.vertical ? (SS.Common.GameEnvironment.ChangeToGameName = "", this.toLobbyHandler.BackToLobby(this.OnLoadCallBack.bind(this), this.OnErrorCallBack.bind(this))) : this.ReloadHandler()
            }, e.prototype.OnLoadCallBack = function() {
                var t = this;
                self == top ? window : window, SS.Common.GameEnvironment.ResetOrientationchange(self == top), this.scheduleOnce(function() {
                    t.ReloadHandler()
                }, 1)
            }, e.prototype.OnErrorCallBack = function() {
                o.Instance.ShowPopMsg(s.Warning, "C44", "", "Load Error", null)
            }, e.prototype.ReloadHandler = function() {
                var t = SS.Common.GameEnvironment.Language + "Lobby";
                null === cc.assetManager.bundles.find(function(e) {
                    return e._config.getSceneInfo(t)
                }) && (t = "Lobby"), cc.director.getScene().name == t || "Game" == cc.director.getScene().name || "Game_Vertical" == cc.director.getScene().name ? a.LobbyClient.Instance.IsSocketConnect() ? (c.LoadingMgr.Instance.OpenLoading(), cc.director.loadScene(t)) : location.replace(this.GetIndexURL()) : cc.director.loadScene("ReleaseScene")
            }, e.prototype.ErrorHandler = function() {
                var t = this;
                c.LoadingMgr.Instance.OpenLoading(), a.LobbyClient.Instance.DoLogout(function() {
                    var t = SS.Common.GameEnvironment.Language + "Login";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Login")
                }, function(e, o) {
                    console.error("Logout error status :" + e, "data:", o), t.CriticalHandler()
                })
            }, e.prototype.CriticalHandler = function() {
                l.ConnectPanelMgr.Instance.ShowConnectPanel();
                try {
                    null != a.LobbyClient.Instance && a.LobbyClient.Instance.ReloadLobby ? a.LobbyClient.Instance.ReloadLobby() : SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? location.reload() : location.replace(this.GetIndexURL())
                } catch (t) {
                    location.replace(this.GetIndexURL())
                }
            }, e.prototype.GetIndexURL = function() {
                var t = "",
                    e = "",
                    o = this.GetURLParameterByName("KioskDEV");
                return this.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../" + t + "/?KioskDEV=" + o + e : "../../../" + t + e
            }, e.prototype.GetURLParameterByName = function(t) {
                t = (t = t.toLowerCase()).replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var e = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(location.search.toLowerCase());
                return null === e ? "" : decodeURIComponent(e[1].replace(/\+/g, " "))
            }, e.Instance = null, r([_(cc.Node)], e.prototype, "root", void 0), r([_(cc.Label)], e.prototype, "content", void 0), r([_(cc.Label)], e.prototype, "code", void 0), r([_(cc.Label)], e.prototype, "title", void 0), o = r([d], e)
        }(cc.Component);
        o.PopupMsgMgr = g, cc._RF.pop()
    }, {
        "../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../Component/ReturnLobbyHandler": "ReturnLobbyHandler",
        "../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../Helper/EventSystem": "EventSystem",
        "../../Loading/Script/LoadingMgr": "LoadingMgr",
        "../../Net/LobbyClient": "LobbyClient"
    }],
    PriorityCustomEvent: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bee1clYWj1A4J8kTgtqeqOX", "PriorityCustomEvent");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
            else
                for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
            return r > 3 && s && Object.defineProperty(e, o, s), s
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PriorityCustomEvent = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            s = (i.property, function() {
                function t(t, e) {
                    this.priority = -1, this.executeEvent = null, this.priority = t, this.executeEvent = e
                }
                return n([r], t)
            }());
        o.PriorityCustomEvent = s, cc._RF.pop()
    }, {}],
    ProjectSettingDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "410b2/SPJ1O5LWw0FXbLECN", "ProjectSettingDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ProjectSettingDownloader = void 0;
        var r = t("./Downloader"),
            s = t("jsonpack"),
            a = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnLoad = null, e.OnError = null, e
                }
                return i(e, t), e.prototype.Start = function(t, e, o, n) {
                    this.OnLoad = o, this.OnError = n, this._isDeveloper = e, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
                }, e.prototype.OnLoadComplete = function(t) {
                    try {
                        var e = void 0;
                        0 == (e = this._isDeveloper ? JSON.parse(t) : s.unpack(t).json).ShowConsoleLog && (console.log = function() {}, cc.log = function() {}), 0 == e.ShowConsoleWarn && (console.warn = function() {}, cc.warn = function() {}), 0 == e.ShowConsoleError && (console.error = function() {}, cc.error = function() {}), null != this.OnLoad && this.OnLoad(e)
                    } catch (o) {
                        console.error("[ProjectSettingDownloader] Load project setting failed.\n", o), null != this.OnError && this.OnError(o)
                    }
                }, e
            }(r.Downloader);
        o.ProjectSettingDownloader = a, cc._RF.pop()
    }, {
        "./Downloader": "Downloader",
        jsonpack: 3
    }],
    RELEASE: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c45eerGGXpCwbWXDmq146sl", "RELEASE");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RELEASE = void 0;
        var s = t("../LobbyCommon/LobbyCommon"),
            a = t("../LobbyCommon/Net/LobbyClient"),
            c = cc._decorator,
            l = c.ccclass,
            u = (c.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.start = function() {
                    a.LobbyClient.Instance.ReloadLobby = null, a.LobbyClient.Instance.ReloadGame = null, SS.Common.ReleaseAsyncSource(), a.LobbyClient.SetInstance(null), cc.game.removePersistRootNode(s.LobbyCommon.Instance.node), s.LobbyCommon.Instance.node.destroy();
                    for (var t, e = window.document.getElementsByTagName("iframe"), o = 0; o < e.length; o++)
                        if (e[o].src == window.location.href) {
                            t = e[o];
                            break
                        }
                    t.src = "about:blank", window.cc.game.resume()
                }, r([l], e)
            }(cc.Component));
        o.RELEASE = u, cc._RF.pop()
    }, {
        "../LobbyCommon/LobbyCommon": "LobbyCommon",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    RankAwardPanelCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a17a3u/OlpHv4fIl7FUZ+4A", "RankAwardPanelCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankAwardPanelCtrl = void 0;
        var s = t("../../../../Net/LobbyClient"),
            a = t("../CommBonusData"),
            c = t("./PlayerRankingCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            m = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_rtID = null, e.m_rtAwardMsg = [], e.m_labAwardNum = [], e.m_rtTotalAwardMsg = null, e.m_labTotalAwardNum = null, e.m_scroll = null, e.m_nodeRankPanel = null, e.m_nodeContent = null, e.m_prefabPlayer = null, e.m_nodePool = null, e.m_arrPlayerRankingCtrl = [], e.m_arrRankingPlayerData = [], e.m_fScrollToPercent = 0, e.m_strMsgPrefix = "<color=#64FFFF>", e.m_strMsgPostfix = "</color>", e.m_strRankNumPrefix = "<color=#FF0000>", e.m_strRankNumPostfix = "</color>", e.m_sCommBonus = "", e.m_sRankBonusNo = "", e.m_sYouHaveWon = "", e.m_sNumber = "", e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_prefabPlayer);
                        this.m_nodePool.put(e)
                    }
                }, e.prototype.onClickRank = function() {
                    this.m_nodeRankPanel.active = !0, this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(this.m_fScrollToPercent), s.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", a.RankClickLogID.AWARD_RANK_BTN)
                }, e.prototype.onClickRankX = function() {
                    this.m_nodeRankPanel.active = !1, s.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", a.RankClickLogID.AWARD_RANK_X_BTN)
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sCommBonus = "Community Bonus", this.m_sRankBonusNo = "Rankings Bonus No.", this.m_sYouHaveWon = "YOU'VE WON", this.m_sNumber = "No.";
                            break;
                        case "es":
                            this.m_sCommBonus = "Bono Comunitario", this.m_sRankBonusNo = "Bono del R\xe1nking N\xfam.", this.m_sYouHaveWon = "GANAS", this.m_sNumber = "N\xfam."
                    }
                }, e.prototype.setDetail = function(t, e, o, n, i, r, s) {
                    this.m_nodeRankPanel.active = !1;
                    var a = !1,
                        c = 0;
                    "es" != SS.Common.GameEnvironment.Language && (a = !0, c = 2, o *= e, n *= e), this.m_arrRankingPlayerData = i, this.setRankingList(t, e, i, r, s), this.setLang(), this.m_rtID.string = this.m_sNumber + t;
                    var l = "es" == SS.Common.GameEnvironment.Language ? " CR\xc9D." : "",
                        u = 0;
                    if (o > 0 && (this.m_rtAwardMsg[u].enabled = !0, this.m_rtAwardMsg[u].string = this.m_strMsgPrefix + this.m_sCommBonus + this.m_strMsgPostfix, this.m_labAwardNum[u].enabled = !0, this.m_labAwardNum[u].string = SS.Common.BaseFunction.addCommas(o, c, a) + l, u++), n > 0) {
                        for (var m = -1, p = 0; p < this.m_arrRankingPlayerData.length; p++)
                            if (this.m_arrRankingPlayerData[p].ranking_id == t) {
                                m = p + 1;
                                break
                            }
                        this.m_rtAwardMsg[u].enabled = !0, this.m_rtAwardMsg[u].string = this.m_strMsgPrefix + this.m_sRankBonusNo + this.m_strRankNumPrefix + m + this.m_strRankNumPostfix + this.m_strMsgPostfix, this.m_labAwardNum[u].enabled = !0, this.m_labAwardNum[u].string = SS.Common.BaseFunction.addCommas(n, c, a) + l, u++
                    }
                    u < 2 && (this.m_rtAwardMsg[1].enabled = !1, this.m_labAwardNum[1].enabled = !1), this.m_rtTotalAwardMsg.string = this.m_strMsgPrefix + this.m_sYouHaveWon + this.m_strMsgPostfix, this.m_labTotalAwardNum.string = SS.Common.BaseFunction.addCommas(o + n, c, a) + l
                }, e.prototype.setRankingList = function(t, e, o, n) {
                    var i = this;
                    this.m_arrPlayerRankingCtrl.forEach(function(t) {
                        i.m_nodePool.put(t.node)
                    }), this.m_arrPlayerRankingCtrl = [];
                    for (var r = -1, s = 0; s < o.length; s++) {
                        for (var a = -1, l = 0; l < n.length; l++)
                            if (s + 1 <= n[l].End) {
                                a = n[l].Award;
                                break
                            }
                        var u = this.m_nodePool.get();
                        null == u && (u = cc.instantiate(this.m_prefabPlayer)), u.parent = this.m_nodeContent;
                        var m = u.getComponent(c.PlayerRankingCtrl),
                            p = o[s];
                        a = "es" == SS.Common.GameEnvironment.Language ? a : a * e, m.init(s, p.ranking_id, p.amount, -1, a, t == p.ranking_id), m.reveal(), this.m_arrPlayerRankingCtrl.push(m), t == p.ranking_id && (r = s)
                    }
                    this.m_arrPlayerRankingCtrl.length > 4 && (this.m_fScrollToPercent = 1 - (r - 1 / (this.m_arrPlayerRankingCtrl.length - 3)))
                }, r([m(cc.RichText)], e.prototype, "m_rtID", void 0), r([m(cc.RichText)], e.prototype, "m_rtAwardMsg", void 0), r([m(cc.Label)], e.prototype, "m_labAwardNum", void 0), r([m(cc.RichText)], e.prototype, "m_rtTotalAwardMsg", void 0), r([m(cc.Label)], e.prototype, "m_labTotalAwardNum", void 0), r([m(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([m(cc.Node)], e.prototype, "m_nodeRankPanel", void 0), r([m(cc.Node)], e.prototype, "m_nodeContent", void 0), r([m(cc.Prefab)], e.prototype, "m_prefabPlayer", void 0), r([u], e)
            }(cc.Component);
        o.RankAwardPanelCtrl = p, cc._RF.pop()
    }, {
        "../../../../Net/LobbyClient": "LobbyClient",
        "../CommBonusData": "CommBonusData",
        "./PlayerRankingCtrl": "PlayerRankingCtrl"
    }],
    RankBonusTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "48fabzXpblHT7/0kS7hc5Wl", "RankBonusTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankBonusTotalProgress = void 0;
        var s = t("../CommBonusTokenCtrl"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_TokenCtr = null, e.m_labTotalProgress = null, e.m_labTotalProgressAdd = null, e.m_nodeRank = null, e.m_labRank = null, e.m_labID = null, e.m_nodeBonus = null, e.m_labBonus = null, e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_fucTokenShowStartCB = null, e.m_fucAllTokenShowEndCB = null, e.m_fucAllTokenEnlargeEndCB = null, e.m_fucTokenEnlargeEndCB = null, e.m_fucTokenEnlargeStartCB = null, e.m_iFlyTokenCtr = 0, e.m_iTotalPrgressOnTop = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.m_labTotalProgressAdd.node.opacity = 0, this.m_TokenCtr.m_CommGetTokenShow.m_pfToken = this.m_pfToken, this.m_TokenCtr.m_CommGetTokenShow.m_pfMoveEnd = this.m_pfMoveEnd
                }, e.prototype.checkAllTokenShowEnd = function() {
                    this.m_iFlyTokenCtr--, 0 == this.m_iFlyTokenCtr && this.m_fucAllTokenShowEndCB && (this.m_TokenCtr.showToken(), this.m_fucAllTokenShowEndCB())
                }, e.prototype.setTokenShowStartCB = function(t) {
                    this.m_fucTokenShowStartCB = t
                }, e.prototype.setAllTokenShowEndCB = function(t) {
                    this.m_fucAllTokenShowEndCB = t, this.m_TokenCtr.m_fucShowEndCB = this.checkAllTokenShowEnd.bind(this)
                }, e.prototype.showFlyToken = function(t) {
                    this.m_iFlyTokenCtr++, this.m_TokenCtr.showFlyToken(0, t)
                }, e.prototype.setProgress = function(t) {
                    this.m_iTotalPrgressOnTop = t, this.m_labTotalProgress.string = "x" + t
                }, e.prototype.setProgressNoX = function(t) {
                    this.m_iTotalPrgressOnTop = t, this.m_labTotalProgress.string = t.toString()
                }, e.prototype.getProgress = function() {
                    return this.m_iTotalPrgressOnTop
                }, e.prototype.setProgressAdd = function(t) {
                    this.m_labTotalProgressAdd.string = "+" + t, this.m_labTotalProgressAdd.node.opacity = 0;
                    var e = cc.fadeIn(.25),
                        o = cc.fadeOut(1),
                        n = cc.sequence(e, o);
                    this.m_labTotalProgressAdd.node.stopAllActions(), this.m_labTotalProgressAdd.node.runAction(n)
                }, e.prototype.setRankingInfo = function(t, e, o) {
                    this.m_labRank.string = -1 == t ? "-" : (t + 1).toString();
                    var n = "es" == SS.Common.GameEnvironment.Language ? "N\xfam." : "No.";
                    this.m_labID.string = n + e;
                    var i = "es" != SS.Common.GameEnvironment.Language;
                    SS.Common.GameEnvironment.Language, this.m_labBonus.string = SS.Common.BaseFunction.addCommas(o, 0, i)
                }, e.prototype.hideRankAndBonus = function() {
                    this.m_nodeRank.opacity = 0, this.m_nodeBonus.opacity = 0
                }, e.prototype.showRankAndBonus = function() {
                    this.m_nodeRank.opacity = 0, this.m_nodeBonus.opacity = 0;
                    var t = cc.fadeIn(.25);
                    this.m_nodeRank.stopAllActions(), this.m_nodeRank.runAction(t);
                    var e = cc.fadeIn(.25);
                    this.m_nodeBonus.stopAllActions(), this.m_nodeBonus.runAction(e)
                }, e.prototype.getTokenPos = function() {
                    return this.m_TokenCtr.node.parent.convertToWorldSpaceAR(this.m_TokenCtr.node.getPosition())
                }, r([l(s.CommBonusTokenCtrl)], e.prototype, "m_TokenCtr", void 0), r([l(cc.Label)], e.prototype, "m_labTotalProgress", void 0), r([l(cc.Label)], e.prototype, "m_labTotalProgressAdd", void 0), r([l(cc.Node)], e.prototype, "m_nodeRank", void 0), r([l(cc.Label)], e.prototype, "m_labRank", void 0), r([l(cc.Label)], e.prototype, "m_labID", void 0), r([l(cc.Node)], e.prototype, "m_nodeBonus", void 0), r([l(cc.Label)], e.prototype, "m_labBonus", void 0), r([l(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([l(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([c], e)
            }(cc.Component);
        o.RankBonusTotalProgress = u, cc._RF.pop()
    }, {
        "../CommBonusTokenCtrl": "CommBonusTokenCtrl"
    }],
    RankingBonusListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "0ae1eSB+ppFTZb9el6TIW6g", "RankingBonusListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankingBonusListCtrl = void 0;
        var s = t("./RankingBonusRowCtrl"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeContent = null, e.m_prefab = null, e.m_labListNum = null, e.m_tempRankInfoAry = [], e.m_bIsInit = !1, e
                }
                return i(e, t), e.prototype.init = function(t, e, o) {
                    if (void 0 === o && (o = 4), !this.m_bIsInit) {
                        for (var n = 0, i = 0; i < t.length; i++) {
                            var r = cc.instantiate(this.m_prefab),
                                a = r.getComponent(s.RankingBonusRowCtrl),
                                c = t[i];
                            e = "es" == SS.Common.GameEnvironment.Language ? 1 : e, a.init(c.Begin, c.End, c.Award * e), r.parent = this.m_nodeContent, this.m_tempRankInfoAry.push(r), n = c.End > n ? c.End : n
                        }
                        var l = o.toString() + ". Ranked the top " + n + " in the contest will be awarded the bonus as follows: ",
                            u = "3. Se repartir\xe1n premios a los " + o.toString() + " mejores del Mapa del Tesoro:";
                        this.m_labListNum.string = "es" == SS.Common.GameEnvironment.Language ? u : l, this.m_bIsInit = !0
                    }
                }, e.prototype.Clear = function() {
                    this.m_tempRankInfoAry.forEach(function(t) {
                        t.destroy()
                    }), this.m_bIsInit = !1
                }, r([l(cc.Node)], e.prototype, "m_nodeContent", void 0), r([l(cc.Prefab)], e.prototype, "m_prefab", void 0), r([l(cc.Label)], e.prototype, "m_labListNum", void 0), r([c], e)
            }(cc.Component);
        o.RankingBonusListCtrl = u, cc._RF.pop()
    }, {
        "./RankingBonusRowCtrl": "RankingBonusRowCtrl"
    }],
    RankingBonusRowCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e5b47ydbXBL9r42tGCPyTtE", "RankingBonusRowCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankingBonusRowCtrl = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labRank = null, e.m_labBonus = null, e
                }
                return i(e, t), e.prototype.init = function(t, e, o) {
                    this.m_labRank.string = t == e ? this.numberStr(t) : this.numberStr(t) + " ~ " + this.numberStr(e);
                    var n = "es" != SS.Common.GameEnvironment.Language,
                        i = (SS.Common.GameEnvironment.Language, "es" == SS.Common.GameEnvironment.Language ? " CR\xc9D." : "");
                    this.m_labBonus.string = SS.Common.BaseFunction.addCommas(o, 0, n) + i
                }, e.prototype.numberStr = function(t) {
                    return "es" == SS.Common.GameEnvironment.Language ? t + "\xba" : "No." + t
                }, r([c(cc.Label)], e.prototype, "m_labRank", void 0), r([c(cc.Label)], e.prototype, "m_labBonus", void 0), r([a], e)
            }(cc.Component);
        o.RankingBonusRowCtrl = l, cc._RF.pop()
    }, {}],
    RepeatingMissionMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "1306bBlbcZGSJPF13WrthDt", "RepeatingMissionMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RepeatingMissionMgr = o.MisMgrStatus = void 0;
        var s, a = t("../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Component/AudioMgr"),
            p = t("./MissionCoinCtrl"),
            h = t("./MissionBtnCtrl"),
            d = t("./MissionTopProgress"),
            _ = t("./MissionListCtrl"),
            g = t("./MissionData"),
            y = t("../../../EventModule/EventModule"),
            f = t("../../EventBannerData"),
            S = t("./../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            C = t("../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.DISABLE = 6] = "DISABLE"
        })(s = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var v = cc._decorator,
            P = v.ccclass,
            b = v.property,
            w = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_GameToGameMenu = null, e.m_FinishMission = null, e.m_FooterMsg = null, e.m_MissionListCtrl = null, e.m_MissionTopProgress = null, e.awardCoin = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeReci = null, e.finishPageTimeCountDown = null, e.m_FakeScoreBoxCtrl = null, e.m_nodeBlocker = null, e.m_sprDailyBonus = null, e.m_sprExtraBonus = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "New Missions are available. Tap on the icon to explore.", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.curInGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = s.NONE, e.m_lastStatus = s.NONE, e.m_iLastProgress = 0, e.m_strChangeToGameName = "", e.m_iTitleType = -1, e.m_iFinalAwardNum = 0, e
                }
                return i(e, t), e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case s.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.m_FooterMsg.active = !0, this.m_FakeScoreBoxCtrl.hide());
                            break;
                        case s.INIT:
                            break;
                        case s.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), this.isClickClaimBtn ? (this.isClickClaimBtn = !1, c.ConnectPanelMgr.Instance.DisableConnectPanel(0)) : (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.collectMisData && (this.m_MissionListCtrl.m_strCollectQuestID = this.collectMisData.QuestID)), this.collectMisData = null, this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case s.COLLECT:
                            t && (console.warn("MisMgrStatus.COLLECT"), c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_nodeBlocker.active = !0, this.SetAllBtnInteract(!1), null != this.collectMisData && a.LobbyClient.Instance.GetUserClient.collectQuest(this.collectMisData.QuestID, this.collectMisData.QuestLevel, this.getMissionBonus.bind(this)));
                            break;
                        case s.COLLECT_RCV:
                            t && (console.warn("MisMgrStatus.COLLECT_RCV"), this.m_nodeBlocker.active = !1, this.SendMissionBonusInfoCmd(), this.m_status = s.UPDATE_CMD);
                            break;
                        case s.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.start = function() {
                    if (this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(this), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_GameToGameMenu.active = !1, this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.finishPageTimeCountDown.node.active = !1, this.m_nodeBlocker.active = !1, this.parseMisInfo(a.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.SetUserBalance = this.lobbySetUserBalance.bind(this);
                        var t = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                        if (this.m_MissionBtnCtrl.show(!t), t || this.checkAwardAvailible(), this.m_LobbyMgr) {
                            this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this));
                            var e = new f.EventBannerData("DailyBonus", this.m_iTitleType, this.OnClickFloatBtn.bind(this));
                            e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e)
                        }
                    }
                    this.ToggleFinishMissionPage(!1), this.initDone()
                }, e.prototype.popUpClosed = function() {
                    this.m_MissionBtnCtrl.show(!0);
                    var t = !1;
                    if (null != this.m_arrMissionData) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) this.m_arrMissionData[e].Status == g.UserQuestDataStatus.QUEST_NOT_DONE && (t = !0);
                        var o = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                        this.checkAwardAvailible() || o && t && this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent)
                    }
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == g.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0 && (this.m_MissionBtnCtrl.setPrompt(this.collectAwardContent.replace("{0}", (t + e).toString())), !0)
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    C.EventSystem.Event(C.DownBar.SetPlayerInfo).Notify(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.SetAllBtnInteract(!0)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.SetAllBtnInteract(!1)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.curInGameName)
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            for (var n = o.data.eventInfo[900004].UserQuestData, i = 0; i < n.length; i++) {
                                var r = void 0,
                                    s = void 0,
                                    a = n[i];
                                if (e.ThemeID == a.GameThemeID && e.QuestID == a.QuestID && e.QuestLevel == a.QuestLevel) {
                                    if (e.Status = a.Status, e.Status == g.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == g.QustObjectiveType.SPIN_TIME) s = e.SpinTimesGate, r = a.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == g.QustObjectiveType.SPIN_AMOUNT) s = e.SpinAmountGate, r = a.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == g.QustObjectiveType.WIN_AMOUNT) s = e.WinAmountGate, r = a.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != g.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        s = e.CustomGate, r = a.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / s;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (this.OnSetPrompt(e.QuestType, c, e.CustomInfoMsg), this.m_iLastProgress = c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (v) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.lengt) return !1;
                            for (var i = 0; i < o.length; i++) {
                                var r = new g.MissionData,
                                    s = o[i];
                                if (this.checkThemeIsOpen(s.GameThemeID) && (0 == s.TitleType || 1 == s.TitleType)) {
                                    this.m_iTitleType = s.TitleType, r.QuestID = s.QuestID, r.QuestLevel = s.QuestLevel, r.ThemeID = s.GameThemeID, r.SpinTimesGate = s.SpinTimesGate, r.SpinAmountGate = s.SpinAmountGate, r.WinAmountGate = s.WinAmountGate, r.CustomGate = s.CustomGate, r.CustomType = s.CustomType, r.CustomInfo = s.CustomInfo, r.Award = s.Award, r.Priority = s.Priority, r.CycleSeconds = s.CycleSeconds, r.ExpireTimeUTC = s.ExpireTimeUTC, null != s.CustomInfo && s.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = s.CustomInfo.Msg);
                                    for (var a = 0; a < n.length; a++) {
                                        var c = n[a];
                                        if (r.QuestID == c.QuestID && r.QuestLevel == c.QuestLevel && r.ThemeID == c.GameThemeID) {
                                            r.SpinTimes = c.SpinTimes, r.SpinAmount = c.SpinAmount, r.WinAmount = c.WinAmount, r.CustomAmount = c.CustomAmount, r.Status = c.Status;
                                            break
                                        }
                                    }
                                    this.m_arrMissionData.push(r)
                                }
                            }
                            return this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC, !0
                        }
                        return !1
                    } catch (v) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), m.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.m_MissionBtnCtrl.setPrompt(this.newMissionContent)
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithDay(t), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithDay(t), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.reloadLobby(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_iLastProgress = 0, this.m_status = s.UPDATE_CMD
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (v) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (v) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = o.indexOf(i),
                        s = o.indexOf("BIGICON_" + i);
                    return -1 == n && (r > -1 || s > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0, this.finishPageTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1, this.finishPageTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("\u62d6\u66f3\u7d50\u675f")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_MissionListCtrl.node.active = !t
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.show(!t), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var e = 1 == this.m_iTitleType;
                    this.m_sprDailyBonus.enabled = !e, this.m_sprExtraBonus.enabled = e
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        if (m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.curInGameName == this.m_strChangeToGameName) return console.warn("\u76f8\u540c\u904a\u6232\uff0c\u4e0d\u9032\u884c\u8df3\u8f49\u52d5\u4f5c !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1)
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != s.COLLECT && this.setActivityRoot(!1)
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    if (this.m_bBtnInterActable) {
                        this.m_MissionBtnCtrl.showFingerPtr(!1);
                        var t = (new Date).getTime();
                        t - this.m_dateLastTimeOpenPanel > 1e4 ? (this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = s.UPDATE_CMD, this.m_dateLastTimeOpenPanel = t) : this.ClickFloatBtnCallEvent()
                    }
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.m_MissionTopProgress.showFingerPtr(!1)
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), a.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickClaimBtn = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var t = this.getCurGameMisData();
                    this.setCollectMisData(t), this.m_MissionTopProgress.showFingerPtr(!1), this.isClickClaimBtn = !0
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o);
                    var n = this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e);
                    n.CollectBtnHand.active = !1, n.CollectBtn.target.active = !1
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = g.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = s.COLLECT)
                }, e.prototype.awardCoinDone = function() {
                    var t = this;
                    this.m_status == s.DISABLE ? (c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_FakeScoreBoxCtrl.hide()) : this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalAwardNum, 2, function() {
                        return t.m_status = s.COLLECT_RCV
                    })
                }, e.prototype.getMissionBonus = function(t, e) {
                    if (console.warn("getMissionBonus : "), this.SetAllBtnInteract(!0), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (console.log("[MissionEventMgr.GetMissionBonus]  Success : ", e), 0 == e.cmd_data.result)
                            if (this.m_status == s.UPDATE_CMD || this.m_status == s.DISABLE) {
                                c.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                var o = void 0,
                                    n = void 0,
                                    i = void 0;
                                SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (i = e.cmd_data.data.AwardWinnings, n = e.cmd_data.playerInfo.winnings, o = S.ShowType.WINNING) : (i = e.cmd_data.data.AwardEntries, n = e.cmd_data.playerInfo.entries, o = S.ShowType.ENTRIES) : (n = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, i = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = S.ShowType.CREDIT), this.SetUserBalance(e.cmd_data.playerInfo)
                            } else {
                                this.m_MissionTopProgress.showFingerPtr(!1);
                                var r = this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(+this.collectMisData.ThemeID);
                                this.isClickClaimBtn ? this.awardCoin.coinMoveToTarget(.5, this.awardCoinDone.bind(this)) : this.awardCoin.coinMoveToTarget(.5, this.awardCoinDone.bind(this), r.node), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_FooterMsg.active = !1, this.curMisData == this.collectMisData && (this.m_iLastProgress = 0), o = void 0, n = void 0, i = void 0, SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (i = e.cmd_data.data.AwardWinnings, n = e.cmd_data.playerInfo.winnings, o = S.ShowType.WINNING) : (i = e.cmd_data.data.AwardEntries, n = e.cmd_data.playerInfo.entries, o = S.ShowType.ENTRIES) : (n = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, i = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = S.ShowType.CREDIT), this.m_iFinalAwardNum = n, this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalAwardNum - i), this.SetUserBalance(e.cmd_data.playerInfo)
                            }
                    else {
                        switch (e.cmd_data.result) {
                            case 1:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo);
                                break;
                            case -999:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S189", null, null, null)
                        }
                        this.m_status = s.UPDATE_CMD
                    } else {
                        var a;
                        a = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, a, null, null, null)
                    }
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : C.EventSystem.Event(C.DockFunction.BackToLobby).Notify()
                }, e.prototype.OnSetPrompt = function(t, e, o) {
                    var n;
                    e >= 1 ? (e = 1, this.m_MissionTopProgress.showBtn(!0), this.SetRedPoint(), n = -1) : (this.m_MissionTopProgress.showBtn(!1), n = 5e3), (Math.round(1e4 * e) / 100).toFixed(2), this.m_MissionTopProgress.show(!0, t, o, n)
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("TreasureMap" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 != this.m_arrMissionData.length)
                        if (this.m_iEndTime < this.m_iNowTime) setTimeout(function() {
                            t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                        }, 3e3);
                        else {
                            this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), null != this.GetMissionCmdCallBack && (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null), this.SetRedPoint();
                            for (var e = !0, o = 0; o < this.m_arrMissionData.length; o++) this.m_arrMissionData[o].Status != g.UserQuestDataStatus.AWARD_CLAIMED && (e = !1);
                            this.ToggleFinishMissionPage(e), this.isMissionLastDay = this.m_iEndTime == this.m_arrMissionData[0].ExpireTimeUTC, this.ToggleMissionTimeCountDown(!this.isMissionLastDay || !e), this.isRequestInfoNow = !1
                        }
                    else this.m_status = s.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("RepeatingMissionMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (a.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = s.DISABLE : (this.errorCode = "S182", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case g.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case g.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case g.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case g.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("RepeatingMissionMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, e.prototype.SetRedPoint = function() {
                    for (var t = 0, e = 0; e < this.m_arrMissionData.length; e++) this.m_arrMissionData[e].Status == g.UserQuestDataStatus.AWARD_AVAILABLE && t++;
                    this.m_MissionBtnCtrl.setRedTag(t)
                }, r([b(cc.Node)], e.prototype, "root", void 0), r([b(h.MissionBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([b(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([b(cc.Node)], e.prototype, "m_GameToGameMenu", void 0), r([b(cc.Node)], e.prototype, "m_FinishMission", void 0), r([b(cc.Node)], e.prototype, "m_FooterMsg", void 0), r([b(_.MissionListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([b(d.MissionTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([b(p.MissionCoinCtrl)], e.prototype, "awardCoin", void 0), r([b(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([b(u.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([b(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([b(u.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([b(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([b(u.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([b(S.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([b(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([b(cc.Sprite)], e.prototype, "m_sprDailyBonus", void 0), r([b(cc.Sprite)], e.prototype, "m_sprExtraBonus", void 0), r([P], e)
            }(y.EventModule);
        o.RepeatingMissionMgr = w, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../EventModule/EventModule": "EventModule",
        "../../../Helper/EventSystem": "EventSystem",
        "../../EventBannerData": "EventBannerData",
        "./../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "./MissionBtnCtrl": "MissionBtnCtrl",
        "./MissionCoinCtrl": "MissionCoinCtrl",
        "./MissionData": "MissionData",
        "./MissionListCtrl": "MissionListCtrl",
        "./MissionTopProgress": "MissionTopProgress"
    }],
    ReturnLobbyHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ac6afU3pYhIQpsxUgx6qoa0", "ReturnLobbyHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ReturnLobbyHandler = void 0;
        var s = t("../Helper/EventSystem"),
            a = cc._decorator,
            c = a.ccclass,
            l = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.BackToLobby = function(t, e) {
                    var o = "",
                        n = "" != SS.Common.GameEnvironment.ChangeToGameName && SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.ChangeToGameName);
                    "" != SS.Common.GameEnvironment.ChangeToGameName ? (console.log("[Return Lobby Handler] \u4e0b\u8f09\u76f4\u7248 Splash? " + n), o = n ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC) : (console.log("[Return Lobby Handler] \u4e0b\u8f09\u9810\u8a2d Splash "), o = SS.Common.GameEnvironment.OriginalSplashSRC), console.log("[Return Lobby Handler] Game To " + ("" != SS.Common.GameEnvironment.ChangeToGameName ? "Game" : "Lobby")), console.log("[Return Lobby Handler] Download Splash Path: " + o), this.SetSplashScale();
                    var i = t,
                        r = e;
                    window.gd_orientationType = window.orientationType.auto, s.EventSystem.Event(s.ScreenOrientationState.CheckOrientation).Notify(), SS.Common.GameEnvironment.Splash.src != o ? (SS.Common.GameEnvironment.Splash.onload = function() {
                        i(), SS.Common.GameEnvironment.ResetOrientationchange(!0), i = null, r = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, SS.Common.GameEnvironment.Splash.onerror = function() {
                        r(), i = null, r = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, console.log("[Return Lobby Handler] \u4e0b\u8f09\u76f4\u7248 Splash? " + n), SS.Common.GameEnvironment.Splash.src = n ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC) : null != i && (i(), i = null, r = null)
                }, e.prototype.SetSplashScale = function() {
                    SS.Common.GameEnvironment.GetIsGameIsVertical(), SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.width = "100vmax", SS.Common.GameEnvironment.Splash.style.height = "100vmax")
                }, r([c], e)
            }(cc.Component));
        o.ReturnLobbyHandler = l, cc._RF.pop()
    }, {
        "../Helper/EventSystem": "EventSystem"
    }],
    SafeArea: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c6feaftWvJOargmnrJ5rKKO", "SafeArea");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("./Helper/EventSystem"),
            a = cc._decorator,
            c = a.ccclass,
            l = (a.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.pos = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    s.EventSystem.Event(s.UpdateSafeArea).Insert(this.Update, this), this.pos = this.node.position.clone()
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.Event(s.UpdateSafeArea).Remove(this.Update, this)
                }, e.prototype.Update = function(t, e, o, n, i) {
                    var r = t.clone(),
                        s = this.pos.clone();
                    r.width -= e + o, s.x += e * (1 - this.node.anchorX), s.x -= o * this.node.anchorX, r.height -= i + n, s.y += i * (1 - this.node.anchorY), s.y -= n * this.node.anchorY, this.node.position = s, this.node.setContentSize(r)
                }, r([c], e)
            }(cc.Component));
        o.default = l, cc._RF.pop()
    }, {
        "./Helper/EventSystem": "EventSystem"
    }],
    ScrollviewWindow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e65f0lQid1B8b15agkgAIQB", "ScrollviewWindow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ScrollviewWindow = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_ScrollView = null, e.m_Mask = null, e.m_nodeMask = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodeMask = this.m_Mask.node
                }, e.prototype.update = function() {
                    var t = this;
                    this.m_ScrollView.isScrolling && this.m_ScrollView.content.children.forEach(function(e) {
                        var o = t.m_nodeMask.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.Vec2.ZERO)),
                            n = t.m_nodeMask.width + e.width > 2 * Math.abs(o.x) && t.m_nodeMask.height + e.height > 2 * Math.abs(o.y);
                        e.opacity = n ? 255 : 0
                    })
                }, r([c(cc.ScrollView)], e.prototype, "m_ScrollView", void 0), r([c(cc.Mask)], e.prototype, "m_Mask", void 0), r([a], e)
            }(cc.Component);
        o.ScrollviewWindow = l, cc._RF.pop()
    }, {}],
    SelfDestroy: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "69679/wuZFL6LoWStAsD0En", "SelfDestroy");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SelfDestroy = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_fSec = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    var t = cc.delayTime(this.m_fSec),
                        e = cc.callFunc(this.selfDestroy.bind(this)),
                        o = cc.sequence(t, e);
                    this.node.runAction(o)
                }, e.prototype.selfDestroy = function() {
                    this.node.destroyAllChildren(), this.node.destroy()
                }, r([c(cc.Float)], e.prototype, "m_fSec", void 0), r([a], e)
            }(cc.Component);
        o.SelfDestroy = l, cc._RF.pop()
    }, {}],
    SetUseSprite: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "17d2bg33ixGzblbQKMa5qKN", "SetUseSprite");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SetUseSprite = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_esSpriteFrame = null, e.m_enSpriteFrame = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    null != this.m_esSpriteFrame && null != this.m_enSpriteFrame && (this.getComponent(cc.Sprite).spriteFrame = "en" == SS.Common.GameEnvironment.Language ? this.m_enSpriteFrame : this.m_esSpriteFrame)
                }, r([c(cc.SpriteFrame)], e.prototype, "m_esSpriteFrame", void 0), r([c(cc.SpriteFrame)], e.prototype, "m_enSpriteFrame", void 0), r([a], e)
            }(cc.Component);
        o.SetUseSprite = l, cc._RF.pop()
    }, {}],
    Setting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8883aBxHBdHsIfAlaHoQ+Ku", "Setting");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var r = t("./Download"),
            s = function() {
                function t() {
                    this._projectSetting = null, this._gameSetting = null, this._setting = null
                }
                return Object.defineProperty(t, "_instance", {
                    get: function() {
                        return null == this._inst && (this._inst = new t), this._inst
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "NeedInit", {
                    get: function() {
                        return null == this._setting
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.CheckInit = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t._instance.NeedInit ? [4, t._instance.Init()] : [3, 2];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.Init = function() {
                    return n(this, void 0, void 0, function() {
                        var t;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.NeedInit ? (this._projectSetting = SS.Common.GameEnvironment.ProjectSetting, t = this, [4, r.Download.JSON(gd_nowLOGO + "Setting")]) : [2];
                                case 1:
                                    return t._setting = e.sent(), [2]
                            }
                        })
                    })
                }, t.InitGameList = function() {
                    for (var e in t._instance._gameSetting = SS.Common.GameEnvironment.GameSetting, t._instance._gameSetting.Icon) {
                        var o = t._instance._gameSetting.Icon[e].GameName,
                            n = JSON.parse("{}");
                        n.ThemeID = e, n.GameName = o, t._instance._setting[e] = n, t._instance._setting[o] = n
                    }
                }, t.GetThemeID = function(e) {
                    return t._instance._setting[e] && t._instance._setting[e].ThemeID ? t._instance._setting[e].ThemeID : ""
                }, t.GetGameName = function(e) {
                    return t._instance._setting[e] && t._instance._setting[e].GameName ? t._instance._setting[e].GameName : ""
                }, t.GetSetting = function(e) {
                    return t._instance._setting[e] ? t._instance._setting[e] : null
                }, t._inst = null, t
            }();
        o.default = s, cc._RF.pop()
    }, {
        "./Download": "Download"
    }],
    SpawnPool: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "860d7+uOzpF/5Hhx3raQmYb", "SpawnPool");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SpawnPool = void 0;
        var s = cc._decorator.ccclass,
            a = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.stockpileObjAry = [], e.stockpileKindAry = [], e.spawnedAry = [], e
                }
                return i(e, t), e.prototype.Spawn = function(t, e) {
                    var o = this;
                    if (void 0 === e && (e = null), null == t) return cc.error("NodePool : spawnNode not Reference"), null;
                    var n = this.stockpileKindAry.indexOf(t);
                    n <= -1 && (this.stockpileKindAry.push(t), n = this.stockpileKindAry.length - 1);
                    var i = null,
                        r = this.stockpileObjAry.findIndex(function(t) {
                            return t.kind == o.stockpileKindAry[n]
                        });
                    r >= 0 ? (i = this.stockpileObjAry[r].node, this.stockpileObjAry.splice(r, 1)) : (i = cc.instantiate(t)).parent = cc.director.getScene(), null != e && (i.parent = e);
                    var s = {
                        kind: this.stockpileKindAry[n],
                        node: i
                    };
                    return this.spawnedAry.push(s), i.active = !0, i
                }, e.prototype.Despawn = function(t) {
                    var e = this.spawnedAry.findIndex(function(e) {
                        return e.node == t
                    });
                    if (e >= 0) {
                        t.active = !1;
                        var o = {
                            kind: this.spawnedAry[e].kind,
                            node: t
                        };
                        this.stockpileObjAry.push(o), this.spawnedAry.splice(e, 1)
                    } else cc.log("_nodeIndex : " + e), cc.log("NodePool : This Node Not Can Despawn")
                }, e.prototype.DespawnAll = function() {
                    for (var t = 0, e = this.spawnedAry; t < e.length; t++) {
                        var o = e[t];
                        o.node.active = !1, this.stockpileObjAry.push(o)
                    }
                    this.spawnedAry = []
                }, e.prototype.IsSpawned = function(t) {
                    return this.spawnedAry.findIndex(function(e) {
                        return e.node == t
                    }) >= 0
                }, r([s], e)
            }(cc.Component);
        o.SpawnPool = a, cc._RF.pop()
    }, {}],
    StateMachine: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e7d14/T2wpNnbC8mpnbb1hH", "StateMachine"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.StateMachine = void 0;
        var n = function() {
            function t(t) {
                this.currentState = null, this.owner = t
            }
            return t.prototype.SMUpdate = function() {
                null != this.currentState && this.currentState.Update()
            }, t.prototype.CurrentState = function() {
                return this.currentState
            }, t.prototype.SetCurrentState = function(t) {
                null != this.currentState && this.currentState.PostUpdate(), this.currentState = t, this.currentState.target = this.owner, this.currentState.PreUpdate()
            }, t
        }();
        o.StateMachine = n, cc._RF.pop()
    }, {}],
    State: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e1355l9m2dP5qXoSzNXHPyY", "State"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), cc._RF.pop()
    }, {}],
    TextBox: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7bdefGGLfFCgZ7fSPmWDieb", "TextBox");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TextBox = void 0;
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.bg = null, e.selectSprite = null, e.unSelectSprite = null, e
                }
                return i(e, t), e.prototype.SetText = function(t) {
                    this.label.string = t
                }, e.prototype.GetText = function() {
                    return this.label.string
                }, e.prototype.SetSelection = function(t) {
                    this.bg.spriteFrame = t ? this.selectSprite : this.unSelectSprite
                }, r([c(cc.Label)], e.prototype, "label", void 0), r([c(cc.Sprite)], e.prototype, "bg", void 0), r([c(cc.SpriteFrame)], e.prototype, "selectSprite", void 0), r([c(cc.SpriteFrame)], e.prototype, "unSelectSprite", void 0), r([a], e)
            }(cc.Component);
        o.TextBox = l, cc._RF.pop()
    }, {}],
    TimeZoneConversion: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6bd48lrnYdJm5mQvhbDfeqv", "TimeZoneConversion"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TimeZoneConversion = void 0;
        var n = cc._decorator,
            i = (n.ccclass, n.property, function() {
                function t() {}
                return t.convertTSToEST = function(t, e, o) {
                    void 0 === e && (e = !0), void 0 === o && (o = !0);
                    var n = new Date(t),
                        i = n.toLocaleDateString("en-US", {
                            timeZone: "EST"
                        }),
                        r = n.toLocaleTimeString("en-GB", {
                            timeZone: "EST"
                        });
                    return e && (i = i.substr(0, i.length - 5)), o && (r = r.substr(0, r.length - 3)), i + ", " + r
                }, t
            }());
        o.TimeZoneConversion = i, cc._RF.pop()
    }, {}],
    TopbarMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8212f4Fo2REabaptieOix+I", "TopbarMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TopbarMgr = o.Animation = void 0;
        var c = t("./../../Component/NumberCountUp"),
            l = t("../../Net/LobbyClient"),
            u = t("../../ModuleBase"),
            m = t("../../Helper/EventSystem"),
            p = cc._decorator,
            h = p.ccclass,
            d = p.property,
            _ = function() {
                function t() {
                    this.animation = null, this.animationClip = null
                }
                return t.prototype.Play = function() {
                    this.animation.node.active = !0, this.animation.play(this.animationClip.name)
                }, r([d({
                    type: cc.Animation,
                    displayName: "\u64a5\u653e\u52d5\u756b\u7684\u7269\u4ef6"
                })], t.prototype, "animation", void 0), r([d({
                    type: cc.AnimationClip,
                    displayName: "\u8981\u64a5\u653e\u7684\u52d5\u756b"
                })], t.prototype, "animationClip", void 0), r([h("Animation")], t)
            }();
        o.Animation = _;
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.topBarBg = null, e.animJPProgress = [], e.animJPEnd = [], e.objTopBarRoot = null, e.JpRoot = null, e.numberAniGrand = null, e.numberAniMajor = null, e.numberAniMinor = null, e.numberAniMini = null, e.JpBg = null, e.JpNum = null, e.JpType = "", e.JpShowLastTime = 0, e
            }
            return i(e, t), e.prototype._onLoad = function() {
                return s(this, void 0, void 0, function() {
                    return a(this, function() {
                        return m.EventSystem.Event(m.TopBar.ChangeJPVal).Insert(this.ChangeJPVal, this), m.EventSystem.Event(m.TopBar.SetJPValShowFormat).Insert(this.SetJPValShowFormat, this), m.EventSystem.RegisterFunction(m.TopBar.GetRoot, this.GetRoot.bind(this)), "" == this.JpType && (this.JpType = "Slot"), [2]
                    })
                })
            }, e.prototype._start = function() {
                return s(this, void 0, void 0, function() {
                    return a(this, function() {
                        return l.LobbyClient.Instance.JpShowLastTime > 0 && (this.JpShowLastTime = l.LobbyClient.Instance.JpShowLastTime, this.ShowJpEffect(this.JpType)), l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.add(this.ShowJpEffect, this), [2]
                    })
                })
            }, e.prototype._onDestroy = function() {
                return s(this, void 0, void 0, function() {
                    return a(this, function() {
                        return m.EventSystem.Event(m.TopBar.ChangeJPVal).Remove(this.ChangeJPVal, this), m.EventSystem.Event(m.TopBar.SetJPValShowFormat).Remove(this.SetJPValShowFormat, this), m.EventSystem.UnregisterFunction(m.TopBar.GetRoot), JSUtility.FullScreen.OnFullScreenChange = null, l.LobbyClient.Instance.GetJPSystem && l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.remove(this.ShowJpEffect, this), l.LobbyClient.Instance.GetJPSystem && l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.remove(this.DisableJpEffect, this), clearTimeout(this.JPShowTimeOutTimerID), l.LobbyClient.Instance.JpShowLastTime = this.JpShowLastTime, [2]
                    })
                })
            }, e.prototype.ShowJpEffect = function(t) {
                var e = this;
                if (this.JpType == t) {
                    console.warn("[GetJPAward] Start JPShow!!"), this.JpShowLastTime <= 0 && (this.JpShowLastTime = l.LobbyClient.Instance.DEAFULT_JP_SHOW_TIMEOUT);
                    for (var o = 0, n = this.animJPProgress; o < n.length; o++) n[o].Play();
                    var i = this,
                        r = function() {
                            i.JPShowTimeOutTimerID = setTimeout(function() {
                                --i.JpShowLastTime <= 0 ? i.DisableJpEffect(e.JpType) : r()
                            }, 1e3)
                        };
                    r(), l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.add(this.DisableJpEffect, this)
                }
            }, e.prototype.DisableJpEffect = function(t) {
                if (this.JpType == t) {
                    console.warn("[DisableJPAward] Stop JPShow!!"), clearTimeout(this.JPShowTimeOutTimerID), this.JpShowLastTime = 0;
                    for (var e = 0, o = this.animJPEnd; e < o.length; e++) o[e].Play();
                    l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.remove(this.DisableJpEffect, this)
                }
            }, e.prototype.ChangeJPVal = function(t, e, o, n, i) {
                if (void 0 === i && (i = !1), console.log("[TopbarMgr.RecvChangeCmd]", t, e, o, n), SS.Common.GameEnvironment.TopBarJPIsMoneyFormat) {
                    if (t) {
                        var r = SS.Common.BaseFunction.accMul(t, SS.Common.GameEnvironment.exchange_rate);
                        t = this.TruncateCurrency(r, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (e) {
                        var s = SS.Common.BaseFunction.accMul(e, SS.Common.GameEnvironment.exchange_rate);
                        e = this.TruncateCurrency(s, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (o) {
                        var a = SS.Common.BaseFunction.accMul(o, SS.Common.GameEnvironment.exchange_rate);
                        o = this.TruncateCurrency(a, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (n) {
                        var c = SS.Common.BaseFunction.accMul(n, SS.Common.GameEnvironment.exchange_rate);
                        n = this.TruncateCurrency(c, SS.Common.GameEnvironment.exchange_rate)
                    }
                    console.warn("after convert TopBar JPVal , number is : " + t, e, o, n)
                } else t = Math.floor(t), e = Math.floor(e), o = Math.floor(o), n = Math.floor(n);
                !i && t && e && o && n ? (this.numberAniGrand.CountUp(t, 6), this.numberAniMajor.CountUp(e, 6), this.numberAniMinor.CountUp(o, 6), this.numberAniMini.CountUp(n, 6)) : (t && this.numberAniGrand.SetNumberNow(t), e && this.numberAniMajor.SetNumberNow(e), o && this.numberAniMinor.SetNumberNow(o), n && this.numberAniMini.SetNumberNow(n))
            }, e.prototype.TruncateCurrency = function(t, e) {
                var o = SS.Common.BaseFunction.accDiv(1, e);
                return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
            }, e.prototype.SetJPValShowFormat = function(t) {
                this.numberAniGrand.SetNumberFormat(!t, t), this.numberAniMajor.SetNumberFormat(!t, t), this.numberAniMinor.SetNumberFormat(!t, t), this.numberAniMini.SetNumberFormat(!t, t)
            }, e.prototype.SetJPShow = function(t) {
                null != this.JpBg && null != this.JpNum && (this.JpBg.active = t, this.JpNum.active = t)
            }, e.prototype.SetTopBarActive = function(t) {
                this.objTopBarRoot.active = t
            }, e.prototype.ToggleTopbarPanel = function(t) {
                null != this.topBarBg && null != this.topBarBg && null != this.JpRoot && null != this.JpRoot && (this.topBarBg.active = t, this.JpRoot.active = t)
            }, e.prototype.GetRoot = function() {
                return this.objTopBarRoot
            }, r([d(cc.Node)], e.prototype, "topBarBg", void 0), r([d({
                type: _,
                displayName: "\u9810\u544a\u52d5\u756b"
            })], e.prototype, "animJPProgress", void 0), r([d({
                type: _,
                displayName: "\u7d50\u675f\u52d5\u756b"
            })], e.prototype, "animJPEnd", void 0), r([d(cc.Node)], e.prototype, "objTopBarRoot", void 0), r([d(cc.Node)], e.prototype, "JpRoot", void 0), r([d(c.NumberCountUp)], e.prototype, "numberAniGrand", void 0), r([d(c.NumberCountUp)], e.prototype, "numberAniMajor", void 0), r([d(c.NumberCountUp)], e.prototype, "numberAniMinor", void 0), r([d(c.NumberCountUp)], e.prototype, "numberAniMini", void 0), r([d(cc.Node)], e.prototype, "JpBg", void 0), r([d(cc.Node)], e.prototype, "JpNum", void 0), r([d(String)], e.prototype, "JpType", void 0), r([h], e)
        }(u.default);
        o.TopbarMgr = g, cc._RF.pop()
    }, {
        "../../Helper/EventSystem": "EventSystem",
        "../../ModuleBase": "ModuleBase",
        "../../Net/LobbyClient": "LobbyClient",
        "./../../Component/NumberCountUp": "NumberCountUp"
    }],
    UserName: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "423303ATwdORq4rmCB1qJ42", "UserName");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../ModuleBase"),
            l = t("./EventSystem"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return l.EventSystem.Event(l.AccountInfo).Insert(this.SetUserName, this), [2]
                        })
                    })
                }, e.prototype._onDestroy = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return l.EventSystem.Event(l.AccountInfo).Remove(this.SetUserName, this), [2]
                        })
                    })
                }, e.prototype.SetUserName = function(t, e) {
                    void 0 === e && (e = ""), this.label.string = "" == e ? t : t + "(" + e + ")"
                }, r([p({
                    type: cc.Label,
                    displayName: "\u5e33\u865f\u8cc7\u8a0a\u7684 Label"
                })], e.prototype, "label", void 0), r([m], e)
            }(c.default);
        o.default = h, cc._RF.pop()
    }, {
        "../ModuleBase": "ModuleBase",
        "./EventSystem": "EventSystem"
    }],
    VersionDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "af979m5ZBxO27wk0MwADwfj", "VersionDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.VersionDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o;
                var n = window.gd_nowLOGO;
                null == n && (n = parent.gd_nowLOGO), this.GetJSON(t + n + "Version.json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("VersionDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[VersionDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.VersionDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    Version: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7f16daLaHpJF7IVdED62GmO", "Version");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../ModuleBase"),
            l = t("./EventSystem"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return l.EventSystem.Event(l.Version).Insert(this.SetVersion, this), [2]
                        })
                    })
                }, e.prototype._onDestroy = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function() {
                            return l.EventSystem.Event(l.Version).Remove(this.SetVersion, this), [2]
                        })
                    })
                }, e.prototype.SetVersion = function(t) {
                    this.label.string = t
                }, r([p({
                    type: cc.Label,
                    displayName: "\u7248\u865f\u7684 Label"
                })], e.prototype, "label", void 0), r([m], e)
            }(c.default);
        o.default = h, cc._RF.pop()
    }, {
        "../ModuleBase": "ModuleBase",
        "./EventSystem": "EventSystem"
    }],
    ViewResolution: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8103f97D5pGAKmEpSDTyEfu", "ViewResolution");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("./Helper/EventSystem"),
            a = cc._decorator,
            c = a.ccclass,
            l = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onLoad = function() {
                    s.EventSystem.Event(s.UpdateSafeArea).Insert(this.Update, this)
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.Event(s.UpdateSafeArea).Remove(this.Update, this)
                }, e.prototype.Update = function(t) {
                    this.node.setContentSize(t.clone())
                }, r([c], e)
            }(cc.Component));
        o.default = l, cc._RF.pop()
    }, {
        "./Helper/EventSystem": "EventSystem"
    }],
    WaitCheckVersionState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "72869PzQh9LJYs6LO/huZ1T", "WaitCheckVersionState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitCheckVersionState = void 0;
        var r = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../LobbyCommon/Net/Downloader/VersionDownloader"),
            a = t("../../LobbyCommon/Component/GlobalData"),
            c = t("../../LobbyCommon/Net/LobbyClient"),
            l = t("../../LobbyCommon/Helper/EventSystem"),
            u = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            m = t("../../LobbyCommon/Helper/Setting"),
            p = function() {
                function t() {
                    this.CheckAllModuleVersion = !1
                }
                return t.prototype.PreUpdate = function() {
                    var t = this;
                    if (console.log("[LobbyFSM] %c WaitCheckVersionState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), c.LobbyClient.Instance && c.LobbyClient.Instance.IsSocketErrorClose) r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C14", "Lobby", "The internet was diconnected.", null);
                    else {
                        SS.Common.GameEnvironment.CurrentGameNow = null, a.GlobalData.isDeveloper ? this.CheckVersionIsOK = !0 : this.CheckVersionFlow();
                        var e = l.EventSystem.Event(l.LobbyState.CheckVersion).Length;
                        0 === e && (this.CheckAllModuleVersion = !0), u.LoadingMgr.Instance.SetProgress(25, 5), l.EventSystem.Event(l.LobbyState.CheckVersion).Notify(function() {
                            --e <= 0 && (t.CheckAllModuleVersion = !0)
                        }), this.target.unscheduleAllCallbacks();
                        var o = 60,
                            n = m.default.GetSetting("Lobby").CheckVersion.Timeout;
                        Number(n) && (o = Number(n)), this.target.scheduleOnce(function() {
                            var e;
                            e = !1 === t.CheckVersionIsOK ? "C65-1" : !1 === t.CheckAllModuleVersion ? "C65-2" : "C65-3", r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, e, "Lobby", "Check Version Timeout")
                        }, o)
                    }
                }, t.prototype.Update = function() {
                    this.CheckVersionIsOK && this.CheckAllModuleVersion && (this.CheckVersionIsOK = !1, this.target.LobbyFSM.SetCurrentState(this.target.WaitSettingState))
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitCheckVersionState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.CheckVersionFlow = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.DownloadLobbyVersion().catch(function(t) {
                                        r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C04", "Lobby", t)
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadLobbyVersion = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new s.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/SSLobby/", function(n) {
                                            try {
                                                t.CheckVersion(n, e)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckVersion = function(t, e) {
                    console.log("lobby CheckVersion now!");
                    var o, n = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV"),
                        i = SS.Common.GameEnvironment.ProjectSetting;
                    n && i.KioskDEVs.includes(SS.Common.BaseFunction.SHA1(n)) && (SS.Network.LoginModel.LoginInfo.kiosk_id == n ? SS.Common.GameEnvironment.IgnoreVersionCtrl = !0 : SS.Common.GameEnvironment.IgnoreVersionCtrl = !1), o = t.Version, SS.Common.GameEnvironment.IgnoreVersionCtrl ? (console.log("IgnoreVersionCtrl , client version : ", SS.Common.GameEnvironment.LobbyVersion), this.CheckVersionIsOK = !0) : t.Maintain.IsMaintainNow ? r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C07", "Lobby", "maintain", null) : o != SS.Common.GameEnvironment.LobbyVersion ? r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C08", "Lobby", "updateVersion", null) : this.CheckVersionIsOK = !0, e()
                }, t
            }();
        o.WaitCheckVersionState = p, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitIconDownload: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "75beeChz3xO+YTuATG3HWLe", "WaitIconDownload"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitIconDownload = void 0;
        var n = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            i = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            r = t("../../LobbyCommon/Helper/Setting"),
            s = t("../../LobbyCommon/Helper/EventSystem"),
            a = function() {
                function t() {}
                return t.prototype.PreUpdate = function() {
                    var t = this;
                    console.log("[LobbyFSM] %c WaitIconDownload PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), this.isDownaloadOK = !1, this.isError = !1, "" == SS.Common.GameEnvironment.ChangeToGameName && n.LoadingMgr.Instance.SetProgress(90, 10);
                    var e = 180,
                        o = r.default.GetSetting("Lobby").DownloadIcon.Timeout;
                    Number(o) && (e = Number(o)), s.EventSystem.Event(s.Icon.SetIcon).Notify(this.tmpTypeMapGameNameList, function() {
                        t.isDownaloadOK = !0
                    }), this.target.unscheduleAllCallbacks(), this.target.scheduleOnce(function() {
                        var e;
                        e = !0 === t.isDownaloadOK ? "C69-1" : "C69-4", i.PopupMsgMgr.Instance.ShowPopMsg(i.PopupPriority.Critical, e, "Lobby", "Download Icon Timeout")
                    }, e)
                }, t.prototype.Update = function() {
                    this.isError ? (this.isError = !1, i.PopupMsgMgr.Instance.ShowPopMsg(i.PopupPriority.Warning, this.errorCode, "Lobby", this.errorMsg)) : this.isDownaloadOK && (this.isDownaloadOK = !1, this.target.tmpTypeMapGameNameList = this.tmpTypeMapGameNameList, this.target.LobbyFSM.SetCurrentState(this.target.IdleState))
                }, t.prototype.PostUpdate = function() {
                    this.tmpTypeMapGameNameList = null, this.errorCode = null, this.errorMsg = null, console.log("[LobbyFSM] %c WaitIconDownload PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t
            }();
        o.WaitIconDownload = a, cc._RF.pop()
    }, {
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitInitAckState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b091441lXlG0rhfmoHx/90s", "WaitInitAckState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitInitAckState = void 0;
        var n = t("../../LobbyCommon/Net/LobbyClient"),
            i = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            r = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../LobbyCommon/Helper/EventSystem"),
            a = t("../../LobbyCommon/Helper/Setting"),
            c = function() {
                function t() {
                    this.isSetDefaultLoadpage = !1, this.AllModuleGetCommand = !1
                }
                return t.prototype.GetDefaultSplashSRC = function() {
                    return "" != SS.Common.GameEnvironment.ChangeToGameName ? (console.log("[Game To Game]"), SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.ChangeToGameName) ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC) : (console.log("[Game To Lobby]"), SS.Common.GameEnvironment.OriginalSplashSRC)
                }, t.prototype.PreUpdate = function() {
                    var t = this;
                    console.log("[LobbyFSM] %c WaitInitAckState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), "" == SS.Common.GameEnvironment.ChangeToGameName ? SS.Common.GameEnvironment.Splash.src != this.GetDefaultSplashSRC() ? this.ChangeDefaultLoadpage() : (this.isSetDefaultLoadpage = !0, i.LoadingMgr.Instance.SetProgress(40, 5)) : this.isSetDefaultLoadpage = !0, this.isRecvInGameJValue = !1, this.isRecvSlotJpValue = !1, this.isRecvFishJpValue = !1, this.isRecvUserProperty = !1, this.isRecvLobbyInfo = !1, this.isRecvKioskGameSetting = !0, this.userPropertyIsError = !1, this.isInGameJpIsError = !1, this.lobbyInfoIsError = !1, this.kioskGameSettingIsError = !1, this.isRecvBannerInfo = !0, this.isBannerCmdError = !1, this.isRecvPopupInfo = !0, this.isPopupCmdError = !1, this.AllModuleGetCommand = !1, n.LobbyClient.Instance.GetJPSystem.SendGetJPValCmd("Slot", this.RecvJPValCmd.bind(this)), n.LobbyClient.Instance.GetJPSystem.SendGetJPValCmd("Fish", this.RecvJPValCmd.bind(this)), n.LobbyClient.Instance.GetJPSystem.SendGetInGameJpValCmd(this.RecvInGameJPValCmd.bind(this)), n.LobbyClient.Instance.GetUserClient.GetUserProperty(this.RecvUserProperty.bind(this)), n.LobbyClient.Instance.GetUserClient.GetLobbyInfo(this.RecvLobbyInfo.bind(this)), n.LobbyClient.Instance.GetUserClient.GetKioskGameSetting(this.RecvKioskGameSetting.bind(this)), n.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this), n.LobbyClient.Instance.GetUserClient.GetClientPopUpAdv(this.RecvClientPopUp.bind(this)), n.LobbyClient.Instance.GetUserClient.GetClientBannerAdv(this.RecvClientBanner.bind(this)), this.target.unscheduleAllCallbacks();
                    var e = s.EventSystem.Event(s.LobbyState.WaitPacket).Length;
                    0 === e && (this.AllModuleGetCommand = !0), s.EventSystem.Event(s.LobbyState.WaitPacket).Notify(function() {
                        --e <= 0 && (t.AllModuleGetCommand = !0)
                    });
                    var o = 60,
                        c = a.default.GetSetting("Lobby").WaitPacket.Timeout;
                    Number(c) && (o = Number(c)), this.target.scheduleOnce(function() {
                        var e;
                        e = !1 === t.isRecvUserProperty ? "C67-1" : !1 === t.isRecvLobbyInfo ? "C67-2" : !1 === t.isRecvKioskGameSetting ? "C67-3" : !1 === t.isRecvBannerInfo ? "C67-4" : !1 === t.isRecvPopupInfo ? "C67-5" : !1 === t.AllModuleGetCommand ? "C67-6" : !1 === t.isRecvSlotJpValue || !1 === t.isRecvFishJpValue ? "C67-7" : !1 === t.isRecvInGameJValue ? "C67-8" : !1 === t.isSetDefaultLoadpage ? "C67-9" : "C67-10", r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, e, "Lobby", "Wait Packet Timeout")
                    }, o)
                }, t.prototype.ChangeDefaultLoadpage = function() {
                    console.warn("[ChangeDefaultLoadpage]");
                    var t = this,
                        e = new Image,
                        o = (document.getElementById("splash"), document.getElementById("splash-div"));
                    o && (o.style.display = "block"), i.LoadingMgr.Instance.CloseLoading(), e.onload = function() {
                        SS.Common.GameEnvironment.ResetOrientationchange(!1), t.isSetDefaultLoadpage = !0;
                        var o = document.getElementById("splash"),
                            n = document.getElementById("splash-div");
                        o.src = e.src, SS.Common.GameEnvironment.Splash = o, SS.Common.GameEnvironment.SplashDiv = n, t.FinishLoadPage()
                    }, e.onerror = function() {
                        r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Warning, "C44", this.gameName, "Load Error", null)
                    }, this.SetSplashScale(), e.src = this.GetDefaultSplashSRC()
                }, t.prototype.FinishLoadPage = function() {
                    console.warn("[FinishLoadPage]"), i.LoadingMgr.Instance.OpenLoading(), i.LoadingMgr.Instance.SetProgress(80, 10), document.getElementById("splash-div").style.display = "none"
                }, t.prototype.SetSplashScale = function() {
                    SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.width = "1560px", SS.Common.GameEnvironment.Splash.style.height = "1560px")
                }, t.prototype.Update = function() {
                    if (this.isRecvUserProperty && this.isRecvLobbyInfo && this.isRecvKioskGameSetting && this.isRecvBannerInfo && this.isRecvPopupInfo && this.AllModuleGetCommand) {
                        if (console.warn("[Recv Status]"), console.log("userPropertyIsError= " + this.userPropertyIsError), console.log("isInGameJpIsError= " + this.isInGameJpIsError), console.log("lobbyInfoIsError= " + this.lobbyInfoIsError), console.log("kioskGameSettingIsError= " + this.kioskGameSettingIsError), this.userPropertyIsError || this.isInGameJpIsError || this.lobbyInfoIsError || this.kioskGameSettingIsError) return this.userPropertyIsError = this.isInGameJpIsError = this.lobbyInfoIsError = this.kioskGameSettingIsError = !1, this.isRecvUserProperty = this.isRecvLobbyInfo = this.isRecvKioskGameSetting = !1, console.error("[ShowPopMsg]"), void r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Warning, this.errorCode, "Lobby", this.reason);
                        console.log("------------------------------------------"), console.log("isRecvSlotJpValue= " + this.isRecvSlotJpValue), console.log("isRecvFishJpValue= " + this.isRecvFishJpValue), console.log("isRecvInGameJValue= " + this.isRecvInGameJValue), console.log("isRecvUserProperty= " + this.isRecvUserProperty), console.log("isRecvLobbyInfo= " + this.isRecvLobbyInfo), console.log("isRecvKioskGameSetting= " + this.isRecvKioskGameSetting), console.log("isRecvPopupInfo= " + this.isRecvPopupInfo), console.log("isRecvBannerInfo= " + this.isRecvBannerInfo), this.isRecvSlotJpValue && this.isRecvFishJpValue && this.isRecvInGameJValue && this.isSetDefaultLoadpage && (this.isRecvSlotJpValue = this.isRecvFishJpValue = this.isRecvInGameJValue = this.isRecvUserProperty = this.isRecvLobbyInfo = this.isRecvKioskGameSetting = !1, this.isRecvPopupInfo = this.isRecvBannerInfo = !1, s.EventSystem.Event(s.LobbyState.RecvAllPacket).Notify(), console.log("[SetCurrentState] to WaitResDownload"), this.target.LobbyFSM.SetCurrentState(this.target.WaitResDownload))
                    }
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitInitAckState PostUpdate", "font-size:18px;font-weight:bold;color:orange;"), n.LobbyClient.Instance.GetJPSystem && n.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this)
                }, t.prototype.RecvInGameJPValCmd = function(t) {
                    console.warn("[RecvInGameJPValCmd]"), console.warn(t);
                    var e = t.result;
                    e == ArkSDK.HttpResult.OK ? (console.log("[LobbyMgr.RecvInGameJPValCmd] Success. data: ", t), this.target.gameJpMgr.ParseInGameJpVal(t.data), this.isRecvInGameJValue = !0) : (e == ArkSDK.HttpResult.Abort ? this.errorCode = "S347" : e == ArkSDK.HttpResult.Condition ? this.errorCode = "S348" : e == ArkSDK.HttpResult.Error ? this.errorCode = "S349" : e == ArkSDK.HttpResult.NotReset ? this.errorCode = "S350" : e == ArkSDK.HttpResult.Status ? this.errorCode = "S351" : e == ArkSDK.HttpResult.Timeout ? this.errorCode = "S352" : this.errorCode = "S353", this.isInGameJpIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e)
                }, t.prototype.RecvJPValCmd = function(t, e, o, n, i, r) {
                    switch (console.log("[RecvJPValCmd]", t, e, o, n), console.warn(t, e, o, n, i, r), SS.Common.GameEnvironment.exchange_rate = i, r) {
                        case "Slot":
                            s.EventSystem.Event(s.TopBar.ChangeJPVal).Notify(t, e, o, n, !0), this.isRecvSlotJpValue = !0;
                            break;
                        case "Fish":
                            this.isRecvFishJpValue = !0
                    }
                }, t.prototype.RecvUserProperty = function(t, e) {
                    console.warn("[RecvUserProperty]"), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvUserProperty] Success. data: ", e.cmd_data.data), this.target.UserEntries = e.cmd_data.data.entries, this.target.UserWinnings = e.cmd_data.data.winnings) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S145" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S146" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S53" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S147" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S148" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S52" : e && e.cmd_data && -9 == e.cmd_data.result ? this.errorCode = "S54" : this.errorCode = "S55", this.userPropertyIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvUserProperty = !0
                }, t.prototype.RecvLobbyInfo = function(t, e) {
                    console.warn("[RecvLobbyInfo]"), 0 == t && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvLobbyInfo]  Success. data: ", e.cmd_data.data), this.target.tmpLobbyInfo = e.cmd_data.data, SS.Common.GameEnvironment.IsShowDonate = this.target.tmpLobbyInfo.donate, this.target.tmpLobbyInfo.hasOwnProperty("score_box") ? (SS.Common.GameEnvironment.IsUseScoreBox = this.target.tmpLobbyInfo.score_box, console.warn("isOpen scoreBox ? " + SS.Common.GameEnvironment.IsUseScoreBox)) : (SS.Common.GameEnvironment.IsUseScoreBox = !0, console.warn("default scoreBox is open!!")), this.target.tmpLobbyInfo.hasOwnProperty("shutter") ? (SS.Common.GameEnvironment.IsUseShutter = this.target.tmpLobbyInfo.shutter, console.warn("shutter is " + SS.Common.GameEnvironment.IsUseShutter)) : console.warn("shutter is False!!"), this.target.tmpLobbyInfo.hasOwnProperty("shutter_skill") ? (SS.Common.GameEnvironment.IsUseSlotSkillGame = this.target.tmpLobbyInfo.shutter_skill, console.warn("shutter_skill is " + SS.Common.GameEnvironment.IsUseShutter)) : console.warn("shutter_skill is False!!"), this.target.tmpLobbyInfo.hasOwnProperty("preview_mode") ? (SS.Common.GameEnvironment.PrizeViewerMode = 1 == this.target.tmpLobbyInfo.preview_mode, console.warn("preview_mode is " + SS.Common.GameEnvironment.PrizeViewerMode)) : (SS.Common.GameEnvironment.PrizeViewerMode = !1, console.warn("preview_mode is False!!")), this.target.tmpLobbyInfo.hasOwnProperty("preview_seconds") ? (SS.Common.GameEnvironment.PrizeViewerSec = this.target.tmpLobbyInfo.preview_seconds, console.warn("preview_seconds is " + SS.Common.GameEnvironment.PrizeViewerSec)) : (SS.Common.GameEnvironment.PrizeViewerSec = 0, console.warn("preview_seconds is not found!!")), this.target.tmpLobbyInfo.hasOwnProperty("ingame_jp_info") && (SS.Common.GameEnvironment.InGameJpInfoDict = this.target.tmpLobbyInfo.ingame_jp_info, console.warn("[ingame_jp_info]", SS.Common.GameEnvironment.InGameJpInfoDict)), this.target.tmpLobbyInfo.hasOwnProperty("allow_state") && (ArkSDK.ArkClient.allowState = this.target.tmpLobbyInfo.allow_state), this.target.tmpLobbyInfo.hasOwnProperty("skill_game_enable") && (this.target.isEnableSkillGame = this.target.tmpLobbyInfo.skill_game_enable), this.target.tmpLobbyInfo.hasOwnProperty("skill_game_rate") && (this.target.skillGamelostRate = this.target.tmpLobbyInfo.skill_game_rate)) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S149" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S152" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S43" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S151" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S150" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S42" : e && e.cmd_data && e.cmd_data.result ? -1 == e.cmd_data.result ? this.errorCode = "S44" : -2 == e.cmd_data.result ? this.errorCode = "S45" : -3 == e.cmd_data.result ? this.errorCode = "S46" : -4 == e.cmd_data.result && (this.errorCode = "S47") : this.errorCode = "S48", this.lobbyInfoIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvLobbyInfo = !0
                }, t.prototype.RecvKioskGameSetting = function(t, e) {
                    console.warn("[RecvKioskGameSetting]"), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvKioskGameSetting]  Success. data: ", e.cmd_data.data), SS.Common.GameEnvironment.GameSetting.DisableGame = e.cmd_data.data.disable_game_list, SS.Common.GameEnvironment.GameSetting.DisableType = e.cmd_data.data.disable_game_type_list, SS.Common.GameEnvironment.GameSetting.LockGame = e.cmd_data.data.lock_game_list) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S153" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S154" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S73" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S155" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S156" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S72" : e && e.cmd_data && e.cmd_data.result && -19 == e.cmd_data.result ? this.errorCode = "S74" : this.errorCode = "S75", this.kioskGameSettingIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvKioskGameSetting = !0
                }, t.prototype.RecvClientBanner = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data) console.log("[LobbyMgr.RecvBanner]  Success. data: ", e.cmd_data.data), s.EventSystem.Event(s.Banner.SaveBannerCmdData).Notify(e.cmd_data.data);
                    else {
                        var o;
                        o = t == ArkSDK.HttpResult.Abort ? "S304" : t == ArkSDK.HttpResult.Condition ? "S305" : t == ArkSDK.HttpResult.Error ? "S306" : t == ArkSDK.HttpResult.NotReset ? "S307" : t == ArkSDK.HttpResult.Status ? "S308" : t == ArkSDK.HttpResult.Timeout ? "S309" : "S310", this.isBannerCmdError = !0, console.warn("Error: RecvClientBanner( " + o + ") : Banner wrong!")
                    }
                    this.isRecvBannerInfo = !0
                }, t.prototype.RecvClientPopUp = function(t, e) {
                    if (0 == t && e && e.cmd_data && e.cmd_data.data) console.log("[LobbyMgr.RecvPopUp]  Success. data: ", e.cmd_data.data), this.target.popUpMgr.SavePopupCmdData(e.cmd_data.data);
                    else {
                        var o;
                        o = t == ArkSDK.HttpResult.Abort ? "S296" : t == ArkSDK.HttpResult.Condition ? "S297" : t == ArkSDK.HttpResult.Error ? "S298" : t == ArkSDK.HttpResult.NotReset ? "S299" : t == ArkSDK.HttpResult.Status ? "S300" : t == ArkSDK.HttpResult.Timeout ? "S301" : "S302", this.isPopupCmdError = !0, console.warn("Error: RecvClientPopUp( " + o + ") : Banner wrong!")
                    }
                    this.isRecvPopupInfo = !0
                }, t
            }();
        o.WaitInitAckState = c, cc._RF.pop()
    }, {
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitResDownload: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f6c3drJGnNOoJCjZt3pv8AE", "WaitResDownload");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitResDownload = void 0;
        var r = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../LobbyCommon/Net/LobbyClient"),
            a = t("../../LobbyCommon/EventModule/EventModule"),
            c = t("../../LobbyCommon/Component/BundleCtrl"),
            l = t("../../LobbyCommon/Helper/EventSystem"),
            u = t("../../LobbyCommon/Helper/Setting"),
            m = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            p = function() {
                function t(t, e, o, n) {
                    void 0 === o && (o = null), void 0 === n && (n = !1), this.resName = e, this.isInitDone = !1, this.isError = !1, this.errorCode = "", this.errorMsg = "", this.completeFunc = o, n && this.checkAndLoadRes(t)
                }
                return t.prototype.checkAndLoadRes = function(t) {
                    return n(this, void 0, void 0, function() {
                        return i(this, function() {
                            try {
                                cc.loader.loadRes(this.resName + ".prefab", function(e, o) {
                                    if (e) return this.errorMsg = e, this.errorCode = "C03", this.isError = !0, void console.error(e);
                                    this.node = cc.instantiate(o), this.node.parent = cc.find("Canvas").getChildByName("LoadResNode"), null != this.completeFunc && this.completeFunc(this, t)
                                }.bind(this))
                            } catch (e) {
                                this.errorMsg = e, this.errorCode = "C03", this.isError = !0, console.error(e)
                            }
                            return [2]
                        })
                    })
                }, t.prototype.initDone = function() {
                    this.isInitDone = !0
                }, t
            }(),
            h = function() {
                function t() {
                    this.m_arrResSet = [], this.isBannerInit = !1, this.isDownloadBundles = !1, this.isDownloadResources = !1, this.t = 100
                }
                return t.prototype.PreUpdate = function() {
                    var t = this;
                    this.isDownloadBundles = !1, console.log("[LobbyFSM] %c WaitResDownload PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), SS.Common.GameEnvironment.GameSetting.kioskOpenGameList = this.GetKioskOpenGame();
                    var e = l.EventSystem.Event(l.LobbyState.DownloadResources).Length;
                    0 === e && (this.isDownloadResources = !0), l.EventSystem.Event(l.LobbyState.DownloadResources).Notify(function() {
                        --e <= 0 && (t.isDownloadResources = !0)
                    }), this.BundleAsync(), m.LoadingMgr.Instance.SetProgress(75, 10);
                    var o = 180,
                        n = u.default.GetSetting("Lobby").DownloadResources.Timeout;
                    Number(n) && (o = Number(n)), this.target.unscheduleAllCallbacks(), this.target.scheduleOnce(function() {
                        var e;
                        e = !0 === t.isDownloadBundles ? "C68-1" : !0 === t.isBannerInit ? "C68-2" : !0 === t.isDownloadResources ? "C68-3" : "C68-4", r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, e, "Lobby", "Download Resorces Timeout")
                    }, o)
                }, t.prototype.Update = function() {
                    var t = this;
                    if (this.t++, this.t >= 100 && (this.t = 0), this.isDownloadBundles) {
                        var e = !0;
                        if (this.m_arrResSet.forEach(function(o) {
                                o.isError && (o.isError = !1, t.ShowErrorMsg(o.errorCode, o.errorMsg)), e = e && o.isInitDone
                            }), this.isBannerInit || (this.SetBanner(), this.isBannerInit = !0), 0 == this.t && console.log("<><> all init done:", e), e) {
                            if (null == this.target.tmpMission90004)
                                for (var o = 0; o < this.m_arrResSet.length; o++) {
                                    "Mission/900004" == this.m_arrResSet[o].resName && (this.target.tmpMission90004 = this.m_arrResSet[o].node);
                                    break
                                }
                            this.isDownloadResources && this.target.LobbyFSM.SetCurrentState(this.target.WaitIconDownload)
                        }
                    }
                }, t.prototype.PostUpdate = function() {}, t.prototype.ShowErrorMsg = function(t, e) {
                    r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, t, "", e)
                }, t.prototype.DownloadLobbyMisc = function() {
                    if (null != s.LobbyClient.Instance.m_ExtraResult) {
                        var t = new p(this.target, "Res/LobbyMisc/ExtraFree", this.OnResSetEventMoudleComplete.bind(this), !0);
                        this.m_arrResSet.push(t)
                    } else console.log("ExtraFree \u6c92\u6709\u9818\u53d6\u8cc7\u683c")
                }, t.prototype.GetKioskOpenGame = function() {
                    var t = [],
                        e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type,
                        n = SS.Common.GameEnvironment.GameSetting.Type.KENO,
                        i = null != n && ("NC" == ArkSDK.ArkClient.allowState || SS.Common.GameEnvironment.IsUseSlotSkillGame);
                    if (i)
                        for (var r = 0; r < n.length; r++) n[r] = this.cutPrefix(n[r]);
                    for (var s in o)
                        for (var a = 0; a < o[s].length; a++) {
                            for (var c = !1, l = this.cutPrefix(o[s][a]), m = 0; m < e.length; m++) {
                                var p = u.default.GetGameName(e[m]);
                                if ("" != p && "" != l && l == p) {
                                    c = !0;
                                    break
                                }
                            }
                            if (i)
                                for (m = 0; m < n.length; m++)
                                    if ("" != n[m] && "" != l && l == n[m]) {
                                        c = !0;
                                        break
                                    }
                            c || t.push(l)
                        }
                    return cc.log(t), t
                }, t.prototype.cutPrefix = function(t) {
                    if (-1 != t.indexOf("_")) {
                        var e = t.split("_");
                        return e[e.length - 1]
                    }
                    return t
                }, t.prototype.setInitDone = function(t) {
                    for (var e = 0; e < this.m_arrResSet.length; e++)
                        if (this.m_arrResSet[e].resName == t) {
                            this.m_arrResSet[e].isInitDone = !0;
                            break
                        }
                }, t.prototype.GetArrResState = function(t) {
                    for (var e = 0; e < this.m_arrResSet.length; e++)
                        if (this.m_arrResSet[e].resName == t) return this.m_arrResSet[e]
                }, t.prototype.BundleAsync = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o;
                        return i(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = .25, e = !0, [4, c.default.Instance.DownloadConfig().catch(function() {
                                        e = !1
                                    })];
                                case 1:
                                    return n.sent(), e ? [4, c.default.Instance.DownloadCommonBundles()] : [3, 4];
                                case 2:
                                    return n.sent(), [4, c.default.Instance.DownloadLobbyBundles()];
                                case 3:
                                    n.sent(), n.label = 4;
                                case 4:
                                    return console.log("%c BundleAsync() - Version Setting", "font-size:14px;color:#00c957;font-weight:bold;"), cc.find("Canvas").getChildByName("LoadResNode"), this.DownloadLobbyMisc(), [4, this.ParseEventRes()];
                                case 5:
                                    n.sent(), o = 0, n.label = 6;
                                case 6:
                                    if (!(o < this.m_arrResSet.length)) return [3, 10];
                                    if (this.m_arrResSet[o].isError) return [3, 9];
                                    n.label = 7;
                                case 7:
                                    return this.m_arrResSet[o].isInitDone && !this.m_arrResSet[o].isError ? [3, 9] : [4, SS.Common.WaitForSeconds(t)];
                                case 8:
                                    return n.sent(), [3, 7];
                                case 9:
                                    return o++, [3, 6];
                                case 10:
                                    return this.isDownloadBundles = !0, console.log("%c BundleAsync() - END", "font-size:14px;color:#00c957;font-weight:bold;"), [2]
                            }
                        })
                    })
                }, t.prototype.SetBanner = function() {
                    this.target.popUpMgr.isFirstLogin = this.target.CheckCookieValue("login_clicked", "1"), l.EventSystem.Event(l.Banner.BannerDataInit).Notify(), this.target.popUpMgr.PopupDataInit()
                }, t.prototype.OnResSetEventMoudleComplete = function(t, e) {
                    var o = t.node.getComponent(a.EventModule);
                    o && (SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") || (SS.Common.GameEnvironment.GameSetting.active_event = {}), SS.Common.GameEnvironment.GameSetting.active_event[o.m_strEventID] = !0, o.init(e, t.initDone.bind(t)))
                }, t.prototype.ParseEventRes = function() {
                    return n(this, void 0, void 0, function() {
                        var t;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return null == s.LobbyClient.Instance.m_CommonEventInfo_900004 ? [3, 2] : [4, this.parseTitleType_900004(s.LobbyClient.Instance.m_CommonEventInfo_900004)];
                                case 1:
                                    return e.sent(), [3, 3];
                                case 2:
                                    console.error("\u6c92\u958b\u4efb\u52d9\u6d3b\u52d5"), e.label = 3;
                                case 3:
                                    return null != s.LobbyClient.Instance.m_CommonEventInfo_900005 ? (t = new p(this.target, "Mission/900005/FishPuzzleEgg", this.OnResSetEventMoudleComplete.bind(this), !0), this.m_arrResSet.push(t)) : console.error("\u6c92\u958b\u5f69\u86cb\u62fc\u5716\u6d3b\u52d5"), [2]
                            }
                        })
                    })
                }, t.prototype.parseTitleType_900004 = function(t) {
                    return n(this, void 0, void 0, function() {
                        var e, o, n, r, s, a, l, u, m, h, d, _, g;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (i.trys.push([0, 6, , 7]), !((e = JSON.parse(t)).hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData"))) return [3, 5];
                                    if (0 == (o = e.QuestList).lengt) return [2];
                                    switch (n = "", SS.Common.GameEnvironment.Language) {
                                        case "":
                                        case "en":
                                            n = "";
                                            break;
                                        case "es":
                                            n = "Esp_"
                                    }
                                    for (r = n, s = "", a = [], u = 0; u < o.length; u++) - 1 === a.indexOf(o[u].TitleType) && a.push(o[u].TitleType);
                                    l = SS.Common.GameEnvironment.ProjectSetting, u = 0, i.label = 1;
                                case 1:
                                    return u < a.length ? (m = a[u].toString(), l.Activities.hasOwnProperty(m) ? (h = l.Activities[m].BundleName).length > 0 ? (s = c.default.Instance.GetTargetBundlePrefabPath(h) + r + c.default.Instance.GetTargetBundlePrefabName(h), [4, c.default.Instance.GetOtherPrefab(h, s)]) : [3, 3] : [3, 4]) : [3, 5];
                                case 2:
                                    if (d = i.sent()) return (_ = new p(this.target, "", null, !1)).node = cc.instantiate(d), _.node.parent = cc.find("Canvas").getChildByName("LoadResNode"), this.OnResSetEventMoudleComplete(_, this.target), this.m_arrResSet.push(_), [3, 4];
                                    i.label = 3;
                                case 3:
                                    s = "Mission/" + r + l.Activities[m].FileName, g = new p(this.target, s, this.OnResSetEventMoudleComplete.bind(this), !0), this.m_arrResSet.push(g), i.label = 4;
                                case 4:
                                    return u++, [3, 1];
                                case 5:
                                    return [3, 7];
                                case 6:
                                    return i.sent(), [3, 7];
                                case 7:
                                    return [2]
                            }
                        })
                    })
                }, t
            }();
        o.WaitResDownload = h, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../../LobbyCommon/EventModule/EventModule": "EventModule",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitSettingState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "91e8eRJkiVMIIIRNcHBA805", "WaitSettingState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitSettingState = void 0;
        var r = t("../../LobbyCommon/Net/Downloader/GameSettingDownloader"),
            s = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            a = t("../../LobbyCommon/Component/GlobalData"),
            c = t("../../LobbyCommon/Helper/Setting"),
            l = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            u = function() {
                function t() {}
                return t.prototype.PreUpdate = function() {
                    var t = this;
                    console.log("[LobbyFSM] %c WaitSettingState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), this.isRecvFTPGameSetting = !1, this.ftpGameSettingisERROR = !1, this.DownloadGameSetting(), l.LoadingMgr.Instance.SetProgress(35, 5);
                    var e = 60,
                        o = c.default.GetSetting("Lobby").DownloadSetting.Timeout;
                    Number(o) && (e = Number(o)), this.target.unscheduleAllCallbacks(), this.target.scheduleOnce(function() {
                        var e;
                        e = !1 === t.isRecvFTPGameSetting ? "C66-1" : "C66-2", s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Critical, e, "Lobby", "Download Setting Timeout")
                    }, e)
                }, t.prototype.Update = function() {
                    this.ftpGameSettingisERROR ? (this.ftpGameSettingisERROR = !1, s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Critical, this.errorCode, "Lobby", this.reason)) : this.isRecvFTPGameSetting && (this.isRecvFTPGameSetting = !1, c.default.InitGameList(), this.target.LobbyFSM.SetCurrentState(this.target.WaitInitAckState))
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitSettingState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.DownloadGameSetting = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n, i;
                                        i = "/" + window.gd_nowLOGO + "GameSetting", n = a.GlobalData.IsCompress ? SS.Common.GameEnvironment.S3URL + i + ".txt" : SS.Common.GameEnvironment.S3URL + i + ".json", (new r.GameSettingDownloader).Start(n, !a.GlobalData.IsCompress, function(o) {
                                            console.log("ftp gameSetting", o), SS.Common.GameEnvironment.DisableMenuBtn = o.DisableMenuBtn.slice(0), SS.Common.GameEnvironment.TopBarJPIsMoneyFormat = o.TopBarJPIsMoneyFormat, SS.Common.GameEnvironment.JPRewardIsMoneyFormat = o.JPRewardIsMoneyFormat, SS.Common.GameEnvironment.JPWinnerIsMoneyFormat = o.JPWinnerIsMoneyFormat, o.PrizeReveal && (SS.Common.GameEnvironment.PrizeReveal = o.PrizeReveal), SS.Common.GameEnvironment.GameSetting = o, SS.Common.GameEnvironment.SetGameMappingData(), t.isRecvFTPGameSetting = !0, e(null)
                                        }, function(e) {
                                            t.reason = e, t.errorCode = "C10", t.ftpGameSettingisERROR = !0, o()
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t
            }();
        o.WaitSettingState = u, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/Downloader/GameSettingDownloader": "GameSettingDownloader",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WeaponActiveHint: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "55519SWY8JBlLCea8nVb8Jl", "WeaponActiveHint");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            a = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_FishCommonAltas = null, e.anim = null, e.weaponIcon = [], e.hintLabel = [], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    t.length > 1 ? (this.hintLabel[0].string = " are available", this.hintLabel[1].node.active = !0) : this.hintLabel[0].string = " is available";
                    for (var e = 0; e < t.length; e++) switch (t[e]) {
                        case 56001:
                            this.weaponIcon[e].spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Tiger"), this.weaponIcon[e].node.active = !0;
                            break;
                        case 57001:
                            this.weaponIcon[e].spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Dragon"), this.weaponIcon[e].node.active = !0
                    }
                    this.anim.play()
                }, r([c(cc.SpriteAtlas)], e.prototype, "m_FishCommonAltas", void 0), r([c(cc.Animation)], e.prototype, "anim", void 0), r([c([cc.Sprite])], e.prototype, "weaponIcon", void 0), r([c([cc.Label])], e.prototype, "hintLabel", void 0), r([a], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    WeaponChangeHint: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f3926Kk5VdOBYfU6+97Qm3r", "WeaponChangeHint");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("./FishUIMgr"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_FishCommonAltas = null, e.m_ChangeWeaponRoot = null, e.m_ClickToChangeNode = null, e.m_WeaponTypeArray = [], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    var e = 0;
                    e += this.m_ChangeWeaponRoot.width;
                    for (var o = "", n = 0, i = t; n < i.length; n++) {
                        var r = i[n];
                        switch (this.m_WeaponTypeArray.push(r), o = "", r) {
                            case s.WeaponType.Lock:
                                o = "FishHunterAladdin" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Aladdin_Lock" : "FishHunterGhost" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Ghost_Lock" : "FishFortuneKings" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Dragon_Lock" : "ClicktoChange_Normal_Lock";
                                break;
                            case s.WeaponType.Tiger:
                                o = "ClicktoChange_Tiger";
                                break;
                            case s.WeaponType.Dragon:
                                o = "ClicktoChange_Dragon"
                        }
                        if ("" != o) {
                            var a = cc.instantiate(this.m_ClickToChangeNode);
                            a.getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame(o), e += a.width, a.parent = this.m_ChangeWeaponRoot
                        }
                    }
                    this.m_ChangeWeaponRoot.width = e
                }, e.prototype.UpdateChangeHint = function() {}, r([l(cc.SpriteAtlas)], e.prototype, "m_FishCommonAltas", void 0), r([l(cc.Node)], e.prototype, "m_ChangeWeaponRoot", void 0), r([l(cc.Node)], e.prototype, "m_ClickToChangeNode", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "./FishUIMgr": "FishUIMgr"
    }],
    WeaponChosePanel: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8c406SxA3tJhZ8hSmqkZ1v1", "WeaponChosePanel");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var s = t("../../LobbyCommon/Component/AudioMgr"),
            a = cc._decorator,
            c = a.ccclass,
            l = a.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.toggleParent = null, e.BtnAni = null, e.BGAni = null, e.iconSprite = [], e.ChosenWeaponNode = null, e.BackIconNode = null, e.IconSwitchTween = null, e.WeaponBtnList = null, e.RichTextList = null, e.enable = !1, e.clickIndex = 0, e
                }
                return i(e, t), e.prototype.Init = function(t, e, o) {
                    if (this.enable) this.ClosePanel();
                    else if (e) {
                        var n = e.WeaponList,
                            i = e.currentType;
                        if (this.clickIndex = n.indexOf(i), this.RichTextList = this.toggleParent.getComponentsInChildren(cc.RichText), null != t && this.RichTextList.length >= t.length)
                            for (var r = 0; r < t.length; r++) this.RichTextList[r].string = t[r];
                        for (this.weaponBtnEvent = o, this.WeaponBtnList = this.toggleParent.toggleItems, this.toggleParent.enabled = !1, r = 0; r < this.WeaponBtnList.length; r++)
                            if (r < n.length) {
                                switch (this.WeaponBtnList[r].node.on("click", this.onWeaponBtnClick.bind(this, n[r], r), this.WeaponBtnList[r].node), n[r]) {
                                    case 50001:
                                        this.WeaponBtnList[r].getComponent(cc.Sprite).spriteFrame = this.iconSprite[0];
                                        break;
                                    case 51001:
                                        this.WeaponBtnList[r].getComponent(cc.Sprite).spriteFrame = this.iconSprite[1];
                                        break;
                                    case 56001:
                                        this.WeaponBtnList[r].getComponent(cc.Sprite).spriteFrame = this.iconSprite[2];
                                        break;
                                    case 57001:
                                        this.WeaponBtnList[r].getComponent(cc.Sprite).spriteFrame = this.iconSprite[3]
                                }
                                this.WeaponBtnList[r].isChecked = !1
                            }
                        this.BGAni.play("WeaponChosePanelOpen_" + n.length), this.BtnAni.play("WeaponChosePanelOpen_" + n.length), s.AudioMgr.Instance.Play("FISH_openweapons", !1, 1), this.toggleParent.enabled = !0, this.WeaponBtnList[n.indexOf(i)].isChecked = !0, this.IconSwitchTween && this.IconSwitchTween.stop(), this.IconSwitch(this.ChosenWeaponNode, this.BackIconNode), this.enable = !0
                    }
                }, e.prototype.onWeaponBtnClick = function(t, e) {
                    var o = this;
                    this.clickIndex != e ? (cc.tween(this.WeaponBtnList[e].node).to(.03, {
                        scale: 1.2
                    }).to(.07, {
                        scale: .5
                    }).to(.08, {
                        scale: 1
                    }).call(function() {
                        for (var n = 0; n < o.RichTextList.length; n++) o.RichTextList[n].node.parent.active = n == e;
                        o.weaponBtnEvent(t)
                    }).start(), this.clickIndex = e, this.WeaponBtnList.forEach(function(t) {
                        return t.interactable = !1
                    })) : this.ClosePanel()
                }, e.prototype.ClosePanel = function() {
                    this.BGAni.play("WeaponChosePanelClose"), this.BtnAni.play("WeaponChosePanelClose"), s.AudioMgr.Instance.Play("FISH_closeweapon", !1, 1), this.IconSwitchTween && this.IconSwitchTween.stop(), this.IconSwitch(this.BackIconNode, this.ChosenWeaponNode), this.enable = !1;
                    for (var t = 0; t < this.WeaponBtnList.length; t++) this.WeaponBtnList[t].node.targetOff(this.WeaponBtnList[t].node)
                }, e.prototype.IconSwitch = function(t, e) {
                    var o = this;
                    this.IconSwitchTween = cc.tween(t).to(.03, {
                        scale: 1.2
                    }).to(.1, {
                        scale: .2
                    }).call(function() {
                        t.opacity = 0, e.opacity = 255, o.IconSwitchTween = cc.tween(e).to(.15, {
                            scale: 1
                        }).start()
                    }).start()
                }, e.prototype.SetWeaponToggleInteractable = function(t) {
                    this.WeaponBtnList && this.WeaponBtnList.forEach(function(e) {
                        return e.interactable = t
                    })
                }, r([l(cc.ToggleContainer)], e.prototype, "toggleParent", void 0), r([l(cc.Animation)], e.prototype, "BtnAni", void 0), r([l(cc.Animation)], e.prototype, "BGAni", void 0), r([l([cc.SpriteFrame])], e.prototype, "iconSprite", void 0), r([l({
                    type: cc.Node,
                    displayName: "\u7576\u524d\u4f7f\u7528\u7684\u6b66\u5668icon\uff0c\u5c55\u958b\u4ecb\u9762\u9808\u95dc\u9589"
                })], e.prototype, "ChosenWeaponNode", void 0), r([l({
                    type: cc.Node,
                    displayName: "\u8fd4\u56de\u7bc0\u9ede"
                })], e.prototype, "BackIconNode", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr"
    }],
    test: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "98928gFSDdCRIF58W4MS077", "test");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    s = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, o, n);
                else
                    for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, o, s) : i(e, o)) || s);
                return r > 3 && s && Object.defineProperty(e, o, s), s
            },
            s = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function s(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function a(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(s, a)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function a(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return s.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    s.label = r[1];
                                    break
                                }
                                if (6 === r[0] && s.label < i[1]) {
                                    s.label = i[1], i = r;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(r);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        r = e.call(t, s)
                    } catch (a) {
                        r = [6, a], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.test = void 0;
        var c = t("./LobbyCommon/Helper/LayerSystem"),
            l = t("./LobbyCommon/Helper/Setting"),
            u = cc._decorator,
            m = u.ccclass,
            p = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gameWebView = null, e.sp = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    window.addEventListener("resize", this.SetResize.bind(this)), console.log("[Test] Start"), this.tmp()
                }, e.prototype.tmp = function() {
                    return s(this, void 0, void 0, function() {
                        return a(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, l.default.CheckInit()];
                                case 1:
                                    return t.sent(), c.default.Init(), [4, SS.Common.WaitForSeconds(3)];
                                case 2:
                                    return t.sent(), console.warn(1), c.default.SetParent(this.sp.node, "1"), [4, SS.Common.WaitForSeconds(3)];
                                case 3:
                                    return t.sent(), console.warn(2), c.default.SetParent(this.sp.node, "2"), [4, SS.Common.WaitForSeconds(3)];
                                case 4:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.SetResize = function() {}, r([p(cc.WebView)], e.prototype, "gameWebView", void 0), r([p(cc.Sprite)], e.prototype, "sp", void 0), r([m], e)
            }(cc.Component);
        o.test = h, cc._RF.pop()
    }, {
        "./LobbyCommon/Helper/LayerSystem": "LayerSystem",
        "./LobbyCommon/Helper/Setting": "Setting"
    }]
}, {}, ["InGameJpBg", "InGameJpPanel", "BtnState", "CanvasHandler", "ClickLogDef", "EncryptSkeleton", "FishBundleManager", "FishCommonRoot", "FishUIMgr", "MouseMark", "WeaponActiveHint", "WeaponChangeHint", "WeaponChosePanel", "CheatKeyCustomData", "CheatKeyData", "CheatKeyManager", "CommonRoot", "GameBar", "GAME_APP", "InfoMgr", "JPTimerMgr", "BaseMachineHost", "MessageMgr", "RELEASE", "AudioMgr", "AudioList", "AudioPlaySetting", "AudioSetting", "AutoFitObject", "BundleCtrl", "ColorAssembler2D", "CookieCtrl", "DateTimeCountDown", "DontDestroy", "EnableToPlayAnimation", "EnableToPlayParticle", "EventCaller", "GlobalData", "NodeDrag", "NodeParticleSystem", "NumberAnimation", "NumberCountUp", "ParticleSystemReset", "ReturnLobbyHandler", "ScrollviewWindow", "SetUseSprite", "SpawnPool", "State", "StateMachine", "TextBox", "ConnectPanelMgr", "CustomWidget", "DisableMultiTapHandler", "CommBonusBtnCtrl", "CommBonusCoinCtrl", "CommBonusData", "CommBonusInfoCtrl", "CommBonusListCtrl", "CommBonusMgr", "CommBonusMoneyMgr", "CommBonusMsgCtrl", "CommBonusTokenCtrl", "CommBonusTopProgress", "CommBonusTotalProgress", "CommGetTokenShow", "CommBonusBtnCtrl_Rank", "CommBonusListCtrl_Rank", "CommBonusMgr_Rank", "FinishPageTimer", "NewPlayerGuideCtrl", "PlayerRankingCtrl", "PlayerRankingMgr", "RankAwardPanelCtrl", "RankBonusTotalProgress", "RankingBonusListCtrl", "RankingBonusRowCtrl", "SelfDestroy", "EventBannerData", "EventModule", "EventTipsMask", "FishFakeScoreBoxCtrl", "FishOceanHeartBtnCtrl", "FishOceanHeartData", "FishOceanHeartDropItem", "FishOceanHeartInfoCtrl", "FishOceanHeartListCtrl", "FishOceanHeartMgr", "FishOceanHeartPlayerRankingMgr", "FishOceanHeartRankAwardPanelCtrl", "FishOceanHeartShellCtrl", "FishOceanHeartTotalProgress", "FishPuzzleEggGetAwardState", "FishPuzzleEggIdleState", "FishPuzzleEggInitState", "FishPuzzleEggPuzzlePageState", "FishPuzzleEggWaitCmdState", "FishPuzzleEggAwardMgr", "FishPuzzleEggAwardPanelMgr", "FishPuzzleEggAwardPanelRowCtrl", "FishPuzzleEggData", "FishPuzzleEggDropEgg", "FishPuzzleEggIconCtrl", "FishPuzzleEggIconMgr", "FishPuzzleEggInfoMgr", "FishPuzzleEggMgr", "FishPuzzleEggPopupMgr", "FishPuzzleEggPuzzlePage", "FishPuzzleEggPuzzlePageMgr", "FishPuzzleEggTipsMgr", "MissionBtnCtrl", "MissionCoinCtrl", "MissionData", "MissionInfoCtrl", "MissionListCtrl", "MissionMsgCtrl", "MissionTopProgress", "RepeatingMissionMgr", "TimeZoneConversion", "FakeScoreBoxCtrl", "GetBonusShow", "FullScreenHandler", "GDC_APP", "Download", "EventSystem", "Layer", "LayerSystem", "Setting", "UserName", "Version", "GameJpMgr", "LoadingMgr", "LobbyCommon", "OpenBoxEffectAnimation", "ModuleBase", "ClickLog", "Downloader", "ErrorMsgDownloader", "GameMsgDownloader", "GameSettingDownloader", "ImageDownloader", "JSONDownloder", "ModuleDownloader", "ProjectSettingDownloader", "VersionDownloader", "LobbyClient", "OreientationHandler", "PopUpMgr", "PopUpTimerMgr", "PriorityCustomEvent", "PopupMsgMgr", "SafeArea", "Device", "TopbarMgr", "ViewResolution", "GameMgr", "LobbyMgr", "IdleState", "WaitCheckVersionState", "WaitIconDownload", "WaitInitAckState", "WaitResDownload", "WaitSettingState", "LoginMgr", "LoginUIMgr", "MagicCityLoginMgr", "test"]);
