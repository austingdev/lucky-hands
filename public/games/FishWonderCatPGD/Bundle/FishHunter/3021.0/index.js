window.__require = function t(e, n, i) {
    function o(s, r) {
        if (!n[s]) {
            if (!e[s]) {
                var c = s.split("/");
                if (c = c[c.length - 1], !e[c]) {
                    var l = "function" == typeof __require && __require;
                    if (!r && l) return l(c, !0);
                    if (a) return a(c, !0);
                    throw new Error("Cannot find module '" + s + "'")
                }
                s = c
            }
            var h = n[s] = {
                exports: {}
            };
            e[s][0].call(h.exports, function(t) {
                return o(e[s][1][t] || t)
            }, h, h.exports, t, e, n, i)
        }
        return n[s].exports
    }
    for (var a = "function" == typeof __require && __require, s = 0; s < i.length; s++) o(i[s]);
    return o
}({
    AISeek: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7c14040BVZNqbQOqkH00uxB", "AISeek");
        var i = Number(cc.ENGINE_VERSION.replace(".", "")),
            o = i >= 21 ? "angle" : "rotation",
            a = function() {
                function t(t) {
                    void 0 === t && (t = "release"), this.VERSION = "release", this.STEER_DATA = {}, this.FIXED_TIMESTEP = 0, this.DRAW_POINT = !1, this.ANGLE = 0, this.WIN_RANGE = null, this.VEHICLE_MANAGER = {}, this.CANVAS = null, this.target_point = null, this.speed_scale = 1, this.flip = !1, this.VERSION_LIST = ["debug", "release"], this.VERSION_LIST.includes(t) || console.warn("VERSION_LIST: " + this.VERSION_LIST + "  not has VERSION: " + t), this.VERSION = t, this.__init__()
                }
                return Object.defineProperty(t.prototype, "Flip", {
                    get: function() {
                        return this.flip
                    },
                    enumerable: !0,
                    configurable: !0
                }), t.prototype.__init__ = function() {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, e, n, i;
                        return __generator(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return [4, this.loadJson(cc.director.getScene().name + "/Res/data/steer_" + this.VERSION)];
                                case 1:
                                    return t = o.sent(), this.STEER_DATA = "debug" == this.VERSION ? this.encode(t.STEER) : this.decode(t.STEER), this.CANVAS = cc.find("Canvas"), e = null != this.CANVAS ? this.CANVAS.getComponent(cc.Canvas).designResolution : cc.winSize, cc.director.getPhysicsManager().enabled = !0, this.FIXED_TIMESTEP = this.STEER_DATA.FIXED_TIMESTEP, this.DRAW_POINT = this.STEER_DATA.DRAW_POINT, this.ANGLE = this.STEER_DATA.ANGLE || 0, n = this.STEER_DATA.X_RANGE, i = this.STEER_DATA.Y_RANGE, this.WIN_RANGE = new cc.Vec2(e.width / Math.abs(n[0] - n[1]), e.height / Math.abs(i[0] - i[1])), this.drawLine(n, i), [2]
                            }
                        })
                    })
                }, t.prototype.loadJson = function(t) {
                    return __awaiter(this, void 0, void 0, function() {
                        var e;
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    var o, a, s, r;
                                    return e = {}, o = t.indexOf("/"), a = t.substring(0, o), s = t.substring(o + 1, t.length), r = cc.assetManager.getBundle(a), [4, new Promise(function(t) {
                                        r.load(s, function(n, o) {
                                            n ? cc.error(n) : (i > 19.3 && (o = o.json), e = o, cc.assetManager.releaseAsset(o), t())
                                        })
                                    })];
                                case 1:
                                    return n.sent(), [2, e]
                            }
                        })
                    })
                }, t.prototype.SetSeek = function(t, e, n, i, o, a, s, c, l, h) {
                    return void 0 === o && (o = 0), void 0 === a && (a = cc.Vec2.ONE), __awaiter(this, void 0, void 0, function() {
                        var u, p, d, f, y, m, g, S, _, v, b, P, C, w, I, k, T, M, A, O;
                        return __generator(this, function(F) {
                            switch (F.label) {
                                case 0:
                                    return this.STEER_DATA[t] ? [3, 2] : [4, this.__init__()];
                                case 1:
                                    if (F.sent(), !this.STEER_DATA[t]) return console.warn(t + " not in config"), l(null), [2];
                                    F.label = 2;
                                case 2:
                                    if (u = this.STEER_DATA[t].MAX_SPEED || 240, p = this.STEER_DATA[t].MAX_STEER || 6, d = this.STEER_DATA[t].MIN_RANGE || 1, f = this.STEER_DATA[t].FIXED_TIMESTEP || this.FIXED_TIMESTEP, y = this.STEER_DATA[t].DRAW_POINT || this.DRAW_POINT, m = [], null != e && (m = this.STEER_DATA[t].PATH[e] || []), m.length <= 0) return console.warn("error type: %s path_index: %s", t, e), l(null), [2];
                                    if (g = this.pathConvertPoint(m, o, a), null == (S = n.getComponent(r)) && (S = n.addComponent(r)), _ = h && h.hasOwnProperty("angle") ? h.angle : this.STEER_DATA[t].ANGLE || this.ANGLE, v = this.STEER_DATA[t].REPEAT || 1, b = h && h.hasOwnProperty("sync") ? h.sync : 0, !S) return cc.error("Add SeekComponent Error"), l(null), [2];
                                    if (S.Reset(this, i, u, p, d * this.WIN_RANGE.mag() * .1, g, f, y, s, c, l, _, v, b), !h || !h.hasOwnProperty("members")) return [3, 8];
                                    if (P = h.members, C = this.STEER_DATA[t].GROUP, w = this.STEER_DATA[t].ROW, !C) return [3, 3];
                                    if ((I = C.FORMATION) && P.length <= I.length)
                                        for (k = this.setFormation(g, P, C.X_SPACE, C.Y_SPACE, I), M = 1; M < P.length; M++) {
                                            if (null == (A = P[M].getComponent(r)) && (A = P[M].addComponent(r)), !A) return cc.error("Add SeekComponent Error"), l(null), [2];
                                            O = (Number(i) + M).toString(), A.Reset(this, O, u, p, d * this.WIN_RANGE.mag() * .1, k[M], f, y, s, c, l, _, v, b)
                                        } else console.warn("type: " + t + " group members count more than the formation length");
                                    return I = null, [3, 7];
                                case 3:
                                    if (!w) return [3, 7];
                                    T = w.INTERVAL, M = 1, F.label = 4;
                                case 4:
                                    return M < P.length ? [4, this.delay(T)] : [3, 7];
                                case 5:
                                    if (F.sent(), null == (A = P[M].getComponent(r)) && (A = P[M].addComponent(r)), !A) return cc.error("Add SeekComponent Error"), l(null), [2];
                                    O = (Number(i) + M).toString(), A.Reset(this, O, u, p, d * this.WIN_RANGE.mag() * .1, g, f, y, s, c, l, _, v, b), F.label = 6;
                                case 6:
                                    return M++, [3, 4];
                                case 7:
                                    C = null, w = null, P && (P.length = 0), F.label = 8;
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.AddVehicle = function(t, e) {
                    this.VEHICLE_MANAGER[t] = e
                }, t.prototype.RemoveVehicle = function(t) {
                    this.VEHICLE_MANAGER.hasOwnProperty(t) && delete this.VEHICLE_MANAGER[t]
                }, t.prototype.GetFixedTimeStep = function() {
                    return this.FIXED_TIMESTEP
                }, t.prototype.SetFixedTimeStep = function(t) {
                    this.FIXED_TIMESTEP = t
                }, t.prototype.SetSpeedScale = function(t, e) {
                    if (1 != t) {
                        this.speed_scale = t;
                        for (var n = Object.keys(this.VEHICLE_MANAGER), i = 0; i < n.length; i++) {
                            var o = n[i];
                            this.VEHICLE_MANAGER[o].SetSpeedScale(t, e)
                        }
                    }
                }, t.prototype.ResetSpeedScale = function() {
                    if (1 != this.speed_scale) {
                        for (var t = Object.keys(this.VEHICLE_MANAGER), e = 0; e < t.length; e++) {
                            var n = t[e];
                            this.VEHICLE_MANAGER[n].ResetSpeedScale()
                        }
                        this.speed_scale = 1
                    }
                }, t.prototype.Update = function() {
                    for (var t = Object.keys(this.VEHICLE_MANAGER), e = 0; e < t.length; e++) {
                        var n = this.VEHICLE_MANAGER[t[e]];
                        n && n.Seek()
                    }
                }, t.prototype.SetFlip = function(t) {
                    this.flip = t
                }, t.prototype.GetPathCount = function(t) {
                    return this.STEER_DATA[t] ? this.STEER_DATA[t].PATH.length : 0
                }, t.prototype.GetMaxSpeed = function(t) {
                    return this.STEER_DATA[t] ? this.STEER_DATA[t].MAX_SPEED : 0
                }, t.prototype.decode = function(t) {
                    return JSON.parse(t)
                }, t.prototype.encode = function(t, e) {
                    return void 0 === e && (e = !1), t
                }, t.prototype.pathConvertPoint = function(t, e, n) {
                    var i = new Array;
                    if (t.length > 0)
                        for (var o = 0; o < t.length; o++) {
                            var a = cc.v2(t[o][0] * this.WIN_RANGE.x, t[o][1] * this.WIN_RANGE.y).mag(),
                                s = cc.misc.degreesToRadians(cc.misc.radiansToDegrees(Math.atan2(t[o][1], t[o][0])) + e),
                                r = Math.cos(s) * a * n.x,
                                c = Math.sin(s) * a * n.y,
                                l = new cc.Vec2(r, c);
                            i.push(l)
                        }
                    return i
                }, t.prototype.setFormation = function(t, e, n, i, o) {
                    for (var a = new Array, s = new Array, r = 0; r < o.length; r++) {
                        var c = o[r][0] * n - o[0][0] * n,
                            l = o[r][1] * i - o[0][1] * i,
                            h = Math.atan2(l, c);
                        a.push(h);
                        var u = new cc.Vec2(c, l).mag();
                        s.push(u)
                    }
                    var p = new Array;
                    for (r = 1; r < t.length; r++)
                        if (r > 0) {
                            c = t[r].x - t[r - 1].x, l = t[r].y - t[r - 1].y;
                            var d = Math.atan2(l, c);
                            1 == r && p.push(d), p.push(d)
                        }
                    var f = {};
                    for (r = 1; r < e.length; r++) {
                        for (var y = new Array, m = 0; m < p.length; m++) {
                            h = (180 * (p[m] + a[r]) / Math.PI - 90) * Math.PI / 180;
                            var g = Math.cos(h) * s[r],
                                S = Math.sin(h) * s[r];
                            y.push(new cc.Vec2(t[m].x + g, t[m].y + S))
                        }
                        f[r] = y
                    }
                    return f
                }, t.prototype.delay = function(t) {
                    return new Promise(function(e) {
                        setTimeout(e, t)
                    })
                }, t.prototype.drawLine = function(t, e) {
                    if ("debug" == this.VERSION && this.STEER_DATA.DRAW_LINE && this.CANVAS) {
                        var n = (new cc.Node).addComponent(cc.Graphics);
                        this.CANVAS.addChild(n.node);
                        for (var i = t[0]; i <= t[1]; i++) n.moveTo(i * this.WIN_RANGE.x, e[0] * this.WIN_RANGE.y), n.lineTo(i * this.WIN_RANGE.x, e[1] * this.WIN_RANGE.y);
                        for (i = e[0]; i <= e[1]; i++) n.moveTo(t[0] * this.WIN_RANGE.x, i * this.WIN_RANGE.y), n.lineTo(t[1] * this.WIN_RANGE.x, i * this.WIN_RANGE.y);
                        n.strokeColor = cc.Color.WHITE, n.stroke()
                    }
                }, t
            }();
        n.AISeek = a;
        var s = cc._decorator.ccclass,
            r = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.rVehicle = null, e.ID = "0000", e.MAX_SPEED = 0, e.MAX_STEER = 0, e.MIN_RANGE = 0, e.PATH = [], e.MAX_SPEED_SQ = 0, e.MAX_STEER_SQ = 0, e.ORIGIN_ANGLE = 0, e.REPEAT = 1, e.FLIP = !1, e.draw_point = !1, e.target_point = null, e.target_line = null, e.tIndex = 1, e.fixed_timeStep = 0, e.current_time = 0, e.pTarget = cc.Vec2.ZERO, e.aTarget = 0, e.pause = !0, e.add_speed_now = !1, e.rotate_now = !1, e.auto_rotate = !0, e.isReverse = !1, e.steer_vec = cc.Vec2.ZERO, e.sync_tiem = 0, e.speed_scale = 1, e.velocity_cache = cc.Vec2.ZERO, e
                }
                return __extends(e, t), Object.defineProperty(e.prototype, "PathLength", {
                    get: function() {
                        return this.PATH.length
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "PonitIndex", {
                    get: function() {
                        return this.tIndex
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Flip", {
                    get: function() {
                        return this.FLIP
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Path", {
                    get: function() {
                        return this.PATH
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "OriginAngle", {
                    get: function() {
                        return this.ORIGIN_ANGLE
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "IsReverse", {
                    get: function() {
                        return this.isReverse
                    },
                    enumerable: !0,
                    configurable: !0
                }), e.prototype.Pause = function() {
                    this.pause = !0, this.rVehicle.linearVelocity != cc.Vec2.ZERO && (this.velocity_cache = this.rVehicle.linearVelocity), this.rVehicle.linearVelocity = cc.Vec2.ZERO
                }, e.prototype.Resume = function() {
                    this.pause = !1, this.add_speed_now = !1, this.rVehicle.linearVelocity = this.velocity_cache
                }, Object.defineProperty(e.prototype, "AutoRotate", {
                    set: function(t) {
                        this.auto_rotate = t
                    },
                    enumerable: !0,
                    configurable: !0
                }), e.prototype.onEnable = function() {
                    this.rVehicle = this.getComponent("cc.RigidBody"), null == this.rVehicle && (this.rVehicle = this.addComponent("cc.RigidBody")), this.rVehicle ? (this.rVehicle.gravityScale = 0, this.rVehicle.linearVelocity = cc.Vec2.ZERO) : cc.error("SeekComponent Init Error")
                }, e.prototype.Update = function(t) {
                    if (!this.pause) {
                        if (this.current_time += t, this.current_time >= this.fixed_timeStep) {
                            for (var e = Math.floor(this.current_time / this.fixed_timeStep), n = 0; n < e; n++) this.Seek();
                            this.current_time = 0
                        }
                        this.auto_rotate && !this.rotate_now && (this.node[o] = Math.floor(cc.misc.lerp(this.node[o], this.aTarget, .25))), 1 != this.speed_scale && (this.sync_tiem -= t, this.sync_tiem <= 0 && this.ResetSpeedScale())
                    }
                }, e.prototype.Reset = function(t, e, n, i, a, s, r, c, l, h, u, p, d, f) {
                    this.rVehicle = this.getComponent("cc.RigidBody"), null == this.rVehicle && (this.rVehicle = this.addComponent("cc.RigidBody")), this.rVehicle ? this.rVehicle.gravityScale = 0 : cc.error("SeekComponent Init Error"), this.AI_SEEK = t, this.ID = e, this.MAX_SPEED = n, this.MAX_STEER = i, this.MIN_RANGE = a, this.PATH = s, this.MAX_SPEED_SQ = n * n, this.MAX_STEER_SQ = i * i, this.onStart = l, this.onMove = h, this.onEnd = u, this.FLIP = t.Flip, this.aTarget = this.ORIGIN_ANGLE = t.Flip ? p + 180 : p, this.REPEAT = d, this.fixed_timeStep = r, this.draw_point = c, this.steer_vec = this.rVehicle.linearVelocity = cc.Vec2.ZERO, this.node.position = this.PATH[0], this.node[o] = t.Flip ? this.ORIGIN_ANGLE - 180 : this.ORIGIN_ANGLE, this.tIndex = 1, this.pTarget = this.PATH[this.tIndex], this.pause = !1, this.add_speed_now = !1, this.rotate_now = !1, this.isReverse = !1, this.DrawPoint(this.pTarget.x, this.pTarget.y), this.AI_SEEK.AddVehicle(this.ID, this), f > 0 && this.SetSpeedScale(2, f), this.rVehicle.linearVelocity.x + this.rVehicle.linearVelocity.y != 0 ? this.onEnd(this) : this.onStart && this.onStart(this)
                }, e.prototype.Seek = function() {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, e, n, a;
                        return __generator(this, function() {
                            if (t = cc.v2(this.pTarget.sub(this.node.position)), this.FLIP && t.mulSelf(-1), t.normalizeSelf(), t.mulSelf(this.MAX_SPEED), (e = cc.v2(t.sub(this.steer_vec))).magSqr() > this.MAX_STEER_SQ && (e.normalizeSelf(), e.mulSelf(this.MAX_STEER)), this.steer_vec = this.steer_vec.addSelf(e), this.steer_vec.magSqr() > this.MAX_SPEED_SQ && (this.steer_vec.normalizeSelf(), this.steer_vec.mulSelf(this.MAX_SPEED)), this.add_speed_now || (this.rVehicle.linearVelocity = this.steer_vec), this.DrawLine(this.node.position.x, this.node.position.y, this.steer_vec), n = (i >= 21 ? 1 : -1) * cc.misc.radiansToDegrees(Math.atan2(this.rVehicle.linearVelocity.y, this.rVehicle.linearVelocity.x)) + this.ORIGIN_ANGLE, a = !1, n < -90 + this.ORIGIN_ANGLE && this.node[o] > 90 + this.ORIGIN_ANGLE ? (n += 360, a = !0) : n > 90 + this.ORIGIN_ANGLE && this.node[o] < -90 + this.ORIGIN_ANGLE && (n -= 360, a = !0), a || (this.node[o] > 225 + this.ORIGIN_ANGLE ? this.node[o] -= 360 : this.node[o] < -225 + this.ORIGIN_ANGLE && (this.node[o] += 360)), this.aTarget = n, cc.v2(this.node.position.sub(this.pTarget)).mag() <= this.MIN_RANGE) {
                                if (this.onMove && this.onMove(this), this.isReverse ? this.tIndex -= 1 : this.tIndex += 1, this.tIndex >= this.PATH.length || this.tIndex < 0)
                                    if (1 != this.REPEAT) this.REPEAT -= 1, this.isReverse ? this.tIndex = this.PATH.length - 1 : this.tIndex = 0;
                                    else if (1 == this.REPEAT) return this.PATH = [], this.onDead(), this.onEnd && this.onEnd(this), this.target_point && this.target_point.clear(), this.target_line && this.target_line.clear(), [2];
                                this.pTarget = this.PATH[this.tIndex], this.DrawPoint(this.pTarget.x, this.pTarget.y)
                            }
                            return [2]
                        })
                    })
                }, e.prototype.DrawPoint = function(t, e) {
                    null == this.target_point && this.draw_point && (this.target_point = (new cc.Node).addComponent(cc.Graphics), cc.find("Canvas").addChild(this.target_point.node)), this.target_point && (this.target_point.clear(), this.target_point.circle(t, e, this.MIN_RANGE), this.target_point.strokeColor = cc.Color.WHITE, this.target_point.stroke())
                }, e.prototype.DrawLine = function(t, e, n, i) {
                    if (void 0 === i && (i = .1), null == this.target_line && this.draw_point && (this.target_line = (new cc.Node).addComponent(cc.Graphics), cc.find("Canvas").addChild(this.target_line.node)), this.target_line) {
                        this.target_line.moveTo(t, e);
                        var o = cc.v2(t + n.x * i, e + n.y * i);
                        this.target_line.lineTo(o.x, o.y), this.target_line.strokeColor = cc.Color.WHITE, this.target_line.stroke()
                    }
                }, e.prototype.SetSpeedScale = function(t, e) {
                    1 != t && (this.speed_scale = t, this.sync_tiem = 1.1 * e || 0, this.MAX_SPEED *= t, this.MAX_STEER *= t * t, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED, this.MAX_STEER_SQ = this.MAX_STEER * this.MAX_STEER)
                }, e.prototype.ResetSpeedScale = function() {
                    1 != this.speed_scale && (this.MAX_SPEED /= this.speed_scale, this.MAX_STEER /= this.speed_scale * this.speed_scale, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED, this.MAX_STEER_SQ = this.MAX_STEER * this.MAX_STEER, this.sync_tiem = 0, this.speed_scale = 1)
                }, e.prototype.Reverse = function(t) {
                    this.isReverse = null == typeof t ? !this.isReverse : t
                }, e.prototype.AddSpeed = function(t, e) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return !this.rVehicle || this.pause ? [2] : (this.add_speed_now = !0, this.rVehicle.linearVelocity = this.rVehicle.linearVelocity.addSelf(this.rVehicle.linearVelocity.normalize().mul(t)), [4, this.Delay(e)]);
                                case 1:
                                    return n.sent(), !this.rVehicle || this.pause ? [2] : (this.rVehicle.linearVelocity = this.rVehicle.linearVelocity.normalize().mul(this.MAX_SPEED), this.add_speed_now = !1, [2])
                            }
                        })
                    })
                }, e.prototype.onDead = function() {
                    this.pause = !0, this.add_speed_now = !1, this.rotate_now = !1, this.rVehicle.linearVelocity = cc.Vec2.ZERO, this.target_point && this.target_point.clear(), this.target_line && this.target_line.clear(), this.ResetSpeedScale(), this.AI_SEEK.RemoveVehicle(this.ID)
                }, e.prototype.SetPonitIndex = function(t) {
                    t >= 0 && t < this.PATH.length && (this.tIndex = t)
                }, e.prototype.SetOriginAngle = function(t, e) {
                    return void 0 === e && (e = 1), __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return !this.node || this.pause ? [2] : (this.rotate_now = !0, this.aTarget = t, this.ORIGIN_ANGLE = t, [4, this.Delay(1e3 * e)]);
                                case 1:
                                    return n.sent(), !this.node || this.pause ? [2] : (this.node[o] = this.aTarget, this.rotate_now = !1, [2])
                            }
                        })
                    })
                }, e.prototype.Rotate = function(t, e, n) {
                    var i = this;
                    void 0 === n && (n = 0), this.rotate_now = !0;
                    var a = this.node[o],
                        s = Math.abs(t - a);
                    s > 180 && (this.FLIP ? a += 360 : t -= 360, (s = Math.abs(t - a)) < 180 ? this.node[o] = a : (this.FLIP ? a -= 720 : t += 720, (s = Math.abs(t - a)) < 180 && (this.node[o] = a))), this.node.runAction(cc.sequence(cc.rotateTo(e, t), cc.delayTime(n), cc.callFunc(function() {
                        i.rotate_now = !1
                    })))
                }, e.prototype.SetSpeed = function(t) {
                    this.MAX_SPEED = t, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED
                }, e.prototype.GetTargetPoint = function(t) {
                    return t >= 0 && t < this.PATH.length ? this.PATH[t] : null
                }, e.prototype.Delay = function(t) {
                    return new Promise(function(e) {
                        setTimeout(e, t)
                    }.bind(this))
                }, __decorate([s], e)
            }(cc.Component);
        n.SeekComponent = r, cc._RF.pop()
    }, {}],
    ALADDIN: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "653c6poP4xHm4Xu3+RK8m66", "ALADDIN");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ChangeSmoke = null, e.OddsDummy = null, e.ice_group = [], e.defaultAliveTime = 120, e.Level = 1, e.tempLevel = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    for (t.prototype.Init.call(this, e, n), this.o < 70 && (this.o += 70); this.o > 110 && this.o < 180;) this.o -= 35;
                    for (this.o > 290 && (this.o -= 70); this.o >= 180 && this.o < 250;) this.o += 35;
                    this.isFeature = !0, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "lv1", !0), this.mAnim.play("lv1"), this.Level = 1, this.tempLevel = null, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.schedule(this.randomVoice, 10)
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? 1 : -1, this.node.angle = -1 == this.node.scaleY ? 0 : 180) : (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? -1 : 1, this.node.angle = -1 == this.node.scaleY ? 180 : 0)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.unschedule(this.randomVoice), l.default.Instance.Play("Aladdin_catch_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(3), l.default.Instance.Play("41_catch_bigfish")
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, e.prototype.FishOut = function(e) {
                    this.unschedule(this.randomVoice), t.prototype.FishOut.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.changeLevel = function(t) {
                    if (this.skeleton.paused) this.tempLevel = t;
                    else if (t != this.Level) switch (this.ChangeSmoke.resetSystem(), l.default.Instance.Play("Aladdin_smoke_01"), this.skeleton.setAnimation(0, "lv" + t.toString(), !0), this.mAnim.play("lv" + t.toString()), this.Level = t, t) {
                        case 2:
                            l.default.Instance.Play("voice_Aladdin_up_01");
                            break;
                        case 3:
                            l.default.Instance.Play("voice_Aladdin_up_02")
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    switch (t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, this.Level) {
                        case 1:
                            this.ice_group[0].active = !0;
                            break;
                        case 2:
                            this.ice_group[1].active = !0;
                            break;
                        case 3:
                            this.ice_group[2].active = !0
                    }
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), null != this.tempLevel && (this.changeLevel(this.tempLevel), this.tempLevel = null)
                }, e.prototype.randomVoice = function() {
                    var t = 1 + Math.floor(4 * Math.random());
                    l.default.Instance.Play("voice_Aladdin_move_0" + t.toString())
                }, Object.defineProperty(e.prototype, "getOddsPos", {
                    get: function() {
                        return this.node.convertToWorldSpaceAR(this.OddsDummy.getPosition())
                    },
                    enumerable: !1,
                    configurable: !0
                }), a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.ParticleSystem)], e.prototype, "ChangeSmoke", void 0), a([d(cc.Node)], e.prototype, "OddsDummy", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    AladdinOdds: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "38ebbNkFK1KLZgoFiegCeJA", "AladdinOdds");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/PoolObj"),
            c = t("../Fish/BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BG = null, e.label = null, e.targetOdds = 0, e.nowOdds = 0, e.aladdin = null, e.fishID = null, e.step = 0, e.inSkill = !0, e
                }
                return o(e, t), e.prototype.update = function(t) {
                    if (!this.inSkill) {
                        if (this.aladdin && this.aladdin.AliveStatus == c.FishState.ALIVE) {
                            var e = this.node.parent.convertToNodeSpaceAR(this.aladdin.getOddsPos);
                            this.node.setPosition(e)
                        } else this.node.setPosition(cc.Vec2.ONE.mul(5e3));
                        this.step += t, this.step > .1 && this.targetOdds > this.nowOdds && (this.nowOdds++, this.label.string = "X" + this.nowOdds.toString(), this.changeLevel())
                    }
                }, e.prototype.bindFish = function(t) {
                    var e = this;
                    this.aladdin && this.aladdin.ID == this.fishID && this.aladdin.FishFadeOut(.5, 4), this.aladdin = t, this.nowOdds = this.targetOdds, this.changeLevel(), this.BG.scale = 1.4, this.label.string = "X" + this.nowOdds.toString(), this.label.fontSize = 61, this.fishID = t.ID, this.inSkill = !1, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    }))), this.node.angle = s.default.isReverse ? 180 : 0
                }, e.prototype.setTargetNumber = function(t) {
                    this.targetOdds = t
                }, e.prototype.SkillInit = function(t) {
                    var e = this;
                    this.inSkill = !0, this.aladdin = null, this.fishID = null, this.BG.scale = 1, this.label.string = "X" + t.toString(), this.label.fontSize = 40, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    this.node.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        t.node.opacity = 0
                    })))
                }, e.prototype.changeLevel = function() {
                    this.aladdin && (this.nowOdds >= 300 ? this.aladdin.changeLevel(3) : this.nowOdds >= 200 ? this.aladdin.changeLevel(2) : this.aladdin.changeLevel(1))
                }, a([u(cc.Node)], e.prototype, "BG", void 0), a([u(cc.Label)], e.prototype, "label", void 0), a([h], e)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Fish/BaseFish": "BaseFish"
    }],
    AngleBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7a69faleJxN57g7n2Kmq+re", "AngleBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/ResourceManager"),
            r = t("./BaseBackGround"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Bottom_Mask = null, e.Top_Mask = null, e
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.ani.stop("Boss_Enter"), this.ani.playAdditive("Boss_Enter"), this.Top_Mask = s.default.SpawnFish("KING_ANGLER_MASK"), this.Top_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Top_Mask.runAction(cc.fadeTo(1, 120)), this.Bottom_Mask && (this.Bottom_Mask.active = !0, this.Bottom_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Bottom_Mask.runAction(cc.fadeTo(1, 200))), this.bossEnter = !0)
                }, e.prototype.BossLeave = function() {
                    this.DespawnMask(this.Top_Mask), this.Bottom_Mask.runAction(cc.fadeOut(1))
                }, e.prototype.DespawnMask = function(t) {
                    null != t && t.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        s.default.DespawnFish("KING_ANGLER_MASK", t)
                    })))
                }, a([h(cc.Node)], e.prototype, "Bottom_Mask", void 0), a([l], e)
            }(r.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "./BaseBackGround": "BaseBackGround"
    }],
    ArkGameUtility: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bc09bq66FNMH6HIF4bcV34f", "ArkGameUtility"), Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Dictionary = n.EventDelegate = n.FunctionQueue = n.WaitUntil = n.WaitForSeconds = void 0, n.WaitForSeconds = function(t) {
            return new Promise(function(e) {
                setTimeout(e, 1e3 * t)
            })
        }, n.WaitUntil = function(t) {
            return this.contentRecordHelper.addTitleFilter(t), new Promise(function(e) {
                var n = function() {
                    setTimeout(function() {
                        t.$systemType && t.$contentType ? e() : n()
                    }, 1e3)
                };
                n()
            })
        };
        var i = function() {
            function t() {
                this.funcs = []
            }
            return t.prototype.Enqueue = function(t) {
                this.funcs.push(t)
            }, t.prototype.Invoke = function() {
                var t = this;
                this.funcs.length > 0 ? this.funcs.shift()(function() {
                    return t.Invoke()
                }) : cc.log("the funcs queue is clear")
            }, t
        }();
        n.FunctionQueue = i;
        var o = function() {
            function t() {
                this.keys = [], this.funcs = [], this.stackKey = 0
            }
            return t.prototype.AddListener = function(t) {
                return this.stackKey++, this.keys.push(this.stackKey), this.funcs.push(t), this.stackKey
            }, t.prototype.RemoveListener = function(t) {
                var e = this.funcs.indexOf(t);
                return -1 != e && (this.keys.splice(e, 1), this.funcs.splice(e, 1), !0)
            }, t.prototype.RemoveListenerByID = function(t) {
                var e = this.keys.indexOf(t);
                return -1 != e && (this.keys.splice(e, 1), this.funcs.splice(e, 1), !0)
            }, t.prototype.RemoveAllListener = function() {
                this.keys = [], this.funcs = [], this.stackKey = 0
            }, t.prototype.SetListener = function(t) {
                return this.RemoveAllListener(), this.AddListener(t)
            }, t.prototype.Broadcast = function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                for (var n = Object.assign([], this.funcs), i = 0; i < n.length; i++) n[i].apply(n, t);
                n = null
            }, t.prototype.ContainsListener = function(t) {
                return -1 !== this.keys.indexOf(t)
            }, t.prototype.GetListenerCount = function() {
                return this.keys.length
            }, t
        }();
        n.EventDelegate = o;
        var a = function() {
            function t() {
                this._keys = [], this._values = []
            }
            return t.prototype.Add = function(t, e) {
                var n = this;
                this.checkKeyAndPerformAction(function(t, e) {
                    if (n.ContainsKey(t)) throw new Error("An element with the same key already exists in the dictionary.");
                    n._keys.push(t), n._values.push(e)
                }, t, e)
            }, t.prototype.AddOrChange = function(t, e) {
                var n = this;
                this.checkKeyAndPerformAction(function(t, e) {
                    if (n.ContainsKey(t)) {
                        var i = n._keys.indexOf(t);
                        n._values[i] = e
                    } else n._keys.push(t), n._values.push(e)
                }, t, e)
            }, t.prototype.Remove = function(t) {
                var e = this;
                return this.checkKeyAndPerformAction(function(t) {
                    if (!e.ContainsKey(t)) return !1;
                    var n = e._keys.indexOf(t);
                    return e._keys.splice(n, 1), e._values.splice(n, 1), !0
                }, t)
            }, t.prototype.GetValue = function(t) {
                var e = this;
                return this.checkKeyAndPerformAction(function(t) {
                    if (!e.ContainsKey(t)) return null;
                    var n = e._keys.indexOf(t);
                    return e._values[n]
                }, t)
            }, t.prototype.PopValue = function(t) {
                var e = this;
                return this.checkKeyAndPerformAction(function(t) {
                    if (!e.ContainsKey(t)) return null;
                    var n = e._keys.indexOf(t),
                        i = e._values[n];
                    return e._keys.splice(n, 1), e._values.splice(n, 1), i
                }, t)
            }, t.prototype.ContainsKey = function(t) {
                var e = this;
                return this.checkKeyAndPerformAction(function(t) {
                    return -1 !== e._keys.indexOf(t)
                }, t)
            }, t.prototype.ChangeValueForKey = function(t, e) {
                var n = this;
                this.checkKeyAndPerformAction(function(t, e) {
                    if (!n.ContainsKey(t)) throw new Error("In the dictionary there is no element with the given key.");
                    var i = n._keys.indexOf(t);
                    n._values[i] = e
                }, t, e)
            }, t.prototype.Keys = function() {
                return this._keys
            }, t.prototype.Values = function() {
                return this._values
            }, t.prototype.Count = function() {
                return this._values.length
            }, t.prototype.Clear = function() {
                this._keys = [], this._values = []
            }, t.prototype.checkKeyAndPerformAction = function(t, e, n) {
                if (this.isEitherUndefinedNullOrStringEmpty(e)) throw new Error("Key is either undefined, null or an empty string.");
                return t(e, n)
            }, t.prototype.isEitherUndefinedNullOrStringEmpty = function(t) {
                return null == t || "" === t.toString()
            }, t
        }();
        n.Dictionary = a, cc._RF.pop()
    }, {}],
    AudioManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bdb3e+7F3xDqaZE/zgkm18Q", "AudioManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../LobbyCommon/Component/AudioMgr"),
            l = t("../../GameClient"),
            h = t("./PreloadManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t, e) {
                this.ID = 0, this.Volume = 0, this.ID = t, this.Volume = e
            },
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.MainVolume = 1, e.BGMClip = [], e.SoundClip = [], e.Volume = 1, e.BGM_ID = null, e.Playing_ID = [], e.AudioClipTable = null, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this, this.Volume = this.MainVolume, this.InitClipData()
                }, e.prototype.start = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return h.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), t = "FishHunter/Res/data/audio/" + window.gd_nowLOGO + "/TextList", e = this, [4, l.default.Instance.loadJson(t)];
                                case 1:
                                    return e.AudioClipTable = n.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.InitClipData = function() {
                    for (var t = [], e = 0; e < this.BGMClip.length; e++) this.BGMClip[e] ? t.push(this.BGMClip[e].name) : t.push("");
                    c.AudioMgr.Instance.setAudioClip(this.BGMClip, t);
                    var n = [];
                    for (e = 0; e < this.SoundClip.length; e++) this.SoundClip[e] ? n.push(this.SoundClip[e].name) : n.push("");
                    c.AudioMgr.Instance.setAudioClip(this.SoundClip, n)
                }, e.prototype.PlayBGM = function(t, e, n, i) {
                    var o = this;
                    if (void 0 === e && (e = 1), void 0 === n && (n = !1), void 0 === i && (i = 1), null != this.BGM_ID) {
                        var a = this.BGM_ID;
                        n ? this.Fade(this.BGM_ID, 1, 0, i, function() {
                            o.Stop(a)
                        }) : this.Stop(a)
                    }
                    return this.BGM_ID = this.Play(t, e, !0), n && this.Fade(this.BGM_ID, 0, 1, i), this.BGM_ID
                }, e.prototype.GetBGMID = function() {
                    return this.BGM_ID
                }, e.prototype.Play = function(t, e, n) {
                    var i = this;
                    void 0 === e && (e = 1), void 0 === n && (n = !1);
                    var o = c.AudioMgr.Instance.Play(t, n, e * this.MainVolume),
                        a = new f(o, e);
                    return c.AudioMgr.Instance.SetFinishCallback(o, function() {
                        var t = i.Playing_ID.indexOf(a);
                        t > 0 && i.Playing_ID.splice(t, 1)
                    }, this), this.Playing_ID.push(a), o
                }, e.prototype.Stop = function(t) {
                    c.AudioMgr.Instance.Stop(t);
                    for (var e = 0; e < this.Playing_ID.length; e++)
                        if (this.Playing_ID[e].ID == t) {
                            this.Playing_ID.splice(e, 1);
                            break
                        }
                }, e.prototype.Fade = function(t, e, n, i, o) {
                    var a = this;
                    if (void 0 === i && (i = 1), void 0 === o && (o = null), null != t) {
                        if (e == n || i <= 0) return c.AudioMgr.Instance.SetVolume(t, n), void(o && o());
                        for (var s = n > e, r = s ? e : n, l = s ? n : e, h = (n - e) / (cc.game.getFrameRate() * i), u = null, p = 0; p < this.Playing_ID.length; p++)
                            if (this.Playing_ID[p].ID == t) {
                                u = this.Playing_ID[p];
                                break
                            }
                        c.AudioMgr.Instance.SetVolume(t, e);
                        var d = function() {
                            r < l ? (s ? r += h : (l += h) <= 0 && (l = 0), c.AudioMgr.Instance.SetVolume(t, (s ? r : l) * a.MainVolume), u && (u.Volume = s ? r : l)) : (o && (o(), o = null), c.AudioMgr.Instance.SetVolume(t, n * a.MainVolume), u && (u.Volume = n), a.unschedule(d))
                        };
                        this.schedule(d, 0), this.scheduleOnce(function() {
                            o && (o(), o = null), c.AudioMgr.Instance.SetVolume(t, n * a.MainVolume), u && (u.Volume = n), a.unschedule(d)
                        }, i)
                    }
                }, e.prototype.SetNextSound = function(t, e, n, i) {
                    void 0 === n && (n = 1), void 0 === i && (i = !1);
                    var o = this.Play(e, 0, i);
                    return cc.audioEngine.pause(o), cc.audioEngine.setLoop(t, !1), c.AudioMgr.Instance.SetFinishCallback(t, function() {
                        cc.audioEngine.setCurrentTime(o, 0), c.AudioMgr.Instance.SetVolume(o, n), cc.audioEngine.resume(o)
                    }, this), o
                }, e.prototype.SetMainVolume = function(t) {
                    this.MainVolume = t;
                    for (var e = this.Playing_ID.length, n = 0; n < e; n++)
                        if (n < this.Playing_ID.length) {
                            var i = this.Playing_ID[n].Volume;
                            c.AudioMgr.Instance.SetVolume(this.Playing_ID[n].ID, i * t)
                        }
                }, e.prototype.Clear = function() {
                    this.BGMClip.forEach(function() {}), this.BGMClip = null, this.SoundClip.forEach(function() {}), this.SoundClip = null, this.Playing_ID.splice(0, this.Playing_ID.length), n.instance = null
                }, e.prototype.isPlaying = function(t) {
                    for (var e = 0; e < this.Playing_ID.length; e++)
                        if (this.Playing_ID[e].ID == t) return !0;
                    return !1
                }, e.prototype.PlayByAudioClipTable = function(t, e, n) {
                    void 0 === e && (e = 1), void 0 === n && (n = !1), this.AudioClipTable[t] ? "" != this.AudioClipTable[t] && this.Play(this.AudioClipTable[t], e, n) : console.error("Can't find corresponding audio, key = ", t)
                }, e.instance = null, a([d({
                    range: [0, 1],
                    slide: !0
                })], e.prototype, "MainVolume", void 0), a([d({
                    type: [cc.AudioClip]
                })], e.prototype, "BGMClip", void 0), a([d({
                    type: [cc.AudioClip]
                })], e.prototype, "SoundClip", void 0), n = a([p], e)
            }(cc.Component);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Component/AudioMgr": void 0,
        "../../GameClient": "GameClient",
        "./PreloadManager": "PreloadManager"
    }],
    AwardItem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "079bdrV7eJLErbw9TOkuQJb", "AwardItem");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = t("../Common/ResourceManager"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.itemImg = null, e.itemNodeList = new Array, e
                }
                return o(e, t), e.prototype.Init = function(t, e, n, i, o) {
                    var a = this;
                    void 0 === i && (i = 0), void 0 === o && (o = null), this.SetItemNode(t), this.node.setPosition(e), this.node.setScale(0);
                    var s = n.sub(this.node.getPosition()).mag(),
                        r = Math.min(.3, .03 * s);
                    this.node.runAction(cc.sequence(cc.scaleTo(.3, 1), cc.delayTime(i), cc.spawn(cc.moveTo(r, n).easing(cc.easeSineOut()), cc.scaleTo(r, .2)), cc.delayTime(.3), cc.callFunc(function() {
                        o && o(a), a.recycleeNode()
                    })))
                }, e.prototype.SetItemImg = function(t) {
                    this.itemImg && t && (this.itemImg.spriteFrame = t)
                }, e.prototype.SetItemNode = function(t) {
                    for (var e = this.GetItemNodeIndex(t), n = 0; n < this.itemNodeList.length; n++)
                        if (n == e) {
                            this.itemNodeList[n].active = !0;
                            var i = this.itemNodeList[n].getComponent(cc.Animation);
                            i && i.play()
                        } else this.itemNodeList[n].active = !1
                }, e.prototype.recycleeNode = function() {
                    r.default.DespawnAward("AwardItem", this.node)
                }, e.prototype.GetItemNodeIndex = function() {
                    return 0
                }, a([h(cc.Sprite)], e.prototype, "itemImg", void 0), a([h(Array(cc.Node))], e.prototype, "itemNodeList", void 0), a([l], e)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager"
    }],
    AwardManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "922d9A69ddEU44WzTvWk+41", "AwardManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.LineData = n.AwardType = void 0;
        var c, l = t("../Player/PlayerManager"),
            h = t("../Common/ResourceManager"),
            u = t("../Weapon/WeaponManager"),
            p = t("../Common/Utility"),
            d = t("../Common/EnumFilter"),
            f = t("../Common/AudioManager"),
            y = t("../Common/PreloadManager"),
            m = t("../../GameClient"),
            g = t("../../../../../FishCommon/Script/CanvasHandler"),
            S = t("./SkillTitle");
        (function(t) {
            t.NormalFishNum = "NFN", t.NormalFishNumOther = "NFNO", t.DoubleFishNum = "DFN", t.GoldenNum = "GN", t.DropCoin = "DC", t.HumpbackWhale = "18", t.FireDragon = "19", t.KingLacoste = "20", t.KingCrab = "24", t.Mermaid = "25", t.DragonTurtle = "32", t.KingAngle = "35", t.KingTaco = "36", t.Phoenix = "80", t.FireDragonJew = "19J", t.KingLacosteJew = "20J", t.KingCrabJew = "24J", t.MermaidJew = "25J", t.DragonTurtleJew = "32J", t.KingAngleJew = "35J", t.KingTacoJew = "36J", t.PhoenixJew = "80J", t.WealthGod = "116", t.TreasureCrab = "29", t.TreasureUpgrade = "29U", t.TreasureJew = "29J", t.IceDragon = "87", t.IceDragonJew = "87J", t.SmallTreasure = "SmallTreasure", t.BigTreasure = "BigTreasure"
        })(c = n.AwardType || (n.AwardType = {}));
        var _ = function(t, e, n) {
            this.nodeList = null, this.height = 80, this.dragTime = 2, this.nodeList = t, this.height = e, n && (this.dragTime = n)
        };
        n.LineData = _;
        var v = cc._decorator.ccclass,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.AwardList = new Array, e.CoinSound = -1, e.winSize = null, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this
                }, e.prototype.start = function() {
                    y.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this));
                    for (var t = 0; t < 4; t++) this.AwardList[t] = new Array
                }, e.prototype.SpawnAward = function(t, e, n) {
                    var i = null;
                    switch (t) {
                        case c.NormalFishNum:
                        case c.DoubleFishNum:
                        case c.GoldenNum:
                        case c.NormalFishNumOther:
                        case c.SmallTreasure:
                        case c.BigTreasure:
                            i = h.default.SpawnEffect(t, n);
                            break;
                        default:
                            i = h.default.SpawnAward(t, n)
                    }
                    return i.stopAllActions(), i.setScale(1), i.angle = g.default.isReverse ? 180 : 0, i.setPosition(e), i
                }, e.prototype.NormalFishMoneyNum = function(t, e, n, i, o, a, s) {
                    var r = this,
                        d = null;
                    d = l.PlayerManager.isMainSeat(i) ? this.SpawnAward(c.NormalFishNum, t, l.PlayerManager.isMainSeat(i)) : this.SpawnAward(c.NormalFishNumOther, t, l.PlayerManager.isMainSeat(i));
                    var y = e / n;
                    d.getComponent(cc.Label).string = p.default.NumberformatBet(e, n), d.scale = .5;
                    var m = cc.Vec2.ZERO;
                    if (o) {
                        var g = u.default.WeaponPosition(i);
                        (m = cc.v2(d.getPosition().sub(g))).normalizeSelf()
                    } else m = cc.v2(Math.random() - .5, Math.random() - .5);
                    return d.runAction(cc.spawn(cc.sequence(cc.scaleTo(.1, 2.1).easing(cc.easeBackOut()), cc.scaleTo(.3, 1)), cc.moveBy(.1, m.mul(50)), cc.callFunc(function() {
                        var t = cc.v2(Math.random() - .5, Math.random() - .5).add(m);
                        d.runAction(cc.sequence(cc.delayTime(.2), cc.moveBy(2.3, t.mul(25)).easing(cc.easeIn(1)), cc.callFunc(function() {
                            r.DropCoin(d.getPosition(), i, a, !1, e, s), l.PlayerManager.isMainSeat(i) ? h.default.DespawnEffect(c.NormalFishNum, d) : h.default.DespawnEffect(c.NormalFishNumOther, d), -1 != r.CoinSound && f.default.Instance.Stop(r.CoinSound), r.CoinSound = f.default.Instance.Play(r.GetCoinSound(y))
                        })))
                    }))), 1.4
                }, e.prototype.DoubleFishMoneyNum = function(t, e, n, i, o) {
                    var a = this,
                        s = this.SpawnAward(c.DoubleFishNum, t.node.getPosition(), l.PlayerManager.isMainSeat(i));
                    t.node.runAction(cc.sequence(cc.delayTime(.5), cc.rotateTo(1, 0)));
                    var r = new _([s, t.node], s.height);
                    this.AwardLineUp(i, r, .5);
                    var u = s.getComponentInChildren(cc.Label);
                    u.node.setScale(1);
                    var d = 0,
                        y = t.Odds * n * (1 / 23),
                        m = 1,
                        g = e / n,
                        S = 12 + Math.floor(g / 3);
                    l.PlayerManager.Instance.players[i].bet_value > 10 ? m += Math.ceil((g - t.Odds) / t.Double) : y = e * (1 / 23);
                    var v = cc.repeat(cc.sequence(cc.callFunc(function() {
                            d += y, u.string = p.default.NumberformatBet(d, n)
                        }), cc.delayTime(.05)), 23),
                        b = 1.75 * m + 1.5,
                        P = 1,
                        C = -1;
                    return C = f.default.Instance.Play("28_whale_count_" + (P > 6 ? "6" : P.toString())), u.node.runAction(cc.sequence(cc.repeat(cc.sequence(v, cc.scaleBy(.1, 1.3), cc.callFunc(function() {
                        f.default.Instance.Stop(C), P + 1 <= m ? C = f.default.Instance.Play("28_whale_count_" + (P + 1 > 6 ? "6" : (P + 1).toString())) : (C = f.default.Instance.Play("29_whale_count1_" + (P > 6 ? "6" : P.toString())), f.default.Instance.SetNextSound(C, P >= 6 ? "30_whale_countend2" : "30_whale_countend"))
                    }), cc.scaleBy(.2, .8), cc.delayTime(.3), cc.callFunc(function() {
                        y = ++P == m ? 1 / 23 * (e - d) : t.Double * n * (1 / 23)
                    })), m), cc.delayTime(1.5), cc.callFunc(function() {
                        t && t.node && (t.node.setPosition(s.getPosition()), t.node.runAction(cc.sequence(cc.spawn(cc.rotateBy(1, 720), cc.repeat(cc.scaleBy(.1, .7), 10), cc.fadeOut(1)), cc.callFunc(function() {
                            t.RemoveSelf()
                        })))), -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(g)), a.AwardLineOff(r, i), s.opacity = 0
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var t = 100 * (Math.random() - .5),
                            e = 100 * (Math.random() - .5);
                        a.DropCoin(s.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                    }), cc.delayTime(.05)), S), cc.callFunc(function() {
                        s.opacity = 255, h.default.DespawnEffect(c.DoubleFishNum, s), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, e)
                    }))), f.default.Instance.Play("27_whale_catch"), b
                }, e.prototype.DropCoin = function(t, e, n, i, o, a) {
                    void 0 === i && (i = !1);
                    var s = this.SpawnAward(c.DropCoin, t, l.PlayerManager.isMainSeat(e));
                    s.scale = l.PlayerManager.isMainSeat(e) ? 1 : .8, a || (a = u.default.WeaponPosition(e));
                    var r = cc.sequence(cc.moveBy(.2, cc.v2(0, g.default.isReverse ? -100 : 100)).easing(cc.easeOut(1)), cc.moveBy(.8, cc.v2(0, g.default.isReverse ? 100 : -100)).easing(cc.easeBounceOut()), cc.moveTo(.8, a).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                        n ? l.PlayerManager.Instance.ModifyPlayerWinning(e, o) : i && (l.PlayerManager.Instance.ModifyPlayerEntries(e, o, null, !1), l.PlayerManager.BulletSync(-1, null)), h.default.DespawnAward(c.DropCoin, s)
                    }));
                    s.runAction(r)
                }, e.prototype.AwardLineUp = function(t, e, n) {
                    return s(this, void 0, void 0, function() {
                        var i, o, a, s;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, new Promise(function(t) {
                                        setTimeout(t, 1e3 * n)
                                    })];
                                case 1:
                                    for (r.sent(), i = u.default.WeaponPosition(t), o = 140, a = 0; a < this.AwardList[t].length; a++) o += this.AwardList[t][a].height;
                                    for (a = 0; a < e.nodeList.length; a++)(s = cc.moveTo(e.dragTime, i.add(new cc.Vec2(0, t > 1 ? -o : o)))).easing(cc.easeQuadraticActionOut()), e.nodeList[a].runAction(s);
                                    return this.AwardList[t].push(e), [2]
                            }
                        })
                    })
                }, e.prototype.AwardLineOff = function(t, e) {
                    var n = this.AwardList[e].indexOf(t);
                    if (n >= 0) {
                        this.AwardList[e].splice(n, 1);
                        for (var i = u.default.WeaponPosition(e), o = 140, a = 0; a < this.AwardList[e].length; a++) {
                            for (var s = 0; s < this.AwardList[e][a].nodeList.length; s++)
                                if (this.AwardList[e][a].nodeList[s]) {
                                    var r = cc.moveTo(1, i.add(new cc.Vec2(0, e > 1 ? -o : o)));
                                    this.AwardList[e][a].nodeList[s].stopAllActions(), this.AwardList[e][a].nodeList[s].runAction(r)
                                }
                            o += this.AwardList[e][a].height
                        }
                        t = null
                    } else cc.warn("Can't find node in award list")
                }, e.prototype.HumpbackWhaleAward = function(t, e, n, i, o) {
                    var a = this,
                        s = this.SpawnAward(c.GoldenNum, t.node.getPosition(), l.PlayerManager.isMainSeat(i)),
                        r = s.getComponentInChildren(cc.Label),
                        d = e / n;
                    r.node.setScale(1.2), r.string = p.default.NumberformatBet(e, n);
                    for (var y = u.default.WeaponPosition(i), m = 140, g = 0; g < this.AwardList[i].length; g++) m += this.AwardList[i][g].height;
                    t && t.node.runAction(cc.moveTo(3, cc.v2(y.x, y.y + (i > 1 ? -200 : 200))));
                    var S = this.SpawnAward(c.HumpbackWhale, new cc.Vec2(y.x, y.y + (i > 1 ? -m : m)), l.PlayerManager.isMainSeat(i)),
                        v = new _([S], S.height, 2.5);
                    this.AwardLineUp(i, v, 1);
                    var b = new _([s], 100, 2.5);
                    return this.AwardLineUp(i, b, 1), f.default.Instance.Play("38_catch_whale2"), this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                        f.default.Instance.Play("37_catch_whale")
                    }), cc.delayTime(3), cc.callFunc(function() {
                        -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(d))
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var t = 100 * (Math.random() - .5),
                            e = 100 * (Math.random() - .5);
                        a.DropCoin(S.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                    }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                        a.AwardLineOff(v, i), a.AwardLineOff(b, i), h.default.DespawnEffect(c.GoldenNum, s), h.default.DespawnAward(c.HumpbackWhale, S), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, e)
                    }))), 4
                }, e.prototype.BossAward = function(t, e, n, i, o) {
                    var a = this,
                        s = u.default.WeaponPosition(i),
                        r = null,
                        y = null;
                    switch (d.default.getFishType(t.Type)) {
                        case d.FishType.FireDragon:
                            r = c.FireDragon, y = c.FireDragonJew;
                            break;
                        case d.FishType.KingCrab:
                            r = c.KingCrab, y = c.KingCrabJew;
                            break;
                        case d.FishType.KingLacoste:
                            r = c.KingLacoste, y = c.KingLacosteJew;
                            break;
                        case d.FishType.KingAngle:
                            r = c.KingAngle, y = c.KingAngleJew;
                            break;
                        case d.FishType.KingTaco:
                            r = c.KingTaco, y = c.KingTacoJew;
                            break;
                        case d.FishType.Mermaid:
                            r = c.Mermaid, y = c.MermaidJew;
                            break;
                        case d.FishType.DragonTurtle:
                            r = c.DragonTurtle, y = c.DragonTurtleJew;
                            break;
                        case d.FishType.Phoenix:
                            r = c.Phoenix, y = c.PhoenixJew;
                            break;
                        case d.FishType.IceDragon:
                            r = c.IceDragon, y = c.IceDragonJew
                    }
                    for (var m = 0, g = 0, S = e / n, v = [0, 100, 150, 250, 400, 600], b = 0; b < v.length && S > v[b]; b++) g++;
                    var P = v[1] * n * (1 / 39),
                        C = 1,
                        w = -1;
                    return this.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                        for (var u = 140, d = 0; d < a.AwardList[i].length; d++) u += a.AwardList[i][d].height;
                        var b = cc.Vec2.ZERO;
                        t && t.node && (b = t.node.parent ? t.node.parent.convertToNodeSpaceAR(t.getFishPos()) : t.node.convertToNodeSpaceAR(t.getFishPos()));
                        var I = a.SpawnAward(c.GoldenNum, b, l.PlayerManager.isMainSeat(i)),
                            k = a.SpawnAward(r, new cc.Vec2(s.x, s.y + (i > 1 ? -u : u)), l.PlayerManager.isMainSeat(i)),
                            T = a.SpawnAward(y, b, l.PlayerManager.isMainSeat(i)),
                            M = new _([I, k, T], k.height, 2);
                        a.AwardLineUp(i, M, 2);
                        var A = I.getComponentInChildren(cc.Label);
                        A.string = "", A.node.setScale(1);
                        var O = cc.repeat(cc.sequence(cc.callFunc(function() {
                            m += P, A.string = p.default.NumberformatBet(m, n)
                        }), cc.delayTime(.05)), 39);
                        A.node.runAction(cc.sequence(cc.delayTime(2.2), cc.callFunc(function() {
                            w = f.default.Instance.Play("28_whale_count_" + (C > 6 ? "6" : C.toString()))
                        }), cc.repeat(cc.sequence(O, cc.scaleBy(.1, 1.3), cc.callFunc(function() {
                            f.default.Instance.Stop(w), C + 1 <= g ? w = f.default.Instance.Play("28_whale_count_" + (C + 1 > 6 ? "6" : (C + 1).toString())) : (w = f.default.Instance.Play("29_whale_count1_" + (C > 6 ? "6" : C.toString())), f.default.Instance.SetNextSound(w, C >= 6 ? "30_whale_countend2" : "30_whale_countend"))
                        }), cc.scaleBy(.2, .8), cc.delayTime(.3), cc.callFunc(function() {
                            P = ++C == g ? 1 / 39 * (e - m) : 1 / 39 * (v[C] * n - m)
                        })), g), cc.spawn(cc.repeat(cc.sequence(cc.scaleBy(1, 1.2), cc.scaleBy(1, .8)), 2), cc.sequence(cc.delayTime(2.5), cc.callFunc(function() {
                            -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(S)), a.AwardLineOff(M, i), h.default.DespawnAward(r, k), h.default.DespawnAward(y, T), I.opacity = 0
                        }), cc.repeat(cc.sequence(cc.callFunc(function() {
                            var t = 100 * (Math.random() - .5),
                                e = 100 * (Math.random() - .5);
                            a.DropCoin(I.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                        }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                            I.opacity = 255, h.default.DespawnEffect(c.GoldenNum, I), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, e)
                        })))))
                    }))), (39 * .05 + .6) * g + 3.5
                }, e.prototype.WealthGodAward = function(t, e, n, i, o, a) {
                    var s = this;
                    console.warn("\u8ca1\u795e\u9b5a\u6b7b\u4ea1 seat = " + o + ", \u81ea\u5df1 seat = " + l.PlayerManager.MainSeat + ", win = " + e + ", addBalance = " + a);
                    var r = this.SpawnAward(c.WealthGod, g.default.isReverse ? new cc.Vec2(0, 30) : new cc.Vec2(0, -30), l.PlayerManager.isMainSeat(o));
                    r.stopAllActions();
                    var u = r.getChildByName("SuperWin"),
                        d = r.getChildByName("Scroll");
                    d.setPosition(cc.Vec2.ZERO);
                    var y = u.getChildByName("Effect_particle");
                    y.active = !1, y.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                        t.resetSystem(), t.enabled = !1
                    });
                    var S = u.getChildByName("Shape").getComponent(sp.Skeleton);
                    u.opacity = 0, u.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                        u.opacity = 255, S.setCompleteListener(null), S.setAnimation(1, "SuperWin_start", !1), f.default.Instance.Play("SuperWin"), y.active = !0, y.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                            t.enabled = !0
                        });
                        var t = 0;
                        S.setCompleteListener(function() {
                            S.setCompleteListener(null), S.setAnimation(1, "SuperWin_loop", !0), S.setCompleteListener(function() {
                                2 == ++t && (S.setCompleteListener(null), S.setAnimation(1, "SuperWin_ending", !1), S.setCompleteListener(function() {
                                    S.setCompleteListener(null), y.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                                        t.stopSystem()
                                    })
                                }))
                            })
                        })
                    }))).setTag(3);
                    var v = d.getChildByName("Odds").getComponent(cc.Label);
                    v.node.stopAllActions(), v.string = "x" + e / n, v.node.setScale(0, 0);
                    var b = d.getChildByName("Bet");
                    b.setScale(0, 0), b.getChildByName("Label").getComponent(cc.Label).string = n.toString();
                    var P = d.getChildByName("Win").getComponent(cc.Label);
                    P.node.stopAllActions(), P.string = p.default.NumberformatBet(e, n), P.node.setScale(0, 0), P.node.opacity = 255;
                    var C = d.getChildByName("Shape").getComponent(sp.Skeleton);
                    if (null == v.node.getActionByTag(0)) {
                        var w = C.findBone("root"),
                            I = C.findBone("Frame");
                        v.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.001), cc.callFunc(function() {
                            0 != d.opacity && (v.node.setPosition(I.worldX, w.y > 7.5 && w.y < 90 ? I.worldY + 5 : I.worldY), b.setPosition(v.node.x, v.node.y + 30 * v.node.scaleY), v.node.setScale(w.scaleX * (I.scaleX / .75), w.scaleY * I.scaleY / .75), b.setScale(v.node.scaleX, v.node.scaleY))
                        })))).setTag(0)
                    }
                    var k = h.default.SpawnEffect(c.WealthGod, !0);
                    k.setParent(d), k.zIndex = -1, k.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                        t.resetSystem(), t.enabled = !1
                    }), k.children.forEach(function(t) {
                        t.active = !1
                    }), k.active = !1;
                    var T = null;
                    switch (i) {
                        case 1:
                            v.node.color = cc.color(255, 192, 160), C.setSkin("01_GREEN"), T = k.getChildByName("01_particle");
                            break;
                        case 2:
                            v.node.color = cc.color(223, 223, 223), C.setSkin("02_BLUE"), T = k.getChildByName("02_particle");
                            break;
                        case 3:
                        case 4:
                            v.node.color = cc.color(255, 223, 160), C.setSkin("03_RED"), T = k.getChildByName("03_particle");
                            break;
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                            v.node.color = cc.color(160, 255, 255), C.setSkin("04_PURPLE"), T = k.getChildByName("04_particle");
                            break;
                        default:
                            v.node.color = cc.color(255, 192, 160), C.setSkin("01_GREEN"), T = k.getChildByName("01_particle")
                    }
                    var M = null == t ? 0 : -1 != t.node.getChildByName("Shape").getComponent(sp.Skeleton).animation.indexOf("CATCH") ? .5 : 1.5;
                    M += 4.5;
                    var A = new _([r], 225, .75);
                    return this.AwardLineUp(o, A, 2 + M), d.opacity = 0, m.default.FishMissionSystem.CallMinimizeLayout(), d.runAction(cc.sequence(cc.delayTime(M), cc.callFunc(function() {
                        d.opacity = 255, P.node.runAction(cc.sequence(cc.delayTime(3.75), cc.callFunc(function() {
                            f.default.Instance.Play("09_wg_bonus_BigCoin"), k.active = !0, T.active = !0, T.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                                t.enabled = !0
                            }), T.opacity = 0
                        }), cc.scaleTo(.2, 2, 2), cc.callFunc(function() {
                            T.opacity = 255
                        }), cc.scaleTo(.1, 1, 1))).setTag(1), d.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            f.default.Instance.Play("07_wg_bonus_open")
                        }))), C.setCompleteListener(null), C.setAnimation(0, "01_open", !1), C.setCompleteListener(function() {
                            C.setCompleteListener(null), C.setAnimation(0, "02_reward", !0);
                            var t = 0;
                            C.setCompleteListener(function() {
                                ++t >= 2 && (P.node.runAction(cc.sequence(cc.delayTime(.25), cc.callFunc(function() {
                                    T.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                                        t.resetSystem(), t.enabled = !1
                                    }), T.active = !1, k.active = !1
                                }), cc.spawn(cc.scaleTo(.2, 2, 2), cc.fadeOut(.2)))).setTag(2), C.setCompleteListener(null), C.setStartListener(function() {
                                    C.setStartListener(null), d.runAction(cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                                        f.default.Instance.Play("08_wg_bonus_pass")
                                    })))
                                }), C.setAnimation(0, "03_close", !1), C.setCompleteListener(function() {
                                    C.setCompleteListener(null), r.stopAllActions(), v.node.stopAllActions(), P.node.stopAllActions(), s.AwardLineOff(A, o), h.default.DespawnAward(c.WealthGod, r), h.default.DespawnEffect(c.WealthGod, k), a && l.PlayerManager.Instance.ModifyPlayerWinning(o, e)
                                }))
                            })
                        })
                    }))), 13.5 + M
                }, e.prototype.TreasureUpgrade = function(t, e, n) {
                    for (var i = this, o = u.default.WeaponPosition(t), a = 140, s = 0; s < this.AwardList[t].length; s++) a += this.AwardList[t][s].height;
                    var r = this.SpawnAward(c.TreasureUpgrade, new cc.Vec2(o.x, o.y + (t > 1 ? -a : a)), l.PlayerManager.isMainSeat(t)),
                        h = r.getComponent(S.default);
                    h.SetBet(e, l.PlayerManager.isMainSeat(t)), h.ShowScore(n), f.default.Instance.Play("TreasureCrabEvolution", 1, !1), this.node.runAction(cc.sequence(cc.delayTime(2.5), cc.callFunc(function() {
                        f.default.Instance.Play("30_whale_countend", 1, !1)
                    }), cc.callFunc(function() {
                        h.Hide()
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var e = 100 * (Math.random() - .5),
                            n = 100 * (Math.random() - .5);
                        i.DropCoin(r.getPosition().sub(new cc.Vec2(e, n)), t, !1)
                    }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                        l.PlayerManager.Instance.ModifyPlayerWinning(t, n)
                    })))
                }, e.prototype.TreasureCrabAward = function(t, e, n, i, o) {
                    var a = this,
                        s = u.default.WeaponPosition(i);
                    return this.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                        for (var n = 140, r = 0; r < a.AwardList[i].length; r++) n += a.AwardList[i][r].height;
                        var u = t && t.node.parent ? t.node.parent.convertToNodeSpaceAR(t.getFishPos()) : cc.Vec2.ZERO,
                            d = a.SpawnAward(c.GoldenNum, u, l.PlayerManager.isMainSeat(i)),
                            y = a.SpawnAward(c.TreasureCrab, new cc.Vec2(s.x, s.y + (i > 1 ? -n : n)), l.PlayerManager.isMainSeat(i)),
                            m = a.SpawnAward(c.TreasureJew, u, l.PlayerManager.isMainSeat(i));
                        m.getComponent("TreasureJew").Init(t.Level);
                        var g = new _([d, y, m], y.height, 2);
                        a.AwardLineUp(i, g, 2);
                        var S = d.getComponentInChildren(cc.Label);
                        S.string = "", S.node.setScale(1), S.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            S.string = p.default.NumberformatBet(e, 1, !0)
                        }), cc.delayTime(4), cc.callFunc(function() {
                            a.AwardLineOff(g, i), h.default.DespawnAward(c.TreasureCrab, y), d.opacity = 0, f.default.Instance.Play("30_whale_countend2", 1, !1)
                        }), cc.repeat(cc.sequence(cc.callFunc(function() {
                            h.default.DespawnAward(c.TreasureJew, m);
                            var t = 100 * (Math.random() - .5),
                                e = 100 * (Math.random() - .5);
                            a.DropCoin(d.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                        }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                            d.opacity = 255, h.default.DespawnEffect(c.GoldenNum, d), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, e)
                        })))
                    }))), 5
                }, e.prototype.SmallTreasure = function(t, e, n, i) {
                    var o = this;
                    l.PlayerManager.isMainSeat(i) && l.PlayerManager.BulletSync(1);
                    var a = this.SpawnAward(c.SmallTreasure, this.posFix(t ? t.getPosition() : cc.Vec2.ZERO), l.PlayerManager.isMainSeat(i));
                    cc.tween(a).by(.2, {
                        position: cc.v3(0, g.default.isReverse ? -50 : 50)
                    }, {
                        easing: "Out"
                    }).by(.4, {
                        position: cc.v3(0, g.default.isReverse ? 50 : -50)
                    }, {
                        easing: "BounceOut"
                    }).start();
                    var s = new _([a], a.height),
                        r = a.getComponentInChildren(cc.Label);
                    r.node.parent.active = !1, r.node.setScale(1);
                    var u = e * n,
                        d = 0,
                        y = u * (1 / 43),
                        m = 3 + Math.floor(e / 3);
                    cc.tween(r).delay(.9).call(function() {
                        r.node.parent.active = !0;
                        var t = f.default.Instance.Play("28_whale_count_1");
                        f.default.Instance.SetNextSound(t, "29_whale_count1_1"), o.AwardLineUp(i, s, .5)
                    }).repeat(43, cc.tween().call(function() {
                        d += y, r.string = p.default.NumberformatBet(d, n)
                    }).delay(.05)).delay(1.5).call(function() {
                        -1 != o.CoinSound && f.default.Instance.Stop(o.CoinSound), o.CoinSound = f.default.Instance.Play(o.GetCoinSound(e)), o.AwardLineOff(s, i), a.opacity = 0
                    }).repeat(m, cc.tween().call(function() {
                        var t = 100 * (Math.random() - .5),
                            e = 100 * (Math.random() - .5);
                        o.DropCoin(a.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                    }).delay(.05)).call(function() {
                        a.opacity = 255, h.default.DespawnEffect(c.SmallTreasure, a), l.PlayerManager.Instance.ModifyPlayerWinning(i, u)
                    }).start()
                }, e.prototype.BigTreasure = function(t, e, n, i) {
                    var o = this;
                    l.PlayerManager.isMainSeat(i) && l.PlayerManager.BulletSync(1);
                    var a = this.SpawnAward(c.BigTreasure, this.posFix(t ? t.getPosition() : cc.Vec2.ZERO), l.PlayerManager.isMainSeat(i));
                    a.opacity = 255;
                    var s = a.getComponentInChildren(sp.Skeleton);
                    s.node.opacity = 255;
                    var r = a.getComponentInChildren(cc.Label);
                    r.node.parent.active = !1, r.node.setScale(1);
                    var d = e * n,
                        y = 0,
                        m = d * (1 / 53),
                        S = 10 + (Math.floor(e / 5) > 10 ? 10 : Math.floor(e / 5)),
                        _ = u.default.WeaponPosition(i);
                    g.default.isReverse ? _.y = i > 1 ? _.y - 140 : _.y + 240 : _.y = i > 1 ? _.y - 240 : _.y + 140;
                    var v = cc.sequence(cc.callFunc(function() {
                        r.node.parent.active = !0;
                        var t = f.default.Instance.Play("28_whale_count_6");
                        f.default.Instance.SetNextSound(t, "29_whale_count1_6")
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        y += m, r.string = p.default.NumberformatBet(y, n)
                    }), cc.delayTime(.05)), 53), cc.delayTime(1.5), cc.callFunc(function() {
                        -1 != o.CoinSound && f.default.Instance.Stop(o.CoinSound), o.CoinSound = f.default.Instance.Play(o.GetCoinSound(e))
                    }), cc.moveTo(.8, _).easing(cc.easeQuadraticActionOut()), cc.spawn(cc.repeat(cc.sequence(cc.callFunc(function() {
                        var t = 100 * (Math.random() - .5),
                            e = 100 * (Math.random() - .5);
                        o.DropCoin(a.getPosition().sub(new cc.Vec2(t, e)), i, !1)
                    }), cc.delayTime(.05)), S), cc.fadeOut(1)), cc.callFunc(function() {
                        h.default.DespawnEffect(c.BigTreasure, a), l.PlayerManager.Instance.ModifyPlayerWinning(i, d)
                    }));
                    s.setAnimation(0, "Start", !1), s.setCompleteListener(function() {
                        s.setAnimation(0, "Open", !1), s.setCompleteListener(function() {
                            s.setCompleteListener(null)
                        }), a.runAction(v)
                    })
                }, e.prototype.BlastCoin = function(t, e) {
                    if (t.hasOwnProperty("winnings")) {
                        var n = t.winnings;
                        l.PlayerManager.BulletSync(1, n)
                    } else l.PlayerManager.BulletSync(1);
                    for (var i = l.PlayerManager.MainSeat, o = t.collect_amount, a = Math.floor(o / 50 + 1), s = u.default.WeaponPosition(i), r = function(t) {
                            var n = p.SpawnAward(c.DropCoin, e, l.PlayerManager.isMainSeat(i)),
                                a = cc.sequence(cc.moveBy(.3, cc.v2(200 * Math.random() - 100, 200 * Math.random() - 100)).easing(cc.easeOut(1)), cc.moveTo(.8, s).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                                    0 == t && l.PlayerManager.Instance.ModifyPlayerWinning(i, o), h.default.DespawnAward(c.DropCoin, n)
                                }));
                            n.runAction(a)
                        }, p = this, d = 0; d < a; d++) r(d);
                    f.default.Instance.Play("30_whale_countend")
                }, e.prototype.posFix = function(t) {
                    this.winSize || (this.winSize = cc.v2(.5 * g.default.WinSize.width, .5 * g.default.WinSize.height));
                    var e = t;
                    return e.x > this.winSize.x - 50 ? e.x = this.winSize.x - 100 - 100 * Math.random() : e.x < 50 - this.winSize.x && (e.x = 100 - this.winSize.x + 100 * Math.random()), e.y > this.winSize.y - 50 ? e.y = this.winSize.y - 100 - 100 * Math.random() : e.y < 50 - this.winSize.y && (e.y = 100 - this.winSize.y + 100 * Math.random()), e
                }, e.prototype.GetCoinSound = function(t) {
                    return t < 10 ? "34_coinjump_a" : t < 50 ? "34_coinjump_b" : "34_coinjump_c"
                }, e.prototype.Clear = function() {
                    this.AwardList.splice(0, this.AwardList.length), n.instance = null
                }, e.instance = null, n = a([v], e)
            }(cc.Component);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./SkillTitle": "SkillTitle"
    }],
    BOMB_BOAT: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "96ebeNxS2BK7parp/wtpaSP", "BOMB_BOAT");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/AudioManager"),
            l = t("./BaseFish"),
            h = cc._decorator,
            u = h.ccclass,
            p = (h.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = l.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.mAnim.stop(), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(1)
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                c.default.Instance.Play("41_catch_bigfish"), t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, a([u], e)
            }(l.default));
        n.default = p, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    BUDDHA: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "6ef4d8s9m1KGa29FnPEcOdX", "BUDDHA");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ChangeSmoke = null, e.OddsDummy = null, e.ice_group = [], e.defaultAliveTime = 120, e.Level = 1, e.tempLevel = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    for (t.prototype.Init.call(this, e, n), this.o < 70 && (this.o += 70); this.o > 110 && this.o < 180;) this.o -= 35;
                    for (this.o > 290 && (this.o -= 70); this.o >= 180 && this.o < 250;) this.o += 35;
                    this.isFeature = !0, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "LV1", !0), this.Level = 1, this.tempLevel = null, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.schedule(this.randomVoice, 10)
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? 1 : -1, this.node.angle = -1 == this.node.scaleY ? 0 : 180) : (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? -1 : 1, this.node.angle = -1 == this.node.scaleY ? 180 : 0)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.unschedule(this.randomVoice), l.default.Instance.Play("Buddha_catch_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(3), l.default.Instance.Play("41_catch_bigfish")
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, e.prototype.FishOut = function(e) {
                    this.unschedule(this.randomVoice), t.prototype.FishOut.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.changeLevel = function(t) {
                    if (this.skeleton.paused) this.tempLevel = t;
                    else if (t != this.Level) switch (this.ChangeSmoke.resetSystem(), l.default.Instance.Play("Buddha_light_01"), this.skeleton.setAnimation(0, "LV" + t.toString(), !0), this.Level = t, t) {
                        case 2:
                            l.default.Instance.Play("voice_Buddha_up_01");
                            break;
                        case 3:
                            l.default.Instance.Play("voice_Buddha_up_02")
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), null != this.tempLevel && (this.changeLevel(this.tempLevel), this.tempLevel = null)
                }, e.prototype.randomVoice = function() {
                    var t = 1 + Math.floor(4 * Math.random());
                    l.default.Instance.Play("voice_Buddha_move_0" + t.toString())
                }, Object.defineProperty(e.prototype, "getOddsPos", {
                    get: function() {
                        return this.node.convertToWorldSpaceAR(this.OddsDummy.getPosition())
                    },
                    enumerable: !1,
                    configurable: !0
                }), a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.ParticleSystem)], e.prototype, "ChangeSmoke", void 0), a([d(cc.Node)], e.prototype, "OddsDummy", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    BUFFALO: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a3a77798IJIRbh4Unr/I/kV", "BUFFALO");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.Soot = null, e.TailCollider = null, e.centerBoneName = "bone6", e.tailBoneName = "bone15", e.centerBone = null, e.tailBone = null, e.BonePos = null, e.moveSound = null, e.SpineEvent = function(t, n) {
                        if (n) switch (n.data.name) {
                            case "kick":
                                e.aliveStatus == h.FishState.ALIVE && (c.default.UpDownShakeOnce(30), e.Soot.play())
                        }
                    }, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode = this.node.getChildByName("Shape"), this.centerBone = this.skeleton.findBone(this.centerBoneName), this.tailBone = this.skeleton.findBone(this.tailBoneName), this.skeleton.setCompleteListener(null), this.skeleton.setEventListener(this.SpineEvent), this.skeleton.timeScale = .9, this.skeleton.setAnimation(0, "run", !0), this.moveSound = l.default.Instance.Play("Buffalo_move_01", 1, !0)
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1 : this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.skeleton.updateWorldTransform(), this.aliveStatus == h.FishState.ALIVE && this.TailCollider.setPosition(cc.v2(this.tailBone.worldX, this.tailBone.worldY)), this.aliveStatus == h.FishState.DEAD && (this.BonePos = cc.v2(this.centerBone.worldX, this.centerBone.worldY))
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.moveSound && l.default.Instance.Stop(this.moveSound), this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                        })
                    })
                }, e.prototype.FishOut = function() {
                    this.moveSound && l.default.Instance.Stop(this.moveSound), this.Soot.stop(), t.prototype.FishOut.call(this)
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.PlayClip = function(t, e, n) {
                    var i = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1.25, this.skeleton.setAnimation(0, t, e), n && this.skeleton.setCompleteListener(function() {
                        i.skeleton.setCompleteListener(null), n()
                    })
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), n && n(), o.skeleton.timeScale = 1.2, o.skeleton.setAnimation(0, t, e), i && o.skeleton.setCompleteListener(function() {
                            o.skeleton.setCompleteListener(null), i()
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.Animation)], e.prototype, "Soot", void 0), a([d(cc.Node)], e.prototype, "TailCollider", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    BaseBackGround: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "1b48cYROf9NqakE9ksMS4Ut", "BaseBackGround");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bossEnter = !1, e
                }
                return o(e, t), e.prototype.reuse = function() {
                    t.prototype.reuse.call(this), this.bossEnter = !1
                }, e.prototype.BossEnter = function() {
                    var t = this;
                    this.bossEnter || this.ani.getClips().forEach(function(e) {
                        if ("Boss_Enter" == e.name) return t.ani.play("Boss_Enter"), void(t.bossEnter = !0)
                    })
                }, e.prototype.BossLeave = function() {}, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    BaseBullet: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "73317n1OttF1ZJxBBaWoATW", "BaseBullet");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./WeaponManager"),
            r = t("../Player/PlayerManager"),
            c = t("../Fish/BaseFish"),
            l = t("../Common/ResourceManager"),
            h = t("../../../../../FishCommon/Script/CanvasHandler"),
            u = cc._decorator.ccclass,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bulletSpeed = 900, e.targetPos = null, e.startPos = null, e.bulletVec = null, e.bulletID = null, e.bulletType = null, e.bulletBet = null, e.seat = null, e.canCollision = !1, e.winSide = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    cc.director.getCollisionManager().enabled = !0
                }, e.prototype.update = function(t) {
                    this.BulletMove(t)
                }, e.prototype.Init = function(t, e, n, i, o) {
                    this.winSide || (this.winSide = cc.v2(.5 * h.default.WinSize.width, .5 * h.default.WinSize.height)), this.seat = e, this.bulletID = t, this.bulletType = n, this.bulletBet = o || null, this.targetPos = i, this.startPos = s.default.WeaponPosition(e), this.bulletVec = this.targetPos.sub(this.startPos), this.bulletVec.normalizeSelf(), this.node.setPosition(this.startPos.add(this.bulletVec.mul(90))), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)), this.canCollision = !0
                }, e.prototype.BulletMove = function(t) {
                    this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(this.bulletSpeed * t))), this.BulletReflection()
                }, e.prototype.BulletReflection = function() {
                    var t = !1;
                    this.node.getPosition().x > this.winSide.x ? (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.getPosition().y)), t = !0) : this.node.getPosition().x < -this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.getPosition().y)), t = !0), this.node.getPosition().y > this.winSide.y ? (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, this.winSide.y)), t = !0) : this.node.getPosition().y < -this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, -this.winSide.y)), t = !0), t && (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)))
                }, e.prototype.onCollisionEnter = function(t) {
                    if (this.canCollision) {
                        var e = t.node.getComponent(c.default);
                        if (!e)
                            for (var n = t.node.parent, i = 0; i < 5; i++)
                                if (n) {
                                    if (e = n.getComponent("BaseFish")) break;
                                    n = n.parent
                                }
                        if (e && e.CanCollisionByMainSeat(r.PlayerManager.isMainSeat(this.seat)) && !e.IsSummonIng) {
                            var o = new Array;
                            o.push(e.ID), s.default.Instance.HitFishRequest(this, o), r.PlayerManager.isMainSeat(this.seat) && e.OnHitFish(), this.canCollision = !1
                        }
                    }
                }, e.prototype.Recycle = function() {
                    this.targetPos = null, this.startPos = null, this.bulletVec = null, l.default.DespawnBullet(this.bulletType, this.node)
                }, a([u], e)
            }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Player/PlayerManager": "PlayerManager",
        "./WeaponManager": "WeaponManager"
    }],
    BaseCrab: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "be6fcuWidpMf4aw4y6zgh+r", "BaseCrab");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.spine = null, e.ANIMATION_NAME = {
                        SWIM: "SWIM",
                        READY_EXPLODE: "READY_EXPLODE",
                        FUSE: "FUSE",
                        BIGGER: "BIGGER"
                    }, e
                }
                var n;
                return o(e, t), n = e, e.prototype.onEnable = function() {
                    null == this.spine && (this.spine = this.node.getComponentInChildren(sp.Skeleton)), this.PlaySwin()
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.SetAnimationTimeScale = function(t) {
                    this.spine && (this.spine.timeScale = t)
                }, e.prototype.PlaySwin = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.SWIM, !0)
                }, e.prototype.PlayReadyExplode = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.READY_EXPLODE, !0)
                }, e.prototype.PlayFuse = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.FUSE, !1)
                }, e.prototype.PlayBigger = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.BIGGER, !1)
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.spine.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.spine.paused = !1
                }, e.prototype.onMove = function(t) {
                    var e = t.getComponent(n);
                    t.AddSpeed(-90, 2), e.spine.timeScale = .7, this.scheduleOnce(function() {
                        e.spine.timeScale = 1.5, t.SetSpeed(200)
                    }, 2)
                }, e.prototype.onEnd = function(e) {
                    e.getComponent(n).spine.timeScale = 1, t.prototype.onEnd.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.spine.setEventListener(null), this.spine.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, n = a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseFish: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4db903sfG5OK6frJUYejV4h", "BaseFish");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.BEHAVIOR_TYPE = n.FishOutType = n.FishState = void 0;
        var c, l, h, u = t("../../System/FishSystem"),
            p = t("./FishManager"),
            d = t("../Weapon/WeaponManager"),
            f = t("../Common/EnumFilter"),
            y = t("../Common/ResourceManager"),
            m = t("../Player/PlayerManager"),
            g = t("../Common/AudioManager"),
            S = t("../../../../../FishCommon/Script/CanvasHandler"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property;
        (function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.ALIVE = 1] = "ALIVE", t[t.OUT = 2] = "OUT", t[t.DEAD = 3] = "DEAD"
        })(c = n.FishState || (n.FishState = {})),
        function(t) {
            t[t.FISH_DEAD = 0] = "FISH_DEAD", t[t.ALIVE_TIME_OUT = 1] = "ALIVE_TIME_OUT", t[t.FISH_OUT = 2] = "FISH_OUT", t[t.FISH_PATH_FINISH = 3] = "FISH_PATH_FINISH", t[t.FISH_FORCE_LEAVE = 4] = "FISH_FORCE_LEAVE"
        }(l = n.FishOutType || (n.FishOutType = {})),
        function(t) {
            t[t.NORMAL = 0] = "NORMAL", t[t.SEEK = 1] = "SEEK", t[t.PATH = 2] = "PATH", t[t.SPINE = 3] = "SPINE"
        }(h = n.BEHAVIOR_TYPE || (n.BEHAVIOR_TYPE = {}));
        var P = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.fishRadius = 0, e.mainCoillder = null, e.mainFishNode = null, e.shapeNode = null, e.subColliderList = null, e.id = "0000", e.type = 0, e.x = 0, e.y = 0, e.o = 0, e.feature = 0, e.canCollision = !0, e.isFeature = !1, e.isInit = !1, e.parameter = null, e.hitEffectAction = null, e.fadeEffectAcion = null, e.mAnim = null, e.reSize = 1, e.defaultAliveTime = 60, e.aliveTime = 0, e.aliveStatus = c.IDLE, e.behaviorType = 0, e.lockNode = null, e.targetPos = null, e.startPos = null, e.moveSpeed = null, e.moveTime = 0, e.syncTime = 0, e.fixedTimestep = .03, e.counter = 0, e.posArray = null, e.offsetPos = cc.Vec2.ZERO, e.freeze_time = 0, e.freeze_callFunc = null, e.AISeek = null, e.mSeek = null, e.fishPath = null, e.effect = null, e.curveSpeed = 1, e.currentSpeed = 1, e.effectTime = 0, e.effectIndex = 0, e.index = 0, e.forwardAngle = 0, e.jumpIndex = -1, e.deltaPos = null, e.preTarget = null, e.alignmentX = 0, e.alignmentY = 0, e.pathInit = !1, e.isSummon = !1, e.isSummoning = !1, e.isInScreen = !1, e.Event_FishEnter = null, e.Event_FishLeave = null, e.Event_FishInit = null, e.shapePos = null, e.twitchAct = null, e
            }
            var n;
            return o(e, t), n = e, Object.defineProperty(e.prototype, "ID", {
                get: function() {
                    return this.id
                },
                set: function(t) {
                    this.id = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "Type", {
                get: function() {
                    return this.type
                },
                set: function(t) {
                    this.type = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "Feature", {
                get: function() {
                    return this.feature
                },
                set: function(t) {
                    this.feature = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "AliveTime", {
                get: function() {
                    return this.defaultAliveTime
                },
                set: function(t) {
                    this.defaultAliveTime = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "AliveStatus", {
                get: function() {
                    return this.aliveStatus
                },
                set: function(t) {
                    this.aliveStatus = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "CanCollision", {
                get: function() {
                    return this.canCollision
                },
                set: function(t) {
                    this.canCollision = t
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.CanCollisionByMainSeat = function() {
                return this.canCollision
            }, Object.defineProperty(e.prototype, "IsSummonIng", {
                get: function() {
                    return this.isSummoning
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "IsFeatureFish", {
                get: function() {
                    return this.isFeature
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "IsInScreen", {
                get: function() {
                    return this.isInScreen
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                this.mAnim = this.node.getComponent(cc.Animation), this.reSize = this.node.scale
            }, e.prototype.onEnable = function() {
                this.mAnim && this.mAnim.play("Swim")
            }, e.prototype.update = function(t) {
                if (this.aliveStatus == c.ALIVE) {
                    if (this.CheckInScreen(), this.freeze_time > 0) return this.freeze_time -= t, void(this.freeze_time <= 0 && this.ResumeBehavior());
                    switch (this.aliveTime -= t, this.aliveTime <= 0 && this.FishFadeOut(1, l.ALIVE_TIME_OUT), this.behaviorType) {
                        case h.NORMAL:
                            this.UpdateNormal(t);
                            break;
                        case h.SEEK:
                            this.UpdateSeek(t);
                            break;
                        case h.PATH:
                            if (this.counter += t, this.counter >= this.fixedTimestep) {
                                var e = Math.floor(this.counter / this.fixedTimestep);
                                this.counter = this.counter % this.fixedTimestep;
                                for (var n = 0; n < e; n++) this.UpdatePath()
                            }
                    }
                }
            }, e.prototype.Init = function(t, e, n, i, o) {
                0 == this.fishRadius && (this.fishRadius = 60), this.id = e || t[u.FishData.id], this.type = t[u.FishData.type], this.x = t[u.FishData.x], this.y = t[u.FishData.y], this.o = t[u.FishData.o], this.feature = t[u.FishData.feature], this.parameter = o, this.AISeek = p.default.Instance.ai_seek, this.InitParameter(), this.behaviorType = i || h.NORMAL, -1 != [h.NORMAL, h.SEEK].indexOf(this.behaviorType) && (this.AISeek = p.default.Instance.ai_seek)
            }, e.prototype.InitParameter = function() {
                this.canCollision = !0, this.node.stopAllActions(), this.isSummoning = !1, this.node.runAction(cc.fadeIn(.5)), this.mainFishNode && this.offsetPos.mag() > 0 && this.mainFishNode.setPosition(cc.Vec2.ZERO), this.node.scale = this.reSize, this.aliveStatus = c.ALIVE, this.aliveTime = this.defaultAliveTime, this.isInScreen = !1, this.shapeNode ? this.shapeNode.color = cc.Color.WHITE : (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.color = cc.Color.WHITE)), this.Event_FishLeave && (this.Event_FishLeave = null), this.behaviorType = h.NORMAL, this.isInit = !0, this.Event_FishInit && this.Event_FishInit(this)
            }, e.prototype.InitNormalBehavior = function(t, e) {
                void 0 === e && (e = 0), this.moveToScreenOut(), this.syncTime = e, this.getPosArray(t)
            }, e.prototype.UpdateNormal = function(t) {
                if (this.syncTime > 0 && (this.syncTime -= t), this.counter += t, this.counter >= this.fixedTimestep) {
                    if (this.posArray && this.posArray.length > 0) {
                        var e = this.posArray.pop();
                        e && this.node.setPosition(e), this.syncTime > 0 && this.posArray.length > 0 && (e = this.posArray.pop()) && this.node.setPosition(e)
                    }
                    this.posArray && this.posArray.length <= 0 && this.FishOut(), this.counter = 0
                }
            }, e.prototype.moveToScreenOut = function() {
                var t = cc.v2(S.default.WinSize.width, S.default.WinSize.height);
                this.x -= 45, this.y -= 45, this.y *= -1, this.o += 90;
                for (var e = .004 * t.x * this.x, n = .004 * t.y * this.y, i = Math.tan(-cc.misc.degreesToRadians(this.o)), o = -i * e + n, a = f.default.NormalPathBound(this.type), s = .5 * -t.x - a, r = .5 * t.x + a, c = .5 * t.y + a, l = .5 * -t.y - a, h = [cc.v2(s, i * s + o), cc.v2((o - l) / -i, l), cc.v2(r, i * r + o), cc.v2((o - c) / -i, c)], u = [0, 1], p = [cc.v2(cc.Vec2.ZERO.sub(h[0])).mag(), cc.v2(cc.Vec2.ZERO.sub(h[1])).mag()], d = 1; d < h.length; d++) {
                    var y = cc.v2(cc.Vec2.ZERO.sub(h[d])).mag();
                    y <= p[0] ? (p[1] = p[0], p[0] = y, u[1] = u[0], u[0] = d) : y <= p[1] && (p[1] = y, u[1] = d)
                }
                var m = h[u[0]].y,
                    g = h[u[1]].y;
                this.o > 180 && this.o < 360 ? m < g ? (this.startPos = h[u[0]], this.targetPos = h[u[1]]) : (this.startPos = h[u[1]], this.targetPos = h[u[0]]) : m < g ? (this.startPos = h[u[1]], this.targetPos = h[u[0]]) : (this.startPos = h[u[0]], this.targetPos = h[u[1]])
            }, e.prototype.InitSeek = function(t, e, n) {
                if (this.behaviorType = h.SEEK, this.AISeek) {
                    e = e || this.o % this.AISeek.GetPathCount(t);
                    var i = this.getOffset(this.o % 4);
                    this.AISeek.SetSeek(t, e, this.node, this.id, this.o, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                }
            }, e.prototype.UpdateSeek = function(t) {
                this.aliveStatus == c.ALIVE && this.mSeek && this.mSeek.Update(t)
            }, e.prototype.onStart = function(t) {
                if (t) {
                    var e = t.getComponent(n);
                    e && null == e.mSeek && (e.mSeek = t)
                }
            }, e.prototype.onMove = function() {}, e.prototype.onEnd = function(t) {
                t && t.getComponent(n).FishOut(l.FISH_PATH_FINISH)
            }, e.prototype.getOffset = function(t) {
                var e = cc.Vec2.ONE;
                return 1 == t ? e = new cc.Vec2(1, -1) : 2 == t ? e = new cc.Vec2(-1, -1) : 3 == t && (e = new cc.Vec2(-1, 1)), e
            }, e.prototype.StopAction = function() {
                this.ResumeBehavior(), this.mSeek && this.mSeek.onDead()
            }, e.prototype.InitPath = function(t, e, n, i, o, a, l, u, p, d) {
                return void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === l && (l = 0), void 0 === u && (u = 0), void 0 === p && (p = 0), void 0 === d && (d = 0), s(this, void 0, void 0, function() {
                    var s, f, y;
                    return r(this, function() {
                        if (this.behaviorType = h.PATH, this.id = t, this.type = e, this.fishPath = n, this.effect = n.effect, this.index = 0, this.node.setPosition(cc.v2(-999, -999)), this.canCollision = !0, this.node.runAction(cc.fadeIn(.5)), this.node.scale = this.reSize, this.aliveStatus = c.ALIVE, this.isInit = !0, this.shapeNode ? this.shapeNode.color = cc.Color.WHITE : (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.color = cc.Color.WHITE)), this.Event_FishInit && this.Event_FishInit(this), this.aliveTime = 9999, s = Math.ceil(i - d), f = !1, s < 0 && (f = !0), this.effectIndex = 0, this.effectTime = 0, this.curveSpeed = n.curveSpeed, this.currentSpeed = this.curveSpeed, this.forwardAngle = 0, this.x = l, this.y = u, this.o = p, this.index = 0, this.deltaPos = cc.Vec2.ZERO, this.alignmentX = o, this.alignmentY = a, this.preTarget = this.node.getPosition(), this.pathInit = !0, f)
                            for (y = 0; y < -s / .03334; y++) this.UpdatePath();
                        return [2]
                    })
                })
            }, e.prototype.UpdatePath = function() {
                switch (this.aliveStatus) {
                    case c.IDLE:
                        break;
                    case c.ALIVE:
                        this.pathInit && this.MoveAlongPath()
                }
            }, e.prototype.delay = function(t) {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return [2, new Promise(function(e) {
                            return setTimeout(e, t)
                        })]
                    })
                })
            }, e.prototype.MoveAlongPath = function() {
                if (this.effectTime <= 0) {
                    for (var t = 0; t < this.currentSpeed; t++) {
                        if (null != this.effect && this.effectIndex < this.effect.length && this.effect[this.effectIndex].index == this.index) {
                            this.forwardAngle = this.effect[this.effectIndex].angle, this.effectTime = this.effect[this.effectIndex].time, this.jumpIndex = this.effect[this.effectIndex].jumpIndex;
                            var e = this.effect[this.effectIndex].eventName;
                            this.DoPathEventDelegate(e), this.effectIndex++
                        }
                        this.index++
                    }
                    if (this.jumpIndex > 0 && (this.index = this.jumpIndex, this.jumpIndex = -1), this.index < this.fishPath.path.length) {
                        var n = cc.Vec2.ZERO;
                        if (0 == this.o) n = cc.v2(this.fishPath.path[this.index].x, this.fishPath.path[this.index].y);
                        else {
                            var i = cc.v2(this.fishPath.path[this.index].x, this.fishPath.path[this.index].y);
                            i.subSelf(cc.v2(this.fishPath.path[0].x, this.fishPath.path[0].y));
                            var o = i.x,
                                a = i.y;
                            i.x = Math.cos(this.o * Math.PI / 180) * o - Math.sin(this.o * Math.PI / 180) * a + this.fishPath.path[0].x, i.y = Math.sin(this.o * Math.PI / 180) * o + Math.cos(this.o * Math.PI / 180) * a + this.fishPath.path[0].y, n = i
                        }
                        var s = cc.v2(n.sub(this.preTarget)),
                            r = cc.misc.radiansToDegrees(Math.atan2(s.y, s.x)) + this.forwardAngle;
                        this.node.angle = r, 0 != this.alignmentX || 0 != this.alignmentY ? (1 == this.index && (this.deltaPos = cc.v2(n.x + this.alignmentX, this.alignmentY + n.y)), n = cc.v2(this.deltaPos.sub(n)), r = cc.misc.radiansToDegrees(Math.atan2(n.y - this.preTarget.y, n.x - this.preTarget.x)), this.node.angle = r, this.node.setPosition(cc.v2(n))) : (n.addSelf(cc.v2(this.x, this.y)), this.node.setPosition(n.add(cc.v2(this.alignmentX, this.alignmentY)))), this.preTarget = cc.v2(n.x, n.y)
                    } else this.FishOut(l.FISH_PATH_FINISH)
                } else this.effectTime -= .03334
            }, e.prototype.DoPathEventDelegate = function(t) {
                switch (t) {
                    case "CATCH":
                        this.PlayDieAnim()
                }
            }, e.prototype.InitSummonBehavior = function() {
                var t = this,
                    e = this.y / this.x,
                    n = -e * this.x + this.y,
                    i = -cc.misc.radiansToDegrees(Math.atan2(-this.y, -this.x)),
                    o = this.getBoundPos(e, n);
                this.startPos = cc.v2(this.x, this.y), o.forEach(function(e) {
                    Math.floor(i) === Math.floor(-cc.misc.radiansToDegrees(Math.atan2(e.y, e.x))) && (t.targetPos = e)
                }), this.getPosArray(), this.node.setScale(0), this.isSummoning = !0, this.node.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                    t.isSummoning = !1
                })))
            }, e.prototype.getBoundPos = function(t, e) {
                var n = cc.v2(S.default.WinSize.width, S.default.WinSize.height),
                    i = f.default.NormalPathBound(18);
                return [cc.v2(.5 * -n.x - i, t * (.5 * -n.x - i) + e), cc.v2((e - (.5 * -n.y - i)) / -t, .5 * -n.y - i), cc.v2(.5 * n.x + i, t * (.5 * n.x + i) + e), cc.v2((e - (.5 * n.y + i)) / -t, .5 * n.y + i)]
            }, e.prototype.getPosArray = function(t) {
                this.isSummon = !t;
                var e = t || "" + this.type;
                this.moveSpeed = this.AISeek.GetMaxSpeed(e) || 140;
                var n = cc.v2(this.targetPos.sub(this.startPos));
                if (this.node.setPosition(this.startPos), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(n.y, n.x)), this.moveTime = n.mag() / this.moveSpeed, this.moveTime >= 35) this.FishOut();
                else {
                    var i = Math.floor(this.moveTime / this.fixedTimestep),
                        o = n.x / i,
                        a = n.y / i;
                    this.posArray = new Array(i);
                    for (var s = 1; s <= i; s++) this.posArray[i - s] = cc.v2(this.startPos.x + o * s, this.startPos.y + a * s)
                }
            }, e.prototype.OnHitFish = function() {
                (this.shapeNode || (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode)) && (this.hitEffectAction && (this.hitEffectAction.isDone || (this.shapeNode.stopAction(this.hitEffectAction), this.hitEffectAction = null, this.shapeNode.color = cc.Color.WHITE)), this.hitEffectAction = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.shapeNode.runAction(this.hitEffectAction))
            }, e.prototype.FishRunOut = function(t) {
                var e = this;
                if (this.behaviorType == h.NORMAL) {
                    var n = Math.floor(t / .01);
                    this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                        e.UpdateNormal(.03)
                    }), cc.delayTime(.01)), n))
                }
            }, e.prototype.FishFadeOut = function(t, e) {
                var n = this;
                void 0 === t && (t = .5), this.aliveStatus == c.ALIVE && (this.canCollision = !1, this.fadeEffectAcion = this.node.runAction(cc.sequence(cc.fadeOut(t), cc.callFunc(function() {
                    n.FishOut(e)
                }))))
            }, e.prototype.FishOut = function(t) {
                this.AliveStatus == c.ALIVE && (this.aliveStatus = c.OUT, this.StopAction(), p.default.Instance.FishOut(this.id), this.RemoveSelf(), this.Event_FishLeave && this.Event_FishLeave(this, t))
            }, e.prototype.PauseBehavior = function(t, e) {
                this.freeze_time = t, e && (this.freeze_callFunc = e), this.mAnim && this.mAnim.pause();
                try {
                    this.mSeek && this.mSeek.Pause()
                } catch (n) {
                    console.error(n), console.error(this.mSeek)
                }
            }, e.prototype.ResumeBehavior = function() {
                this.mAnim && this.mAnim.resume(), this.mSeek && this.mSeek.Resume(), this.freeze_callFunc && this.freeze_callFunc(this), this.freeze_callFunc = null
            }, e.prototype.FishDie = function(t, e, n) {
                return void 0 === e && (e = !0), s(this, void 0, void 0, function() {
                    var i = this;
                    return r(this, function() {
                        if (this.aliveStatus = c.DEAD, this.canCollision = !1, this.isInit = !1, this.hitEffectAction && (this.shapeNode.stopAction(this.hitEffectAction), this.shapeNode.color = cc.Color.WHITE), this.fadeEffectAcion && (this.node.stopAction(this.fadeEffectAcion), this.fadeEffectAcion = null, this.node.opacity = 255), this.Event_FishLeave && this.Event_FishLeave(this, 6), !this.node || !this.node.active) return [2];
                        switch (this.StopAction(), f.default.getFishType(this.type)) {
                            case f.FishType.Double:
                                this.MovingFish(t, this.node.getPosition(), e), this.mAnim && this.mAnim.play("Die"), g.default.Instance.Play("bomb_ex01_random"), n && 1 == n.AllTypeNormal && this.node.runAction(cc.sequence(cc.spawn(cc.rotateBy(2, 720), cc.repeat(cc.scaleBy(.2, .9), 5), cc.fadeOut(1)), cc.delayTime(3), cc.callFunc(function() {
                                    i.RemoveSelf()
                                })));
                                break;
                            case f.FishType.Normal:
                                this.MovingFish(t, this.node.getPosition(), e), this.node.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.rotateBy(2, 720), cc.repeat(cc.scaleBy(.2, .9), 5), cc.fadeOut(1)), cc.delayTime(2.6), cc.callFunc(function() {
                                    i.RemoveSelf()
                                })))
                        }
                        return this.ShakeCoinEffect(t, f.default.needShakeEffect(this.type)), this.onFishDie(), [2]
                    })
                })
            }, e.prototype.onFishDie = function() {}, e.prototype.MovingFish = function(t, e, n) {
                if (n) {
                    var i = d.default.WeaponPosition(t),
                        o = cc.v2(this.node.getPosition().sub(i));
                    o.normalizeSelf(), this.node.runAction(cc.moveTo(.1, e.add(new cc.Vec2(o.x, o.y).mul(50))))
                }
            }, e.prototype.RemoveSelf = function() {
                this.Event_FishEnter = null, this.Event_FishLeave = null, this.Event_FishInit = null, this.isInit = !1, this.isInScreen = !1, this.node && this.node.stopAllActions(), this.mAnim && this.mAnim.stop(), this.parameter = null, this.posArray = null, this.targetPos = null, this.startPos = null, this.moveSpeed = null, this.effectIndex = 0, this.effectTime = 0, this.forwardAngle = 0, this.behaviorType = 0, this.fishPath = null, this.effect = null, this.pathInit = !1, p.default.Instance.RemoveFishByID(this.id), y.default.DespawnFish(this.Type, this.node), this.enabled = !1, this.AISeek = null, this.mSeek = null
            }, e.prototype.PlayDieAnim = function() {
                this.mAnim && this.mAnim.play("Die")
            }, e.prototype.CheckInScreen = function() {
                if (this.isInit) {
                    var t = this.FishInScreen();
                    t != this.isInScreen && (this.isInScreen = t, t ? this.GetLockLinkPoint(S.default.Instance.node.getPosition()) ? this.Event_FishEnter && this.Event_FishEnter(this) : this.isInScreen = !1 : this.Event_FishLeave && this.Event_FishLeave(this, 7))
                }
            }, e.prototype.FishInScreen = function() {
                var t = S.default.WinSize,
                    e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                    n = e.x + this.fishRadius > 0 && e.x - this.fishRadius < t.width,
                    i = e.y + this.fishRadius > 0 && e.y - this.fishRadius < t.height;
                return n && i
            }, e.prototype.PointInColliderRange = function(t) {
                if (this.mainCoillder && (n = this.mainCoillder.getComponent(cc.CircleCollider)) && this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO).sub(t).mag() <= n.radius) return !0;
                this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider));
                for (var e = 0; e < this.subColliderList.length; e++) {
                    var n;
                    if ((n = this.subColliderList[e]) && this.subColliderList[e].node.convertToWorldSpaceAR(cc.Vec2.ZERO).sub(t).mag() <= n.radius) return !0
                }
                return !1
            }, e.prototype.GetLockLinkPoint = function(t, e) {
                if (!this.node || !this.node.active || !this.isInScreen) return null;
                var n = this.isLockInScreen(this.mainCoillder);
                if (n) return e && e(this.mainCoillder), n;
                if (n = this.isLockInScreen(this.lockNode)) return e && e(this.lockNode), n;
                if (this.lockNode = null, this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.length <= 0) return e && e(this.node), this.node.getPosition();
                for (var i = Number.MAX_VALUE, o = 0; o < this.subColliderList.length; o++) {
                    var a = this.isLockInScreen(this.subColliderList[o].node);
                    if (a) {
                        var s = t.sub(a).mag();
                        s < i && (i = s, n = a, this.lockNode = this.subColliderList[o].node)
                    }
                }
                return e && e(this.lockNode), n
            }, e.prototype.isLockInScreen = function(t) {
                if (t) {
                    var e;
                    if ((e = this.isSummon && this.mainFishNode ? this.mainFishNode.convertToWorldSpaceAR(t.getPosition()) : t.parent.convertToWorldSpaceAR(t.getPosition())).x >= 0 && e.x < S.default.WinSize.width - 0 && e.y >= 0 && e.y < S.default.WinSize.height - 0) return e
                }
                return null
            }, e.prototype.GetFishScore = function(t) {
                return p.default.Instance.fish_info[this.type].odds ? p.default.Instance.fish_info[this.type].odds * t : (cc.error("Fish Type:" + this.type.toString() + ", No odds in fish_info."), 0)
            }, Object.defineProperty(e.prototype, "Odds", {
                get: function() {
                    return p.default.Instance.fish_info[this.type].odds ? p.default.Instance.fish_info[this.type].odds : (cc.error("Fish Type:" + this.type.toString() + ", No odds in fish_info."), 0)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "Double", {
                get: function() {
                    return p.default.Instance.fish_info[this.type].double ? p.default.Instance.fish_info[this.type].double : (cc.error("Fish Type:" + this.type.toString() + ", No double in fish_info."), 0)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.CoinEffect = function(t) {
                void 0 === t && (t = 1.5), this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.forEach(function(e) {
                    var n = y.default.SpawnEffect("CoinBlast"),
                        i = e,
                        o = null;
                    n && (n.scale = i.radius / 90 * t, o = e.node.convertToWorldSpaceAR(cc.Vec2.ZERO), n.setPosition(n.parent.convertToNodeSpaceAR(o)))
                })
            }, e.prototype.ShakeCoinEffect = function(t, e) {
                if (void 0 === e && (e = 1), !(e <= 0)) {
                    m.PlayerManager.isMainSeat(t) && S.default.CameraShakeEffect(.25, 6 * e, .1);
                    var n = y.default.SpawnEffect("DFB");
                    n && (n.setPosition(this.node.getPosition()), n.setScale(e))
                }
            }, e.prototype.getFishPos = function() {
                return this.mainCoillder ? this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO) : this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)
            }, e.prototype.SetShapeColor = function(t) {
                this.shapeNode.color = t
            }, e.prototype.twitch = function(t) {
                this.twitchAct && (this.twitchAct = null, this.shapeNode.stopAction(this.twitchAct), this.shapeNode.setPosition(this.shapePos)), this.shapePos = this.shapeNode.getPosition();
                var e = t / .1;
                this.twitchAct = cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.05, cc.v2(5, 5)), cc.moveBy(.05, cc.v2(-5, -5))), e), cc.moveTo(.05, this.shapePos)), this.shapeNode.runAction(this.twitchAct)
            }, e.prototype.SetSyncTime = function(t) {
                this.syncTime = t
            }, e.prototype.setExdata = function() {}, a([b(cc.Integer)], e.prototype, "fishRadius", void 0), a([b(cc.Node)], e.prototype, "mainCoillder", void 0), a([b(cc.Node)], e.prototype, "mainFishNode", void 0), n = a([v], e)
        }(cc.Component);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/FishSystem": "FishSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./FishManager": "FishManager"
    }],
    BaseFlashFish: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a80bbc2DktI3Z5nqrfQnpXj", "BaseFlashFish");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.flashAnim = null, e
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0, this.switchFlashEffect(!0)
                }, e.prototype.switchFlashEffect = function(t) {
                    this.flashAnim && (this.flashAnim.node.active = t, t ? this.flashAnim.play() : this.flashAnim.stop())
                }, e.prototype.RemoveSelf = function() {
                    this.flashAnim && this.flashAnim.stop(), t.prototype.RemoveSelf.call(this)
                }, a([l(cc.Animation)], e.prototype, "flashAnim", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseSkillAward: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "eafa7T3mhtFBY/bMt5N0/A0", "BaseSkillAward");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/ResourceManager"),
            r = t("../Common/Utility"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.awardAnim = null, e.winText = null, e.currentWin = 0, e.targetWin = 0, e.step = 0, e.resource_type = "", e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.currentWin = t, this.SetWinText(t), this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonShow")
                }, e.prototype.Hide = function() {
                    this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonHide")
                }, e.prototype.SetWinText = function(t, e, n, i) {
                    var o = this;
                    if (void 0 === n && (n = 3), this.winText)
                        if (this.currentWin = t, t != (e = null == e ? t : e)) {
                            this.node.stopAllActions();
                            var a = Math.pow(10, n - 1);
                            this.step = Math.abs(t - e) / a, this.node.runAction(cc.sequence(cc.repeat(cc.spawn(cc.callFunc(function() {
                                o.currentWin += a, o.winText.string = r.default.NormalitionFloat(o.currentWin).toString()
                            }), cc.delayTime(.02)), this.step), cc.callFunc(function() {
                                o.winText.string = r.default.NormalitionFloat(e).toString()
                            }), cc.delayTime(1), cc.callFunc(function() {
                                o.currentWin = 0, o.targetWin = 0, i && i()
                            })))
                        } else this.winText.string = r.default.NormalitionFloat(t).toString(), i && i()
                }, e.prototype.OnShowAnimEnd = function() {
                    this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonIdel")
                }, e.prototype.OnHideAnimEnd = function() {
                    this.awardAnim && this.awardAnim.stop(), s.default.DespawnAward(this.resource_type, this.node)
                }, a([h(cc.Animation)], e.prototype, "awardAnim", void 0), a([h(cc.Label)], e.prototype, "winText", void 0), a([h(String)], e.prototype, "resource_type", void 0), a([l], e)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility"
    }],
    BaseSkillScoreUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4ccedvDPuhFnLUUIeKtN8OK", "BaseSkillScoreUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/Utility"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.scoreText = null, e.Bet = .1, e.CountingAct = null, e.ShowingScore = 0, e.TargetScore = 0, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    var e = this;
                    this.Bet = t, this.SetScore(0, 0);
                    var n = this.getComponent(cc.Animation);
                    n && n.stop(), this.node.active = !0, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(.5), cc.callFunc(function() {
                        e.node.opacity = 255, n && n.play()
                    })))
                }, e.prototype.FadeOutAnim = function() {
                    var t = this;
                    this.scoreText && (this.CountingAct && (this.scoreText.node.stopAction(this.CountingAct), this.CountingAct = null), this.ShowingScore = this.TargetScore, this.scoreText.string = s.default.NumberformatBet(this.ShowingScore, this.Bet)), this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                        t.node.active = !1
                    })))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = 3), this.TargetScore = t, this.scoreText)
                        if (this.CountingAct && (this.scoreText.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                            var i = e / .05,
                                o = (t - this.ShowingScore) / i;
                            this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                                n.ShowingScore += o, n.scoreText.string = s.default.NumberformatBet(n.ShowingScore, n.Bet)
                            }), cc.delayTime(.05)), i), this.scoreText.node.runAction(this.CountingAct)
                        } else this.ShowingScore = t, this.scoreText.string = s.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, a([l(cc.Label)], e.prototype, "scoreText", void 0), a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/Utility": "Utility"
    }],
    BaseSkillTitleUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "132a3/UrklFvaaQWW0kPRXD", "BaseSkillTitleUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-100)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("TitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = 41), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = (t - this.ShowingScore) / e;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += i, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), e), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    void 0 === e && (e = !0), this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "TitleBigWin" : "TitleYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(-100))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    BaseSkill: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "d0b79jH4mpEZorzqh1QLADX", "BaseSkill");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.skillEnum = void 0;
        var c, l = t("../Common/PoolObj"),
            h = t("../Player/PlayerManager"),
            u = t("../Fish/FishManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Weapon/WeaponManager"),
            f = t("../../GameClient"),
            y = t("../Common/AudioManager"),
            m = t("../Award/SkillTitle"),
            g = t("../../../../../FishCommon/Script/CanvasHandler");
        (function(t) {
            t[t.None = -1] = "None", t[t.Lock = 30001] = "Lock", t[t.LockLv2 = 300012] = "LockLv2", t[t.LockLv3 = 300013] = "LockLv3", t[t.TigerWeapon = 36001] = "TigerWeapon", t[t.DragonWeapon = 37001] = "DragonWeapon", t[t.Freeze = 30011] = "Freeze", t[t.Summon = 30021] = "Summon", t[t.Laser = 30031] = "Laser", t[t.Bombing = 30041] = "Bombing", t[t.Rocket = 30051] = "Rocket", t[t.Wind = 10005] = "Wind", t[t.Flash = 10006] = "Flash", t[t.Electric = 10007] = "Electric", t[t.Drill = 10008] = "Drill", t[t.Bomb = 10009] = "Bomb", t[t.MultiBomb = 10010] = "MultiBomb", t[t.FlameStorm = 10011] = "FlameStorm", t[t.Wheel = 10012] = "Wheel", t[t.ThunderDragon = 10013] = "ThunderDragon", t[t.AwakenKingSpiderCrab = 10014] = "AwakenKingSpiderCrab", t[t.AwakenKingAnglerFish = 10015] = "AwakenKingAnglerFish", t[t.AwakenKingTaco = 10016] = "AwakenKingTaco", t[t.AwakenKingLacoste = 10017] = "AwakenKingLacoste", t[t.AwakenMermaid = 10020] = "AwakenMermaid", t[t.AwakenPhoenix = 10021] = "AwakenPhoenix", t[t.Hammer = 10022] = "Hammer", t[t.Buffalo = 10023] = "Buffalo", t[t.Patrick = 10024] = "Patrick", t[t.KingKong = 10025] = "KingKong", t[t.RockSkull = 10026] = "RockSkull", t[t.Vampire = 10027] = "Vampire", t[t.Buddha = 10028] = "Buddha", t[t.DragonTurtle = 10029] = "DragonTurtle", t[t.LionDance = 10030] = "LionDance", t[t.RedDragon = 10031] = "RedDragon", t[t.Submarine = 10032] = "Submarine", t[t.LuckyCat = 10033] = "LuckyCat", t[t.Clown = 10034] = "Clown", t[t.Pig = 10035] = "Pig", t[t.Tiger = 10036] = "Tiger"
        })(c = n.skillEnum || (n.skillEnum = {}));
        var S = cc._decorator,
            _ = S.ccclass,
            v = (S.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skillType = c.None, e.playerSeat = 0, e.playerBet = 1, e.currentWin = 0, e.currentOdds = 0, e.totalWin = 0, e.totalOdds = 0, e.dieFishList = null, e.winList = null, e.oddsList = null, e.limitTime = 60, e.limitTimer = 0, e.isMainPlayer = !1, e.isGaveAward = !1, e.isUnuse = !1, e.forceTime = 5, e.forceTimer = 0, e.isForceShowAward = !1, e.bgmID = null, e.SkillTitle = null, e.skillEffectList = null, e.shootRecording = !1, e
                }
                return o(e, t), e.prototype.update = function(t) {
                    this.LimitTimeUpdate(t)
                }, e.prototype.Init = function(t, e) {
                    void 0 === e && (e = null), this.SetSeat(t), this.InitProperties(e), this.UseSkill()
                }, e.prototype.SetSeat = function(t) {
                    if (this.playerSeat = t, this.isMainPlayer = h.PlayerManager.isMainSeat(t), this.isMainPlayer && f.default.Instance) switch (this.skillType) {
                        case c.Electric:
                        case c.Drill:
                        case c.MultiBomb:
                        case c.ThunderDragon:
                        case c.AwakenKingSpiderCrab:
                        case c.AwakenKingTaco:
                        case c.AwakenKingLacoste:
                        case c.AwakenMermaid:
                        case c.AwakenPhoenix:
                        case c.Hammer:
                        case c.Buffalo:
                        case c.KingKong:
                        case c.FlameStorm:
                        case c.Wheel:
                            f.default.Instance.RecordingSkillID = this.skillType, this.shootRecording = !0
                    }
                }, e.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), this.dieFishList = new Array, this.winList = new Array, this.oddsList = new Array, this.currentWin = 0, this.totalWin = 0, this.totalOdds = 0, this.limitTimer = this.limitTime, this.forceTimer = 0, this.isGaveAward = !1, this.isUnuse = !1, this.isForceShowAward = !1, this.isMainPlayer && f.default.FishMissionSystem.CallMinimizeLayout()
                }, e.prototype.UseSkill = function() {}, e.prototype.UnUseSkill = function() {
                    if (this.node && this.node.stopAllActions(), this.unscheduleAllCallbacks(), h.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, this.totalWin), this.isUnuse = !0, this.dieFishList) {
                        for (var t = 0; t < this.dieFishList.length; t++) this.dieFishList[t] && this.dieFishList[t].RemoveSelf();
                        this.dieFishList = null
                    }
                    this.winList = null, this.oddsList = null, null != this.bgmID && (y.default.Instance.Fade(this.bgmID, 1, 0), y.default.Instance.Fade(y.default.Instance.GetBGMID(), 0, 1)), this.bgmID = null, this.HideSkillTitle(), this.RemoveSkillEffect(), f.default.SkillSystem && f.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), p.default.DespawnSkill(this.skillType, this.node), this.shootRecording && f.default.Instance && f.default.Instance.RecordingSkillID == this.skillType && (f.default.Instance.RecordingSkillID = null), this.shootRecording = !1
                }, e.prototype.GetSkillType = function() {
                    return this.skillType
                }, e.prototype.SetSkillType = function(t) {
                    this.skillType = t
                }, e.prototype.IsGaveAward = function() {
                    return this.isGaveAward
                }, e.prototype.LimitTimeUpdate = function(t) {
                    if (!this.isUnuse && this.limitTimer > 0 && (this.limitTimer -= t, this.limitTimer <= 0 && (this.limitTimer = 0, this.isForceShowAward = !0, this.UnUseSkill(), this.isMainPlayer))) {
                        var e = "SkillTimeOut_" + this.skillType.toString();
                        f.default.Instance.CallOnError("C35", e)
                    }
                }, e.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitle(!1);
                        var t = p.default.SpawnTitle(this.skillType, this.isMainPlayer);
                        if (t) {
                            t.angle = g.default.isReverse ? 180 : 0;
                            var e = this.playerSeat > 1 ? new cc.Vec2(0, -180) : new cc.Vec2(0, 180),
                                n = d.default.WeaponPosition(this.playerSeat).add(e);
                            t.setPosition(n), t.opacity = 255, this.SkillTitle = t.getComponent(m.default), this.SkillTitle.SetBet(this.playerBet, this.isMainPlayer)
                        }
                    }
                }, e.prototype.ShowSkillScore = function(t) {
                    this.SkillTitle && !this.isUnuse && (this.isMainPlayer && 0 == t ? f.default.Instance.CallOnError("C44", "SkillZeroWin") : this.SkillTitle.ShowScore(t))
                }, e.prototype.SetSkillScore = function(t, e) {
                    void 0 === e && (e = .5), this.SkillTitle && this.SkillTitle.SetScore(t, e)
                }, e.prototype.HideSkillTitle = function(t) {
                    void 0 === t && (t = !0), this.SkillTitle && (this.SkillTitle.Hide(t), this.SkillTitle = null)
                }, e.prototype.AddSkillEffect = function(t, e, n, i) {
                    void 0 === n && (n = 0), void 0 === i && (i = null);
                    var o = p.default.SpawnEffect(t, this.isMainPlayer);
                    o && (o.setPosition(e), o.angle = n, o.scale = 1, this.skillEffectList || (this.skillEffectList = new Array), this.skillEffectList.push(o), i && i(o))
                }, e.prototype.RemoveSkillEffect = function() {
                    if (this.skillEffectList)
                        for (var t = 0; t < this.skillEffectList.length; t++) {
                            var e = null;
                            this.skillEffectList[t] && this.skillEffectList[t].active && (e = this.skillEffectList[t].getComponent(l.default)), e && e.Recycle()
                        }
                    this.skillEffectList = null
                }, e.prototype.delay = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(n) {
                                        setTimeout(function() {
                                            e.node && !e.isUnuse && n(null)
                                        }, t)
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.CameraShakeEffect = function(t, e) {
                    void 0 === t && (t = 1), void 0 === e && (e = 1), g.default.CameraShakeEffect(t, e)
                }, e.prototype.KillFishesAndShowAward = function(t) {
                    if (!this.dieFishList || this.dieFishList.length <= 0) return 0;
                    for (var e = 0, n = 0; n < this.dieFishList.length; n++) {
                        var i = this.dieFishList[n];
                        null != i && u.default.Instance.KillFish(this.playerSeat, i, this.winList[n], this.playerBet, !1, !0, function(t) {
                            e < t && (e = t)
                        }, t)
                    }
                    return this.dieFishList.length = 0, this.winList.length = 0, e
                }, e.prototype.PlayAwardSound = function() {
                    var t, e = this.playerBet <= 0 ? 0 : this.totalWin / this.playerBet;
                    t = e < 50 ? "25_flash_result1" : e < 100 ? "25_flash_result2" : e < 200 ? "25_flash_result3" : "25_flash_result", y.default.Instance.Play(t)
                }, e.prototype.RegisterTouchEvent = function() {
                    g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchEnd, this)
                }, e.prototype.CanelRegisterTouchEvent = function() {
                    g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchEnd, this)
                }, e.prototype.OnTouchStart = function() {}, e.prototype.OnTouchMove = function() {}, e.prototype.OnTouchEnd = function() {}, a([_], e)
            }(cc.Component));
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    BaseSpineFish: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "915321WvqlLrK4RjBCvs+N1", "BaseSpineFish");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("./BaseFish"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = c.executeInEditMode,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.autoInitColliders = !1, e.subColliderList = new Array, e.skeleton = null, e.boneData = new Array, e.colliderNode = null, e.summonPauseTime = .8, e.summonPauseTimer = 0, e.ice_group = [], e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skeleton = this.getComponentInChildren(sp.Skeleton), this.skeleton && (this.shapeNode = this.skeleton.node)
                }, e.prototype.onEnable = function() {
                    this.skeleton && (this.colliderNode = this.node.getChildByName("Colliders"))
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.updateColliderPosition(), this.isSummon && this.summonUpdate(e)
                }, e.prototype.Init = function(e, n, i, o) {
                    var a = this;
                    t.prototype.Init.call(this, e, n, i, o), this.canCollision = !1, this.scheduleOnce(function() {
                        a.canCollision = !0
                    }, .1), this.colliderNode && this.updateBoneData(), this.node.setPosition(cc.Vec2.ZERO), this.skeleton.setCompleteListener(function() {
                        a.FishOut()
                    }), this.onInit()
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.colliderNode && this.offsetPos.mag() > 0 && this.colliderNode.setPosition(cc.Vec2.ZERO)
                }, e.prototype.PlayDieAnim = function() {
                    var t = this;
                    this.skeleton.timeScale = 0, this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.05, 10, 10), cc.moveBy(.05, -10, -10)), 15), cc.callFunc(function() {
                        s.default.CameraShakeEffect(1.5, 3), t.CoinEffect(1.5 * t.shapeNode.scale)
                    }), cc.fadeOut(1), cc.callFunc(function() {
                        t.RemoveSelf()
                    })))
                }, e.prototype.getFishPos = function() {
                    if (this.mainCoillder) return this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO);
                    for (var t = this.subColliderList[0].node.convertToWorldSpace(cc.Vec2.ZERO), e = 1; e < this.subColliderList.length; e++) {
                        var n = this.subColliderList[e].node.convertToWorldSpace(cc.Vec2.ZERO);
                        cc.Vec2.ZERO.sub(n).mag() < cc.Vec2.ZERO.sub(t).mag() && (t = n)
                    }
                    return t
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.onInit = function() {}, e.prototype.onFishDie = function() {
                    this.PlayDieAnim()
                }, e.prototype.updateColliderPosition = function() {
                    if (this.skeleton && this.subColliderList.length && this.boneData.length)
                        for (var t = 0; t < this.subColliderList.length; t++) this.subColliderList[t].node.setPosition(this.boneData[t].worldX, this.boneData[t].worldY)
                }, e.prototype.updateBoneData = function() {
                    var t = this;
                    this.subColliderList = this.colliderNode.getComponentsInChildren(cc.CircleCollider), this.boneData.length = 0, this.subColliderList.forEach(function(e) {
                        var n = t.skeleton.findBone(e.node.name);
                        n && t.boneData.push(n)
                    })
                }, e.prototype.createColliders = function() {
                    var t = this;
                    this.skeleton = this.getComponentInChildren(sp.Skeleton), this.node.getComponent, this.skeleton ? this.colliderNode ? cc.warn("\u8acb\u522a\u6389\u539f\u672c\u7684Colliders\u518d\u9032\u884c\u5617\u8a66") : (this.colliderNode = new cc.Node("Colliders"), this.colliderNode.parent = this.node, this.skeleton._skeleton.bones.forEach(function(e) {
                        if (e.children.length > 0) {
                            var n = e.data.name,
                                i = e.worldX,
                                o = e.worldY,
                                a = new cc.Node(n).addComponent(cc.CircleCollider);
                            a.node.parent = t.colliderNode, a.node.setPosition(i, o), a.node.groupIndex = 2
                        }
                    })) : cc.warn("\u627e\u4e0d\u5230Spine Component")
                }, e.prototype.getPosArray = function(e) {
                    e || this.mainFishNode && this.offsetPos.mag() > 0 && (this.mainFishNode.setPosition(this.offsetPos), this.colliderNode.setPosition(this.offsetPos), this.summonPauseTimer = this.summonPauseTime, this.skeleton.paused = !0, this.mAnim && this.mAnim.pause(), this.mSeek && this.mSeek.Pause()), t.prototype.getPosArray.call(this)
                }, e.prototype.summonUpdate = function(t) {
                    this.summonPauseTimer <= 0 || (this.summonPauseTimer -= t, this.summonPauseTimer > 0 || (this.summonPauseTimer = 0, this.freeze_time > 0 || (this.skeleton.paused = !1, this.mAnim && this.mAnim.resume(), this.mSeek && this.mSeek.Resume())))
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([h(cc.Node)], e.prototype, "shapeNode", void 0), a([h(Boolean)], e.prototype, "autoInitColliders", void 0), a([h([cc.CircleCollider])], e.prototype, "subColliderList", void 0), a([h([cc.Node])], e.prototype, "ice_group", void 0), a([l, u], e)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "./BaseFish": "BaseFish"
    }],
    BaseTwisterFish: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a0439p7lc5GFIFWCPsBkmRZ", "BaseTwisterFish");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.windAnim = null, e
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0, this.switchWindEffect(!0)
                }, e.prototype.switchWindEffect = function(t) {
                    this.windAnim && (this.windAnim.node.active = t, t ? this.windAnim.play() : this.windAnim.stop())
                }, e.prototype.RemoveSelf = function() {
                    this.windAnim && this.windAnim.stop(), t.prototype.RemoveSelf.call(this)
                }, a([l(cc.Animation)], e.prototype, "windAnim", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "f6bcdqFDlJOzqclQKEYoG/s", "BaseWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./WeaponManager"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gunNode = null, e.PlatformAni = null, e.FortAni = null, e.RocketAni = null, e.isGunReady = !1, e.playerSeat = 0, e.autoAnim = !1, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.playerSeat = t, this.isGunReady = !1, this.node.angle = t < 2 ? 0 : 180, this.PlatformAni && this.PlatformAni.play(), this.FortAni && this.FortAni.play(), this.RocketAni && this.RocketAni.play(), this.ChangeGunAnim()
                }, e.prototype.ChangeGunAnim = function() {
                    var t = this;
                    this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        t.isGunReady = !0
                    })))
                }, e.prototype.SetGunRotateUsePos = function(t) {
                    var e = this.playerSeat,
                        n = s.default.WeaponPosition(this.playerSeat);
                    e < 2 ? t.y < n.y && (t.y = n.y) : t.y > n.y && (t.y = n.y);
                    var i = -cc.misc.radiansToDegrees(Math.atan2(t.x - n.x, t.y - n.y));
                    this.gunNode.angle = this.playerSeat > 1 ? i + 180 : i
                }, e.prototype.ShootFunction = function(t) {
                    this.SetGunRotateUsePos(t), this.FortAni && this.FortAni.play("Shoot")
                }, e.prototype.ShootState = function() {
                    return this.isGunReady ? 1 : 0
                }, e.prototype.UnloadWeapon = function() {
                    this.PlatformAni && this.PlatformAni.stop(), this.FortAni && this.FortAni.stop(), this.RocketAni && this.RocketAni.stop()
                }, e.prototype.PlayRocketShoot = function() {
                    this.RocketAni && this.RocketAni.play("RocketShoot")
                }, e.prototype.AutoState = function(t) {
                    t != this.autoAnim && (this.autoAnim = t, this.PlatformAni && this.PlatformAni.play(t ? "PlatformAuto" : "PlatformIdle"))
                }, e.prototype.GunAlpha = function(t) {
                    this.node.opacity = t ? 125 : 255
                }, a([l(cc.Node)], e.prototype, "gunNode", void 0), a([l(cc.Animation)], e.prototype, "PlatformAni", void 0), a([l(cc.Animation)], e.prototype, "FortAni", void 0), a([l(cc.Animation)], e.prototype, "RocketAni", void 0), a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "./WeaponManager": "WeaponManager"
    }],
    BattleShipWindow: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "0e40aoFMY5Dvbj1eZ+RQZUz", "BattleShipWindow");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Player/FishAvatarIcon"),
            r = t("../Common/AudioManager"),
            c = t("../Common/Utility"),
            l = t("./WindowCtrl"),
            h = t("../../GameClient"),
            u = t("../Common/MultiLangSystem"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Panels = [], e.Ship = [], e.avatarIcon = [], e.Score = [], e.Occupied = [], e.Mask = null, e.ScrollAnima = null, e.ClaimObjs = [], e.ClaimBtn = null, e.ClaimBtnFrame = [], e.BeenOccupyObjs = [], e.ChangePanelBtn = [], e.ProfileBlockingHintLabel = null, e.ProfileBlockingHint = null, e.panelName = ["Info", "SUBMARINE_R", "SUBMARINE_B", "SUBMARINE_G"], e.tempData = null, e.multilangString = null, e.isPlayingAnima = !1, e.mainPlayerID = null, e.step = 0, e.beenOccupy = !1, e.closeWindowEvent = null, e
                }
                return o(e, t), e.prototype.showWindow = function(e, n, i) {
                    void 0 === e && (e = null), void 0 === n && (n = null), this.multilangString = n, t.prototype.showWindow.call(this, e, n, i)
                }, e.prototype.update = function(t) {
                    this.beenOccupy || (this.step += t, this.step > 1 && (this.step = 0, this.updatePanel()))
                }, e.prototype.Init = function(t) {
                    t && (this.tempData = t, this.mainPlayerID = t.mainPlayerArkID, "BeenOccupy" != this.tempData.Panel ? (this.tempData.Panel = "Info", r.default.Instance.Play("Login_Login")) : r.default.Instance.Play("Lobby_unfold"));
                    var e = "";
                    switch (this.beenOccupy = !1, this.tempData.Panel) {
                        case "Info":
                            this.Panels[0].active = !0, this.Panels[1].active = !1;
                            for (var n = 0; n < 3; n++) this.Ship[n].setAnimation(0, "Move", !0);
                            this.Ship[3].clearTrack(0);
                            break;
                        case "SUBMARINE_R":
                            this.Panels[0].active = !1, this.Panels[1].active = !0, e = "RED", this.LabelList[8].string = this.multilangString[1];
                            break;
                        case "SUBMARINE_G":
                            this.Panels[0].active = !1, this.Panels[1].active = !0, e = "GREEN", this.LabelList[8].string = this.multilangString[2];
                            break;
                        case "SUBMARINE_B":
                            this.Panels[0].active = !1, this.Panels[1].active = !0, e = "BLUE", this.LabelList[8].string = this.multilangString[3];
                            break;
                        case "BeenOccupy":
                            switch (this.Panels[0].active = !1, this.Panels[1].active = !0, t.SubmarineName) {
                                case "SUBMARINE_R":
                                    e = "RED", this.LabelList[8].string = this.multilangString[1];
                                    break;
                                case "SUBMARINE_G":
                                    e = "GREEN", this.LabelList[8].string = this.multilangString[2];
                                    break;
                                case "SUBMARINE_B":
                                    e = "BLUE", this.LabelList[8].string = this.multilangString[3]
                            }
                            this.beenOccupy = !0
                    }
                    if ("" != e && (this.Ship[3].defaultSkin = e, this.Ship[3].setSkin(e)), this.Panels[1].active) {
                        for (n = 0; n < 3; n++) this.Ship[n].clearTrack(0);
                        this.Ship[3].setAnimation(0, "Move", !0)
                    }
                    this.beenOccupy ? this.beenOccupyPanel(t) : this.updatePanel(), this.step = 0, this.Mask.enabled = !0, this.ScrollAnima.play("ScrollOpen")
                }, e.prototype.updatePanel = function() {
                    var t = this;
                    if (this.Panels[0].active && Object.keys(this.tempData).forEach(function(e) {
                            var n = null;
                            switch (e) {
                                case "SUBMARINE_R":
                                    n = 0;
                                    break;
                                case "SUBMARINE_G":
                                    n = 1;
                                    break;
                                case "SUBMARINE_B":
                                    n = 2
                            }
                            null != n && (t.tempData[e].nick_name && "" != t.tempData[e].nick_name && t.avatarIcon[n].SetNickname(t.tempData[e].nick_name), t.avatarIcon[n].playerId = t.tempData[e].ark_id, t.avatarIcon[n].SetFrameByID(t.tempData[e].equip_avatar_frame), t.avatarIcon[n].SetFaceByID(t.tempData[e].equip_avatar), t.Score[n].string = c.default.Numberformat(Math.floor(t.tempData[e].total_get_score + t.tempData[e].accumulate_score), 0, !1), t.Occupied[n].string = t.multilangString[5] + t.parseToShowTime(Date.now() / 1e3 - t.tempData[e].occupy_ts))
                        }), this.Panels[1].active) {
                        var e = this.tempData.Panel;
                        if (this.tempData[e]) {
                            this.tempData[e].nick_name && "" != this.tempData[e].nick_name ? this.avatarIcon[3].SetNickname(this.tempData[e].nick_name) : this.avatarIcon[3].SetNickname("Unoccupied"), this.avatarIcon[3].playerId = this.tempData[e].ark_id, this.avatarIcon[3].SetFrameByID(this.tempData[e].equip_avatar_frame), this.avatarIcon[3].SetFaceByID(this.tempData[e].equip_avatar), this.Score[3].string = c.default.Numberformat(Math.floor(this.tempData[e].total_get_score + this.tempData[e].accumulate_score), 0, !1), this.Score[4].string = c.default.Numberformat(Math.floor(this.tempData[e].accumulate_score), 0, !1), this.Occupied[3].string = this.parseToShowTime(Date.now() / 1e3 - this.tempData[e].occupy_ts);
                            var n = this.tempData[e].ark_id == this.mainPlayerID;
                            this.ClaimObjs.forEach(function(t) {
                                t.active = n
                            }), n && (this.ClaimBtn.getComponent(cc.Sprite).spriteFrame = this.ClaimBtnFrame[Math.floor(this.tempData[e].accumulate_score) > 0 ? 0 : 1])
                        }
                    }
                    this.BeenOccupyObjs.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.onClickShipInfo = function(t, e) {
                    this.isPlayingAnima || -1 == this.panelName.indexOf(e) || (this.tempData.Panel = e, "Info" == e ? r.default.Instance.Play("Beep_CloseWindow_v02") : r.default.Instance.Play("Lobby_seemore"), this.ChangePanel())
                }, e.prototype.onClickNextPage = function() {
                    if (!this.isPlayingAnima) {
                        r.default.Instance.Play("Lobby_seemore");
                        var t = this.panelName.indexOf(this.tempData.Panel); - 1 != t && ((t += 1) >= this.panelName.length && (t = 0), this.tempData.Panel = this.panelName[t], this.ChangePanel())
                    }
                }, e.prototype.onClickFrontPage = function() {
                    if (!this.isPlayingAnima) {
                        r.default.Instance.Play("Lobby_seemore");
                        var t = this.panelName.indexOf(this.tempData.Panel); - 1 != t && ((t -= 1) < 0 && (t = this.panelName.length - 1), this.tempData.Panel = this.panelName[t], this.ChangePanel())
                    }
                }, e.prototype.ChangePanel = function() {
                    this.isPlayingAnima = !0, this.Mask.enabled = !0, this.ScrollAnima.play("ScrollClose")
                }, e.prototype.closeWindow = function() {
                    r.default.Instance.Play("Beep_CloseWindow_v02"), this.closeWindowEvent && (this.closeWindowEvent(), this.closeWindowEvent = null), this.tempData = null, t.prototype.closeWindow.call(this)
                }, e.prototype.scrollOpenCallBack = function() {
                    var t = this;
                    this.isPlayingAnima = !1, this.Mask.enabled = !1, this.ChangePanelBtn.forEach(function(e) {
                        e.active = !t.beenOccupy
                    })
                }, e.prototype.scrollCloseCallBack = function() {
                    this.Init()
                }, e.prototype.onClaimBtnClick = function() {
                    if (null != this.BtnEvent[0] && Math.floor(this.tempData[this.tempData.Panel].accumulate_score) > 0) {
                        r.default.Instance.Play("Lobby_click1");
                        var t = {};
                        t.submarine_name = this.tempData.Panel, this.BtnEvent[0](t, this.onClaimEventCallback.bind(this))
                    }
                }, e.prototype.onClaimEventCallback = function(t, e) {
                    null != this.BtnEvent[1] && this.BtnEvent[1](e.data, this.ClaimBtn.node.getPosition())
                }, e.prototype.beenOccupyPanel = function(t) {
                    var e = this;
                    t.OldOccupyProfileData.nick_name && "" != t.OldOccupyProfileData.nick_name && this.avatarIcon[3].SetNickname(t.OldOccupyProfileData.nick_name), this.avatarIcon[3].SetFrameByID(t.OldOccupyProfileData.equip_avatar_frame), this.avatarIcon[3].SetFaceByID(t.OldOccupyProfileData.equip_avatar), this.Score[3].string = c.default.Numberformat(Math.floor(t.TotalWinAmount), 0, !1), this.Score[4].string = c.default.Numberformat(Math.floor(t.LastGetMoney), 0, !1), this.Occupied[3].string = this.parseToShowTime(t.OccupyTotalTime), this.ClaimObjs.forEach(function(t) {
                        t.active = !0
                    }), this.ClaimObjs[2].active = !1, this.ClaimObjs[5].active = !1, this.BeenOccupyObjs.forEach(function(t) {
                        t.active = !0
                    }), this.closeWindowEvent = function() {
                        if (null != e.BtnEvent[1]) {
                            var n = {};
                            n.collect_amount = t.LastGetMoney, n.winnings = t.OldOccupyWinning, e.BtnEvent[1](n, e.ClaimBtn.node.getPosition())
                        }
                    }
                }, e.prototype.parseToShowTime = function(t) {
                    var e = Math.floor(t / 86400),
                        n = Math.floor(t % 86400 / 3600),
                        i = Math.floor(t % 3600 / 60),
                        o = Math.floor(t % 60);
                    return (e > 0 ? e + ":" : "") + (n > 9 ? n : "0" + n) + ":" + (i > 9 ? i : "0" + i) + ":" + (o > 9 ? o : "0" + o)
                }, e.prototype.onClickAvatar = function(t, e) {
                    var n = "" == e || null == e ? this.tempData.Panel : e,
                        i = this.tempData[n].ark_id;
                    if ("" != i && null != i) {
                        var o, a = i == this.mainPlayerID;
                        o = "Info" == this.tempData.Panel ? a ? h.OpenMainPlayerProfile.InFishBattleShipPanelInfo : h.OpenOtherPlayerProfile.InFishBattleShipPanelInfo : a ? h.OpenMainPlayerProfile.InFishBattleShipPanelSingle : h.OpenOtherPlayerProfile.InFishBattleShipPanelSingle, h.default.FishUIMgr.ClickPlayerProfile(i, a, o, this.ShowProfileBlockingHint.bind(this))
                    }
                }, e.prototype.ShowProfileBlockingHint = function(t) {
                    void 0 === t && (t = !0), "" == this.ProfileBlockingHintLabel.string && (this.ProfileBlockingHintLabel.string = u.default.getMultiLangText("ProfileBlockHint")), t ? (this.ProfileBlockingHint.active || (this.ProfileBlockingHint.active = !0, this.ProfileBlockingHint.opacity = 0), this.ProfileBlockingHint.stopAllActions(), this.ProfileBlockingHint.runAction(cc.sequence(cc.fadeTo(.25, 255), cc.delayTime(3), cc.fadeTo(.5, 0)))) : (this.ProfileBlockingHint.stopAllActions(), this.ProfileBlockingHint.runAction(cc.fadeTo(.2, 0)))
                }, a([f([cc.Node])], e.prototype, "Panels", void 0), a([f([sp.Skeleton])], e.prototype, "Ship", void 0), a([f([s.default])], e.prototype, "avatarIcon", void 0), a([f([cc.Label])], e.prototype, "Score", void 0), a([f([cc.Label])], e.prototype, "Occupied", void 0), a([f(cc.Mask)], e.prototype, "Mask", void 0), a([f(cc.Animation)], e.prototype, "ScrollAnima", void 0), a([f([cc.Node])], e.prototype, "ClaimObjs", void 0), a([f(cc.Button)], e.prototype, "ClaimBtn", void 0), a([f([cc.SpriteFrame])], e.prototype, "ClaimBtnFrame", void 0), a([f([cc.Node])], e.prototype, "BeenOccupyObjs", void 0), a([f([cc.Node])], e.prototype, "ChangePanelBtn", void 0), a([f(cc.Label)], e.prototype, "ProfileBlockingHintLabel", void 0), a([f(cc.Node)], e.prototype, "ProfileBlockingHint", void 0), a([d], e)
            }(l.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/Utility": "Utility",
        "../Player/FishAvatarIcon": "FishAvatarIcon",
        "./WindowCtrl": "WindowCtrl"
    }],
    BetController: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "839b4GJiv5MOpdcSOduOtgd", "BetController");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./WeaponManager"),
            r = t("../Common/Utility"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.betLabel = null, e.GoldenFont = null, e.Board = null, e.MainPlayerBoard = null, e.MaxBetAnim = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.node.setPosition(s.default.WeaponPosition(t)), this.node.angle = t > 1 ? 180 : 0, this.betLabel.node.angle = t > 1 ? 180 : 0, this.node.opacity = 125
                }, e.prototype.PlayerEnter = function(t) {
                    this.node.opacity = 255, this.UpdateBet(t.bet_value), t.isMain && (this.betLabel.font = this.GoldenFont, this.Board.spriteFrame = this.MainPlayerBoard)
                }, e.prototype.PlayerLeave = function() {
                    this.UpdateBet(0), this.node.opacity = 125
                }, e.prototype.UpdateBet = function(t, e) {
                    void 0 === e && (e = !1), this.betLabel.string = t > 0 ? r.default.NumberformatBet(t, t) : "0", e && this.MaxBetAnim.play()
                }, a([h(cc.Label)], e.prototype, "betLabel", void 0), a([h(cc.Font)], e.prototype, "GoldenFont", void 0), a([h(cc.Sprite)], e.prototype, "Board", void 0), a([h(cc.SpriteFrame)], e.prototype, "MainPlayerBoard", void 0), a([h(cc.Animation)], e.prototype, "MaxBetAnim", void 0), a([l], e)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/Utility": "Utility",
        "./WeaponManager": "WeaponManager"
    }],
    BtnSprite: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4f219o/AD1KyYKaKs8d8Mme", "BtnSprite");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Btn = null, e.BtnFrame = [], e.Icon = null, e.IconFrame = [], e
                }
                return o(e, t), e.prototype.ChangeState = function(t) {
                    this.Btn && (this.Btn.spriteFrame = t ? this.BtnFrame[0] : this.BtnFrame[1]), this.Icon && (this.Icon.spriteFrame = t ? this.IconFrame[0] : this.IconFrame[1])
                }, a([c(cc.Sprite)], e.prototype, "Btn", void 0), a([c([cc.SpriteFrame])], e.prototype, "BtnFrame", void 0), a([c(cc.Sprite)], e.prototype, "Icon", void 0), a([c([cc.SpriteFrame])], e.prototype, "IconFrame", void 0), a([r], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    BuddhaOdds: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "d95c8JSzVtEh7vuIP3Eveti", "BuddhaOdds");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/PoolObj"),
            c = t("../Fish/BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.targetOdds = 0, e.nowOdds = 0, e.buddha = null, e.fishID = null, e.step = 0, e.inSkill = !0, e
                }
                return o(e, t), e.prototype.update = function(t) {
                    if (!this.inSkill) {
                        if (this.buddha && this.buddha.AliveStatus == c.FishState.ALIVE) {
                            var e = this.node.parent.convertToNodeSpaceAR(this.buddha.getOddsPos);
                            this.node.setPosition(e)
                        } else this.node.setPosition(cc.Vec2.ONE.mul(5e3));
                        this.step += t, this.step > .1 && this.targetOdds > this.nowOdds && (this.nowOdds++, this.label.string = "X" + this.nowOdds.toString(), this.changeLevel())
                    }
                }, e.prototype.bindFish = function(t) {
                    var e = this;
                    this.buddha && this.buddha.ID == this.fishID && this.buddha.FishFadeOut(.5, 4), this.buddha = t, this.nowOdds = this.targetOdds, this.changeLevel(), this.label.string = "X" + this.nowOdds.toString(), this.fishID = t.ID, this.inSkill = !1, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    }))), this.node.angle = s.default.isReverse ? 180 : 0
                }, e.prototype.setTargetNumber = function(t) {
                    this.targetOdds = t
                }, e.prototype.SkillInit = function(t) {
                    var e = this;
                    this.inSkill = !0, this.buddha = null, this.fishID = null, this.label.string = "X" + t.toString(), this.node.opacity = 0, this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    this.node.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        t.node.opacity = 0
                    })))
                }, e.prototype.changeLevel = function() {
                    this.buddha && (this.nowOdds >= 300 ? this.buddha.changeLevel(3) : this.nowOdds >= 200 ? this.buddha.changeLevel(2) : this.buddha.changeLevel(1))
                }, a([u(cc.Label)], e.prototype, "label", void 0), a([h], e)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Fish/BaseFish": "BaseFish"
    }],
    BuffaloBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "9e21bwgIWBKepgIavh+FUb+", "BuffaloBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.ani.stop("Boss_Enter"), this.ani.playAdditive("Boss_Enter"), this.bossEnter = !0)
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    BuffaloUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "9411edhJXpHfrtZ013Mw5ds", "BuffaloUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-100)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("BuffaloTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "BuffaloBigWin" : "BuffaloYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    CHESHIRE_CAT: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "81f3eQiaAxNVoo4SekkQLsx", "CHESHIRE_CAT");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/AudioManager"),
            l = t("./BaseFish"),
            h = cc._decorator.ccclass,
            u = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode.opacity = 255
                }, e.prototype.FishDie = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.CoinEffect(1), c.default.Instance.Play("MiniGameCat_Catch"), this.PlayDieAnim(), t.prototype.FishDie.call(this, e), [4, this.delay(5e3)];
                                case 1:
                                    return n.sent(), this.RemoveSelf(), [2]
                            }
                        })
                    })
                }, a([h], e)
            }(l.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    CLOWN: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "71328avKQBKIoI9WISFI/3l", "CLOWN");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ChangeSmoke = null, e.OddsDummy = null, e.ice_group = [], e.defaultAliveTime = 120, e.Level = 1, e.tempLevel = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    for (t.prototype.Init.call(this, e, n), this.o < 80 && (this.o += 80); this.o > 100 && this.o < 180;) this.o -= 40;
                    for (this.o > 280 && (this.o -= 80); this.o >= 180 && this.o < 260;) this.o += 40;
                    this.y = 0, this.isFeature = !0, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "cw_LV1", !0), this.Level = 1, this.tempLevel = null, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.schedule(this.randomVoice, 7)
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? 1 : -1, this.node.angle = -1 == this.node.scaleY ? 0 : 180, this.ChangeSmoke.angle = -1 == this.node.scaleY ? 90 : 270) : (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? -1 : 1, this.node.angle = -1 == this.node.scaleY ? 180 : 0, this.ChangeSmoke.angle = -1 == this.node.scaleY ? 90 : 270)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.unschedule(this.randomVoice), l.default.Instance.Play("clown_catch_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 30), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(3), l.default.Instance.Play("41_catch_bigfish")
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, e.prototype.FishOut = function(e) {
                    this.unschedule(this.randomVoice), t.prototype.FishOut.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.changeLevel = function(t) {
                    if (this.skeleton.paused) this.tempLevel = t;
                    else if (t != this.Level) switch (this.ChangeSmoke.resetSystem(), this.skeleton.setAnimation(0, "cw_LV" + t.toString(), !0), this.Level = t, t) {
                        case 2:
                            l.default.Instance.Play("voice_clown_up_01");
                            break;
                        case 3:
                            l.default.Instance.Play("voice_clown_up_02")
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), null != this.tempLevel && (this.changeLevel(this.tempLevel), this.tempLevel = null)
                }, e.prototype.randomVoice = function() {
                    var t = 1 + Math.floor(6 * Math.random());
                    t > 4 ? l.default.Instance.Play("clown_move_0" + this.Level.toString()) : l.default.Instance.Play("voice_clown_move_0" + t.toString())
                }, Object.defineProperty(e.prototype, "getOddsPos", {
                    get: function() {
                        return this.node.convertToWorldSpaceAR(this.OddsDummy.getPosition())
                    },
                    enumerable: !1,
                    configurable: !0
                }), a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.ParticleSystem)], e.prototype, "ChangeSmoke", void 0), a([d(cc.Node)], e.prototype, "OddsDummy", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    ClownOdds: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "eac36chgRFJwLTLBInBj/PH", "ClownOdds");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Fish/BaseFish"),
            c = t("../Common/PoolObj"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.targetOdds = 0, e.nowOdds = 0, e.tempLevel = 1, e.clown = null, e.fishID = null, e.step = 0, e.inSkill = !0, e
                }
                return o(e, t), e.prototype.update = function(t) {
                    if (!this.inSkill) {
                        if (this.clown && this.clown.AliveStatus == r.FishState.ALIVE) {
                            var e = this.node.parent.convertToNodeSpaceAR(this.clown.getOddsPos);
                            this.node.setPosition(e)
                        } else this.node.setPosition(cc.Vec2.ONE.mul(5e3));
                        this.step += t, this.step > .1 && this.targetOdds > this.nowOdds && (this.nowOdds++, this.label.string = "X" + this.nowOdds.toString(), this.changeLevel())
                    }
                }, e.prototype.bindFish = function(t) {
                    var e = this;
                    this.clown && this.clown.ID == this.fishID && this.clown.FishFadeOut(.5, 4), this.clown = t, this.clown && this.clown.node.active && (this.nowOdds = this.targetOdds, this.tempLevel = 0, this.changeLevel(), this.label.string = "X" + this.nowOdds.toString(), this.fishID = t.ID, this.inSkill = !1, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    }))), this.node.angle = s.default.isReverse ? 180 : 0)
                }, e.prototype.setTargetNumber = function(t) {
                    this.targetOdds = t
                }, e.prototype.SkillInit = function(t) {
                    var e = this;
                    this.inSkill = !0, this.clown = null, this.fishID = null, this.label.string = "X" + t.toString(), this.node.opacity = 0, this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    this.node.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        t.node.opacity = 0
                    })))
                }, e.prototype.changeLevel = function() {
                    if (this.clown)
                        if (this.nowOdds >= 300) {
                            if (3 == this.tempLevel) return;
                            this.clown.changeLevel(3), this.ani.play("Odds_LV3"), this.tempLevel = 3
                        } else if (this.nowOdds >= 200) {
                        if (2 == this.tempLevel) return;
                        this.clown.changeLevel(2), this.ani.play("Odds_LV2"), this.tempLevel = 2
                    } else {
                        if (1 == this.tempLevel) return;
                        this.clown.changeLevel(1), this.ani.play("Odds_LV1"), this.tempLevel = 1
                    }
                }, a([u(cc.Label)], e.prototype, "label", void 0), a([h], e)
            }(c.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Fish/BaseFish": "BaseFish"
    }],
    ColorAssembler: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ebe03/PhFlBeIqv2YjdQ7jX", "ColorAssembler");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = s.executeInEditMode,
            h = s.requireComponent,
            u = s.menu,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._colors = [], e.lights = [], e.state = 0, e.count = 0, e
                }
                return o(e, t), Object.defineProperty(e.prototype, "colors", {
                    get: function() {
                        return this._colors
                    },
                    set: function(t) {
                        this._colors = t, this._updateColors()
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.Init = function() {
                    this._updateColors()
                }, e.prototype.startChange = function() {
                    var t = this;
                    this.schedule(function() {
                        t.count += 5, t.count > 255 && (t.count = 0, t.state += 2);
                        for (var e = 0; e < 4; e++) switch ((e + t.state) % 4) {
                            case 0:
                            case 3:
                                t._colors[e].setR(t.count), t._colors[e].setB(255 - t.count);
                                break;
                            case 1:
                            case 2:
                                t._colors[e].setB(t.count), t._colors[e].setR(255 - t.count)
                        }
                        for (t._updateColors(), e = 0; e < 4; e++) t.lights[e].color = t._colors[e], t.lights[e].opacity = t._colors[e].a
                    }, .016667, cc.macro.REPEAT_FOREVER)
                }, e.prototype.stopChange = function() {
                    this.unscheduleAllCallbacks();
                    for (var t = 0; t < 4; t++) this.lights[t].opacity = 0
                }, e.prototype.onEnable = function() {
                    cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
                    for (var t = 0; t < 4; t++) this.lights[t].opacity = 200
                }, e.prototype.onDisable = function() {
                    cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this), this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR, this.unscheduleAllCallbacks()
                }, e.prototype._updateColors = function() {
                    var t = this.getComponent(cc.RenderComponent);
                    if (t) {
                        var e = t._assembler;
                        if (e instanceof cc.Assembler2D) {
                            var n = e._renderData.uintVDatas[0];
                            if (n)
                                for (var i = this.node.color, o = e.floatsPerVert, a = 0, s = e.colorOffset, r = n.length; s < r; s += o) n[s] = (this.colors[a++] || i)._val
                        }
                    }
                }, a([c], e.prototype, "_colors", void 0), a([c({
                    type: [cc.Color]
                })], e.prototype, "colors", null), a([c([cc.Node])], e.prototype, "lights", void 0), a([r, l, h(cc.RenderComponent), u("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")], e)
            }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {}],
    DRAGON_TURTLE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "e3d44REcVZERruns1fi1ivE", "DRAGON_TURTLE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("../Common/EnumFilter"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ice_group = [], e.SpinHit = !1, e.spinTime = 0, e.moving = !1, e.moveVec = null, e.winSide = null, e.rotateSound = null, e.timerPause = !1, e.SpineEvent = function(t, n) {
                        if (n) switch (n.data.name) {
                            case "step":
                            case "kick":
                                l.default.Instance.Play("drill_hit"), c.default.CameraShakeEffect(.25, 4);
                                break;
                            case "move":
                                e.moving = !0;
                                break;
                            case "stop":
                                e.moving = !1
                        }
                    }, e
                }
                return o(e, t), e.prototype.InitNormalBehavior = function(t, e) {
                    var n = this;
                    switch (void 0 === e && (e = 0), SS.Common.GameEnvironment.CurrentGameNow) {
                        case h.FishGame.TD:
                            this.isFeature = !1;
                            break;
                        default:
                            this.isFeature = !0
                    }
                    this.syncTime = e, this.canCollision = !1, this.behaviorType = u.BEHAVIOR_TYPE.SPINE, this.skeleton.timeScale = 1, this.skeleton.findAnimation("rotate") ? this.skeleton.setAnimation(0, "rotate", !0) : this.skeleton.setAnimation(0, "SPIN", !0), this.moveToScreenOut(), this.winSide || (this.winSide = cc.v2(.5 * c.default.WinSize.width, .5 * c.default.WinSize.height)), this.moveVec = this.targetPos.sub(this.startPos), this.moveVec.normalizeSelf(), this.node.setPosition(this.startPos), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x)), this.moveSpeed = 1e3, this.scheduleOnce(function() {
                        n.SpinHit = !0
                    }, 1), this.moving = !0, this.spinTime = 5, this.rotateSound = l.default.Instance.Play("DragonTurtle_In", 1, !0), this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.update = function(t) {
                    if (this.aliveStatus == u.FishState.ALIVE) {
                        if (this.freeze_time > 0) return this.freeze_time -= t, void(this.freeze_time <= 0 && this.ResumeBehavior());
                        if (!this.timerPause)
                            if (this.aliveTime -= t, this.aliveTime <= 0 && this.FishFadeOut(1, u.FishOutType.ALIVE_TIME_OUT), this.spinTime > 0 && (this.spinTime -= t, this.spinTime <= 0 && this.SpinEnd()), this.moving && (this.node.setPosition(this.node.getPosition().add(this.moveVec.mul(this.moveSpeed * t))), this.syncTime > 0 && (this.syncTime -= t, this.node.setPosition(this.node.getPosition().add(this.moveVec.mul(this.moveSpeed * t))), this.spinTime > 0 && (this.spinTime -= t, this.spinTime <= 0 && this.SpinEnd()))), this.SpinHit) {
                                var e = !1;
                                this.node.position.x > this.winSide.x ? (this.moveVec.x = -this.moveVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.position.y)), e = !0) : this.node.position.x < -this.winSide.x && (this.moveVec.x = -this.moveVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.position.y)), e = !0), this.node.position.y > this.winSide.y ? (this.moveVec.y = -this.moveVec.y, this.node.setPosition(new cc.Vec2(this.node.position.x, this.winSide.y)), e = !0) : this.node.position.y < -this.winSide.y && (this.moveVec.y = -this.moveVec.y, this.node.setPosition(new cc.Vec2(this.node.position.x, -this.winSide.y)), e = !0), e && (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x)), l.default.Instance.Play("drill_bound"), c.default.CameraShakeEffect(.25, 4))
                            } else {
                                if (this.spinTime > 0) return;
                                this.CheckInScreen(), this.isInScreen || this.FishOut()
                            }
                    }
                }, e.prototype.SpinEnd = function() {
                    var t = this;
                    this.node.position.x > this.winSide.x - 20 ? this.node.setPosition(cc.v2(this.winSide.x - 20, this.node.position.y)) : this.node.position.x < 20 - this.winSide.x && this.node.setPosition(cc.v2(20 - this.winSide.x, this.node.position.y)), this.node.position.y > this.winSide.y - 20 ? this.node.setPosition(cc.v2(this.node.position.x, this.winSide.y - 20)) : this.node.position.y < 20 - this.winSide.y && this.node.setPosition(cc.v2(this.node.position.x, 20 - this.winSide.y)), this.SpinHit = !1, this.moving = !1, this.moveVec = cc.Vec2.ZERO.sub(this.node.getPosition()), this.moveVec.normalizeSelf();
                    var e = -cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x));
                    this.moveSpeed = 120, this.node.runAction(cc.sequence(cc.rotateTo(.5, e), cc.callFunc(function() {
                        null != t.rotateSound && (l.default.Instance.Stop(t.rotateSound), t.rotateSound = null), l.default.Instance.Play("drill_bomb"), t.skeleton.findAnimation("come_in") ? t.skeleton.setAnimation(0, "come_in", !1) : t.skeleton.setAnimation(0, "SPITFIRE", !1), t.skeleton.setCompleteListener(function() {
                            t.skeleton.setCompleteListener(null), t.skeleton.setAnimation(0, "SWIM", !0), t.skeleton.setEventListener(t.SpineEvent), t.AliveStatus = u.FishState.ALIVE, t.canCollision = !0
                        })
                    })))
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            switch (this.skeleton.setEventListener(null), this.moving = !1, this.AliveStatus = u.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), null != this.rotateSound && l.default.Instance.Stop(this.rotateSound), this.Event_FishLeave && this.Event_FishLeave(this, 6), this.ice_group.forEach(function(t) {
                                t.active = !1
                            }), SS.Common.GameEnvironment.CurrentGameNow) {
                                case h.FishGame.TD:
                                    this.skeleton.timeScale = 0, cc.tween(this.node).repeat(15, cc.tween(this.node).by(.05, {
                                        position: cc.v3(10, 10)
                                    }).by(.05, {
                                        position: cc.v3(-10, -10)
                                    })).delay(.5).call(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect()
                                    }).to(.5, {
                                        opacity: 0
                                    }).call(function() {
                                        t.RemoveSelf()
                                    }).start()
                            }
                            return [2]
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.moving = !1, this.winSide = null, this.moveVec = null, null != this.rotateSound && l.default.Instance.Stop(this.rotateSound), t.prototype.RemoveSelf.call(this)
                }, e.prototype.FishRunOut = function() {
                    this.moveSpeed = 1400
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.PlayClip = function(t, e, n) {
                    var i = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, t, e), n && this.skeleton.setCompleteListener(function() {
                        i.skeleton.setCompleteListener(null), n()
                    })
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), n && n(), o.skeleton.timeScale = 1, o.skeleton.setAnimation(0, t, e), i && o.skeleton.setCompleteListener(function() {
                            o.skeleton.setCompleteListener(null), i()
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    this.canCollision && (t.prototype.PauseBehavior.call(this, e, n), this.skeleton.timeScale = 0, this.timerPause = !0, this.ice_group.forEach(function(t) {
                        t.active = !0
                    }))
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.timeScale = 1, this.timerPause = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.InitSummonBehavior = function() {
                    t.prototype.InitSummonBehavior.call(this), this.winSide || (this.winSide = cc.v2(.5 * c.default.WinSize.width, .5 * c.default.WinSize.height)), this.skeleton.timeScale = 1, this.SpinEnd()
                }, a([f(sp.Skeleton)], e.prototype, "skeleton", void 0), a([f([cc.Node])], e.prototype, "ice_group", void 0), a([d], e)
            }(u.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "./BaseFish": "BaseFish"
    }],
    DebugManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2847bQm0L9Dd5/c2KTHf107", "DebugManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../GameClient"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.debug = !1, e.cheatPowerLabel = null, e.cheatPower = 0, e.rocketLabel = null, e.rocketPower = 0, e.FullScreenLabel = null, e.enableFullScreen = !0, e.FlameStormLabel = null, e.FlameStormPower = 0, e.AwakeLabel = null, e.AwakeType = 0, e.FPSLabel = null, e.MeunButton = null, e.DebugPanel = null, e.last_fish_count = 0, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    if (n.instance = this, window.addEventListener("orientationchange", function() {
                            180 == window.orientation || 0 == window.orientation ? (this.enableFullScreen = !1, cc.screen.exitFullScreen(), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: Off") : 90 != window.orientation && -90 != window.orientation || (this.enableFullScreen = !0)
                        }.bind(this)), this.debug) {
                        var t = cc.director.getCollisionManager();
                        t.enabled = !0, t.enabledDebugDraw = !0
                    }
                }, e.prototype.OnClickCheatPower = function() {
                    switch (this.cheatPower) {
                        case 0:
                            this.cheatPower = 1, this.cheatPowerLabel.string = "\u77ac\u7344\u6bba:On";
                            break;
                        case 1:
                            this.cheatPower = 2, this.cheatPowerLabel.string = "\u5fc5\u4e0d\u77ac\u7344\u6bba";
                            break;
                        case 2:
                            this.cheatPower = 0, this.cheatPowerLabel.string = "\u77ac\u7344\u6bba:Off"
                    }
                    s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower)
                }, e.prototype.OnFullScreen = function() {
                    this.enableFullScreen && (cc.screen.fullScreen() ? (cc.screen.exitFullScreen(document.getElementById("GameCanvas")), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: Off") : (cc.screen.init(), cc.screen.requestFullScreen(document.getElementById("GameCanvas"), function() {}), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: On"))
                }, e.prototype.OnRocketCheat = function() {
                    this.rocketPower = 0 == this.rocketPower ? 1 : 0, null != s.default.GameSystem && (s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower), this.rocketLabel.string = 0 == this.rocketPower ? "\u706b\u7bad\u70ae:Off" : "\u706b\u7bad\u70ae:On")
                }, e.prototype.OnFlameStormCheat = function() {
                    this.FlameStormPower = 0 == this.FlameStormPower ? 1 : 0, null != s.default.GameSystem && (s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower, this.FlameStormPower), this.FlameStormLabel.string = 0 == this.FlameStormPower ? "\u70c8\u98a8\u66b4:Off" : "\u70c8\u98a8\u66b4:On")
                }, e.prototype.OnAwakeCheat = function() {
                    switch (this.AwakeType) {
                        case 0:
                            this.AwakeType = 1, this.AwakeLabel.string = "\u5fc5\u89ba\u9192:On";
                            break;
                        case 1:
                            this.AwakeType = 2, this.AwakeLabel.string = "\u5fc5\u4e0d\u89ba\u9192";
                            break;
                        case 2:
                            this.AwakeType = 0, this.AwakeLabel.string = "\u5fc5\u89ba\u9192:Off"
                    }
                    null != s.default.GameSystem && s.default.GameSystem.sendTestOption(null, this.AwakeType, null)
                }, e.instance = null, a([l(Boolean)], e.prototype, "debug", void 0), a([l(cc.Label)], e.prototype, "cheatPowerLabel", void 0), a([l(cc.Label)], e.prototype, "rocketLabel", void 0), a([l(cc.Label)], e.prototype, "FullScreenLabel", void 0), a([l(cc.Label)], e.prototype, "FlameStormLabel", void 0), a([l(cc.Label)], e.prototype, "AwakeLabel", void 0), a([l(cc.Label)], e.prototype, "FPSLabel", void 0), a([l(cc.Node)], e.prototype, "MeunButton", void 0), a([l(cc.Node)], e.prototype, "DebugPanel", void 0), n = a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient"
    }],
    DragonTurtleUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3ee85IuqClERbynbvaMo8hw", "DragonTurtleUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-200)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("DragonTurtleTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "DragonTurtleBigWin" : "DragonTurtleYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    DragonWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "67bc41mFQZD5p79ZPkWIttS", "DragonWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../GameClient"),
            r = t("../Common/EnumFilter"),
            c = t("../Skill/BaseSkill"),
            l = t("./BaseWeapon"),
            h = t("./WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skill = null, e.ShowUpEffect = null, e.WeaponLighting = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    if (t.prototype.Init.call(this, e, n), this.Type = h.WeaponType.Dragon, this.ShowUpEffect.play(), this.skill = s.default.SkillSystem.AddSkill(c.skillEnum.DragonWeapon, e), this.skill.setWeapon(this, n), r.default.playerLockSetting) {
                        var i = Array.from(r.default.playerLockSetting),
                            o = n.UnhitList;
                        if (o)
                            for (var a = 0; a < o.length; a++) {
                                var l = i.indexOf(o[a]); - 1 != l && i.splice(l, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(i)
                    }
                }, e.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0), this.WeaponLighting.play()
                }, e.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1), this.WeaponLighting.stop()
                }, e.prototype.ShootState = function() {
                    return 0
                }, e.prototype.ShootFunction = function(t) {
                    this.SetGunRotateUsePos(t), this.FortAni && this.FortAni.play("Shoot")
                }, e.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, t.prototype.UnloadWeapon.call(this)
                }, e.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, a([d(cc.Animation)], e.prototype, "ShowUpEffect", void 0), a([d(cc.Animation)], e.prototype, "WeaponLighting", void 0), a([p], e)
            }(l.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    DrillBullet: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "98646CYKSJOSqT40E016Zke", "DrillBullet");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBullet"),
            r = t("../Player/PlayerManager"),
            c = t("../Fish/FishManager"),
            l = t("../Fish/BaseFish"),
            h = t("../Common/ResourceManager"),
            u = t("../Common/AudioManager"),
            p = t("../../../../../FishCommon/Script/CanvasHandler"),
            d = cc._decorator,
            f = d.ccclass,
            y = d.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bulletNode = null, e.bulletObjAnim = null, e.readyTime = 10, e.explodeTime = 3, e.forceTime = 5, e.keepTime = 0, e.currentState = 0, e.last_point = cc.Vec2.ZERO, e.rotationAction = null, e.isForce = !1, e.Event_OnBulletHit = null, e.Event_OnBulletReady = null, e.Event_OnBulletExplode = null, e.HitEffecrCD = !1, e
                }
                return o(e, t), e.prototype.Init = function(e, n, i, o) {
                    t.prototype.Init.call(this, e, n, i, o), this.keepTime = 0, this.currentState = 0, this.isForce = !1, this.bulletSpeed = 1300, this.SwitchBulletObj(!0), this.bulletNode && (this.bulletNode.angle = 90), this.schedule(this.CheckPoint.bind(this), .05)
                }, e.prototype.update = function(t) {
                    this.currentState < 3 && (this.UpdateExplodeTime(t), this.BulletMove(t))
                }, e.prototype.BulletReflection = function() {
                    var t = !1;
                    this.node.getPosition().x > this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.getPosition().y)), t = !0), this.node.getPosition().x < -this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.getPosition().y)), t = !0), this.node.getPosition().y > this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, this.winSide.y)), t = !0), this.node.getPosition().y < -this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, -this.winSide.y)), t = !0), t && (0 == this.currentState ? (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)), u.default.Instance.Play("drill_bound"), p.default.CameraShakeEffect(.5, 4)) : p.default.CameraShakeEffect(.25, 2))
                }, e.prototype.UpdateExplodeTime = function(t) {
                    if (this.keepTime += t, 0 == this.currentState) this.keepTime >= this.readyTime && (this.currentState = 1, this.keepTime = 0, this.bulletObjAnim && this.bulletObjAnim.play("DrillBulletReady"), this.bulletNode && (this.rotationAction = cc.rotateBy(1, 360).repeatForever(), this.bulletNode.runAction(this.rotationAction)), u.default.Instance.Play("drill_uncon"));
                    else if (1 == this.currentState)
                        if (this.keepTime >= this.explodeTime) {
                            this.currentState = 2, this.keepTime = 0;
                            var e = c.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100);
                            this.Event_OnBulletReady && this.Event_OnBulletReady(e)
                        } else this.keepTime < 1 ? this.bulletSpeed = 800 : this.keepTime < 2 ? this.bulletSpeed = 600 : this.bulletSpeed = 400;
                    else 2 == this.currentState && this.keepTime >= this.forceTime && (this.currentState = 3, this.keepTime = 0, this.isForce = !0, this.BulletExplode())
                }, e.prototype.onCollisionEnter = function(t) {
                    if (0 == this.currentState) {
                        var e = t.getComponent(l.default);
                        if (!e)
                            for (var n = t.node.parent, i = 0; i < 3 && !(e = n.getComponent(l.default)); i++) n = n.parent;
                        if (e && e.CanCollision && !e.IsFeatureFish) {
                            r.PlayerManager.isMainSeat(this.seat) && e.OnHitFish(), this.CreateHitEffect();
                            var o = e.ID;
                            this.Event_OnBulletHit && this.Event_OnBulletHit(o)
                        }
                    }
                }, e.prototype.BulletExplode = function() {
                    this.currentState = 3, this.keepTime = 0, this.bulletNode && (this.bulletNode.stopAction(this.rotationAction), this.rotationAction = null), this.Event_OnBulletExplode && this.Event_OnBulletExplode(this.isForce, this.node.getPosition()), this.unscheduleAllCallbacks(), this.bulletObjAnim.stop(), this.Recycle()
                }, e.prototype.SwitchBulletObj = function(t) {
                    this.bulletObjAnim && (this.bulletObjAnim.node.active = t, t && this.bulletObjAnim.play())
                }, e.prototype.CreateHitEffect = function() {
                    var t = this;
                    if (!this.HitEffecrCD) {
                        var e = h.default.SpawnEffect("DrillBlast", r.PlayerManager.isMainSeat(this.seat));
                        e && (e.setPosition(this.node.getPosition()), e.angle = this.node.angle), u.default.Instance.Play("drill_hit"), this.HitEffecrCD = !0, this.scheduleOnce(function() {
                            t.HitEffecrCD = !1
                        }, .07)
                    }
                }, e.prototype.CheckPoint = function() {
                    if (0 == this.currentState && this.last_point != this.node.getPosition()) {
                        this.last_point = this.node.getPosition();
                        var t = h.default.SpawnEffect("Drill_Tail", r.PlayerManager.isMainSeat(this.seat));
                        t && (t.setPosition(this.last_point), t.angle = this.node.angle - 90)
                    }
                }, a([y(cc.Node)], e.prototype, "bulletNode", void 0), a([y(cc.Animation)], e.prototype, "bulletObjAnim", void 0), a([f], e)
            }(s.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet"
    }],
    DrillWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8fd855xjflCVIXBBwrDsS89", "DrillWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseWeapon"),
            r = t("./WeaponManager"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.TimeLimit = null, e.shootPos = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.playerSeat = t, this.isGunReady = !1, this.node.angle = t < 2 ? 0 : 180, this.gunNode.active = !1, this.Type = r.WeaponType.Dirll, this.TimeLimit.node.active = !1, this.shootPos || (this.shootPos = new cc.Vec2(this.node.getPosition().x, t < 2 ? this.node.getPosition().y + 500 : this.node.getPosition().y - 500))
                }, e.prototype.ChangeGunAnim = function() {
                    var t = this;
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        t.isGunReady = !0
                    })))
                }, e.prototype.ShootState = function() {
                    return 0
                }, e.prototype.SwitchGunObj = function(t) {
                    this.gunNode.active = t
                }, e.prototype.setLimitTime = function(t) {
                    t ? (this.TimeLimit.node.active = !0, this.TimeLimit.string = Math.floor(t).toString()) : this.TimeLimit.node.active = !1
                }, e.prototype.SetGunRotateUsePos = function(e) {
                    t.prototype.SetGunRotateUsePos.call(this, e), this.shootPos = e
                }, a([h(cc.Label)], e.prototype, "TimeLimit", void 0), a([l], e)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    DropItem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "03616XoTcJKC4g5TlvtsAyU", "DropItem");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../System/ItemSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.itemAnim = null, e.bubbleNode = null, e.itemIcon = null, e.content = null, e.itemFrams = [], e.contentText = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.contentText = cc.find("text", this.content).getComponent(cc.RichText)
                }, e.prototype.ShowIcon = function(t) {
                    this.bubbleNode.active = t, this.itemIcon.node.active = t
                }, e.prototype.Init = function(t, e, n, i, o, a) {
                    var r = this;
                    void 0 === a && (a = !1);
                    var c = s.ITEM_CFG[t].index;
                    this.itemIcon.spriteFrame = this.itemFrams[c], this.contentText.string = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg[s.ITEM_CFG[t].name] + " x" + e + "<outline>", this.content.width = this.contentText.node.width + 56, this.node.setPosition(n);
                    var l = i.sub(this.node.getPosition()).mag(),
                        h = a ? .3 : Math.max(.3, .001 * l);
                    console.warn("\u9053\u5177\u6389\u843d \u8ddd\u96e2 = " + l + ", \u6642\u9593 = " + h + ", move_to = (" + i.x + ", " + i.y + ")"), this.node.runAction(cc.sequence(cc.callFunc(function() {
                        r.itemAnim.play()
                    }), cc.delayTime(2), cc.moveBy(.25, i.mul(-.15)), cc.moveTo(h, i), cc.callFunc(function() {
                        a && (r.node.active = !1), o(r)
                    })))
                }, a([l(cc.Animation)], e.prototype, "itemAnim", void 0), a([l(cc.Node)], e.prototype, "bubbleNode", void 0), a([l(cc.Sprite)], e.prototype, "itemIcon", void 0), a([l(cc.Node)], e.prototype, "content", void 0), a([l([cc.SpriteFrame])], e.prototype, "itemFrams", void 0), a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../../System/ItemSystem": "ItemSystem"
    }],
    ELAZING_PHONEIX: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "5b0d8j6hNtBGo+w9AfqNhSa", "ELAZING_PHONEIX");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSpineFish"),
            l = t("../Common/AudioManager"),
            h = cc._decorator,
            u = h.ccclass,
            p = (h.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.SpineEvent = function(t, e) {
                        if (e) switch (e.data.name) {
                            case "phoenix_s":
                                l.default.Instance.Play("Phoenix_fly_01", .8);
                                break;
                            case "phoenix_b":
                                l.default.Instance.Play("Phoenix_fly_02", .8)
                        }
                    }, e
                }
                return o(e, t), e.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1180, 0), this.node.angle = -(this.o + 90), this.skeleton.timeScale = 1, this.skeleton.setEventListener(this.SpineEvent), this.skeleton.setAnimation(0, "Phoenix_L_Fly", !1)
                }, e.prototype.PlayDieAnim = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t.prototype.PlayDieAnim.call(this), [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, e.prototype.onFishDie = function() {
                    t.prototype.onFishDie.call(this), l.default.Instance.Play("Phoenix_die_02")
                }, a([u], e)
            }(c.default));
        n.default = p, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseSpineFish": "BaseSpineFish"
    }],
    Effect_Phoneix: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "f4bccH8JjFNXIdwbci72vxg", "Effect_Phoneix");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Phoneix = null, e
                }
                return o(e, t), e.prototype.reuse = function() {
                    t.prototype.reuse.call(this), this.Phoneix && this.Phoneix.setAnimation(0, "Phoenix_atk", !1)
                }, a([l(sp.Skeleton)], e.prototype, "Phoneix", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    ElectricCollider: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b8571TZsrBHjZA+AhokyNqy", "ElectricCollider");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.fishIDList = new Array, e.maxFishCount = 50, e
                }
                return o(e, t), e.prototype.Init = function() {
                    this.fishIDList.length = 0
                }, e.prototype.GetFishIDList = function() {
                    return this.fishIDList
                }, e.prototype.onCollisionEnter = function(t) {
                    if (!(this.fishIDList.length >= this.maxFishCount)) {
                        var e = t.getComponent("BaseFish");
                        if (!e)
                            for (var n = 0, i = t.node.parent; n < 5 && i && !(e = i.getComponent("BaseFish"));) i = i.parent, n++;
                        e && e.CanCollision && !e.IsFeatureFish && -1 == this.fishIDList.indexOf(e.ID) && this.fishIDList.push(e.ID)
                    }
                }, e.prototype.onCollisionExit = function(t) {
                    var e = t.getComponent("BaseFish");
                    if (!e)
                        for (var n = 0, i = t.node.parent; n < 5 && i && !(e = i.getComponent("BaseFish"));) i = i.parent, n++;
                    if (e) {
                        var o = this.fishIDList.indexOf(e.ID); - 1 != o && this.fishIDList.splice(o, 1)
                    }
                }, a([r], e)
            }(cc.Component));
        n.default = c, cc._RF.pop()
    }, {}],
    ElectricWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2e1f7iBdV1CXL3C92h8jhme", "ElectricWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseWeapon"),
            r = t("./ElectricCollider"),
            c = t("./WeaponManager"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.airEffectAnim = null, e.shootRangeAnim = null, e.shootEffectAnim = null, e.shootRangeCollider = null, e.TimeLimit = null, e.shootPos = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.playerSeat = t, this.isGunReady = !1, this.node.angle = t < 2 ? 0 : 180, this.PlatformAni && this.PlatformAni.play(), this.FortAni && this.FortAni.play(), this.gunNode.active = !1, this.Type = c.WeaponType.Electric, this.SwitchAnimObj(this.airEffectAnim, !1), this.SwitchAnimObj(this.shootRangeAnim, !1), this.SwitchAnimObj(this.shootEffectAnim, !1), this.TimeLimit.node.active = !1, this.shootPos || (this.shootPos = new cc.Vec2(this.node.getPosition().x, t < 2 ? this.node.getPosition().y + 500 : this.node.getPosition().y - 500))
                }, e.prototype.ShootFunction = function(t) {
                    this.SetGunRotateUsePos(t), this.SwitchAnimObj(this.shootRangeAnim, !1), this.SwitchAnimObj(this.airEffectAnim, !1), this.SwitchAnimObj(this.shootEffectAnim, !0)
                }, e.prototype.ChangeGunAnim = function() {
                    var t = this;
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        t.isGunReady = !0
                    }))), this.SwitchAnimObj(this.airEffectAnim, !0), this.SwitchAnimObj(this.shootRangeAnim, !0), this.SwitchAnimObj(this.shootEffectAnim, !1)
                }, e.prototype.SwitchAnimObj = function(t, e) {
                    t && (t.node.active = e, e && t.play())
                }, e.prototype.SwitchCollision = function(t) {
                    this.shootRangeCollider && (this.shootRangeCollider.node.active = t, this.shootRangeCollider.Init())
                }, e.prototype.GetFishIDList = function() {
                    return this.shootRangeCollider.GetFishIDList()
                }, e.prototype.ShootState = function() {
                    return 0
                }, e.prototype.setLimitTime = function(t) {
                    t ? (this.TimeLimit.node.active = !0, this.TimeLimit.string = Math.floor(t).toString()) : this.TimeLimit.node.active = !1
                }, e.prototype.SetGunRotateUsePos = function(e) {
                    t.prototype.SetGunRotateUsePos.call(this, e), this.shootPos = e
                }, e.prototype.UnloadWeapon = function() {
                    this.airEffectAnim.stop(), this.shootRangeAnim.stop(), this.shootEffectAnim.stop(), t.prototype.UnloadWeapon.call(this)
                }, a([u(cc.Animation)], e.prototype, "airEffectAnim", void 0), a([u(cc.Animation)], e.prototype, "shootRangeAnim", void 0), a([u(cc.Animation)], e.prototype, "shootEffectAnim", void 0), a([u(r.default)], e.prototype, "shootRangeCollider", void 0), a([u(cc.Label)], e.prototype, "TimeLimit", void 0), a([h], e)
            }(s.default);
        n.default = p, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./ElectricCollider": "ElectricCollider",
        "./WeaponManager": "WeaponManager"
    }],
    EnumFilter: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "f6092WBkEFP3qOtgx/WsEN9", "EnumFilter");
        var i = this && this.__decorate || function(t, e, n, i) {
            var o, a = arguments.length,
                s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
            else
                for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
            return a > 3 && s && Object.defineProperty(e, n, s), s
        };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishGame = n.PoolEnum = n.EffectType = n.FishType = void 0;
        var o, a, s, r = t("./ResourceManager"),
            c = cc._decorator.ccclass;
        (function(t) {
            t[t.Normal = 0] = "Normal", t[t.Double = 1] = "Double", t[t.HumpbackWhale = 2] = "HumpbackWhale", t[t.FireDragon = 3] = "FireDragon", t[t.KingCrab = 4] = "KingCrab", t[t.KingTaco = 5] = "KingTaco", t[t.KingLacoste = 6] = "KingLacoste", t[t.KingAngle = 7] = "KingAngle", t[t.Mermaid = 8] = "Mermaid", t[t.ThunderDragon = 9] = "ThunderDragon", t[t.Phoenix = 10] = "Phoenix", t[t.Buffalo = 11] = "Buffalo", t[t.Patrick = 12] = "Patrick", t[t.Vampire = 13] = "Vampire", t[t.Buddha = 14] = "Buddha", t[t.DragonTurtle = 15] = "DragonTurtle", t[t.TurtleBoss = 16] = "TurtleBoss", t[t.LionDance = 17] = "LionDance", t[t.WealthGod = 18] = "WealthGod", t[t.TreasureCrab = 19] = "TreasureCrab", t[t.IceDragon = 20] = "IceDragon", t[t.RedDragon = 21] = "RedDragon", t[t.BattleShip = 22] = "BattleShip", t[t.LuckyCat = 23] = "LuckyCat", t[t.CircusClown = 24] = "CircusClown", t[t.CircusPig = 25] = "CircusPig", t[t.CircusTiger = 26] = "CircusTiger"
        })(o = n.FishType || (n.FishType = {})),
        function(t) {
            t[t.Blast = 0] = "Blast", t[t.BallFire = 7] = "BallFire"
        }(n.EffectType || (n.EffectType = {})),
        function(t) {
            t.Fish = "Fish", t.Background = "Background", t.Bullet = "Bullet", t.Weapon = "Weapon", t.GUI = "GUI", t.Award = "Award", t.Effect = "Effect", t.Skill = "Skill", t.Title = "Title", t.TopRoot = "TopRoot"
        }(a = n.PoolEnum || (n.PoolEnum = {})),
        function(t) {
            t.TD = "FishHunterThunderDragon", t.MTY = "FishFortuneKings", t.ALD = "FishHunterAladdin", t.ZB = "FishHunterGhost", t.KK = "FishHunterKingKong", t.LS = "FishHunterLuckyShamrock", t.MF = "MonstersFrenzy", t.BS = "FishBattleShip", t.WCF = "FishWonderCat", t.CIR = "FishCircus"
        }(s = n.FishGame || (n.FishGame = {}));
        var l = function() {
            function t() {}
            return t.getFishType = function(t) {
                switch (t) {
                    case 13:
                    case 14:
                    case 15:
                    case 16:
                    case 17:
                        return o.Double;
                    case 18:
                        return o.HumpbackWhale;
                    case 19:
                        return o.FireDragon;
                    case 20:
                        return o.KingLacoste;
                    case 24:
                        return o.KingCrab;
                    case 25:
                        return o.Mermaid;
                    case 29:
                        return o.TreasureCrab;
                    case 32:
                        return o.DragonTurtle;
                    case 35:
                        return o.KingAngle;
                    case 36:
                    case 61:
                    case 62:
                    case 63:
                    case 64:
                    case 65:
                    case 66:
                        return o.KingTaco;
                    case 80:
                        return o.Phoenix;
                    case 78:
                        return o.ThunderDragon;
                    case 81:
                        return o.Buffalo;
                    case 82:
                        return o.Patrick;
                    case 83:
                        return o.Vampire;
                    case 84:
                        return o.Buddha;
                    case 85:
                        return o.TurtleBoss;
                    case 87:
                        return o.IceDragon;
                    case 88:
                        return o.RedDragon;
                    case 89:
                    case 90:
                    case 91:
                        return o.BattleShip;
                    case 92:
                        return o.LuckyCat;
                    case 93:
                        return o.CircusClown;
                    case 94:
                        return o.CircusPig;
                    case 95:
                        return o.CircusTiger;
                    case 116:
                        return o.WealthGod;
                    default:
                        return o.Normal
                }
            }, t.DespawnObj = function(t, e, n) {
                switch (t) {
                    case a.Fish:
                        r.default.DespawnFish(e, n);
                        break;
                    case a.Background:
                        r.default.UnLoadBackground(e, n);
                        break;
                    case a.Bullet:
                        r.default.DespawnBullet(e, n);
                        break;
                    case a.Weapon:
                        r.default.UnloadWeapon(e, n);
                        break;
                    case a.GUI:
                        r.default.UnloadGUI(e, n);
                        break;
                    case a.Award:
                        r.default.DespawnAward(e, n);
                        break;
                    case a.Effect:
                        r.default.DespawnEffect(e, n);
                        break;
                    case a.Skill:
                        r.default.DespawnSkill(e, n);
                        break;
                    case a.Title:
                        r.default.DespawnTitle(e, n);
                        break;
                    case a.TopRoot:
                        r.default.UnloadTopRoot(e, n)
                }
            }, t.NormalPathBound = function(t) {
                switch (t) {
                    case 80:
                    case 81:
                    case 82:
                        return 500;
                    case 18:
                        return 300;
                    default:
                        return 250
                }
            }, t.needShakeEffect = function(t) {
                switch (t) {
                    case 9:
                    case 10:
                    case 11:
                    case 12:
                        return .8;
                    case 13:
                    case 14:
                    case 15:
                    case 16:
                    case 17:
                        return 1;
                    default:
                        return 0
                }
            }, t.ClickAvoidFish = function(t) {
                switch (t) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                    case 47:
                    case 48:
                        return !0
                }
                return !1
            }, t.KillableFeatureFish = function(t) {
                switch (t) {
                    case 116:
                        return !0
                }
                return !1
            }, Object.defineProperty(t, "LockOrder", {
                get: function() {
                    if (!this.lockOder) switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case s.MTY:
                            this.lockOder = this.lockOderMTY;
                            break;
                        case s.ALD:
                            this.lockOder = this.lockOderALD;
                            break;
                        case s.ZB:
                            this.lockOder = this.lockOderZB;
                            break;
                        case s.KK:
                            this.lockOder = this.lockOderKK;
                            break;
                        case s.LS:
                            this.lockOder = this.lockOderLS;
                            break;
                        case s.MF:
                            this.lockOder = this.lockOderMF;
                            break;
                        case s.TD:
                            this.lockOder = this.lockOderTD;
                            break;
                        case s.BS:
                            this.lockOder = this.lockOderBS;
                            break;
                        case s.WCF:
                            this.lockOder = this.lockOderWCF;
                            break;
                        case s.CIR:
                            this.lockOder = this.lockOderCIR
                    }
                    return this.lockOder
                },
                enumerable: !1,
                configurable: !0
            }), t.getLockOder = function() {
                return this.tempLockOder || (this.tempLockOder = this.TransFishTypeList(this.LockOrder)), this.tempLockOder
            }, t.TransFishTypeList = function(t) {
                for (var e = [], n = 0; n < t.length; n++) switch (t[n]) {
                    case 0:
                        e.push(0, 47);
                        break;
                    case 1:
                        e.push(1, 48);
                        break;
                    case 61:
                        e.push(61, 62, 63, 64, 65, 66);
                        break;
                    case 200:
                        e.push(55, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210);
                        break;
                    case 300:
                        e.push(300, 301, 302, 303, 304, 305, 306, 307, 308, 309);
                        break;
                    default:
                        e.push(t[n])
                }
                return e
            }, t.UseDefaultLockSetting = function(t) {
                switch (t) {
                    case 22:
                    case 23:
                    case 34:
                    case 77:
                    case 79:
                        this.LockSetting = [22, 23, 34, 77, 79];
                        break;
                    case 20:
                    case 24:
                    case 25:
                    case 35:
                    case 36:
                    case 61:
                    case 62:
                    case 63:
                    case 64:
                    case 65:
                    case 66:
                    case 78:
                    case 80:
                    case 81:
                    case 82:
                        this.LockSetting = [20, 24, 25, 35, 36, 61, 62, 63, 64, 65, 66, 78, 80, 81, 82];
                        break;
                    case 55:
                    case 200:
                    case 201:
                    case 202:
                    case 203:
                    case 204:
                    case 205:
                    case 206:
                    case 207:
                    case 208:
                    case 209:
                    case 210:
                        this.LockSetting = [55, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210];
                        break;
                    case 300:
                    case 301:
                    case 302:
                    case 303:
                    case 304:
                    case 305:
                    case 306:
                    case 307:
                    case 308:
                    case 309:
                        this.LockSetting = [300, 301, 302, 303, 304, 305, 306, 307, 308, 309];
                        break;
                    default:
                        this.LockSetting = [t]
                }
            }, t.FeatureType = {
                1: {
                    0: 200,
                    47: 200,
                    1: 201,
                    48: 201,
                    2: 202,
                    3: 203,
                    4: 204,
                    5: 205,
                    6: 206,
                    7: 207,
                    8: 55,
                    9: 208,
                    10: 209,
                    11: 210
                },
                2: {
                    0: 300,
                    47: 300,
                    1: 301,
                    48: 301,
                    2: 302,
                    3: 303,
                    4: 304,
                    5: 305,
                    6: 306,
                    7: 307,
                    8: 308,
                    9: 309
                }
            }, t.lockOder = null, t.lockOderMTY = [80, 84, 78, 85, 86, 79, 77, 34, 23, 22, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderALD = [83, 82, 80, 78, 25, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderZB = [83, 82, 80, 20, 78, 25, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderKK = [80, 25, 82, 81, 78, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderLS = [80, 24, 25, 78, 81, 82, null, 79, 34, 23, 22, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderMF = [116, 80, 35, null, 61, null, 25, 78, 79, 34, 23, 22, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderTD = [78, 88, 87, 19, 32, 24, 61, 20, 35, 29, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderBS = [89, 91, 90, 80, 78, 25, 24, 61, 20, 35, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderWCF = [92, 24, 80, 78, 25, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.lockOderCIR = [80, 93, 78, 94, 95, 79, 77, 34, 23, 22, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], t.tempLockOder = null, t.playerLockSetting = null, t.LockSetting = null, i([c], t)
        }();
        n.default = l, cc._RF.pop()
    }, {
        "./ResourceManager": "ResourceManager"
    }],
    EventPuzzleDropEggMgr: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "1aa53d6eoRN1a6kIP39nz0s", "EventPuzzleDropEggMgr");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggData"),
            c = t("../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggDropEgg"),
            l = t("../MainGame/Award/AwardManager"),
            h = t("../MainGame/Common/AudioManager"),
            u = t("../MainGame/Common/ResourceManager"),
            p = t("../MainGame/Common/Utility"),
            d = t("../MainGame/Fish/FishManager"),
            f = t("../MainGame/Player/PlayerManager"),
            y = t("../MainGame/Weapon/WeaponManager"),
            m = cc._decorator,
            g = m.ccclass,
            S = (m.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_funDropPuzzleEgg = null, e.m_funPuzzlePieceFlyStartCB = null, e.m_funPuzzlePieceFlyFinCB = null, e.m_funGetPuzzleIconPos = null, e.m_funGetEnableShow = null, e.CoinSound = -1, e.winSide = null, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this
                }, e.prototype.ParsePuzzelDropEgg = function(t, e, n, i) {
                    var o = n[900005],
                        a = o.UserAwardData,
                        s = o.UserQuestData;
                    if (a.length > 1) {
                        console.error("ParsePuzzelDropEgg, userAwardData > 1 = ", a);
                        for (var r = n.small_fish_hit_id, c = n.big_fish_hit_id, l = n.boss_fish_hit_id, h = -1, u = 0; u < a.length; u++) {
                            for (var p = a[u], d = 0; d < s.length; d++) {
                                var f = s[d];
                                if (p.Name == f.Name) {
                                    h = f.AwardType;
                                    break
                                }
                            }
                            switch (h) {
                                case 0:
                                    i = r;
                                    break;
                                case 1:
                                    i = c;
                                    break;
                                case 2:
                                    i = l
                            }
                            this.DropEgg(t, e, p, s, i)
                        }
                    } else this.DropEgg(t, e, a[0], s, i)
                }, e.prototype.DropEgg = function(t, e, n, i, o) {
                    for (var a = this, c = this.GetFishPos(e, o), l = cc.Vec2.ZERO, h = n.AwardInfo, u = function(n) {
                            var o = h[n],
                                u = o.Amount,
                                d = o.EggType,
                                m = o.Item;
                            if (e) {
                                var g = !0;
                                if (p.m_funGetEnableShow && (g = p.m_funGetEnableShow()), m <= r.PUZZLE_ITEM_DEFINE.GoldPuzzle) {
                                    var S = Number(o.PuzzleIndex);
                                    g ? p.CheckQuestState(m, i) && (l = s.default.ConvMousePosNoReverse(p.m_funGetPuzzleIconPos(m - 1)), p.m_funDropPuzzleEgg && p.m_funDropPuzzleEgg(), p.DropPuzzleItemEffect(n, t, e, d, m, u, c, l, function() {
                                        a.m_funPuzzlePieceFlyStartCB && a.m_funPuzzlePieceFlyStartCB()
                                    }, function() {
                                        a.m_funPuzzlePieceFlyFinCB && a.m_funPuzzlePieceFlyFinCB(m, S)
                                    })) : p.m_funPuzzlePieceFlyFinCB && p.m_funPuzzlePieceFlyFinCB(m, S)
                                } else f.PlayerManager.BulletSync(1), g ? (l = y.default.WeaponPosition(t), p.DropPuzzleItemEffect(n, t, e, d, m, u, c, l, null, function() {
                                    m == r.PUZZLE_ITEM_DEFINE.Winning ? a.DropCoinEffect(c, u, f.PlayerManager.getPlayer(t).bet_value, t, !0) : m == r.PUZZLE_ITEM_DEFINE.Entry && a.DropCoinEffect(c, u, f.PlayerManager.getPlayer(t).bet_value, t, !1, !0)
                                })) : m == r.PUZZLE_ITEM_DEFINE.Winning ? f.PlayerManager.Instance.ModifyPlayerWinning(t, u) : m == r.PUZZLE_ITEM_DEFINE.Entry && (f.PlayerManager.Instance.ModifyPlayerEntries(t, u, null, !1), f.PlayerManager.BulletSync(-1, null))
                            } else p.m_funGetEnableShow && p.m_funGetEnableShow() && null != c && (l = y.default.WeaponUIPosition(t), p.DropPuzzleItemEffect(n, t, e, d, m, u, c, l, null, null))
                        }, p = this, d = 0; d < h.length; d++) u(d)
                }, e.prototype.CheckQuestState = function(t, e) {
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n];
                        if ("Puzzle" == i.GameThemeID[0]) {
                            var o = r.PUZZLE_TYPE.Copper,
                                a = Number(i.AwardType);
                            if (3 == a ? o = r.PUZZLE_TYPE.Copper : 4 == a ? o = r.PUZZLE_TYPE.Sliver : 5 == a && (o = r.PUZZLE_TYPE.Gold), r.PUZZLE_ITEM[o].dropID == t) {
                                var s = i.Status;
                                if (0 != s && console.error("CheckQuestState, puzzleType = " + o + ", questStatus = " + s), s > 0) return !1
                            }
                        }
                    }
                    return !0
                }, e.prototype.GetFishPos = function(t, e) {
                    var n = cc.Vec2.ZERO,
                        i = null;
                    if ("" != e && (i = d.default.Instance.GetFishByID(e)) && (n = s.default.ConvMousePosNoReverse(i.getFishPos())), "" == e || null == i) {
                        if (!t) return void(n = void 0);
                        var o = void 0,
                            a = void 0;
                        Math.random() > .5 ? (o = Math.floor(1136 * Math.random() - 568), a = Math.random() > .5 ? 350 : -320) : (o = Math.random() > .5 ? 600 : -600, a = Math.floor(660 * Math.random() - 320)), n = cc.v2(o, a)
                    }
                    return this.winSide || (this.winSide = cc.v2(.5 * s.default.WinSize.width, .5 * s.default.WinSize.height)), n.x > this.winSide.x - 50 ? n.x = this.winSide.x - 100 - 100 * Math.random() : n.x < 50 - this.winSide.x && (n.x = 100 - this.winSide.x + 100 * Math.random()), n.y > this.winSide.y - 50 ? n.y = this.winSide.y - 100 - 100 * Math.random() : n.y < 50 - this.winSide.y && (n.y = 100 - this.winSide.y + 100 * Math.random()), n
                }, e.prototype.DropPuzzleItemEffect = function(t, e, n, i, o, a, s, r, l, h) {
                    void 0 === l && (l = null), void 0 === h && (h = null), console.warn("[DropPuzzleItemEffectALD]seat: %s, eggType: %s, itemID: %s, qty: %s", e, i, o, a);
                    var p = u.default.LoadTopRoot("DropEgg" + i);
                    if (p) {
                        var d = p.getComponent(c.FishPuzzleEggDropEgg);
                        s.addSelf(cc.v2(100 * t, 0)), d.Init(n, i, p, o, a, s, r, function() {
                            l && l()
                        }, function() {
                            u.default.UnloadTopRoot("DropEgg", p), h && h()
                        })
                    }
                }, e.prototype.DropCoinEffect = function(t, e, n, i, o, a) {
                    var s = this;
                    void 0 === a && (a = !1);
                    var r = null;
                    r = l.default.Instance.SpawnAward(l.AwardType.NormalFishNum, t, !0);
                    var c = e / n;
                    r.getComponent(cc.Label).string = p.default.NumberformatBet(e, n), r.scale = .5, r.runAction(cc.spawn(cc.sequence(cc.scaleTo(.1, 2.1).easing(cc.easeBackOut()), cc.scaleTo(.25, 1)), cc.callFunc(function() {
                        r.runAction(cc.sequence(cc.delayTime(.55), cc.callFunc(function() {
                            l.default.Instance.DropCoin(r.getPosition(), i, o, a, e), u.default.DespawnEffect(l.AwardType.NormalFishNum, r), -1 != s.CoinSound && h.default.Instance.Stop(s.CoinSound), s.CoinSound = h.default.Instance.Play(s.GetCoinSound(c))
                        })))
                    })))
                }, e.prototype.GetCoinSound = function(t) {
                    return t < 10 ? "34_coinjump_a" : t < 50 ? "34_coinjump_b" : "34_coinjump_c"
                }, e.instance = null, n = a([g], e)
            }(cc.Component));
        n.default = S, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggData": void 0,
        "../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggDropEgg": void 0,
        "../MainGame/Award/AwardManager": "AwardManager",
        "../MainGame/Common/AudioManager": "AudioManager",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../MainGame/Common/Utility": "Utility",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../MainGame/Weapon/WeaponManager": "WeaponManager"
    }],
    FIRE_DRAGON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7e277uNSAxNjZyZuP1VPOt3", "FIRE_DRAGON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseSpineFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.onInit = function() {
                    this.offsetPos = cc.v2(740, -70), this.node.rotation = this.o, this.skeleton.timeScale = .5, this.skeleton.setAnimation(0, "SWIM", !1)
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseSpineFish": "BaseSpineFish"
    }],
    FLASH_FLAT_FISH: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8348e+Dkv9BV7GVOvUqZP4G", "FLASH_FLAT_FISH");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFlashFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, e.prototype.onMove = function(t) {
                    var e = this;
                    t.AddSpeed(-70, 500);
                    var n = t.PonitIndex,
                        i = t.GetTargetPoint(n),
                        o = t.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            t.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            e.mAnim.play("Swim"), t.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLASH_GURNARD: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2df37C6fqJPcLNSbO4Mmkcb", "FLASH_GURNARD");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = t("./BaseFlashFish"),
            c = cc._decorator.ccclass,
            l = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([c], e)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLASH_OCTOPUS: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "cade35k1wVPGbwak9L2lwh6", "FLASH_OCTOPUS");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = t("./BaseFlashFish"),
            c = cc._decorator.ccclass,
            l = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([c], e)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLAT_FISH: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "aa357CSdM9FB7PNnTzfqHLS", "FLAT_FISH");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, e.prototype.onMove = function(t) {
                    var e = this;
                    t.AddSpeed(-70, 500);
                    var n = t.PonitIndex,
                        i = t.GetTargetPoint(n),
                        o = t.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            t.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            e.mAnim.play("Swim"), t.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    FinalShip: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "241bckXXSJKxZamonS96+J6", "FinalShip");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e
                }
                return o(e, t), e.prototype.reuse = function() {
                    t.prototype.reuse.call(this), this.skeleton && this.skeleton.setAnimation(0, "animation", !0)
                }, a([l(sp.Skeleton)], e.prototype, "skeleton", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    FishAvatarIcon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2087eVwBmlAW48JrI0D6gg5", "FishAvatarIcon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../LobbyCommon/Component/BundleCtrl"),
            l = t("../../../../../LobbyCommon/Helper/EventSystem"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.faceSprite = null, e.frameSprite = null, e.nicknameLabel = null, e.playerId = "-1", e.nickname = "", e.faceId = "", e.faceFrameId = "", e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.SetRegister()
                }, e.prototype.onDestroy = function() {
                    this.UnRegister()
                }, e.prototype.SetRegister = function() {
                    l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this), l.EventSystem.Event(l.FishHunter.UpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, e.prototype.UnRegister = function() {
                    l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this), l.EventSystem.Event(l.FishHunter.UpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.SetByPlayerData = function(t) {
                    "" != this.playerId && t.ArkID == this.playerId && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.nicknameLabel && this.nickname != t && (this.nickname = t, this.nicknameLabel.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.faceSprite && (this.faceSprite.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.frameSprite && (this.frameSprite.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return 0 == t.length && (t = "FAC000"), this.faceId == t ? [2] : [4, c.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = n.sent()) && (this.faceId = t, this.SetFaceSprite(e)), [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.faceFrameId == t ? [2] : 0 == t.length ? (this.faceFrameId = t, this.SetFrameSprite(null), [2]) : [4, c.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = n.sent()) && (this.faceFrameId = t, this.SetFrameSprite(e)), [2]
                            }
                        })
                    })
                }, a([p(cc.Sprite)], e.prototype, "faceSprite", void 0), a([p(cc.Sprite)], e.prototype, "frameSprite", void 0), a([p(cc.Label)], e.prototype, "nicknameLabel", void 0), a([u], e)
            }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Component/BundleCtrl": void 0,
        "../../../../../LobbyCommon/Helper/EventSystem": void 0
    }],
    FishManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "d9320iPf1pISZofoO74iBQY", "FishManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/ResourceManager"),
            l = t("../../System/FishSystem"),
            h = t("./BaseFish"),
            u = t("../../GameClient"),
            p = t("../Common/AISeek"),
            d = t("../Common/EnumFilter"),
            f = t("../Award/AwardManager"),
            y = t("../Player/PopupWindowCtrl"),
            m = t("../Common/PreloadManager"),
            g = t("../Game/GameManager"),
            S = t("../../../../../FishCommon/Script/CanvasHandler"),
            _ = t("./UniqueFishData"),
            v = t("../Common/MultiLangSystem"),
            b = cc._decorator.ccclass,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.time_count = 0, e.fps_counter = 0, e.MAX_SCRIPT_FRAME = 7776e3, e.currect_fps = 0, e.current_frame = 0, e.fish_manager = {}, e.fish_info = {}, e.ai_seek = null, e.army_key = [], e.army_queue = {}, e.Event_FishEnter = null, e.Event_FishInit = null, e.ai_is_speed_up = !1, e.ai_speed_up_time = 0, e.winSide = null, e.uniqueFishData = null, e.waitFishScriptTime = -1, e.skipCmdTime = 0, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getUniqueFishData = function(t) {
                    return null == this.uniqueFishData && (this.uniqueFishData = new Array), this.uniqueFishData[t] || (this.uniqueFishData[t] = new _.default(t)), this.uniqueFishData[t]
                }, e.prototype.recycleUniqueFishData = function(t) {
                    this.uniqueFishData && null != this.uniqueFishData[t] && (this.uniqueFishData[t].getComponent.Recycle(), this.uniqueFishData[t] = null)
                }, e.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return n.instance = this, this.ai_seek = new p.AISeek("debug"), t = this, [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/fish_info")];
                                case 1:
                                    return t.fish_info = e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.start = function() {
                    m.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this))
                }, e.prototype.update = function(t) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.fps_counter++, this.time_count += t, this.current_frame += t, this.current_frame > this.MAX_SCRIPT_FRAME && (this.current_frame = 0), this.time_count >= 1 && (this.currect_fps = this.fps_counter, this.time_count = 0, this.fps_counter = 0), this.ArmyQueueProcess(t), this.FishSpeedUp(t), -1 != this.waitFishScriptTime && (this.waitFishScriptTime += t), [2]
                        })
                    })
                }, e.prototype.onFishScript = function(t, e, n, i, o, a) {
                    if (a.hasOwnProperty("submarine_info_list") && this.getUniqueFishData(d.FishType.BattleShip).setCustomData(a), this.current_frame = t, n)
                        for (var s = 0; s < n.length; s++) {
                            var r = l.FishData.hasOwnProperty(l.FishData.frame) ? Math.ceil(this.current_frame) - l.FishData[l.FishData.frame] : 0;
                            this.CreateFish(n[s], o[s], r, a)
                        }
                    this.unschedule(this.SendFishScript.bind(this)), this.schedule(this.SendFishScript.bind(this), 5)
                }, e.prototype.SendFishScript = function() {
                    u.default.FishSystem && u.default.FishSystem.SendFishScript(), -1 != this.waitFishScriptTime && (u.default.Instance.ReciveCmdTime(this.waitFishScriptTime), this.skipCmdTime++), this.waitFishScriptTime = 0
                }, e.prototype.onCreateFish = function(t, e, n, i, o) {
                    for (var a = e.length, s = 0; s < a; s++) this.CreateFish(e[s], i[s], null, o)
                }, e.prototype.onFishScriptTime = function(t, e) {
                    var n = e - this.current_frame;
                    this.current_frame = e, n > 2 && this.FishSpeedUp(0, 2, n - 2), this.skipCmdTime > 0 ? this.skipCmdTime-- : (u.default.Instance.ReciveCmdTime(this.waitFishScriptTime), this.waitFishScriptTime = -1)
                }, e.prototype.onFeatureEvent = function(t) {
                    if (t.hasOwnProperty("fish_id")) {
                        var e = t.fish_id,
                            n = this.GetFishByID(e);
                        n && 116 == n.Type && n.SyncData instanceof Function && n.SyncData(t.odds, t.level)
                    }
                    if (t.hasOwnProperty("submarine_info_list")) try {
                        this.getUniqueFishData(d.FishType.BattleShip).setCustomData(t)
                    } catch (o) {
                        console.warn("SubmarineInfo not ready")
                    }
                    if (t.hasOwnProperty("OccupyTotalTime") && t.ArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id) {
                        t.Panel = "BeenOccupy";
                        var i = new y.WindowsData(y.Windows.BattleShipInfo, [null, function(t, e) {
                            f.default.Instance.BlastCoin(t, e), y.default.CloseWindow()
                        }], [v.default.getMultiLangText("ShipInfoTitle"), v.default.getMultiLangText("ShipName_R"), v.default.getMultiLangText("ShipName_G"), v.default.getMultiLangText("ShipName_B"), v.default.getMultiLangText("ShipID"), v.default.getMultiLangText("Occupied"), v.default.getMultiLangText("AccumulatePrizes"), v.default.getMultiLangText("BeenOccupied")], t);
                        y.default.EnableWindow(i, !0, !1, 2)
                    }
                }, e.prototype.ArmyQueueProcess = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o = this;
                        return r(this, function() {
                            if (this.army_key.length > 0)
                                for (e = function(e) {
                                        var i = n.army_key[e];
                                        if (n.army_queue.hasOwnProperty(i)) {
                                            var a = n.army_queue[i],
                                                s = a.sec_count,
                                                r = a.max_sec,
                                                l = a.last_key,
                                                u = a.position;
                                            Math.abs(i + s - n.current_frame) <= 1 && (a.sec_count = s = n.current_frame - i);
                                            var p = (.1 * Math.round(10 * s)).toString().substr(0, 4);
                                            if (p != l && a.hasOwnProperty(p)) {
                                                var d = a[p];
                                                a.last_key = p, d.forEach(function(t) {
                                                    var e = t.type,
                                                        n = t.id,
                                                        i = t.fishPath,
                                                        a = t.delayTime - 2,
                                                        r = c.default.SpawnFish(e);
                                                    if (r) {
                                                        var l = r.getComponent(h.default);
                                                        o.FishIn(n);
                                                        l.Event_FishInit = o.OnFishInit.bind(o), l.InitPath(n, e, i, s - a, u.x, u.y), l.enabled = !0, o.AddFishByID(l)
                                                    } else console.warn(e + " is not create")
                                                })
                                            }
                                            s += t, a.sec_count = s, n.army_queue[i] = a, s >= r && (n.army_key.splice(e, 1), delete n.army_queue[i])
                                        } else n.army_key.splice(e, 1)
                                    }, n = this, i = 0; i < this.army_key.length; i++) e(i);
                            else this.army_queue = {};
                            return [2]
                        })
                    })
                }, e.prototype.CreateFish = function(t, e, n, i) {
                    return void 0 === n && (n = 0), s(this, void 0, void 0, function() {
                        var o, a, s, p, m, S, _, b, P, C, w, I, k, T, M, A, O, F, E = this;
                        return r(this, function() {
                            if (o = t[l.FishData.type], !this.fish_info.hasOwnProperty(o) || !this.fish_info[o].enable) return [2];
                            if (a = t[l.FishData.feature], o = this.ConvFishType(o, a), t[l.FishData.type] = o, null == o) return console.error("[CreateFish]data: " + JSON.stringify(t)), [2];
                            if (s = t[l.FishData.id], p = this.fish_info[o].behavior_type || 0, m = Math.floor(this.current_frame), n = t.hasOwnProperty(l.FishData.frame) ? m - t[l.FishData.frame] : n, p == h.BEHAVIOR_TYPE.PATH) return S = this.fish_info[o].path_type, this.GenerateArmy(S, s, m, n), [2];
                            if (!(this.currect_fps > 10)) return y.default.EnableNetUnstable(!0, 1), console.warn("FPS\u904e\u4f4e \u7565\u904etype:" + o.toString()), [2];
                            if (y.default.EnableNetUnstable(!1, 1), _ = t[l.FishData.size], b = this.fish_info.hasOwnProperty(o.toString()) ? this.fish_info[o].path_type : o, P = t[l.FishData.path_index], C = this.fish_info[o].alive || 100, 1 == _) {
                                if (A = c.default.SpawnFish(o)) switch ((O = A.getComponent(h.default)) && (O.enabled = !0, O.Event_FishInit = this.OnFishInit.bind(this), O.Init(t, s.toString(), C, p, e), this.AddFishByID(O), p == h.BEHAVIOR_TYPE.SEEK ? (F = {
                                    sync: n
                                }, O.InitSeek(b, P, F)) : p == h.BEHAVIOR_TYPE.NORMAL ? O.InitNormalBehavior(b, n) : n > 0 && O.SetSyncTime(n), O.Event_FishEnter = this.OnFishEnter.bind(this)), w = d.default.getFishType(o), I = null, w) {
                                    case d.FishType.KingCrab:
                                    case d.FishType.KingLacoste:
                                    case d.FishType.KingAngle:
                                    case d.FishType.KingTaco:
                                    case d.FishType.Buffalo:
                                    case d.FishType.Patrick:
                                    case d.FishType.TurtleBoss:
                                    case d.FishType.LionDance:
                                    case d.FishType.CircusPig:
                                    case d.FishType.CircusTiger:
                                        g.default.Instance.BackgroundNow.BossEnter();
                                        break;
                                    case d.FishType.Vampire:
                                        i && i.hasOwnProperty("Vampire_odds") && this.getUniqueFishData(w).setTargetNumber(i.Vampire_odds), this.getUniqueFishData(w).bindFish(O);
                                        break;
                                    case d.FishType.Buddha:
                                        i && i.hasOwnProperty("LuckyBuddha_odds") && this.getUniqueFishData(w).setTargetNumber(i.LuckyBuddha_odds), this.getUniqueFishData(w).bindFish(O);
                                        break;
                                    case d.FishType.TreasureCrab:
                                        i && i.hasOwnProperty("treasure_score") && i.hasOwnProperty("treasure_level") && this.getUniqueFishData(w).TreasureCrabInit(O, i.treasure_score, i.treasure_level);
                                        break;
                                    case d.FishType.RedDragon:
                                        (I = {}).time = 1e4, I.callback = function() {
                                            E.recycleUniqueFishData(d.FishType.RedDragon)
                                        }, this.getUniqueFishData(w).setTimeEvent(I);
                                        break;
                                    case d.FishType.BattleShip:
                                        if (i.mainPlayerArkID = SS.Network.LoginModel.LoginInfo.pin_ark_id, k = this.getUniqueFishData(w).getComponent, i.onUpdate = k.getData.bind(k), O.setExdata(i), i.onClick = function(t) {
                                                t.onUpdate = k.getData.bind(k), t.mainPlayerArkID = SS.Network.LoginModel.LoginInfo.pin_ark_id;
                                                var e = new y.WindowsData(y.Windows.BattleShipInfo, [function(t, e) {
                                                    u.default.PlayerSystem.SendCollectAward(t, e)
                                                }, function(t, e) {
                                                    var n = {};
                                                    n.occupy_data = t, n.changePanel = !1, E.getUniqueFishData(d.FishType.BattleShip).setCustomData(n), f.default.Instance.BlastCoin(t, e), u.default.PlayerSystem.SendSyncAsset(), y.default.CloseWindow()
                                                }], [v.default.getMultiLangText("ShipInfoTitle"), v.default.getMultiLangText("ShipName_R"), v.default.getMultiLangText("ShipName_G"), v.default.getMultiLangText("ShipName_B"), v.default.getMultiLangText("ShipID"), v.default.getMultiLangText("Occupied"), v.default.getMultiLangText("AccumulatePrizes")], t);
                                                y.default.EnableWindow(e)
                                            }, !i.hasOwnProperty("occupy_data")) switch (i.occupy_data = {}, o) {
                                            case 89:
                                                i.occupy_data.submarine_name = "SUBMARINE_R";
                                                break;
                                            case 90:
                                                i.occupy_data.submarine_name = "SUBMARINE_G";
                                                break;
                                            case 91:
                                                i.occupy_data.submarine_name = "SUBMARINE_B"
                                        }
                                        this.getUniqueFishData(w).setCustomData(i);
                                        break;
                                    case d.FishType.CircusClown:
                                        i && i.hasOwnProperty("CircusClown_odds") && this.getUniqueFishData(w).setTargetNumber(i.CircusClown_odds), this.getUniqueFishData(w).bindFish(O)
                                }
                            } else if (_ > 1) {
                                for (T = [], M = 0; M < _; M++)(A = c.default.SpawnFish(o)) && (A.setPosition(new cc.Vec2(-1920, -1680)), (O = A.getComponent(h.default)) && (O.enabled = !0, O.Event_FishInit = this.OnFishInit.bind(this), O.Init(t, (s + M).toString(), C, h.BEHAVIOR_TYPE.SEEK, e), this.AddFishByID(O), T.push(O.node), O.Event_FishEnter = this.OnFishEnter.bind(this)));
                                T.length > 0 && (F = {
                                    members: T,
                                    sync: n
                                }, T[0].getComponent(h.default).InitSeek(b, P, F))
                            } else console.warn("fish size error"), console.warn(t);
                            return [2]
                        })
                    })
                }, e.prototype.SummonFish = function(t) {
                    var e = this;
                    t.forEach(function(t) {
                        var n = t.type,
                            i = t.id,
                            o = e.fish_info[n].alive || 100,
                            a = c.default.SpawnFish(n);
                        if (a) {
                            var s = a.getComponent(h.default);
                            if (s) {
                                s.enabled = !0;
                                var r = {};
                                r[l.FishData.type] = n, r[l.FishData.id] = i, r[l.FishData.x] = t.x, r[l.FishData.y] = t.y, r[l.FishData.feature] = 0;
                                var u = e.fish_info[n].behavior_type || 0,
                                    p = t.extra_data;
                                s.Event_FishInit = e.OnFishInit.bind(e), s.Init(r, i.toString(), o, u, p), e.AddFishByID(s), s.InitSummonBehavior();
                                var f = d.default.getFishType(n);
                                switch (f) {
                                    case d.FishType.RedDragon:
                                        var y = {
                                            time: 1e4,
                                            callback: function() {
                                                e.recycleUniqueFishData(d.FishType.RedDragon)
                                            }
                                        };
                                        e.getUniqueFishData(f).setTimeEvent(y)
                                }
                            }
                        }
                    })
                }, e.prototype.GenerateArmy = function(t, e, n, i, o) {
                    return void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === o && (o = cc.Vec2.ZERO), s(this, void 0, void 0, function() {
                        var a, s, c, l, h, p, d, f, y, m, g;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, u.default.Instance.loadJson("FishHunter/Res/data/army/" + t)];
                                case 1:
                                    for (a = r.sent(), s = a.cnt, c = a.fishDataList, l = {}, h = 0, p = 0; p < s; p++) c.hasOwnProperty(p) && (d = c[p].fishtype, f = .1 * Math.round(10 * c[p].delayTime), y = f.toString().substr(0, 4), null == (m = l[y]) && (m = new Array), (g = {}).id = (e + p + 1).toString(), g.type = d, g.fishPath = a.fishPath[c[p].pathIndex], g.delayTime = f, m.push(g), l[y] = m, f > h && (h = f));
                                    return l.max_sec = h, l.sec_count = i - 2, l.position = o, n = n || Math.floor(this.current_frame), this.army_queue[n] = l, this.army_key.push(n), [2]
                            }
                        })
                    })
                }, e.prototype.OnFishEnter = function(t) {
                    null != this.Event_FishEnter && this.Event_FishEnter(t)
                }, e.prototype.OnFishInit = function(t) {
                    null != this.Event_FishInit && this.Event_FishInit(t)
                }, e.prototype.CreateFakeFish = function(t, e, n, i) {
                    void 0 === i && (i = 0);
                    var o = e,
                        a = t,
                        s = c.default.SpawnFish(o);
                    if (s) {
                        var r = s.getComponent(h.default);
                        if (r) return r.ID = a.toString(), r.Type = e, r.Feature = i, r.AliveTime = 50, r.InitParameter(), this.AddFishByID(r), s.setPosition(n), r
                    }
                    return null
                }, e.prototype.ConvFishType = function(t, e) {
                    switch (e) {
                        case 1:
                        case 2:
                            t = d.default.FeatureType[e][t]
                    }
                    return t
                }, e.prototype.ToBaseType = function(t) {
                    return t >= 200 ? t % 100 : t
                }, e.prototype.FishRunOut = function(t, e, n) {
                    var i = this;
                    this.FishSpeedUp(t, e, n), Object.keys(this.fish_manager).forEach(function(t) {
                        var e = i.fish_manager[t];
                        e.FishFadeOut(3, h.FishOutType.FISH_FORCE_LEAVE), e.FishRunOut(n)
                    })
                }, e.prototype.FishSpeedUp = function(t, e, n) {
                    if (this.ai_seek && e && (this.ai_seek.SetSpeedScale(e, n), this.ai_is_speed_up = !0), this.ai_is_speed_up) {
                        if (n && (this.ai_speed_up_time = n), this.ai_speed_up_time <= 0) return this.ai_seek.ResetSpeedScale(), void(this.ai_is_speed_up = !1);
                        this.ai_speed_up_time -= t
                    }
                }, e.prototype.FishFadeOut = function() {
                    var t = this;
                    Object.keys(this.fish_manager).forEach(function(e) {
                        t.fish_manager[e].FishFadeOut(3, h.FishOutType.FISH_FORCE_LEAVE)
                    }), this.uniqueFishData && this.uniqueFishData.forEach(function(t) {
                        t && t.Hide()
                    })
                },e.prototype.FishIn = function(t) {
                    u.default.FishSystem && u.default.FishSystem.FishIn(t)
                }, e.prototype.FishOut = function(t) {
                    u.default.FishSystem && u.default.FishSystem.FishOut(t)
                }, e.prototype.KillFish = function(t, e, n, i, o, a, s, r) {
                    if (void 0 === o && (o = !0), void 0 === a && (a = !1), void 0 === s && (s = function() {}), null != e && e.node && e.node.active && (e.FishDie(t, o, r), !(n <= 0))) {
                        null == o && (o = !0), null == a && (a = !1), null == s && (s = function() {});
                        var c = 0,
                            l = d.FishType.Normal;
                        switch (r && 1 == r.AllTypeNormal || (l = d.default.getFishType(e.Type)), l) {
                            case d.FishType.Normal:
                                this.winSide || (this.winSide = cc.v2(.5 * S.default.WinSize.width, .5 * S.default.WinSize.height));
                                var h = e.node.getPosition();
                                h.x > this.winSide.x - 50 ? h.x = this.winSide.x - 100 - 100 * Math.random() : h.x < 50 - this.winSide.x && (h.x = 100 - this.winSide.x + 100 * Math.random()), h.y > this.winSide.y - 50 ? h.y = this.winSide.y - 100 - 100 * Math.random() : h.y < 50 - this.winSide.y && (h.y = 100 - this.winSide.y + 100 * Math.random()), e.node.setPosition(h);
                                var u = r ? r.CoinEndPos : null;
                                r && 0 == r.showScore ? (f.default.Instance.DropCoin(e.node.getPosition(), t, !a, !1, n, u), c = 1) : c = f.default.Instance.NormalFishMoneyNum(e.node.getPosition(), n, i, t, o, !a, u);
                                break;
                            case d.FishType.Double:
                                c = f.default.Instance.DoubleFishMoneyNum(e, n, i, t, !a);
                                break;
                            case d.FishType.HumpbackWhale:
                                c = f.default.Instance.HumpbackWhaleAward(e, n, i, t, !a);
                                break;
                            case d.FishType.FireDragon:
                            case d.FishType.KingCrab:
                            case d.FishType.KingLacoste:
                            case d.FishType.KingAngle:
                            case d.FishType.KingTaco:
                            case d.FishType.Mermaid:
                            case d.FishType.DragonTurtle:
                            case d.FishType.Phoenix:
                            case d.FishType.IceDragon:
                                c = f.default.Instance.BossAward(e, n, i, t, !a);
                                break;
                            case d.FishType.WealthGod:
                                var p = r.level;
                                c = f.default.Instance.WealthGodAward(e, n, i, p, t, !a);
                                break;
                            case d.FishType.TreasureCrab:
                                c = f.default.Instance.TreasureCrabAward(e, n, i, t, !a)
                        }
                        s(c)
                    }
                }, e.prototype.AddFishByID = function(t) {
                    this.fish_manager[t.ID] = t
                }, e.prototype.GetFishByID = function(t) {
                    var e = this;
                    if ("string" == typeof t || "number" == typeof t) {
                        t = "" + t;
                        var n = null;
                        return this.fish_manager.hasOwnProperty(t) && (n = this.fish_manager[t]), n
                    }
                    var i = [];
                    return t.forEach(function(t) {
                        t = "" + t, e.fish_manager.hasOwnProperty(t) && i.push(e.fish_manager[t])
                    }), i
                }, e.prototype.RemoveFishByID = function(t) {
                    this.fish_manager.hasOwnProperty(t) && delete this.fish_manager[t]
                }, e.prototype.GetRangeAttackableID = function(t, e, n) {
                    var i = e * e,
                        o = new Array;
                    for (var a in this.fish_manager)
                        if (this.fish_manager[a].canCollision && !this.fish_manager[a].isFeature) {
                            var s = this.fish_manager[a].node.getPosition();
                            if (s.subSelf(t), s.magSqr() <= i && (o.push(this.fish_manager[a].id), o.length >= n)) break
                        }
                    return o
                }, e.prototype.InFishRange = function(t) {
                    var e = [];
                    for (var n in this.fish_manager) this.fish_manager[n].canCollision && (d.default.ClickAvoidFish(this.fish_manager[n].Type) || this.fish_manager[n].PointInColliderRange(t) && e.push(n));
                    if (e.length > 0)
                        for (var i = d.default.getLockOder(), o = 0; o < i.length; o++)
                            for (var a = 0; a < e.length; a++)
                                if (this.fish_manager[e[a]].Type == i[o]) return this.fish_manager[e[a]];
                    return null
                }, e.prototype.GetNextLockFish = function(t, e) {
                    if (void 0 === e && (e = ""), null != d.default.LockSetting) {
                        for (var n = 0; n < d.default.LockSetting.length; n++)
                            for (var i in this.fish_manager)
                                if (this.fish_manager[i].id != e && this.fish_manager[i].canCollision && this.fish_manager[i].IsInScreen && this.fish_manager[i].Type == d.default.LockSetting[n] && this.fish_manager[i].GetLockLinkPoint(cc.Vec2.ZERO)) return this.fish_manager[i];
                        return null
                    }
                    return null
                }, e.prototype.CheckAnyFishInScreen = function() {
                    var t = !1;
                    for (var e in this.fish_manager)
                        if (this.fish_manager[e].IsInScreen) {
                            t = !0;
                            break
                        }
                    return t
                }, e.prototype.UniqueFishOddsEvent = function(t, e) {
                    this.getUniqueFishData(e).setTargetNumber(t)
                }, e.prototype.ClearFish = function() {
                    var t = this;
                    Object.keys(this.fish_manager).forEach(function(e) {
                        t.RemoveFishByID(e)
                    })
                }, e.prototype.Clear = function() {
                    this.ClearFish(), this.fish_manager = {}, this.fish_info = {}, this.army_key.length = 0, this.army_queue = {}, n.instance = null
                }, e.prototype.SetUnhitableFishColor = function(t, e) {
                    for (var n in this.fish_manager) {
                        var i = this.fish_manager[n]; - 1 != t.indexOf(i.Type) ? i.SetShapeColor(e) : i.SetShapeColor(cc.Color.WHITE)
                    }
                }, e.instance = null, n = a([b], e)
            }(cc.Component);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/FishSystem": "FishSystem",
        "../Award/AwardManager": "AwardManager",
        "../Common/AISeek": "AISeek",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "../Player/PopupWindowCtrl": "PopupWindowCtrl",
        "./BaseFish": "BaseFish",
        "./UniqueFishData": "UniqueFishData"
    }],
    FishMenuMgr: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a3457rSZ2FFjrWsjf8Lx1qj", "FishMenuMgr");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./FishMenu"),
            r = t("../Item/ItemButton"),
            c = t("../Item/ItemManager"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeRoot = null, e.m_nodeAllBtnList = null, e.m_nodeRingUp = null, e.m_nodeRingDown = null, e.m_btnOpen = null, e.m_btnClose = null, e.m_aryFishMenu = [], e.m_curFishMenu = null, e.m_aryShowBtnList = ["SummonButton", "FreezeButton"], e.m_aryCurBtnNodeList = [], e.TIME_ANIM = .35, e.itemBtnIndex = 0, e.NAME_REPEAT_EVENT_BTN = "Com_EventButton", e
                }
                return o(e, t), e.prototype.GetRootNode = function() {
                    return this.m_nodeRoot
                }, e.prototype.GetAllBtn = function() {
                    return this.m_nodeAllBtnList
                }, e.prototype.GetButtonNodeList = function() {
                    return this.m_aryCurBtnNodeList
                }, e.prototype.onLoad = function() {
                    this.ClearMenu()
                }, e.prototype.ShowMenu = function() {
                    var t = this.m_aryShowBtnList,
                        e = t.length;
                    if (e <= 0) console.error("menu button dataCount = 0");
                    else {
                        for (var n = 0; n < this.m_aryFishMenu.length; n++) {
                            var i = this.m_aryFishMenu[n];
                            if (i.GetAnchorCount() == e) {
                                this.m_curFishMenu = i;
                                break
                            }
                        }
                        if (null != this.m_curFishMenu) {
                            this.m_nodeRoot.active = !0, this.m_curFishMenu.SetActiveRoot(!0);
                            var o = 0;
                            for (n = 0; n < t.length; n++) {
                                console.log("\u7522\u751fData", t[n]);
                                var a = t[n],
                                    s = this.FindButton(a);
                                if (null != s) {
                                    s.parent = this.m_curFishMenu.GetAnchor()[o], a != this.NAME_REPEAT_EVENT_BTN && (s.scale = 1), s.setPosition(cc.v2(0, 0)), o++;
                                    var l = s.getComponent(r.default);
                                    l && (c.default.Instance.AddItemBtn(this.itemBtnIndex, l), this.itemBtnIndex++), this.m_aryCurBtnNodeList[n] = s
                                }
                            }
                            this.MenuOpen()
                        } else console.error("can't find menuGroup, dataCount = " + e)
                    }
                }, e.prototype.ClearMenu = function() {
                    for (var t = 0; t < this.m_aryFishMenu.length; t++) {
                        var e = this.m_aryFishMenu[t];
                        e.Clear(this.m_nodeAllBtnList), e.SetActiveRoot(!1)
                    }
                    this.m_nodeRoot.active = !1, this.itemBtnIndex = 0, this.m_aryCurBtnNodeList = []
                }, e.prototype.FindButton = function(t) {
                    if (t == this.NAME_REPEAT_EVENT_BTN) return null;
                    for (var e = 0; e < this.m_nodeAllBtnList.children.length; e++)
                        if (t == this.m_nodeAllBtnList.children[e].name) return this.m_nodeAllBtnList.children[e];
                    return null
                }, e.prototype.CheckFishMission = function() {
                    var t = !1;
                    if (null != l.LobbyClient.Instance.m_CommonEventInfo_900004) try {
                        var e = JSON.parse(l.LobbyClient.Instance.m_CommonEventInfo_900004);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0) {
                            var n = e.QuestList;
                            if (n.lengt > 0)
                                for (var i = 0; i < n.length; i++)
                                    if (200 == n[i].TitleType) {
                                        t = !0;
                                        break
                                    }
                        }
                    } catch (h) {
                        return console.error("parseMisInfo"), !1
                    }
                    return t
                }, e.prototype.MenuShowEffect = function() {
                    var t = this,
                        e = cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                            t.callMenuClose(function() {
                                setTimeout(function() {
                                    t.MenuOpen()
                                }, 500)
                            })
                        }));
                    this.node.runAction(e)
                }, e.prototype.callMenuClose = function(t) {
                    void 0 === t && (t = null), this.m_btnClose.node.active = !1, this.m_btnOpen.node.active = !0, this.ResetRingState(!1);
                    var e = cc.spawn(cc.scaleTo(this.TIME_ANIM, 0).easing(cc.easeBackIn()), cc.fadeTo(this.TIME_ANIM, 120)),
                        n = cc.spawn(cc.scaleTo(this.TIME_ANIM, 0).easing(cc.easeBackIn()), cc.fadeTo(this.TIME_ANIM, 120));
                    this.m_nodeRingUp.runAction(e), this.m_nodeRingDown.runAction(n), this.m_curFishMenu && this.m_curFishMenu.HideAnim(this.TIME_ANIM, t)
                }, e.prototype.MenuOpen = function() {
                    this.m_btnClose.node.active = !0, this.m_btnOpen.node.active = !1, this.ResetRingState(!0);
                    var t = cc.spawn(cc.scaleTo(this.TIME_ANIM, 1, 1).easing(cc.easeBackOut()), cc.fadeIn(this.TIME_ANIM)),
                        e = cc.spawn(cc.scaleTo(this.TIME_ANIM, 1, -1).easing(cc.easeBackOut()), cc.fadeIn(this.TIME_ANIM));
                    this.m_nodeRingUp.runAction(t), this.m_nodeRingDown.runAction(e), this.m_curFishMenu && this.m_curFishMenu.ShowAnim(this.TIME_ANIM)
                }, e.prototype.MenuClose = function() {
                    this.callMenuClose()
                }, e.prototype.ResetRingState = function(t) {
                    this.m_nodeRingUp.stopAllActions(), this.m_nodeRingDown.stopAllActions(), t ? (this.m_nodeRingUp.setScale(0), this.m_nodeRingUp.opacity = 120, this.m_nodeRingDown.setScale(0), this.m_nodeRingDown.opacity = 120) : (this.m_nodeRingUp.setScale(1), this.m_nodeRingUp.opacity = 255, this.m_nodeRingDown.setScale(1, -1), this.m_nodeRingDown.opacity = 255)
                }, a([p(cc.Node)], e.prototype, "m_nodeRoot", void 0), a([p(cc.Node)], e.prototype, "m_nodeAllBtnList", void 0), a([p(cc.Node)], e.prototype, "m_nodeRingUp", void 0), a([p(cc.Node)], e.prototype, "m_nodeRingDown", void 0), a([p(cc.Button)], e.prototype, "m_btnOpen", void 0), a([p(cc.Button)], e.prototype, "m_btnClose", void 0), a([p([s.default])], e.prototype, "m_aryFishMenu", void 0), a([u], e)
            }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../Item/ItemButton": "ItemButton",
        "../Item/ItemManager": "ItemManager",
        "./FishMenu": "FishMenu"
    }],
    FishMenu: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "07147wULiZEaLb/xA9uWXBo", "FishMenu");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeRoot = null, e.m_aryAnchor = [], e
                }
                return o(e, t), e.prototype.GetAnchorCount = function() {
                    return this.m_aryAnchor.length
                }, e.prototype.GetAnchor = function() {
                    return this.m_aryAnchor
                }, e.prototype.SetActiveRoot = function(t) {
                    this.m_nodeRoot.active = t
                }, e.prototype.Clear = function(t) {
                    for (var e = 0; e < this.m_aryAnchor.length; e++) this.m_aryAnchor[e].childrenCount > 0 && (this.m_aryAnchor[e].children[0].parent = t)
                }, e.prototype.ShowAnim = function(t) {
                    this.m_nodeRoot.setScale(0), this.m_nodeRoot.opacity = 0;
                    var e = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(t, 1).easing(cc.easeBackOut()), cc.fadeIn(t)));
                    this.m_nodeRoot.runAction(e)
                }, e.prototype.HideAnim = function(t, e) {
                    void 0 === e && (e = null), this.m_nodeRoot.setScale(1), this.m_nodeRoot.opacity = 255;
                    var n = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(t, 0).easing(cc.easeBackIn()), cc.fadeOut(t)), cc.callFunc(function() {
                        null != e && e()
                    }));
                    this.m_nodeRoot.runAction(n)
                }, a([c(cc.Node)], e.prototype, "m_nodeRoot", void 0), a([c([cc.Node])], e.prototype, "m_aryAnchor", void 0), a([r], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    FishMissionData: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ecfc6RaKwpKNLABn7zA73aU", "FishMissionData"), Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishQustObjectiveType = n.FishUserQuestDataStatus = n.FishMissionAward = n.FishMissionData = void 0;
        n.FishMissionData = function() {
            this.Status = -1
        };
        n.FishMissionAward = function() {
                this.ItemID = [], this.ItemAmount = []
            },
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILAALDE = 1] = "AWARD_AVAILAALDE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(n.FishUserQuestDataStatus || (n.FishUserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.GET_ANY_FISH = 4] = "GET_ANY_FISH", t[t.GET_FISH = 5] = "GET_FISH", t[t.USE_ANY_ITEM = 6] = "USE_ANY_ITEM", t[t.ANY_CRAB = 7] = "ANY_CRAB"
            }(n.FishQustObjectiveType || (n.FishQustObjectiveType = {})), cc._RF.pop()
    }, {}],
    FishSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "aea1fcwP6RDN676WQqzX6re", "FishSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishSystem = n.FishData = void 0;
        var a = t("./baseSystem"),
            s = {
                fish_out: "f0",
                fish_create: "f1",
                fish_event: "f2",
                fish_scene: "f3",
                fish_script: "f4",
                fish_script_time: "f5",
                fish_script_event: "f6",
                fish_feature_event: "f7",
                fish_army_add: "fish_army_add"
            };
        n.FishData = {
            id: "1",
            type: "2",
            x: "3",
            y: "4",
            o: "5",
            feature: "6",
            position: "7",
            size: "8",
            frame: "9",
            script_type: "10",
            fish_group: "11",
            fish: "12",
            current: "13",
            scene: "14",
            parameter: "15",
            king_status: "16",
            path: "17",
            summon: "18",
            path_index: "19",
            ai_seed: "20",
            treasure_win: "21",
            treasure_level: "22"
        };
        var r = function(t) {
            function e(e) {
                var n = t.call(this, e, "fish") || this;
                return n.FishScriptEvent = null, n.CreateFishEvent = null, n.ScriptTimeEvent = null, n.ScriptEvent = null, n.FeatureEvent = null, n.RegisterCmdCallback(s.fish_script, n.onFishScript.bind(n)), n.RegisterCmdCallback(s.fish_event, n.onFishEvent.bind(n)), n.RegisterCmdCallback(s.fish_create, n.onCreateFish.bind(n)), n.RegisterCmdCallback(s.fish_script_time, n.onScriptTime.bind(n)), n.RegisterCmdCallback(s.fish_script_event, n.onScriptEvent.bind(n)), n.RegisterCmdCallback(s.fish_feature_event, n.onFeatureEvent.bind(n)), n
            }
            return o(e, t), e.prototype.GetFishScript = function() {
                this.SendCmd(s.fish_script)
            }, e.prototype.onFishScript = function(t, e) {
                if (console.log("[onFishScript]data: " + JSON.stringify(e)), this.FishScriptEvent) {
                    var i = e[n.FishData.current],
                        o = e[n.FishData.scene],
                        a = e[n.FishData.fish_group],
                        s = e.timestamp,
                        r = e[n.FishData.parameter],
                        c = {};
                    e.hasOwnProperty("Vampire_odds") && (c.Vampire_odds = e.Vampire_odds), e.hasOwnProperty("LuckyBuddha_odds") && (c.LuckyBuddha_odds = e.LuckyBuddha_odds), e.hasOwnProperty("treasure_score") && (c.treasure_score = e.treasure_score), e.hasOwnProperty("treasure_level") && (c.treasure_level = e.treasure_level), e.hasOwnProperty("large_capture_score") && (c.large_capture_score = e.large_capture_score), e.hasOwnProperty("medium_capture_score") && (c.medium_capture_score = e.medium_capture_score), e.hasOwnProperty("small_capture_score") && (c.small_capture_score = e.small_capture_score), e.hasOwnProperty("submarine_occupy_data_list") && (c.submarine_info_list = e.submarine_occupy_data_list), e.hasOwnProperty("CircusClown_odds") && (c.CircusClown_odds = e.CircusClown_odds), this.FishScriptEvent(i, o, a, s, r, c)
                }
            }, e.prototype.onCreateFish = function(t, e) {
                if (this.CreateFishEvent) {
                    var i = e[n.FishData.script_type],
                        o = e.timestamp,
                        a = e[n.FishData.fish_group],
                        s = e[n.FishData.parameter],
                        r = {};
                    e.hasOwnProperty("Vampire_odds") && (r.Vampire_odds = e.Vampire_odds), e.hasOwnProperty("LuckyBuddha_odds") && (r.LuckyBuddha_odds = e.LuckyBuddha_odds), e.hasOwnProperty("treasure_score") && (r.treasure_score = e.treasure_score), e.hasOwnProperty("treasure_level") && (r.treasure_level = e.treasure_level), e.hasOwnProperty("capture_score") && (r.capture_score = e.capture_score), e.hasOwnProperty("occupy_data") && (r.occupy_data = e.occupy_data), e.hasOwnProperty("CircusClown_odds") && (r.CircusClown_odds = e.CircusClown_odds), this.CreateFishEvent(i, a, o, s, r)
                }
            }, e.prototype.FishIn = function(t) {
                var e = {};
                e[n.FishData.id] = t, this.SendCmd(s.fish_army_add, e)
            }, e.prototype.FishOut = function(t) {
                var e = {};
                e[n.FishData.id] = t, this.SendCmd(s.fish_out, e)
            }, e.prototype.SendFishScript = function() {
                this.SendCmd(s.fish_script_time, null)
            }, e.prototype.onScriptTime = function(t, e) {
                if (this.ScriptTimeEvent) {
                    var i = e[n.FishData.id],
                        o = e[n.FishData.current],
                        a = e.timestamp;
                    this.ScriptTimeEvent(i, o, a)
                }
            }, e.prototype.onScriptEvent = function(t, e) {
                if (this.ScriptEvent) {
                    var i = e[n.FishData.type];
                    this.ScriptEvent(i)
                }
            }, e.prototype.onFeatureEvent = function(t, e) {
                this.FeatureEvent && this.FeatureEvent(e)
            }, e.prototype.onFishEvent = function() {}, e
        }(a.default);
        n.FishSystem = r, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    FlameStormBullet: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b3ac9cusFBGo7zKTPztKTM3", "FlameStormBullet");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBullet"),
            r = t("../Player/PlayerManager"),
            c = t("../Common/ResourceManager"),
            l = t("./WeaponManager"),
            h = t("../../GameClient"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.onCollisionEnter = function(t) {
                    if (this.canCollision) {
                        var e = t.getComponent("BaseFish");
                        if (!e)
                            for (var n = 0, i = t.node.parent; n < 5 && i && !(e = i.getComponent("BaseFish"));) i = i.parent, n++;
                        e && e.CanCollisionByMainSeat(r.PlayerManager.isMainSeat(this.seat)) && !e.IsFeatureFish && (this.SendBlast(Number(e.ID)), r.PlayerManager.isMainSeat(this.seat) && e.OnHitFish(), this.canCollision = !1)
                    }
                }, e.prototype.SendBlast = function(t) {
                    this.CreateExplodeEffect(this.node.getPosition());
                    var e = this.bulletID,
                        n = this.seat;
                    this.Recycle(), l.default.Instance.bulletCount[n]--, r.PlayerManager.isMainSeat(n) && h.default.SkillSystem.FlameStormBlast(e, n, t)
                }, e.prototype.CreateExplodeEffect = function(t) {
                    var e = c.default.SpawnEffect("FlameStorm_ExplodeEffect", r.PlayerManager.isMainSeat(this.seat));
                    e && (e.setPosition(t), e.angle = this.node.angle - 90)
                }, a([p], e)
            }(s.default));
        n.default = d, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet",
        "./WeaponManager": "WeaponManager"
    }],
    FlameStormWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c90adwZQ2pMLbGOgn5YgMY0", "FlameStormWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseWeapon"),
            r = t("./WeaponManager"),
            c = cc._decorator.ccclass,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.lastShootTime = (new Date).getTime(), e.shootGap = 100, e.autoShootGap = 170, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.playerSeat = t, this.isGunReady = !1, this.node.angle = t < 2 ? 0 : 180, this.gunNode.active = !1, this.Type = r.WeaponType.FlameStorm
                }, e.prototype.ChangeGunAnim = function() {
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.scaleTo(.5, 1))
                }, e.prototype.ShootState = function(t) {
                    if (!this.isGunReady) return 0;
                    var e = (new Date).getTime() - this.lastShootTime;
                    return e < this.shootGap ? 0 : !t && e < this.autoShootGap ? 0 : 1
                }, e.prototype.ShootFunction = function(e) {
                    t.prototype.ShootFunction.call(this, e), this.lastShootTime = (new Date).getTime()
                }, a([c], e)
            }(s.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    FlameStorm_ScoreUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4d9d7BUtD5Mnb4HrvmkGqRa", "FlameStorm_ScoreUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseSkillScoreUI"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.multiNode = null, e.multiBG = null, e.multiText = null, e.timeText = null, e
                }
                return o(e, t), e.prototype.Init = function(e) {
                    t.prototype.Init.call(this, e), this.multiText.string = "x1", this.multiBG.color = cc.Color.BLUE, this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .65), cc.scaleTo(.5, .6))))
                }, e.prototype.SetMultiText = function(t) {
                    switch (this.multiText.string = "x" + t.toString(), t) {
                        case 3:
                            this.multiBG.color = cc.Color.CYAN, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .7), cc.scaleTo(.5, .6))));
                            break;
                        case 5:
                            this.multiBG.color = cc.Color.RED, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .75), cc.scaleTo(.5, .6))));
                            break;
                        case 7:
                            this.multiBG.color = cc.Color.MAGENTA, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .85), cc.scaleTo(.5, .7))));
                            break;
                        case 9:
                            this.multiBG.color = cc.Color.GREEN, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, 1), cc.scaleTo(.5, .8))))
                    }
                }, e.prototype.SetTimeText = function(t) {
                    this.timeText && (t < .01 && (t = 0), this.timeText.string = (t < 10 ? "0" : "") + t.toFixed(2))
                }, a([l(cc.Node)], e.prototype, "multiNode", void 0), a([l(cc.Node)], e.prototype, "multiBG", void 0), a([l(cc.Label)], e.prototype, "multiText", void 0), a([l(cc.Label)], e.prototype, "timeText", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseSkillScoreUI": "BaseSkillScoreUI"
    }],
    FreezeEffect: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "18622IgEsxGSb9ep1W8WoZO", "FreezeEffect");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/ResourceManager"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.anim = null, e.part = null, e.scale_range = 1, e.position_range = 250, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.anim.on("finished", this.finished.bind(this))
                }, e.prototype.Play = function() {
                    var t = this;
                    this.node.setPosition(this.node.x + (Math.random() - .5) * this.position_range, this.node.y + (Math.random() - .5) * this.position_range), this.node.setScale((.5 + Math.random()) * this.scale_range), this.node.angle = 359 * Math.random(), this.node.runAction(cc.sequence(cc.delayTime(.25 * Math.random()), cc.callFunc(function() {
                        t.anim.play("SnowFlake"), t.part.node.active = !0, t.part.resetSystem()
                    })))
                }, e.prototype.finished = function() {
                    this.part.node.active = !1, this.part.stopSystem(), s.default.DespawnEffect("freeze_effect", this.node)
                }, a([l(cc.Animation)], e.prototype, "anim", void 0), a([l(cc.ParticleSystem)], e.prototype, "part", void 0), a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager"
    }],
    GENIE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "cefbfwyZ5BAaaN99iF81XIu", "GENIE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ModelAni = [], e.SMR = [], e.ModelMat = [], e.Smoke = [], e.LightSpot = null, e.BurnMat = [], e.ice_group = [], e.color = cc.Color.WHITE, e.tween = null, e.newMat = null, e.downSound = null, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e.LifeTimer = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    t.prototype.onLoad.call(this), this.shapeNode || (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.color = cc.Color.WHITE))
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.tween && (this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color)), this.timerPause || (this.eventTimer > 0 && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent())), this.LifeTimer > 0 && (this.LifeTimer -= e, this.LifeTimer <= 0 && (this.LifeTimer = 0, this.FishFadeOut(.5, h.FishOutType.FISH_PATH_FINISH))))
                }, e.prototype.InitParameter = function() {
                    var e = this;
                    t.prototype.InitParameter.call(this), this.isFeature = !0;
                    var n = 9 * (this.x - 50);
                    if (this.node.setPosition(n, 0), this.node.angle = c.default.isReverse ? 180 : 0, this.LightSpot.stopSystem(), null == this.newMat) {
                        this.newMat = [];
                        for (var i = 0; i < this.ModelMat.length; i++) {
                            var o = cc.MaterialVariant.create(this.ModelMat[i], this.SMR[i]);
                            this.newMat.push(o)
                        }
                    }
                    for (this.color = cc.Color.WHITE, i = 0; i < this.ModelAni.length; i++) this.SMR[i].setMaterial(0, this.newMat[i]), this.newMat[i].setProperty("diffuseColor", this.color);
                    this.node.opacity = 255, this.ModelAni[0].node.setScale(1), this.ModelAni[1].node.setScale(150), this.ModelAni[2].node.setScale(1), this.shapeNode.eulerAngles = cc.v3(30, 0, 0), cc.tween(this.ModelAni[0].node).to(.5, {
                        scale: 150
                    }).start(), this.PlayClip("Enter", !1), this.SetNextClip("ShakeLoop", !0), this.Smoke[0].resetSystem(), this.scheduleOnce(function() {
                        e.aliveStatus == h.FishState.ALIVE && e.LightSpot.resetSystem()
                    }, .5), l.default.Instance.Play("Genie_in_01"), this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.LifeTimer = 10, this.schedule(this.randomVoice, 3)
                }, e.prototype.FishFadeOut = function(t, e) {
                    var n = this;
                    void 0 === t && (t = .5), this.unschedule(this.randomVoice), this.LifeTimer = 0, this.SetNextClip("Leave", !1, function() {
                        cc.tween(n.ModelAni[0].node).delay(.7).call(function() {
                            n.aliveStatus == h.FishState.ALIVE && (n.canCollision = !1, cc.tween(n.ModelAni[1].node).delay(.2).to(.2, {
                                scale: 1
                            }).start()), n.LightSpot.stopSystem()
                        }).to(.3, {
                            scale: 1
                        }).start(), l.default.Instance.Play("Genie_out_01")
                    }, function() {
                        n.scheduleOnce(function() {
                            n.node.opacity = 0, n.FishOut(e)
                        }, .5)
                    })
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            for (this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.LifeTimer = 0, this.eventTimer = 0, this.animEvent = null, this.node.opacity = 255, this.LightSpot.stopSystem(), this.unschedule(this.randomVoice), this.PlayClip("", !1), t = 0; t < this.ModelAni.length; t++) cc.Tween.stopAllByTarget(this.ModelAni[t].node);
                            return this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color)), this.Event_FishLeave && this.Event_FishLeave(this, 6), this.ice_group.forEach(function(t) {
                                t.active = !1
                            }), [2]
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    for (var e = 0; e < this.ModelAni.length; e++) this.ModelAni[e].stop(), cc.Tween.stopAllByTarget(this.ModelAni[e].node);
                    this.downSound && (l.default.Instance.Stop(this.downSound), this.downSound = null), t.prototype.RemoveSelf.call(this)
                }, e.prototype.OnHitFish = function() {
                    var t = this;
                    this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                        r: 200,
                        g: 0,
                        b: 0
                    }).to(.1, {
                        r: 255,
                        g: 255,
                        b: 255
                    })).call(function() {
                        t.tween = null, t.color = cc.Color.WHITE, t.newMat[0].setProperty("diffuseColor", t.color), t.newMat[1].setProperty("diffuseColor", t.color)
                    }).start()
                }, e.prototype.PauseClip = function() {
                    for (var t = 0; t < this.ModelAni.length; t++) this.ModelAni[t].pause(), this.ModelAni[t].node.pauseAllActions();
                    this.timerPause = !0
                }, e.prototype.ResumeClip = function() {
                    for (var t = 0; t < this.ModelAni.length; t++) this.ModelAni[t].resume(), this.ModelAni[t].node.resumeAllActions();
                    this.timerPause = !1
                }, e.prototype.PlayClip = function(t, e, n, i) {
                    this.animEvent = null, this.eventTimer = 0;
                    var o = [];
                    i ? o.push(i) : o = this.ModelAni;
                    for (var a = 0; a < o.length; a++) {
                        var s = o[a].getAnimationState(t);
                        s && (o[a].play(t), s.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, s.speed = 1, null == this.animEvent && n && (this.animEvent = n), s.duration > this.eventTimer && (this.eventTimer = s.duration))
                    }
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.animEvent = null, this.eventTimer = 0;
                    for (var a = 0; a < this.ModelAni.length; a++)
                        if (this.ModelAni[a].currentClip) {
                            var s = this.ModelAni[a].getAnimationState(this.ModelAni[a].currentClip.name);
                            if (s) {
                                var r = s.duration - s.time;
                                r > this.eventTimer && (this.eventTimer = r)
                            }
                        }
                    this.animEvent = function() {
                        n && n(), o.PlayClip(t, e, i)
                    }, this.eventTimer <= 0 && this.animEvent()
                }, e.prototype.SetClipSpeed = function(t) {
                    for (var e = 0; e < this.ModelAni.length; e++)
                        if (this.ModelAni[e].currentClip) {
                            var n = this.ModelAni[e].getAnimationState(this.ModelAni[e].currentClip.name);
                            if (n) {
                                var i = n.speed;
                                i != t && (n.speed = t, this.eventTimer > 0 && (this.eventTimer = this.eventTimer * (i / t)))
                            }
                        }
                }, e.prototype.eulerTurn = function(t, e) {
                    this.shapeNode.runAction(cc.rotate3DTo(t, e))
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.PauseClip(), this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.ResumeClip(), this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.RubReady = function(t, e) {
                    var n = this;
                    this.ModelAni[1].node.setScale(150), this.ModelAni[2].node.setScale(1), cc.tween(this.ModelAni[0].node).to(1.3, {
                        scale: 1
                    }).start(), this.PlayClip("RubReady", !1, function() {
                        n.ModelAni[2].node.setScale(150), l.default.Instance.Play("Genie_Aladdin_jump_01"), n.PlayClip("JumpIn", !1, function() {
                            cc.tween(n.ModelAni[0].node).delay(.4).to(.05, {
                                scale: 150
                            }).start(), n.PlayClip("RubStart", !1, function() {
                                null == n.downSound && (n.downSound = l.default.Instance.Play("Genie_down_01", 1, !0)), n.PlayClip("RubLoop", !0), e()
                            }), t()
                        }, n.ModelAni[2])
                    }), this.ResumeClip()
                }, e.prototype.RubBack = function(t, e) {
                    var n = this;
                    this.SetNextClip("RubBack", !1, function() {
                        n.downSound && (l.default.Instance.Stop(n.downSound), n.downSound = null), cc.tween(n.ModelAni[0].node).delay(.05).to(.2, {
                            scale: 1
                        }).start(), t()
                    }, function() {
                        cc.tween(n.ModelAni[0].node).delay(.4).to(.05, {
                            scale: 150
                        }).start(), n.PlayClip("RubStart", !1, function() {
                            null == n.downSound && (n.downSound = l.default.Instance.Play("Genie_down_01", 1, !0)), n.PlayClip("RubLoop", !0), e()
                        })
                    })
                }, e.prototype.RubFail = function(t) {
                    var e = this;
                    this.SetNextClip("RubFail", !1, function() {
                        e.downSound && (l.default.Instance.Stop(e.downSound), e.downSound = null), l.default.Instance.Play("Genie_fail_01"), cc.tween(e.ModelAni[0].node).delay(.05).to(.2, {
                            scale: 1
                        }).start(), e.PlayClip("RubBack", !1, null), e.Smoke[1].resetSystem();
                        for (var n = 0; n < e.BurnMat.length; n++) e.SMR[n + 1].setMaterial(0, e.BurnMat[n]);
                        t()
                    })
                }, e.prototype.MadnessStart = function(t, e) {
                    var n = this;
                    this.SetNextClip("AwakeStart", !1, function() {
                        n.downSound && (l.default.Instance.Stop(n.downSound), n.downSound = null), n.PlayClip("RubBack", !1, null, n.ModelAni[2]), n.Smoke[0].resetSystem(), cc.tween(n.ModelAni[1].node).to(1, {
                            scale: 1
                        }).start(), cc.tween(n.ModelAni[2].node).to(1, {
                            scale: 1
                        }).start(), t()
                    }, function() {
                        n.PlayClip("AwakeIdle", !0), e()
                    })
                }, e.prototype.randomVoice = function() {
                    var t = 2 + Math.floor(2 * Math.random());
                    l.default.Instance.Play("Genie_demo_0" + t.toString())
                }, a([d([cc.SkeletonAnimation])], e.prototype, "ModelAni", void 0), a([d([cc.SkinnedMeshRenderer])], e.prototype, "SMR", void 0), a([d([cc.Material])], e.prototype, "ModelMat", void 0), a([d([cc.ParticleSystem])], e.prototype, "Smoke", void 0), a([d(cc.ParticleSystem)], e.prototype, "LightSpot", void 0), a([d([cc.Material])], e.prototype, "BurnMat", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    GIANT_PUFFER_FISH: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "76f9eW9jrJJjb0hE7Jp+yo1", "GIANT_PUFFER_FISH");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseFish"),
            l = cc._decorator.ccclass,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.step = 0, e.timer = 0, e.isExpand = !1, e.inflated = [], e
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.inflated = this.parameter.inflated, this.step = 0, this.timer = 0, this.isExpand = !1
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.timer += e, this.aliveStatus == c.FishState.ALIVE && this.inflated && this.timer >= this.inflated[this.step] && (this.Expand(), this.step = this.step + 1 >= this.inflated.length - 1 ? this.inflated.length - 1 : this.step + 1, this.timer = 0)
                }, e.prototype.FishDie = function(e, n, i) {
                    return void 0 === n && (n = !0), s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return t.prototype.FishDie.call(this, e, n, i), this.step = 0, this.timer = 0, this.isExpand = !1, [2]
                        })
                    })
                }, e.prototype.Expand = function() {
                    this.isExpand ? (this.mAnim && this.mAnim.play("EndExpand"), this.isExpand = !1) : (this.mAnim && this.mAnim.play("StartExpand"), this.isExpand = !0)
                }, a([l], e)
            }(c.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    GURNARD: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "398f9L+ZJJHUonrX0zuoNYW", "GURNARD");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    GameClient: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7c419zwQP9FN6wHshpVbw4A", "GameClient");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.OpenOtherPlayerProfile = n.OpenMainPlayerProfile = void 0;
        var c, l = t("./MainGame/Common/FishMenuMgr"),
            h = t("./MainGame/Common/PreloadManager"),
            u = t("./System/FishSystem"),
            p = t("./System/GameSystem"),
            d = t("./System/ItemSystem"),
            f = t("./System/KioskSystem"),
            y = t("./System/MissionSystem"),
            m = t("./System/PlayerSystem"),
            g = t("./System/SkillSystem"),
            S = t("./System/WeaponSystem"),
            _ = t("./MainGame/Common/MultiLangSystem"),
            v = t("./MainGame/Common/ResourceManager"),
            b = t("./MainGame/Player/PlayerManager"),
            P = t("./MainGame/Weapon/WeaponManager"),
            C = t("./MainGame/Fish/FishManager"),
            w = t("./MainGame/Game/GameManager"),
            I = t("./MainGame/Item/ItemManager"),
            k = t("./MainGame/Skill/BaseSkill"),
            T = t("./MainGame/Common/EnumFilter"),
            M = t("./Event/EventPuzzleDropEggMgr"),
            A = t("./MainGame/Player/PopupWindowCtrl"),
            O = t("../../../FishCommon/Script/FishUIMgr"),
            F = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            E = t("../../../LobbyCommon/Net/LobbyClient"),
            R = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            B = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            L = t("../../../LobbyCommon/Loading/Script/LoadingMgr"),
            D = t("../../../LobbyCommon/Component/AudioMgr"),
            G = t("../../../FishCommon/Script/CanvasHandler"),
            N = t("../../../LobbyCommon/EventModule/FishOceanHeart/Script/FishOceanHeartMgr"),
            U = t("../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggMgr"),
            x = t("../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl"),
            W = t("../../../LobbyCommon/TopBar/Script/TopbarMgr"),
            j = t("../../../FishCommon/Script/FishCommonRoot"),
            H = t("../../../LobbyCommon/LobbyCommon"),
            V = t("../../../LobbyCommon/Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.SEND_CMD = 0] = "SEND_CMD", t[t.GET_RECV = 1] = "GET_RECV"
        })(c || (c = {})),
        function(t) {
            t[t.InFishBattleShipInfo = 5] = "InFishBattleShipInfo", t[t.InFishBattleShip = 6] = "InFishBattleShip", t[t.InFishBattleShipPanelInfo = 7] = "InFishBattleShipPanelInfo", t[t.InFishBattleShipPanelSingle = 8] = "InFishBattleShipPanelSingle", t[t.InFish = 9] = "InFish"
        }(n.OpenMainPlayerProfile || (n.OpenMainPlayerProfile = {})),
        function(t) {
            t[t.InFishBattleShipInfo = 2] = "InFishBattleShipInfo", t[t.InFishBattleShip = 3] = "InFishBattleShip", t[t.InFishBattleShipPanelInfo = 4] = "InFishBattleShipPanelInfo", t[t.InFishBattleShipPanelSingle = 5] = "InFishBattleShipPanelSingle", t[t.InFish = 6] = "InFish"
        }(n.OpenOtherPlayerProfile || (n.OpenOtherPlayerProfile = {}));
        var K = cc._decorator,
            z = K.ccclass,
            q = K.property,
            Q = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.GameName = "", e.title = "", e.CommonRootPrefab = null, e.FishMenuRootPrefab = null, e.PopupWindowPrefab = null, e.BarRoot = null, e.HasJP = !1, e.HasBundle = !1, e.IsWaitInitJpValue = !0, e.DownloadBundleFinished = !0, e.gameNetWork = null, e.arkSocketClient = null, e.gameSystem = null, e.fishSystem = null, e.playerSystem = null, e.WeaponSystem = null, e.SkillSystem = null, e.itemSystem = null, e.m_FishMenuMgr = null, e.m_FishMissionSystem = null, e.m_KioskSystem = null, e.fishUIMgr = null, e.topBar = null, e.JPBarRoot = null, e.isReturnToLobby = !1, e.isStopUpdate = !1, e.m_EventInfoState = c.NONE, e.m_tempQuestData = void 0, e.m_isEnableMission = !1, e.m_isEnableItem = !1, e.m_strEventTime = "", e.m_iSendQuestNum = 2, e.m_iRecQuestNum = 0, e.m_bOceanHeart = !1, e.m_bPuzzleButNoThisGame = !1, e.m_tempPlayerInfoData = {}, e.m_CurBet = 1, e.m_CurBetScale = 1, e.m_CurShootPerSecond = 6, e.m_CurCostPerSecond = 0, e.GetPromEvent = null, e.RELOAD_EXPIRE_TIME = 30, e.m_OceanHeartMgr = null, e.m_FishPuzzleEggMgr = null, e.RecordingSkillID = null, e.cheatBtn = null, e.cheatMode = 0, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance ? this.instance : (this.instance = cc.find("GameClient").getComponent(n), this.instance)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "FishCommonRoot", {
                    get: function() {
                        return F.CommonRoot.Instance ? F.CommonRoot.Instance : null
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "GameSystem", {
                    get: function() {
                        return this.instance.gameSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "FishSystem", {
                    get: function() {
                        return this.instance.fishSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "PlayerSystem", {
                    get: function() {
                        return this.instance.playerSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "WeaponSystem", {
                    get: function() {
                        return this.instance.WeaponSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "SkillSystem", {
                    get: function() {
                        return this.instance.SkillSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "ItemSystem", {
                    get: function() {
                        return this.instance.itemSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "FishMenuMgr", {
                    get: function() {
                        return this.instance.m_FishMenuMgr
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "FishMissionSystem", {
                    get: function() {
                        return this.instance.m_FishMissionSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "KioskSystem", {
                    get: function() {
                        return this.instance.m_KioskSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "FishUIMgr", {
                    get: function() {
                        return this.instance.fishUIMgr
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.GetCurCostPerSecond = function() {
                    return this.m_CurCostPerSecond
                }, e.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function() {
                            return n.instance = this, "magiccity" == window.gd_nowLOGO && (H.LobbyCommon.Instance.OnSetupCompletedEvent = this.OnLobbyCommonReady.bind(this)), cc.view.resizeWithBrowserSize(!0), cc.view.setDesignResolutionSize(1136, 640, cc.ResolutionPolicy.SHOW_ALL), null != this.FishMenuRootPrefab && ((t = cc.instantiate(this.FishMenuRootPrefab)).parent = this.BarRoot, this.m_FishMenuMgr = t.getComponent(l.default)), e = null, null != this.BarRoot && null != this.CommonRootPrefab && ((e = cc.instantiate(this.CommonRootPrefab)).parent = this.BarRoot, this.fishUIMgr = F.CommonRoot.Instance.GetGameBar), "playgd" == window.gd_nowLOGO ? (this.topBar = F.CommonRoot.Instance.GetTopBarMgr, SS.Common.GameEnvironment.GameSetting && this.topBar.SetDisableMenuBtn(SS.Common.GameEnvironment.GameSetting.DisableMenuBtn), this.topBar.SetTopBarStatus(W.TopbarStatus.InGameNormal)) : "magiccity" == window.gd_nowLOGO && null != this.PopupWindowPrefab && null != e && (cc.instantiate(this.PopupWindowPrefab).parent = e.getComponent(j.default).m_PopupWindowRoot), this.IsWaitInitJpValue = this.HasJP, this.HasBundle && (this.DownloadBundleFinished = !1, V.EventSystem.Event(V.FishHunter.DownloadBundleFinished).Insert(this.OnDownloadBundleFinished, this)), this.GameName = SS.Common.GameEnvironment.CurrentGameNow, this.title = SS.Common.GameEnvironment.CurrentGameNow, this.InitArkClient(), [2]
                        })
                    })
                }, e.prototype.start = function() {
                    h.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this))
                }, e.prototype.update = function() {
                    var t = this;
                    if (!this.isStopUpdate)
                        if (E.LobbyClient.Instance && E.LobbyClient.Instance.GetLobbySystem && E.LobbyClient.Instance.GetLobbySystem.m_isPosKick) E.LobbyClient.Instance.GetLobbySystem.m_isPosKick = !1, this.isStopUpdate = !0, this.NetworkClear(), R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Critical, "S171", this.title, "PosKick");
                        else if (E.LobbyClient.Instance && E.LobbyClient.Instance.GetLobbySystem && -1 != E.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin) {
                        var e = E.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin;
                        E.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin = -1;
                        var n = this;
                        clearTimeout(n.shutdownTimeoutID), console.log(" wait " + e + "min for server to idle"), n.shutdownTimeoutID = setTimeout(function() {
                            n.isStopUpdate = !0, t.NetworkClear(), R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Critical, "S170", t.title, "Server Maintain", null)
                        }, 6e4 * e)
                    } else E.LobbyClient.Instance.IsSocketErrorClose && (E.LobbyClient.Instance.IsSocketErrorClose = !1, this.isStopUpdate = !0, this.NetworkClear(), this.isReturnToLobby || this.SocketErrorClose())
                }, e.prototype.SocketErrorClose = function() {
                    var t = this;
                    R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Disconnected, "C14", this.title, "The internet was diconnected.", function() {
                        var e, n;
                        B.ConnectPanelMgr.Instance.ShowConnectPanel(), e = SS.Common.GameEnvironment.UserID, n = SS.Common.GameEnvironment.UserPW, E.LobbyClient.Instance.DoLogin(window.location.protocol + "//" + window.location.host+'/game/FishWonderCatPGD/server?command=lobby&sessionId='+sessionStorage.getItem('sessionId'), e, n, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                    })
                }, e.prototype.DoLoginSuccess = function() {
                    L.LoadingMgr.Instance.OpenLoading(), L.LoadingMgr.Instance.SetProgress(80, 15), B.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var t = cc.director.getScene();
                    cc.director.loadScene(t.name, null)
                }, e.prototype.DoLoginFail = function(t, e, n) {
                    console.log("LoginFail", e), B.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var i = t.toString();
                    if ("VerifyMobile" === n) this.VerifyMobileFailHandle(t, e);
                    else if ("DeviceLogin" === n) this.DeviceLoginFailHandle(t, e);
                    else if ("PinLogin" === n) this.PinLoginFailHandle(t, e);
                    else if ("BindSocket" === n) t == ArkSDK.SocketResult.OK ? i = "S133" : t == ArkSDK.SocketResult.Timeout ? i = "S134" : t == ArkSDK.SocketResult.Error ? i = "S135" : t == ArkSDK.SocketResult.NotReset && (i = "S136"), this.ErrorHandler(i, e);
                    else if ("ConnectWebSocket" === n) {
                        var o = "";
                        try {
                            o = JSON.stringify(e)
                        } catch (a) {}
                        R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Critical, "S172", this.title, "connect socket error ! SocketResult : " + t + " data : " + o, null)
                    }
                }, e.prototype.DeviceLoginFailHandle = function(t, e) {
                    var n = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (n = "-1" == (n = e.reason) ? "S15" : "-2" == n ? "S16" : "-5" == n ? "S13" : "S14") : t == ArkSDK.HttpResult.Abort ? n = "S124" : t == ArkSDK.HttpResult.Timeout ? n = "S11" : t == ArkSDK.HttpResult.Error ? n = "S12" : t == ArkSDK.HttpResult.Status ? n = "S125" : t == ArkSDK.HttpResult.NotReset ? n = "S126" : t == ArkSDK.HttpResult.Condition && (n = "S127"), this.ErrorHandler(n, e)
                }, e.prototype.PinLoginFailHandle = function(t, e) {
                    var n = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? n = "-5" == (n = e.reason) ? "S23" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (n = "-3" == (n = e.reason) ? "S25" : "-4" == n ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? n = "S128" : t == ArkSDK.HttpResult.Timeout ? n = "S21" : t == ArkSDK.HttpResult.Error ? n = "S22" : t == ArkSDK.HttpResult.Status ? n = "S129" : t == ArkSDK.HttpResult.NotReset ? n = "S130" : t == ArkSDK.HttpResult.Condition && (n = "S131"), this.ErrorHandler(n, e)
                }, e.prototype.VerifyMobileFailHandle = function(t, e) {
                    var n = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (n = e.result) ? n = "S115" : "-4" == n ? n = "S116" : "-5" == n && (n = "S117")) : t == ArkSDK.HttpResult.Abort ? n = "S118" : t == ArkSDK.HttpResult.Timeout ? n = "S119" : t == ArkSDK.HttpResult.Error ? n = "S120" : t == ArkSDK.HttpResult.Status ? n = "S121" : t == ArkSDK.HttpResult.NotReset ? n = "S122" : t == ArkSDK.HttpResult.Condition && (n = "S123"), this.ErrorHandler(n, e)
                }, e.prototype.ErrorHandler = function(t, e) {
                    R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Critical, t, this.title, e, null)
                }, e.prototype.InitArkClient = function() {
                    var t = this;
                    Object.assign({}, E.LobbyClient.Instance.GetUserClient.GetPinClient), window.location.protocol, SS.Common.GameEnvironment.ProjectSetting.Modules[this.GameName].ServerHOST, _.default.Init("en-us", this.StartPreload.bind(this));
                    var e = Object.assign({}, E.LobbyClient.Instance.GetUserClient.GetPinClient),
                        n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules[this.GameName].ServerHOST;
                    this.gameNetWork = new SS.Network.GameNetwork(e, this.GameName, n, "kiosk"), this.gameNetWork.SendCmdButNotRetry("KioskUrl", {}, this.onGetKioskUrl.bind(this), function(e) {
                        t.ErrorHandler("C16", e.toString())
                    })
                }, e.prototype.StartPreload = function() {
                    null != this.m_FishMenuMgr && this.m_FishMenuMgr.ShowMenu(), h.default.Instance.PreloadGameCommonRes(), h.default.Instance.LoadMainGame("normal", function() {
                        v.default.Instance.Init()
                    })
                }, e.prototype.onGetKioskUrl = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && 0 == e.cmd_data.status) {
                        var n = e.cmd_data,
                            i = n.url,
                            o = n.surl,
                            a = void 0,
                            s = !0;
                        o && "" != o ? a = o.split(":") : (a = i.split(":"), s = !1), this.arkSocketClient = new ArkSDK.ArkSocketClient(E.LobbyClient.Instance.GetUserClient.GetPinClient, 1024, 5), this.arkSocketClient.m_auth_exdata = {
                            kiosk_id: SS.Network.LoginModel.LoginInfo.kiosk_id,
                            device_id: SS.Network.LoginModel.LoginInfo.device_id,
                            machine_id: SS.Network.LoginModel.LoginInfo.machine_id,
                            is_mobile: !0
                        }, this.arkSocketClient.ConnectSocket(a[0], Number(a[1]), s, this.onOpen.bind(this), this.onMsg.bind(this), this.onClose.bind(this), this.onError.bind(this))
                    } else this.ShowErrorMsg(e)
                }, e.prototype.onOpen = function() {
                    this.InitSocketSystem(this.arkSocketClient);
                    var t = {};
                    t.kiosk_id = SS.Network.LoginModel.LoginInfo.kiosk_id, t.allow_state = ArkSDK.ArkClient.allowState, t.device = 1, this.arkSocketClient.SendCmd("kiosk", "PlayerJoin", t, this.onPlayerJoin.bind(this))
                }, e.prototype.onPlayerJoin = function(t, e) {
                    e.data.hasOwnProperty("maxGate") && (b.PlayerManager.Instance.MaxBalance = e.data.maxGate), e.data.hasOwnProperty("itemEnable") && (this.m_isEnableItem = e.data.itemEnable), e.data.hasOwnProperty("commonInfo") && (this.m_strEventTime = e.data.commonInfo), e.data.hasOwnProperty("cannonEnable") && P.default.Instance.InitWeaponList(e.data.cannonEnable), b.PlayerManager.Instance.m_aryWeaponLvData = e.data.CannonBetRange, this.QuickStart(), !this.m_isEnableItem && this.m_FishMenuMgr && (this.m_FishMenuMgr.GetRootNode().active = !1)
                }, e.prototype.onMsg = function() {}, e.prototype.onClose = function() {
                    this.NetworkClear(), this.isReturnToLobby || this.CallOnError("C33", "SocketClose")
                }, e.prototype.onError = function(t, e) {
                    this.NetworkClear(), e ? this.CallOnError("C32", "SocketError :" + e) : this.CallOnError("C32", "SocketError")
                }, e.prototype.InitSocketSystem = function(t) {
                    this.gameSystem = new p.default(t), this.fishSystem = new u.FishSystem(t), this.playerSystem = new m.default(t), this.WeaponSystem = new S.default(t), this.SkillSystem = new g.default(t), this.itemSystem = new d.default(t), this.m_FishMissionSystem = new y.default, this.m_FishMissionSystem.EVENT_ERROR_RETURN_LOBBY = this.MissionDataError.bind(this), this.m_KioskSystem = new f.default(t), this.RegisterEvent()
                }, e.prototype.QuickStart = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return v.default.Instance.isLoadDone ? [3, 2] : [4, new Promise(function(t) {
                                        setTimeout(t, 500)
                                    })];
                                case 1:
                                    return e.sent(), [3, 0];
                                case 2:
                                    return (t = {}).table_id = 0, t.seat_id = 0, t.kiosk_id = SS.Network.LoginModel.LoginInfo.kiosk_id, t.quick_start = !0, this.arkSocketClient.SendCmd("kiosk", "JoinTable", t, this.onTableJoinCallback.bind(this)), [2]
                            }
                        })
                    })
                }, e.prototype.onTableJoinCallback = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK)
                        if (e.data && 0 == e.data.result) {
                            return;
                            // if (self == top) return;
                            // E.LobbyClient.Instance.OnGameLoadingOK()
                        } else this.NetworkClear(), e.data ? this.CallOnError("S" + e.data.result, "ReceiveServerError") : this.CallOnError("C31", "ReceiveServerError");
                    else this.ShowErrorMsg(e)
                }, e.prototype.RegisterEvent = function() {
                    this.gameSystem.TableJoinEvent = this.onTableJoin.bind(this);
                    this.gameSystem.InitGameEvent = this.onInitGame.bind(this);
                    this.gameSystem.KickOutEvent = this.onKickOut.bind(this);
                    this.m_KioskSystem.UpdateKioskSetting = this.onBroadCastSetting.bind(this);
                    this.playerSystem.InitPlayerEvent = b.PlayerManager.Instance.onInitPlayer.bind(b.PlayerManager.Instance);
                    this.playerSystem.UpdatePlayerEvent = b.PlayerManager.Instance.onInitOtherPlayer.bind(b.PlayerManager.Instance);
                    this.gameSystem.PlayerLeaveEvent = b.PlayerManager.Instance.onPlayerLeave.bind(b.PlayerManager.Instance);
                    this.playerSystem.UpdateBetEvent = b.PlayerManager.Instance.onUpdateBet.bind(b.PlayerManager.Instance);
                    this.playerSystem.ReflashEvent = b.PlayerManager.Instance.onReflash.bind(b.PlayerManager.Instance);
                    this.playerSystem.FishQuestCheckEvent = this.FishQuestCheckEvent.bind(this);
                    this.playerSystem.FishPuzzleQuestCheckEvent = this.FishPuzzleQuestCheckEvent.bind(this);
                    this.WeaponSystem.ShootEvent = P.default.Instance.OtherPlayerShoot.bind(P.default.Instance);
                    this.WeaponSystem.BlastEvent = P.default.Instance.HitFishRequestCallback.bind(P.default.Instance);
                    this.WeaponSystem.BlastBetEvent = b.PlayerManager.Instance.CheckBetList.bind(b.PlayerManager.Instance);
                    this.WeaponSystem.UniqueOddsEvent = C.default.Instance.UniqueFishOddsEvent.bind(C.default.Instance);
                    this.fishSystem.FishScriptEvent = C.default.Instance.onFishScript.bind(C.default.Instance);
                    this.fishSystem.CreateFishEvent = C.default.Instance.onCreateFish.bind(C.default.Instance);
                    this.fishSystem.ScriptTimeEvent = C.default.Instance.onFishScriptTime.bind(C.default.Instance);
                    this.fishSystem.ScriptEvent = w.default.Instance.onScriptEvent.bind(w.default.Instance);
                    this.fishSystem.FeatureEvent = C.default.Instance.onFeatureEvent.bind(C.default.Instance);
                    this.topBar ? (this.topBar.m_DelClickBackToLobby.Insert(this.ReturnToLobby.bind(this), this),
                    this.topBar.m_DelClickSound.Insert(this.OnClickedSound, this),
                    this.topBar.m_DelClickInfo.Insert(this.OnClickedInfo, this)) : (V.EventSystem.Event(V.DockFunction.BackToLobby).Insert(this.ReturnToLobby.bind(this), this),
                    V.EventSystem.Event(V.DockFunction.Sound).Insert(this.OnClickedSound, this),
                    V.EventSystem.Event(V.DockFunction.Info).Insert(this.OnClickedInfo, this));
                    this.fishUIMgr.m_DelClickPurchase.Insert(this.CheckPlayingState, this);
                    V.PurchaseEvent.OnPurchaseSuccess && V.EventSystem.Event(V.PurchaseEvent.OnPurchaseSuccess).Insert(this.onPurchaseSuccessByProfile, this);
                    this.fishUIMgr.m_DelPurchaseSuccess.Insert(this.onPurchaseSuccess, this);
                    this.fishUIMgr.m_DelBetChange.Insert(b.PlayerManager.Instance.SendUpdateBet, b.PlayerManager.Instance);
                    this.fishUIMgr.m_DelClickAddBetLevel.Insert(b.PlayerManager.Instance.AddBet, b.PlayerManager.Instance);
                    this.fishUIMgr.m_DelClickReduceBetLevel.Insert(b.PlayerManager.Instance.MinusBet, b.PlayerManager.Instance);
                    this.fishUIMgr.m_DelClickChange.Insert(P.default.Instance.SwitchWeapon, P.default.Instance);
                    this.fishUIMgr.m_DelClickAuto.Insert(P.default.Instance.SwitchAuto, P.default.Instance);
                    this.fishUIMgr.m_DelClickLockSetting.Insert(P.default.Instance.LockSetting, P.default.Instance);
                    this.fishUIMgr.m_DelCloseTeachPanel.Insert(this.ShowMenuEffectAndMission, this);
                    this.fishUIMgr.m_DelClickWeaponChose.Insert(P.default.Instance.WeaponChose, P.default.Instance);
                    this.fishUIMgr.m_DelClickWeaponChoseBtn.Insert(P.default.Instance.WeaponChoseBtnClick, P.default.Instance);
                    this.fishUIMgr.m_FucGetWeaponSetting = P.default.Instance.BaseWeaponList.bind(P.default.Instance);
                    "playgd" == window.gd_nowLOGO && (this.m_KioskSystem.UpdateSubmarineOccupyInfo = C.default.Instance.onFeatureEvent.bind(C.default.Instance),
                    this.m_KioskSystem.SubmarineOccupyEvent = C.default.Instance.onFeatureEvent.bind(C.default.Instance),
                    this.WeaponSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this),
                    this.SkillSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this),
                    this.playerSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this),
                    this.fishUIMgr.m_DelClickProfile.Insert(this.CheckPlayingState, this),
                    this.fishUIMgr.m_FucGetPlayerById = this.GetPlayerByArkId.bind(this),
                    this.fishUIMgr.m_FucGetPlayerIdBySeat = this.GetPlayerArkId.bind(this),
                    this.fishUIMgr.m_FucGetOtherPlayerAsset = this.GetPlayerAsset.bind(this),
                    this.gameSystem.GetLeaderBoardInfoEvent = this.GetMainPlayerLeaderBoardInfo.bind(this),
                    this.gameSystem.GetItemInfoEvent = this.GetMainPlayerItem.bind(this),
                    this.fishUIMgr.m_DelClickAutoStop.Insert(this.EventStopAuto, this),
                    V.EventSystem.Event(V.DoLogOut).Insert(this.OnBackToLogin, this));
                    this.m_FishMenuMgr && this.fishUIMgr.RegisterMouseEventList(this.m_FishMenuMgr.GetRootNode().children);
                    this.HasJP && (E.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.add(this.onWinJpVaule, this),
                    E.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this),
                    E.LobbyClient.Instance.GetJPSystem.OnRecvJpCandidateSingnal.add(this.RecvJPCandidateCmd.bind(this)));
                }, e.prototype.UNRegisterEvent = function() {
                    V.PurchaseEvent.OnPurchaseSuccess && V.EventSystem.Event(V.PurchaseEvent.OnPurchaseSuccess).Remove(this.onPurchaseSuccessByProfile, this), this.topBar || (V.EventSystem.Event(V.DockFunction.BackToLobby).Remove(this.ReturnToLobby.bind(this), this), V.EventSystem.Event(V.DockFunction.Sound).Remove(this.OnClickedSound, this), V.EventSystem.Event(V.DockFunction.Info).Remove(this.OnClickedInfo, this)), this.HasJP && (E.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.remove(this.onWinJpVaule, this), E.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this), E.LobbyClient.Instance.GetJPSystem.OnRecvJpCandidateSingnal.remove(this.RecvJPCandidateCmd.bind(this))), "playgd" == window.gd_nowLOGO && (V.EventSystem.Event(V.DoLogOut).Remove(this.OnBackToLogin, this), V.EventSystem.Event(V.FishHunter.OnShipOccupiedShow).Remove(this.SetShipOccupieUICloseEvent, this))
                }, e.prototype.onTableJoin = function(t) {
                    t || (this.NetworkClear(), this.CallOnError("C34", "NoTableID")), this.gameSystem.InitGame(t), this.playerSystem.InitPlayer(), this.fishSystem.GetFishScript(), "playgd" == window.gd_nowLOGO && I.default.Instance.Init(this.itemSystem), this.GetSaveLockSetting()
                }, e.prototype.onInitGame = function(t, e) {
                    w.default.Instance.onInitScriptEvent(t, e)
                    this.playerSystem.SetCurrentCreditEvent = this.SetBalance.bind(t)
                }, e.prototype.onKickOut = function(t) {
                    this.NetworkClear(), t ? this.CallOnError(this.ErrorCode(t), "KickOut") : this.CallOnError("C31", "KickOut")
                }, e.prototype.onBroadCastSetting = function(t) {
                    this.m_isEnableItem = t.itemEnable, null != this.m_FishMenuMgr && (this.m_FishMenuMgr.GetRootNode().active = this.m_isEnableItem);
                    var e = [];
                    if (t.hasOwnProperty("betRange") && (e = t.betRange, n.Instance.RecordingSkillID == k.skillEnum.FlameStorm || n.Instance.RecordingSkillID == k.skillEnum.Wheel ? b.PlayerManager.Instance.tempBetList = e : b.PlayerManager.Instance.CheckBetList(b.PlayerManager.MainSeat, e)), t.hasOwnProperty("cannonEnable")) {
                        var i = t.cannonEnable;
                        P.default.Instance.ChangeWeaponList(i)
                    }
                }, e.prototype.NetworkClear = function() {
                    if (P.default.Instance && (P.default.Instance.AutoShoot = !1), this.unschedule(this.CallCheckQuest), this.unschedule(this.CheckPuzzleTips), b.PlayerManager.Instance)
                        for (var t = 0; t < 4; t++) b.PlayerManager.Instance.onPlayerLeave(t);
                    D.AudioMgr.Instance.UncacheAudioClip(), this.gameNetWork && this.gameNetWork.Release(), this.gameNetWork = null, this.arkSocketClient && this.arkSocketClient.Close(), this.arkSocketClient = null, this.gameSystem = null, this.fishSystem = null, this.playerSystem = null, this.WeaponSystem = null, this.SkillSystem = null, this.m_KioskSystem = null, this.m_FishMissionSystem && (this.m_FishMissionSystem.EVENT_ERROR_RETURN_LOBBY = null, this.m_FishMissionSystem = null), this.m_FishMenuMgr && (this.m_FishMenuMgr.ClearMenu(), this.m_FishMenuMgr = null)
                }, e.prototype.onDestroy = function() {
                    this.UNRegisterEvent(), this.isReturnToLobby = !0, this.NetworkClear()
                }, e.prototype.ReturnToLobby = function() {
                    if (n.instance) {
                        B.ConnectPanelMgr.Instance.ShowConnectPanel(), this.isReturnToLobby = !0, this.NetworkClear();
                        window.parent.location.href = "/";                        
			/*
                        var t = SS.Common.GameEnvironment.CurrentGameTypeNow,
                            e = SS.Common.GameEnvironment.GameTypeMapScrollContentPos[t],
                            i = SS.Common.GameEnvironment.IsMute ? "1" : "0",
                            o = JSUtility.FullScreen.IsFullScreen() ? "1" : "0";
                        if (JSUtility.IsSupportLocalStorage()) {
                            var a = (new Date).getTime();
                            a += 1e3 * this.RELOAD_EXPIRE_TIME, localStorage.setItem("IS_RELOAD_LEGALTIME", a.toString()), localStorage.setItem("IS_RELOAD", "1"), localStorage.setItem("CURRENT_GAME_TYPE", t), e && (localStorage.setItem("CURRENT_SCROLL_POS_X", e.x), localStorage.setItem("CURRENT_SCROLL_POS_Y", e.y)), localStorage.setItem("IS_FULL_SCREEN", o), localStorage.setItem("IS_MUTE", i)
                        } else if (JSUtility.IsSupportCookie()) {
                            var s = new Date;
                            s.setTime(1e3 * this.RELOAD_EXPIRE_TIME), document.cookie = "IS_RELOAD=1;expires=" + s.toUTCString(), document.cookie = "CURRENT_GAME_TYPE=" + t + ";", e && (document.cookie = "CURRENT_SCROLL_POS_X=" + e.x + ";", document.cookie = "CURRENT_SCROLL_POS_Y=" + e.y + ";"), document.cookie = "IS_FULL_SCREEN=" + o + ";", document.cookie = "IS_MUTE=" + i + ";"
                        }
                        var r = "",
                            c = "",
                            l = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                        SS.Common.BaseFunction.GetURLParameterByName("standalone") && (l ? (r = "index.html", c = ",standalone=true") : (r = "index_ni.html", c = "?standalone=true")), l ? location.replace("../../../" + r + "/?KioskDEV=" + l + c) : location.replace("../../../" + r + c)
                        */
                    }
                }, e.prototype.LoadResError = function(t) {
                    console.error("loadError:" + t), this.isReturnToLobby = !0, this.NetworkClear(), G.default.Clear(), R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Warning, "C31", this.title, "loadError:" + t, function() {
                        "magiccity" == window.gd_nowLOGO ? SS.Common.GameEnvironment.SplashDiv.style.display = "block" : SS.Common.GameEnvironment.Splash.style.display = "block", w.default.Instance.Clear();
                        var t = SS.Common.GameEnvironment.Language + "Lobby";
                        cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        }) ? cc.director.loadScene(t) : cc.director.loadScene("Lobby")
                    })
                }, e.prototype.Clear = function() {
                    n.instance = null
                }, e.prototype.ShowErrorMsg = function(t) {
                    if (this.NetworkClear(), t) {
                        if (t.status) return t.status.msg ? void this.CallOnError(this.ErrorCode(t.status), "ReceiveServerError:" + t.status.msg) : void this.CallOnError(this.ErrorCode(t.status), "ReceiveServerError:status_id_" + t.status);
                        if (t.cmd_data && t.cmd_data.status) return t.cmd_data.status.msg ? void this.CallOnError(this.ErrorCode(t.cmd_data.status), "ReceiveServerError:" + t.cmd_data.status.msg) : void this.CallOnError(this.ErrorCode(t.cmd_data.status), "ReceiveServerError:status_id_" + t.cmd_data.status)
                    }
                    this.CallOnError("C31", "ReceiveServerError")
                }, e.prototype.ErrorCode = function(t) {
                    switch (t) {
                        case 11:
                            return "S197";
                        case 12:
                            return "S198";
                        case 13:
                            return "S199";
                        case 14:
                            return "S200";
                        case 15:
                            return "S201";
                        case 16:
                            return "S202";
                        case 17:
                            return "S203";
                        case 18:
                            return "S204";
                        case 19:
                            return "S205";
                        case 20:
                            return "S206";
                        case 21:
                            return "S207";
                        case 22:
                            return "S208";
                        case 23:
                            return "S209";
                        case 24:
                            return "S210";
                        case 25:
                            return "S211";
                        case 31:
                            return "S212";
                        case -32:
                            return "S213";
                        case 34:
                            return "S214";
                        case -36:
                            return "S215";
                        case 37:
                            return "S216";
                        case -38:
                            return "S217";
                        case -40:
                            return "S218";
                        case -41:
                            return "S219";
                        case -42:
                            return "S220";
                        case -43:
                            return "S221";
                        case -44:
                            return "S222";
                        case -45:
                            return "S223";
                        case -46:
                            return "S224";
                        case -47:
                            return "S225";
                        case -48:
                            return "S226";
                        case -49:
                            return "S227";
                        case -50:
                            return "S228";
                        case -51:
                            return "S229";
                        case -52:
                            return "S230";
                        case -53:
                            return "S231";
                        case -54:
                            return "S232";
                        case -55:
                            return "S233";
                        case -56:
                            return "S234";
                        case -57:
                            return "S235";
                        case 58:
                            return "S236";
                        case -59:
                            return "S237";
                        case -60:
                            return "S238";
                        case -73:
                            return "S239";
                        case 74:
                            return "S240";
                        case -78:
                            return "S241";
                        case -79:
                            return "S242";
                        case -81:
                            return "S243";
                        case -101:
                            return "S244";
                        case -102:
                            return "S245";
                        case -103:
                            return "S246";
                        case -104:
                            return "S247";
                        case 105:
                            return "S248";
                        case -106:
                            return "S249";
                        case -107:
                            return "S250";
                        case -108:
                            return "S251";
                        case -110:
                            return "S252";
                        case -112:
                            return "S253";
                        case 360:
                            return "S254";
                        case 361:
                            return "S255";
                        case 600:
                            return "S256";
                        case 601:
                            return "S257";
                        case 602:
                            return "S258";
                        case 603:
                            return "S259";
                        case 604:
                            return "S260";
                        case 605:
                            return "S261";
                        case 606:
                            return "S262";
                        case 607:
                            return "S263";
                        case 608:
                            return "S264";
                        case 609:
                            return "S265";
                        case 610:
                            return "S266";
                        case 611:
                            return "S267";
                        case 612:
                            return "S268";
                        case 613:
                            return "S269";
                        case 614:
                            return "S270";
                        case 615:
                            return "S271";
                        case 616:
                            return "S272";
                        case 617:
                            return "S273";
                        case 618:
                            return "S274";
                        case 619:
                            return "S275";
                        case 620:
                            return "S276";
                        case 621:
                            return "S277";
                        case -622:
                            return "S278";
                        case 623:
                            return "S279";
                        case -624:
                            return "S280";
                        case -625:
                            return "S281";
                        default:
                            return "C31"
                    }
                }, e.prototype.SetLoadingProgress = function(t, e) {
                    var n = 70 / e * t;
                    n > 70 && (n = 70), L.LoadingMgr.Instance.SetProgress(30 + n)
                    var data = JSON.stringify({event: 'loadProgress', value: (30+n) / 100});
                    window.parent.postMessage(data, "*");
                }, e.prototype.DelayCloseLoading = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, SS.Common.WaitForSeconds(.5)];
                                case 1:
                                    if (e.sent(), "playgd" != window.gd_nowLOGO) return [3, 9]; - 1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(this.GameName + E.GAME_STATUS.RECV_THEME_SETTING) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(this.GameName + E.GAME_STATUS.RECV_THEME_SETTING), E.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, this.GameName, E.GAME_STATUS.RECV_THEME_SETTING)), this.SendMissionBonusInfoCmd(), e.label = 2;
                                case 2:
                                    return this.m_EventInfoState != c.SEND_CMD && this.m_iSendQuestNum == this.m_iRecQuestNum ? [3, 4] : [4, SS.Common.WaitForSeconds(.5)];
                                case 3:
                                    return e.sent(), [3, 2];
                                case 4:
                                    if (this.ParseMissionInfo(), !this.m_isEnableMission) return [3, 8];
                                    t = 0, e.label = 5;
                                case 5:
                                    return null != this.m_OceanHeartMgr ? [3, 7] : [4, SS.Common.WaitForSeconds(.5)];
                                case 6:
                                    return e.sent(), (t += .5) > 5 ? (cc.error("\u6d3b\u52d5\u8cc7\u6e90\u7121\u6cd5load\u9032\u4f86!"), [3, 7]) : [3, 5];
                                case 7:
                                    return [3, 9];
                                case 8:
                                    cc.error("\u6c92\u6709\u6d3b\u52d5!"), e.label = 9;
                                case 9:
                                    return this.DownloadBundleFinished ? [3, 11] : [4, SS.Common.WaitForSeconds(.5)];
                                case 10:
                                    return e.sent(), [3, 9];
                                case 11:
                                    return this.IsWaitInitJpValue ? [4, SS.Common.WaitForSeconds(.5)] : [3, 13];
                                case 12:
                                    return e.sent(), [3, 11];
                                case 13:
                                    return L.LoadingMgr.Instance.SetProgress(100), L.LoadingMgr.Instance.CloseLoading(), window.parent.postMessage(JSON.stringify({event: 'loadProgress', value: 1}, "*")), "magiccity" == window.gd_nowLOGO && (H.LobbyCommon.Instance.SetMaskActive(!1), this.scheduleOnce(this.FishCommonRoot.JoinGameAutoJPShrink.bind(this.FishCommonRoot), 5)), "playgd" == window.gd_nowLOGO && (this.schedule(this.CallCheckQuest, 5), this.UpdatePuzzleQueatInfo()), [2]
                            }
                        })
                    })
                }, e.prototype.CheckPlayingState = function(t, e) {
                    return s(this, void 0, void 0, function() {
                        var n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return n = b.PlayerManager.getPlayer(b.PlayerManager.MainSeat), b.PlayerManager.Instance.MaxBalance && n.entries + n.winning >= b.PlayerManager.Instance.MaxBalance ? (R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Info, "C29", this.title, "MaxBalance", null), [2]) : (P.default.Instance.AutoShoot = !1, b.PlayerManager.Instance.BulletCount > 0 ? (e(), [2]) : (B.ConnectPanelMgr.Instance.ShowConnectPanel(0), [4, new Promise(function(t) {
                                        setTimeout(t, 500)
                                    }.bind(this))]));
                                case 1:
                                    if (i.sent(), b.PlayerManager.Instance.BulletCount > 0) return e(), [2];
                                    switch (e(!1), t) {
                                        case "purchase":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickPurchase.bind(this);
                                            break;
                                        case "profile":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickProfile.bind(this);
                                            break;
                                        case "avatar":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickAvatarEditor.bind(this)
                                    }
                                    return this.playerSystem.SendUpdateBalance(), [2]
                            }
                        })
                    })
                }, e.prototype.onPurchaseSuccessByProfile = function(t, e) {
                    n.FishUIMgr.SetWinningNow(t, !1, !0), n.FishUIMgr.SetEntriesNow(e, !1), this.onPurchaseSuccess(t, e)
                }, e.prototype.onPurchaseSuccess = function(t, e) {
                    var i = b.PlayerManager.getPlayer(b.PlayerManager.MainSeat);
                    i.entries = e, i.winning = t, B.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.playerSystem.RefreshBalanceEvent = this.onRefreshBalance.bind(this), this.playerSystem.SendRefreshBalance(), n.FishUIMgr.ShowPurchaseHint(i.entries < i.bet_value), "playgd" == window.gd_nowLOGO && this.playerSystem.SendSyncAsset()
                }, e.prototype.onUpdateBalanceByClickPurchase = function() {
                    this.playerSystem.UpdateBalanceEvent = null, B.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenPurchase()
                }, e.prototype.onUpdateBalanceByClickProfile = function() {
                    this.playerSystem.UpdateBalanceEvent = null, B.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenPlayerProfile()
                }, e.prototype.onUpdateBalanceByClickAvatarEditor = function() {
                    this.playerSystem.UpdateBalanceEvent = null, B.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenMainPlayerAvatarEditor()
                }, e.prototype.onUpdateBalance = function() {
                    this.playerSystem.UpdateBalanceEvent = null, B.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenPurchase()
                }, e.prototype.onRefreshBalance = function() {
                    this.playerSystem.RefreshBalanceEvent = null, B.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                }, e.prototype.OnClickedSound = function(t) {
                    D.AudioMgr.Instance.SetMute(t)
                }, e.prototype.OnClickedInfo = function() {
                    F.CommonRoot.Instance.GetInfoMgr.OpenScrollViewInfoPage(this.title)
                }, e.prototype.HideTimeOut = function() {
                    this.NetworkClear(), this.CallOnError("C31", "ClientKickOut_HideTimeOut")
                }, e.prototype.HideEventReload = function() {
                    var t = this;
                    R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Disconnected, "C31", this.title, "ClientKickOut_HideTimeOut", function() {
                        var e, n;
                        B.ConnectPanelMgr.Instance.ShowConnectPanel(), e = SS.Common.GameEnvironment.UserID, n = SS.Common.GameEnvironment.UserPW, E.LobbyClient.Instance.DoLogin(window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST, e, n, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                    })
                }, e.prototype.MissionDataError = function(t) {
                    this.NetworkClear(), this.CallOnError(t, "ClientKickOut_MissionDataError")
                }, e.prototype.SendMissionBonusInfoCmd = function() {
                    this.SendCommEventInfo(), this.SendPuzzleQuest()
                }, e.prototype.SendCommEventInfo = function() {
                    this.m_EventInfoState = c.SEND_CMD, E.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this))
                }, e.prototype.SendPuzzleQuest = function() {
                    this.m_EventInfoState = c.SEND_CMD, E.LobbyClient.Instance.GetUserClient.getPuzzleQuestInfo(this.recPuzzleQuestInfo.bind(this))
                }, e.prototype.recMissionInfo = function(t, e) {
                    this.m_iRecQuestNum++, t == ArkSDK.HttpResult.OK && e && e.cmd_data ? (this.m_EventInfoState = c.GET_RECV, null == this.m_tempQuestData && (this.m_tempQuestData = {}), this.m_tempQuestData[900004] = e) : this.GetQuestError(t, e, "getPuzzleQuestInfo")
                }, e.prototype.recPuzzleQuestInfo = function(t, e) {
                    if (this.m_iRecQuestNum++, t == ArkSDK.HttpResult.OK && e && e.cmd_data)
                        if (this.m_EventInfoState = c.GET_RECV, this.CheckPuzzle(e.cmd_data[900005]))
                            if (null == this.m_tempQuestData && (this.m_tempQuestData = {}), this.m_tempQuestData[900005] = e, console.log("\u60e1\u9748 \u6536\u5230\u5f69\u86cb\u62fc\u5716\u8cc7\u8a0a %s", JSON.stringify(this.m_tempQuestData[900005].cmd_data[900005])), null == E.LobbyClient.Instance.m_CommonEventInfo_900005_Rank)
                                for (var n = e.cmd_data[900005].data.QuestList, i = 0; i < n.length; i++) {
                                    var o = n[i];
                                    if ("Puzzle" == o.GameThemeID[0]) {
                                        var a = o.RankListID,
                                            s = o.CustomInfo.RankLimit;
                                        E.LobbyClient.Instance.GetUserClient.getPuzzleRank(a, s, this.RecvPuzzleRank.bind(this));
                                        break
                                    }
                                } else this.m_bIsRecvPuzzleQuestRank = !0;
                            else console.log("\u60e1\u9748 \u62fc\u5716\u6c92\u958b, result.cmd_data = " + e.cmd_data);
                    else this.GetQuestError(t, e, "getPuzzleQuestInfo")
                }, e.prototype.CheckPuzzle = function(t) {
                    var e = !1,
                        n = [];
                    if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0) {
                        for (var i = t.QuestList, o = 0; o < i.length; o++)
                            for (var a = i[o].GameThemeID, s = 0; s < a.length; s++) "Puzzle" != a[s] && -1 == n.indexOf(a[s]) && n.push(a[s]);
                        if (n.length > 0) {
                            for (o = 0; o < n.length; o++)
                                if (164001 == Number(n[o])) {
                                    e = !0;
                                    break
                                }
                            n.length > 0 && !e && (this.m_bPuzzleButNoThisGame = !0, console.error("\u62fc\u5716\u6709\u958b\u4f46\u672c\u9b5a\u6a5f\u6c92\u958b~"))
                        }
                    }
                    return e
                }, e.prototype.RecvPuzzleRank = function(t, e) {
                    console.warn("\u904a\u6232\u5167\u6536\u5230\u62fc\u5716\u6392\u884c :" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), E.LobbyClient.Instance.m_CommonEventInfo_900005_Rank = e.cmd_data) : this.GetQuestError(t, e, "getPuzzleQuestRankInfo"), this.m_bIsRecvPuzzleQuestRank = !0
                }, e.prototype.GetQuestError = function(t, e, n) {
                    var i;
                    i = t == ArkSDK.HttpResult.Abort ? "S176" : t == ArkSDK.HttpResult.Condition ? "S177" : t == ArkSDK.HttpResult.Error ? "S180" : t == ArkSDK.HttpResult.NotReset ? "S178" : t == ArkSDK.HttpResult.Status ? "S179" : t == ArkSDK.HttpResult.Timeout ? "S181" : "S182";
                    var o = e + ", Cme = " + n;
                    this.CallOnError(i, "recMissionInfo error_" + o)
                }, e.prototype.ParseMissionInfo = function(t) {
                    if (void 0 === t && (t = !0), null != this.m_tempQuestData) {
                        var e = !1;
                        if (this.m_tempQuestData[900004] && this.m_tempQuestData[900004].cmd_data) {
                            var n = this.m_tempQuestData[900004].cmd_data[900004];
                            if (n && 0 == n.result) {
                                var i = JSON.stringify(n.data);
                                E.LobbyClient.Instance.m_CommonEventInfo_900004 = i;
                                var o = JSON.parse(i);
                                if (o.hasOwnProperty("Enable") && o.Enable && o.hasOwnProperty("QuestList") && o.QuestList.length > 0 && o.hasOwnProperty("UserQuestData")) {
                                    var a = o.QuestList;
                                    if (0 == a.length) e = !1;
                                    else
                                        for (var s = 0; s < a.length; s++) {
                                            var r = a[s];
                                            301 == r.TitleType || 302 == r.TitleType ? this.m_bOceanHeart = !0 : 200 == r.TitleType && r.GameThemeID == this.GetThemeIDByGameName(this.GameName) && (e = !0)
                                        }
                                }
                            }
                            this.m_isEnableMission = e
                        }
                    }
                    t && this.OnFishStart(), this.m_bOceanHeart && this.OnOceanHeartOpen()
                }, e.prototype.UpdatePuzzleQueatInfo = function() {
                    this.m_tempQuestData[900005] && (E.LobbyClient.Instance.m_CommonEventInfo_900005 = this.m_tempQuestData[900005].cmd_data[900005], null == this.m_FishPuzzleEggMgr ? this.OnPuzzleEggOpen() : this.m_FishPuzzleEggMgr.CallInitState())
                }, e.prototype.OnFishStart = function() {
                    if (this.CheckShowTeachPanel()) {
                        var t = "";
                        switch (this.GameName) {
                            case T.FishGame.TD:
                                t = "THUNDER DRAGON";
                                break;
                            case T.FishGame.ALD:
                                t = "ALADDIN ADVENTURE";
                                break;
                            case T.FishGame.ZB:
                                t = "ZOMBIE AWAKEN";
                                break;
                            case T.FishGame.KK:
                                t = "KING KONG'S RAMPAGE";
                                break;
                            case T.FishGame.LS:
                                t = "GOLDEN LEGEND PLUS"
                        }
                        this.fishUIMgr.ShowTeachPanel(this.m_isEnableMission, this.m_strEventTime, !0, t)
                    } else this.fishUIMgr.m_DelCloseTeachPanel.Notify()
                }, e.prototype.ShowMenuEffectAndMission = function() {
                    this.m_EventInfoState != c.SEND_CMD && (this.m_isEnableItem && null != this.m_FishMenuMgr && this.m_FishMenuMgr.MenuShowEffect(), null != this.m_FishMissionSystem && (this.m_tempQuestData && this.m_tempQuestData[900004] ? this.m_FishMissionSystem.RecMissionInfo(ArkSDK.HttpResult.OK, this.m_tempQuestData[900004]) : this.m_FishMissionSystem.SendGetMissionInfoCmd(), this.gameSystem.UpdateMissionProgressEvent = this.m_FishMissionSystem.onGetFishMissionProgress.bind(this.m_FishMissionSystem), this.itemSystem.UpdateMissionProgressEvent = this.m_FishMissionSystem.onGetFishMissionProgress.bind(this.m_FishMissionSystem)), null != this.m_OceanHeartMgr && (this.m_OceanHeartMgr.node.opacity = 255, this.m_OceanHeartMgr.m_MissionBtnCtrl.node.active = !0), null != this.m_FishPuzzleEggMgr && (this.m_FishPuzzleEggMgr.node.opacity = 255, this.m_FishPuzzleEggMgr.m_IconMgr.node.active = !0))
                }, e.prototype.CheckShowTeachPanel = function() {
                    if (!this.m_isEnableItem) return !1;
                    var t = "",
                        e = !1,
                        n = (new Date).toLocaleDateString(),
                        i = "TEACH_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_ALD";
                    return JSUtility.IsSupportLocalStorage() ? null == (t = localStorage.getItem(i)) || "" == t ? (localStorage.setItem(i, n), e = !0) : n != t && (localStorage.setItem(i, n), e = !0) : JSUtility.IsSupportCookie() && (null == (t = JSUtility.GetCookie(i)) || "" == t ? (document.cookie = i + "=" + n + ";", e = !0) : n != t && (document.cookie = i + "=" + n + ";", e = !0)), e
                }, e.prototype.GetSaveLockSetting = function() {
                    var t = "",
                        e = "LOCKSETTING_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_ALD";
                    if (JSUtility.IsSupportLocalStorage() ? t = localStorage.getItem(e) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie(e)), null != t && "" != t) {
                        var n = [];
                        t.split(",").forEach(function(t) {
                            n.push(Number(t))
                        }), T.default.playerLockSetting = n, T.default.LockSetting = T.default.TransFishTypeList(n), this.fishUIMgr.SwitchLockSettingButton(!0)
                    }
                }, e.prototype.OnOceanHeartOpen = function() {
                    if (console.log("OnOceanHeartOpen "), !this.m_OceanHeartMgr) {
                        var t = this;
                        cc.resources.load("Mission/900004_FishRankBonus", function(e, n) {
                            if (e) return this.errorMsg = e, this.errorCode = "C03", this.isError = !0, void console.error(e);
                            if (!t.m_OceanHeartMgr) {
                                var i = cc.instantiate(n);
                                i.parent = this.BarRoot, i.setPosition(cc.Vec2.ZERO);
                                var o = P.default.Instance.GetWeaponPosition(b.PlayerManager.MainSeat);
                                t.m_OceanHeartMgr = i.getComponent(N.default), t.m_OceanHeartMgr.setCurGameName(b.PlayerManager.MainSeat, this.GameName, o), t.m_OceanHeartMgr.EVENT_OPEN_UI = t.EventStopAuto.bind(t), t.m_OceanHeartMgr.EVENT_GET_MISSION_REWARD = t.OceanHeartEventGetAward.bind(t), t.m_OceanHeartMgr.EVENT_SEND_COLLECT_CMD = t.SentQuestCollect.bind(t), t.m_OceanHeartMgr.EVENT_REFLASH_UI_BALANCE = t.SendReflashAwardBalance.bind(t), t.m_OceanHeartMgr.EVENT_GAME_CLOSE = t.OnOceanHeartGameError.bind(t), t.m_OceanHeartMgr.EVENT_COLLECT_CLOSE = t.OnOceanHeartCloseCollectAward.bind(t), t.m_OceanHeartMgr.EVENT_ERROR = t.CallOnError.bind(t), t.m_OceanHeartMgr.EVENT_GET_COST_PER_SECOND = t.GetCurCostPerSecond.bind(t), t.m_OceanHeartMgr.m_MissionBtnCtrl.node.setParent(t.FishCommonRoot.EventIconRoot), t.playerSystem.GetFishQuestUpdate = t.m_OceanHeartMgr.parsetFishQuestUpdateData.bind(t.m_OceanHeartMgr), t.playerSystem.GetFishQuestInfo = t.m_OceanHeartMgr.parseFishQuestInfoData.bind(t.m_OceanHeartMgr), t.playerSystem.FishQuestCollectEvent = t.OnCollectQuest.bind(t), t.playerSystem.FishQuestUpdateBalanceEvent = t.UpdateFishQuestBalance.bind(t), t.fishUIMgr.CheckTeachPanelActive() && (t.m_OceanHeartMgr.node.opacity = 0, t.m_OceanHeartMgr.m_MissionBtnCtrl.node.active = !1)
                            }
                        }.bind(this))
                    }
                }, e.prototype.EventStopAuto = function() {
                    P.default.Instance.AutoShoot && (P.default.Instance.AutoShoot = !1)
                }, e.prototype.OceanHeartEventGetAward = function(t) {
                    0 != t.AwardEntries || 0 != t.AwardWinnings ? this.playerSystem.SendUpdateBalance() : null != t.AwardItem && t.ItemAmount > 0 && I.default.Instance.ModifyItemQty(b.PlayerManager.MainSeat, t.ItemID, t.ItemAmount)
                }, e.prototype.SentQuestCollect = function(t, e) {
                    return s(this, void 0, void 0, function() {
                        var n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return B.ConnectPanelMgr.Instance.ShowConnectPanel(0), [4, new Promise(function(t) {
                                        setTimeout(t, 500)
                                    }.bind(this))];
                                case 1:
                                    i.sent(), P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto(), i.label = 2;
                                case 2:
                                    return b.PlayerManager.Instance.BulletCount > 0 ? (console.log("ALD \u8981\u958b\u7d50\u7b97 \u6709\u5b50\u5f48\u4e0d\u540c\u6b65 BulletCount = " + b.PlayerManager.Instance.BulletCount), [4, SS.Common.WaitForSeconds(1)]) : [3, 4];
                                case 3:
                                    return i.sent(), [3, 2];
                                case 4:
                                    return this.playerSystem.RefreshBalanceEvent = function() {
                                        n.playerSystem.RefreshBalanceEvent = null, n.playerSystem.SendCollectQueat(t, e)
                                    }, this.playerSystem.SendRefreshBalance(), [2]
                            }
                        })
                    })
                }, e.prototype.CallErrorClose = function() {
                    this.CallOnError("C47", "OceanHeart_GetCollectAward 15s Timeout")
                }, e.prototype.OnCollectQuest = function(t) {
                    this.unschedule(this.CallErrorClose);
                    var e = t.data.ExtraInfo;
                    if (console.warn("\u6536\u5230\u9818\u734e\u5c01\u5305 extraInfo : ", e), null == e) return B.ConnectPanelMgr.Instance.DisableConnectPanel(0), void this.CallErrorClose();
                    this.m_OceanHeartMgr && (A.default.CloseWindow(A.Windows.WeaponChose), A.default.CloseWindow(A.Windows.LockSetting), this.m_OceanHeartMgr.OnCollectQuest(t))
                }, e.prototype.SendReflashAwardBalance = function() {
                    console.warn("\u540c\u6b65\u9818\u53d6\u7684\u734e\u91d1\u56deDB SendReflashAwardBalance "), this.playerSystem.SendRefreshBalance()
                }, e.prototype.SetBalance = function(t, e) {
                    b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries = e;
                    n.FishUIMgr.SetEntriesNow(b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries);
                }, e.prototype.UpdateFishQuestBalance = function(t, e) {
                    console.log("UpdateFishQuestBalance !! \u540c\u6b65\u9322 = winning = " + t + ", entries = " + e), SS.Common.GameEnvironment.IsUseScoreBox ? (b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].winning = t, n.FishUIMgr.SetWinningNow(t, !0, !0)) : (b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries = e, n.FishUIMgr.SetEntriesNow(b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries))
                }, e.prototype.CallCheckQuest = function() {
                    var t = !1;
                    this.m_OceanHeartMgr && (t = this.m_OceanHeartMgr.CheckQuestIsActive()), t || this.playerSystem.SendCheckQueat();
                    var e = !1;
                    this.m_FishPuzzleEggMgr && (e = this.m_FishPuzzleEggMgr.CheckQuestIsActive()), e || this.m_bPuzzleButNoThisGame || this.playerSystem.SendCheckPuzzleQueat(), this.unschedule(this.CallCheckQuest), this.schedule(this.CallCheckQuest, 5)
                }, e.prototype.FishQuestCheckEvent = function(t) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (!t) return [3, 5];
                                    if (null != this.m_OceanHeartMgr) return [3, 4];
                                    this.SendCommEventInfo(), e.label = 1;
                                case 1:
                                    return this.m_EventInfoState != c.SEND_CMD ? [3, 3] : [4, SS.Common.WaitForSeconds(.5)];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    return this.ParseMissionInfo(!1), [3, 5];
                                case 4:
                                    this.m_OceanHeartMgr.CallSendCmd(), e.label = 5;
                                case 5:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.OnOceanHeartCloseCollectAward = function() {
                    P.default.Instance.bulletLimit = 20
                }, e.prototype.OnOceanHeartGameError = function() {
                    this.CallOnError("C46", "CurGameClose")
                }, e.prototype.OnPuzzleEggOpen = function() {
                    if (console.log("OnPuzzleEggOpen "), !this.m_FishPuzzleEggMgr) {
                        var t = this;
                        cc.resources.load("Mission/900005/FishPuzzleEgg", function(e, n) {
                            if (e) return this.errorMsg = e, this.errorCode = "C03", this.isError = !0, void console.error(e);
                            if (!t.m_FishPuzzleEggMgr) {
                                var i = cc.instantiate(n);
                                i.parent = this.BarRoot, i.setPosition(cc.Vec2.ZERO), P.default.Instance.GetWeaponPosition(b.PlayerManager.MainSeat), t.m_FishPuzzleEggMgr = i.getComponent(U.FishPuzzleEggMgr), t.m_FishPuzzleEggMgr.EVENT_OPEN_UI = t.EventOpenPuzzlePage.bind(t), t.m_FishPuzzleEggMgr.EVENT_CLOSE_UI = t.EventClosePuzzlePage.bind(t), t.m_FishPuzzleEggMgr.EVENT_SEND_COLLECT_CMD = t.SentPuzzleQuestCollect.bind(t), t.m_FishPuzzleEggMgr.EVENT_GET_AWARD_FIN = t.OnPuzzleGetAwardFin.bind(t), t.m_FishPuzzleEggMgr.EVENT_ERROR = t.CallOnError.bind(t), t.m_FishPuzzleEggMgr.m_IconMgr.node.setParent(t.FishCommonRoot.EventIconRoot), M.default.Instance.m_funDropPuzzleEgg = t.m_FishPuzzleEggMgr.DropPuzzleEgg.bind(t.m_FishPuzzleEggMgr), M.default.Instance.m_funPuzzlePieceFlyStartCB = t.m_FishPuzzleEggMgr.ShowPuzzleIconPanel.bind(t.m_FishPuzzleEggMgr), M.default.Instance.m_funPuzzlePieceFlyFinCB = t.m_FishPuzzleEggMgr.GetPuzzleItemCB.bind(t.m_FishPuzzleEggMgr), M.default.Instance.m_funGetPuzzleIconPos = t.m_FishPuzzleEggMgr.m_IconMgr.GetSmallIconPos.bind(t.m_FishPuzzleEggMgr.m_IconMgr), M.default.Instance.m_funGetEnableShow = t.m_FishPuzzleEggMgr.CheckDropEggEnable.bind(t.m_FishPuzzleEggMgr), t.playerSystem.FishPuzzleQuestCollectEvent = t.OnCollectPuzzleQuest.bind(t), t.fishUIMgr.CheckTeachPanelActive() && (t.m_FishPuzzleEggMgr.node.opacity = 0, t.m_FishPuzzleEggMgr.m_IconMgr.node.active = !1), this.CheckPuzzleTips()
                            }
                        }.bind(this))
                    }
                }, e.prototype.FishPuzzleQuestCheckEvent = function(t) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (console.warn("GameClientALD !! FishPuzzleQuestCheckEvent, isOpen = " + t), !t) return [3, 4];
                                    console.warn("GameClientALD !! Fthis.m_FishPuzzleEggMgr"), this.SendPuzzleQuest(), e.label = 1;
                                case 1:
                                    return this.m_EventInfoState == c.SEND_CMD && this.m_bIsRecvPuzzleQuestRank ? (console.log("while \u7b49\u5f85\u4efb\u52d9\u8cc7\u8a0aing"), [4, SS.Common.WaitForSeconds(.5)]) : [3, 3];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    this.UpdatePuzzleQueatInfo(), e.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.EventOpenPuzzlePage = function() {
                    P.default.Instance.bulletLimit = 0, this.EventStopAuto(), A.default.CloseWindow(A.Windows.WeaponChose), A.default.CloseWindow(A.Windows.LockSetting)
                }, e.prototype.EventClosePuzzlePage = function() {
                    P.default.Instance.bulletLimit = 20
                }, e.prototype.CheckPuzzleTips = function() {
                    var t = this;
                    b.PlayerManager.Instance.CheckPlayerBetMax() || this.fishUIMgr.ShowBetTips(5, O.FishEventType.PuzzleEgg), this.schedule(function() {
                        console.log("\u6aa2\u67e5 bet = " + b.PlayerManager.Instance.CheckPlayerBetMax()), b.PlayerManager.Instance.CheckPlayerBetMax() || t.fishUIMgr.ShowBetTips(5, O.FishEventType.PuzzleEgg)
                    }, 300, cc.macro.REPEAT_FOREVER, 0)
                }, e.prototype.SentPuzzleQuestCollect = function(t, e, n) {
                    return s(this, void 0, void 0, function() {
                        var i = this;
                        return r(this, function() {
                            return P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto(), console.warn("\u9001\u51fa SendRefreshBalance \u66f4\u65b0DB\u9322"), this.playerSystem.RefreshBalanceEvent = function() {
                                i.playerSystem.RefreshBalanceEvent = null, i.schedule(i.CallErrorClose, 15), console.warn("\u9001\u51fa SentPuzzleQuestCollect questName = " + t + ", questSerialNo = " + e + ", questLv = " + n), i.playerSystem.SendFishPuzzleQuestCollect(t, e, n)
                            }, this.playerSystem.SendRefreshBalance(), [2]
                        })
                    })
                }, e.prototype.OnCollectPuzzleQuest = function(t) {
                    this.unschedule(this.CallErrorClose), console.warn("\u6536\u5230\u9818\u734e\u5c01\u5305 result = " + t.result + ", cmd_data = ", t), 0 == t.result ? (b.PlayerManager.BulletSync(1, t.playerInfo.winnings), this.m_FishPuzzleEggMgr && this.m_FishPuzzleEggMgr.GetAwardState.OnCollectQuest(b.PlayerManager.MainSeat, t)) : this.CallOnError("S354", "OnCollectPuzzleQuest error", !0)
                }, e.prototype.OnPuzzleGetAwardFin = function(t, e) {
                    var n = this;
                    this.playerSystem.FishPuzzleUpdateBalanceEvent = function(i) {
                        n.playerSystem.FishPuzzleUpdateBalanceEvent = null, e == x.ShowType.ENTRIES ? (b.PlayerManager.Instance.ModifyPlayerEntries(b.PlayerManager.MainSeat, t, null, !1), b.PlayerManager.BulletSync(-1, null)) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, t, i), P.default.Instance.bulletLimit = 20
                    }, this.playerSystem.SendRefreshBalance()
                }, e.prototype.CallOnError = function(t, e, n) {
                    void 0 === e && (e = ""), void 0 === n && (n = !0), n ? (P.default.Instance && P.default.Instance.ForceStopAuto(), console.error("CallOnError, code = " + t + ", reason = " + e), R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Warning, t, this.title, e, this.ReturnToLobby.bind(this))) : R.PopupMsgMgr.Instance.ShowPopMsg(R.PopupPriority.Warning, t, this.title, e, null)
                }, e.prototype.RecordErrorLog = function(t, e) {
                    void 0 === e && (e = ""), E.LobbyClient.Instance && "maintain" != e && "updateVersion" != e && E.LobbyClient.Instance.CollectErrorLog(R.PopupPriority.Warning, t, this.GameName, e)
                }, e.prototype.RecordClickLog = function(t) {
                    E.LobbyClient.Instance && null != this.RecordingSkillID && E.LobbyClient.Instance.GetUserClient.recordClickLog("FishShootInSkill", this.RecordingSkillID + (t ? 0 : 1e4))
                }, e.prototype.ReciveCmdTime = function(t) {
                    A.default.EnableNetUnstable(t > 5, 2), t > .25 ? this.fishUIMgr.SetNetSignal(1) : t > .1 ? this.fishUIMgr.SetNetSignal(2) : this.fishUIMgr.SetNetSignal(3)
                }, e.prototype.UpdateBetData = function(t, e, n) {
                    this.m_CurBet = t, this.m_CurBetScale = e || this.m_CurBetScale, this.m_CurShootPerSecond = n || this.m_CurShootPerSecond, this.m_CurCostPerSecond = this.m_CurBet * this.m_CurBetScale * this.m_CurShootPerSecond, this.m_OceanHeartMgr && this.m_OceanHeartMgr.CheckOpenShellSpeed(this.m_CurCostPerSecond)
                }, e.prototype.GetThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var n in e)
                            if (e[n].GameName == t) return n
                    } catch (K) {}
                    return ""
                }, e.prototype.loadJson = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return e = {}, [4, new Promise(function(n, i) {
                                        var o = t.indexOf("/"),
                                            a = t.substring(0, o),
                                            s = t.substring(o + 1, t.length),
                                            r = cc.assetManager.getBundle(a);
                                        r ? r.load(s, function(o, a) {
                                            if (o) return cc.error(o), i(), void this.LoadResError(t);
                                            e = a.json, cc.assetManager.releaseAsset(a), n(null)
                                        }) : console.error("Get bundle failed, bundlename = " + a)
                                    })];
                                case 1:
                                    return n.sent(), [2, e]
                            }
                        })
                    })
                }, e.prototype.CheckJson = function(t) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, n) {
                                        var i = t.indexOf("/"),
                                            o = t.substring(0, i),
                                            a = t.substring(i + 1, t.length),
                                            s = cc.assetManager.getBundle(o);
                                        s ? s.load(a, function(t, i) {
                                            t ? n() : (cc.assetManager.releaseAsset(i), e(null))
                                        }) : console.error("Get bundle failed, bundlename = " + o)
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.OnDownloadBundleFinished = function() {
                    this.HasJP && E.LobbyClient.Instance.GetJPSystem.SendGetJPValCmd("Fish", this.RecvJPValCmd.bind(this)), "playgd" == window.gd_nowLOGO && V.EventSystem.Event(V.FishHunter.OnShipOccupiedShow).Insert(this.SetShipOccupieUICloseEvent, this), this.DownloadBundleFinished = !0
                }, e.prototype.GetPlayerByArkId = function(t) {
                    return b.PlayerManager.getPlayerById(t)
                }, e.prototype.GetPlayerArkId = function(t) {
                    return b.PlayerManager.getPlayer(t).id
                }, e.prototype.GetPlayerAsset = function(t) {
                    var e = {};
                    return e.entries = b.PlayerManager.getPlayer(t).entries, e.winning = b.PlayerManager.getPlayer(t).winning, e
                }, e.prototype.UpdateOtherPlayerAsset = function(t) {
                    for (var e = 0; e < t.length; e++)
                        if (t[e].seat != b.PlayerManager.MainSeat) {
                            var n = b.PlayerManager.getPlayer(t[e].seat);
                            n.entries = t[e].entries, n.winning = t[e].winnings
                        }
                    this.fishUIMgr.UpdateOtherPlayerAsset && this.fishUIMgr.UpdateOtherPlayerAsset(t)
                }, e.prototype.OnBackToLogin = function() {
                    console.warn("OnBackToLogin"), this.topBar.SetTopBarStatus(W.TopbarStatus.InGameDisabled), B.ConnectPanelMgr.Instance.ShowConnectPanel(), location.replace(window.location.href)
                }, e.prototype.GetMainPlayerLeaderBoardInfo = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t.is_new_record ? [4, SS.Common.WaitForSeconds(5)] : [2];
                                case 1:
                                    return n.sent(), e = -1, 1 == t.record_type ? e = 1 : 3 == t.record_type && (e = 0), V.EventSystem.Event(V.NoticedArrived.OnReceiveReward).Notify(e), V.EventSystem.Event(V.NoticedArrived.ShowRewardNotice).Notify(), [2]
                            }
                        })
                    })
                }, e.prototype.GetMainPlayerItem = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function() {
                            if (t == []) return [2];
                            for (e = 0; e < t.length; e++) V.EventSystem.Event(V.NoticedArrived.OnReceiveAvatar).Notify(t[e]), V.EventSystem.Event(V.NoticedArrived.ShowAvatarNotice).Notify();
                            return [2]
                        })
                    })
                }, e.prototype.RecvPlayerInfo = function(t) {
                    V.EventSystem.Event(V.FishHunter.UpdatePlayerSetting).Length > 0 && (this.m_tempPlayerInfoData.ArkID = t.ark_id, this.m_tempPlayerInfoData.FaceID = t.avatar_id, this.m_tempPlayerInfoData.FaceFrameID = t.avatar_frame_id, this.m_tempPlayerInfoData.NickName = t.nickname, V.EventSystem.Event(V.FishHunter.UpdatePlayerSetting).Notify(this.m_tempPlayerInfoData))
                }, e.prototype.SetShipOccupieUICloseEvent = function(t) {
                    var e = this;
                    P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto();
                    var n = {};
                    n.collect_amount = t.collect_amount, V.EventSystem.Event(V.FishHunter.SetShipOccupieUICloseEvent).Notify(function() {
                        b.PlayerManager.BulletSync(1, null), e.playerSystem.RefreshBalanceEvent = function(t) {
                            e.playerSystem.RefreshBalanceEvent = null, SS.Common.GameEnvironment.IsUseScoreBox ? b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, n.collect_amount, t.winnings, !0) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, n.collect_amount, t.entries, !0), P.default.Instance.bulletLimit = 20, e.playerSystem.SendSyncAsset()
                        }, e.playerSystem.SendRefreshBalance()
                    }, this)
                }, e.prototype.RecvJPValCmd = function(t, e, n, i, o, a) {
                    "Fish" == a && (this.FishCommonRoot.GetJPMgr.ChangeJPVal(t, e, n, i, this.IsWaitInitJpValue), SS.Common.GameEnvironment.exchange_rate = o, this.IsWaitInitJpValue && (this.JPBarRoot = V.EventSystem.Function(V.TopBar.GetRoot)(), this.JPBarRoot && (this.JPBarRoot.active = !0, this.IsWaitInitJpValue = !1)))
                    this.JPBarRoot.active = false;
                }, e.prototype.RecvJPCandidateCmd = function(t) {
                    t.group && E.LobbyClient.Instance.GetJPSystem.CheckJPRequest(this.GameName, t.group, this.m_CurBet * this.m_CurBetScale)
                }, e.prototype.onWinJpVaule = function(t, e) {
                    var n = this;
                    b.PlayerManager.BulletSync(1, null), this.playerSystem.RefreshBalanceByWinJPEvent = function(t) {
                        n.playerSystem.RefreshBalanceByWinJPEvent = null, SS.Common.GameEnvironment.IsUseScoreBox ? b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, e, t.winnings, !0) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, e, t.entries, !0)
                    }, this.playerSystem.SendRefreshBalance()
                }, e.prototype.OnLobbyCommonReady = function() {
                    H.LobbyCommon.Instance.OnSetupCompletedEvent = null, H.LobbyCommon.Instance.UpdateRootScale()
                }, e.prototype.submarineCheat = function() {
                    var t = this.cheatBtn.getComponentInChildren(cc.Label);
                    switch (this.cheatMode) {
                        case 0:
                            this.cheatMode = 1, t.string = "\u6c92\u734e", this.SkillSystem.cheatString = "none";
                            break;
                        case 1:
                            this.cheatMode = 2, t.string = "\u5c0f\u5bf6\u7bb1", this.SkillSystem.cheatString = "small";
                            break;
                        case 2:
                            this.cheatMode = 3, t.string = "\u5927\u5bf6\u7bb1", this.SkillSystem.cheatString = "big";
                            break;
                        case 3:
                            this.cheatMode = 4, t.string = "\u62c9\u626f\u5931\u6557", this.SkillSystem.cheatString = "versus1";
                            break;
                        case 4:
                            this.cheatMode = 5, t.string = "\u767d\u5203\u6230\u5931\u6557", this.SkillSystem.cheatString = "versus2";
                            break;
                        case 5:
                            this.cheatMode = 6, t.string = "\u4f54\u9818", this.SkillSystem.cheatString = "capture";
                            break;
                        case 6:
                            this.cheatMode = 0, t.string = "", this.SkillSystem.cheatString = null
                    }
                }, e.instance = null, a([q(cc.Prefab)], e.prototype, "CommonRootPrefab", void 0), a([q(cc.Prefab)], e.prototype, "FishMenuRootPrefab", void 0), a([q(cc.Prefab)], e.prototype, "PopupWindowPrefab", void 0), a([q(cc.Node)], e.prototype, "BarRoot", void 0), a([q({
                    displayName: "\u904a\u6232\u4e2d\u662f\u5426\u6709JP"
                })], e.prototype, "HasJP", void 0), a([q({
                    displayName: "\u904a\u6232\u4e2d\u662f\u5426\u8981\u8f09Bundle"
                })], e.prototype, "HasBundle", void 0), a([q(cc.Node)], e.prototype, "cheatBtn", void 0), n = a([z], e)
            }(cc.Component);
        n.default = Q, cc._RF.pop()
    }, {
        "../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../FishCommon/Script/FishCommonRoot": void 0,
        "../../../FishCommon/Script/FishUIMgr": void 0,
        "../../../GameCommon/CommonRoot/Script/CommonRoot": void 0,
        "../../../LobbyCommon/Component/AudioMgr": void 0,
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": void 0,
        "../../../LobbyCommon/EventModule/FishOceanHeart/Script/FishOceanHeartMgr": void 0,
        "../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggMgr": void 0,
        "../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl": void 0,
        "../../../LobbyCommon/Helper/EventSystem": void 0,
        "../../../LobbyCommon/Loading/Script/LoadingMgr": void 0,
        "../../../LobbyCommon/LobbyCommon": void 0,
        "../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../../LobbyCommon/TopBar/Script/TopbarMgr": void 0,
        "./Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "./MainGame/Common/EnumFilter": "EnumFilter",
        "./MainGame/Common/FishMenuMgr": "FishMenuMgr",
        "./MainGame/Common/MultiLangSystem": "MultiLangSystem",
        "./MainGame/Common/PreloadManager": "PreloadManager",
        "./MainGame/Common/ResourceManager": "ResourceManager",
        "./MainGame/Fish/FishManager": "FishManager",
        "./MainGame/Game/GameManager": "GameManager",
        "./MainGame/Item/ItemManager": "ItemManager",
        "./MainGame/Player/PlayerManager": "PlayerManager",
        "./MainGame/Player/PopupWindowCtrl": "PopupWindowCtrl",
        "./MainGame/Skill/BaseSkill": "BaseSkill",
        "./MainGame/Weapon/WeaponManager": "WeaponManager",
        "./System/FishSystem": "FishSystem",
        "./System/GameSystem": "GameSystem",
        "./System/ItemSystem": "ItemSystem",
        "./System/KioskSystem": "KioskSystem",
        "./System/MissionSystem": "MissionSystem",
        "./System/PlayerSystem": "PlayerSystem",
        "./System/SkillSystem": "SkillSystem",
        "./System/WeaponSystem": "WeaponSystem"
    }],
    GameManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7f54adHQMBGRIcq3Mt99tit", "GameManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/ResourceManager"),
            l = t("../Fish/FishManager"),
            h = t("../Background/BaseBackGround"),
            u = t("../Common/AudioManager"),
            p = t("../Weapon/WeaponManager"),
            d = t("../../GameClient"),
            f = t("../Common/PreloadManager"),
            y = t("../../../../../FishCommon/Script/CanvasHandler"),
            m = t("../Common/EnumFilter"),
            g = cc._decorator.ccclass,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BackgroundNow = null, e.sceneInit = !1, e.StagePass = null, e.bgIndex = null, e.tempIndex = null, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this, this.sceneInit = !1;
                    var t = cc.director.getPhysicsManager();
                    t.enabled = !0, t.enabledAccumulator = !0, t.FIXED_TIME_STEP = .1, t.VELOCITY_ITERATIONS = 1, t.POSITION_ITERATIONS = 1
                }, e.prototype.start = function() {
                    f.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), cc.game.on(cc.game.EVENT_HIDE, this.HideEvent, this), cc.game.on(cc.game.EVENT_SHOW, this.ShowEvent, this)
                }, e.prototype.HideEvent = function() {
                    n.HideTimeOutID = setTimeout(function() {
                        d.default.Instance && d.default.Instance.HideTimeOut()
                    }, 15e3)
                }, e.prototype.ShowEvent = function() {
                    clearTimeout(n.HideTimeOutID)
                }, e.prototype.onInitScriptEvent = function(t, e) {
                    this.InitBackground(t, e)
                }, e.prototype.InitBackground = function(t, e) {
                    return s(this, void 0, void 0, function() {
                        var n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    switch (t) {
                                        case 0:
                                        case 17:
                                        case 2501:
                                        case 2503:
                                        case 2505:
                                        case 2506:
                                        case 2507:
                                        case 2508:
                                        case 2509:
                                        case 2510:
                                            return (n = c.default.LoadBackground(0)) && (this.BackgroundNow = n.getComponent(h.default)), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), u.default.Instance.Play("13_bgswitch"), p.default.Instance.bulletLimit = 0, [2];
                                        case 1001:
                                        case 1002:
                                        case 2001:
                                            this.bgIndex = 1, u.default.Instance.PlayBGM("11_bg3", 1, !0);
                                            break;
                                        case 1003:
                                        case 1004:
                                        case 2002:
                                            this.bgIndex = 2, u.default.Instance.PlayBGM("10_bg2", 1, !0);
                                            break;
                                        case 1005:
                                        case 1006:
                                        case 2003:
                                            switch (this.bgIndex = 3, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                                            }
                                            break;
                                        case 1007:
                                        case 1008:
                                        case 2004:
                                            this.bgIndex = 4, u.default.Instance.PlayBGM("12_bg4", 1, !0);
                                            break;
                                        case 1009:
                                        case 1010:
                                        case 2005:
                                            switch (this.bgIndex = 5, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_Dragon_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("BGM_Buffalo_01", 1, !0)
                                            }
                                            break;
                                        case 1011:
                                        case 1012:
                                        case 2006:
                                            switch (this.bgIndex = 6, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                                    break;
                                                case m.FishGame.ZB:
                                                    u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                                    break;
                                                case m.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0);
                                                    break;
                                                case m.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Patrick_01", 1, !0)
                                            }
                                            break;
                                        case 1013:
                                        case 1014:
                                        case 2007:
                                            switch (this.bgIndex = 7, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.MTY:
                                                    u.default.Instance.PlayBGM("BGM_Turtle_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                                            }
                                            break;
                                        case 1015:
                                        case 1016:
                                        case 2008:
                                            this.bgIndex = 8, u.default.Instance.PlayBGM("BGM_Lion_01", 1, !0);
                                            break;
                                        case 1017:
                                        case 1018:
                                        case 2009:
                                            this.bgIndex = 9, u.default.Instance.PlayBGM("BGM_Pig_01", 1, !0);
                                            break;
                                        case 1019:
                                        case 1020:
                                        case 2010:
                                            this.bgIndex = 10, u.default.Instance.PlayBGM("BGM_Tiger_01", 1, !0);
                                            break;
                                        default:
                                            return [2]
                                    }
                                    return [4, c.default.Instance.ChangeResource(this.bgIndex)];
                                case 1:
                                    if (s.sent(), this.BackgroundNow ? ((i = this.BackgroundNow).node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                            i.Recycle(), p.default.Instance.bulletLimit = 20
                                        }))), this.RecycleStagePass()) : p.default.Instance.bulletLimit = 20, (o = c.default.LoadBackground(this.bgIndex)) && (this.BackgroundNow = o.getComponent(h.default), o.runAction(cc.fadeIn(2))), !o || !this.BackgroundNow) return a = "ResourcePoolError_InitBackground_", o || (a += "!newBG"), this.BackgroundNow || (a += "!BackgroundNow"), this.ResourcePoolError(a), [2];
                                    switch (e) {
                                        case 1001:
                                        case 1003:
                                        case 1005:
                                        case 1007:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("bg_king", 1, !0);
                                            break;
                                        case 1009:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_Dragon_02", 1, !0);
                                                    break;
                                                case m.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Buffalo_02", 1, !0)
                                            }
                                            break;
                                        case 1011:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_02", 1, !0);
                                                    break;
                                                case m.FishGame.ZB:
                                                    u.default.Instance.PlayBGM("BGM_Skeleton_02", 1, !0);
                                                    break;
                                                case m.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_KingKong_04", 1, !0);
                                                    break;
                                                case m.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Patrick_02", 1, !0)
                                            }
                                            break;
                                        case 1013:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case m.FishGame.MTY:
                                                    u.default.Instance.PlayBGM("BGM_Turtle_02", 1, !0)
                                            }
                                            break;
                                        case 1015:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Lion_02", 1, !0);
                                            break;
                                        case 1017:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Pig_02", 1, !0);
                                            break;
                                        case 1019:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Tiger_02", 1, !0)
                                    }
                                    return this.sceneInit = !0, d.default.Instance.DelayCloseLoading(), [2]
                            }
                        })
                    })
                }, e.prototype.onScriptEvent = function(t) {
                    var e = this;
                    if (this.sceneInit) switch (t) {
                        case 2:
                        case 3:
                            var n = c.default.SpawnTitle(t);
                            n || (n = c.default.LoadBackground(t)), n ? n.angle = y.default.isReverse ? 180 : 0 : console.error(" Load fishcoming fail! event_type = " + t);
                            break;
                        case 17:
                            l.default.Instance.FishSpeedUp(0, 3.5, 3), l.default.Instance.FishFadeOut();
                            break;
                        case 1001:
                        case 1003:
                        case 1005:
                        case 1007:
                            this.BossComming(t), u.default.Instance.PlayBGM("bg_king", 1, !0);
                            break;
                        case 1009:
                            switch (this.BossComming(t), SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_Dragon_02", 1, !0), u.default.Instance.Play("Dragon_banner_01"), u.default.Instance.Play("voice_dragon_banner_01");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Buffalo_02", 1, !0), u.default.Instance.Play("Buffalo_banner_01"), u.default.Instance.Play("voice_Buffalo_banner_01")
                            }
                            break;
                        case 1011:
                            switch (this.BossComming(t), SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_KingKong_04", 1, !0), u.default.Instance.Play("KingKong_banner_01"), u.default.Instance.Play("voice_KingKong_banner_01");
                                    break;
                                case m.FishGame.ZB:
                                    u.default.Instance.PlayBGM("BGM_Skeleton_02", 1, !0), u.default.Instance.Play("Skeleton_banner_01"), u.default.Instance.Play("voice_Skeleton_up_01");
                                    break;
                                case m.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_02", 1, !0), u.default.Instance.Play("Genie_banner_01"), u.default.Instance.Play("voice_Genie_come_01");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Patrick_02", 1, !0), u.default.Instance.Play("Patrick_banner_01"), u.default.Instance.Play("voice_Patrick_banner_01")
                            }
                            break;
                        case 1013:
                            switch (this.BossComming(t), SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.WCF:
                                    u.default.Instance.Play("LuckyCat_Announce");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Turtle_02", 1, !0), u.default.Instance.Play("Genie_banner_01"), u.default.Instance.Play("voice_turtle_come_01")
                            }
                        case 1015:
                            this.BossComming(t), u.default.Instance.PlayBGM("BGM_Lion_02", 1, !0), u.default.Instance.Play("Lion_banner_01"), u.default.Instance.Play("voice_lion_come_01");
                            break;
                        case 1017:
                            this.BossComming(t), u.default.Instance.PlayBGM("BGM_Pig_02", 1, !0), u.default.Instance.Play("Pig_banner_01"), u.default.Instance.Play("voice_pig_come_01");
                            break;
                        case 1019:
                            this.BossComming(t), u.default.Instance.PlayBGM("BGM_Tiger_02", 1, !0), u.default.Instance.Play("Tiger_banner_01"), u.default.Instance.Play("voice_tiger_come_01");
                            break;
                        case 1002:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.MF:
                                    u.default.Instance.PlayBGM("11_bg3", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1004:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.MF:
                                    u.default.Instance.PlayBGM("10_bg2", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1006:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.MF:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1008:
                            u.default.Instance.PlayBGM("12_bg4", 1, !0), this.BackgroundNow.BossLeave();
                            break;
                        case 1010:
                        case 1012:
                        case 1014:
                        case 1016:
                        case 1018:
                        case 1020:
                            this.BackgroundNow.BossLeave();
                            break;
                        case 2001:
                            this.tempIndex = 1, u.default.Instance.PlayBGM("11_bg3", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2002:
                            this.tempIndex = 2, u.default.Instance.PlayBGM("10_bg2", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2003:
                            switch (this.tempIndex = 3, SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2004:
                            this.tempIndex = 4, u.default.Instance.PlayBGM("12_bg4", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2005:
                            switch (this.tempIndex = 5, SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_Dragon_01", 1, !0);
                                    break;
                                case m.FishGame.LS:
                                    u.default.Instance.PlayBGM("BGM_Buffalo_01", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2006:
                            switch (this.tempIndex = 6, SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                    break;
                                case m.FishGame.LS:
                                    u.default.Instance.PlayBGM("BGM_Patrick_01", 1, !0);
                                    break;
                                case m.FishGame.ZB:
                                    u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                    break;
                                case m.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2007:
                            switch (this.tempIndex = 7, SS.Common.GameEnvironment.CurrentGameNow) {
                                case m.FishGame.MTY:
                                    u.default.Instance.PlayBGM("BGM_Turtle_01", 1, !0);
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2008:
                            this.tempIndex = 8, u.default.Instance.PlayBGM("BGM_Lion_01", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2009:
                            this.tempIndex = 9, u.default.Instance.PlayBGM("BGM_Pig_01", 1, !0);
                            break;
                        case 2010:
                            this.tempIndex = 10, u.default.Instance.PlayBGM("BGM_Tiger_01", 1, !0);
                            break;
                        case 2501:
                        case 2502:
                        case 2503:
                        case 2504:
                        case 2505:
                        case 2506:
                        case 2507:
                        case 2508:
                        case 2509:
                        case 2510:
                            var i = null;
                            if (this.bgIndex) {
                                switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                    case m.FishGame.MF:
                                    case m.FishGame.TD:
                                        i = this.bgIndex + 4;
                                        break;
                                    case m.FishGame.LS:
                                        i = this.bgIndex + 6;
                                        break;
                                    case m.FishGame.ZB:
                                        u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                        break;
                                    case m.FishGame.KK:
                                        u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0)
                                }
                                this.bgIndex = null
                            }
                            this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                                i && c.default.LoadBackground(i)
                            }), cc.delayTime(4.2), cc.callFunc(function() {
                                e.BossPassed()
                            })));
                            var o = this.BackgroundNow;
                            o && o.node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                o.Recycle()
                            })));
                            var a = c.default.LoadBackground(0);
                            a && (this.BackgroundNow = a.getComponent(h.default), a.runAction(cc.fadeIn(2))), this.StagePass || (this.StagePass = c.default.LoadBackground("logo"), this.StagePass.angle = y.default.isReverse ? 180 : 0), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), u.default.Instance.Play("13_bgswitch"), p.default.Instance.bulletLimit = 0
                    } else this.InitBackground(t)
                }, e.prototype.BossComming = function(t) {
                    var e = c.default.SpawnTitle(t);
                    e || (e = c.default.LoadBackground(t)), e ? e.angle = y.default.isReverse ? 180 : 0 : console.error(" Load bosscoming fail! event_type = " + t), l.default.Instance.FishSpeedUp(0, 3.5, 3), l.default.Instance.FishFadeOut(), this.BackgroundNow.BossEnter()
                }, e.prototype.RecycleStagePass = function() {
                    var t = this;
                    this.StagePass && this.StagePass.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        c.default.UnLoadBackground("logo", t.StagePass), t.StagePass = null
                    })))
                }, e.prototype.BossPassed = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.tempIndex ? [4, c.default.Instance.ChangeResource(this.tempIndex)] : [3, 2];
                                case 1:
                                    if (i.sent(), this.BackgroundNow ? ((t = this.BackgroundNow).node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                            t.Recycle(), p.default.Instance.bulletLimit = 20
                                        }))), this.RecycleStagePass()) : p.default.Instance.bulletLimit = 20, (e = c.default.LoadBackground(this.tempIndex)) && (this.BackgroundNow = e.getComponent(h.default), this.BackgroundNow.node.runAction(cc.fadeIn(2))), !e || !this.BackgroundNow) return n = "ResourcePoolError_BossPassed_", e || (n += "!newBG"), this.BackgroundNow || (n += "!BackgroundNow"), this.ResourcePoolError(n), [2];
                                    this.bgIndex = this.tempIndex, this.tempIndex = null, i.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.ResourcePoolError = function(t) {
                    d.default.Instance.CallOnError("C35", t)
                }, e.prototype.Clear = function() {
                    cc.game.targetOff(this), clearTimeout(n.HideTimeOutID), n.instance = null
                }, e.TimeHide = null, e.instance = null, e.HideTimeOutID = -1, n = a([g], e)
            }(cc.Component);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Background/BaseBackGround": "BaseBackGround",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    GameSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2bfa7L2ly9Erqsl5AuaV8VT", "GameSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var a = function(t) {
            function e(e) {
                var n = t.call(this, e, "game") || this;
                return n.TableJoinEvent = null, n.InitGameEvent = null, n.PlayerLeaveEvent = null, n.KickOutEvent = null, n.UpdateMissionProgressEvent = null, n.GetLeaderBoardInfoEvent = null, n.GetItemInfoEvent = null, n.RegisterCmdCallback("join_table", n.onTableJoin.bind(n)), n.RegisterCmdCallback("init_game", n.onInitGame.bind(n)), n.RegisterCmdCallback("leave_table", n.onPlayerLeave.bind(n)), n.RegisterCmdCallback("KICK_OUT", n.onKickOut.bind(n)), n.RegisterCmdCallback("killFishInfo", n.onGetFishMissionProgress.bind(n)), n.RegisterCmdCallback("leaderBoardInfo", n.onGetLeaderBoardInfo.bind(n)), n.RegisterCmdCallback("ItemInfo", n.onGetItemInfo.bind(n)), n
            }
            return o(e, t), e.prototype.InitGame = function(t) {
                var e = {};
                e.game_id = t, this.SendCmd("init_game", e)
            }, e.prototype.onTableJoin = function(t, e) {
                if (this.TableJoinEvent) {
                    var n = e.game_id;
                    this.TableJoinEvent(n)
                }
            }, e.prototype.onInitGame = function(t, e) {
                if (this.InitGameEvent) {
                    var n = e.bg,
                        i = e.event;
                    this.InitGameEvent(n, i)
                }
            }, e.prototype.onPlayerLeave = function(t, e) {
                var n = e.seat;
                this.PlayerLeaveEvent && this.PlayerLeaveEvent(n)
            }, e.prototype.onKickOut = function(t, e) {
                if (this.KickOutEvent) {
                    var n = e.status.id;
                    this.KickOutEvent(n)
                }
            }, e.prototype.onGetFishMissionProgress = function(t, e) {
                console.log("[onGetFishMissionProgress]data...: " + JSON.stringify(e)), this.UpdateMissionProgressEvent && this.UpdateMissionProgressEvent(e)
            }, e.prototype.sendTestPower = function(t, e, n) {
                void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0);
                var i = {};
                i.power = t, i.rocket = e, i.fire_storm = n, this.SendCmd("test", i)
            }, e.prototype.sendTestOption = function(t, e, n) {
                void 0 === t && (t = null), void 0 === e && (e = null), void 0 === n && (n = null);
                var i = {};
                null != t && (i.fire_storm = t), null != e && (i.awake = e), null != n && (i.rocket = n), this.SendCmd("test", i)
            }, e.prototype.onGetLeaderBoardInfo = function(t, e) {
                console.error("onGetLeaderBoardInfo  data: " + JSON.stringify(e)), this.GetLeaderBoardInfoEvent && this.GetLeaderBoardInfoEvent(e)
            }, e.prototype.onGetItemInfo = function(t, e) {
                console.error("onGetItemInfo  data: " + JSON.stringify(e)), this.GetItemInfoEvent && this.GetItemInfoEvent(e)
            }, e
        }(t("./baseSystem").default);
        n.default = a, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    GenieBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "37df1Q4gNxL9bgPAfaV1B5K", "GenieBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.bossEnter = !0)
                }, e.prototype.SmokeOn = function() {
                    this.node && this.node.active && this.ani.play("GenieAwake")
                }, e.prototype.SizeUp = function() {
                    this.node && this.node.active && this.node.runAction(cc.scaleTo(1, 1.5).easing(cc.easeBackIn()))
                }, e.prototype.SizeDown = function() {
                    this.node && this.node.active && this.node.runAction(cc.scaleTo(1, 1))
                }, e.prototype.SmokeOff = function() {
                    this.node && this.node.active && this.ani.play("GenieAwakeOver")
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    GenieUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "0cd1bRV2HdGlLu4ZGzgVmFi", "GenieUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e, n) {
                    this.Bet = t, this.Seat = e, this.node.setPosition(n);
                    var i = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && i.addSelf(cc.Vec2.UP.mul(-200)), cc.tween(this.node).to(2.5, {
                        position: cc.v3(i)
                    }, {
                        easing: "backInOut"
                    }).start(), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), r.default.Instance.Play("Genie_UI_01"), this.ani.play("GenieTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "GenieBigWin" : "GenieYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    HUMPBACK_WHALE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ef9c7PQGatMZqhexIAna8zn", "HUMPBACK_WHALE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/ResourceManager"),
            l = t("./BaseFish"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ShapeSkeleton = null, e.splashCoin = [], e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode.opacity = 255, this.ShapeSkeleton.timeScale = 1, this.ShapeSkeleton.setAnimation(0, "SWIM", !0)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.aliveStatus = l.FishState.DEAD, this.canCollision = !1, this.StopAction(), t = cc.spawn(cc.rotateBy(4, 360), cc.callFunc(function() {
                                e.shapeNode.runAction(cc.fadeOut(4))
                            }), cc.sequence(cc.callFunc(function() {
                                for (var t = function(t) {
                                        var n = t % e.splashCoin.length;
                                        e.node.runAction(cc.sequence(cc.delayTime(.3 * t), cc.callFunc(function() {
                                            var t = c.default.SpawnEffect("CoinBlast");
                                            t.setScale(e.splashCoin[n].scale);
                                            var i = e.node.convertToWorldSpaceAR(e.splashCoin[n].getPosition());
                                            t.setPosition(t.parent.convertToNodeSpaceAR(i))
                                        })))
                                    }, n = 0; n < 8; n++) t(n)
                            }), cc.delayTime(5), cc.callFunc(function() {
                                e.RemoveSelf()
                            }))), this.node.runAction(t), [2]
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.ShapeSkeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.ShapeSkeleton.paused = !1
                }, e.prototype.RemoveSelf = function() {
                    this.ShapeSkeleton.setEventListener(null), this.ShapeSkeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([p(sp.Skeleton)], e.prototype, "ShapeSkeleton", void 0), a([p([cc.Node])], e.prototype, "splashCoin", void 0), a([u], e)
            }(l.default);
        n.default = d, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish"
    }],
    ICE_DRAGON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "16910eZelZL/68X3gPgc+G1", "ICE_DRAGON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Fish/BaseSpineFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1100, -70), this.node.rotation = this.o;
                    var t = cc.Vec2.RIGHT.rotate(cc.misc.degreesToRadians(this.o));
                    this.node.setPosition(t.mul(150)), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !1)
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "../Fish/BaseSpineFish": "BaseSpineFish"
    }],
    ItemButton: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "1c44auVl/9Ke4p+oCv32d58", "ItemButton");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../System/ItemSystem"),
            r = t("../Common/SystemTip"),
            c = t("../Weapon/WeaponManager"),
            l = t("../Fish/FishManager"),
            h = t("../../GameClient"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.itemID = "", e.btn = null, e.btnMask = null, e.tip = null, e.mask = null, e.amountStr = null, e.itemAmount = 0, e.tip_flag = !1, e.cdTime = 0, e.cdCounter = 0, e.timeOutCounter = 0, e.timeOutTime = 10, e.btnEvent = null, e
                }
                return o(e, t), Object.defineProperty(e.prototype, "ItemCanUse", {
                    get: function() {
                        return !(!this.btn.interactable || (this.cdCounter > 0 ? (r.default.Open(r.SYSTEM_TIP_TYPE.COOLDOWN, 1.5, !1), 1) : this.itemAmount < 1 ? (r.default.Open(r.SYSTEM_TIP_TYPE.QTY_LACK, 1.5, !1), 1) : 0 == c.default.Instance.bulletLimit ? (r.default.Open(r.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), 1) : this.itemID == s.ITEM_ID.FREEZE && !l.default.Instance.CheckAnyFishInScreen() && (r.default.Open(r.SYSTEM_TIP_TYPE.FREEZE_WAIT, 1.5, !1), 1)))
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    this.btn = this.getComponent(cc.Button), this.btnMask = cc.find("MaskBtn", this.node).getComponent(cc.Button), this.tip = cc.find("Tip", this.node), this.mask = cc.find("Mask", this.node).getComponent(cc.Sprite), this.amountStr = cc.find("Amount", this.node).getComponent(cc.RichText), this.btnMask.interactable = !1
                }, e.prototype.start = function() {}, e.prototype.update = function(t) {
                    this.cdCounter > 0 && (this.cdCounter -= t, this.mask.fillRange = this.cdCounter / this.cdTime, this.cdCounter <= 0 && (this.cdCounter = 0, this.checkBtnStatus())), this.timeOutCounter > 0 && (this.timeOutCounter -= t, this.timeOutCounter <= 0 && (this.timeOutCounter = 0, this.btn.interactable = !0, this.checkBtnStatus()))
                }, e.prototype.Init = function(t, e, n) {
                    var i = this;
                    this.itemID = t, this.cdTime = e, this.btnEvent = n, this.btnMask.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        h.default.FishUIMgr.switchMouseMark(!0)
                    }), this.btnMask.node.on(cc.Node.EventType.MOUSE_LEAVE, function() {
                        h.default.FishUIMgr.switchMouseMark(!1)
                    }), this.btn.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        h.default.FishUIMgr.switchMouseMark(!0)
                    }), this.btn.node.on(cc.Node.EventType.MOUSE_LEAVE, function() {
                        h.default.FishUIMgr.switchMouseMark(!1)
                    }), this.node.on(cc.Node.EventType.TOUCH_START, function() {
                        i.scheduleOnce(i.openTip, .25)
                    }), this.node.on(cc.Node.EventType.TOUCH_START, function() {
                        i.scheduleOnce(i.openTip, .25)
                    }), this.node.on(cc.Node.EventType.TOUCH_END, function() {
                        i.unschedule(i.openTip), i.tip.active = !1, i.scheduleOnce(function() {
                            i.tip_flag = !1
                        }, .1)
                    }), this.node.on(cc.Node.EventType.TOUCH_CANCEL, function() {
                        i.unschedule(i.openTip), i.tip.active = !1, i.scheduleOnce(function() {
                            i.tip_flag = !1
                        }, .1)
                    })
                }, e.prototype.onClick = function() {
                    this.ItemCanUse && this.btn.interactable && (this.btn.interactable = !1, this.OpenMask(), this.transition(this.node, 1.1), this.timeOutCounter = this.timeOutTime, this.btnEvent && this.btnEvent())
                }, e.prototype.onMaskClick = function() {}, e.prototype.SetItemQty = function(t) {
                    var e = t > 999 ? "999+" : t.toString();
                    this.amountStr.string = "<outline color=#000000 width=3><b>" + e + "</b><outline>", this.itemAmount = t, this.transition(this.amountStr.node, 1.2), this.checkBtnStatus()
                }, e.prototype.SetCoolDown = function() {
                    this.CloseMask(), this.checkBtnStatus()
                }, e.prototype.checkBtnStatus = function() {
                    !this.btn.interactable || this.itemAmount < 1 ? (this.mask.fillRange = 1, this.mask.node.active = !0) : this.cdCounter > 0 ? (this.mask.fillRange = this.cdCounter / this.cdTime, this.mask.node.active = !0) : (this.mask.fillRange = 0, this.mask.node.active = !1, this.btnMask.interactable = !1)
                }, e.prototype.resetCoolDown = function() {
                    this.mask.fillRange = 0, this.mask.node.active = !1
                }, e.prototype.transition = function(t, e) {
                    t.runAction(cc.sequence(cc.scaleTo(.1, e), cc.delayTime(.15), cc.scaleTo(.15, 1)))
                }, e.prototype.openTip = function() {
                    this.tip.active = !0, this.tip_flag = !0
                }, e.prototype.OpenMask = function() {
                    this.mask.fillRange = 1, this.mask.node.active = !0, this.btnMask.interactable = !0
                }, e.prototype.CloseMask = function() {
                    this.mask.fillRange = 0, this.mask.node.active = !1, this.btnMask.interactable = !1, this.btn.interactable = !0, this.timeOutCounter = 0, this.cdCounter = this.cdTime
                }, a([p], e)
            }(cc.Component));
        n.default = d, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../../System/ItemSystem": "ItemSystem",
        "../Common/SystemTip": "SystemTip",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    ItemManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a7e06YltGlC1LOWg6RMZhZt", "ItemManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../System/ItemSystem"),
            r = t("../Weapon/WeaponManager"),
            c = t("../Common/ResourceManager"),
            l = t("./DropItem"),
            h = t("../Player/PlayerManager"),
            u = t("./ItemButton"),
            p = t("./ItemTitle"),
            d = t("../Fish/BaseFish"),
            f = t("../Fish/FishManager"),
            y = t("./FreezeEffect"),
            m = t("../Common/AudioManager"),
            g = t("../Common/SystemTip"),
            S = t("../../../../../FishCommon/Script/CanvasHandler"),
            _ = t("../Common/EnumFilter"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            C = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.itemBtnList = [], e.itemData = null, e.itemSystem = null, e.itemBtnDict = {}, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.itemBtn = function(t) {
                    return this.itemBtnDict[t]
                }, e.prototype.onLoad = function() {
                    n.instance = this
                }, e.prototype.Init = function(t) {
                    this.itemData = new s.ItemData, this.itemSystem = t, this.itemSystem.GetItemInfoEvent = this.onGetItemInfo.bind(this), this.itemSystem.FreezeEvent = this.onFreeze.bind(this), this.itemSystem.SummonEvent = this.onSummon.bind(this), this.itemSystem.GetItemInfo()
                }, e.prototype.AddItemBtn = function(t, e) {
                    var n = Object.keys(s.ITEM_CFG);
                    t >= n.length || (this.itemBtnDict[n[t]] = e)
                }, e.prototype.DropItemEffectByMission = function(t, e, n, i, o, a) {
                    var s = this;
                    void 0 === a && (a = null);
                    var h = r.default.WeaponPosition(e),
                        u = c.default.LoadGUI("DropItem");
                    if (u) {
                        var p = u.getComponent(l.default);
                        u.angle = 0, p.ShowIcon(!0), p.Init(n, i, o, h, function() {
                            c.default.UnloadGUI("DropItem", u), s.ModifyItemQty(t, n, i), a && a()
                        })
                    }
                }, e.prototype.DropItemEffect = function(t, e, n, i, o, a, s, h) {
                    var u = this;
                    void 0 === a && (a = null);
                    var p = r.default.WeaponPosition(t),
                        d = r.default.WeaponGUIRotation(t),
                        f = c.default.SpawnEffect("DropItem");
                    if (f) {
                        var y = f.getComponent(l.default);
                        if (o) {
                            var m = 100 * (Math.random() - .5);
                            i.addSelf(cc.v2(m, m))
                        }
                        f.angle = d, y.ShowIcon(!0), y.Init(e, n, i, p, function() {
                            c.default.DespawnEffect("DropItem", f), u.ModifyItemQty(t, e, n, s, h), a && a()
                        })
                    }
                }, e.prototype.ModifyItemQty = function(t, e, n, i, o) {
                    if (void 0 === i && (i = -1), void 0 === o && (o = -1), h.PlayerManager.isMainSeat(t)) {
                        var a = this.itemData.IncItemQty(e, n),
                            s = ""; - 1 != i || -1 != o ? (n > 0 ? s = "\u6b7b\u9b5a\u6389\u843d \u589e\u52a0\u9053\u5177\u6578\u91cf " : 0 == n && (s = "\u9053\u5177\u4f7f\u7528\u6210\u529f "), console.warn(s + ", item_id = " + e + ", amount = " + n + ", ser\u51b0\u51cd\u6578\u91cf = " + i + ", ser\u53ec\u559a\u6578\u91cf = " + o), this.itemData.CheckItemQty(e, i, o)) : (n > 0 ? s = "\u4efb\u52d9\u7372\u5f97\u6216\u4f7f\u7528\u5931\u6557 \u589e\u52a0\u9053\u5177\u6578\u91cf " : n < 0 && (s = "\u9053\u5177\u4f7f\u7528 "), console.warn(s + ", item_id = " + e + ", amount = " + n));
                        var r = this.itemBtnDict[e];
                        r ? r.SetItemQty(a) : console.error("ModifyItemQty error, !btn, item_id = " + e)
                    }
                }, e.prototype.registerItemBtn = function(t, e) {
                    this.itemBtn(t).Init(t, this.itemData.GetCDTime(t), e.bind(this.itemSystem))
                }, e.prototype.onGetItemInfo = function(t) {
                    var e = this;
                    console.warn("[ItemManager][onGetItemInfo \u53d6\u5f97\u9053\u5177\u8cc7\u8a0a]data: ", JSON.stringify(t)), this.itemData.SetData(t), Object.keys(this.itemData.ItemQty).forEach(function(t) {
                        var n = e.itemBtn(t);
                        n && n.SetItemQty(e.itemData.GetItemQty(t))
                    }), this.registerItemBtn(s.ITEM_ID.FREEZE, function() {
                        return e.useItem(s.ITEM_ID.FREEZE)
                    }), this.registerItemBtn(s.ITEM_ID.SUMMON, function() {
                        return e.useItem(s.ITEM_ID.SUMMON)
                    })
                }, e.prototype.useItem = function(t) {
                    this.ModifyItemQty(h.PlayerManager.MainSeat, t, -1), t == s.ITEM_ID.FREEZE ? this.itemSystem.Freeze() : t == s.ITEM_ID.SUMMON && this.itemSystem.Summon()
                }, e.prototype.onFreeze = function(t, e, n, i, o, a) {
                    var r = this;
                    console.log("[ItemManager][onFreeze]seat: %s, status: %s, freeze_time: %s, freeze_amount: %s, summon_amount: %s, fish_ids: ", t, e, n, o, a, i);
                    var c = s.ITEM_ID.FREEZE,
                        l = this.itemBtn(c);
                    if (h.PlayerManager.isMainSeat(t) && l.SetCoolDown(), 0 != e ? (this.ModifyItemQty(h.PlayerManager.MainSeat, c, 1, o, a), console.warn("[ItemManager][onFreeze]\u4f7f\u7528\u5931\u6557")) : this.ModifyItemQty(t, c, 0, o, a), 1 != e) return 2 == e ? (l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), !1) : 3 == e ? (l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.ITEM_CLOSE, 1.5, !1), !1) : void(0 == e && (this.showItemTitle(t, c), f.default.Instance.GetFishByID(i).forEach(function(t) {
                        t.AliveStatus != d.FishState.DEAD && t.AliveStatus != d.FishState.OUT && (r.freezeEffect(t), t.PauseBehavior(n, r.resetFreezeIce.bind(r)))
                    }), h.PlayerManager.isMainSeat(t) && m.default.Instance.Play("Skill_Freeze")));
                    l.CloseMask()
                }, e.prototype.freezeEffect = function(t) {
                    for (var e = t.node.getPosition(), n = Math.floor(2 * Math.random()) + 1, i = 0; i < n; i++) {
                        var o = c.default.SpawnEffect("freeze_effect").getComponent(y.default);
                        o && (o.node.setPosition(e), o.Play())
                    }
                    if (!(this.getFreezeIceGruop(t).length > 0)) {
                        var a = this.getFreezeIceType(f.default.Instance.ToBaseType(t.Type, t.Feature), t),
                            s = this.getFreezeIceScale(f.default.Instance.ToBaseType(t.Type, t.Feature), t),
                            r = this.getFreezeIcePos(f.default.Instance.ToBaseType(t.Type, t.Feature), t);
                        "" !== a && this.spwanIce(a, t, null, -90, s, r)
                    }
                }, e.prototype.resetFreezeIce = function(t) {
                    var e = this.getFreezeIceGruop(t);
                    if (e.length > 0)
                        for (var n = e.length - 1; n > -1; n--) {
                            var i = e[n];
                            c.default.DespawnEffect(i.name, i)
                        }
                }, e.prototype.getFreezeIceGruop = function(t) {
                    var e = t.node.getChildByName("IceRoot");
                    return e ? e.children : []
                }, e.prototype.getFreezeIceType = function(t, e) {
                    if (116 == t) switch (this.getWeathGodFishLevel(e)) {
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                            return "FreezeIceM";
                        case 5:
                        case 6:
                            return "FreezeIceXL";
                        default:
                            return
                    } else switch (t) {
                        case 0:
                        case 1:
                        case 2:
                        case 47:
                        case 48:
                        case 3:
                            return "FreezeIceS";
                        case 4:
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                        case 9:
                        case 10:
                            return "FreezeIceM";
                        case 11:
                        case 12:
                        case 22:
                        case 23:
                        case 34:
                        case 76:
                        case 77:
                        case 79:
                            return "FreezeIceL";
                        case 13:
                        case 14:
                        case 15:
                        case 16:
                        case 17:
                        case 18:
                        case 24:
                        case 26:
                            return "FreezeIceXL";
                        case 20:
                            return "FreezeIceKingLacoste";
                        case 35:
                            return "FreezeIceKingAngler";
                        case 80:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.ZB:
                                case _.FishGame.KK:
                                case _.FishGame.WCF:
                                    return "FreezeIceParitShip";
                                default:
                                    return ""
                            }
                        case 81:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.LS:
                                    return "FreezeIceKingBuffalo";
                                default:
                                    return "FreezeIceKingRagingDragon"
                            }
                        case 82:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.KK:
                                    return "FreezeIceKingKingKong";
                                case _.FishGame.LS:
                                    return "FreezeIceKingShamrock"
                            }
                        default:
                            return ""
                    }
                }, e.prototype.getFreezeIceScale = function(t, e) {
                    switch (t) {
                        case 116:
                            switch (this.getWeathGodFishLevel(e)) {
                                case 1:
                                    return cc.v2(1.6, 1.5);
                                case 2:
                                    return cc.v2(2, 2);
                                case 3:
                                case 4:
                                    return cc.v2(2.3, 2.3);
                                case 5:
                                case 6:
                                    return cc.v2(1.65, 1);
                                default:
                                    return cc.v2(1.5, 1.5)
                            }
                        default:
                            return cc.Vec2.ONE
                    }
                }, e.prototype.getFreezeIcePos = function(t, e) {
                    switch (t) {
                        case 116:
                            switch (this.getWeathGodFishLevel(e)) {
                                case 1:
                                case 2:
                                    return cc.v2(0, 20);
                                case 3:
                                case 4:
                                    return cc.v2(0, 15);
                                case 5:
                                case 6:
                                    return cc.v2(10, 10);
                                default:
                                    return
                            }
                        default:
                            return cc.Vec2.ZERO
                    }
                }, e.prototype.getWeathGodFishLevel = function(t) {
                    return t.CurrentLevel
                }, e.prototype.spwanIce = function(t, e, n, i, o, a) {
                    void 0 === i && (i = -90), void 0 === o && (o = cc.Vec2.ONE), void 0 === a && (a = cc.Vec2.ZERO);
                    var s = c.default.SpawnEffect(t);
                    if (s) {
                        var r = e.node.getChildByName("IceRoot");
                        if (r || (r = new cc.Node("IceRoot")).setParent(e.node), s.setParent(r), n) {
                            var l = n.offset;
                            a = cc.v2(n.node.getPosition().x + l.x, n.node.getPosition().y + l.y)
                        }
                        s.setPosition(a), s.angle = i, s.setScale(o)
                    }
                }, e.prototype.onSummon = function(t, e, n, i, o) {
                    console.log("[ItemManager][onSummon]seat: %s, status: %s, freeze_amount: %s, summon_amount: %s, fish_data:", t, e, i, o, n);
                    var a = s.ITEM_ID.SUMMON,
                        l = this.itemBtn(a);
                    if (h.PlayerManager.isMainSeat(t) && l.SetCoolDown(), 0 != e ? (this.ModifyItemQty(h.PlayerManager.MainSeat, a, 1, i, o), console.warn("[ItemManager][onSummon]\u4f7f\u7528\u5931\u6557")) : this.ModifyItemQty(t, a, 0, i, o), 1 != e) {
                        if (2 == e) return l.CloseMask(), void g.default.Open(g.SYSTEM_TIP_TYPE.SUMMON_MAX, 1.5, !1);
                        if (3 == e) return l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), !1;
                        if (4 == e) return l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.ITEM_CLOSE, 1.5, !1), !1;
                        if (0 == e) {
                            if (n.length < 1) return;
                            this.showItemTitle(t, a);
                            var u = c.default.SpawnEffect("summon_effect").getComponent(cc.Animation);
                            if (!u) return;
                            u.node.parent = c.default.Instance.Background;
                            var p = r.default.WeaponPosition(t);
                            u.node.setPosition(p), u.hasEventListener("finished") || u.on("finished", function() {
                                c.default.DespawnEffect("summon_effect", u.node)
                            }), u.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, cc.v2(n[0].x, n[0].y)), cc.callFunc(function() {
                                u.play("A_Skill_Summon")
                            })), cc.delayTime(1.5), cc.callFunc(function() {
                                f.default.Instance.SummonFish(n)
                            }))), h.PlayerManager.isMainSeat(t) && m.default.Instance.Play("Skill_CallFish")
                        }
                    } else l.CloseMask()
                }, e.prototype.showItemTitle = function(t, e, n) {
                    var i = c.default.SpawnTitle("item_title", h.PlayerManager.isMainSeat(t)).getComponent(p.default),
                        o = !S.default.isReverse && t > 1 || S.default.isReverse && t < 2 ? p.ANIM_CLIP.DOWN : p.ANIM_CLIP.UP;
                    i.node.angle = r.default.WeaponGUIRotation(t), i.node.setPosition(r.default.WeaponPosition(t, cc.v2(0, n === p.ANIM_CLIP.SCALE ? 150 : 0))), i.Play(e, function() {
                        c.default.DespawnTitle("item_title", i.node)
                    }, n || o)
                }, e.instance = null, a([P([u.default])], e.prototype, "itemBtnList", void 0), n = a([b], e)
            }(cc.Component);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/ItemSystem": "ItemSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/SystemTip": "SystemTip",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./DropItem": "DropItem",
        "./FreezeEffect": "FreezeEffect",
        "./ItemButton": "ItemButton",
        "./ItemTitle": "ItemTitle"
    }],
    ItemSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8f57688HvJJmIvOq/YrJS0f", "ItemSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ItemData = n.ITEM_CFG = n.ITEM_ID = void 0;
        var a = t("./baseSystem");
        n.ITEM_ID = {
            SUMMON: "MF100002",
            FREEZE: "MF100001"
        }, n.ITEM_CFG = {
            MF100002: {
                index: 1,
                name: "M105"
            },
            MF100001: {
                index: 0,
                name: "M104"
            }
        };
        var s = {
                GET_ITEM_INFO: "get_item_info",
                FREEZE: "freeze",
                SUMMON: "summon",
                GET_FREE_ITEM: "get_free_item",
                USE_ITEM_INFO: "UseItemInfo"
            },
            r = function(t) {
                function e(e) {
                    var n = t.call(this, e, "item") || this;
                    return n.GetItemInfoEvent = null, n.FreezeEvent = null, n.SummonEvent = null, n.CollectNewbieGift = null, n.UpdateMissionProgressEvent = null, n.RegisterCmdCallback(s.GET_ITEM_INFO, n.onGetItemInfo.bind(n)), n.RegisterCmdCallback(s.FREEZE, n.onFreeze.bind(n), s.FREEZE), n.RegisterCmdCallback(s.SUMMON, n.onSummon.bind(n), s.SUMMON), n.RegisterCmdCallback(s.GET_FREE_ITEM, n.onCollectNewbieGift.bind(n)), n.RegisterCmdCallback(s.USE_ITEM_INFO, n.onGetFishMissionProgress.bind(n)), n
                }
                return o(e, t), e.prototype.GetItemInfo = function() {
                    this.SendCmd(s.GET_ITEM_INFO)
                }, e.prototype.Freeze = function() {
                    this.SendCmd(s.FREEZE)
                }, e.prototype.Summon = function() {
                    this.SendCmd(s.SUMMON)
                }, e.prototype.onGetItemInfo = function(t, e) {
                    t == ArkSDK.SocketResult.OK && this.GetItemInfoEvent && this.GetItemInfoEvent(e)
                }, e.prototype.onFreeze = function(t, e) {
                    if (t == ArkSDK.SocketResult.OK) {
                        var n = e.seat,
                            i = e.status,
                            o = e.freeze_time,
                            a = e.fish,
                            s = e.freeze_amount,
                            r = e.summon_amount;
                        this.FreezeEvent && this.FreezeEvent(n, i, o, a, s, r)
                    }
                }, e.prototype.onSummon = function(t, e) {
                    if (t == ArkSDK.SocketResult.OK) {
                        var n = e.seat,
                            i = e.status,
                            o = e.fish_data,
                            a = e.freeze_amount,
                            s = e.summon_amount;
                        this.SummonEvent && this.SummonEvent(n, i, o, a, s)
                    }
                }, e.prototype.SendCollectNewbieGift = function(t, e) {
                    console.log("SendCollectNewbieGift, questID = " + t + ", questLevel = " + e + "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~");
                    var n = {};
                    n.quest_id = t, n.quest_level = e, this.SendCmd(s.GET_FREE_ITEM, n)
                }, e.prototype.onCollectNewbieGift = function(t, e) {
                    console.log(" ~~~~~~~~~~~~~~~~onCollectNewbieGift: %s, data: ", t, e), this.CollectNewbieGift && this.CollectNewbieGift(t, e)
                }, e.prototype.onGetFishMissionProgress = function(t, e) {
                    console.log("[ItemSystem][onGetFishMissionProgress]data...: " + JSON.stringify(e)), this.UpdateMissionProgressEvent && this.UpdateMissionProgressEvent(e)
                }, e
            }(a.default);
        n.default = r;
        var c = function() {
            function t() {
                this.itemIDList = [], this.itemQty = {}, this.itemCooldown = {}
            }
            return Object.defineProperty(t.prototype, "ItemQty", {
                get: function() {
                    return this.itemQty
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.SetData = function(t) {
                this.itemIDList = Object.keys(n.ITEM_CFG);
                for (var e = Object.keys(t), i = e.length, o = 0; o < i; o++) {
                    var a = e[o]; - 1 != this.itemIDList.indexOf(a) && (this.itemQty[a] = t[a].amount, this.itemCooldown[a] = t[a].cd)
                }
            }, t.prototype.GetItemQty = function(t) {
                return !this.itemQty[t] || this.itemQty[t] < 0 ? 0 : this.itemQty[t]
            }, t.prototype.IncItemQty = function(t, e) {
                var n = this.itemQty[t];
                if ("number" == typeof n) return n += e, this.itemQty[t] = n, n
            }, t.prototype.GetCDTime = function(t) {
                return !this.itemCooldown[t] || this.itemCooldown[t] < 0 ? -1 : this.itemCooldown[t]
            }, t.prototype.CheckItemQty = function(t, e, i) {
                var o = this.itemQty[n.ITEM_ID.FREEZE],
                    a = this.itemQty[n.ITEM_ID.SUMMON];
                console.warn("\u9053\u5177\u6578\u91cf\u6aa2\u67e5, client / server \u51b0\u51cd\u6578\u91cf = " + o + " / " + e + ", client / server \u53ec\u559a\u6578\u91cf = " + a + " / " + i), -1 != e && -1 != i && (o != e && console.error("CheckItemQty \u51b0\u51cd\u6578\u91cf\u932f\u8aa4!, client = " + o + ", server = " + e), a != i && console.error("CheckItemQty \u53ec\u559a\u6578\u91cf\u932f\u8aa4!, client = " + a + ", server = " + i))
            }, t
        }();
        n.ItemData = c, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    ItemTitle: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2227fFLXCJMSJtWNQR78VvF", "ItemTitle");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ANIM_CLIP = void 0;
        var s = t("../../System/ItemSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = r.executeInEditMode,
            u = function() {
                function t() {
                    this.title_type = 0, this.sprite_frame = null, this.color = cc.Color.WHITE
                }
                return a([l(cc.SpriteFrame)], t.prototype, "sprite_frame", void 0), a([l(cc.Color)], t.prototype, "color", void 0), a([c("ItemTitleConfig")], t)
            }(),
            p = cc.Enum({
                FREEZE: 0,
                SUMMON: 1
            });
        n.ANIM_CLIP = {
            UP: "TitleUp",
            DOWN: "TitleDown",
            SCALE: "TitleScale"
        };
        var d = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.title_type = p.FREEZE, e.title_sprite_config = [], e.title_sprite = null, e.root = null, e.Light1 = null, e.Light2 = null, e.anim = null, e.anim_finished_event = null, e
            }
            return o(e, t), Object.defineProperty(e.prototype, "PreviewTitleType", {
                get: function() {
                    return this.title_type
                },
                set: function(t) {
                    if (!(t >= this.title_sprite_config.length)) {
                        this.title_type = t;
                        var e = this.title_sprite_config[this.title_type];
                        this.Light1.color = e.color, this.title_sprite.spriteFrame = e.sprite_frame
                    }
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                this.anim.on("finished", this.onFinished.bind(this))
            }, e.prototype.Play = function(t, e, n) {
                void 0 === n && (n = "TitleDown");
                var i = null;
                switch (t) {
                    case s.ITEM_ID.FREEZE:
                        i = this.title_sprite_config[0];
                        break;
                    case s.ITEM_ID.SUMMON:
                        i = this.title_sprite_config[1]
                }
                i && (this.Light1.color = i.color, this.title_sprite.spriteFrame = i.sprite_frame, e && (this.anim_finished_event = e), this.anim.play(n))
            }, e.prototype.onFinished = function() {
                this.anim_finished_event && (this.anim_finished_event(this), this.anim_finished_event = null, this._nodeResrt(this.title_sprite.node), this._nodeResrt(this.Light1), this._nodeResrt(this.Light2), this._nodeResrt(this.root), this._nodeResrt(this.node))
            }, e.prototype._nodeResrt = function(t) {
                t.setPosition(cc.Vec2.ZERO), t.angle = 0, t.setScale(1), t.opacity = 255
            }, a([l({
                type: cc.Enum(p)
            })], e.prototype, "PreviewTitleType", null), a([l([u])], e.prototype, "title_sprite_config", void 0), a([l(cc.Sprite)], e.prototype, "title_sprite", void 0), a([l(cc.Node)], e.prototype, "root", void 0), a([l(cc.Node)], e.prototype, "Light1", void 0), a([l(cc.Node)], e.prototype, "Light2", void 0), a([l(cc.Animation)], e.prototype, "anim", void 0), a([c, h], e)
        }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../System/ItemSystem": "ItemSystem"
    }],
    KILLER_WHALE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b6c06hpb+9KEYRPJAGxxgAp", "KILLER_WHALE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ColliderList = [], e.BonesName = [], e.boneNum = 5, e.bone = null, e.LinkPointCount = 0, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.shapeNode = this.node.getChildByName("Shape"), this.bone = new Array(this.boneNum);
                    for (var i = 0; i < this.boneNum; i++) this.bone[i] = this.skeleton.findBone(this.BonesName[i]);
                    this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0)
                }, e.prototype.InitPath = function(e, n, i, o, a, c, l, h, u, p) {
                    return void 0 === a && (a = 0), void 0 === c && (c = 0), void 0 === l && (l = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), void 0 === p && (p = 0), s(this, void 0, void 0, function() {
                        var s;
                        return r(this, function() {
                            for (t.prototype.InitPath.call(this, e, n, i, o, a, c, l, h, u, p), this.shapeNode = this.node.getChildByName("Shape"), this.bone = new Array(this.boneNum), s = 0; s < this.boneNum; s++) this.bone[s] = this.skeleton.findBone(this.BonesName[s]);
                            return this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), [2]
                        })
                    })
                }, e.prototype.FishDie = function(e, n, i) {
                    return void 0 === n && (n = !0), s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.skeleton.setAnimation(0, "CATCH", !0), t.prototype.FishDie.call(this, e, n, i), [2]
                        })
                    })
                }, e.prototype.update = function(e) {
                    if (t.prototype.update.call(this, e), this.LinkPointCount < 5) this.LinkPointCount++;
                    else {
                        this.LinkPointCount = 0, this.skeleton.updateWorldTransform();
                        for (var n = 0; n < this.boneNum; n++) this.ColliderList[n].node.setPosition(new cc.Vec2(-this.bone[n].worldX, -this.bone[n].worldY))
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([u(sp.Skeleton)], e.prototype, "skeleton", void 0), a([u([cc.Collider])], e.prototype, "ColliderList", void 0), a([u([cc.String])], e.prototype, "BonesName", void 0), a([h], e)
            }(c.default);
        n.default = p, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    KINGKONG: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "418f3FyCmJDsbeEbcWmKSbH", "KINGKONG");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.soot_L = null, e.soot_R = null, e.BonePos = null, e.moveSound = null, e.pushEvent = null, e.move = !1, e.fixedTimestep = .01, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode = this.node.getChildByName("Shape"), this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "00_walk", !0), this.skeleton.setEventListener(this.eventListener.bind(this)), this.pushEvent = null, this.moveSound = l.default.Instance.Play("KingKong_move_01", .5, !0), this.soot_L.node.active = !1, this.soot_R.node.active = !1
                }, e.prototype.eventListener = function(t, e) {
                    if (e) switch (e.data.name) {
                        case "step1":
                            c.default.UpDownShakeOnce(3);
                            break;
                        case "step2":
                            c.default.UpDownShakeOnce(15);
                            break;
                        case "move1":
                        case "move2":
                            this.move = !0;
                            break;
                        case "stop":
                            this.move = !1;
                            break;
                        case "PUSH":
                            this.pushEvent && this.pushEvent()
                    }
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1 : this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1
                }, e.prototype.UpdateNormal = function(e) {
                    this.move && t.prototype.UpdateNormal.call(this, e)
                }, e.prototype.OnHitFish = function() {
                    this.skeleton.setAnimation(1, "00_walk_hit", !1)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.skeleton.clearTrack(1), this.AliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.moveSound && l.default.Instance.Stop(this.moveSound), this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                        })
                    })
                }, e.prototype.FishOut = function() {
                    this.skeleton.clearTrack(1), this.skeleton.setEventListener(null), this.moveSound && l.default.Instance.Stop(this.moveSound), t.prototype.FishOut.call(this)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), this.soot_L.node.active = !1, this.soot_R.node.active = !1, t.prototype.RemoveSelf.call(this)
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.PlayClip = function(t, e, n, i) {
                    var o = this;
                    void 0 === e && (e = 1), this.skeleton.setCompleteListener(null), this.skeleton.timeScale = e, this.skeleton.setAnimation(0, t, n), i && this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), i()
                    })
                }, e.prototype.SetNextClip = function(t, e, n, i, o) {
                    var a = this;
                    void 0 === e && (e = 1), this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        a.skeleton.setCompleteListener(null), i && i(), a.skeleton.timeScale = e, a.skeleton.setAnimation(0, t, n), o && a.skeleton.setCompleteListener(function() {
                            a.skeleton.setCompleteListener(null), o()
                        })
                    })
                }, e.prototype.FishInScreen = function() {
                    var t = c.default.WinSize,
                        e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                        n = e.x + this.fishRadius > 0 && e.x - this.fishRadius < t.width,
                        i = e.y + this.fishRadius > 0 && e.y - this.fishRadius < t.height;
                    return n && i
                }, e.prototype.isLockInScreen = function(t) {
                    if (t) {
                        var e = this.node.convertToWorldSpaceAR(t.getPosition());
                        if (e.x >= -50 && e.x < c.default.WinSize.width - -50 && e.y >= -50 && e.y < c.default.WinSize.height - -50) return e
                    }
                    return null
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.SootEffect = function(t) {
                    var e = this;
                    t ? (this.soot_R.node.active = !0, this.soot_R.resetSystem(), this.scheduleOnce(function() {
                        e.soot_R.stopSystem()
                    }, .5)) : (this.soot_L.node.active = !0, this.soot_L.resetSystem(), this.scheduleOnce(function() {
                        e.soot_L.stopSystem()
                    }, .5))
                }, a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.ParticleSystem)], e.prototype, "soot_L", void 0), a([d(cc.ParticleSystem)], e.prototype, "soot_R", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    KING_ANGLER_FISH: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2ab390wyEJKS41wz2Svv9PR", "KING_ANGLER_FISH");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("../Common/ResourceManager"),
            u = t("../Game/GameManager"),
            p = t("./BaseFish"),
            d = cc._decorator,
            f = d.ccclass,
            y = d.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ColliderList = new Array, e.BonesName = new Array, e.boneNum = 3, e.skeleton = null, e.bone = null, e.Top_Mask = null, e.Bottom_Mask = null, e.BackGround = null, e.FishPool = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o = 0, this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.opacity = 255), this.bone = new Array(this.boneNum);
                    for (var i = 0; i < this.boneNum; i++) this.bone[i] = this.skeleton.findBone(this.BonesName[i]);
                    this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), this.BackGround = u.default.Instance.BackgroundNow, this.Top_Mask = this.BackGround.Top_Mask, this.Bottom_Mask = this.BackGround.Bottom_Mask, this.Top_Mask && (this.Top_Mask.setParent(this.ColliderList[0].node), this.Top_Mask.setPosition(cc.Vec2.ZERO)), this.FishPool = h.default.Instance.Fishes
                }, e.prototype.InitSeek = function(t, e, n) {
                    if (this.behaviorType = p.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        e = e || this.o % this.AISeek.GetPathCount(t);
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(t, e, this.node, this.id, 0, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.skeleton.updateWorldTransform();
                    for (var n = 0; n < this.ColliderList.length; n++) this.ColliderList[n].node.setPosition(new cc.Vec2(-this.bone[n].worldX, -this.bone[n].worldY));
                    if (this.Bottom_Mask && this.Top_Mask) {
                        var i = this.Top_Mask.convertToWorldSpaceAR(cc.Vec2.ZERO);
                        this.Bottom_Mask.setPosition(this.BackGround.node.convertToNodeSpaceAR(i))
                    }
                }, e.prototype.FishOut = function(e) {
                    this.DropMask(), t.prototype.FishOut.call(this, e)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.aliveStatus = p.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, this.StopAction(), l.default.Instance.Play("catch_lantern"), t = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), e.CoinEffect(), e.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        e.DropMask(), e.RemoveSelf()
                                    })), this.node.runAction(t), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, e.prototype.DropMask = function() {
                    this.Top_Mask && (this.Top_Mask.setParent(this.FishPool), this.Top_Mask.zIndex = 50, this.Top_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Top_Mask = null), this.Bottom_Mask && (this.Bottom_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Bottom_Mask = null)
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([y([cc.Collider])], e.prototype, "ColliderList", void 0), a([y([cc.String])], e.prototype, "BonesName", void 0), a([y(sp.Skeleton)], e.prototype, "skeleton", void 0), a([f], e)
            }(p.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "./BaseFish": "BaseFish"
    }],
    KING_LACOSTE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "d5283ArJz5FGqhz77WOlqkU", "KING_LACOSTE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseFish"),
            l = t("../Common/ResourceManager"),
            h = t("../Weapon/WeaponManager"),
            u = t("../Game/GameManager"),
            p = t("../Common/AudioManager"),
            d = t("../../../../../FishCommon/Script/CanvasHandler"),
            f = cc._decorator,
            y = f.ccclass,
            m = f.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.FishPool = null, e.HidePool = null, e.TargetSeat = -1, e.TargetPos = null, e.Attack = !1, e.isFreeze = !1, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    var i = this;
                    t.prototype.Init.call(this, e, n), this.TargetSeat = -1, this.TargetPos = null, this.Attack = !1, this.isFreeze = !1, this.shapeNode = this.node.getChildByName("Shape"), this.skeleton.node.opacity = 255, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), this.FishPool = this.node.parent;
                    var o = u.default.Instance.BackgroundNow;
                    o && (this.HidePool = o.node.getChildByName("LacosteHide")), this.HidePool && (this.node.parent = this.HidePool), this.scheduleOnce(function() {
                        var t = -i.node.angle < 0 ? 360 - i.node.angle : -i.node.angle;
                        switch (Math.floor(t / 90)) {
                            case 0:
                                i.TargetSeat = 1;
                                break;
                            case 1:
                                i.TargetSeat = 0;
                                break;
                            case 2:
                                i.TargetSeat = 3;
                                break;
                            case 3:
                                i.TargetSeat = 2
                        }
                        i.TargetPos = h.default.WeaponPosition(i.TargetSeat)
                    }, 1)
                }, e.prototype.InitSeek = function(t, e, n) {
                    if (this.behaviorType = c.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        e = e || this.o % this.AISeek.GetPathCount(t);
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(t, e, this.node, this.id, 0, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, e.prototype.update = function(e) {
                    if (t.prototype.update.call(this, e), !this.Attack && this.aliveStatus == c.FishState.ALIVE && this.TargetPos && this.node.getPosition().sub(this.TargetPos).mag() <= 650 && !this.isFreeze) {
                        if (this.Attack = !0, !h.default.Instance.getWeapon(this.TargetSeat)) return;
                        this.StartAttack()
                    }
                }, e.prototype.StartAttack = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a = this;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = h.default.Instance.getWeapon(this.TargetSeat).node, e = t.getPosition(), this.skeleton.setCompleteListener(function() {
                                        a.skeleton.setCompleteListener(null), a.skeleton.setAnimation(0, "SWIM", !0)
                                    }), this.skeleton.setAnimation(0, "BITE", !1), p.default.Instance.Play("cavial_bite"), this.FishPool && this.HidePool && (this.node.parent = this.FishPool, this.node.zIndex = 50), n = t.opacity, [4, this.delay(1300)];
                                case 1:
                                    return s.sent(), this.isFreeze ? [2] : (t.opacity = 0, [4, this.delay(250)]);
                                case 2:
                                    return s.sent(), t.opacity = n, (i = l.default.SpawnEffect("WeaponBreak")) && (i.setPosition(t.getPosition()), i.angle = t.angle), p.default.Instance.Play("frog_crocodile"), o = 3, t.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, t.getPosition().add(new cc.Vec2(o, -o))), cc.moveTo(.05, t.getPosition().add(new cc.Vec2(-o, o)))), 10), cc.callFunc(function() {
                                        t.setPosition(e), o = 1
                                    }), cc.repeat(cc.sequence(cc.moveTo(.05, t.getPosition().add(new cc.Vec2(-o, o))), cc.moveTo(.05, t.getPosition().add(new cc.Vec2(o, -o)))), 5), cc.callFunc(function() {
                                        t.setPosition(e), o = .1
                                    }), cc.repeat(cc.sequence(cc.moveTo(.05, t.getPosition().add(new cc.Vec2(o, o))), cc.moveTo(.05, t.getPosition().add(new cc.Vec2(-o, -o)))), 5), cc.callFunc(function() {
                                        t.setPosition(e)
                                    }))), [2]
                            }
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, e > 0 && (this.isFreeze = !0)
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(200, 1e3)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.FishPool && this.HidePool && (this.node.parent = this.FishPool, this.node.zIndex = 50), p.default.Instance.Play("catch_cavial"), this.aliveStatus = c.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, this.StopAction(), t = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        d.default.CameraShakeEffect(1.5, 3), e.CoinEffect(), e.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        e.RemoveSelf()
                                    })), this.node.runAction(t), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), p.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, e.prototype.onMove = function(t) {
                    t.AddSpeed(220, 1e3)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([m(sp.Skeleton)], e.prototype, "skeleton", void 0), a([y], e)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseFish": "BaseFish"
    }],
    KING_SPIDER_CRAB: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c6c4abcjXVDFYMU52TB3Mdv", "KING_SPIDER_CRAB");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("../Common/ResourceManager"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = (p.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.hitEffect = [], e.path_index = 0, e.turning_array = [], e.speed_array = [], e.step = 0, e.speed_time = 0, e.last_turning = !1, e
                }
                return o(e, t), e.prototype.Init = function(e, n, i, o, a) {
                    t.prototype.Init.call(this, e, n, i, o, a), this.o = 0, this.node.setPosition(cc.Vec2.ZERO), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode.runAction(cc.fadeIn(.5)), this.path_index = a.init, this.turning_array = a.turning, this.speed_array = a.speed
                }, e.prototype.InitSeek = function(t, e, n) {
                    if (this.AISeek) {
                        this.path_index = e || this.path_index;
                        var i, o = this.getOffset(this.o % 4);
                        i = 0 == this.path_index ? 0 : 180, n.angle = i, this.AISeek.SetSeek(t, this.path_index, this.node, this.id, this.o, o, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.speed_time <= 0 || (this.speed_time -= e, this.speed_time <= 0 && this.mSeek.ResetSpeedScale())
                }, e.prototype.onMove = function(t) {
                    var e = Boolean(this.turning_array[this.step]);
                    this.step++, this.step >= 5 && (this.step = 0), !e || this.speed_time > 0 || (this.last_turning = t.IsReverse, this.speed_time = this.speed_array[this.step], t.SetSpeedScale(2, this.speed_time), t.Reverse(!this.last_turning), t.SetOriginAngle(t.OriginAngle + (this.last_turning ? 180 : -180), 1.25))
                }, e.prototype.onEnd = function() {
                    var t = this,
                        e = cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                            t.FishOut(u.FishOutType.FISH_PATH_FINISH)
                        }));
                    this.node.runAction(e)
                }, e.prototype.FishFadeOut = function(e, n) {
                    void 0 === e && (e = .5), this.mSeek.Pause(), t.prototype.FishFadeOut.call(this, e, n)
                }, e.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (t = this.shapeNode.children, e = 0; e < t.length; e++) this.hitEffect[e] && (this.hitEffect[e].isDone || (t[e].stopAction(this.hitEffect[e]), this.hitEffect = null, t[e].color = cc.Color.WHITE));
                                    e = 0, i.label = 1;
                                case 1:
                                    return e < t.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, t[e].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return e++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.PlayDieAnim(), this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.StopAction(), l.default.Instance.Play("catch_crab"), t = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3);
                                        var t = h.default.SpawnEffect("CoinBlast");
                                        t && (t.setPosition(e.node.getPosition()), t.scale = 2), e.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        e.RemoveSelf()
                                    })), this.node.runAction(t), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, a([d], e)
            }(u.default));
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish"
    }],
    KING_TACO: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "6a504DOXX5GMpFuMVo12iYT", "KING_TACO");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../System/FishSystem"),
            h = t("../Background/TacoBackground"),
            u = t("../Common/AudioManager"),
            p = t("../Game/GameManager"),
            d = t("./BaseFish"),
            f = cc._decorator,
            y = f.ccclass,
            m = f.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Skeleton = null, e.Collider = null, e.BonesName = "", e.GreenSight = null, e.ice_group = [], e.boneNum = 1, e.bone = null, e.Life = null, e.HoldUp = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n, i, o) {
                    var a = this;
                    t.prototype.Init.call(this, e, n, i, o), this.Life = function() {
                        a.FishFadeOut(.5, d.FishOutType.FISH_PATH_FINISH)
                    }, this.scheduleOnce(this.Life, 15), this.getTacoParent(e[l.FishData.type]) ? this.ShowUp() : (this.shapeNode.opacity = 0, this.GreenSight.opacity = 0, this.CanCollision = !1, this.HoldUp = function() {
                        a.getTacoParent(e[l.FishData.type]) ? a.ShowUp() : a.FishOut(d.FishOutType.FISH_OUT)
                    }, this.scheduleOnce(this.HoldUp, 5))
                }, e.prototype.getTacoParent = function(t) {
                    var e = null;
                    if (p.default.Instance.BackgroundNow) {
                        var n = p.default.Instance.BackgroundNow.getComponent(h.default);
                        n && (e = n.getParent(t))
                    }
                    return e ? (this.node.setParent(e), !0) : (console.warn("Can't find Taco parent"), !1)
                }, e.prototype.ShowUp = function() {
                    var t = this;
                    this.CanCollision = !0, this.bone = this.Skeleton.findBone(this.BonesName), this.shapeNode.opacity = 255, this.Skeleton.timeScale = 1, this.Skeleton.setCompleteListener(function() {
                        t.Skeleton.setCompleteListener(null), t.Skeleton.setAnimation(0, "SWIM", !0)
                    }), this.Skeleton.setAnimation(0, "INTO", !1), this.GreenSight.opacity = 0, this.GreenSight.active = !0, this.GreenSight.runAction(cc.fadeIn(1)), this.GreenSight.runAction(cc.repeatForever(cc.rotateBy(2, 360)))
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return u.default.Instance.Play("catch_octopus"), this.aliveStatus = d.FishState.DEAD, this.canCollision = !1, this.Skeleton.timeScale = 0, this.GreenSight.active = !1, this.unschedule(this.Life), this.Life = null, t = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), e.CoinEffect(2), e.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        e.RemoveSelf()
                                    })), this.node.runAction(t), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), u.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.Skeleton.updateWorldTransform(), this.bone && this.Collider.node.setPosition(new cc.Vec2(this.bone.worldX, this.bone.worldY)), this.GreenSight.setPosition(this.Collider.node.getPosition())
                }, e.prototype.FishFadeOut = function(t, e) {
                    var n = this;
                    void 0 === t && (t = .5), this.canCollision = !1, this.GreenSight.active = !1, this.unschedule(this.Life), this.Life = null, this.unschedule(this.HoldUp), this.HoldUp = null, this.Skeleton.timeScale = 1, this.Skeleton.setCompleteListener(function() {
                        n.Skeleton.setCompleteListener(null), n.Skeleton.timeScale = 0, n.FishOut(e)
                    }), this.Skeleton.setAnimation(0, "LEAVE", !1)
                }, e.prototype.PauseBehavior = function(e, n) {
                    this.aliveStatus == d.FishState.ALIVE && (t.prototype.PauseBehavior.call(this, e, n), this.Skeleton.paused = !0, this.GreenSight.active = !1, this.ice_group.forEach(function(t) {
                        t.active = !0
                    }))
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.Skeleton.paused = !1, this.Life && (this.GreenSight.active = !0), this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.Skeleton.setEventListener(null), this.Skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([m(sp.Skeleton)], e.prototype, "Skeleton", void 0), a([m(cc.Collider)], e.prototype, "Collider", void 0), a([m(cc.String)], e.prototype, "BonesName", void 0), a([m(cc.Node)], e.prototype, "GreenSight", void 0), a([m([cc.Node])], e.prototype, "ice_group", void 0), a([y], e)
            }(d.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/FishSystem": "FishSystem",
        "../Background/TacoBackground": "TacoBackground",
        "../Common/AudioManager": "AudioManager",
        "../Game/GameManager": "GameManager",
        "./BaseFish": "BaseFish"
    }],
    KingKongBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "23180L38LFOPatME/I1PAvY", "KingKongBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/AudioManager"),
            r = t("./BaseBackGround"),
            c = cc._decorator,
            l = c.ccclass,
            h = (c.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    t.prototype.BossEnter.call(this), s.default.Instance.Play("KingKong_earthquake_01")
                }, e.prototype.KingKongFighting = function() {
                    this.node && this.node.active && this.ani.play("Fight_Enter")
                }, e.prototype.KingKongFighOver = function() {
                    this.node && this.node.active && this.ani.play("Fight_Leave")
                }, a([l], e)
            }(r.default));
        n.default = h, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseBackGround": "BaseBackGround"
    }],
    KingKongUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "eeb4dJaziNPqZgx2HG13M9/", "KingKongUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-200)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("KingKongTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = 41), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = (t - this.ShowingScore) / e;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += i, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), e), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "KingKongBigWin" : "KingKongYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    KioskSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a4f01FfCaBGorw61EXEnedh", "KioskSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./baseSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e(e) {
                    var n = t.call(this, e, "kiosk") || this;
                    return n.UpdateKioskSetting = null, n.UpdateSubmarineOccupyInfo = null, n.SubmarineOccupyEvent = null, n.RegisterCmdCallback("BroadCastSetting", n.onBroadCastSetting.bind(n)), n.RegisterCmdCallback("BroadCastSubmarineOccupyInfo", n.onBroadSubmarineOccupyInfo.bind(n)), n
                }
                return o(e, t), e.prototype.onBroadCastSetting = function(t, e) {
                    console.log("[onBroadCastSetting]data...: " + JSON.stringify(e)), this.UpdateKioskSetting && this.UpdateKioskSetting(e)
                }, e.prototype.onBroadSubmarineOccupyInfo = function(t, e) {
                    this.UpdateSubmarineOccupyInfo && this.UpdateSubmarineOccupyInfo(e)
                }, e.prototype.onSubmarineOccupyByOther = function(t, e) {
                    this.SubmarineOccupyEvent && this.SubmarineOccupyEvent(e)
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    LIONDANCE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "09456nbA89NnZhkptoEF3SI", "LIONDANCE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.LionDanceEuler = void 0;
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Common/AudioManager"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property;
        (function(t) {
            t[t.Normal = 0] = "Normal", t[t.Awake = 1] = "Awake"
        })(c = n.LionDanceEuler || (n.LionDanceEuler = {}));
        var y = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.skeleton = null, e.BodySMR = [], e.FurSMR = [], e.ModelMat = [], e.ColliderAnchor = [], e.PosAnchor = null, e.ice_group = [], e.tween = null, e.color = cc.Color.WHITE, e.newMat = null, e.eulerList = [cc.v3(5, 65, 15), cc.v3(5, 22.5, 0)], e.animNow = c.Normal, e.turnTween = null, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e.randomSeed = 0, e.moveTween = null, e.onRight = !1, e
            }
            return o(e, t), e.prototype.update = function(e) {
                t.prototype.update.call(this, e), this.tween && (this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color)), this.timerPause || (this.eventTimer > 0 && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent())), this.AliveStatus == u.FishState.ALIVE && this.updateColliderPos())
            }, e.prototype.InitParameter = function() {
                if (t.prototype.InitParameter.call(this), this.isFeature = !0, l.default.isReverse ? (this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1, this.node.scaleX = -1 == this.node.scaleY ? 1 : -1, this.node.angle = 0) : (this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1, this.node.scaleX = -1 == this.node.scaleY ? -1 : 1), this.node.angle = 0, this.node.setPosition(cc.Vec3.ZERO), this.PosAnchor.setPosition(cc.v2(-1e3, -120)), null == this.newMat) {
                    this.newMat = [];
                    var e = cc.MaterialVariant.create(this.ModelMat[0], this.BodySMR[0]);
                    this.newMat.push(e);
                    var n = cc.MaterialVariant.create(this.ModelMat[1], this.FurSMR[0]);
                    this.newMat.push(n);
                    for (var i = 0; i < this.BodySMR.length; i++) this.BodySMR[i].setMaterial(0, this.newMat[0]);
                    for (i = 0; i < this.FurSMR.length; i++) this.FurSMR[i].setMaterial(0, this.newMat[1])
                }
                this.color = cc.Color.WHITE, this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color), this.node.active = !0, this.timerPause = !1, this.eulerTurn(c.Normal), this.skeleton.unscheduleAllCallbacks(), this.skeleton.stop(), this.randomSeed = parseInt(this.ID), this.Jump(), this.ice_group.forEach(function(t) {
                    t.active = !1
                })
            }, e.prototype.RandomMove = function() {
                if (this.PosAnchor.getPosition().x >= 800) this.FishOut();
                else if (this.PosAnchor.getPosition().x >= 300) this.Jump();
                else {
                    var t = this.randomBySeed();
                    t < .65 ? this.Walk() : t < .9 ? this.Idle() : this.Jump()
                }
            }, e.prototype.Walk = function() {
                this.PlayClip("IdleA", !1, this.RandomMove.bind(this)), this.moveTween = cc.tween(this.PosAnchor).by(1.1, {
                    position: cc.Vec3.RIGHT.mul(140)
                }).call(function() {
                    h.default.Instance.Play("Lion_mouth_01")
                }).start()
            }, e.prototype.Jump = function() {
                this.PlayClip("IdleB", !1, this.RandomMove.bind(this)), this.moveTween = cc.tween(this.PosAnchor).delay(.66).by(.33, {
                    position: cc.Vec3.RIGHT.mul(450)
                }).call(function() {
                    h.default.Instance.Play("Lion_jumpin_01")
                }).delay(1.33).by(.33, {
                    position: cc.Vec3.RIGHT.mul(400)
                }).call(function() {
                    h.default.Instance.Play("Lion_jumpin_01")
                }).start()
            }, e.prototype.Idle = function() {
                this.PlayClip("IdleC", !1, this.RandomMove.bind(this)), this.scheduleOnce(function() {
                    h.default.Instance.Play("Lion_mouth_01")
                }, .5)
            }, e.prototype.randomBySeed = function() {
                return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
            }, e.prototype.FishDie = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.animEvent = null, this.moveTween && this.moveTween.stop(), this.moveTween = null, this.Event_FishLeave && this.Event_FishLeave(this, 6), this.ice_group.forEach(function(t) {
                            t.active = !1
                        }), [2]
                    })
                })
            }, e.prototype.FishOut = function() {
                this.animEvent = null, this.moveTween && this.moveTween.stop(), this.moveTween = null, t.prototype.FishOut.call(this)
            }, e.prototype.OnHitFish = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return r(this, function() {
                        return this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat[0].setProperty("diffuseColor", this.color), this.newMat[1].setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                            r: 200,
                            g: 0,
                            b: 0
                        }).to(.1, {
                            r: 255,
                            g: 255,
                            b: 255
                        })).call(function() {
                            t.tween = null, t.color = cc.Color.WHITE, t.newMat[0].setProperty("diffuseColor", t.color), t.newMat[1].setProperty("diffuseColor", t.color)
                        }).start(), [2]
                    })
                })
            }, e.prototype.PauseClip = function() {
                this.skeleton.pause(), this.moveTween && this.moveTween.stop(), this.timerPause = !0
            }, e.prototype.ResumeClip = function() {
                this.skeleton.resume(), this.moveTween && this.moveTween.start(), this.timerPause = !1
            }, e.prototype.PlayClip = function(t, e, n) {
                this.animEvent = null, this.eventTimer = 0, this.skeleton.play(t);
                var i = this.skeleton.getAnimationState(t);
                i && (i.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, n && (this.eventTimer = i.duration, this.animEvent = n))
            }, e.prototype.SetNextClip = function(t, e, n, i) {
                var o = this;
                this.animEvent = null, this.eventTimer = 0;
                var a = this.skeleton.getAnimationState(this.skeleton.currentClip.name);
                a && (this.eventTimer = a.duration - a.time, this.animEvent = function() {
                    n && n(), o.PlayClip(t, e, i)
                }, this.eventTimer <= 0 && this.animEvent())
            }, e.prototype.eulerTurn = function(t, e) {
                if (void 0 === e && (e = 0), null == t) return this.turnTween && this.turnTween.stop(), this.turnTween = null, void(this.animNow = null);
                this.animNow != t && (this.turnTween && this.turnTween.stop(), e > 0 ? this.turnTween = cc.tween(this.skeleton.node).to(e, {
                    eulerAngles: this.eulerList[t]
                }).start() : this.skeleton.node.eulerAngles = this.eulerList[t], this.animNow = t)
            }, e.prototype.PauseBehavior = function(e, n) {
                t.prototype.PauseBehavior.call(this, e, n), this.skeleton.pause(), this.timerPause = !0, this.moveTween && this.PosAnchor.pauseAllActions(), this.ice_group.forEach(function(t) {
                    t.active = !0
                })
            }, e.prototype.ResumeBehavior = function() {
                t.prototype.ResumeBehavior.call(this), this.skeleton.resume(), this.timerPause = !1, this.moveTween && this.PosAnchor.resumeAllActions(), this.ice_group.forEach(function(t) {
                    t.active = !1
                })
            }, e.prototype.updateColliderPos = function() {
                this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider));
                for (var t = 0; t < this.ColliderAnchor.length; t++)
                    if (t < this.subColliderList.length) {
                        var e = this.ColliderAnchor[t].convertToWorldSpaceAR(cc.Vec2.ZERO);
                        e = this.subColliderList[t].node.parent.convertToNodeSpaceAR(e), this.subColliderList[t].node.setPosition(e)
                    }
            }, e.prototype.JumpToCenter = function(t) {
                var e = this;
                this.ResumeClip(), l.default.isReverse && this.PosAnchor.setPosition(cc.v2(-this.PosAnchor.position.x, this.PosAnchor.position.y)), this.PosAnchor.getPosition().x > 0 ? (this.onRight = !1, this.PlayClip("AwakeR2L", !1, function() {
                    e.PlayClip("AwakeIdleL", !0)
                })) : (this.onRight = !0, this.PlayClip("AwakeL2R", !1, function() {
                    e.PlayClip("AwakeIdleR", !0)
                })), cc.tween(this.PosAnchor).to(1.5, {
                    position: cc.v3(0, -170, 0)
                }).delay(1).call(t).start(), this.node.scale = 1, cc.tween(this.node).to(1.5, {
                    scale: 1.1
                }).start(), this.eulerTurn(c.Awake, 1.5)
            }, e.prototype.FishFadeOut = function() {
                var t = this;
                this.aliveStatus == u.FishState.ALIVE && (this.canCollision = !1, this.moveTween && this.moveTween.stop(), this.PlayClip("IdleB", !1), this.moveTween = cc.tween(this.PosAnchor).delay(.66).by(.33, {
                    position: cc.Vec3.RIGHT.mul(1125)
                }).delay(1.33).by(.33, {
                    position: cc.Vec3.RIGHT.mul(100)
                }).call(function() {
                    t.FishOut()
                }).start())
            }, a([f(cc.SkeletonAnimation)], e.prototype, "skeleton", void 0), a([f([cc.SkinnedMeshRenderer])], e.prototype, "BodySMR", void 0), a([f([cc.SkinnedMeshRenderer])], e.prototype, "FurSMR", void 0), a([f([cc.Material])], e.prototype, "ModelMat", void 0), a([f([cc.Node])], e.prototype, "ColliderAnchor", void 0), a([f(cc.Node)], e.prototype, "PosAnchor", void 0), a([f([cc.Node])], e.prototype, "ice_group", void 0), a([d], e)
        }(u.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    LUCKY_CAT: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3d475odA2xHFplPBUaFZekz", "LUCKY_CAT");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ParticleType = void 0;
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Common/AudioManager"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property;
        (function(t) {
            t[t.GourdIdle = 0] = "GourdIdle", t[t.GourdLeave = 1] = "GourdLeave", t[t.HammerIdle = 2] = "HammerIdle", t[t.GourdSprayCoin = 3] = "GourdSprayCoin", t[t.HammerChargeAura = 4] = "HammerChargeAura", t[t.HammerChargeFailure = 5] = "HammerChargeFailure", t[t.HammerChargeFull = 6] = "HammerChargeFull"
        })(c = n.ParticleType || (n.ParticleType = {}));
        var y = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.ModelAni = null, e.SMR = [], e.MR = [], e.ModelMat = [], e.ccAni = [], e.Particles = [], e.FollowNode = [], e.ice_group = [], e.defaultAliveTime = 30, e.color = cc.Color.WHITE, e.tween = null, e.newMat = null, e.swimSoundTimer = 5, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e.onSyncStop = null, e
            }
            return o(e, t), e.prototype.update = function(e) {
                t.prototype.update.call(this, e), this.tween && this.newMat.setProperty("diffuseColor", this.color);
                for (var n = cc.Vec3.ZERO, i = cc.Vec3.ZERO, o = 0; o < this.FollowNode.length; o++) o % 2 == 0 ? (n = this.FollowNode[o].convertToWorldSpaceAR(cc.Vec3.ZERO), i = this.FollowNode[o].eulerAngles) : (this.FollowNode[o].setPosition(this.node.convertToNodeSpaceAR(n)), this.FollowNode[o].eulerAngles = i);
                this.timerPause || (this.eventTimer > 0 && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent())), this.AliveStatus == u.FishState.ALIVE && this.swimSoundTimer > 0 && (this.swimSoundTimer -= e, this.swimSoundTimer <= 0 && (this.swimSoundTimer = 5 + 5 * Math.random(), h.default.Instance.Play("LuckyCat_Swim"))))
            }, e.prototype.InitParameter = function() {
                var e = this;
                t.prototype.InitParameter.call(this), this.canCollision = !1, this.isFeature = !0, null == this.newMat && (this.newMat = cc.MaterialVariant.create(this.ModelMat[0], this.SMR[5])), this.SMR.forEach(function(t) {
                    t.setMaterial(0, e.newMat)
                }), this.MR.forEach(function(t) {
                    t.setMaterial(0, e.newMat)
                }), this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color), this.node.opacity = 255, this.shapeNode.scale = 0, this.ccAni[0].play(), cc.tween(this.shapeNode).to(2, {
                    scale: 230
                }).call(function() {
                    e.canCollision = !0, e.mSeek.Resume(), e.particleEnable(c.GourdIdle, !0)
                }).start(), this.PlayClip("1_Swim", !0), this.ice_group.forEach(function(t) {
                    t.active = !1
                })
            }, e.prototype.InitSeek = function(t, e, n) {
                if (this.behaviorType = u.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                    e = this.o % this.AISeek.GetPathCount(t);
                    var i = this.getOffset(this.o % 4);
                    this.o = this.o > 180 ? 180 : 0, this.AISeek.SetSeek(t, e, this.node, this.id, this.o, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n), this.mSeek.Pause()
                }
            }, e.prototype.UpdateSeek = function(e) {
                t.prototype.UpdateSeek.call(this, e), this.node.angle = l.default.isReverse ? 180 : 0
            }, e.prototype.FishFadeOut = function(t, e) {
                var n = this;
                void 0 === t && (t = .5), this.aliveStatus == u.FishState.ALIVE && (this.aliveStatus = u.FishState.OUT, this.canCollision = !1, this.particleEnable(c.GourdIdle, !1), this.mSeek.Pause(), cc.tween(this.shapeNode).to(.5, {
                    scale: 0
                }).delay(.5).call(function() {
                    n.aliveStatus = u.FishState.ALIVE, n.FishOut(e)
                }).start())
            }, e.prototype.FishDie = function(e, n, i) {
                return void 0 === n && (n = !0), s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return t.prototype.FishDie.call(this, e, n, i), this.particleEnable(c.GourdIdle, !1), this.shapeNode.scale = 230, this.ice_group.forEach(function(t) {
                            t.active = !1
                        }), [2]
                    })
                })
            }, e.prototype.RemoveSelf = function() {
                this.ModelAni.stop(), this.timerPause = !1, this.Particles.forEach(function(t) {
                    t.resetSystem(), t.stopSystem(), t.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                        t.resetSystem(), t.stopSystem()
                    }), t.node.getComponentsInChildren("NodeParticleNew").forEach(function(t) {
                        t.node.active = !1
                    })
                }), t.prototype.RemoveSelf.call(this)
            }, e.prototype.OnHitFish = function() {
                var t = this;
                this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                    r: 200,
                    g: 0,
                    b: 0
                }).to(.1, {
                    r: 255,
                    g: 255,
                    b: 255
                })).call(function() {
                    t.tween = null, t.color = cc.Color.WHITE, t.newMat.setProperty("diffuseColor", t.color)
                }).start()
            }, e.prototype.PauseClip = function() {
                this.ModelAni.pause(), this.timerPause = !0
            }, e.prototype.ResumeClip = function() {
                this.ModelAni.resume(), this.timerPause = !1
            }, e.prototype.PlayClip = function(t, e, n) {
                this.animEvent = null, this.ModelAni.play(t);
                var i = this.ModelAni.getAnimationState(t);
                i && (i.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, i.speed = 1, n && (this.eventTimer = i.duration, this.animEvent = n))
            }, e.prototype.SetNextClip = function(t, e, n, i) {
                var o = this;
                this.animEvent = null;
                var a = this.ModelAni.getAnimationState(this.ModelAni.currentClip.name);
                if (a) {
                    if (this.eventTimer = a.duration - a.time, a.repeatCount == cc.macro.REPEAT_FOREVER)
                        for (; this.eventTimer < 0;) this.eventTimer += a.duration;
                    this.animEvent = function() {
                        n && n(), o.ModelAni.play(t);
                        var a = o.ModelAni.getAnimationState(t);
                        a && (a.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, a.speed = 1, i && (o.eventTimer = a.duration, o.animEvent = i))
                    }, this.eventTimer <= 0 && this.animEvent()
                }
            }, e.prototype.SetClipSpeed = function(t) {
                var e = this.ModelAni.getAnimationState(this.ModelAni.currentClip.name);
                if (e) {
                    var n = e.speed;
                    n != t && (e.speed = t, this.eventTimer > 0 && (this.eventTimer = this.eventTimer * (n / t)))
                }
            }, e.prototype.eulerTurn = function(t, e) {
                this.ModelAni.node.runAction(cc.rotate3DTo(e, t))
            }, e.prototype.PauseBehavior = function(e, n) {
                t.prototype.PauseBehavior.call(this, e, n), this.ModelAni.pause(), this.timerPause = !0, this.ice_group.forEach(function(t) {
                    t.active = !0
                })
            }, e.prototype.ResumeBehavior = function() {
                t.prototype.ResumeBehavior.call(this), this.ModelAni.resume(), this.timerPause = !1, this.ice_group.forEach(function(t) {
                    t.active = !1
                })
            }, e.prototype.SetSyncTime = function(e) {
                var n = this;
                t.prototype.SetSyncTime.call(this, e), this.SetClipSpeed(5), this.onSyncStop = function() {
                    n.SetClipSpeed(1)
                }
            }, e.prototype.particleEnable = function(t, e) {
                var n = this.Particles[t].node.getComponentsInChildren(cc.ParticleSystem);
                n.push(this.Particles[t]), n.forEach(function(t) {
                    e ? t.resetSystem() : t.stopSystem()
                }), t == c.GourdSprayCoin && this.Particles[t].node.getComponentsInChildren("NodeParticleNew").forEach(function(t) {
                    e ? (t.node.active = !1, t.node.active = !0) : t.node.active = !1
                }), t != c.HammerChargeFailure && t != c.HammerChargeFull || this.Particles[t].node.getComponent(cc.Animation).play()
            }, e.prototype.changeMat = function() {
                var t = this;
                this.SMR.forEach(function(e) {
                    e.setMaterial(0, t.ModelMat[1])
                }), this.MR.forEach(function(e) {
                    e.setMaterial(0, t.ModelMat[1])
                })
            }, a([f(cc.SkeletonAnimation)], e.prototype, "ModelAni", void 0), a([f([cc.SkinnedMeshRenderer])], e.prototype, "SMR", void 0), a([f([cc.MeshRenderer])], e.prototype, "MR", void 0), a([f([cc.Material])], e.prototype, "ModelMat", void 0), a([f([cc.Animation])], e.prototype, "ccAni", void 0), a([f([cc.ParticleSystem])], e.prototype, "Particles", void 0), a([f([cc.Node])], e.prototype, "FollowNode", void 0), a([f([cc.Node])], e.prototype, "ice_group", void 0), a([d], e)
        }(u.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    LUCKY_SHAMROCK: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "efa99LAi/tGf5R4W55AQWIW", "LUCKY_SHAMROCK");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.PatrickEuler = void 0;
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property;
        (function(t) {
            t[t.Walk = 0] = "Walk", t[t.RunR = 1] = "RunR", t[t.RunL = 2] = "RunL", t[t.Pull = 3] = "Pull", t[t.win = 4] = "win"
        })(c = n.PatrickEuler || (n.PatrickEuler = {}));
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.skeleton = null, e.SMR = null, e.ModelMat = null, e.Particle = null, e.RopeDummy = null, e.color = cc.Color.WHITE, e.tween = null, e.newMat = null, e.eulerList = [cc.v3(10, 65, 30), cc.v3(-32, 150, 18), cc.v3(-30, -155, -18), cc.v3(7, 68, 18), cc.v3(0, 90, 15)], e.animNow = c.RunR, e.turnAct = null, e.quakeAct = null, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e
            }
            return o(e, t), e.prototype.update = function(e) {
                t.prototype.update.call(this, e), this.tween && this.newMat.setProperty("diffuseColor", this.color), this.eventTimer > 0 && !this.timerPause && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent()))
            }, e.prototype.Init = function(e, n) {
                t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30)
            }, e.prototype.InitParameter = function() {
                t.prototype.InitParameter.call(this), this.isFeature = !0, null == this.newMat && (this.newMat = cc.MaterialVariant.create(this.ModelMat, this.SMR)), this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color), this.eulerTurn(c.Walk), this.skeleton.unscheduleAllCallbacks(), this.skeleton.stop(), this.skeleton.play("walk"), this.node.scale = 1.5, this.walkQuake(), this.Particle.emissionRate = 200
            }, e.prototype.InitNormalBehavior = function(e, n) {
                void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), l.default.isReverse ? this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1.5 : -1.5 : this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1.5 : 1.5
            }, e.prototype.FishDie = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.Particle && (this.Particle.emissionRate = 0), this.quakeAct && (this.node.stopAction(this.quakeAct), this.quakeAct = null), this.animEvent = null, this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                    })
                })
            }, e.prototype.FishOut = function() {
                this.Particle && (this.Particle.emissionRate = 0), this.quakeAct && (this.node.stopAction(this.quakeAct), this.quakeAct = null), this.animEvent = null, t.prototype.FishOut.call(this)
            }, e.prototype.OnHitFish = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return r(this, function() {
                        return this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                            r: 200,
                            g: 0,
                            b: 0
                        }).to(.1, {
                            r: 255,
                            g: 255,
                            b: 255
                        })).call(function() {
                            t.tween = null, t.color = cc.Color.WHITE, t.newMat.setProperty("diffuseColor", t.color)
                        }).start(), [2]
                    })
                })
            }, e.prototype.PauseClip = function() {
                this.skeleton.pause(), this.timerPause = !0
            }, e.prototype.ResumeClip = function() {
                this.skeleton.resume(), this.timerPause = !1
            }, e.prototype.PlayClip = function(t, e, n) {
                this.animEvent = null, this.skeleton.play(t);
                var i = this.skeleton.getAnimationState(t);
                i && (i.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, n && (this.eventTimer = i.duration, this.animEvent = n))
            }, e.prototype.SetNextClip = function(t, e, n, i) {
                var o = this;
                this.animEvent = null;
                var a = this.skeleton.getAnimationState(this.skeleton.currentClip.name);
                a && (this.eventTimer = a.duration - a.time, this.animEvent = function() {
                    n && n(), o.skeleton.play(t);
                    var a = o.skeleton.getAnimationState(t);
                    a && (a.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, i && (o.eventTimer = a.duration, o.animEvent = i))
                }, this.eventTimer <= 0 && this.animEvent())
            }, Object.defineProperty(e.prototype, "getRopePos", {
                get: function() {
                    return this.RopeDummy.convertToWorldSpaceAR(cc.Vec2.ZERO)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.eulerTurn = function(t, e) {
                if (void 0 === e && (e = 0), null == t) return this.turnAct && this.skeleton.node.stopAction(this.turnAct), this.turnAct = null, void(this.animNow = null);
                this.animNow != t && (this.turnAct && this.skeleton.node.stopAction(this.turnAct), e > 0 ? this.turnAct = this.skeleton.node.runAction(cc.rotate3DTo(e, this.eulerList[t])) : this.skeleton.node.eulerAngles = this.eulerList[t], this.animNow = t)
            }, e.prototype.walkQuake = function() {
                this.quakeAct && this.node.stopAction(this.quakeAct), this.quakeAct = this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                    l.default.UpDownShakeOnce(15)
                }), cc.delayTime(.5))))
            }, e.prototype.PauseBehavior = function(e, n) {
                t.prototype.PauseBehavior.call(this, e, n), this.skeleton.pause(), this.Particle && (this.Particle.emissionRate = 0), this.quakeAct && (this.node.stopAction(this.quakeAct), this.quakeAct = null)
            }, e.prototype.ResumeBehavior = function() {
                t.prototype.ResumeBehavior.call(this), this.skeleton.resume(), this.Particle && (this.Particle.emissionRate = 200), this.AliveStatus == h.FishState.ALIVE && this.walkQuake()
            }, e.prototype.isLockInScreen = function(t) {
                if (t) {
                    var e = this.node.convertToWorldSpaceAR(t.getPosition());
                    if (this.isSummon && this.mainFishNode && (e = this.mainFishNode.convertToWorldSpaceAR(t.getPosition())), e.x >= -150 && e.x < l.default.WinSize.width - -150 && e.y >= -150 && e.y < l.default.WinSize.height - -150) return e
                }
                return null
            }, a([d(cc.SkeletonAnimation)], e.prototype, "skeleton", void 0), a([d(cc.SkinnedMeshRenderer)], e.prototype, "SMR", void 0), a([d(cc.Material)], e.prototype, "ModelMat", void 0), a([d(cc.ParticleSystem)], e.prototype, "Particle", void 0), a([d(cc.Node)], e.prototype, "RopeDummy", void 0), a([p], e)
        }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "./BaseFish": "BaseFish"
    }],
    LionDanceBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "e2af8LwtG5A46fqIcv+eKjW", "LionDanceBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.LanternRoot = null, e
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.bossEnter = !0)
                }, a([l(cc.Animation)], e.prototype, "LanternRoot", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    LionDanceUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2a4608BBZtO/46y3EMBE8qU", "LionDanceUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.AddScoreLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-60)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("LionDanceTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "LionDanceBigWin" : "LionDanceYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -120 : -80))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    var e = this;
                    void 0 === t && (t = !0), this.node && this.node.active && (t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                        e.Recycle()
                    }))) : this.Recycle())
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, e.prototype.AddScore = function(t) {
                    var e = this;
                    this.AddScoreLabel.string = "+" + t, cc.tween(this.AddScoreLabel.node).by(.5, {
                        position: cc.Vec3.UP.mul(20),
                        scale: .5,
                        opacity: 255
                    }).by(.5, {
                        position: cc.Vec3.UP.mul(-20),
                        scale: -.5
                    }).call(function() {
                        var n = e.ShowingScore + t;
                        e.SetScore(n, 1.5)
                    }).delay(1).to(.5, {
                        opacity: 0
                    }).start()
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([d(cc.Label)], e.prototype, "AddScoreLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    LockSettingWindow: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a0176c4ADpGvKVL10P/smsE", "LockSettingWindow");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./WindowCtrl"),
            r = t("../Common/EnumFilter"),
            c = t("../../../../../LobbyCommon/Net/LobbyClient"),
            l = t("../Common/AudioManager"),
            h = t("../../../../../FishCommon/Script/CanvasHandler"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.TogglesParent = null, e.LabelsParent = null, e.TouchZone = null, e.lockTarget = null, e.oddsList = null, e.unhitList = null, e.triggering = !1, e.changeList = null, e.togglePosX = null, e.togglePosY = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    if (!this.lockTarget && (this.lockTarget = this.TogglesParent.getComponentsInChildren(cc.Toggle), this.TouchZone)) {
                        this.togglePosX = new Array, this.togglePosY = new Array;
                        for (var e = 0; e < 7; e++) this.togglePosX.push(this.lockTarget[e].node.getPosition().x - this.lockTarget[e].node.width / 2), this.togglePosX.push(this.lockTarget[e].node.getPosition().x + this.lockTarget[e].node.width / 2);
                        for (e = 0; e < 5; e++) this.togglePosY.push(this.lockTarget[7 * e].node.getPosition().y + this.lockTarget[7 * e].node.height / 2), this.togglePosY.push(this.lockTarget[7 * e].node.getPosition().y - this.lockTarget[7 * e].node.height / 2);
                        this.TouchZone.on(cc.Node.EventType.TOUCH_START, this.startTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_CANCEL, this.endTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_END, this.endTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_MOVE, this.onTrigger.bind(this))
                    }
                    for (this.oddsList || (this.oddsList = this.LabelsParent.getComponentsInChildren(cc.Label)), t && (this.unhitList = t.UnhitList), e = 0; e < r.default.LockOrder.length; e++) this.unhitList && -1 != this.unhitList.indexOf(r.default.LockOrder[e]) ? (this.lockTarget[e].node.opacity = 125, this.oddsList[e].node.opacity = 125) : (this.lockTarget[e].node.opacity = 255, this.oddsList[e].node.opacity = 255), this.lockTarget[e].isChecked = r.default.playerLockSetting && -1 != r.default.playerLockSetting.indexOf(r.default.LockOrder[e])
                }, e.prototype.confirmClick = function() {
                    l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_OK_BTN");
                    for (var t = [], e = 0; e < this.lockTarget.length; e++) this.lockTarget[e].isChecked && (t.push(r.default.LockOrder[e]), c.LobbyClient.Instance.GetUserClient.recordClickLog("FishLockSetting", r.default.LockOrder[e]));
                    if (0 == t.length) r.default.playerLockSetting = null, r.default.LockSetting = null;
                    else {
                        r.default.playerLockSetting = t;
                        var n = Array.from(t);
                        if (this.unhitList)
                            for (e = 0; e < this.unhitList.length; e++) {
                                var i = n.indexOf(this.unhitList[e]); - 1 != i && n.splice(i, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(n)
                    }
                    this.SaveLockSetting(), null != this.BtnEvent[0] && this.BtnEvent[0]()
                }, e.prototype.SaveLockSetting = function() {
                    var t = "";
                    null != r.default.playerLockSetting && (t = r.default.playerLockSetting.toString());
                    var e = "LOCKSETTING_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_ALD";
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(e, t) : JSUtility.IsSupportCookie() && (document.cookie = e + "=" + t + ";")
                }, e.prototype.DefaultClick = function() {
                    l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_CLEAR_BTN");
                    for (var t = 0; t < this.lockTarget.length; t++) this.lockTarget[t].isChecked = !1
                }, e.prototype.startTrigger = function(t) {
                    this.triggering = !0, this.changeList = new Array(this.lockTarget.length), this.isOnToggle(h.default.ConvMousePos(t.getLocation()))
                }, e.prototype.endTrigger = function() {
                    this.triggering = !1, this.changeList = null
                }, e.prototype.onTrigger = function(t) {
                    this.triggering && this.isOnToggle(h.default.ConvMousePos(t.getLocation()))
                }, e.prototype.isOnToggle = function(t) {
                    h.default.isReverse && t.mulSelf(-1);
                    for (var e = -1, n = 0; n < this.togglePosX.length; n++) t.x > this.togglePosX[n] && (e = n);
                    if (e % 2 == 0) {
                        var i = -1;
                        for (n = 0; n < this.togglePosY.length; n++) t.y < this.togglePosY[n] && (i = n);
                        if (i % 2 == 0) {
                            var o = i / 2 * 7 + e / 2;
                            this.changeList[o] || (this.changeList[o] = !0, this.lockTarget[o].isChecked = !this.lockTarget[o].isChecked, this.lockTarget[o].isChecked ? l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_SELECTED") : l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_CANCEL"), cc.tween(this.lockTarget[o].node).to(.1, {
                                scale: 1.1
                            }).to(.1, {
                                scale: 1
                            }).start())
                        }
                    }
                }, a([d(cc.Node)], e.prototype, "TogglesParent", void 0), a([d(cc.Node)], e.prototype, "LabelsParent", void 0), a([d(cc.Node)], e.prototype, "TouchZone", void 0), a([p], e)
            }(s.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "./WindowCtrl": "WindowCtrl"
    }],
    LockWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ebd705zvnFP6Lpt42jl09Hw", "LockWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseWeapon"),
            r = t("./WeaponManager"),
            c = t("../../GameClient"),
            l = t("../Skill/BaseSkill"),
            h = t("../Common/EnumFilter"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.fishIconImg = null, e.fishIconAnim = null, e.fishIconList = [], e.currentAnimStr = "", e.skill = null, e.addSkill = !0, e.GetFishIconIndex = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.Type = r.WeaponType.Lock, this.InitFunction(), this.addSkill && (this.skill = c.default.SkillSystem.AddSkill(l.skillEnum.Lock, e), this.skill.setWeapon(this, n))
                }, e.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0)
                }, e.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1)
                }, e.prototype.SetFishIcon = function(t) {
                    if (this.fishIconImg) {
                        var e = this.GetFishIconIndex(t); - 1 != e ? (this.fishIconImg.spriteFrame = this.fishIconList[e], this.fishIconImg.node.active = !0) : this.fishIconImg.node.active = !1
                    }
                }, e.prototype.SetFishIconAnim = function(t) {
                    this.fishIconAnim && this.currentAnimStr != (t ? "LockIconAnim_Loop" : "LockIconAnim_Idel") && (this.currentAnimStr = t ? "LockIconAnim_Loop" : "LockIconAnim_Idel", this.fishIconAnim.play(this.currentAnimStr))
                }, e.prototype.ShootState = function() {
                    return 0
                }, e.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, this.fishIconAnim.stop(), t.prototype.UnloadWeapon.call(this)
                }, e.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, e.prototype.InitFunction = function() {
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case h.FishGame.ALD:
                        case h.FishGame.ZB:
                        case h.FishGame.KK:
                            this.GetFishIconIndex = this.GetFishIconIndexZB;
                            break;
                        case h.FishGame.LS:
                            this.GetFishIconIndex = this.GetFishIconIndexLS;
                            break;
                        case h.FishGame.MTY:
                            this.GetFishIconIndex = this.GetFishIconIndexMTY;
                            break;
                        case h.FishGame.BS:
                            this.GetFishIconIndex = this.GetFishIconIndexBS;
                            break;
                        case h.FishGame.WCF:
                            this.GetFishIconIndex = this.GetFishIconIndexWCF;
                            break;
                        case h.FishGame.CIR:
                            this.GetFishIconIndex = this.GetFishIconIndexCIR
                    }
                }, e.prototype.GetFishIconIndexLS = function(t) {
                    switch (t) {
                        case 0:
                        case 47:
                            return 23;
                        case 1:
                        case 48:
                            return 24;
                        case 2:
                            return 25;
                        case 3:
                            return 26;
                        case 4:
                            return 27;
                        case 5:
                            return 28;
                        case 6:
                            return 29;
                        case 7:
                            return 30;
                        case 8:
                            return 31;
                        case 9:
                            return 0;
                        case 10:
                            return 1;
                        case 11:
                            return 2;
                        case 12:
                            return 3;
                        case 13:
                            return 4;
                        case 14:
                            return 5;
                        case 15:
                            return 6;
                        case 16:
                            return 7;
                        case 17:
                            return 8;
                        case 18:
                            return 9;
                        case 20:
                            return 10;
                        case 22:
                            return 11;
                        case 23:
                            return 12;
                        case 24:
                            return 13;
                        case 25:
                            return 14;
                        case 34:
                            return 15;
                        case 77:
                            return 17;
                        case 78:
                            return 18;
                        case 79:
                            return 19;
                        case 80:
                            return 20;
                        case 81:
                            return 16;
                        case 82:
                            return 32;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 21;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 22;
                        default:
                            return -1
                    }
                }, e.prototype.GetFishIconIndexZB = function(t) {
                    switch (t) {
                        case 9:
                            return 0;
                        case 10:
                            return 1;
                        case 11:
                            return 2;
                        case 12:
                            return 3;
                        case 13:
                            return 4;
                        case 14:
                            return 5;
                        case 15:
                            return 6;
                        case 16:
                            return 7;
                        case 17:
                            return 8;
                        case 18:
                            return 9;
                        case 20:
                            return 10;
                        case 22:
                            return 11;
                        case 23:
                            return 12;
                        case 25:
                            return 13;
                        case 34:
                            return 14;
                        case 77:
                            return 15;
                        case 78:
                            return 16;
                        case 79:
                            return 17;
                        case 80:
                            return 18;
                        case 81:
                        case 83:
                            return 19;
                        case 82:
                            return 31;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 20;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 21;
                        case 0:
                        case 47:
                            return 22;
                        case 1:
                        case 48:
                            return 23;
                        case 2:
                            return 24;
                        case 3:
                            return 25;
                        case 4:
                            return 26;
                        case 5:
                            return 27;
                        case 6:
                            return 28;
                        case 7:
                            return 29;
                        case 8:
                            return 30;
                        default:
                            return -1
                    }
                }, e.prototype.GetFishIconIndexMTY = function(t) {
                    switch (t) {
                        case 47:
                            return 0;
                        case 48:
                            return 1;
                        case 34:
                            return 19;
                        case 77:
                            return 20;
                        case 79:
                            return 21;
                        case 78:
                            return 24;
                        case 80:
                            return 25;
                        case 84:
                            return 26;
                        case 85:
                            return 27;
                        case 86:
                            return 28;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 29;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 30;
                        default:
                            return t
                    }
                }, e.prototype.GetFishIconIndexBS = function(t) {
                    switch (t) {
                        case 47:
                            return 0;
                        case 48:
                            return 1;
                        case 34:
                            return 19;
                        case 77:
                            return 21;
                        case 79:
                            return 26;
                        case 61:
                        case 62:
                        case 63:
                        case 64:
                        case 65:
                        case 66:
                            return 27;
                        case 35:
                            return 28;
                        case 78:
                            return 29;
                        case 80:
                            return 30;
                        case 89:
                            return 33;
                        case 90:
                            return 34;
                        case 91:
                            return 35;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 31;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 32;
                        default:
                            return t
                    }
                }, e.prototype.GetFishIconIndexWCF = function(t) {
                    switch (t) {
                        case 47:
                            return 0;
                        case 48:
                            return 1;
                        case 34:
                            return 19;
                        case 77:
                            return 20;
                        case 79:
                            return 21;
                        case 78:
                            return 26;
                        case 80:
                            return 27;
                        case 92:
                            return 28;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 29;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 30;
                        default:
                            return t
                    }
                }, e.prototype.GetFishIconIndexCIR = function(t) {
                    switch (t) {
                        case 47:
                            return 0;
                        case 48:
                            return 1;
                        case 34:
                            return 19;
                        case 77:
                            return 20;
                        case 79:
                            return 21;
                        case 78:
                            return 24;
                        case 80:
                            return 25;
                        case 93:
                            return 26;
                        case 94:
                            return 27;
                        case 95:
                            return 28;
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return 29;
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return 30;
                        default:
                            return t
                    }
                }, a([d(cc.Sprite)], e.prototype, "fishIconImg", void 0), a([d(cc.Animation)], e.prototype, "fishIconAnim", void 0), a([d([cc.SpriteFrame])], e.prototype, "fishIconList", void 0), a([p], e)
            }(s.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    MERMAID: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b0f69LV0pZL0a1EtDSBloha", "MERMAID");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSpineFish"),
            l = t("../Common/ResourceManager"),
            h = t("../Common/AudioManager"),
            u = t("./BaseFish"),
            p = t("../Common/EnumFilter"),
            d = cc._decorator,
            f = d.ccclass,
            y = (d.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.eventIndex = 0, e
                }
                return o(e, t), e.prototype.onInit = function() {
                    var t = this;
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case p.FishGame.WCF:
                            this.offsetPos = cc.v2(990, -250), this.skeleton.timeScale = 1;
                            break;
                        default:
                            this.offsetPos = cc.v2(500, -225), this.skeleton.timeScale = .5
                    }
                    this.node.angle = -this.o, this.skeleton.setAnimation(0, "SWIM", !1), this.eventIndex = 0, this.skeleton.setEventListener(function() {
                        t.aliveStatus != u.FishState.ALIVE || t.isSummon || (0 == t.eventIndex ? (l.default.SpawnEffect("MH").angle = t.node.angle, t.eventIndex++) : 1 == t.eventIndex && (l.default.SpawnEffect("MH2").angle = t.node.angle, t.eventIndex++))
                    })
                }, e.prototype.PlayDieAnim = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t.prototype.PlayDieAnim.call(this), h.default.Instance.Play("effect_mer_die1"), [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), h.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, a([f], e)
            }(c.default));
        n.default = y, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish",
        "./BaseSpineFish": "BaseSpineFish"
    }],
    MarqueeCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "aa7f7CfD6BGba6cPbV2gg8B", "MarqueeCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t, e) {
                this.Text = "", this.Time = 5, this.Text = t, this.Time = e
            },
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Text = null, e.Marquees = [], e.MarqueeSchedule = null, e.fadeAction = null, e.MarqueeActive = !1, e
                }
                return o(e, t), e.prototype.setMarquee = function(t, e, n) {
                    void 0 === e && (e = 5), void 0 === n && (n = !1);
                    var i = new l(t, e);
                    n ? this.Marquees.unshift(i) : this.Marquees.push(i), this.MarqueeActive || this.NextMaquee()
                }, e.prototype.NextMaquee = function() {
                    var t = this;
                    if (this.Marquees.length > 0) {
                        var e = this.Marquees.shift();
                        this.MarqueeActive ? (this.Text.node.opacity = 255, this.fadeAction = cc.sequence(cc.fadeOut(.5), cc.delayTime(.5), cc.callFunc(function() {
                            e.Text.length > 80 ? t.Text.fontSize = 21 : e.Text.length > 70 ? t.Text.fontSize = 23 : t.Text.fontSize = 25, t.Text.string = e.Text
                        }), cc.fadeIn(.5)), this.Text.node.runAction(this.fadeAction)) : (this.node.stopAction(this.fadeAction), this.node.opacity = 0, this.node.active = !0, this.MarqueeActive = !0, this.Text.string = e.Text, this.fadeAction = cc.fadeIn(1), this.node.runAction(this.fadeAction)), this.MarqueeSchedule = this.scheduleOnce(function() {
                            t.NextMaquee()
                        }, e.Time + 1)
                    } else this.MarqueeActive = !1, this.node.opacity = 255, this.fadeAction = cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        t.node.active = !1, t.MarqueeSchedule = null
                    })), this.node.runAction(this.fadeAction)
                }, a([c(cc.RichText)], e.prototype, "Text", void 0), a([r], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {}],
    MissionCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8e681jkCRdJYrf4ZABgznFM", "MissionCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.MisProcStates = n.AwardIndex = void 0;
        var s, r = t("../System/ItemSystem"),
            c = t("../MainGame/Item/ItemManager"),
            l = t("../MainGame/Player/PlayerManager"),
            h = t("./FishMissionData"),
            u = t("./MissionNodeDrag"),
            p = t("../MainGame/Common/EnumFilter"),
            d = cc._decorator,
            f = d.ccclass,
            y = d.property,
            m = function() {
                function t() {
                    this.Name = "", this.SpriteFrame = null
                }
                return a([y(String)], t.prototype, "Name", void 0), a([y(cc.SpriteFrame)], t.prototype, "SpriteFrame", void 0), a([f("TargetIcon")], t)
            }();
        (function(t) {
            t[t.ITEM_SUMMON = 0] = "ITEM_SUMMON", t[t.ITEM_FREEZE = 1] = "ITEM_FREEZE", t[t.COIN = 2] = "COIN"
        })(n.AwardIndex || (n.AwardIndex = {})),
        function(t) {
            t[t.INIT = 0] = "INIT", t[t.UPDATE_DATA = 1] = "UPDATE_DATA", t[t.GETTING_AWARD = 2] = "GETTING_AWARD", t[t.WAIT_UPDATE = 3] = "WAIT_UPDATE"
        }(s = n.MisProcStates || (n.MisProcStates = {}));
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.EVENT_MISSION_COMPLETED = null, e.EVENT_GETAWARD_COMPLETED = null, e.EVENT_TOUCH_CHANGE_LAYOUT = null, e.EVENT_ERROR_RETURN_LOBBY = null, e.m_nodeRoot = null, e.m_nodeArrow = null, e.m_nodeCompleteEffect = null, e.m_NodeDrag = null, e.m_labTarget = null, e.m_labCurProgress = null, e.m_spTargetIcon = null, e.m_aryTargetIconCommon = [], e.m_aryTargetIconTD = [], e.m_aryTargetIconMTY = [], e.m_aryTargetIconALD = [], e.m_aryTargetIconZB = [], e.m_aryTargetIconKK = [], e.m_aryTargetIcon = {}, e.m_aryAwardIcon = [], e.m_spAwardIcon = null, e.m_labAwardCount = null, e.m_TargetCount = 0, e.m_CurCount = 0, e.m_FishMissionAward = null, e.m_FishMissionData = null, e.m_BaseParentNode = null, e.m_iCurQuestLevel = -1, e.m_iState = s.INIT, e
            }
            return o(e, t), e.prototype.Init = function(t) {
                switch (this.m_BaseParentNode = t, this.m_FishMissionAward = null, this.m_labTarget.string = "", this.m_labCurProgress.string = "", this.m_labAwardCount.string = "", this.m_CurCount = 0, this.m_TargetCount = 0, this.m_nodeArrow.active = !0, this.m_iCurQuestLevel = -1, this.m_nodeCompleteEffect.opacity = 0, this.m_spTargetIcon.node.active = !1, this.m_spAwardIcon.node.active = !1, SS.Common.GameEnvironment.CurrentGameNow) {
                    case p.FishGame.TD:
                        this.InitTargetIcon(this.m_aryTargetIconTD);
                        break;
                    case p.FishGame.MTY:
                        this.InitTargetIcon(this.m_aryTargetIconMTY);
                        break;
                    case p.FishGame.ALD:
                        this.InitTargetIcon(this.m_aryTargetIconALD);
                        break;
                    case p.FishGame.ZB:
                        this.InitTargetIcon(this.m_aryTargetIconZB);
                        break;
                    case p.FishGame.KK:
                        this.InitTargetIcon(this.m_aryTargetIconKK);
                        break;
                    case p.FishGame.LS:
                    case p.FishGame.MF:
                    case p.FishGame.BS:
                    case p.FishGame.CIR:
                        this.InitTargetIcon()
                }
            }, e.prototype.UpdateMissionData = function(t) {
                if (this.m_iState != s.GETTING_AWARD) {
                    this.m_iState = s.UPDATE_DATA, this.m_FishMissionData = t, this.m_iCurQuestLevel = t.QuestLevel, this.SetTargetData(t);
                    var e = this.GetAwardIconIndex(t.Award.ItemID[0]); - 1 != e ? (this.m_FishMissionAward = t.Award, this.m_spAwardIcon.node.active = !0, this.m_spAwardIcon.spriteFrame = this.m_aryAwardIcon[e], this.m_labAwardCount.string = t.Award.ItemAmount.toString()) : (this.m_spAwardIcon.node.active = !1, console.error("awardID = %s, can not find index", t.Award.ItemID[0]))
                }
            }, e.prototype.UpdateCurrentProgress = function(t, e) {
                if (this.m_iState == s.UPDATE_DATA) {
                    if (this.m_FishMissionData.Status != h.FishUserQuestDataStatus.AWARD_AVAILAALDE && this.m_FishMissionData.QuestLevel > this.m_iCurQuestLevel) return console.error("UpdateCurrentProgress error, curProgress = " + t + ", targetCount = " + e + ", this.m_iCurQuestLevel = " + this.m_iCurQuestLevel + ", this.m_FishMissionData.QuestLevel = " + this.m_FishMissionData.QuestLevel), void(null != this.EVENT_ERROR_RETURN_LOBBY && this.EVENT_ERROR_RETURN_LOBBY("C43"));
                    this.m_CurCount = t, this.m_TargetCount = e, this.m_labCurProgress.string = this.m_CurCount + " / " + this.m_TargetCount, this.m_nodeArrow.active = !0, this.m_nodeCompleteEffect.opacity = 0, this.m_CurCount == this.m_TargetCount && (this.m_iState = s.GETTING_AWARD, null != this.EVENT_MISSION_COMPLETED && this.EVENT_MISSION_COMPLETED(this.m_FishMissionData.QuestID, this.m_FishMissionData.QuestLevel), this.OnCompleteMission())
                }
            }, e.prototype.OnCompleteMission = function() {
                var t = this;
                this.m_FishMissionData.Status = h.FishUserQuestDataStatus.AWARD_CLAIMED, this.m_labTarget.string = "Congratulations!", this.m_labCurProgress.string = "A Goal Completed", this.m_nodeArrow.active = !1, this.m_spAwardIcon.node.active = !1, this.m_labAwardCount.string = "", this.m_nodeCompleteEffect.opacity = 0, this.m_nodeCompleteEffect.runAction(cc.fadeIn(.3));
                var e = cc.sequence(cc.scaleTo(.5, 1.5).easing(cc.easeBackOut()), cc.scaleTo(.5, 1).easing(cc.easeBackIn()));
                this.m_spTargetIcon.node.runAction(e);
                var n = this.m_FishMissionAward.ItemID[0],
                    i = this.m_FishMissionAward.ItemAmount[0],
                    o = this.m_BaseParentNode.getPosition().add(this.node.getPosition().add(this.m_spAwardIcon.node.getPosition())),
                    a = l.PlayerManager.MainSeat > 1 ? l.PlayerManager.MainSeat - 2 : l.PlayerManager.MainSeat;
                c.default.Instance.DropItemEffectByMission(l.PlayerManager.MainSeat, a, n, i, o, function() {
                    var e = cc.sequence(cc.fadeOut(.3), cc.callFunc(function() {
                        t.m_iState = s.WAIT_UPDATE, null != t.EVENT_GETAWARD_COMPLETED && t.EVENT_GETAWARD_COMPLETED()
                    }));
                    t.m_nodeCompleteEffect.runAction(e)
                })
            }, e.prototype.OnTouchBaord = function() {
                null != this.EVENT_TOUCH_CHANGE_LAYOUT && this.EVENT_TOUCH_CHANGE_LAYOUT()
            }, e.prototype.Clear = function() {
                this.m_FishMissionAward = null, this.m_FishMissionData = null, this.m_labTarget.string = "", this.m_labCurProgress.string = "", this.m_labAwardCount.string = "", this.m_CurCount = 0, this.m_TargetCount = 0, this.m_nodeArrow.active = !0, this.m_spTargetIcon.node.active = !1, this.m_spAwardIcon.node.active = !1, this.m_iCurQuestLevel = -1, this.m_iState = s.INIT
            }, e.prototype.GetAwardIconIndex = function(t) {
                switch (t) {
                    case r.ITEM_ID.SUMMON:
                        return 0;
                    case r.ITEM_ID.FREEZE:
                        return 1;
                    default:
                        return -1
                }
            }, e.prototype.SetTargetData = function(t) {
                var e = "";
                switch (t.CustomerType) {
                    case h.FishQustObjectiveType.GET_ANY_FISH:
                        e = "Catch any fish", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.GET_ANY_FISH;
                        break;
                    case h.FishQustObjectiveType.USE_ANY_ITEM:
                        e = "Use any item", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.USE_ANY_ITEM;
                        break;
                    case h.FishQustObjectiveType.ANY_CRAB:
                        e = "Catch any feature crab", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.ANY_CRAB;
                        break;
                    case h.FishQustObjectiveType.GET_FISH:
                        e = "Catch the target";
                        var n = t.CustomerInfo.FishName;
                        this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon[n]
                }
                this.m_spTargetIcon.spriteFrame ? (this.m_labTarget.string = e, this.m_spTargetIcon.node.active = !0, this.UpdateCurrentProgress(t.CustomerAmount, t.CustomerGate)) : (this.m_spTargetIcon.node.active = !1, console.error("fishType = %s, can not find index", t.CustomerInfo.FishName))
            }, e.prototype.InitTargetIcon = function(t) {
                if (t)
                    for (var e = 0; e < t.length; e++) this.m_aryTargetIcon[t[e].Name] = t[e].SpriteFrame;
                for (e = 0; e < this.m_aryTargetIconCommon.length; e++) this.m_aryTargetIcon.hasOwnProperty(this.m_aryTargetIconCommon[e].Name) || (this.m_aryTargetIcon[this.m_aryTargetIconCommon[e].Name] = this.m_aryTargetIconCommon[e].SpriteFrame)
            }, a([y(cc.Node)], e.prototype, "m_nodeRoot", void 0), a([y(cc.Node)], e.prototype, "m_nodeArrow", void 0), a([y(cc.Node)], e.prototype, "m_nodeCompleteEffect", void 0), a([y(u.MissionNodeDrag)], e.prototype, "m_NodeDrag", void 0), a([y(cc.Label)], e.prototype, "m_labTarget", void 0), a([y(cc.Label)], e.prototype, "m_labCurProgress", void 0), a([y(cc.Sprite)], e.prototype, "m_spTargetIcon", void 0), a([y([m])], e.prototype, "m_aryTargetIconCommon", void 0), a([y([m])], e.prototype, "m_aryTargetIconTD", void 0), a([y([m])], e.prototype, "m_aryTargetIconMTY", void 0), a([y([m])], e.prototype, "m_aryTargetIconALD", void 0), a([y([m])], e.prototype, "m_aryTargetIconZB", void 0), a([y([m])], e.prototype, "m_aryTargetIconKK", void 0), a([y([cc.SpriteFrame])], e.prototype, "m_aryAwardIcon", void 0), a([y(cc.Sprite)], e.prototype, "m_spAwardIcon", void 0), a([y(cc.Label)], e.prototype, "m_labAwardCount", void 0), a([f], e)
        }(cc.Component);
        n.default = g, cc._RF.pop()
    }, {
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Item/ItemManager": "ItemManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../System/ItemSystem": "ItemSystem",
        "./FishMissionData": "FishMissionData",
        "./MissionNodeDrag": "MissionNodeDrag"
    }],
    MissionInfoPageCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bf7b1LoIrFHEoPAYtfizUBR", "MissionInfoPageCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.EVENT_CLOSE = null, e
                }
                return o(e, t), e.prototype.OnClose = function() {
                    null != this.EVENT_CLOSE && this.EVENT_CLOSE()
                }, a([r], e)
            }(cc.Component));
        n.default = c, cc._RF.pop()
    }, {}],
    MissionManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "23074GzAVhO2LBqIAVBezyx", "MissionManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishMissionLayout = void 0;
        var c, l = t("../../../../FishCommon/Script/ClickLogDef"),
            h = t("../../../../LobbyCommon/Net/LobbyClient"),
            u = t("../MainGame/Common/ResourceManager"),
            p = t("./FishMissionData"),
            d = t("./MissionCtrl"),
            f = t("./MissionInfoPageCtrl"),
            y = cc._decorator,
            m = y.ccclass,
            g = y.property;
        (function(t) {
            t[t.Layout1 = 0] = "Layout1", t[t.Layout2 = 1] = "Layout2"
        })(c = n.FishMissionLayout || (n.FishMissionLayout = {}));
        var S = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.NODE_POS_WIDTH_MIN = -410, e.NODE_POS_WIDTH_MAX = 310, e.NODE_POS_HEIGHT_MIN = -130, e.NODE_POS_HEIGHT_MAX = 100, e.m_nodeRoot = null, e.m_nodeLayoutRoot = null, e.m_nodeL1Root = null, e.m_nodeL2Root = null, e.m_nodeAllMissionsComplete = null, e.m_pfMission = null, e.m_nodeBtnMinimize = null, e.m_nodeBtnMaxminize = null, e.m_nodeL2BtnSwiechLayout = null, e.m_btnL1PageNexp = null, e.m_btnL1PagePre = null, e.m_aryTimerAnchor = [], e.m_labTimer = null, e.m_nodeTimerBg = null, e.m_aryMissionCtrl = [], e.m_isMissionEnd = [], e.m_LayoutStyle = c.Layout1, e.m_iShowL1Index = 0, e.m_EndTimer = null, e.m_isFirstJoinGame = !0, e.m_MissionSystem = null, e.m_nodeInfo = null, e.m_MissionInfoPageCtrlALD = null, e
            }
            return o(e, t), e.prototype.Init = function(t, e) {
                this.m_MissionSystem = t, this.m_MissionSystem.EVENT_UPDATE_MISSION_DATA = this.UpdateMissionData.bind(this), this.m_MissionSystem.EVENT_UPDATE_TIMER = this.UpdateTimer.bind(this), this.m_MissionSystem.EVENT_TIME_UP = this.OnTimeUp.bind(this), this.m_MissionSystem.EVENT_UPDATE_MISSION_PROGRESS = this.UpaateMissionProgress.bind(this), this.m_nodeAllMissionsComplete.active = !1, this.m_nodeRoot.active = !1, this.m_nodeTimerBg.active = !1, this.m_labTimer.node.active = !1, this.m_nodeBtnMinimize.active = !0, this.m_nodeBtnMaxminize.active = !1, this.m_iShowL1Index = 0, this.InitMission(e), this.OnShowLayout1()
            }, e.prototype.UpdateTimer = function(t, e) {
                var n = t % 60,
                    i = Math.floor(t / 60) % 60,
                    o = Math.floor(t / 3600),
                    a = Math.floor(o / 24);
                o %= 24, e = (e = (e = (e = e.replace("{sec}", this.AddZero(n))).replace("{min}", this.AddZero(i))).replace("{hr}", this.AddZero(o))).replace("{day}", a.toString()), this.m_labTimer && (this.m_labTimer.string = e, this.m_labTimer.node.color = 0 == o ? cc.Color.RED : cc.Color.WHITE)
            }, e.prototype.AddZero = function(t) {
                return t < 10 ? "0" + t.toString() : t.toString()
            }, e.prototype.OnTimeUp = function() {
                this.CloseMission()
            }, e.prototype.InitMission = function(t) {
                if (this.m_nodeRoot.active = !0, 0 == this.m_aryMissionCtrl.length)
                    for (var e = 0; e < t; e++) {
                        this.m_isMissionEnd[e] = !1;
                        var n = cc.instantiate(this.m_pfMission);
                        n.parent = this.m_nodeL1Root, this.m_aryMissionCtrl[e] = n.getComponent(d.default), this.m_aryMissionCtrl[e].Init(this.node), this.m_aryMissionCtrl[e].EVENT_MISSION_COMPLETED = this.OnMissionCompeted.bind(this), this.m_aryMissionCtrl[e].EVENT_GETAWARD_COMPLETED = this.OnGetAwardComplete.bind(this), this.m_aryMissionCtrl[e].EVENT_TOUCH_CHANGE_LAYOUT = this.OnSwitchLayout.bind(this), this.m_aryMissionCtrl[e].EVENT_ERROR_RETURN_LOBBY = this.OnGetDataError.bind(this)
                    }
            }, e.prototype.UpdateMissionData = function(t) {
                !t || this.m_nodeRoot.activeInHierarchy || this.CheckMissionIsAllCompleted() || (this.m_nodeRoot.active = !0), t.sort(this.cmpPriority);
                for (var e = 0; e < t.length; e++) null != this.m_aryMissionCtrl[e] && (t[e].Status == p.FishUserQuestDataStatus.AWARD_CLAIMED ? (this.m_isMissionEnd[e] = !0, this.m_aryMissionCtrl[e].m_FishMissionData = t[e], this.m_aryMissionCtrl[e].node.active = !1, this.SetTimerPosition(), this.m_LayoutStyle == c.Layout1 && this.m_iShowL1Index == e && this.OnClickNextPage()) : (this.m_aryMissionCtrl[e].node.activeInHierarchy || (this.m_aryMissionCtrl[e].node.active = !0), this.m_aryMissionCtrl[e].UpdateMissionData(t[e])));
                this.CheckMissionIsAllCompleted() ? this.m_isFirstJoinGame ? this.CloseMission() : this.AllMissionsCompleted() : this.UpdateLayout()
            }, e.prototype.UpaateMissionProgress = function(t) {
                this.m_isFirstJoinGame = !1;
                for (var e = 0, n = 0; n < t.length; n++) t[n].Status == p.FishUserQuestDataStatus.AWARD_AVAILAALDE && e++;
                if (e > 1 && this.m_LayoutStyle == c.Layout1) this.UpaateMissionProgressDelay(t);
                else
                    for (n = 0; n < t.length; n++) {
                        var i = this.FindCtrlByQuestID(t[n].QuestID);
                        null != i && i.m_FishMissionData.Status != p.FishUserQuestDataStatus.AWARD_CLAIMED && i.UpdateCurrentProgress(i.m_FishMissionData.CustomerAmount, i.m_FishMissionData.CustomerGate)
                    }
            }, e.prototype.UpaateMissionProgressDelay = function(t) {
                return s(this, void 0, void 0, function() {
                    var e, n, i, o;
                    return r(this, function(a) {
                        switch (a.label) {
                            case 0:
                                e = 0, n = !1, a.label = 1;
                            case 1:
                                return e < t.length ? null == (i = this.FindCtrlByQuestID(t[e].QuestID)) ? [3, 5] : (o = i.m_FishMissionData.Status) != p.FishUserQuestDataStatus.AWARD_CLAIMED ? [3, 2] : [3, 1] : [3, 6];
                            case 2:
                                return o != p.FishUserQuestDataStatus.AWARD_AVAILAALDE || n ? [3, 4] : [4, SS.Common.WaitForSeconds(1.5)];
                            case 3:
                                a.sent(), a.label = 4;
                            case 4:
                                i.UpdateCurrentProgress(i.m_FishMissionData.CustomerAmount, i.m_FishMissionData.CustomerGate), a.label = 5;
                            case 5:
                                return e++, [3, 1];
                            case 6:
                                return [2]
                        }
                    })
                })
            }, e.prototype.FindCtrlByQuestID = function(t) {
                for (var e = 0; e < this.m_aryMissionCtrl.length; e++)
                    if (null != this.m_aryMissionCtrl[e].m_FishMissionData && this.m_aryMissionCtrl[e].m_FishMissionData.QuestID == t) return this.m_aryMissionCtrl[e];
                return null
            }, e.prototype.cmpPriority = function(t, e) {
                return t.Priority - e.Priority
            }, e.prototype.CheckMissionIsAllCompleted = function() {
                for (var t = !0, e = 0; e < this.m_isMissionEnd.length; e++) this.m_isMissionEnd[e] || (t = !1);
                return t
            }, e.prototype.GetTimerShowPos = function() {
                return this.CheckMissionIsAllCompleted() ? 0 : this.m_LayoutStyle == c.Layout1 ? 1 : this.GetAliveQuestID()
            }, e.prototype.GetAliveQuestID = function() {
                for (var t = 0, e = 0; e < this.m_isMissionEnd.length; e++) this.m_isMissionEnd[e] || t++;
                return t
            }, e.prototype.UpdateLayout = function() {
                this.m_LayoutStyle == c.Layout1 ? (this.SwitchLayer1Page(this.m_iShowL1Index), this.SetTimerPosition()) : this.OnShowLayout2()
            }, e.prototype.OnShowLayout1 = function() {
                this.m_LayoutStyle = c.Layout1, this.m_nodeL1Root.active = !0, this.m_nodeL2Root.active = !1;
                for (var t = 0; t < this.m_aryMissionCtrl.length; t++) this.m_isMissionEnd[t] || (this.m_aryMissionCtrl[t].node.parent = this.m_nodeL1Root, this.m_aryMissionCtrl[t].node.setPosition(cc.Vec2.ZERO));
                this.SwitchLayer1Page(this.m_iShowL1Index), this.SetTimerPosition()
            }, e.prototype.OnShowLayout2 = function() {
                this.m_LayoutStyle = c.Layout2, this.m_nodeL1Root.active = !1, this.m_nodeL2Root.active = !0;
                for (var t = 0; t < this.m_aryMissionCtrl.length; t++) this.m_isMissionEnd[t] || (this.m_aryMissionCtrl[t].node.active = !0, this.m_aryMissionCtrl[t].node.parent = this.m_nodeL2Root);
                this.SetTimerPosition()
            }, e.prototype.SwitchLayer1Page = function(t) {
                if (!this.CheckMissionIsAllCompleted())
                    if (1 == this.GetAliveQuestID() ? (this.m_btnL1PageNexp.node.active = !1, this.m_btnL1PagePre.node.active = !1) : (this.m_btnL1PageNexp.node.activeInHierarchy || (this.m_btnL1PageNexp.node.active = !0), this.m_btnL1PagePre.node.activeInHierarchy || (this.m_btnL1PagePre.node.active = !0)), this.m_isMissionEnd[t]) this.OnClickNextPage();
                    else
                        for (var e = 0; e < this.m_aryMissionCtrl.length; e++) this.m_aryMissionCtrl[e].node.active = e == t
            }, e.prototype.SetTimerPosition = function() {
                var t = this.GetTimerShowPos();
                if (t <= 0) return this.m_nodeTimerBg.active = !1, void(this.m_labTimer.node.active = !1);
                var e = t - 1;
                e < 0 && (e = 0), this.m_nodeTimerBg.active = !0, this.m_labTimer.node.active = !0, this.m_nodeTimerBg.parent = this.m_aryTimerAnchor[e], this.m_labTimer.node.parent = this.m_aryTimerAnchor[e], this.m_nodeTimerBg.setPosition(cc.Vec2.ZERO), this.m_labTimer.node.setPosition(new cc.Vec2(0, -1)), this.m_LayoutStyle == c.Layout2 && t > 1 ? (this.m_nodeL2BtnSwiechLayout.active = !0, this.m_nodeL2BtnSwiechLayout.parent = this.m_aryTimerAnchor[e], this.m_nodeL2BtnSwiechLayout.setPosition(new cc.Vec2(0, -35))) : this.m_nodeL2BtnSwiechLayout.active = !1
            }, e.prototype.OnMissionCompeted = function(t) {
                if (this.m_nodeBtnMaxminize.activeInHierarchy) this.OnMaximizeLayout(), this.OnShowLayout1(), this.scheduleOnce(this.OnMinimizeLayout.bind(this), 5);
                else if (this.m_LayoutStyle != c.Layout1) return;
                for (var e = 0; e < this.m_aryMissionCtrl.length; e++)
                    if (this.m_aryMissionCtrl[e].m_FishMissionData.QuestID == t) {
                        this.m_iShowL1Index = e, this.SwitchLayer1Page(this.m_iShowL1Index);
                        break
                    }
            }, e.prototype.OnGetAwardComplete = function() {
                null != this.m_MissionSystem && this.m_MissionSystem.SendGetMissionInfoCmd()
            }, e.prototype.OnGetDataError = function(t) {
                null != this.m_MissionSystem && this.m_MissionSystem.OnGetDataError(t)
            }, e.prototype.AllMissionsCompleted = function() {
                var t = this;
                this.OnCloseInfo(), this.m_nodeLayoutRoot.active = !1, this.m_nodeBtnMinimize.active = !1, this.m_nodeBtnMaxminize.active = !1, this.m_nodeAllMissionsComplete.active = !0, this.m_nodeAllMissionsComplete.opacity = 0;
                var e = cc.spawn(cc.scaleTo(1, 1).easing(cc.easeBackIn()), cc.fadeIn(.5));
                this.m_nodeAllMissionsComplete.runAction(e), clearTimeout(this.m_EndTimer), this.m_EndTimer = setTimeout(function() {
                    var e = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(1, 0).easing(cc.easeBackIn()), cc.fadeOut(.5)), cc.callFunc(function() {
                        t.OnCloseMissionCompleteTitle()
                    }));
                    t.m_nodeAllMissionsComplete.runAction(e)
                }, 18e4)
            }, e.prototype.CloseMission = function() {
                this.m_iShowL1Index = 0, this.m_nodeRoot.active = !1, this.m_nodeAllMissionsComplete.active = !1, this.m_nodeAllMissionsComplete.opacity = 0;
                for (var t = 0; t < this.m_aryMissionCtrl.length; t++) this.m_isMissionEnd[t] = !1, this.m_aryMissionCtrl[t].Clear(), this.m_aryMissionCtrl[t].node.active = !1, this.m_aryMissionCtrl[t].node.parent = this.m_nodeL1Root;
                this.OnMaximizeLayout()
            }, e.prototype.OnMinimizeLayoutCallByPlayer = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.MINI_LAYOUT), this.OnMinimizeLayout()
            }, e.prototype.OnMinimizeLayout = function() {
                this.m_nodeLayoutRoot.active = !1, this.m_nodeBtnMinimize.active = !1, this.m_nodeBtnMaxminize.active = !0
            }, e.prototype.OnMaximizeLayoutCallByPlayer = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.MAX_LAYOUT), this.OnMaximizeLayout()
            }, e.prototype.OnMaximizeLayout = function() {
                this.m_nodeLayoutRoot.active = !0, this.m_nodeBtnMinimize.active = !0, this.m_nodeBtnMaxminize.active = !1, this.unschedule(this.OnMinimizeLayout.bind(this))
            }, e.prototype.OnCloseMissionCompleteTitle = function() {
                clearTimeout(this.m_EndTimer), this.CloseMission()
            }, e.prototype.OnSwitchLayout = function() {
                this.m_LayoutStyle == c.Layout1 ? (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SWITCH_LAYOUT_STRAIGHT), this.OnShowLayout2()) : (this.m_iShowL1Index = 0, h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SWITCH_LAYOUT_HORIZONTAL), this.OnShowLayout1())
            }, e.prototype.OnClickNextPage = function() {
                this.m_LayoutStyle == c.Layout1 && (this.CheckMissionIsAllCompleted() || (this.m_iShowL1Index++, this.m_iShowL1Index > this.m_aryMissionCtrl.length - 1 && (this.m_iShowL1Index = 0), this.m_isMissionEnd[this.m_iShowL1Index] ? this.OnClickNextPage() : (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.NEXT_PAGE), this.SwitchLayer1Page(this.m_iShowL1Index))))
            }, e.prototype.OnClickPrePage = function() {
                this.m_LayoutStyle == c.Layout1 && (this.CheckMissionIsAllCompleted() || (this.m_iShowL1Index--, this.m_iShowL1Index < 0 && (this.m_iShowL1Index = this.m_aryMissionCtrl.length - 1), this.m_isMissionEnd[this.m_iShowL1Index] ? this.OnClickPrePage() : (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.PRE_PAGE), this.SwitchLayer1Page(this.m_iShowL1Index))))
            }, e.prototype.OnShowInfo = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SHOW_INFO), null == this.m_nodeInfo ? (this.m_nodeInfo = u.default.LoadGUI("FishMissionInfo"), this.m_nodeInfo.setPosition(cc.Vec2.ZERO), this.m_MissionInfoPageCtrlALD = this.m_nodeInfo.getComponent(f.default), this.m_MissionInfoPageCtrlALD.EVENT_CLOSE = this.OnCloseInfo.bind(this)) : this.m_nodeInfo.active = !0
            }, e.prototype.OnCloseInfo = function() {
                null != this.m_nodeInfo && (this.m_nodeInfo.active = !1)
            }, a([g(cc.Node)], e.prototype, "m_nodeRoot", void 0), a([g(cc.Node)], e.prototype, "m_nodeLayoutRoot", void 0), a([g(cc.Node)], e.prototype, "m_nodeL1Root", void 0), a([g(cc.Node)], e.prototype, "m_nodeL2Root", void 0), a([g(cc.Node)], e.prototype, "m_nodeAllMissionsComplete", void 0), a([g(cc.Prefab)], e.prototype, "m_pfMission", void 0), a([g(cc.Node)], e.prototype, "m_nodeBtnMinimize", void 0), a([g(cc.Node)], e.prototype, "m_nodeBtnMaxminize", void 0), a([g(cc.Node)], e.prototype, "m_nodeL2BtnSwiechLayout", void 0), a([g(cc.Button)], e.prototype, "m_btnL1PageNexp", void 0), a([g(cc.Button)], e.prototype, "m_btnL1PagePre", void 0), a([g([cc.Node])], e.prototype, "m_aryTimerAnchor", void 0), a([g(cc.Label)], e.prototype, "m_labTimer", void 0), a([g(cc.Node)], e.prototype, "m_nodeTimerBg", void 0), a([m], e)
        }(cc.Component);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/ClickLogDef": void 0,
        "../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "./FishMissionData": "FishMissionData",
        "./MissionCtrl": "MissionCtrl",
        "./MissionInfoPageCtrl": "MissionInfoPageCtrl"
    }],
    MissionNodeDrag: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c1ab8GGrbJH4o1Sep3lAzR+", "MissionNodeDrag");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.MissionNodeDrag = void 0;
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMoveRoot = null, e.m_fMinWidth = -410, e.m_fMaxWidth = 410, e.m_fMinHeight = -210, e.m_fMaxHeight = 275, e.dragMovePos = cc.Vec2.ZERO, e.m_bIsLocked = !1, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.m_nodeMoveRoot = t, this.screenSize = cc.view.getVisibleSize(), this.node.on(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.on(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, e.prototype.onDestroy = function() {
                    this.node.off(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.off(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, e.prototype.OnDragInit = function() {
                    this.m_bIsLocked || (this.dragMovePos = cc.Vec2.ZERO, this.isDraging = !1, null != this.Event_DragStart && this.Event_DragStart())
                }, e.prototype.OnDragItem = function(t) {
                    if (!this.m_bIsLocked && (this.dragMovePos = t.getDelta(), !(this.dragMovePos.mag() < 1.5) || this.isDraging)) {
                        this.isDraging = !0;
                        var e = this.m_nodeMoveRoot.getPosition(),
                            n = new cc.Vec2(e.x + this.dragMovePos.x, e.y + this.dragMovePos.y);
                        n.x = SS.Common.BaseFunction.Clamp(this.m_fMinWidth, this.m_fMaxWidth, n.x), n.y = SS.Common.BaseFunction.Clamp(this.m_fMinHeight, this.m_fMaxHeight, n.y), this.m_nodeMoveRoot.setPosition(n)
                    }
                }, e.prototype.OnDragEnd = function() {
                    this.isDraging ? null != this.Event_DragEnd && this.Event_DragEnd() : null != this.Event_ClickItem && this.Event_ClickItem()
                }, e.prototype.setLocked = function(t) {
                    this.m_bIsLocked = t
                }, a([c(cc.Float)], e.prototype, "m_fMinWidth", void 0), a([c(cc.Float)], e.prototype, "m_fMaxWidth", void 0), a([c(cc.Float)], e.prototype, "m_fMinHeight", void 0), a([c(cc.Float)], e.prototype, "m_fMaxHeight", void 0), a([r], e)
            }(cc.Component);
        n.MissionNodeDrag = l, cc._RF.pop()
    }, {}],
    MissionSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "69f7fzorB9Lt4mAfxtx95ui", "MissionSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../LobbyCommon/Net/LobbyClient"),
            r = t("../GameClient"),
            c = t("../MainGame/Common/EnumFilter"),
            l = t("../MainGame/Common/ResourceManager"),
            h = t("../Mission/FishMissionData"),
            u = t("../Mission/MissionManager"),
            p = cc._decorator,
            d = p.ccclass,
            f = (p.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.EVENT_ERROR_RETURN_LOBBY = null, e.m_aryMissionData = [], e.EVENT_UPDATE_MISSION_DATA = null, e.EVENT_UPDATE_TIMER = null, e.EVENT_TIME_UP = null, e.EVENT_UPDATE_MISSION_PROGRESS = null, e.m_TimerIntervalID = -1, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.m_iCountDownTime = 0, e.m_MissionManager = null, e.GAME_THEME_ID = -1, e
                }
                return o(e, t), e.prototype.onGetFishMissionProgress = function(t) {
                    console.warn("onGetFishMissionProgressdata: " + JSON.stringify(t));
                    var e = t[900004].UserQuestData;
                    this.ParseFishMissionQuestData(e)
                }, e.prototype.SendGetMissionInfoCmd = function() {
                    console.warn("SendCmd GetMissionBonusInfo"), null != s.LobbyClient.Instance.m_CommonEventInfo_900004 && s.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.RecMissionInfo.bind(this))
                }, e.prototype.RecMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var n = e.cmd_data[900004];
                        if (n && 0 == n.result) {
                            var i = JSON.stringify(n.data);
                            if (this.ParseMisInfo(i)) {
                                if (null == this.m_MissionManager) {
                                    var o = l.default.LoadGUI("FishMission");
                                    o.setPosition(new cc.Vec2(0, 180)), this.m_MissionManager = o.getComponent(u.default), this.m_MissionManager.Init(this, this.m_aryMissionData.length), r.default.FishUIMgr.RegisterMouseEvent(o)
                                }
                                this.InitTimer(), null != this.EVENT_UPDATE_MISSION_DATA && this.EVENT_UPDATE_MISSION_DATA(this.m_aryMissionData)
                            }
                        }
                    } else {
                        var a;
                        a = t == ArkSDK.HttpResult.Abort ? "S176" : t == ArkSDK.HttpResult.Condition ? "S177" : t == ArkSDK.HttpResult.Error ? "S180" : t == ArkSDK.HttpResult.NotReset ? "S178" : t == ArkSDK.HttpResult.Status ? "S179" : t == ArkSDK.HttpResult.Timeout ? "S181" : "S182", this.OnGetDataError(a)
                    }
                }, e.prototype.OnGetDataError = function(t) {
                    console.warn("\u6536\u5230\u9b5a\u6a5f\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 \u56de\u5927\u5ef3"), null != this.EVENT_ERROR_RETURN_LOBBY && this.EVENT_ERROR_RETURN_LOBBY(t)
                }, e.prototype.ParseMisInfo = function(t) {
                    console.log("\u6536\u5230\u9b5a\u6a5f\u4efb\u52d9 ParseMisInfo = " + t);
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var n = e.QuestList,
                                i = e.UserQuestData;
                            if (this.m_aryMissionData = [], 0 == n.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var o = !1, a = 0; a < n.length; a++) {
                                var s = new h.FishMissionData,
                                    r = n[a],
                                    c = r.TitleType,
                                    l = r.GameThemeID;
                                if (this.GAME_THEME_ID < 0 && this.SetGameThemeID(), 200 == c && l == this.GAME_THEME_ID) {
                                    console.warn("\u91d1\u525b\u4efb\u52d9\u8cc7\u8a0a %s", JSON.stringify(r)), o = !0, s.QuestID = r.QuestID, s.QuestLevel = r.QuestLevel, s.ThemeID = r.GameThemeID, s.CustomerGate = r.CustomGate, s.CustomerType = r.CustomType, s.CustomerInfo = r.CustomInfo, s.Priority = r.Priority, s.CycleSeconds = r.CycleSeconds, s.ExpireTimeUTC = r.ExpireTimeUTC;
                                    var u = r.Award;
                                    s.Award = new h.FishMissionAward, s.Award.AwardType = u.Type, s.Award.AwardEntries = u.AwardEntries, s.Award.AwardWinnings = u.AwardWinnings;
                                    for (var d = u.AwardItem, f = 0; f < d.length; f++) {
                                        var y = d[f],
                                            m = y.ItemID,
                                            g = y.Amount;
                                        g > 0 && (s.Award.ItemID[f] = m, s.Award.ItemAmount[f] = g)
                                    }
                                    for (var S = 0; S < i.length; S++) {
                                        var _ = i[S];
                                        if (s.QuestID == _.QuestID && s.QuestLevel == _.QuestLevel && s.ThemeID == _.GameThemeID) {
                                            s.CustomerAmount = _.CustomAmount, s.Status = _.Status;
                                            break
                                        }
                                    }
                                    this.m_aryMissionData.push(s)
                                }
                            }
                            return o
                        }
                        return !1
                    } catch (p) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.ParseFishMissionQuestData = function(t) {
                    for (var e = function(e) {
                            var i = t[e],
                                o = n.m_aryMissionData.find(function(t) {
                                    return t.QuestID == i.QuestID
                                });
                            if (null == o) return "continue";
                            o.ThemeID == i.GameThemeID && o.QuestID == i.QuestID && o.QuestLevel == i.QuestLevel && (o.Status = i.Status, o.CustomerAmount = i.CustomAmount), o.QuestLevel = i.QuestLevel
                        }, n = this, i = 0; i < t.length; i++) e(i);
                    null != this.EVENT_UPDATE_MISSION_PROGRESS && this.EVENT_UPDATE_MISSION_PROGRESS(this.m_aryMissionData)
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_aryMissionData.length; e++) {
                            var n = this.m_aryMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            n > 0 && n < t && (t = n)
                        }
                        console.log("InitTimer " + t), this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    console.warn("ForceSetTime" + t), this.PauseTimer(), this.m_iCountDownTime = t, this.UpdateUI(this.m_iCountDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? "ENDS IN: {day} days {hr}:{min}:{sec}" : "ENDS IN: {hr}:{min}:{sec}";
                    null != this.EVENT_UPDATE_TIMER && this.EVENT_UPDATE_TIMER(t, e)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID), this.m_TimerIntervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.m_TimerIntervalID)
                }, e.prototype.Timer = function(t) {
                    --t.m_iCountDownTime, t.m_iCountDownTime <= 0 && (t.m_iCountDownTime = 0, t.PauseTimer(), null != t.EVENT_TIME_UP && (t.EVENT_TIME_UP(), console.warn("\u6642\u9593\u5230\uff0c\u518d\u8981\u4e00\u6b21\u66f4\u65b0\u8cc7\u6599"), this.SendGetMissionInfoCmd())), t.UpdateUI(t.m_iCountDownTime)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID)
                }, e.prototype.CallMinimizeLayout = function() {
                    this.m_MissionManager && this.m_MissionManager.OnMinimizeLayout()
                }, e.prototype.SetGameThemeID = function() {
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case c.FishGame.BS:
                            this.GAME_THEME_ID = 179001;
                            break;
                        case c.FishGame.TD:
                            this.GAME_THEME_ID = 178001;
                            break;
                        case c.FishGame.MTY:
                            this.GAME_THEME_ID = 171001;
                            break;
                        case c.FishGame.ALD:
                            this.GAME_THEME_ID = 164001;
                            break;
                        case c.FishGame.ZB:
                            this.GAME_THEME_ID = 158001;
                            break;
                        case c.FishGame.KK:
                            this.GAME_THEME_ID = 152001;
                            break;
                        case c.FishGame.LS:
                            this.GAME_THEME_ID = 149001;
                            break;
                        case c.FishGame.MF:
                            this.GAME_THEME_ID = 148001
                    }
                }, a([d], e)
            }(cc.Component));
        n.default = f, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../GameClient": "GameClient",
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../Mission/FishMissionData": "FishMissionData",
        "../Mission/MissionManager": "MissionManager"
    }],
    MultiLangObjCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "0c7eaBB4WNHgYEvKCbN9sxN", "MultiLangObjCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./MultiLangSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function() {
                function t() {
                    this.Lang = s.Language.CHT, this.Obj = []
                }
                return a([l(cc.Enum)], t.prototype, "Lang", void 0), a([l([cc.Node])], t.prototype, "Obj", void 0), a([c("ObjData")], t)
            }(),
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.MultiLangObjs = [], e
                }
                return o(e, t), e.prototype.onEnable = function() {
                    for (var t = null, e = 0; e < this.MultiLangObjs.length; e++)
                        if (this.MultiLangObjs[e].Lang == s.default.UsingLang) t = this.MultiLangObjs[e];
                        else
                            for (var n = 0; n < this.MultiLangObjs[e].Obj.length; n++) this.MultiLangObjs[e].Obj[e].active = !1;
                    for (e = 0; e < t.Obj.length; e++) t.Obj[e].active = !0
                }, a([l([h])], e.prototype, "MultiLangObjs", void 0), a([c], e)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "./MultiLangSystem": "MultiLangSystem"
    }],
    MultiLangSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "01e23bNVwVNz6gj82ZLQvcZ", "MultiLangSystem");
        var i = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            o = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Language = void 0;
        var s, r = t("../../GameClient"),
            c = cc._decorator.ccclass;
        (function(t) {
            t.CHT = "CHT", t.CHS = "CHS", t.EN = "EN", t.KM = "KM"
        })(s = n.Language || (n.Language = {}));
        var l = function() {
            function t() {}
            return Object.defineProperty(t, "UsingLang", {
                get: function() {
                    return this._usingLang
                },
                enumerable: !1,
                configurable: !0
            }), t.isUsingLang = function(t) {
                return t == this._usingLang
            }, t.Init = function(t, e) {
                return o(this, void 0, void 0, function() {
                    var n, i;
                    return a(this, function(o) {
                        switch (o.label) {
                            case 0:
                                switch (t) {
                                    case "zh-tw":
                                        this._usingLang = s.CHT;
                                        break;
                                    case "zh-cn":
                                        this._usingLang = s.CHS;
                                        break;
                                    case "en-us":
                                    default:
                                        this._usingLang = s.EN
                                }
                                return n = this.getMultiLangUrl("FishHunter/Res/data/#ML#/TextList"), i = this, [4, r.default.Instance.loadJson(n)];
                            case 1:
                                return i.textList = o.sent(), e && e(), [2]
                        }
                    })
                })
            }, t.getMultiLangText = function(t) {
                return this.textList[t] ? this.textList[t] : ""
            }, t.getMultiLangUrl = function(t) {
                return t.replace("#ML#", this._usingLang)
            }, t._usingLang = null, t.textList = null, i([c], t)
        }();
        n.default = l, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient"
    }],
    NormalWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "327d9SWkxNErYnxD4jaBgLr", "NormalWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseWeapon"),
            r = t("./WeaponManager"),
            c = t("../Player/PlayerManager"),
            l = cc._decorator,
            h = l.ccclass,
            u = (l.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.mainPlayer = null, e.lastShootTime = (new Date).getTime(), e.shootGap = 100, e.autoShootGap = 170, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.Type = r.WeaponType.Normal, this.mainPlayer = c.PlayerManager.isMainSeat(e) ? c.PlayerManager.getPlayer(e) : null
                }, e.prototype.ShootState = function(t) {
                    if (!this.isGunReady) return 0;
                    if (this.mainPlayer && this.mainPlayer.entries < this.mainPlayer.bet_value) return 2;
                    if (c.PlayerManager.Instance.MaxBalance && this.mainPlayer.entries + this.mainPlayer.winning >= c.PlayerManager.Instance.MaxBalance) return 3;
                    var e = (new Date).getTime() - this.lastShootTime;
                    return e < this.shootGap ? 0 : !t && e < this.autoShootGap ? 0 : 1
                }, e.prototype.ShootFunction = function(e) {
                    t.prototype.ShootFunction.call(this, e), this.mainPlayer && (this.lastShootTime = (new Date).getTime(), c.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.mainPlayer.bet_value))
                }, a([h], e)
            }(s.default));
        n.default = u, cc._RF.pop()
    }, {
        "../Player/PlayerManager": "PlayerManager",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    OCTOPUS: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c486fcP9ktG8aUhUNLCiwtv", "OCTOPUS");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    PARITE_SHIP: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8febe4F4N5ALLGIMghoFmKZ", "PARITE_SHIP");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../Common/AudioManager"),
            l = t("./BaseFish"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.moveSound = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "animation", !0), this.moveSound = c.default.Instance.Play("Ghostship_move_01", .3, !0)
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = l.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), c.default.Instance.Play("Ghostship_die_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(3)
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                c.default.Instance.Play("41_catch_bigfish"), t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, e.prototype.FishOut = function(e) {
                    this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), t.prototype.FishOut.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, a([p(sp.Skeleton)], e.prototype, "skeleton", void 0), a([u], e)
            }(l.default);
        n.default = d, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    PIG: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "72edddNe91O/qTI0vzBzmjm", "PIG");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.PigEuler = void 0;
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Common/AudioManager"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property;
        (function(t) {
            t[t.Walk = 0] = "Walk", t[t.RunR = 1] = "RunR", t[t.RunL = 2] = "RunL", t[t.Cotcha = 3] = "Cotcha"
        })(c = n.PigEuler || (n.PigEuler = {}));
        var y = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.skeleton = null, e.SMR = [], e.ModelMat = null, e.RopeDummy = null, e.Hand = null, e.FollowNode = [], e.EffectCtrl = null, e.IdleEffect = null, e.PosAnchor = null, e.SmokeEffect = null, e.ice_group = [], e.color = cc.Color.WHITE, e.tween = null, e.newMat = [], e.eulerList = [cc.v3(5, 75, 30), cc.v3(40, -10, -10), cc.v3(40, 10, 10), cc.v3(40, 0, 0)], e.animNow = c.RunR, e.turnTween = null, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e.randomSeed = 0, e.moveTween = null, e.particalStartSize = [], e.particalEndSize = [], e.idleTimes = 0, e
            }
            return o(e, t), e.prototype.onLoad = function() {
                var t = this;
                this.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                    t.particalStartSize.push(e.startSize), t.particalEndSize.push(e.endSize)
                })
            }, e.prototype.update = function(e) {
                var n = this;
                if (t.prototype.update.call(this, e), this.tween && this.newMat.forEach(function(t) {
                        t.setProperty("diffuseColor", n.color)
                    }), !this.timerPause) {
                    this.eventTimer > 0 && !this.timerPause && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent()));
                    for (var i = !1, o = 0; o < this.FollowNode.length; o++)
                        if (o % 2 == 0) i = this.FollowNode[o].active;
                        else if (i) {
                        var a = this.FollowNode[o].convertToWorldSpaceAR(cc.Vec3.ZERO);
                        this.FollowNode[o - 1].setPosition(this.node.convertToNodeSpaceAR(a))
                    }
                }
            }, e.prototype.InitParameter = function() {
                var e = this;
                if (t.prototype.InitParameter.call(this), this.isFeature = !0, l.default.isReverse ? (this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1, this.node.scaleX = -1 == this.node.scaleY ? 1 : -1, this.node.angle = 0) : (this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1, this.node.scaleX = -1 == this.node.scaleY ? -1 : 1), this.node.angle = 0, this.node.setPosition(cc.Vec3.ZERO), this.color = cc.Color.WHITE, 0 == this.newMat.length) {
                    this.SMR.forEach(function(t) {
                        var n = cc.MaterialVariant.create(e.ModelMat, t);
                        e.newMat.push(n)
                    });
                    for (var n = 0; n < this.newMat.length; n++) this.SMR[n].setMaterial(0, this.newMat[n]), this.newMat[n].setProperty("diffuseColor", this.color)
                }
                this.eulerTurn(c.Walk), this.skeleton.unscheduleAllCallbacks(), this.skeleton.stop(), this.Hand.active = !1, this.randomSeed = parseInt(this.ID), this.PosAnchor.setPosition(cc.v2(-1e3, -150)), this.idleTimes = 1 + Math.floor(2 * this.randomBySeed()), this.Jump(550), this.ice_group.forEach(function(t) {
                    t.active = !1
                })
            }, e.prototype.RemoveSelf = function() {
                for (var e = this.getComponentsInChildren(cc.ParticleSystem), n = 0; n < e.length; n++) e[n].emissionRate = 0, e[n].startSize = this.particalStartSize[n], e[n].endSize = this.particalEndSize[n], e[n].resetSystem();
                t.prototype.RemoveSelf.call(this)
            }, e.prototype.RandomMove = function() {
                this.PosAnchor.getPosition().x >= 800 ? this.FishOut() : this.PosAnchor.getPosition().x >= 300 ? this.Jump(450) : 0 == this.idleTimes ? (this.idleTimes = 1 + Math.floor(2 * this.randomBySeed()), this.Jump()) : this.Idle()
            }, e.prototype.Jump = function(t) {
                void 0 === t && (t = 200), this.ResumeClip(), h.default.Instance.Play("Pig_move_01"), this.PlayClip("01_JUMP", !1, this.RandomMove.bind(this)), this.moveTween && this.moveTween.stop(), this.moveTween = cc.tween(this.PosAnchor).by(.65, {
                    position: cc.Vec3.RIGHT.mul(t)
                }, {
                    easing: "sineInOut"
                }).call(function() {
                    l.default.CameraShakeEffect(.1, 8)
                }).start(), this.IdleEffect.setPosition(cc.v2(this.PosAnchor.getPosition().x + 50, 0))
            }, e.prototype.Idle = function() {
                this.idleTimes--, h.default.Instance.Play("Pig_smile_01"), this.PlayClip("02_Stay_Idle", !1, this.RandomMove.bind(this))
            }, e.prototype.FishDie = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.EffectCtrl.play("Reset"), this.moveTween && this.moveTween.stop(), this.moveTween = null, this.animEvent = null, this.PauseClip(), this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                    })
                })
            }, e.prototype.FishOut = function() {
                this.EffectCtrl.play("Reset"), this.moveTween && this.moveTween.stop(), this.moveTween = null, this.animEvent = null, t.prototype.FishOut.call(this)
            }, e.prototype.ResetPos = function() {
                this.PosAnchor.setPosition(cc.Vec2.ZERO)
            }, e.prototype.OnHitFish = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return r(this, function() {
                        return this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.forEach(function(e) {
                            e.setProperty("diffuseColor", t.color)
                        })), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                            r: 200,
                            g: 0,
                            b: 0
                        }).to(.1, {
                            r: 255,
                            g: 255,
                            b: 255
                        })).call(function() {
                            t.tween = null, t.color = cc.Color.WHITE, t.newMat.forEach(function(e) {
                                e.setProperty("diffuseColor", t.color)
                            })
                        }).start(), [2]
                    })
                })
            }, e.prototype.PauseClip = function() {
                this.skeleton.pause(), this.moveTween && this.moveTween.stop(), this.timerPause = !0
            }, e.prototype.ResumeClip = function() {
                this.skeleton.resume(), this.moveTween && this.moveTween.start(), this.timerPause = !1
            }, e.prototype.PlayClip = function(t, e, n) {
                this.animEvent = null, this.skeleton.play(t);
                var i = this.skeleton.getAnimationState(t);
                i && (i.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, n && (this.eventTimer = i.duration, this.animEvent = n)), this.EffectCtrl.play(t)
            }, e.prototype.SetNextClip = function(t, e, n, i) {
                var o = this;
                this.animEvent = null;
                var a = this.skeleton.getAnimationState(this.skeleton.currentClip.name);
                a && (this.eventTimer = a.duration - a.time, this.animEvent = function() {
                    n && n(), o.PlayClip(t, e, i)
                }, this.eventTimer <= 0 && this.animEvent())
            }, Object.defineProperty(e.prototype, "getRopePos", {
                get: function() {
                    return this.RopeDummy.convertToWorldSpaceAR(cc.Vec2.ZERO)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.eulerTurn = function(t, e) {
                if (void 0 === e && (e = 0), null == t) return this.turnTween && this.turnTween.stop(), this.turnTween = null, void(this.animNow = null);
                this.animNow != t && (this.turnTween && this.turnTween.stop(), e > 0 ? this.turnTween = cc.tween(this.skeleton.node).to(e, {
                    eulerAngles: this.eulerList[t]
                }).start() : this.skeleton.node.eulerAngles = this.eulerList[t], this.animNow = t)
            }, e.prototype.ParticalHalfSize = function() {
                for (var t = this.getComponentsInChildren(cc.ParticleSystem), e = 0; e < t.length; e++) t[e].startSize = this.particalStartSize[e] / 2, t[e].endSize = this.particalEndSize[e] / 2
            }, e.prototype.EnableSmokeEffect = function() {
                var t = this;
                this.unscheduleAllCallbacks(), this.SmokeEffect.node.active = !0, this.SmokeEffect.emissionRate = 50, this.scheduleOnce(function() {
                    t.SmokeEffect.emissionRate = 0
                }, .3), this.scheduleOnce(function() {
                    t.SmokeEffect.node.active = !1
                }, 1.3)
            }, e.prototype.PauseBehavior = function(e, n) {
                t.prototype.PauseBehavior.call(this, e, n), this.skeleton.pause(), this.timerPause = !0, this.moveTween && this.moveTween.stop(), this.EffectCtrl.play("Reset")
            }, e.prototype.ResumeBehavior = function() {
                t.prototype.ResumeBehavior.call(this), this.skeleton.resume(), this.timerPause = !1, this.moveTween && this.moveTween.start(), this.skeleton.resume()
            }, e.prototype.randomBySeed = function() {
                return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
            }, e.prototype.isLockInScreen = function(t) {
                if (t) {
                    var e = this.node.convertToWorldSpaceAR(t.getPosition());
                    if (this.isSummon && this.mainFishNode && (e = this.mainFishNode.convertToWorldSpaceAR(t.getPosition())), e.x >= -150 && e.x < l.default.WinSize.width - -150 && e.y >= -150 && e.y < l.default.WinSize.height - -150) return e
                }
                return null
            }, a([f(cc.SkeletonAnimation)], e.prototype, "skeleton", void 0), a([f([cc.SkinnedMeshRenderer])], e.prototype, "SMR", void 0), a([f(cc.Material)], e.prototype, "ModelMat", void 0), a([f(cc.Node)], e.prototype, "RopeDummy", void 0), a([f(cc.Node)], e.prototype, "Hand", void 0), a([f([cc.Node])], e.prototype, "FollowNode", void 0), a([f(cc.Animation)], e.prototype, "EffectCtrl", void 0), a([f(cc.Node)], e.prototype, "IdleEffect", void 0), a([f(cc.Node)], e.prototype, "PosAnchor", void 0), a([f(cc.ParticleSystem)], e.prototype, "SmokeEffect", void 0), a([f([cc.Node])], e.prototype, "ice_group", void 0), a([d], e)
        }(u.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    POSEIDON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "60af6u2udlN6aLT7wRMYYMD", "POSEIDON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ModelAni = null, e.SMR = null, e.ModelMat = null, e.ccAni = null, e.bubble = null, e.ice_group = [], e.color = cc.Color.WHITE, e.tween = null, e.newMat = null, e
                }
                return o(e, t), e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.tween && this.newMat.setProperty("diffuseColor", this.color)
                }, e.prototype.InitParameter = function() {
                    var e = this;
                    t.prototype.InitParameter.call(this), this.node.setPosition(cc.Vec2.ZERO), this.o < 90 || this.o > 270 ? this.node.setScale(1, -1) : this.node.setScale(cc.Vec2.ONE), this.node.angle = this.o > 180 ? 180 : 0, this.newMat = cc.MaterialVariant.create(this.ModelMat, this.SMR), this.SMR.setMaterial(0, this.newMat), this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color), this.ModelAni.stop(), this.ModelAni.play("swim"), this.ccAni.stop(), this.ccAni.play("Swim"), this.bubble.node.active = !0, this.bubble.resetSystem(), this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.ModelAni.once("lastframe", function() {
                        e.FishOut(h.FishOutType.FISH_PATH_FINISH)
                    })
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.Event_FishLeave && this.Event_FishLeave(this, 6), l.default.Instance.Play("effect_PO_die2"), this.ModelAni.pause(), this.ccAni.pause(), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.1, 10, 10), cc.moveBy(.1, -10, -10)), 5), cc.callFunc(function() {
                                        t.CoinEffect(2)
                                    }), cc.fadeOut(1), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    }))), [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.ModelAni.stop(), this.ccAni.stop(), this.bubble.node.active = !1, t.prototype.RemoveSelf.call(this)
                }, e.prototype.OnHitFish = function() {
                    var t = this;
                    this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                        r: 200,
                        g: 0,
                        b: 0
                    }).to(.1, {
                        r: 255,
                        g: 255,
                        b: 255
                    })).call(function() {
                        t.tween = null, t.color = cc.Color.WHITE, t.newMat.setProperty("diffuseColor", t.color)
                    }).start()
                }, e.prototype.isLockInScreen = function(t) {
                    if (t) {
                        var e;
                        if ((e = this.mainFishNode ? this.mainFishNode.convertToWorldSpaceAR(t.getPosition()) : this.node.convertToWorldSpaceAR(t.getPosition())).x >= -100 && e.x < c.default.WinSize.width - -100 && e.y >= -100 && e.y < c.default.WinSize.height - -100) return e
                    }
                    return null
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.ModelAni.pause(), this.ccAni.pause(), this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.ModelAni.resume(), this.ccAni.resume(), this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.getPosArray = function() {
                    t.prototype.getPosArray.call(this), 330 == this.startPos.x && 125 == this.startPos.y ? this.offsetPos = cc.v2(0, 100) : 330 == this.startPos.x && -125 == this.startPos.y ? this.offsetPos = cc.v2(0, 150) : -330 == this.startPos.x && 125 == this.startPos.y ? this.offsetPos = cc.v2(0, -100) : -330 == this.startPos.x && -125 == this.startPos.y && (this.offsetPos = cc.v2(100, -100)), this.node.setPosition(this.offsetPos)
                }, a([d(cc.SkeletonAnimation)], e.prototype, "ModelAni", void 0), a([d(cc.SkinnedMeshRenderer)], e.prototype, "SMR", void 0), a([d(cc.Material)], e.prototype, "ModelMat", void 0), a([d(cc.Animation)], e.prototype, "ccAni", void 0), a([d(cc.ParticleSystem)], e.prototype, "bubble", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    PatrickBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "feb7e5NXkNOi6Li7gXrch4P", "PatrickBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Door = null, e
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.ani.stop("Boss_Enter"), this.ani.playAdditive("Boss_Enter"), this.bossEnter = !0)
                }, e.prototype.BossCatch = function() {
                    this.node && this.node.active && (this.Door.node.active = !0, this.Door.play("Boss_Catch"), this.Door.playAdditive("Boss_CatchLoop"))
                }, e.prototype.BossCatchEnd = function() {
                    this.node && this.node.active && this.Door.play("Boss_CatchEnd")
                }, e.prototype.ActiveOff = function() {
                    this.node && this.node.active && (this.Door.node.active = !1)
                }, a([l(cc.Animation)], e.prototype, "Door", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    PlayerManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "91abf7bjG5DCJ3oBIXmbZCQ", "PlayerManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Player = n.PlayerManager = n.PlayerUIType = void 0;
        var s, r = t("../Common/ResourceManager"),
            c = t("../Weapon/WeaponManager"),
            l = t("../Weapon/BetController"),
            h = t("./UserInfoController"),
            u = t("../../GameClient"),
            p = t("../Fish/FishManager"),
            d = t("../Common/AudioManager"),
            f = t("../Common/MultiLangSystem"),
            y = t("../Common/PreloadManager"),
            m = t("../../../../../FishCommon/Script/CanvasHandler"),
            g = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            S = t("../../../../../LobbyCommon/Net/LobbyClient");
        (function(t) {
            t.BetCtrl = "0", t.UserInfo = "1", t.UserInfoReverse = "2"
        })(s = n.PlayerUIType || (n.PlayerUIType = {}));
        var _ = cc._decorator,
            v = _.ccclass,
            b = (_.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.maxPlayer = 4, e.players = null, e.playerMainSeat = null, e.flipSeat = new Array(2, 3, 0, 1), e.betCtrl = null, e.userCtrl = null, e.bulletCount = 0, e.PlayerEntries = 0, e.PlayerWinning = 0, e.MaxBalance = null, e.isLockChangeBet = !1, e.tempBet = 5, e.betChange = !1, e.betList = null, e.tempBetList = null, e.m_aryWeaponLvData = null, e.m_isUIInitFinish = !1, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.getPlayer = function(t) {
                    return null == this.instance.players && this.instance.Init(), this.instance.players[t]
                }, e.getPlayerById = function(t) {
                    for (var e in this.instance.players)
                        if (this.instance.players[e].id == t) return this.instance.players[e];
                    return null
                }, Object.defineProperty(e, "MainSeat", {
                    get: function() {
                        return this.instance.playerMainSeat
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.isMainSeat = function(t) {
                    return t == this.instance.playerMainSeat
                }, e.getBetCtrl = function(t) {
                    return m.default.isReverse ? this.instance.betCtrl[this.instance.flipSeat[t]] : this.instance.betCtrl[t]
                }, e.getUserCtrl = function(t) {
                    return m.default.isReverse ? this.instance.userCtrl[this.instance.flipSeat[t]] : this.instance.userCtrl[t]
                }, Object.defineProperty(e.prototype, "BulletCount", {
                    get: function() {
                        return this.bulletCount
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this
                }, e.prototype.Init = function() {
                    y.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), this.players = new Array(null, null, null, null);
                    for (var t = 0; t < this.maxPlayer; t++) {
                        var e = new P;
                        this.players[t] = e
                    }
                    "playgd" == window.gd_nowLOGO && (S.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.remove(this.OnUpdatePlayerInfo, this), S.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.add(this.OnUpdatePlayerInfo, this))
                }, e.prototype.onDestroy = function() {
                    "playgd" == window.gd_nowLOGO && S.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.remove(this.OnUpdatePlayerInfo, this)
                }, e.prototype.InitUI = function() {
                    this.betCtrl = new Array(null, null, null, null), this.userCtrl = new Array(null, null, null, null);
                    for (var t = 0; t < this.maxPlayer; t++) this.betCtrl[t] = r.default.LoadGUI(s.BetCtrl).getComponent(l.default), this.betCtrl[t].Init(t), this.userCtrl[t] = t > 1 ? r.default.LoadGUI(s.UserInfoReverse).getComponent(h.default) : r.default.LoadGUI(s.UserInfo).getComponent(h.default), this.userCtrl[t].Init(t);
                    this.m_isUIInitFinish = !0
                }, e.prototype.ModifyPlayerEntries = function(t, e, i, o) {
                    void 0 === o && (o = !0);
                    var a = this.players[t];
                    a && a.isMain && (this.players[t].entries += e, this.players[t].entries < 0 ? u.default.FishUIMgr.SetEntriesNow(0) : u.default.FishUIMgr.SetEntriesNow(this.players[t].entries, e > 0), o && n.BulletSync(1, null))
                }, e.prototype.ModifyPlayerWinning = function(t, e, i, o) {
                    void 0 === o && (o = !0);
                    var a = this.players[t];
                    if (a && a.isMain) {
                        this.players[t].entries += e;
                        u.default.FishUIMgr.SetEntriesNow(this.players[t].entries);
                        // SS.Common.GameEnvironment.IsUseScoreBox ? this.players[t].winning += e : this.players[t].entries += e;
                        // var s = !1;
                        // o && (s = n.BulletSync(-1, i)), s || (SS.Common.GameEnvironment.IsUseScoreBox ? this.players[t].winning < 0 ? u.default.FishUIMgr.SetWinningNow(0, !1, !0) : u.default.FishUIMgr.SetWinningNow(this.players[t].winning) : this.players[t].entries < 0 ? u.default.FishUIMgr.SetEntriesNow(0) : u.default.FishUIMgr.SetWinningNow(this.players[t].entries))
                    }
                }, e.prototype.onInitPlayer = function(t) {
                    cc.error("playerData: ", JSON.stringify(t)), null == this.players && this.Init(), this.playerMainSeat = t.seat;
                    var e = this.players[this.playerMainSeat];
                    e.id = t.id, e.name = t.name, e.seat = t.seat, e.entries = t.entries, e.winning = t.winning, e.isMain = !0, this.betList = t.bet_list, e.bet_value = t.bet_value;
                    var i = !1;
                    e.bet_value > this.betList[this.betList.length - 1] && (e.bet_value = this.betList[this.betList.length - 1], i = !0), e.bet_value < this.betList[0] && (e.bet_value = this.betList[0], i = !0), this.RotateBackGround(e.seat), c.default.Instance.Init(this.playerMainSeat), this.InitUI(), n.getBetCtrl(e.seat).PlayerEnter(e), n.getUserCtrl(e.seat).PlayerEnter(e), u.default.FishUIMgr.Init(), u.default.FishUIMgr.SetUserName(SS.Network.LoginModel.LoginInfo.user_id), u.default.FishUIMgr.SetGameVersion(SS.Common.GameEnvironment.CurrentGameVersion), u.default.FishUIMgr.SetEntriesNow(e.entries), u.default.FishUIMgr.SetWinningNow(e.winning), u.default.FishUIMgr.SetPurchaseBlockingMsg(f.default.getMultiLangText(SS.Common.GameEnvironment.IsShowDonate ? "DBH" : "PBH")), u.default.FishUIMgr.SetProfileBlockingMsg && u.default.FishUIMgr.SetPurchaseBlockingMsg(f.default.getMultiLangText("ProfileBlockHint")), u.default.FishUIMgr.SetUserInfoPosition(this.playerMainSeat);
                    var o = 1280 / m.default.WinSize.width,
                        a = c.default.WeaponUIPosition(this.playerMainSeat);
                    u.default.FishUIMgr.SetWeaponChangeAreaPosition(a.x * o, a.y * o), u.default.FishUIMgr.SetWeaponChangeHintPosition(a.x * o, a.y * o);
                    var s = n.getBetCtrl(this.playerMainSeat).node.getPosition();
                    u.default.FishUIMgr.SetBetBtnPosition(s.x * o, s.y * o), u.default.FishUIMgr.ShowPurchaseHint(e.entries < e.bet_value);
                    var r = t.weapon;
                    if (r && 0 != r || (r = 50001), this.m_aryWeaponLvData) {
                        for (var l = {}, h = 0; h < this.m_aryWeaponLvData.length; h++) l[this.betList[h]] = this.m_aryWeaponLvData[h];
                        c.default.Instance.SetWeaponSkinData(l)
                    }
                    c.default.Instance.ChangeWeapon(e.seat, r), e.isPlaying = !0, "playgd" == window.gd_nowLOGO && (e.nickName = t.nick_name, e.equipAvatar = t.equip_avatar, e.equipAvatarFrame = t.equip_avatar_frame, u.default.FishUIMgr.SetMainPlayerAvatarInfo && u.default.FishUIMgr.SetMainPlayerAvatarInfo(t)), u.default.PlayerSystem.SendUpdatePlayer(), i && u.default.PlayerSystem.UpdateBetValue(e)
                }, e.prototype.RotateBackGround = function(t) {
                    t > 1 ? (p.default.Instance.ai_seek.SetFlip(!0), m.default.Instance.setReverse(!0)) : (p.default.Instance.ai_seek.SetFlip(!1), m.default.Instance.setReverse(!1))
                }, e.prototype.onInitOtherPlayer = function(t) {
                    cc.error("onInitOtherPlayer:  ", JSON.stringify(t));
                    var e = t.seat,
                        i = this.players[e];
                    if (!i.isPlaying) {
                        i.id = t.id, i.seat = e, i.entries = t.entries, i.winning = t.winning, i.bet_value = t.bet_value, n.getBetCtrl(e).PlayerEnter(i), n.getUserCtrl(e).PlayerEnter(i);
                        var o = t.weapon;
                        o && 0 != o || (o = 50001), c.default.Instance.ChangeWeapon(e, o), i.isPlaying = !0;
                        var a = t.skillData;
                        if (a && "fire_storm" == a.skill_id) {
                            var s = a.skill_info,
                                r = s.score,
                                l = s.multiple_all,
                                h = s.time_left;
                            u.default.SkillSystem && u.default.SkillSystem.CreateFlameStorm(i.seat, i.bet_value, h, r, l)
                        }
                        "playgd" == window.gd_nowLOGO && (i.nickName = t.nick_name, i.equipAvatar = t.equip_avatar, i.equipAvatarFrame = t.equip_avatar_frame, u.default.FishUIMgr.SetOtherPlayerInfo && u.default.FishUIMgr.SetOtherPlayerInfo(t))
                    }
                }, e.prototype.onUpdateBet = function(t, e, i, o) {
                    i != this.playerMainSeat && (n.getBetCtrl(i).UpdateBet(t, !1), null != e && (c.default.Instance.ChangeWeapon(i, e), c.default.Instance.AutoState(i, o)))
                }, e.prototype.CheckBetListOnSkillEnd = function(t) {
                    null != this.tempBetList && this.CheckBetList(t, this.tempBetList)
                }, e.prototype.CheckBetList = function(t, e, i, o) {
                    if (void 0 === i && (i = 0), void 0 === o && (o = 0), null != this.betList && t == this.playerMainSeat) {
                        this.tempBetList = null;
                        var a = !1;
                        if (-1 == i && (n.BulletSync(-1), n.Instance.ModifyPlayerEntries(this.playerMainSeat, o, null, !1), console.warn("CheckBetList, \u5b50\u5f48 onBlast bet \u932f\u8aa4\u6536\u5230 -1 \u76ee\u524d\u5b50\u5f48\u6578 = " + n.Instance.bulletCount + ", \u52a0\u56de bet = " + o), c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), a = !0), a || this.betList.toString() != e.toString()) {
                            console.warn("ChangeBetList, \u6536\u5230\u65b0 bet \u6bb5 = ", e.toString() + ", \u76ee\u524d bet \u6bb5 = ", this.betList.toString() + ", \u76ee\u524d bet_value =" + this.players[this.playerMainSeat].bet_value + ", \u662f\u5426\u5b50\u5f48 bet \u932f\u8aa4 = " + a), this.betList = e;
                            var s = this.betList[this.betList.length - 1];
                            this.players[this.playerMainSeat].bet_value > s && (c.default.Instance.bulletLimit = 0, c.default.Instance.AutoShoot = !1, console.warn("!!!!!!!!!!!!!!! \u66f4\u65b0 bet = " + s), this.tempBet = s, this.betChange = !0, this.updateBet(s, !0), this.SendUpdateBet(), g.PopupMsgMgr.Instance.ShowPopMsg(g.PopupPriority.Warning, "C51", u.default.Instance.title, "BetListChange", function() {
                                c.default.Instance.bulletLimit = 20
                            }, s.toString()))
                        }
                    }
                }, e.prototype.onReflash = function(t, e, n, i, o) {
                    this.players[e].isPlaying && this.players[e].id == t && n && (this.ModifyPlayerEntries(e, n, i, !1), this.ModifyPlayerWinning(e, -n, o, !1))
                }, e.prototype.onPlayerLeave = function(t) {
                    if (null != this.players) {
                        var e = this.players[t];
                        e.isPlaying && (u.default.SkillSystem && u.default.SkillSystem.RemovePlayerSkill(t), n.getBetCtrl(t).PlayerLeave(), n.getUserCtrl(t).PlayerLeave(), c.default.Instance.PlayerLeave(t), u.default.FishUIMgr.SetOtherPlayerInfo && u.default.FishUIMgr.SetOtherPlayerInfo(null, t), e.id = "", e.name = "", e.isPlaying = !1)
                    }
                }, e.BulletSync = function(t, e) {
                    if (void 0 === e && (e = null), null != e && (this.Instance.PlayerWinning = e), null == t) return !1;
                    this.Instance.bulletCount += t;
                    var n = 0 == this.Instance.bulletCount;
                    return n && (SS.Common.GameEnvironment.IsUseScoreBox ? (this.Instance.players[this.Instance.playerMainSeat].winning = this.Instance.PlayerWinning, u.default.FishUIMgr.SetWinningNow(this.Instance.PlayerWinning, !1, !0)) : (this.Instance.players[this.Instance.playerMainSeat].entries += this.Instance.PlayerWinning, u.default.FishUIMgr.SetEntriesNow(this.Instance.players[this.Instance.playerMainSeat].entries))), this.Instance.bulletCount < 0 && (this.Instance.bulletCount = 0), n
                }, e.prototype.SendUpdateBet = function() {
                    this.betChange && (this.betChange = !1, this.players[this.playerMainSeat].bet_value = this.tempBet, u.default.PlayerSystem.UpdateBetValue(this.players[this.playerMainSeat]))
                }, e.prototype.AddBet = function(t) {
                    if (void 0 === t && (t = !0), d.default.Instance.PlayByAudioClipTable("PLUS_BET_BTN"), n.Instance.MaxBalance && this.players[this.playerMainSeat].entries + this.players[this.playerMainSeat].winning >= n.Instance.MaxBalance) g.PopupMsgMgr.Instance.ShowPopMsg(g.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                    else if (!this.isLockChangeBet) {
                        if (c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), this.tempBet == this.betList[this.betList.length - 1]) return t ? void 0 : (this.tempBet = this.betList[0], this.betChange = !0, void this.updateBet(this.tempBet, !1));
                        var e = this.betList.indexOf(this.tempBet);
                        this.tempBet = this.betList[e + 1], this.betChange = !0, this.updateBet(this.tempBet, this.tempBet == this.betList[this.betList.length - 1])
                    }
                }, e.prototype.MinusBet = function(t) {
                    if (void 0 === t && (t = !1), d.default.Instance.PlayByAudioClipTable("MINUS_BET_BTN"), n.Instance.MaxBalance && this.players[this.playerMainSeat].entries + this.players[this.playerMainSeat].winning >= n.Instance.MaxBalance) g.PopupMsgMgr.Instance.ShowPopMsg(g.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                    else if (!this.isLockChangeBet) {
                        if (c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), this.tempBet == this.betList[0]) return t ? void 0 : (this.tempBet = this.betList[this.betList.length - 1], this.betChange = !0, void this.updateBet(this.tempBet, !0));
                        var e = this.betList.indexOf(this.tempBet);
                        this.tempBet = -1 != e ? this.betList[e - 1] : this.betList[this.betList.length - 1], this.betChange = !0, this.updateBet(this.tempBet, !1)
                    }
                }, e.prototype.updateBet = function(t, e) {
                    n.getBetCtrl(this.playerMainSeat).UpdateBet(t, e), c.default.Instance.OnBetChange(this.playerMainSeat), e && d.default.Instance.Play("02_maxbet"), u.default.FishUIMgr.ShowPurchaseHint(this.players[this.playerMainSeat].entries < t * c.default.Instance.getBetScale), u.default.FishUIMgr.SetBet(t), u.default.Instance.UpdateBetData(t)
                }, e.prototype.Clear = function() {
                    this.betList.length = 0, n.instance = null
                }, e.prototype.CheckPlayerBetMax = function() {
                    return n.getPlayer(this.playerMainSeat).bet_value == this.betList[this.betList.length - 1]
                }, e.prototype.OnUpdatePlayerInfo = function(t) {
                    u.default.Instance.RecvPlayerInfo(t);
                    var e = n.getPlayerById(t.ark_id);
                    null != e && (e.nickName = t.nickname, e.equipAvatar = t.avatar_id, e.equipAvatarFrame = t.avatar_frame_id, u.default.FishUIMgr.UpdatePlayerInfo && u.default.FishUIMgr.UpdatePlayerInfo(e.seat, t))
                }, e.instance = null, n = a([v], e)
            }(cc.Component));
        n.PlayerManager = b;
        var P = function() {
            this.id = "", this.seat = 0, this.entries = 0, this.winning = 0, this.bet_value = 0, this.lv = 0, this.name = "", this.isMain = !1, this.isPlaying = !1, this.nickName = "", this.equipAvatar = "", this.equipAvatarFrame = ""
        };
        n.Player = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Weapon/BetController": "BetController",
        "../Weapon/WeaponManager": "WeaponManager",
        "./UserInfoController": "UserInfoController"
    }],
    PlayerSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "41aa6geNCZMK4VJW+hdAYvC", "PlayerSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var a = t("../MainGame/Weapon/WeaponManager"),
            s = function(t) {
                function e(e) {
                    var n = t.call(this, e, "fish_player") || this;
                    return n.InitPlayerEvent = null, n.UpdatePlayerEvent = null, n.UpdateBetEvent = null, n.ReflashEvent = null, n.UpdateBalanceEvent = null, n.RefreshBalanceEvent = null, n.RefreshBalanceByWinJPEvent = null, n.GetFishQuestInfo = null, n.GetFishQuestUpdate = null, n.FishQuestUpdateBalanceEvent = null, n.FishQuestCollectEvent = null, n.FishQuestCheckEvent = null, n.FishPuzzleQuestCheckEvent = null, n.FishPuzzleQuestCollectEvent = null, n.FishPuzzleUpdateBalanceEvent = null, n.UpdateAssetEvent = null, n.tempSN = 0, n.RegisterCmdCallback("init_player", n.onInitPlayer.bind(n)), n.RegisterCmdCallback("update_player", n.onUpdatePlayer.bind(n)), n.RegisterCmdCallback("update_bet", n.onUpdateBet.bind(n)), n.RegisterCmdCallback("reflash", n.onReflash.bind(n)), n.RegisterCmdCallback("current_credit", n.onUpdateBalance.bind(n), "current_credit"), n.RegisterCmdCallback("refresh_credit", n.onRefreshEntries.bind(n), "refresh_credit"), n.RegisterCmdCallback("FishQuestInfo", n.onFishQuestInfo.bind(n)), n.RegisterCmdCallback("FishQuestUpdate", n.onGetFishQuestUpdate.bind(n)), n.RegisterCmdCallback("collect_quest", n.onGetFishQuestCollect.bind(n), "collect_quest"), n.RegisterCmdCallback("check_quest", n.onGetFishCheckllect.bind(n)), n.RegisterCmdCallback("puzzle_check", n.onGetFishCheckPuzzle.bind(n)), n.RegisterCmdCallback("puzzle_collect", n.onGetFishPuzzleQuestCollect.bind(n)), n.RegisterCmdCallback("synchronize_property", n.onGetSyncProperty.bind(n)), n
                }
                return o(e, t), e.prototype.InitPlayer = function(t) {
                    var e = {
                        lang: t
                    };
                    this.SendCmd("init_player", e)
                }, e.prototype.onInitPlayer = function(t, e) {
                    console.error("[onInitPlayer]data: ", e), this.InitPlayerEvent && this.InitPlayerEvent(e)
                }, e.prototype.SendUpdatePlayer = function() {
                    this.SendCmd("update_player")
                }, e.prototype.onUpdatePlayer = function(t, e) {
                    var n = this;
                    this.UpdatePlayerEvent && Object.keys(e.players).forEach(function(t) {
                        n.UpdatePlayerEvent(e.players[t])
                    })
                }, e.prototype.UpdateBetValue = function(t) {
                    var e = {};
                    e.seat = t.seat, e.bet_value = t.bet_value, e.weapon = a.default.Instance.getWeaponType(t.seat), e.auto = a.default.Instance.AutoShoot, this.SendCmd("update_bet", e)
                }, e.prototype.onUpdateBet = function(t, e) {
                    if (this.UpdateBetEvent) {
                        var n = e.bet_value,
                            i = e.weapon,
                            o = e.seat,
                            a = e.auto;
                        this.UpdateBetEvent(n, i, o, a)
                    }
                }, e.prototype.onReflash = function(t, e) {
                    if (this.ReflashEvent) {
                        if (e.trans_id <= this.tempSN) return;
                        this.tempSN = e.trans_id;
                        var n = e.player_id,
                            i = e.seat,
                            o = e.change_coin,
                            a = e.balance;
                        this.ReflashEvent(n, i, o, a)
                    }
                }, e.prototype.SendUpdateBalance = function() {
                    this.SendCmd("current_credit")
                }, e.prototype.SendRefreshBalance = function() {
                    this.SendCmd("refresh_credit")
                }, e.prototype.onUpdateBalance = function(t, e) {
                    this.SetCurrentCreditEvent(e.winnings, e.entries);
                    this.UpdateBalanceEvent && this.UpdateBalanceEvent(), this.FishQuestUpdateBalanceEvent && this.FishQuestUpdateBalanceEvent(e.winnings, e.entries)
                }, e.prototype.onRefreshEntries = function(t, e) {
                    this.RefreshBalanceEvent && this.RefreshBalanceEvent(e), this.RefreshBalanceByWinJPEvent && this.RefreshBalanceByWinJPEvent(e), this.FishPuzzleUpdateBalanceEvent && this.FishPuzzleUpdateBalanceEvent(e.winnings, e.entries), this.FishQuestUpdateBalanceEvent && this.FishQuestUpdateBalanceEvent(e.winnings, e.entries)
                }, e.prototype.SendCollectQueat = function(t, e) {
                    var n = {};
                    n.quest_id = t, n.quest_level = e, this.SendCmd("collect_quest", n)
                }, e.prototype.onGetFishQuestUpdate = function(t, e) {
                    this.GetFishQuestUpdate && this.GetFishQuestUpdate(e)
                }, e.prototype.onFishQuestInfo = function(t, e) {
                    this.GetFishQuestInfo && this.GetFishQuestInfo(e)
                }, e.prototype.onGetFishQuestCollect = function(t, e) {
                    this.FishQuestCollectEvent && this.FishQuestCollectEvent(e)
                }, e.prototype.SendCheckQueat = function() {
                    this.SendCmd("check_quest")
                }, e.prototype.onGetFishCheckllect = function(t, e) {
                    this.FishQuestCheckEvent && this.FishQuestCheckEvent(e.check_result)
                }, e.prototype.SendCheckPuzzleQueat = function() {
                    console.warn("\u8981\u6c42\u62fc\u5716\u662f\u5426\u958b\u555f"), this.SendCmd("puzzle_check")
                }, e.prototype.onGetFishCheckPuzzle = function(t, e) {
                    console.warn("\u6536\u5230\u62fc\u5716\u662f\u5426\u958b\u555f onGetFishQuestCollect Data", e), this.FishPuzzleQuestCheckEvent && this.FishPuzzleQuestCheckEvent(e.check_result)
                }, e.prototype.SendFishPuzzleQuestCollect = function(t, e, n) {
                    var i = {};
                    i.name = t, i.serial_no = e, i.quest_level = n, this.SendCmd("puzzle_collect", i)
                }, e.prototype.onGetFishPuzzleQuestCollect = function(t, e) {
                    console.warn("\u62fc\u5716\u9818\u734e onGetFishQuestCollect Data", e), this.FishPuzzleQuestCollectEvent && this.FishPuzzleQuestCollectEvent(e)
                }, e.prototype.SendCollectAward = function(t, e) {
                    this.RegisterCmdCallback("collect_award", e), this.SendCmd("collect_award", t)
                }, e.prototype.SendSyncAsset = function() {
                    this.SendCmd("synchronize_property")
                }, e.prototype.onGetSyncProperty = function(t, e) {
                    var n = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(n)
                }, e
            }(t("./baseSystem").default);
        n.default = s, cc._RF.pop()
    }, {
        "../MainGame/Weapon/WeaponManager": "WeaponManager",
        "./baseSystem": "baseSystem"
    }],
    PoolObj: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ab29cfI18NAsbMxgD9cW3iT", "PoolObj");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./EnumFilter"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.pool = "Effect", e.type = "", e.ani = null, e.recycleEvent = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.ani = this.getComponent(cc.Animation)
                }, e.prototype.reuse = function() {
                    this.ani && (this.ani.stop(), this.ani.play())
                }, e.prototype.Recycle = function() {
                    this.recycleEvent && (this.recycleEvent(), this.recycleEvent = null), this.ani && this.ani.stop(), s.default.DespawnObj(this.pool, this.type, this.node)
                }, a([l(cc.String)], e.prototype, "pool", void 0), a([l(cc.String)], e.prototype, "type", void 0), a([c], e)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "./EnumFilter": "EnumFilter"
    }],
    PopupWindowCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4ea5dcGK91La4VOEcrqNStY", "PopupWindowCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WindowsData = n.Windows = void 0;
        var s = t("../../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            r = t("./WindowCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property;
        (function(t) {
            t[t.None = 0] = "None", t[t.LockSetting = 1] = "LockSetting", t[t.WeaponChose = 2] = "WeaponChose", t[t.BattleShipInfo = 3] = "BattleShipInfo"
        })(n.Windows || (n.Windows = {}));
        var u = function(t, e, n, i) {
            void 0 === e && (e = null), void 0 === n && (n = null), this.type = t, this.events = e, this.texts = n, this.exData = i
        };
        n.WindowsData = u;
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.mWindows = [], e.mBlackBG = null, e.mTouchBlock = null, e.mUnstableMsg = null, e.mUnstabletext = null, e.mUnstableSprite = [], e
            }
            var n;
            return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                get: function() {
                    if (null == this.mPopupWindowCtrl) try {
                        "playgd" == window.gd_nowLOGO ? this.mPopupWindowCtrl = cc.find("Canvas/PopupWindow").getComponent(n) : "magiccity" == window.gd_nowLOGO && (this.mPopupWindowCtrl = s.CommonRoot.Instance.getComponentInChildren(n))
                    } catch (c) {
                        return null
                    }
                    return this.mPopupWindowCtrl
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                n.mPopupWindowCtrl = null
            }, e.ShowWindow = function(t, e, n) {
                void 0 === e && (e = !0), void 0 === n && (n = !1);
                var i = new u(t);
                this.EnableWindow(i, e, n)
            }, e.EnableWindow = function(t, e, n, i) {
                var o = this;
                if (void 0 === e && (e = !0), void 0 === n && (n = !1), void 0 === i && (i = 0), this.OpeList.length > 0)
                    for (var a = 0; a < this.OpeList.length; a++) this.Instance.mWindows[this.OpeList[a].type - 1].closeWindow(), n || this.OpeList.pop();
                this.Instance.mBlackBG && (this.Instance.mBlackBG.active = e), this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = !0), this.Instance.mWindows[t.type - 1].showWindow(t.events, t.texts, t.exData), this.OpeList.push(t), i > 0 && (this.closeCD = !0, cc.tween(this).delay(i).call(function() {
                    o.closeCD = !1
                }).start())
            }, e.CloseWindow = function(t) {
                if (!this.closeCD) {
                    var e = !1;
                    if (this.OpeList.length > 0)
                        if (t && "number" == typeof t)
                            for (var n = 0; n < this.OpeList.length; n++) this.OpeList[n].type == t && (this.OpeList.splice(n, 1), this.Instance.mWindows[t - 1].closeWindow(), e = !0);
                        else if (this.Instance.mWindows[this.OpeList.pop().type - 1].closeWindow(), this.OpeList.length > 0) {
                        var i = this.OpeList.pop();
                        this.Instance.mWindows[i.type - 1].showWindow(i.events, i.texts)
                    }
                    return this.OpeList.length <= 0 && (this.Instance.mBlackBG && (this.Instance.mBlackBG.active = !1), this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = !1)), e
                }
            }, e.EnableTouchBlock = function(t) {
                this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = t)
            }, e.prototype.TouchBlock = function() {
                n.CloseWindow()
            }, e.EnableNetUnstable = function(t, e) {
                switch (e) {
                    case 1:
                        this.Instance.mUnstabletext.spriteFrame = this.Instance.mUnstableSprite[0];
                        break;
                    case 2:
                        this.Instance.mUnstabletext.spriteFrame = this.Instance.mUnstableSprite[1]
                }
                if (this.Instance.mUnstableMsg.active != t)
                    if (this.Instance.mUnstableMsg.active = t, t) {
                        var n = cc.repeatForever(cc.sequence(cc.fadeIn(1), cc.delayTime(.4), cc.fadeOut(1), cc.delayTime(.4)));
                        this.Instance.mUnstableMsg.runAction(n)
                    } else this.Instance.mUnstableMsg.stopAllActions()
            }, e.OpeList = [], e.closeCD = !1, a([h([r.default])], e.prototype, "mWindows", void 0), a([h(cc.Node)], e.prototype, "mBlackBG", void 0), a([h(cc.Node)], e.prototype, "mTouchBlock", void 0), a([h(cc.Node)], e.prototype, "mUnstableMsg", void 0), a([h(cc.Sprite)], e.prototype, "mUnstabletext", void 0), a([h([cc.SpriteFrame])], e.prototype, "mUnstableSprite", void 0), n = a([l], e)
        }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../GameCommon/CommonRoot/Script/CommonRoot": void 0,
        "./WindowCtrl": "WindowCtrl"
    }],
    PreloadManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3117bJ4U31D65v+arAI7Xqv", "PreloadManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.SCENE_NAME = void 0;
        var c = t("./ArkGameUtility"),
            l = t("../../GameClient"),
            h = t("./MultiLangSystem"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, cc.Enum({
                NONE: 0,
                READY: 1,
                RELEASE: 2,
                LOAD_RES: 3,
                LOAD_DONE: 4,
                LOAD_SCENE: 5
            }));
        n.SCENE_NAME = {
            PRELOAD: "Preload",
            MAIN_LOBBY: "MainLobby",
            MAIN_GAME: "MainGame",
            RELEASE: "Lobby"
        };
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.secneName = n.SCENE_NAME.MAIN_LOBBY, e.nextSecneName = n.SCENE_NAME.MAIN_LOBBY, e.themeName = "", e.loadedLaunch = !0, e.sceneCompletedCount = 0, e.sceneTotalCount = 0, e.resCompletedCount = 0, e.resTotalCount = 0, e.commonResTotalCount = 0, e.waitloadCommonRes = !1, e.commonResLoaded = !1, e.waitloadThemeRes = !1, e.curConcurrent = 1, e.waitLoadingSec = 300, e.progressPercent = 0, e.statusQueue = [], e.nowStatus = d.NONE, e._loadResEvent = function() {}, e.loadStuckCount = 0, e.onReleaseSceneEvent = null, e.onLoadDone = null, e
            }
            var i;
            return o(e, t), i = e, Object.defineProperty(e, "Instance", {
                get: function() {
                    return this.instance
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "completedCount", {
                get: function() {
                    return this.sceneCompletedCount + this.resCompletedCount
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "totalCount", {
                get: function() {
                    return this.sceneTotalCount + this.resTotalCount
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "nowSceneName", {
                get: function() {
                    return cc.director.getScene().name
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "nowThemeName", {
                get: function() {
                    return this.themeName
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "nowProgressPercent", {
                set: function(t) {
                    var e = this;
                    this.progressPercent = t, this.scheduleOnce(function() {
                        -1 == [d.LOAD_RES, d.LOAD_SCENE].indexOf(e.nowStatus) || e.progressPercent != t || e.progressPercent >= 100 || (e.loadStuckCount = 25, e.loadResErrorHandler("PercentTimeOut"))
                    }, this.waitLoadingSec)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                i.instance = this, i.loaderGroup = [], i.loadTaskDict = new c.Dictionary, i.permanentRes = new c.Dictionary, i.impermanentRes = new c.Dictionary, this.onReleaseSceneEvent = new c.EventDelegate
            }, e.prototype.update = function() {
                if (this.nowStatus == d.READY) switch (this.nowStatus = this.statusQueue.shift(), this.nowStatus) {
                    case d.RELEASE:
                        this._releaseScene();
                        break;
                    case d.LOAD_RES:
                        this._loadResEvent();
                        break;
                    case d.LOAD_DONE:
                        this._loadResDone();
                        break;
                    case d.LOAD_SCENE:
                        this._loadScene(this.nextSecneName);
                        break;
                    default:
                        this.resetStatusQueue()
                }
            }, e.prototype.PreloadGameCommonRes = function() {
                return s(this, void 0, void 0, function() {
                    var t, e = this;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                if (this.waitloadCommonRes) return [2];
                                this.waitloadCommonRes = !0, this.commonResLoaded = !1, t = "MainGame", n.label = 1;
                            case 1:
                                return n.trys.push([1, 3, , 4]), [4, l.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload/" + window.gd_nowLOGO + "_MainGame").then(function() {
                                    t = window.gd_nowLOGO + "_MainGame"
                                })];
                            case 2:
                            case 3:
                                return n.sent(), [3, 4];
                            case 4:
                                return console.error("PreloadManager json name = " + t), i.LoadRes(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload", t, cc.Asset, function(t, n) {
                                    var o = n.json;
                                    if (!o) return e.waitloadCommonRes = !1, void e.PreloadGameCommonRes();
                                    if (!o.COMMON) return e.waitloadCommonRes = !1, void console.error("[loadThemeRes]COMMON is not exist");
                                    e._resetProgress();
                                    var a = Object.keys(o.COMMON);
                                    e.commonResTotalCount = e.resTotalCount = a.length, a.forEach(function(t) {
                                        var n = o.COMMON,
                                            a = n[t].file,
                                            s = e._getAssetType(n[t].type);
                                        i.LoadRes(a, t, s, function() {
                                            e.completedCount < e.totalCount || (e.waitloadCommonRes = !1, e.commonResLoaded = !0, e.waitloadThemeRes ? e.loadThemeRes(e.themeName) : e.nowStatus = d.READY)
                                        }, !0)
                                    })
                                }), [2]
                        }
                    })
                })
            }, e.prototype.LoadMainGame = function(t, e) {
                var n = this;
                this.statusQueue = [d.RELEASE, d.LOAD_RES, d.LOAD_DONE, d.NONE], this._loadResEvent = function() {
                    n.commonResLoaded || n.PreloadGameCommonRes(), n.loadThemeRes(t)
                }, this.themeName = t, this.onLoadDone = e
            }, e.LoadRes = function(t, e, n, o, a) {
                void 0 === a && (a = !1);
                var s = i.Instance,
                    r = s.GetRes(e);
                if (r) return s.resCompletedCount += 1, s._progress(), void(o && o(null, r));
                n = n || cc.Asset;
                var c = new m(t, e, n, o, a);
                if (!i.loadTaskDict.ContainsKey(e)) {
                    i.loadTaskDict.Add(e, c);
                    var l = s.getLoader();
                    l && (c.Loading = !0, t.includes("resources") ? l.LoadRes(t, e, n, s.progressCallback.bind(s), s.onComplete.bind(s)) : l.LoadBundle(t, e, n, s.progressCallback.bind(s), s.onComplete.bind(s)))
                }
            }, e.prototype.GetRes = function(t) {
                var e = null;
                return (e = i.permanentRes.GetValue(t)) || (e = i.impermanentRes.GetValue(t)), e ? e.Resource : e
            }, e.prototype.loadResErrorHandler = function(t) {
                l.default.Instance && l.default.Instance.LoadResError(t)
            }, e.prototype.resetStatusQueue = function() {
                this.statusQueue = [], this.onLoadDone = null, this.nowStatus = d.NONE, i.loadTaskDict.Clear()
            }, e.prototype.loadThemeRes = function(t) {
                return s(this, void 0, void 0, function() {
                    var e, n = this;
                    return r(this, function(o) {
                        switch (o.label) {
                            case 0:
                                if (this.waitloadCommonRes) return this.waitloadThemeRes = !0, [2];
                                this.waitloadThemeRes = !1, e = "MainGame", o.label = 1;
                            case 1:
                                return o.trys.push([1, 3, , 4]), [4, l.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload/" + window.gd_nowLOGO + "_MainGame").then(function() {
                                    e = window.gd_nowLOGO + "_MainGame"
                                })];
                            case 2:
                            case 3:
                                return o.sent(), [3, 4];
                            case 4:
                                return i.LoadRes(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload", e, cc.Asset, function(e, o) {
                                    var a = o.json;
                                    if (a)
                                        if (a[t]) {
                                            n._resetProgress();
                                            var s = Object.keys(a[t]);
                                            s.length < 1 ? n.nowStatus = d.READY : (n.resCompletedCount = n.commonResTotalCount, n.resTotalCount = s.length + n.commonResTotalCount, i.loaderGroup = [], s.forEach(function(e) {
                                                var o = a[t],
                                                    s = o[e].file,
                                                    r = n._getAssetType(o[e].type);
                                                i.LoadRes(s, e, r, function() {
                                                    n.completedCount < n.totalCount || (n.nowStatus = d.READY)
                                                })
                                            }))
                                        } else console.error("[loadThemeRes]theme_name: %s is not exist", t);
                                    else n.loadThemeRes(t)
                                }), [2]
                        }
                    })
                })
            }, e.prototype.onProgress = function(t, e) {
                this.sceneCompletedCount = t, this.sceneTotalCount = e, this._progress()
            }, e.prototype.onSceneLoaded = function(t) {
                if (t) return console.error("[onSceneLoaded]error: ", t), this.loadStuckCount += 1, void this.loadResErrorHandler("LoadScene");
                (this.secneName == n.SCENE_NAME.PRELOAD || this.loadedLaunch) && (this.onReleaseSceneEvent.Broadcast(), this.onReleaseSceneEvent.RemoveAllListener(), cc.director.loadScene(this.secneName, this.onLaunched.bind(this)))
            }, e.prototype.onLaunched = function() {
                this.nowSceneName, this._resetProgress(), this.nowStatus = d.READY
            }, e.prototype.progressCallback = function() {}, e.prototype.onComplete = function(t, e, n) {
                if (e) {
                    console.error("[onComplete]error: ", e), this.loadStuckCount += 1;
                    var o = t.ResName;
                    this.loadResErrorHandler(o)
                } else {
                    this.resCompletedCount += 1, this._progress();
                    var a = t.ResName,
                        s = i.loadTaskDict.PopValue(a);
                    if (s) {
                        e || (s.Resource = n, s.Permanent ? i.permanentRes.Add(a, s) : i.impermanentRes.ContainsKey(a) || i.impermanentRes.Add(a, s));
                        var r = s.OnComplete;
                        r && (i.loadTaskDict.Remove(a), r(e, n))
                    }
                    s = null;
                    for (var c = i.loadTaskDict.Values(), l = 0; l < c.length; l++) {
                        var h = c[l];
                        if (!h.Loading) {
                            s = h;
                            break
                        }
                    }
                    s && (s.Loading = !0, t.LoadBundle(s.File, s.Name, s.Type, this.progressCallback.bind(this), this.onComplete.bind(this)))
                }
            }, e.prototype.getLoader = function() {
                var t = i.Instance,
                    e = null;
                if (i.loaderGroup.forEach(function(t) {
                        t.Idle && (e = t)
                    }), !e && t.curConcurrent < cc.macro.DOWNLOAD_MAX_CONCURRENT) {
                    t.curConcurrent *= 2;
                    for (var n = 0; n < t.curConcurrent; n++) i.loaderGroup.push(new y)
                }
                return i.loaderGroup.forEach(function(t) {
                    t.Idle && (e = t)
                }), e
            }, e.prototype._resetProgress = function() {
                this.sceneCompletedCount = 0, this.sceneTotalCount = 0, this.resCompletedCount = 0, this.resTotalCount = 0, this._progress()
            }, e.prototype._progress = function() {
                if (!(this.totalCount < 1 || this.totalCount < this.completedCount)) {
                    var t = this.completedCount / this.totalCount * 10;
                    l.default.Instance && l.default.Instance.SetLoadingProgress(this.completedCount, 155), this.nowProgressPercent = t
                }
            }, e.prototype._getAssetType = function(t) {
                switch (t) {
                    case 1:
                        return cc.SpriteAtlas;
                    default:
                        return cc.Asset
                }
            }, e.prototype._loadResDone = function() {
                this.onLoadDone && this.onLoadDone(), this.nowStatus = d.READY
            }, e.prototype._loadScene = function(t) {
                this.secneName = t, cc.director.preloadScene(t, this.onProgress.bind(this), this.onSceneLoaded.bind(this))
            }, e.prototype._releaseScene = function() {
                var t = i.impermanentRes.Values();
                t.length < 1 && (this.nowStatus = d.READY);
                for (var e = t.length - 1; e > -1; e--) {
                    var n = t[e];
                    cc.resources.release(i.impermanentRes.PopValue(n.Name).Url), 0 == e && (this.nowStatus = d.READY)
                }
                cc.sys.garbageCollect()
            }, e.prototype.Release = function() {
                this._releaseScene(), this.onReleaseSceneEvent.Broadcast(), this.onReleaseSceneEvent.RemoveAllListener(), this.onReleaseSceneEvent = null, i.instance = null, this.statusQueue = null, this._loadResEvent = null, i.loaderGroup = null, i.loadTaskDict.Clear(), i.loadTaskDict = null, i.permanentRes.Clear(), i.permanentRes = null, i.impermanentRes.Clear(), i.impermanentRes = null, this.onLoadDone = null, this.node.destroy()
            }, e.instance = null, e.loaderGroup = null, e.loadTaskDict = null, e.permanentRes = null, e.impermanentRes = null, i = a([p], e)
        }(cc.Component);
        n.default = f;
        var y = function() {
                function t() {
                    this.idle = !0, this.startUnixTime = 0, this.resName = "", this.progressEvent = null, this.completeEvent = null
                }
                return Object.defineProperty(t.prototype, "Idle", {
                    get: function() {
                        return this.idle
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "StartUnixTime", {
                    get: function() {
                        return this.startUnixTime
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "ResName", {
                    get: function() {
                        return this.resName
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.LoadRes = function(t, e, n, i, o) {
                    this.idle = !1, this.progressEvent = i, this.completeEvent = o, this.startUnixTime = (new Date).getTime(), this.resName = e;
                    var a = h.default.getMultiLangUrl("" != t ? t + "/" + e : e);
                    cc.resources.load(a, n, this.onProgress.bind(this), this.onComplete.bind(this))
                }, t.prototype.LoadBundle = function(t, e, n, i, o) {
                    this.idle = !1, this.progressEvent = i, this.completeEvent = o, this.startUnixTime = (new Date).getTime(), this.resName = e;
                    var a = t.indexOf("/"),
                        s = t.substring(0, a),
                        r = "" != t ? t.substring(a + 1, t.length) : "";
                    r = h.default.getMultiLangUrl("" != r ? r + "/" + e : e), cc.assetManager.getBundle(s).load(r, n, this.onProgress.bind(this), this.onComplete.bind(this))
                }, t.prototype.Release = function(t, e) {
                    var n = t + "/" + e;
                    cc.resources.release(n)
                }, t.prototype.onProgress = function(t, e, n) {
                    this.progressEvent && this.progressEvent(t, e, n)
                }, t.prototype.onComplete = function(t, e) {
                    this.completeEvent && this.completeEvent(this, t, e), this.idle = !0
                }, t
            }(),
            m = function() {
                function t(t, e, n, i, o) {
                    this.file = "", this.name = "", this.type = cc.Asset, this.resource = null, this.onComplete = null, this.loading = !1, this.permanent = !1, this.file = t, this.name = e, this.type = n, this.onComplete = i, this.permanent = o
                }
                return Object.defineProperty(t.prototype, "File", {
                    get: function() {
                        return this.file
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Name", {
                    get: function() {
                        return this.name
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Url", {
                    get: function() {
                        return this.file + "/" + this.name
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Type", {
                    get: function() {
                        return this.type
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Resource", {
                    get: function() {
                        return this.resource
                    },
                    set: function(t) {
                        this.resource = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "OnComplete", {
                    get: function() {
                        return this.onComplete
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Loading", {
                    get: function() {
                        return this.loading
                    },
                    set: function(t) {
                        this.loading = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Permanent", {
                    get: function() {
                        return this.permanent
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }();
        cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "./ArkGameUtility": "ArkGameUtility",
        "./MultiLangSystem": "MultiLangSystem"
    }],
    RAGING_DRAGON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "59f5ffWhKhNTb1+asaxpPNM", "RAGING_DRAGON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.FollowCollider = [], e.FollowBoneName = [], e.centerBoneName = "bone2", e.followBone = null, e.centerBone = null, e.BonePos = null, e.moveSound = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode = this.node.getChildByName("Shape"), this.followBone = new Array;
                    for (var i = 0; i < this.FollowBoneName.length; i++) this.followBone.push(this.skeleton.findBone(this.FollowBoneName[i]));
                    this.centerBone = this.skeleton.findBone(this.centerBoneName), this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "run", !0), this.moveSound = l.default.Instance.Play("Dragon_move_01", .5, !0)
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1 : this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1
                }, e.prototype.update = function(e) {
                    if (t.prototype.update.call(this, e), this.skeleton.updateWorldTransform(), this.AliveStatus == h.FishState.ALIVE)
                        for (var n = 0; n < this.FollowBoneName.length; n++) this.FollowCollider[n].setPosition(this.followBone[n].worldX, this.followBone[n].worldY);
                    this.AliveStatus == h.FishState.DEAD && (this.BonePos = cc.v2(this.centerBone.worldX, this.centerBone.worldY))
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.AliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.moveSound && l.default.Instance.Stop(this.moveSound), this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                        })
                    })
                }, e.prototype.FishOut = function() {
                    this.moveSound && l.default.Instance.Stop(this.moveSound), t.prototype.FishOut.call(this)
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.PlayClip = function(t, e, n) {
                    var i = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1.25, this.skeleton.setAnimation(0, t, e), n && this.skeleton.setCompleteListener(function() {
                        i.skeleton.setCompleteListener(null), n()
                    })
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), n && n(), o.skeleton.timeScale = 1.2, o.skeleton.setAnimation(0, t, e), i && o.skeleton.setCompleteListener(function() {
                            o.skeleton.setCompleteListener(null), i()
                        })
                    })
                }, e.prototype.FishInScreen = function() {
                    var t = c.default.WinSize,
                        e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                        n = e.x + this.fishRadius > 0 && e.x - this.fishRadius < t.width,
                        i = e.y + this.fishRadius > 0 && e.y - this.fishRadius < t.height;
                    return n && i
                }, e.prototype.isLockInScreen = function(t) {
                    if (t) {
                        var e = this.node.convertToWorldSpaceAR(t.getPosition());
                        if (e.x >= -50 && e.x < c.default.WinSize.width - -50 && e.y >= -50 && e.y < c.default.WinSize.height - -50) return e
                    }
                    return null
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d([cc.Node])], e.prototype, "FollowCollider", void 0), a([d([cc.String])], e.prototype, "FollowBoneName", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    RED_DRAGON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "9e1735LfwZMI4n3EiCVvQzi", "RED_DRAGON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/AudioManager"),
            r = t("../Fish/BaseSpineFish"),
            c = cc._decorator,
            l = c.ccclass,
            h = (c.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1245, -70), this.node.angle = -this.o, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !1), s.default.Instance.Play("RedDragon_Announce")
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.PlayDieAnim = function() {
                    var t = this;
                    this.skeleton.timeScale = 0, this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.1, 10, 10), cc.moveBy(.1, -10, -10)), 5), cc.callFunc(function() {
                        t.CoinEffect(2.5 * t.shapeNode.scale)
                    }), cc.fadeOut(1), cc.callFunc(function() {
                        t.RemoveSelf()
                    }))), s.default.Instance.Play("RedDragon_Roar")
                }, a([l], e)
            }(r.default));
        n.default = h, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseSpineFish": "BaseSpineFish"
    }],
    ROCK_SKELETON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "1b2007uS25NDL2WzwPDDwwl", "ROCK_SKELETON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ModelAni = null, e.SMR = null, e.GuitarSMR = null, e.ModelMat = null, e.ccAni = null, e.ice_group = [], e.color = cc.Color.WHITE, e.tween = null, e.newMat = null, e.animEvent = null, e.eventTimer = 0, e.timerPause = !1, e.LifeTimer = 0, e.onSyncStop = null, e
                }
                return o(e, t), e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.tween && this.newMat.setProperty("diffuseColor", this.color), this.timerPause || (this.eventTimer > 0 && (this.eventTimer -= e, this.eventTimer <= 0 && (this.eventTimer = 0, this.animEvent && this.animEvent())), this.LifeTimer > 0 && (this.LifeTimer -= e, this.syncTime > 0 && (this.LifeTimer -= 5 * e), this.LifeTimer <= 0 && (this.LifeTimer = 0, this.FishFadeOut(.5, h.FishOutType.FISH_PATH_FINISH))), this.syncTime > 0 && (this.syncTime -= 5 * e, this.syncTime <= 0 && this.onSyncStop && (this.syncTime = 0, this.onSyncStop(), this.onSyncStop = null)))
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0;
                    var e = 9 * (this.x - 50);
                    if (this.node.setPosition(e, 0), this.node.angle = c.default.isReverse ? 180 : 0, this.ModelAni.node.eulerAngles = cc.Vec3.ZERO, null == this.newMat) {
                        this.newMat = cc.MaterialVariant.create(this.ModelMat, this.SMR);
                        var n = cc.MaterialVariant.create(this.ModelMat, this.GuitarSMR);
                        this.SMR.setMaterial(0, this.newMat), this.GuitarSMR.setMaterial(0, n)
                    }
                    this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color), this.node.opacity = 255, this.PlayClip("Jump", !1), this.SetNextClip("idle1", !0), this.ccAni.node.opacity = 0, this.ccAni.stop(), this.ccAni.play("BrokenIn"), l.default.Instance.Play("Skeleton_in_01"), this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.LifeTimer = 10
                }, e.prototype.FishFadeOut = function(t, e) {
                    var n = this;
                    void 0 === t && (t = .5), this.LifeTimer = 0, this.SetNextClip("JumpOut", !1, function() {
                        n.ccAni.node.opacity = 0, n.ccAni.stop(), n.ccAni.play("BrokenOut"), l.default.Instance.Play("Skeleton_out_01")
                    }, function() {
                        n.node.opacity = 0, n.canCollision = !1, n.scheduleOnce(n.FishOut.bind(n, e), 2)
                    })
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.LifeTimer = 0, this.syncTime = 0, this.eventTimer = 0, this.animEvent = null, this.node.opacity = 255, this.ccAni.node.opacity = 0, this.ccAni.stop(), this.Event_FishLeave && this.Event_FishLeave(this, 6), this.ice_group.forEach(function(t) {
                                t.active = !1
                            }), [2]
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.ModelAni.stop(), this.ccAni.stop(), this.timerPause = !1, t.prototype.RemoveSelf.call(this)
                }, e.prototype.OnHitFish = function() {
                    var t = this;
                    this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                        r: 200,
                        g: 0,
                        b: 0
                    }).to(.1, {
                        r: 255,
                        g: 255,
                        b: 255
                    })).call(function() {
                        t.tween = null, t.color = cc.Color.WHITE, t.newMat.setProperty("diffuseColor", t.color)
                    }).start()
                }, e.prototype.PauseClip = function() {
                    this.ModelAni.pause(), this.timerPause = !0
                }, e.prototype.ResumeClip = function() {
                    this.ModelAni.resume(), this.timerPause = !1
                }, e.prototype.PlayClip = function(t, e, n) {
                    this.animEvent = null, this.ModelAni.play(t);
                    var i = this.ModelAni.getAnimationState(t);
                    i && (i.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, i.speed = 1, n && (this.eventTimer = i.duration, this.animEvent = n))
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.animEvent = null;
                    var a = this.ModelAni.getAnimationState(this.ModelAni.currentClip.name);
                    a && (this.eventTimer = a.duration - a.time, this.animEvent = function() {
                        n && n(), o.ModelAni.play(t);
                        var a = o.ModelAni.getAnimationState(t);
                        a && (a.repeatCount = e ? cc.macro.REPEAT_FOREVER : 1, a.speed = 1, i && (o.eventTimer = a.duration, o.animEvent = i))
                    }, this.eventTimer <= 0 && this.animEvent())
                }, e.prototype.SetClipSpeed = function(t) {
                    var e = this.ModelAni.getAnimationState(this.ModelAni.currentClip.name);
                    if (e) {
                        var n = e.speed;
                        n != t && (e.speed = t, this.eventTimer > 0 && (this.eventTimer = this.eventTimer * (n / t)))
                    }
                }, e.prototype.eulerTurn = function(t, e) {
                    this.ModelAni.node.runAction(cc.rotate3DTo(e, t))
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.ModelAni.pause(), this.timerPause = !0, this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.ModelAni.resume(), this.timerPause = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.SetSyncTime = function(e) {
                    var n = this;
                    t.prototype.SetSyncTime.call(this, e), this.SetClipSpeed(5), this.onSyncStop = function() {
                        n.SetClipSpeed(1)
                    }
                }, a([d(cc.SkeletonAnimation)], e.prototype, "ModelAni", void 0), a([d(cc.SkinnedMeshRenderer)], e.prototype, "SMR", void 0), a([d(cc.MeshRenderer)], e.prototype, "GuitarSMR", void 0), a([d(cc.Material)], e.prototype, "ModelMat", void 0), a([d(cc.Animation)], e.prototype, "ccAni", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    RagingDragonUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "cbed5PCCjNCWYZ3SOZ6UkE/", "RagingDragonUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-200)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("RagingDragonTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "RagingDragonBigWin" : "RagingDragonYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    RedDragonReward: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ba6acvHwdVChZ2PG0eUlbJX", "RedDragonReward");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.spine = null, e.smoke = null, e.coinBack = null, e.coinFront_node1 = null, e.coinFront_node2 = null, e.coinFront1 = null, e.coinFront2 = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    var e = this;
                    this.label.string = t.toString(), null == this.coinFront1 && (this.coinFront1 = this.coinFront_node1.getComponentsInChildren(cc.Animation)), null == this.coinFront2 && (this.coinFront2 = this.coinFront_node2.getComponentsInChildren(cc.Animation)), this.spine.setAnimation(0, "RedDragonReward", !1), this.label.node.scale = 0, cc.tween(this.label.node).to(.2, {
                        scale: 1
                    }).delay(.3).call(function() {
                        e.smoke.resetSystem(), e.coinBack.emissionRate = 50, e.DropCoins(e.coinFront1)
                    }).to(.65, {
                        scale: 1.3
                    }).call(function() {
                        e.coinBack.emissionRate = 0
                    }).to(.65, {
                        scale: 1
                    }).call(function() {
                        e.coinBack.emissionRate = 50, e.DropCoins(e.coinFront2)
                    }).to(.65, {
                        scale: 1.5
                    }).call(function() {
                        e.coinBack.emissionRate = 0
                    }).to(.65, {
                        scale: 1
                    }).delay(.65).to(.3, {
                        scale: 0
                    }).delay(5).call(function() {}).start()
                }, e.prototype.DropCoins = function(t) {
                    for (var e = function(e) {
                            t[e].node.setPosition(cc.v3(800 * Math.random() - 400, 640 + 100 * Math.random())), t[e].node.angle = 360 * Math.random(), t[e].node.scale = .5 * Math.random() + 1, t[e].node.active = !0, t[e].play(null, Math.random()), cc.tween(t[e].node).by(Math.random() + 1.5, {
                                position: cc.v3(100 * Math.random() - 50, -1280)
                            }).call(function() {
                                t[e].node.active = !1, t[e].stop()
                            }).start()
                        }, n = 0; n < t.length; n++) e(n)
                }, a([l(cc.Label)], e.prototype, "label", void 0), a([l(sp.Skeleton)], e.prototype, "spine", void 0), a([l(cc.ParticleSystem)], e.prototype, "smoke", void 0), a([l(cc.ParticleSystem)], e.prototype, "coinBack", void 0), a([l(cc.Node)], e.prototype, "coinFront_node1", void 0), a([l(cc.Node)], e.prototype, "coinFront_node2", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    ResourceManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8b4d7BoK3ZEA5OkQWxZUqd6", "ResourceManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./PoolObj"),
            l = t("./AudioManager"),
            h = t("./PreloadManager"),
            u = t("../../GameClient"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.FlipObjects = null, e.Background = null, e.Fishes = null, e.Bullets = null, e.Award = null, e.Weapon = null, e.GUI = null, e.Effects = null, e.Skills = null, e.Titles = null, e.Bullets_own = null, e.Award_own = null, e.Weapon_own = null, e.Effects_own = null, e.Skills_own = null, e.Titles_own = null, e.TopRoot = null, e.FishPools = {}, e.BulletPools = {}, e.WeaponPools = {}, e.GUIPools = {}, e.EffectPools = {}, e.SkillPools = {}, e.AwardPools = {}, e.TitlePools = {}, e.BackgroundPools = {}, e.TopRootPools = {}, e.ParentManager = {}, e.isLoadDone = !1, e.stackKey = -1, e.lastStageData = {}, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    n.instance = this
                }, e.prototype.Init = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    this.stackKey = h.default.Instance.onReleaseSceneEvent.AddListener(function() {
                                        n.ClearAllPool()
                                    }), t = "resource_common", i.label = 1;
                                case 1:
                                    return i.trys.push([1, 3, , 4]), [4, u.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_common/" + window.gd_nowLOGO + "_resource_common").then(function() {
                                        t = window.gd_nowLOGO + "_resource_common"
                                    })];
                                case 2:
                                case 3:
                                    return i.sent(), [3, 4];
                                case 4:
                                    return [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_common/" + t)];
                                case 5:
                                    return e = i.sent(), this.initPool(e.Bullet, this.BulletPools, this.Bullets), this.initPool(e.Effect, this.EffectPools, this.Effects), this.initPool(e.Skill, this.SkillPools, this.Skills), this.initPool(e.Award, this.AwardPools, this.Award), this.initPool(e.Title, this.TitlePools, this.Titles), this.initPool(e.Background, this.BackgroundPools, this.Background), this.initPool(e.Fish, this.FishPools, this.Fishes), this.initPool(e.Weapon, this.WeaponPools, this.Weapon), this.initPool(e.GUI, this.GUIPools, this.GUI), this.initPool(e.TopRoot, this.TopRootPools, this.TopRoot), this.isLoadDone = !0, this.schedule(function() {
                                        n.autoReducePool(n.FishPools), n.autoReducePool(n.BulletPools), n.autoReducePool(n.WeaponPools), n.autoReducePool(n.GUIPools), n.autoReducePool(n.EffectPools), n.autoReducePool(n.SkillPools), n.autoReducePool(n.AwardPools), n.autoReducePool(n.TitlePools), n.autoReducePool(n.BackgroundPools), n.autoReducePool(n.TopRootPools)
                                    }, 60), [2]
                            }
                        })
                    })
                }, e.prototype.ClearAllPool = function() {
                    var t = this;
                    h.default.Instance.onReleaseSceneEvent.RemoveListenerByID(this.stackKey), this.ClearParentManager(), this.ClearPool(this.FishPools, this.Fishes), this.ClearPool(this.BulletPools, this.Bullets), this.ClearPool(this.WeaponPools, this.Weapon), this.ClearPool(this.GUIPools, this.GUI), this.ClearPool(this.EffectPools, this.Effects), this.ClearPool(this.SkillPools, this.Skills), this.ClearPool(this.AwardPools, this.Award), this.ClearPool(this.TitlePools, this.Titles), this.ClearPool(this.BackgroundPools, this.Background), this.ClearPool(this.TopRootPools, this.TopRoot), Object.keys(this.FishPools).forEach(function(e) {
                        var n = t.FishPools[e].pool;
                        n.size() > 10 && console.log("[FishPools]id: %s, size: %s", e, n.size())
                    }), n.instance = null
                }, e.prototype.ClearParentManager = function() {
                    var t = this;
                    Object.keys(this.ParentManager).forEach(function(e) {
                        t.ParentManager[e].children.forEach(function(t) {
                            t.destroy()
                        })
                    }), this.ParentManager = {}
                }, e.prototype.ClearPool = function(t, e) {
                    Object.keys(t).forEach(function(e) {
                        var n = t[e];
                        n.pool.clear(), delete n.pool, delete n.prefab, delete t[e]
                    }), e.removeAllChildren(), t = {}
                }, e.prototype.ChangeResource = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_stage" + t.toString())];
                                case 1:
                                    return (e = n.sent()) ? (console.error(" ChangeResourceChangeResource!!! stage = " + t), this.refreshPool(e, "Background", this.BackgroundPools, this.Background), this.refreshPool(e, "Fish", this.FishPools, this.Fishes), this.refreshPool(e, "Skill", this.SkillPools, this.Skills), this.refreshPool(e, "Effect", this.EffectPools, this.Effects), this.refreshPool(e, "Award", this.AwardPools, this.Award), this.refreshPool(e, "Title", this.TitlePools, this.Titles), this.refreshPool(e, "GUI", this.GUIPools, this.GUI), this.lastStageData = e, [2, !0]) : (console.error("Can't load stage config:" + t.toString()), [2])
                            }
                        })
                    })
                }, e.SpawnFish = function(t) {
                    var e = this.instance.getObject(this.instance.FishPools, t, this.instance.Fishes);
                    return null == e ? (console.error("[SpawnFish]fish type: " + t + " is null"), null) : e
                }, e.DespawnFish = function(t, e) {
                    this.instance.putObject(this.instance.FishPools, t, e)
                }, e.LoadBackground = function(t) {
                    return this.instance.getObject(this.instance.BackgroundPools, t, this.instance.Background)
                }, e.UnLoadBackground = function(t, e) {
                    this.instance.putObject(this.instance.BackgroundPools, t, e)
                }, e.SpawnBullet = function(t, e) {
                    return e ? this.instance.getObject(this.instance.BulletPools, t, this.instance.Bullets_own) : this.instance.getObject(this.instance.BulletPools, t, this.instance.Bullets)
                }, e.DespawnBullet = function(t, e) {
                    this.instance.putObject(this.instance.BulletPools, t, e)
                }, e.LoadWeapon = function(t, e) {
                    return e ? this.instance.getObject(this.instance.WeaponPools, t, this.instance.Weapon_own) : this.instance.getObject(this.instance.WeaponPools, t, this.instance.Weapon)
                }, e.UnloadWeapon = function(t, e) {
                    this.instance.putObject(this.instance.WeaponPools, t, e)
                }, e.LoadGUI = function(t) {
                    return this.instance.getObject(this.instance.GUIPools, t, this.instance.GUI)
                }, e.UnloadGUI = function(t, e) {
                    this.instance.putObject(this.instance.GUIPools, t, e)
                }, e.SpawnAward = function(t, e) {
                    return e ? this.instance.getObject(this.instance.AwardPools, t, this.instance.Award_own) : this.instance.getObject(this.instance.AwardPools, t, this.instance.Award)
                }, e.DespawnAward = function(t, e) {
                    this.instance.putObject(this.instance.AwardPools, t, e)
                }, e.SpawnEffect = function(t, e) {
                    return e ? this.instance.getObject(this.instance.EffectPools, t, this.instance.Effects_own) : this.instance.getObject(this.instance.EffectPools, t, this.instance.Effects)
                }, e.DespawnEffect = function(t, e) {
                    this.instance.putObject(this.instance.EffectPools, t, e)
                }, e.SpawnSkill = function(t, e) {
                    return e ? this.instance.getObject(this.instance.SkillPools, t, this.instance.Skills_own) : this.instance.getObject(this.instance.SkillPools, t, this.instance.Skills)
                }, e.DespawnSkill = function(t, e) {
                    this.instance.putObject(this.instance.SkillPools, t, e)
                }, e.SpawnTitle = function(t, e) {
                    return e ? this.instance.getObject(this.instance.TitlePools, t, this.instance.Titles_own) : this.instance.getObject(this.instance.TitlePools, t, this.instance.Titles)
                }, e.DespawnTitle = function(t, e) {
                    this.instance.putObject(this.instance.TitlePools, t, e)
                }, e.LoadTopRoot = function(t) {
                    return this.instance.getObject(this.instance.TopRootPools, t, this.instance.TopRoot)
                }, e.UnloadTopRoot = function(t, e) {
                    this.instance.putObject(this.instance.TopRootPools, t, e)
                }, e.prototype.initPool = function(t, e, n) {
                    for (var i = Object.keys(t), o = 0; o < i.length; o++) {
                        var a = i[o],
                            s = t[a].name;
                        if (s) {
                            var r = t[a].layer || 0,
                                l = t[a].sound,
                                u = h.default.Instance.GetRes(s);
                            if (u && u.data) {
                                var p = this.getParentNode(n, r),
                                    d = new cc.NodePool(c.default),
                                    f = cc.instantiate(u);
                                p.addChild(f), f.setPosition(cc.Vec2.ZERO), d.put(f), this.ParentManager[n.name + r] = p, e[a] = {
                                    pool: d,
                                    layer: r,
                                    prefab: u,
                                    sound: l,
                                    name: s
                                }
                            } else console.error("[InitPool]name: %s, is not find prefab", s)
                        }
                    }
                }, e.prototype.refreshPool = function(t, e, n, i) {
                    for (var o = Object.keys(t[e]), a = this.lastStageData && this.lastStageData[e] ? Object.keys(this.lastStageData[e]) : [], s = Math.max(o.length, a.length), r = 0; r < s; r++) {
                        var l = o[r],
                            u = a[r];
                        if (l && -1 == a.indexOf(l)) {
                            var p = t[e][l],
                                d = p.name,
                                f = p.layer || 0,
                                y = p.sound,
                                m = this.getParentNode(i, f),
                                g = new cc.NodePool(c.default),
                                S = h.default.Instance.GetRes(d);
                            if (S && S.data) {
                                var _ = cc.instantiate(S);
                                m.addChild(_), _.setPosition(cc.Vec2.ZERO), g.put(_), this.ParentManager[i.name + f] = m, n[l] = {
                                    pool: g,
                                    layer: f,
                                    prefab: S,
                                    sound: y,
                                    name: d
                                }
                            } else cc.warn("[RefreshPool]name: %s not found prefab: %s", d, S)
                        }
                        if (u && -1 == o.indexOf(u) && n[u]) {
                            for (var v = (g = n[u].pool).size(); v > 0; v--) g.get().destroy();
                            g.clear(), g = null, n[u] = null, delete n[u]
                        }
                    }
                    this.autoReducePool(n)
                }, e.prototype.autoReducePool = function(t, e) {
                    void 0 === e && (e = 4);
                    for (var n = Object.keys(t), i = 0; i < n.length; i++) {
                        var o = t[n[i]].pool;
                        if (!(o.size() < e))
                            for (var a = o.size(); a > e; a--) o.get().destroy()
                    }
                    cc.sys.garbageCollect()
                }, e.prototype.getParentNode = function(t, e) {
                    void 0 === e && (e = 0);
                    var n = this.ParentManager[t.name + e];
                    return null == n && (n = new cc.Node, t.addChild(n, e), n.setPosition(cc.Vec2.ZERO)), n
                }, e.prototype.getObject = function(t, e, n) {
                    var i = null;
                    if (t.hasOwnProperty(e)) {
                        var o = t[e].pool,
                            a = t[e].layer,
                            s = t[e].sound;
                        if (null == (i = o.get())) {
                            var r = t[e].prefab;
                            if (!r || !r.data) return i;
                            i = cc.instantiate(r)
                        }
                        if (i) {
                            var c = this.getParentNode(n, a);
                            try {
                                c.addChild(i, a)
                            } catch (h) {
                                cc.log("type: ", e), cc.log("error: ", h)
                            }
                            i.setPosition(cc.Vec2.ZERO), this.ParentManager[n.name + a] = c, s && l.default.Instance.Play(s)
                        } else console.error("[getObject]Obj: %s spawn fail!", e)
                    }
                    return i
                }, e.prototype.putObject = function(t, e, n) {
                    try {
                        if (t.hasOwnProperty(e) && n) {
                            var i = t[e].pool;
                            n.removeFromParent(), i.put(n)
                        } else n && n.destroy()
                    } catch (p) {
                        console.error("[putObject]Obj: %s put fail!", e)
                    }
                }, e.instance = null, a([f(cc.Node)], e.prototype, "FlipObjects", void 0), a([f(cc.Node)], e.prototype, "Background", void 0), a([f(cc.Node)], e.prototype, "Fishes", void 0), a([f(cc.Node)], e.prototype, "Bullets", void 0), a([f(cc.Node)], e.prototype, "Award", void 0), a([f(cc.Node)], e.prototype, "Weapon", void 0), a([f(cc.Node)], e.prototype, "GUI", void 0), a([f(cc.Node)], e.prototype, "Effects", void 0), a([f(cc.Node)], e.prototype, "Skills", void 0), a([f(cc.Node)], e.prototype, "Titles", void 0), a([f(cc.Node)], e.prototype, "Bullets_own", void 0), a([f(cc.Node)], e.prototype, "Award_own", void 0), a([f(cc.Node)], e.prototype, "Weapon_own", void 0), a([f(cc.Node)], e.prototype, "Effects_own", void 0), a([f(cc.Node)], e.prototype, "Skills_own", void 0), a([f(cc.Node)], e.prototype, "Titles_own", void 0), a([f(cc.Node)], e.prototype, "TopRoot", void 0), n = a([d], e)
            }(cc.Component);
        n.default = y, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "./AudioManager": "AudioManager",
        "./PoolObj": "PoolObj",
        "./PreloadManager": "PreloadManager"
    }],
    RockSkullBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3f419Xj4/BOhrsC5WLjFWPL", "RockSkullBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/ResourceManager"),
            c = t("./BaseBackGround"),
            l = t("./ColorAssembler"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ColorAssembler = null, e.RockOnBG = null, e.Fire = null, e.BottomLight = null, e.TopLight = null, e.loopBlastCount = 0, e
                }
                return o(e, t), e.prototype.reuse = function() {
                    t.prototype.reuse.call(this), this.ColorAssembler.Init(), this.node.angle = s.default.isReverse ? 180 : 0
                }, e.prototype.BossEnter = function() {
                    this.bossEnter || (this.bossEnter = !0, this.ColorAssembler.startChange())
                }, e.prototype.RockStart = function() {
                    this.ColorAssembler.stopChange(), this.Fire.play(), this.RockOnBG.runAction(cc.fadeTo(.5, 150)), null == this.TopLight && (this.TopLight = r.default.SpawnEffect("RockSkullBG_Light").getComponent(cc.Animation)), this.TopLight.node.opacity = 0, this.TopLight.node.runAction(cc.fadeIn(.5)), this.TopLight.play("TopLoop")
                }, e.prototype.RockOn = function() {
                    this.node && this.node.active && (this.node.runAction(cc.scaleTo(1, 1.5).easing(cc.easeBackIn())), this.RockOnBG.runAction(cc.fadeTo(.5, 255)))
                }, e.prototype.Blast = function() {
                    this.node && this.node.active && this.BottomLight.play()
                }, e.prototype.RockOver = function() {
                    var t = this;
                    this.node && this.node.active && (this.node.runAction(cc.scaleTo(1, 1)), this.RockOnBG.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                        t.RockOnBG.opacity = 0
                    }))), this.TopLight && (this.TopLight.play("TopLoop"), this.TopLight.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                        t.TopLight.node.opacity = 0
                    })))), this.ColorAssembler.startChange())
                }, e.prototype.HitLoopBlast = function() {
                    if (this.TopLight) {
                        var t = this.loopBlastCount % 2;
                        this.TopLight.play("TopBlast" + t.toString()), this.loopBlastCount++
                    }
                }, e.prototype.BigExplode = function() {
                    this.TopLight && this.TopLight.play("TopExplode")
                }, e.prototype.Recycle = function() {
                    this.TopLight && (this.TopLight.stop(), r.default.DespawnEffect("RockSkullBG_Light", this.TopLight.node), this.TopLight = null), t.prototype.Recycle.call(this)
                }, a([p(l.default)], e.prototype, "ColorAssembler", void 0), a([p(cc.Node)], e.prototype, "RockOnBG", void 0), a([p(cc.Animation)], e.prototype, "Fire", void 0), a([p(cc.Animation)], e.prototype, "BottomLight", void 0), a([u], e)
            }(c.default);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/ResourceManager": "ResourceManager",
        "./BaseBackGround": "BaseBackGround",
        "./ColorAssembler": "ColorAssembler"
    }],
    RockSkullUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "57128EoVYJJUo8ERc+OJZIh", "RockSkullUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-200)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("RockSkullTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "RockSkullBigWin" : "RockSkullYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    SEA_TURTLE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "63145tFBQ5O7ol6zCC1sQyR", "SEA_TURTLE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseFish"),
            l = cc._decorator.ccclass,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.hitEffect = [], e
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(80, 500)
                }, e.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (t = this.shapeNode.children, e = 0; e < t.length; e++) this.hitEffect[e] && (this.hitEffect[e].isDone || (t[e].stopAction(this.hitEffect[e]), this.hitEffect = null, t[e].color = cc.Color.WHITE));
                                    e = 0, i.label = 1;
                                case 1:
                                    return e < t.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, t[e].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return e++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, a([l], e)
            }(c.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    SUBMARINE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "5e52c+++MZHQ7UgVgt0Okn1", "SUBMARINE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../GameClient"),
            l = t("../Common/AudioManager"),
            h = t("../Common/ResourceManager"),
            u = t("../Player/FishAvatarIcon"),
            p = t("../Player/PlayerManager"),
            d = t("./BaseFish"),
            f = cc._decorator,
            y = f.ccclass,
            m = f.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.CaptureScore = null, e.occupyNode = null, e.avatarIcon = null, e.profileBtn = null, e.mainSeatOccupy = !1, e.onUpdate = null, e.step = 0, e.nick_name = null, e.ark_id = null, e.avatar_id = null, e.avatar_frame_id = null, e.mainPlayerArkID = null, e
                }
                return o(e, t), e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.AliveStatus == d.FishState.ALIVE && (this.step += e, this.step > 1 && (this.step = 0, this.updateAvatar(this.onUpdate(), !1)), this.occupyNode.position = this.node.position)
                }, e.prototype.Init = function(e, n) {
                    for (t.prototype.Init.call(this, e, n), this.o < 80 && (this.o += 80); this.o > 100 && this.o < 180;) this.o -= 15;
                    for (this.o > 280 && (this.o -= 80); this.o >= 180 && this.o < 260;) this.o += 15;
                    this.isFeature = !0, this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "run", !0), l.default.Instance.Play("Battleship_move_01")
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), s.default.isReverse ? (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? 1 : -1, this.node.angle = -1 == this.node.scaleY ? 0 : 180) : (this.node.scaleY = this.node.rotation <= -90 || this.node.rotation >= 90 ? -1 : 1, this.node.angle = -1 == this.node.scaleY ? 180 : 0), this.CaptureScore.node.scaleX = -1 == this.node.scaleY ? -1 : 1, this.CaptureScore.node.active = !0, this.occupyNode.setParent(h.default.Instance.Award), p.PlayerManager.MainSeat > 1 ? this.occupyNode.scale = -1 : this.occupyNode.scale = 1
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.PlayClip = function(t, e, n) {
                    var i = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1.25, this.skeleton.setAnimation(0, t, e), n && this.skeleton.setCompleteListener(function() {
                        i.skeleton.setCompleteListener(null), n()
                    })
                }, e.prototype.SetNextClip = function(t, e, n, i) {
                    var o = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), n && n(), o.skeleton.timeScale = 1.2, o.skeleton.setAnimation(0, t, e), i && o.skeleton.setCompleteListener(function() {
                            o.skeleton.setCompleteListener(null), i()
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, e.prototype.setExdata = function(t) {
                    if (this.mainPlayerArkID = t.mainPlayerArkID, t.hasOwnProperty("onUpdate") && (this.onUpdate = t.onUpdate, this.updateAvatar(this.onUpdate(), !0)), t.hasOwnProperty("capture_score")) this.CaptureScore.string = t.capture_score;
                    else switch (this.Type) {
                        case 89:
                            this.CaptureScore.string = t.large_capture_score;
                            break;
                        case 90:
                            this.CaptureScore.string = t.small_capture_score;
                            break;
                        case 91:
                            this.CaptureScore.string = t.medium_capture_score
                    }
                }, e.prototype.updateAvatar = function(t, e) {
                    var n = "";
                    switch (this.Type) {
                        case 89:
                            n = "SUBMARINE_R";
                            break;
                        case 90:
                            n = "SUBMARINE_G";
                            break;
                        case 91:
                            n = "SUBMARINE_B"
                    }
                    if (t.hasOwnProperty(n)) {
                        var i = t[n];
                        (e || this.ark_id != i.ark_id || this.avatar_id != i.equip_avatar || this.avatar_frame_id != i.equip_avatar_frame || this.nick_name != i.nick_name) && (this.ark_id = i.ark_id, this.mainSeatOccupy = this.ark_id == this.mainPlayerArkID, this.avatarIcon.node.active = !0, this.avatarIcon.playerId = i.ark_id, this.profileBtn.interactable = !0, i.nick_name && "" != i.nick_name ? this.avatarIcon.SetNickname(i.nick_name) : (this.avatarIcon.node.active = !1, this.profileBtn.interactable = !1), this.avatarIcon.SetFrameByID(i.equip_avatar_frame), this.avatar_frame_id = i.equip_avatar_frame, this.avatarIcon.SetFaceByID(i.equip_avatar), this.avatar_id = i.equip_avatar, this.nick_name = i.nick_name)
                    }
                }, e.prototype.resetTranfrom = function(t) {
                    t.x > 0 ? (this.node.scaleY = s.default.isReverse ? 1 : -1, this.node.angle = s.default.isReverse ? 0 : 180) : (this.node.scaleY = s.default.isReverse ? -1 : 1, this.node.angle = s.default.isReverse ? 180 : 0), this.occupyNode.scaleX = -1 == this.node.scaleY ? -1 : 1, this.CaptureScore.node.active = !1
                }, e.prototype.CanCollisionByMainSeat = function(t) {
                    return (!t || !this.mainSeatOccupy) && this.canCollision
                }, e.prototype.onClickAvatar = function() {
                    if ("" != this.ark_id && null != this.ark_id) {
                        var t = this.ark_id == r.LobbyClient.Instance.GetUserClient.GetPinClient.ArkID;
                        c.default.FishUIMgr.ClickPlayerProfile(this.ark_id, t, t ? c.OpenMainPlayerProfile.InFishBattleShip : c.OpenOtherPlayerProfile.InFishBattleShip)
                    }
                }, e.prototype.FishFadeOut = function(e, n) {
                    void 0 === e && (e = .5), n != d.FishOutType.FISH_FORCE_LEAVE && t.prototype.FishFadeOut.call(this, e, n)
                }, a([m(sp.Skeleton)], e.prototype, "skeleton", void 0), a([m(cc.Label)], e.prototype, "CaptureScore", void 0), a([m(cc.Node)], e.prototype, "occupyNode", void 0), a([m(u.default)], e.prototype, "avatarIcon", void 0), a([m(cc.Button)], e.prototype, "profileBtn", void 0), a([y], e)
            }(d.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/FishAvatarIcon": "FishAvatarIcon",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseFish": "BaseFish"
    }],
    ShadowCamera: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3dd6dB8+FNF4JfjhjJ46Oci", "ShadowCamera");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.camera = null, e.sprite = null, e
                }
                return o(e, t), e.prototype.start = function() {
                    var t = new cc.RenderTexture;
                    t.initWithSize(cc.winSize.width, cc.winSize.height);
                    var e = new cc.SpriteFrame;
                    e.setTexture(t), this.sprite.spriteFrame = e, this.camera.targetTexture = t
                }, a([c(cc.Camera)], e.prototype, "camera", void 0), a([c(cc.Sprite)], e.prototype, "sprite", void 0), a([r], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    ShipInfo: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bd139Ar1txFcIGLLL8UzBLX", "ShipInfo");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../LobbyCommon/Helper/EventSystem"),
            r = t("../../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../GameClient"),
            l = t("../Common/AudioManager"),
            h = t("../Common/PoolObj"),
            u = t("../Common/Utility"),
            p = t("../Player/FishAvatarIcon"),
            d = cc._decorator,
            f = d.ccclass,
            y = d.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.scoreLabel = null, e.BgSprite = [], e.InfoBG = [], e.avatarIcon = null, e.AddEffect = null, e.shipData = {}, e.targetScore = 0, e.nowScore = 0, e.step = 0, e.onClick = null, e.playerID = "", e.lockChange = [], e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    t.prototype.onLoad.call(this), s.EventSystem.Event(s.Profile.NotifyUpdatePlayerSetting).Insert(this.RefreshShipProfileData, this), s.EventSystem.Event(s.FishHunter.UpdatePlayerSetting).Insert(this.RefreshShipProfileData, this)
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.Event(s.Profile.NotifyUpdatePlayerSetting).Remove(this.RefreshShipProfileData, this), s.EventSystem.Event(s.FishHunter.UpdatePlayerSetting).Remove(this.RefreshShipProfileData, this)
                }, e.prototype.update = function(t) {
                    this.step += t, this.step > .1 && this.targetScore > this.nowScore && (this.step = 0, this.nowScore++, this.scoreLabel.string = u.default.Numberformat(this.nowScore, 0, !1))
                }, e.prototype.setCustomData = function(t) {
                    if (t.hasOwnProperty("onClick") && (this.onClick = t.onClick), t.hasOwnProperty("Close") && t.Close && (this.node.opacity = 0), t.hasOwnProperty("Skilling") && t.Skilling && this.lockChange.push(t.Skilling), t.hasOwnProperty("unSkilling") && t.unSkilling) {
                        var e = this.lockChange.indexOf(t.unSkilling); - 1 != e && this.lockChange.splice(e, 1)
                    }
                    if (t.hasOwnProperty("submarine_info_list"))
                        for (var n = t.submarine_info_list, i = 0; i < n.length; i++) this.initShipData(n[i], !1);
                    if (t.hasOwnProperty("occupy_data")) {
                        var o = !0;
                        t.hasOwnProperty("changePanel") && (o = t.changePanel), this.initShipData(t.occupy_data, o)
                    }
                }, e.prototype.initShipData = function(t, e) {
                    var n = this,
                        i = this.parseShipData(t, e),
                        o = !1;
                    if (i.submarine_name == this.shipData.InfoPanel && (this.targetScore = Math.floor(i.total_get_score + i.accumulate_score), i.ark_id != this.playerID && (this.playerID = i.ark_id, o = !0)), e) {
                        switch (this.node.opacity = 255, this.AddEffect.play(), l.default.Instance.Play("Lobby_JP"), this.shipData.InfoPanel = i.submarine_name, this.playerID = i.ark_id, i.submarine_name) {
                            case "SUBMARINE_R":
                                this.BgSprite.forEach(function(t) {
                                    t.spriteFrame = n.InfoBG[0]
                                });
                                break;
                            case "SUBMARINE_G":
                                this.BgSprite.forEach(function(t) {
                                    t.spriteFrame = n.InfoBG[1]
                                });
                                break;
                            case "SUBMARINE_B":
                                this.BgSprite.forEach(function(t) {
                                    t.spriteFrame = n.InfoBG[2]
                                })
                        }
                        this.targetScore = Math.floor(i.total_get_score + i.accumulate_score), this.nowScore = this.targetScore, this.scoreLabel.string = u.default.Numberformat(this.nowScore, 0, !1), o = !0
                    }
                    o && (this.avatarIcon.playerId = i.ark_id, i.nick_name && "" != i.nick_name ? this.avatarIcon.SetNickname(i.nick_name) : this.avatarIcon.SetNickname("Unoccupied"), this.avatarIcon.SetFrameByID(i.equip_avatar_frame), this.avatarIcon.SetFaceByID(i.equip_avatar))
                }, e.prototype.parseShipData = function(t, e) {
                    var n = t.submarine_name;
                    if (!e && -1 != this.lockChange.indexOf(n)) return this.shipData[n];
                    switch (!t.hasOwnProperty("equip_avatar") && this.shipData[n].hasOwnProperty("equip_avatar") && (t.equip_avatar = this.shipData[n].equip_avatar), !t.hasOwnProperty("equip_avatar_frame") && this.shipData[n].hasOwnProperty("equip_avatar_frame") && (t.equip_avatar_frame = this.shipData[n].equip_avatar_frame), !t.hasOwnProperty("nick_name") && this.shipData[n].hasOwnProperty("nick_name") && (t.nick_name = this.shipData[n].nick_name), !t.hasOwnProperty("ark_id") && this.shipData[n].hasOwnProperty("ark_id") && (t.ark_id = this.shipData[n].ark_id), !t.hasOwnProperty("occupy_ts") && this.shipData[n].hasOwnProperty("occupy_ts") && (t.occupy_ts = this.shipData[n].occupy_ts), !t.hasOwnProperty("total_get_score") && this.shipData[n].hasOwnProperty("total_get_score") && (t.total_get_score = this.shipData[n].total_get_score), !t.hasOwnProperty("accumulate_score") && this.shipData[n].hasOwnProperty("accumulate_score") && (t.accumulate_score = this.shipData[n].accumulate_score), n) {
                        case "SUBMARINE_R":
                            this.shipData.SUBMARINE_R = t;
                            break;
                        case "SUBMARINE_G":
                            this.shipData.SUBMARINE_G = t;
                            break;
                        case "SUBMARINE_B":
                            this.shipData.SUBMARINE_B = t
                    }
                    return t
                }, e.prototype.onClickInfo = function() {
                    this.onClick && 0 != this.node.opacity && this.onClick(this.shipData)
                }, e.prototype.getData = function() {
                    return this.shipData
                }, e.prototype.onClickAvatar = function() {
                    if ("" != this.playerID && null != this.playerID) {
                        var t = this.playerID == r.LobbyClient.Instance.GetUserClient.GetPinClient.ArkID;
                        c.default.FishUIMgr.ClickPlayerProfile(this.playerID, t, t ? c.OpenMainPlayerProfile.InFishBattleShipInfo : c.OpenOtherPlayerProfile.InFishBattleShipInfo)
                    }
                }, e.prototype.RefreshShipProfileData = function(t) {
                    var e = this;
                    Object.keys(this.shipData).forEach(function(n) {
                        e.shipData[n].ark_id == t.ArkID && (e.shipData[n].nick_name = t.NickName, e.shipData[n].equip_avatar = t.FaceID, e.shipData[n].equip_avatar_frame = t.FaceFrameID)
                    })
                }, a([y(cc.Label)], e.prototype, "scoreLabel", void 0), a([y([cc.Sprite])], e.prototype, "BgSprite", void 0), a([y([cc.SpriteFrame])], e.prototype, "InfoBG", void 0), a([y(p.default)], e.prototype, "avatarIcon", void 0), a([y(cc.Animation)], e.prototype, "AddEffect", void 0), a([f], e)
            }(h.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Helper/EventSystem": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Player/FishAvatarIcon": "FishAvatarIcon"
    }],
    SkillAladdin: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ae7fePccYVE4IhoKMufehAD", "SkillAladdin");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../GameClient"),
            c = t("../Award/SkillTitle"),
            l = t("../Common/AudioManager"),
            h = t("../Common/EnumFilter"),
            u = t("../Common/ResourceManager"),
            p = t("../Common/Utility"),
            d = t("../Fish/FishManager"),
            f = t("../Weapon/WeaponManager"),
            y = t("./BaseSkill"),
            m = cc._decorator,
            g = m.ccclass,
            S = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.animation = null, e.scoreLabel = null, e.BetLabel = null, e.oddsParent = null, e.LoopLightingAni = [], e.SandCircle = [], e.SandBG = null, e.slotRoot = null, e.slotSprite = [], e.slotSpriteAdd = null, e.slotSpriteFrame = [], e.fishID = null, e.oriOdds = 1, e.multiple = 1, e.AladdinOdds = null, e.oriOddsParent = null, e.countSound = null, e.slotSound = null, e.slotWheel = [], e.slotIndex = 0, e.slotRightIndex = 0, e.slotTween = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = y.skillEnum.Vampire, this.limitTime = 120
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.totalOdds = e.odds, this.totalWin = e.win, this.fishID = e.id, this.oriOdds = e.Vampire_odds, this.multiple = e.awaken_multiple, this.slotWheel = e.awaken_wheel, this.BetLabel.string = this.playerBet.toString(), this.scoreLabel.string = "", this.node.angle = s.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.node.opacity = 255, this.animation.play("Reset")
                }, e.prototype.UnUseSkill = function() {
                    this.AladdinOdds && (this.oriOddsParent && (this.AladdinOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null), this.AladdinOdds.Hide(), this.AladdinOdds = null);
                    for (var e = 0; e < this.LoopLightingAni.length; e++) this.LoopLightingAni[e].stop();
                    null != this.countSound && (l.default.Instance.Stop(this.countSound), this.countSound = null), null != this.slotSound && (l.default.Instance.Stop(this.slotSound), this.slotSound = null), this.slotTween && (this.slotTween.stop(), this.slotTween = null), this.node.setScale(1), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = d.default.Instance.GetFishByID(this.fishID.toString());
                    if (this.AladdinOdds = d.default.Instance.getUniqueFishData(h.FishType.Vampire).getComponent, this.oriOdds < this.AladdinOdds.nowOdds) return t && t.FishFadeOut(), this.UnUseSkill(), void(this.isMainPlayer && r.default.Instance.CallOnError("C49", "AladdinOddsWrong"));
                    t && t.FishDie(), this.AladdinOdds.SkillInit(this.oriOdds), this.oriOddsParent = this.AladdinOdds.node.getParent();
                    var e = s.default.isReverse ? this.AladdinOdds.node.getPosition().neg() : this.AladdinOdds.node.getPosition();
                    if (this.AladdinOdds.node.setParent(this.oddsParent), this.AladdinOdds.node.setPosition(e), s.default.isReverse) {
                        var n = this.AladdinOdds.node.angle;
                        this.AladdinOdds.node.angle = n + 180
                    }
                    this.AladdinOdds.node.runAction(cc.sequence(cc.delayTime(2), cc.moveTo(1, cc.Vec2.ZERO), cc.delayTime(1), cc.callFunc(this.ShowUp.bind(this))));
                    var i = u.default.SpawnEffect("7");
                    i.scale = 2, i.setPosition(this.AladdinOdds.node.getPosition()), l.default.Instance.Fade(l.default.Instance.GetBGMID(), 1, 0), this.bgmID = l.default.Instance.Play("BGM_Aladdin_01", 1, !0), l.default.Instance.Fade(this.bgmID, 0, 1)
                }, e.prototype.ShowUp = function() {
                    var t = this;
                    this.animation.play("ShowUp"), l.default.Instance.Play("Aladdin_UI_in_01"), this.CreateSkillTitle();
                    var e = 0,
                        n = this.oriOdds * this.playerBet / 18,
                        i = cc.repeat(cc.sequence(cc.callFunc(function() {
                            e += n, t.scoreLabel.string = p.default.NumberformatBet(e, t.playerBet)
                        }), cc.delayTime(.05)), 18);
                    this.countSound = l.default.Instance.Play("Aladdin_count_loop_01", 1, !0), this.scoreLabel.node.runAction(cc.sequence(cc.delayTime(1), i, cc.callFunc(function() {
                        t.scoreLabel.string = (t.oriOdds * t.playerBet).toString(), l.default.Instance.Stop(t.countSound), t.countSound = null, l.default.Instance.Play("Aladdin_count_end_01")
                    }), cc.delayTime(1), cc.callFunc(function() {
                        t.AladdinOdds && t.AladdinOdds.Hide(), t.animation.play("Open"), l.default.Instance.Play("Aladdin_cutin_01");
                        for (var e = 0; e < t.LoopLightingAni.length; e++) t.LoopLightingAni[e].play()
                    }), cc.delayTime(1), cc.callFunc(function() {
                        t.AladdinOdds && (t.AladdinOdds.node.setParent(t.oriOddsParent), t.oriOddsParent = null, t.AladdinOdds = null)
                    })))
                }, e.prototype.OpenEnd = function() {
                    this.multiple > 1 ? (this.isMainPlayer || this.node.runAction(cc.fadeTo(1, 100)), this.SandBG.startColor.setA(this.isMainPlayer ? 255 : 50), this.SandBG.endColor.setA(this.isMainPlayer ? 255 : 50), this.SandCircle[0].startColor.setA(this.isMainPlayer ? 150 : 50), this.SandCircle[0].endColor.setA(this.isMainPlayer ? 150 : 50), this.SandCircle[1].startColor.setA(this.isMainPlayer ? 150 : 50), this.SandCircle[1].endColor.setA(this.isMainPlayer ? 150 : 50), this.SandCircle[2].startColor.setA(this.isMainPlayer ? 255 : 50), this.animation.play("MutipleStart"), l.default.Instance.Play("Aladdin_UI_open_01"), this.scheduleOnce(function() {
                        l.default.Instance.Play("voice_Aladdin_fever_01")
                    }, 1), l.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = l.default.Instance.Play("BGM_Aladdin_02", 1, !0), l.default.Instance.Fade(this.bgmID, 0, 1)) : (this.animation.play("Close"), l.default.Instance.Play("Aladdin_UI_close_01"), this.CameraShakeEffect(2, 4))
                }, e.prototype.setNextSlotSprtie = function(t, e) {
                    this.slotIndex++, this.slotIndex >= this.slotWheel.length && (this.slotIndex = 0), t.spriteFrame = this.slotSpriteFrame[this.slotWheel[this.slotIndex] - 2], e && (t.node.setPosition(t.node.getPosition().add(cc.v2(-440 * this.slotSprite.length, 0))), this.slotRightIndex++, this.slotRightIndex >= this.slotSprite.length && (this.slotRightIndex = 0))
                }, e.prototype.slotWheelStart = function() {
                    var t = this;
                    this.slotIndex = -1;
                    for (var e = 0; e < this.slotSprite.length; e++) this.setNextSlotSprtie(this.slotSprite[e], !1), this.slotSprite[e].node.setPosition(cc.v2(440, 0).add(cc.v2(-440 * e, 0)));
                    this.slotRightIndex = 0, this.slotRoot.setPosition(cc.Vec2.ZERO);
                    var n = Math.floor(Math.random() * this.slotWheel.length),
                        i = this.slotWheel.indexOf(this.multiple, n); - 1 == i && (i = this.slotWheel.indexOf(this.multiple)), (i -= 10) < this.slotWheel.length / 2 && (i += this.slotWheel.length), this.slotTween = cc.tween(this.slotRoot).by(1.2, {
                        position: cc.v3(440, 0, 0)
                    }, {
                        easing: "backIn"
                    }).call(function() {
                        t.setNextSlotSprtie(t.slotSprite[t.slotRightIndex], !0)
                    }).by(.2, {
                        position: cc.v3(440, 0, 0)
                    }).call(function() {
                        t.setNextSlotSprtie(t.slotSprite[t.slotRightIndex], !0)
                    }).by(.1, {
                        position: cc.v3(440, 0, 0)
                    }).call(function() {
                        t.setNextSlotSprtie(t.slotSprite[t.slotRightIndex], !0)
                    }).repeat(i, cc.tween().by(.1, {
                        position: cc.v3(440, 0, 0)
                    }).call(function() {
                        t.setNextSlotSprtie(t.slotSprite[t.slotRightIndex], !0)
                    })).call(function() {
                        t.slotWheelSlowDown(.1)
                    }).start()
                }, e.prototype.slotWheelSlowDown = function(t) {
                    var e = this,
                        n = t;
                    n < .6 ? n += .15 : n < 1 && (n += .05), this.slotTween = cc.tween(this.slotRoot).by(n, {
                        position: cc.v3(440, 0, 0)
                    }).call(function() {
                        if (e.setNextSlotSprtie(e.slotSprite[e.slotRightIndex], !0), n > .6) {
                            var t = e.slotIndex - 1;
                            if (t < 0 && (t += e.slotWheel.length), e.slotWheel[t] == e.multiple) return void e.slotWheelStop(n)
                        }
                        e.slotWheelSlowDown(n)
                    }).start()
                }, e.prototype.slotWheelStop = function(t) {
                    var e = this,
                        n = 1 * t,
                        i = Math.abs(0) / 440 * t;
                    this.slotTween = cc.tween(this.slotRoot).by(3 * n, {
                        position: cc.v3(440, 0, 0)
                    }, {
                        easing: "quadOut"
                    }).by(i / 2, {
                        position: cc.v3(0, 0, 0)
                    }).call(function() {
                        e.MultipleEnd(), e.slotSpriteAdd.spriteFrame = e.slotSpriteFrame[e.multiple - 2]
                    }).start()
                }, e.prototype.slotPlaySound = function(t) {
                    switch (t) {
                        case "Start":
                            l.default.Instance.Play("Aladdin_slot_in_01");
                            break;
                        case "Loop":
                            this.slotSound = l.default.Instance.Play("Aladdin_slot_loop_01", 1, !0);
                            break;
                        case "End":
                            l.default.Instance.Stop(this.slotSound), this.slotSound = null, l.default.Instance.Play("Aladdin_slot_stop_01");
                            break;
                        case "Blink":
                            l.default.Instance.Play("Aladdin_number_zoom_01")
                    }
                }, e.prototype.moveToPlayer = function() {
                    var t = this;
                    this.isMainPlayer ? this.node.runAction(cc.scaleTo(1, .8)) : this.node.runAction(cc.spawn(cc.fadeTo(1, 255), cc.scaleTo(1, .7)));
                    var e, n = f.default.WeaponPosition(this.playerSeat);
                    (e = s.default.isReverse ? cc.moveTo(1, n.add(new cc.Vec2(0, this.playerSeat > 1 ? -140 : 240))) : cc.moveTo(1, n.add(new cc.Vec2(0, this.playerSeat > 1 ? -240 : 140)))).easing(cc.easeQuadraticActionOut()), this.node.runAction(cc.sequence(e, cc.delayTime(1), cc.callFunc(function() {
                        l.default.Instance.Play(t.multiple > 1 ? "Buffalo_win_02" : "Buffalo_win_01")
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    l.default.Instance.Stop(this.bgmID), this.bgmID = null, l.default.Instance.Fade(l.default.Instance.GetBGMID(), 0, 1), this.HideSkillTitle(!0), this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeTo(.5, 0), cc.callFunc(function() {
                        t.node.opacity = 0, t.UnUseSkill()
                    })))
                }, e.prototype.MultipleEnd = function() {
                    var t = this,
                        e = this.oriOdds * this.playerBet,
                        n = (this.totalWin - this.oriOdds * this.playerBet) / 42,
                        i = cc.repeat(cc.sequence(cc.callFunc(function() {
                            e += n, t.scoreLabel.string = p.default.NumberformatBet(e, t.playerBet)
                        }), cc.delayTime(.05)), 42);
                    this.countSound = l.default.Instance.Play("Aladdin_count_loop_02", 1, !0), this.scoreLabel.node.runAction(cc.sequence(i, cc.callFunc(function() {
                        t.scoreLabel.string = t.totalWin.toString(), l.default.Instance.Stop(t.countSound), t.countSound = null, l.default.Instance.Play("Aladdin_count_end_02")
                    }))), this.animation.play("MutipleEnd")
                }, e.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitle(!1);
                        var t = u.default.LoadGUI(this.skillType);
                        if (t) {
                            var e;
                            e = s.default.isReverse ? this.playerSeat > 1 ? cc.v2(0, 60) : cc.v2(0, -60) : this.playerSeat > 1 ? cc.v2(0, -60) : cc.v2(0, 60);
                            var n = f.default.WeaponUIPosition(this.playerSeat).add(e);
                            t.setPosition(n), t.opacity = 255, this.SkillTitle = t.getComponent(c.default)
                        }
                    }
                }, a([S(cc.Animation)], e.prototype, "animation", void 0), a([S(cc.Label)], e.prototype, "scoreLabel", void 0), a([S(cc.Label)], e.prototype, "BetLabel", void 0), a([S(cc.Node)], e.prototype, "oddsParent", void 0), a([S([cc.Animation])], e.prototype, "LoopLightingAni", void 0), a([S([cc.ParticleSystem])], e.prototype, "SandCircle", void 0), a([S(cc.ParticleSystem)], e.prototype, "SandBG", void 0), a([S(cc.Node)], e.prototype, "slotRoot", void 0), a([S(cc.Sprite)], e.prototype, "slotSprite", void 0), a([S(cc.Sprite)], e.prototype, "slotSpriteAdd", void 0), a([S([cc.SpriteFrame])], e.prototype, "slotSpriteFrame", void 0), a([g], e)
            }(y.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillBombBoat: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4793ft4ZaZPQq4lbXQocVPY", "SkillBombBoat");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("../Common/Utility"),
            u = t("../Fish/BaseFish"),
            p = t("../Fish/FishManager"),
            d = t("../Weapon/WeaponManager"),
            f = t("./BaseSkill"),
            y = cc._decorator,
            m = y.ccclass,
            g = y.property,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Boats = null, e.Totem = null, e.scoreLabel = null, e.boat = [], e.isContinue = !0, e.fishID = null, e.fishAwardTime = 0, e.startBombing = !1, e.bombingStep = .7, e.currentBoat = -1, e.updateScoreStep = .03, e.showingScore = 0, e.bombSoundCD = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = f.skillEnum.AwakenPhoenix, this.limitTime = 120, this.boat = this.Boats.getComponentsInChildren(cc.Animation)
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0)), this.startBombing && this.bombingStep > 0 && (this.bombingStep -= e, this.bombingStep <= 0 && (this.SendBoat(), this.bombingStep = .7)), this.scoreLabel.node.active && this.updateScoreStep > 0 && (this.updateScoreStep -= e, this.updateScoreStep <= 0 && (this.UpdateScore(), this.updateScoreStep = .03))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.isContinue = !0, this.currentBoat = -1, this.showingScore = 0, this.scoreLabel.string = "", this.forceTime = 10, this.bombSoundCD = !1, this.playerBet = e.bet, this.scoreLabel.node.angle = c.default.isReverse ? 180 : 0, this.fishID = e.bomb_fish_id
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return (t = p.default.Instance.GetFishByID(this.fishID.toString())) && t.FishDie(this.playerSeat, !1), [4, this.delay(2e3)];
                                case 1:
                                    return n.sent(), this.node.scale = .5, this.node.opacity = 255, this.node.setPosition(t ? this.node.parent.convertToNodeSpaceAR(t.getFishPos()) : cc.Vec2.ZERO), this.Totem.node.angle = c.default.isReverse ? 180 : 0, this.Totem.node.opacity = 255, this.Totem.node.active = !0, this.Totem.play(), [4, this.delay(500)];
                                case 2:
                                    return n.sent(), cc.tween(this.node).to(1, {
                                        position: cc.Vec3.ZERO,
                                        scale: 1
                                    }).call(function() {
                                        e.startBombing = !0, e.CreateSkillTitle()
                                    }).start(), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.Totem.stop(), this.Totem.node.active = !1, this.scoreLabel.node.active = !1;
                    for (var e = 0; e < this.boat.length; e++) this.boat[e].stop(), this.boat[e].node.active = !1;
                    t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitExplodeData = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.forceTimer = 0, [4, this.delay(2e3)];
                                case 1:
                                    if (s.sent(), this.dieFishList || (this.dieFishList = new Array), this.winList || (this.winList = new Array), e = t.fish_dead_dict, n = Object.keys(e))
                                        for (i = 0; i < n.length; i++) o = n[i], (a = p.default.Instance.GetFishByID(o)) && (a.AliveStatus = u.FishState.DEAD, a.CanCollision = !1, a.StopAction(), this.dieFishList.push(a), this.winList.push(e[o].coin));
                                    return this.totalWin = t.total_wins, this.isContinue = t.continues, this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.showingScore = this.totalWin, this.scoreLabel.string = h.default.NumberformatBet(Math.floor(this.showingScore), 1, !1), this.scoreLabel.node.scale = 1.2, cc.tween(this.scoreLabel.node).to(.3, {
                                        scale: 1
                                    }).start(), [4, this.delay(500)];
                                case 1:
                                    return i.sent(), t = this.playerSeat > 1 ? new cc.Vec2(0, -180) : new cc.Vec2(0, 180), e = d.default.WeaponPosition(this.playerSeat).add(t), cc.tween(this.node).to(1, {
                                        position: cc.v3(e)
                                    }).to(.3, {
                                        opacity: 0
                                    }).delay(.5).call(function() {
                                        n.ShowSkillScore(n.totalWin), n.PlayAwardSound()
                                    }).delay(3).call(function() {
                                        n.UnUseSkill()
                                    }).start(), [2]
                            }
                        })
                    })
                }, e.prototype.SendBoat = function() {
                    var t = this;
                    this.currentBoat++, this.currentBoat >= this.boat.length && (this.currentBoat = 0);
                    var e = this.currentBoat;
                    this.boat[e].node.active = !0, this.boat[e].node.setPosition(cc.v2(0, 500 * Math.random() - 250)), this.boat[e].play(), this.bombSoundCD || (this.bombSoundCD = !0, l.default.Instance.Play("BombSpeedboat_Bomb"), this.scheduleOnce(function() {
                        t.bombSoundCD = !1
                    }, 2.5)), this.CameraShakeEffect(2, .5), this.boat[e].once("finished", function() {
                        t.boat[e].stop(), t.boat[e].node.active = !1, t.KillFish()
                    })
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.forceTimer = 0, this.dieFishList.length > 0 && this.CameraShakeEffect(1, 2.5), t = this.KillFishesAndShowAward() + (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.scoreLabel.node.active || (this.scoreLabel.node.active = !0), this.isContinue || this.isGaveAward ? [3, 2] : (this.startBombing = !1, this.isGaveAward = !0, this.fishAwardTime -= (new Date).getTime(), [4, this.delay(1e3 * this.fishAwardTime > 2500 ? 1e3 * this.fishAwardTime : 2500)]);
                                case 1:
                                    e.sent(), this.SkillOver(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.UpdateScore = function() {
                    this.showingScore < this.currentWin && (this.showingScore += 1, this.showingScore += Math.floor(this.currentWin - this.showingScore) / 100, this.scoreLabel.string = h.default.NumberformatBet(Math.floor(this.showingScore), 1, !1))
                }, e.prototype.SetExplodeEndData = function() {
                    this.isContinue && (this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.SkillOver())
                }, a([g(cc.Node)], e.prototype, "Boats", void 0), a([g(cc.Animation)], e.prototype, "Totem", void 0), a([g(cc.Label)], e.prototype, "scoreLabel", void 0), a([m], e)
            }(f.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/Utility": "Utility",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillBuddha: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "52bf7ARslZKurH2iMV4NBHG", "SkillBuddha");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../Award/SkillTitle"),
            u = t("../Common/AudioManager"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Common/Utility"),
            y = t("../Fish/FishManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Buddha = null, e.animation = null, e.BetLabel = null, e.scoreLabel = null, e.AddLabel = null, e.MutipleLabel = null, e.oddsParent = null, e.CloudBG = null, e.chargeEffect = null, e.bagEffect = null, e.Explo = null, e.coinParticles = [], e.fishID = null, e.oriOdds = 1, e.multiple = 1, e.BuddhaOdds = null, e.countSound = null, e.awardList = null, e.awardType = null, e.awardIndex = 0, e.oriOddsParent = null, e.showingScore = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.Buddha, this.limitTime = 120
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), console.error(JSON.stringify(e)), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.totalOdds = e.odds, this.totalWin = e.win, this.fishID = e.id, this.oriOdds = e.LuckyBuddha_odds;
                    var n = e.awaken_prize;
                    this.awardList = [], this.awardType = [];
                    for (var i = 0; i < n.length; i++)
                        for (var o = n[i].value, a = 0; a < o.length; a++) this.awardType.push(n[i].type), this.awardList.push(n[i].value[a]);
                    this.awardIndex = 0, this.BetLabel.string = this.playerBet.toString(), this.scoreLabel.string = "0", this.multiple = 1, this.MutipleLabel.string = "X1", this.Buddha.node.active = !0, this.Buddha.node.opacity = 0, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.node.opacity = 255, this.showingScore = 0
                }, e.prototype.UnUseSkill = function() {
                    this.BuddhaOdds && (this.oriOddsParent && (this.BuddhaOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null), this.BuddhaOdds.Hide(), this.BuddhaOdds = null), null != this.countSound && (u.default.Instance.Stop(this.countSound), this.countSound = null), this.Buddha.node.active = !1, this.node.setScale(1), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this,
                        e = y.default.Instance.GetFishByID(this.fishID.toString());
                    if (this.BuddhaOdds = y.default.Instance.getUniqueFishData(p.FishType.Buddha).getComponent, this.oriOdds < this.BuddhaOdds.nowOdds) return e && e.FishFadeOut(), this.UnUseSkill(), void(this.isMainPlayer && l.default.Instance.CallOnError("C49", "BuddhaOddsWrong"));
                    e && e.FishDie(), this.BuddhaOdds.SkillInit(this.oriOdds), this.oriOddsParent = this.BuddhaOdds.node.parent;
                    var n = c.default.isReverse ? this.BuddhaOdds.node.getPosition().neg() : this.BuddhaOdds.node.getPosition();
                    if (this.BuddhaOdds.node.setParent(this.oddsParent), this.BuddhaOdds.node.setPosition(n), c.default.isReverse) {
                        var i = this.BuddhaOdds.node.angle;
                        this.BuddhaOdds.node.angle = i + 180
                    }
                    cc.tween(this.BuddhaOdds.node).delay(2).call(function() {
                        t.node && !t.isUnuse && (t.Buddha.node.setPosition(t.BuddhaOdds.node.getPosition()), cc.tween(t.Buddha.node).to(.5, {
                            opacity: 255
                        }).start(), t.Explo.node.setPosition(t.Buddha.node.getPosition()), t.Explo.play(), t.Buddha.setAnimation(0, "01_Pray", !1), t.Buddha.setCompleteListener(function() {
                            t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "02_PrayLoop", !0), u.default.Instance.Play("Buddha_end_01"), cc.tween(t.Buddha.node).to(1.5, {
                                position: cc.Vec3.UP.mul(40)
                            }).start()
                        }))
                    }).delay(1).to(1.5, {
                        position: cc.Vec3.ZERO
                    }).delay(1).call(this.ShowUp.bind(this)).start();
                    var o = d.default.SpawnEffect("7");
                    o.scale = 2, o.setPosition(this.BuddhaOdds.node.getPosition()), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BGM_Buddha_01_1", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1)
                }, e.prototype.ShowUp = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.animation.play("ShowUp"), u.default.Instance.Play("Buddha_title_01"), this.CreateSkillTitle(), [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), u.default.Instance.Play("voice_Buddha_fever_01"), [4, this.delay(1e3)];
                                case 2:
                                    return e.sent(), this.CountScore(this.oriOdds * this.playerBet, 4, !0), [4, this.delay(4e3)];
                                case 3:
                                    return e.sent(), this.isMainPlayer && cc.tween(this.CloudBG).to(1, {
                                        opacity: 255
                                    }).start(), [4, this.delay(1e3)];
                                case 4:
                                    return e.sent(), this.BuddhaOdds && this.BuddhaOdds.Hide(), u.default.Instance.Play("Buddha_bag_01"), this.Buddha.setAnimation(0, "03_InPosition", !1), this.Buddha.setCompleteListener(function() {
                                        t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "06_DanceLoop", !0)
                                    }), [4, this.delay(1400)];
                                case 5:
                                    return e.sent(), this.animation.play("Ready2dig"), [4, this.delay(1e3)];
                                case 6:
                                    return e.sent(), u.default.Instance.Play("Buddha_dragon_02"), this.animation.play("UI_GetDragon"), [4, this.delay(1500)];
                                case 7:
                                    return e.sent(), this.BuddhaOdds && (this.BuddhaOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null, this.BuddhaOdds = null), this.GetNextAward(), [2]
                            }
                        })
                    })
                }, e.prototype.GetNextAward = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (!(this.awardIndex < this.awardType.length)) return [3, 10];
                                    switch (this.Buddha.setAnimation(0, "03-1_Ready2fig", !1), this.Buddha.setCompleteListener(function() {
                                        t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "04_digLoop", !0), t.chargeEffect.play(), u.default.Instance.Play("Buddha_find_01")
                                    }), this.awardType[this.awardIndex]) {
                                        case "small":
                                            return [3, 1];
                                        case "big":
                                            return [3, 3];
                                        case "multiple":
                                            return [3, 6]
                                    }
                                    return [3, 9];
                                case 1:
                                    return [4, this.delay(500)];
                                case 2:
                                    return e.sent(), this.getCoin(), [3, 9];
                                case 3:
                                    return [4, this.delay(1e3)];
                                case 4:
                                    return e.sent(), this.bagEffect.play(), [4, this.delay(2e3)];
                                case 5:
                                    return e.sent(), this.getCarp(), [3, 9];
                                case 6:
                                    return [4, this.delay(1e3)];
                                case 7:
                                    return e.sent(), this.bagEffect.play(), [4, this.delay(2e3)];
                                case 8:
                                    return e.sent(), this.getDragon(), [3, 9];
                                case 9:
                                    return [3, 11];
                                case 10:
                                    this.SkillOver(), e.label = 11;
                                case 11:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.getCoin = function() {
                    var t = this;
                    this.AddLabel.string = "+" + this.awardList[this.awardIndex] * this.playerBet, this.Buddha.setCompleteListener(function() {
                        t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "05-1_DigOut", !1), t.Buddha.setCompleteListener(function() {
                            t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "05-2_DigOut", !1), t.Buddha.setCompleteListener(function() {
                                t.Buddha.setCompleteListener(null), t.awardIndex++, t.GetNextAward()
                            })
                        }), u.default.Instance.Play("Buddha_coin_01"), t.animation.play("UI_GetCoin"), t.coinParticles[0].resetSystem(), t.coinParticles[1].resetSystem(), cc.tween(t.node).delay(.5).call(function() {
                            t.CountScore(t.showingScore + t.awardList[t.awardIndex] * t.playerBet, 1, !1)
                        }).start()
                    })
                }, e.prototype.getCarp = function() {
                    var t = this;
                    this.AddLabel.string = "+" + this.awardList[this.awardIndex] * this.playerBet, this.Buddha.setCompleteListener(function() {
                        t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "05-1_DigOut", !1), t.Buddha.setCompleteListener(function() {
                            t.Buddha.setCompleteListener(null), cc.tween(t.node).delay(.5).call(function() {
                                t.Buddha.setAnimation(0, "05-2_DigOut", !1), t.Buddha.setCompleteListener(function() {
                                    t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "06_DanceLoop", !0)
                                })
                            }).delay(.7).call(function() {
                                u.default.Instance.Play("Buddha_fish_02"), t.animation.play("UI_GetCarp")
                            }).delay(.5).call(function() {
                                t.CountScore(t.showingScore + t.awardList[t.awardIndex] * t.playerBet, 1, !1)
                            }).delay(1).call(function() {
                                t.awardIndex++, t.GetNextAward()
                            }).start()
                        }), u.default.Instance.Play("Buddha_fish_01"), t.Buddha.setAnimation(1, "ACT_Carp", !1), t.coinParticles[2].resetSystem(), t.coinParticles[3].resetSystem()
                    })
                }, e.prototype.getDragon = function() {
                    var t = this;
                    this.multiple += this.awardList[this.awardIndex], this.Buddha.setCompleteListener(function() {
                        t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "05-1_DigOut", !1), t.Buddha.setCompleteListener(function() {
                            t.Buddha.setCompleteListener(null), cc.tween(t.node).delay(.5).call(function() {
                                t.Buddha.setAnimation(0, "05-2_DigOut", !1), t.Buddha.setCompleteListener(function() {
                                    t.Buddha.setCompleteListener(null), t.Buddha.setAnimation(0, "06_DanceLoop", !0)
                                })
                            }).delay(1.2).call(function() {
                                u.default.Instance.Play("Buddha_dragon_02"), t.animation.play("UI_GetDragon")
                            }).delay(.3).call(function() {
                                t.MutipleLabel.string = "X" + t.multiple
                            }).delay(1).call(function() {
                                t.awardIndex++, t.GetNextAward()
                            }).start()
                        }), u.default.Instance.Play("Buddha_dragon_01"), t.Buddha.setAnimation(1, "FX_GDIN", !1), t.coinParticles[2].resetSystem(), t.coinParticles[3].resetSystem()
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.Buddha.setAnimation(0, "07_Finish2Pray", !1), this.Buddha.setCompleteListener(function() {
                                        n.Buddha.setCompleteListener(null), n.Explo.node.setPosition(n.Buddha.node.getPosition()), n.Explo.play(), n.Buddha.setAnimation(0, "01_Pray", !1), n.Buddha.setCompleteListener(function() {
                                            n.Buddha.setCompleteListener(null), n.Buddha.setAnimation(0, "02_PrayLoop", !0), u.default.Instance.Play("Buddha_end_01")
                                        })
                                    }), u.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = u.default.Instance.Play("BGM_Buddha_01_2", 1, !1), u.default.Instance.Fade(this.bgmID, 0, 1), [4, this.delay(2100)];
                                case 1:
                                    return i.sent(), this.animation.play("SkillOver"), [4, this.delay(2500)];
                                case 2:
                                    return i.sent(), u.default.Instance.Play("Buddha_UI_01"), [4, this.delay(500)];
                                case 3:
                                    return i.sent(), this.multiple > 1 ? (this.CountScore(this.totalWin, 3, !0), [4, this.delay(3e3)]) : [3, 5];
                                case 4:
                                    i.sent(), i.label = 5;
                                case 5:
                                    return this.isMainPlayer && cc.tween(this.CloudBG).to(1, {
                                        opacity: 0
                                    }).start(), cc.tween(this.Buddha.node).to(1, {
                                        opacity: 0
                                    }).call(function() {
                                        n.Buddha.setAnimation(0, "None", !1)
                                    }).start(), this.animation.play("UI_DragonFadeOut"), [4, this.delay(1e3)];
                                case 6:
                                    return i.sent(), t = m.default.WeaponUIPosition(this.playerSeat), (e = c.default.isReverse ? cc.moveTo(1, t.add(new cc.Vec2(0, this.playerSeat > 1 ? 160 : -210))) : cc.moveTo(1, t.add(new cc.Vec2(0, this.playerSeat > 1 ? -210 : 160)))).easing(cc.easeQuadraticActionOut()), this.scoreLabel.node.parent.runAction(cc.sequence(e, cc.delayTime(.5), cc.callFunc(function() {
                                        u.default.Instance.Play(n.multiple > 1 ? "Buffalo_win_02" : "Buffalo_win_01"), n.animation.play(n.multiple > 1 ? "BuddhaBigWin" : "BuddhaYouWin"), u.default.Instance.Stop(n.bgmID), n.bgmID = null, u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), l.default.SkillSystem.SendCustomCmd("sk_LuckyBuddha_finish")
                                    }), cc.delayTime(3.5), cc.callFunc(function() {
                                        n.HideSkillTitle(!0)
                                    }), cc.fadeTo(.5, 0), cc.callFunc(function() {
                                        n.UnUseSkill()
                                    }))), [2]
                            }
                        })
                    })
                }, e.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitle(!1);
                        var t = d.default.LoadGUI(this.skillType);
                        if (t) {
                            var e;
                            e = c.default.isReverse ? this.playerSeat > 1 ? cc.v2(0, 60) : cc.v2(0, -60) : this.playerSeat > 1 ? cc.v2(0, -60) : cc.v2(0, 60);
                            var n = m.default.WeaponUIPosition(this.playerSeat).add(e);
                            t.setPosition(n), t.opacity = 255, this.SkillTitle = t.getComponent(h.default)
                        }
                    }
                }, e.prototype.CountScore = function(t, e, n) {
                    var i = this,
                        o = e / .05,
                        a = (t - this.showingScore) / o;
                    cc.tween(this.scoreLabel.node).call(function() {
                        n && (i.countSound = u.default.Instance.Play("Aladdin_count_loop_01", 1, !0))
                    }).repeat(o, cc.tween(this.scoreLabel.node).call(function() {
                        i.showingScore += a, i.scoreLabel.string = f.default.NumberformatBet(i.showingScore, i.playerBet)
                    }).delay(.05)).call(function() {
                        i.scoreLabel.string = t.toString(), n && (u.default.Instance.Stop(i.countSound), i.countSound = null, u.default.Instance.Play("Aladdin_count_end_01"))
                    }).start()
                }, a([v(sp.Skeleton)], e.prototype, "Buddha", void 0), a([v(cc.Animation)], e.prototype, "animation", void 0), a([v(cc.Label)], e.prototype, "BetLabel", void 0), a([v(cc.Label)], e.prototype, "scoreLabel", void 0), a([v(cc.Label)], e.prototype, "AddLabel", void 0), a([v(cc.Label)], e.prototype, "MutipleLabel", void 0), a([v(cc.Node)], e.prototype, "oddsParent", void 0), a([v(cc.Node)], e.prototype, "CloudBG", void 0), a([v(cc.Animation)], e.prototype, "chargeEffect", void 0), a([v(cc.Animation)], e.prototype, "bagEffect", void 0), a([v(cc.Animation)], e.prototype, "Explo", void 0), a([v([cc.ParticleSystem])], e.prototype, "coinParticles", void 0), a([_], e)
            }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillBuffalo: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bb9f2oL/bxG44jZpt4YbT9O", "SkillBuffalo");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/AudioManager"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = t("./BuffaloUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.RopeCircle = null, e.BuffaloParent = null, e.Rope = null, e.GettingAway = null, e.Madness = null, e.EarthQuake = [], e.TapHint = null, e.Buffalo = null, e.BuffaloUI = null, e.LightingOn = !1, e.CanPull = !1, e.targetPos = cc.Vec2.ZERO, e.pollCD = !1, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.fishID = null, e.CountObj = null, e.CountLabel = null, e.fishAwardTime = 0, e.m_iTouchCount = 0, e.hintClickCount = 0, e.OtherPlayerTimer = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.Buffalo, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("BuffaloSkill TimeOut"), this.Buffalo && this.BuffaloEscape(), this.forceTimer = 0)), this.Rope.node.active && this.UpdateRopePos(), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.LightingOn = !1, this.CanPull = !1, this.pollCD = !1, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random())
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !1), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.Buffalo && (this.Buffalo.RemoveSelf(), this.Buffalo = null), this.BuffaloUI && (this.BuffaloUI.Hide(!0), this.BuffaloUI = null), this.RopeCircle.node.active = !1, this.Rope.node.active = !1, this.GettingAway.node.active = !1, this.Madness.node.active = !1, this.tapHintActive(!1), this.CountObj && (d.default.DespawnEffect("10023C", this.CountObj), this.CountObj = null, this.CountLabel = null), this.EarthQuake[0].node.parent.setParent(this.node), this.isMainPlayer && (console.warn("[SkillBuffalo] SkillOver!!!!!!!!!!!! touch count = " + this.m_iTouchCount), l.LobbyClient.Instance && l.LobbyClient.Instance.GetUserClient && l.LobbyClient.Instance.GetUserClient.recordClickTimesLog("FishLuckyShamrock", 81, this.m_iTouchCount), this.m_iTouchCount = 0), this.OtherPlayerTimer = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Buffalo = f.default.Instance.GetFishByID(this.fishID.toString()), this.Buffalo) {
                        this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !0), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.Buffalo.FishDie(), this.Buffalo.PauseClip();
                        var e = c.default.isReverse ? this.Buffalo.node.getPosition().neg() : this.Buffalo.node.getPosition(),
                            n = this.Buffalo.node.angle;
                        this.Buffalo.node.setParent(this.BuffaloParent), this.Buffalo.node.setPosition(e), this.Buffalo.node.angle = c.default.isReverse ? n + 180 : n;
                        var i = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.Buffalo.node.runAction(i), this.RopeCircle.node.active = !0, this.RopeCircle.node.setPosition(e), this.RopeCircle.setAnimation(0, "rope", !1), this.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        }), p.default.Instance.Play("Buffalo_catch_01"), this.EarthQuake[0].node.parent.setParent(d.default.Instance.Background)
                    }
                }, e.prototype.RopeOver = function() {
                    var t = this;
                    this.BuffaloUI = d.default.LoadGUI(g.skillEnum.Buffalo).getComponent(S.default), this.BuffaloUI && this.BuffaloUI.Init(this.playerBet, this.playerSeat), this.RopeCircle.node.active = !1, p.default.Instance.Play("41_catch_bigfish"), this.Buffalo.CoinEffect(), this.Buffalo.PlayClip("anti_catch", !0, function() {
                        t.CanPull = !0
                    }), this.tapHintActive(!0), this.LightingOn = !0, this.Rope.node.active = !0, this.Rope.node.setPosition(m.default.WeaponUIPosition(this.playerSeat)), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), this.bgmID = p.default.Instance.Play("BGM_Buffalo_03", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), this.scheduleOnce(this.SendRangeFish.bind(this), 1.5), f.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = null;
                        if (this.currentBombNumber < this.SmallBombTimes) {
                            var e = m.default.WeaponUIPosition(this.playerSeat).mul(.8);
                            c.default.isReverse || e.negSelf();
                            var n = Math.random();
                            Math.random() > .2 && (e.x > 0 && this.targetPos.x > 0 || e.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-e.x * n, e.y * (1 - n)) : this.targetPos = cc.v2(e.x * n, e.y * (1 - n)), t = f.default.Instance.GetRangeAttackableID(this.targetPos, 1200, 100)
                        } else this.targetPos = cc.Vec2.ZERO, t = f.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200);
                        var i = {};
                        i.coordinateX = this.targetPos.x, i.coordinateY = this.targetPos.y, h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.BUFFALO_BOMB, t, i)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (this.node && !this.isUnuse)
                        if (null != this.Buffalo) {
                            this.isMainPlayer || null == t.coordinateX || null == t.coordinateY || (this.targetPos = cc.v2(t.coordinateX, t.coordinateY)), this.dieFishList.length = 0, this.winList.length = 0;
                            var e = t.fish;
                            this.oddsList = t.odds;
                            for (var n = 0; n < e.length; n++) this.dieFishList.push(f.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                            this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.currentBombNumber <= this.SmallBombTimes ? this.SmallExplode() : this.currentBombNumber == this.SmallBombTimes + 1 ? this.scheduleOnce(this.BuffaloCrazy, 1) : this.BigExplode(), this.forceTimer = 0
                        } else {
                            var i = t.win;
                            y.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                        }
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.node.active = !0, this.Buffalo.SetNextClip("capture_normal", !1, function() {
                                        t.node && !t.isUnuse && (t.CanPull = !1, t.Buffalo.node.runAction(cc.sequence(cc.delayTime(.2), cc.callFunc(function() {
                                            t.Buffalo.node.angle = 0, c.default.isReverse ? t.Buffalo.node.setScale(t.targetPos.x < 0 ? 1 : -1, 1) : t.Buffalo.node.setScale(t.targetPos.x < 0 ? -1 : 1, 1)
                                        }), cc.delayTime(.15), cc.moveTo(.5, c.default.isReverse ? t.targetPos.neg() : t.targetPos), cc.callFunc(function() {
                                            t.ShowEarthQuake(t.targetPos, !1), t.KillFish()
                                        }))), p.default.Instance.Play("Buffalo_jump_01"))
                                    }, function() {
                                        t.node && !t.isUnuse && (t.Buffalo.PlayClip("anti_catch", !0), t.CanPull = !0)
                                    }), [4, this.delay(3200)];
                                case 1:
                                    return e.sent(), this.currentBombNumber < this.SmallBombTimes || this.BigBombTimes > 0 ? this.SendRangeFish() : this.BuffaloEscape(), [2]
                            }
                        })
                    })
                }, e.prototype.BuffaloEscape = function() {
                    var t = this;
                    this.Buffalo.SetNextClip("escape", !1, function() {
                        t.node && !t.isUnuse && (p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_Buffalo_03_2"), p.default.Instance.Play("Buffalo_runaway_01"), t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.scheduleOnce(function() {
                            t.Rope.node.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.node.angle, t.RopeCircle.node.setPosition(t.Rope.node.getPosition().add(t.Buffalo.node.getPosition()).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                                t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                            })
                        }, .8))
                    }, function() {
                        if (t.Buffalo) {
                            t.Buffalo.PlayClip("run", !0);
                            var e = t.Buffalo.node.getPosition().add(cc.Vec2.RIGHT.mul(-1 == t.Buffalo.node.scaleX ? -1136 : 1136));
                            t.Buffalo.node.runAction(cc.moveTo(2, e));
                            var n = t.Buffalo.node.getPosition();
                            t.scheduleOnce(function() {
                                t.GettingAway.node.active = !0, t.GettingAway.node.setPosition(n), t.GettingAway.play()
                            }, .3)
                        }
                        t.BuffaloUI && t.BuffaloUI.ShowScore(t.totalWin, !1), t.SkillOver()
                    })
                }, e.prototype.BuffaloCrazy = function() {
                    var t = this;
                    this.Rope.node.active = !0, p.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = p.default.Instance.Play("BGM_Buffalo_04", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), this.CanPull = !1, this.LightingOn = !1, this.tapHintActive(!1), this.Madness.node.active = !0, this.Madness.play(), p.default.Instance.Play("Buffalo_furytitle_01"), p.default.Instance.Play("voice_Buffalo_banner_02"), this.Buffalo.PlayClip("capture_crazy_loop", !0), this.Buffalo.PauseClip();
                    var e = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                    this.Buffalo.node.runAction(e), this.scheduleOnce(function() {
                        t.Buffalo.PlayClip("capture_crazy_loop", !0), t.BigExplode()
                    }, 2)
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.node.active = !0, this.Buffalo.SetNextClip("capture_crazy", !1, function() {
                                        t.node && !t.isUnuse && t.Buffalo.node.runAction(cc.sequence(cc.delayTime(.4), cc.moveTo(.5, t.targetPos), cc.callFunc(function() {
                                            t.scheduleOnce(function() {
                                                t.ShowEarthQuake(t.targetPos, !0), p.default.Instance.Play("Buffalo_jump_02"), t.KillFish()
                                            }, .15), null == t.CountObj && (t.CountObj = d.default.SpawnEffect("10023C", t.isMainPlayer)), t.CountObj && (null == t.CountLabel && (t.CountLabel = t.CountObj.getComponentInChildren(cc.Label)), t.CountObj.angle = c.default.isReverse ? 180 : 0, t.CountObj.opacity = 255, t.CountLabel.string = (t.currentBombNumber - t.SmallBombTimes).toString(), t.CountObj.runAction(cc.sequence(cc.scaleTo(.05, 2.5), cc.scaleTo(.3, 1))))
                                        })))
                                    }, function() {
                                        t.node && !t.isUnuse && t.Buffalo.PlayClip("capture_crazy_loop", !0)
                                    }), [4, this.delay(2150)];
                                case 1:
                                    return e.sent(), this.currentBombNumber < this.SmallBombTimes + this.BigBombTimes ? this.SendRangeFish() : this.Buffalo.SetNextClip("catch", !1, function() {
                                        t.node && !t.isUnuse && (t.targetPos = m.default.WeaponUIPosition(t.playerSeat).add(cc.v2(-1 == t.Buffalo.node.scaleX ? 160 : -160, c.default.isReverse ? -80 : 80)), t.Buffalo.node.runAction(cc.moveTo(2, t.targetPos)), t.Buffalo.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                                            t.Rope.node.active = !1, p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_Buffalo_05"), t.BuffaloUI && t.BuffaloUI.ShowScore(t.totalWin, !0)
                                        }), cc.delayTime(1), cc.fadeOut(.5), cc.callFunc(t.SkillOver.bind(t)))))
                                    }), [2]
                            }
                        })
                    })
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.BuffaloUI && this.BuffaloUI.SetScore(this.currentWin), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.CountObj && this.CountObj.runAction(cc.fadeOut(.5)), p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    if (this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 3 && (this.tapHintActive(!1), this.hintClickCount = 0), this.LightingOn && (this.Rope.play("RopeLighting"), this.CanPull && !this.pollCD)) {
                        var e = cc.v2(this.Buffalo.node.getPosition().sub(this.Rope.node.getPosition().mul(-.25)));
                        this.Buffalo.node.runAction(cc.moveTo(.4, e).easing(cc.easeBounceOut()));
                        var n = d.default.SpawnEffect("10023", this.isMainPlayer);
                        n && (n.setPosition(c.default.isReverse ? this.Buffalo.node.getPosition().neg() : this.Buffalo.node.getPosition()), n.angle = c.default.isReverse ? 180 : 0), this.pollCD = !0, p.default.Instance.Play(Math.random() > .5 ? "Buffalo_pull_01" : "Buffalo_pull_02"), this.scheduleOnce(function() {
                            t.pollCD = !1
                        }, .5)
                    }
                }, e.prototype.UpdateRopePos = function() {
                    var t = m.default.WeaponUIPosition(this.playerSeat),
                        e = this.Buffalo.node.getPosition();
                    0 == this.Buffalo.node.angle && (e = this.Buffalo.node.getPosition().add(cc.v2(-1 == this.Buffalo.node.scaleX ? -this.Buffalo.BonePos.x : this.Buffalo.BonePos.x, this.Buffalo.BonePos.y))), this.Rope.node.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y) / 440;
                    this.Rope.node.scaleY = i
                }, e.prototype.ShowEarthQuake = function(t, e) {
                    var n = this;
                    this.EarthQuake[0].node.parent.setPosition(t), this.EarthQuake[0].node.parent.setScale(-1 == this.Buffalo.node.scaleX ? -1 : 1, 1), this.EarthQuake[0].node.parent.angle = c.default.isReverse ? 180 : 0, e ? (this.CameraShakeEffect(2, 6), this.EarthQuake[2].node.active = !0, this.EarthQuake[2].setAnimation(0, "animation", !1), this.EarthQuake[2], this.EarthQuake[2].setCompleteListener(function() {
                        n.EarthQuake[2].setCompleteListener(null), n.EarthQuake[2].node.active = !1
                    })) : (this.CameraShakeEffect(1.5, 3), this.EarthQuake[0].node.active = !0, this.EarthQuake[0].setAnimation(0, "animation2", !1), this.EarthQuake[0], this.EarthQuake[0].setCompleteListener(function() {
                        n.EarthQuake[0].setCompleteListener(null), n.EarthQuake[0].node.active = !1
                    }), this.scheduleOnce(function() {
                        n.CameraShakeEffect(1, 2), n.EarthQuake[0].node.active = !0, n.EarthQuake[0].setAnimation(0, "animation2", !1), n.EarthQuake[0], n.EarthQuake[0].setCompleteListener(function() {
                            n.EarthQuake[0].setCompleteListener(null), n.EarthQuake[0].node.active = !1
                        })
                    }, 1), this.scheduleOnce(function() {
                        n.CameraShakeEffect(.5, 3), n.EarthQuake[1].node.active = !0, n.EarthQuake[1].setAnimation(0, "animation2", !1), n.EarthQuake[1], n.EarthQuake[1].setCompleteListener(function() {
                            n.EarthQuake[1].setCompleteListener(null), n.EarthQuake[1].node.active = !1
                        })
                    }, .15))
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([b(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([b(cc.Node)], e.prototype, "BuffaloParent", void 0), a([b(cc.Animation)], e.prototype, "Rope", void 0), a([b(cc.Animation)], e.prototype, "GettingAway", void 0), a([b(cc.Animation)], e.prototype, "Madness", void 0), a([b([sp.Skeleton])], e.prototype, "EarthQuake", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([v], e)
            }(g.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./BuffaloUI": "BuffaloUI"
    }],
    SkillClown: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "07458W6eMJAObxM+xZ7nJFN", "SkillClown");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../Award/SkillTitle"),
            u = t("../Common/AudioManager"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Common/Utility"),
            y = t("../Fish/FishManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Clown = null, e.SkillAnim = null, e.Root = null, e.Flag = null, e.SpotLight = null, e.BetLabel = null, e.scoreLabel = null, e.AddLabel = null, e.MutipleLabel = null, e.oddsParent = null, e.CloudBG = null, e.chargeEffect = null, e.bagEffect = null, e.Explo = null, e.coinParticles = [], e.fishID = null, e.oriOdds = 1, e.multiple = 1, e.ClownOdds = null, e.countSound = null, e.awardList = null, e.awardType = null, e.awardIndex = 0, e.oriOddsParent = null, e.showingScore = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.Clown, this.limitTime = 120
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.totalOdds = e.odds, this.totalWin = e.win, this.fishID = e.id, this.oriOdds = e.CircusClown_odds;
                    var n = e.awaken_prize;
                    this.awardList = [], this.awardType = [];
                    for (var i = 0; i < n.length; i++)
                        for (var o = n[i].value, a = 0; a < o.length; a++) this.awardType.push(n[i].type), this.awardList.push(n[i].value[a]);
                    this.awardIndex = 0, this.BetLabel.string = this.playerBet.toString(), this.scoreLabel.string = "0", this.multiple = 1, this.MutipleLabel.string = "X1", this.Clown.node.active = !0, this.Clown.node.opacity = 0, this.node.angle = c.default.isReverse ? 180 : 0, this.showingScore = 0
                }, e.prototype.UnUseSkill = function() {
                    this.ClownOdds && (this.oriOddsParent && (this.ClownOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null), this.ClownOdds.node.stopAllActions(), this.ClownOdds.node.opacity = 0, this.ClownOdds = null), null != this.countSound && (u.default.Instance.Stop(this.countSound), this.countSound = null), this.Clown.node.active = !1, this.Root.setScale(1), this.Root.setPosition(cc.Vec2.ZERO), this.Flag.stop(), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this,
                        e = y.default.Instance.GetFishByID(this.fishID.toString());
                    if (this.ClownOdds = y.default.Instance.getUniqueFishData(p.FishType.CircusClown).getComponent, this.oriOdds < this.ClownOdds.nowOdds) return e && e.FishFadeOut(), this.UnUseSkill(), void(this.isMainPlayer && l.default.Instance.CallOnError("C49", "ClownOddsWrong"));
                    this.SkillAnim.play("ShowUp"), this.scheduleOnce(function() {
                        t.SpotPlayer()
                    }, 1.75), this.Flag.play(), e && e.FishDie(), this.ClownOdds.SkillInit(this.oriOdds), this.oriOddsParent = this.ClownOdds.node.parent;
                    var n = c.default.isReverse ? this.ClownOdds.node.getPosition().neg() : this.ClownOdds.node.getPosition();
                    this.ClownOdds.node.setParent(this.oddsParent), this.ClownOdds.node.setPosition(n), this.ClownOdds.node.angle = 0, cc.tween(this.ClownOdds.node).delay(3).call(function() {
                        t.node && !t.isUnuse && (t.Clown.node.setPosition(t.ClownOdds.node.getPosition()), cc.tween(t.Clown.node).parallel(cc.tween().to(.5, {
                            opacity: 255
                        }), cc.tween().to(1, {
                            position: cc.Vec3.UP.mul(-200)
                        })).start(), t.Clown.setAnimation(0, "01_Capture_In", !1), t.Clown.setCompleteListener(function() {
                            t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "02_Circle", !0)
                        }))
                    }).delay(.3).call(function() {
                        t.node && !t.isUnuse && t.Explo.play()
                    }).to(1, {
                        position: cc.Vec3.ZERO
                    }).delay(1).call(function() {
                        t.node && !t.isUnuse && t.ShowUp()
                    }).start(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BGM_Clown_01_1", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1)
                }, e.prototype.SpotPlayer = function() {
                    var t = this;
                    cc.tween(this.SpotLight).to(.5, {
                        position: cc.v3(m.default.WeaponUIPosition(this.playerSeat)).add(cc.Vec3.UP.mul(c.default.isReverse ? -50 : 50))
                    }).call(function() {
                        t.CreateSkillTitle()
                    }).delay(1).to(.8, {
                        position: cc.Vec3.ZERO
                    }).start()
                }, e.prototype.ShowUp = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.SkillAnim.play("MagicHat"), u.default.Instance.Play("clown_title_01"), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), u.default.Instance.Play("voice_clown_fever_01"), [4, this.delay(1e3)];
                                case 2:
                                    return n.sent(), this.CountScore(this.oriOdds * this.playerBet, 2, !0), [4, this.delay(2e3)];
                                case 3:
                                    return n.sent(), this.isMainPlayer && cc.tween(this.CloudBG).to(1, {
                                        opacity: 255
                                    }).start(), [4, this.delay(1e3)];
                                case 4:
                                    return n.sent(), this.ClownOdds && this.ClownOdds.Hide(), this.isMainPlayer || (this.SkillAnim.playAdditive("BG_Fade_Out"), t = cc.v3(m.default.WeaponUIPosition(this.playerSeat)).add(cc.Vec3.UP.mul(this.playerSeat > 1 ? -200 : 200)), c.default.isReverse && t.addSelf(cc.Vec3.UP.mul(this.playerSeat > 1 ? 400 : -400)), cc.tween(this.Root).to(1, {
                                        scale: .5,
                                        position: t
                                    }).start()), u.default.Instance.Play("clown_bag_01"), this.Clown.setAnimation(0, "03_MagicHat", !1), this.Clown.setCompleteListener(function() {
                                        e.Clown.setCompleteListener(null), e.Clown.setAnimation(0, "04_DanceLoop", !0)
                                    }), [4, this.delay(1400)];
                                case 5:
                                    return n.sent(), this.SkillAnim.play("Ready2dig"), [4, this.delay(1e3)];
                                case 6:
                                    return n.sent(), u.default.Instance.Play("clown_tiger_02"), this.SkillAnim.play("UI_GetTiger"), [4, this.delay(1500)];
                                case 7:
                                    return n.sent(), this.ClownOdds && (this.ClownOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null, this.ClownOdds = null), this.GetNextAward(), [2]
                            }
                        })
                    })
                }, e.prototype.GetNextAward = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (!(this.awardIndex < this.awardType.length)) return [3, 10];
                                    switch (this.Clown.setAnimation(0, "05_PreDrag", !1), this.Clown.setCompleteListener(function() {
                                        t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "06_DragLoop", !0), t.chargeEffect.play(), u.default.Instance.Play("clown_find_01")
                                    }), this.awardType[this.awardIndex]) {
                                        case "small":
                                            return [3, 1];
                                        case "big":
                                            return [3, 3];
                                        case "multiple":
                                            return [3, 6]
                                    }
                                    return [3, 9];
                                case 1:
                                    return [4, this.delay(500)];
                                case 2:
                                    return e.sent(), this.getCoin(), [3, 9];
                                case 3:
                                    return [4, this.delay(1e3)];
                                case 4:
                                    return e.sent(), this.bagEffect.play(), [4, this.delay(2e3)];
                                case 5:
                                    return e.sent(), this.getRabbit(), [3, 9];
                                case 6:
                                    return [4, this.delay(1e3)];
                                case 7:
                                    return e.sent(), this.bagEffect.play(), [4, this.delay(2e3)];
                                case 8:
                                    return e.sent(), this.getTiger(), [3, 9];
                                case 9:
                                    return [3, 11];
                                case 10:
                                    this.SkillOver(), e.label = 11;
                                case 11:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.getCoin = function() {
                    var t = this;
                    this.AddLabel.string = "+" + this.awardList[this.awardIndex] * this.playerBet, this.Clown.setCompleteListener(function() {
                        t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "07-0_DragOut", !1), t.Clown.setCompleteListener(function() {
                            t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "04_DanceLoop", !0)
                        }), u.default.Instance.Play("Buddha_coin_01"), t.SkillAnim.play("UI_GetCoin"), t.coinParticles[0].resetSystem(), t.coinParticles[1].resetSystem(), cc.tween(t.node).delay(.5).call(function() {
                            t.CountScore(t.showingScore + t.awardList[t.awardIndex] * t.playerBet, 1, !1)
                        }).delay(1.5).call(function() {
                            t.awardIndex++, t.GetNextAward()
                        }).start()
                    })
                }, e.prototype.getRabbit = function() {
                    var t = this;
                    this.AddLabel.string = "+" + this.awardList[this.awardIndex] * this.playerBet, this.Clown.setCompleteListener(function() {
                        t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "07-1_DragOut_01", !1), t.Clown.setCompleteListener(function() {
                            t.Clown.setCompleteListener(null), cc.tween(t.node).delay(.5).call(function() {
                                t.Clown.setAnimation(0, "07-1_DragOut_02", !1), t.Clown.setCompleteListener(function() {
                                    t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "04_DanceLoop", !0)
                                })
                            }).delay(.7).call(function() {
                                u.default.Instance.Play("clown_rabbit_02"), t.SkillAnim.play("UI_GetRabbit")
                            }).delay(.5).call(function() {
                                t.CountScore(t.showingScore + t.awardList[t.awardIndex] * t.playerBet, 1, !1)
                            }).delay(1).call(function() {
                                t.awardIndex++, t.GetNextAward()
                            }).start()
                        }), u.default.Instance.Play("clown_rabbit_01"), t.Clown.setAnimation(1, "08_DragOut_Rabbit", !1), t.coinParticles[2].resetSystem(), t.coinParticles[3].resetSystem()
                    })
                }, e.prototype.getTiger = function() {
                    var t = this;
                    this.multiple += this.awardList[this.awardIndex], this.Clown.setCompleteListener(function() {
                        t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "07-1_DragOut_01", !1), t.Clown.setCompleteListener(function() {
                            t.Clown.setCompleteListener(null), cc.tween(t.node).delay(.5).call(function() {
                                t.Clown.setAnimation(0, "07-1_DragOut_02", !1), t.Clown.setCompleteListener(function() {
                                    t.Clown.setCompleteListener(null), t.Clown.setAnimation(0, "04_DanceLoop", !0)
                                })
                            }).delay(.8).call(function() {
                                u.default.Instance.Play("clown_tiger_02"), t.SkillAnim.play("UI_GetTiger")
                            }).delay(.3).call(function() {
                                t.MutipleLabel.string = "X" + t.multiple
                            }).delay(1.2).call(function() {
                                t.awardIndex++, t.GetNextAward()
                            }).start()
                        }), u.default.Instance.Play("clown_tiger_01"), t.Clown.setAnimation(1, "09_DragOut_Tiger", !1), t.coinParticles[2].resetSystem(), t.coinParticles[3].resetSystem()
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.Clown.setAnimation(0, "10_MagicHat_Revert", !1), this.Clown.setCompleteListener(function() {
                                        n.Clown.setCompleteListener(null), n.Clown.setAnimation(0, "02_Circle", !0), u.default.Instance.Play("clown_end_01")
                                    }), u.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = u.default.Instance.Play("BGM_Clown_01_2", 1, !1), u.default.Instance.Fade(this.bgmID, 0, 1), [4, this.delay(900)];
                                case 1:
                                    return i.sent(), this.Explo.play(), [4, this.delay(1200)];
                                case 2:
                                    return i.sent(), this.SkillAnim.play("SkillOver"), [4, this.delay(2500)];
                                case 3:
                                    return i.sent(), u.default.Instance.Play("Buddha_UI_01"), [4, this.delay(500)];
                                case 4:
                                    return i.sent(), this.multiple > 1 ? (this.CountScore(this.totalWin, 1.5, !0), [4, this.delay(1500)]) : [3, 6];
                                case 5:
                                    i.sent(), i.label = 6;
                                case 6:
                                    return this.isMainPlayer && cc.tween(this.CloudBG).to(1, {
                                        opacity: 0
                                    }).start(), cc.tween(this.Clown.node).to(1, {
                                        opacity: 0
                                    }).call(function() {
                                        n.Clown.setAnimation(0, "None", !1)
                                    }).start(), this.SkillAnim.play("UI_TigerFadeOut"), [4, this.delay(1e3)];
                                case 7:
                                    return i.sent(), t = m.default.WeaponUIPosition(this.playerSeat), (e = c.default.isReverse ? cc.moveTo(1, t.add(new cc.Vec2(0, this.playerSeat > 1 ? 160 : -210))) : cc.moveTo(1, t.add(new cc.Vec2(0, this.playerSeat > 1 ? -210 : 160)))).easing(cc.easeQuadraticActionOut()), this.scoreLabel.node.parent.runAction(cc.sequence(e, cc.delayTime(.5), cc.callFunc(function() {
                                        u.default.Instance.Play(n.multiple > 1 ? "Buffalo_win_02" : "Buffalo_win_01"), n.SkillAnim.play(n.multiple > 1 ? "BuddhaBigWin" : "BuddhaYouWin"), u.default.Instance.Stop(n.bgmID), n.bgmID = null, u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), l.default.SkillSystem.SendCustomCmd("sk_CircusClown_finish")
                                    }), cc.delayTime(3.5), cc.callFunc(function() {
                                        n.HideSkillTitle(!0)
                                    }), cc.fadeTo(.5, 0), cc.callFunc(function() {
                                        n.UnUseSkill()
                                    }))), this.isMainPlayer || cc.tween(this.Root).to(1, {
                                        scale: 1,
                                        position: cc.Vec3.ZERO
                                    }).start(), [2]
                            }
                        })
                    })
                }, e.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitle(!1);
                        var t = d.default.LoadGUI(this.skillType);
                        if (t) {
                            var e;
                            e = c.default.isReverse ? this.playerSeat > 1 ? cc.v2(0, 60) : cc.v2(0, -60) : this.playerSeat > 1 ? cc.v2(0, -60) : cc.v2(0, 60);
                            var n = m.default.WeaponUIPosition(this.playerSeat).add(e);
                            t.setPosition(n), t.opacity = 255, this.SkillTitle = t.getComponent(h.default)
                        }
                    }
                }, e.prototype.CountScore = function(t, e, n) {
                    var i = this,
                        o = e / .05,
                        a = (t - this.showingScore) / o;
                    cc.tween(this.scoreLabel.node).call(function() {
                        n && (i.countSound = u.default.Instance.Play("Aladdin_count_loop_01", 1, !0))
                    }).repeat(o, cc.tween(this.scoreLabel.node).call(function() {
                        i.showingScore += a, i.scoreLabel.string = f.default.NumberformatBet(i.showingScore, i.playerBet)
                    }).delay(.05)).call(function() {
                        i.scoreLabel.string = t.toString(), n && (u.default.Instance.Stop(i.countSound), i.countSound = null, u.default.Instance.Play("Aladdin_count_end_01"))
                    }).start()
                }, a([v(sp.Skeleton)], e.prototype, "Clown", void 0), a([v(cc.Animation)], e.prototype, "SkillAnim", void 0), a([v(cc.Node)], e.prototype, "Root", void 0), a([v(cc.Animation)], e.prototype, "Flag", void 0), a([v(cc.Node)], e.prototype, "SpotLight", void 0), a([v(cc.Label)], e.prototype, "BetLabel", void 0), a([v(cc.Label)], e.prototype, "scoreLabel", void 0), a([v(cc.Label)], e.prototype, "AddLabel", void 0), a([v(cc.Label)], e.prototype, "MutipleLabel", void 0), a([v(cc.Node)], e.prototype, "oddsParent", void 0), a([v(cc.Node)], e.prototype, "CloudBG", void 0), a([v(cc.Animation)], e.prototype, "chargeEffect", void 0), a([v(cc.Animation)], e.prototype, "bagEffect", void 0), a([v(cc.Animation)], e.prototype, "Explo", void 0), a([v([cc.ParticleSystem])], e.prototype, "coinParticles", void 0), a([_], e)
            }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillDragonTurtle: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "edb44JqpPZKN6O61VyEk8KL", "SkillDragonTurtle");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/AudioManager"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = t("./DragonTurtleUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.RopeCircle = null, e.DragonParent = null, e.Rope = null, e.Lighting = null, e.GettingAway = null, e.RageOn = null, e.TapHint = null, e.SmallBombEffect = null, e.BigBombEffect = null, e.SideFrame = null, e.DragonTurtle = null, e.DragonTurtleUI = null, e.LightingOn = !1, e.CanPull = !1, e.targetPos = cc.Vec2.ZERO, e.pollCD = !1, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.fishID = null, e.CountObj = null, e.CountLabel = null, e.CountTween = null, e.fishAwardTime = 0, e.m_iTouchCount = 0, e.hintClickCount = 0, e.OtherPlayerTimer = 0, e.movingTween = null, e.hitCount = 1, e.loopSound = null, e.countSound = null, e.DragonSpineEvent = function(t, n) {
                        if (n) switch (n.data.name) {
                            case "bigger":
                                e.isMainPlayer && e.DragonTurtle.node.setScale(1.2 * e.DragonTurtle.node.scale);
                                break;
                            case "bomb_small":
                                e.isMainPlayer && e.CameraShakeEffect(2, 2), p.default.Instance.Play("Turtle_thud_01", 1), e.SmallBombEffect.node.setPosition(e.DragonTurtle.node.getPosition()), e.SmallBombEffect.play(), e.KillFish();
                                break;
                            case "bomb_big":
                                e.SideFrame.node.active || (e.SideFrame.node.active = !0, e.SideFrame.play(), e.SideFrame.node.opacity = e.isMainPlayer ? 255 : 125), p.default.Instance.Play("Turtle_Bang_01", 1), e.BigBombEffect.play(), e.BigBombEffect.node.opacity = e.isMainPlayer ? 255 : 125, e.isMainPlayer && e.CameraShakeEffect(4, 2);
                                var i = e.dieFishList.length;
                                if (null == e.CountObj && (e.CountObj = d.default.SpawnEffect("DragonTurtleCount", e.isMainPlayer)), e.CountObj) {
                                    null == e.CountLabel && (e.CountLabel = e.CountObj.getComponentInChildren(cc.Label), e.CountLabel.string = "1", e.hitCount = 1), e.CountObj.angle = c.default.isReverse ? 180 : 0, e.CountObj.opacity = 255, e.CountTween && e.CountTween.stop();
                                    var o = 2 / i / 2.5;
                                    e.isMainPlayer && (e.countSound = p.default.Instance.Play("Aladdin_count_loop_01", 1, !0)), e.CountTween = cc.tween(e.CountObj).repeat(i, cc.tween(e.CountObj).call(function() {
                                        e.hitCount = e.hitCount + 1, e.CountLabel.string = e.hitCount.toString()
                                    }).to(o, {
                                        scale: 1.05
                                    }).to(1.5 * o, {
                                        scale: 1
                                    })).to(.05, {
                                        scale: 1.5
                                    }).to(.3, {
                                        scale: 1
                                    }).call(function() {
                                        e.countSound && (p.default.Instance.Stop(e.countSound), e.countSound = null)
                                    }).repeatForever(cc.tween(e.CountObj).to(.05, {
                                        position: cc.v3(3, 3)
                                    }).to(.05, {
                                        position: cc.Vec3.ZERO
                                    })).start()
                                }
                                e.KillFish();
                                break;
                            case "scale_100":
                                cc.tween(e.DragonTurtle.node).to(.5, {
                                    scale: 1
                                }, {
                                    easing: "bounceIn"
                                }).start()
                        }
                    }, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.DragonTurtle, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.forceTimer = 0, console.error("DragonTurtle TimeOut"), this.DragonTurtle && (this.currentBombNumber > this.SmallBombTimes ? (this.isForceShowAward = !0, this.BigWin()) : this.DragonEscape()))), this.Rope.active && this.UpdateRopePos(), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.LightingOn = !1, this.CanPull = !1, this.pollCD = !1, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random())
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !1), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.DragonTurtle && (this.DragonTurtle.node.opacity = 255, this.DragonTurtle.RemoveSelf(), this.DragonTurtle = null), this.movingTween && (this.movingTween.stop(), this.movingTween = null), this.DragonTurtleUI && (this.DragonTurtleUI.Hide(!0), this.DragonTurtleUI = null), this.loopSound && (p.default.Instance.Stop(this.loopSound), this.loopSound = null), this.countSound && (p.default.Instance.Stop(this.countSound), this.countSound = null), this.RopeCircle.node.active = !1, this.Rope.active = !1, this.Lighting.node.active = !1, this.GettingAway.node.active = !1, this.RageOn.node.active = !1, this.SideFrame.node.opacity = 255, this.SideFrame.node.active = !1, this.tapHintActive(!1), this.CountObj && (d.default.DespawnEffect("DragonTurtleCount", this.CountObj), this.CountObj = null, this.CountLabel = null), this.CountTween && (this.CountTween.stop(), this.CountTween = null), this.isMainPlayer && (l.LobbyClient.Instance.GetUserClient.recordClickTimesLog("FishFortuneKings", 81, this.m_iTouchCount), this.m_iTouchCount = 0), this.OtherPlayerTimer = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.DragonTurtle = f.default.Instance.GetFishByID(this.fishID.toString()), !this.DragonTurtle && this.isMainPlayer && (this.DragonTurtle = f.default.Instance.CreateFakeFish(this.fishID.toString(), 35, new cc.Vec2(700, 360), 10)), this.DragonTurtle) {
                        this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !0), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), p.default.Instance.Play("42_dragon_blow"), this.DragonTurtle.FishDie(), this.DragonTurtle.PauseClip();
                        var e = this.DragonTurtle.node.angle,
                            n = c.default.isReverse ? this.DragonTurtle.node.position.neg() : this.DragonTurtle.node.position;
                        this.DragonTurtle.node.setParent(this.DragonParent), this.DragonTurtle.node.setPosition(n), this.DragonTurtle.node.angle = c.default.isReverse ? e + 180 : e, this.DragonTurtle.skeleton.setEventListener(this.DragonSpineEvent.bind(this)), this.movingTween = cc.tween(this.DragonTurtle.node).repeat(10, cc.tween(this.DragonTurtle.node).by(.1, {
                            position: cc.v3(10, 10)
                        }).by(.1, {
                            position: cc.v3(-10, -10)
                        })).start(), this.RopeCircle.node.active = !0, this.RopeCircle.node.setPosition(n), this.RopeCircle.setAnimation(0, "rope", !1), this.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        })
                    }
                }, e.prototype.RopeOver = function() {
                    var t = this;
                    this.DragonTurtleUI = d.default.LoadGUI(g.skillEnum.DragonTurtle).getComponent(S.default), this.DragonTurtleUI && this.DragonTurtleUI.Init(this.playerBet, this.playerSeat), this.RopeCircle.node.active = !1, p.default.Instance.Play("41_catch_bigfish"), this.DragonTurtle.CoinEffect(), cc.tween(this.DragonTurtle.node).to(1, {
                        opacity: 0
                    }).call(function() {
                        p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), t.bgmID = p.default.Instance.Play("BGM_Turtle_03_1", 1, !0), p.default.Instance.Fade(t.bgmID, 0, 1), t.DragonTurtle.node.setScale(0), t.DragonTurtle.node.angle = 270, t.DragonTurtle.node.opacity = 255, t.DragonTurtle.PlayClip("rotate_fire", !0)
                    }).to(1, {
                        scale: 1
                    }).delay(.5).call(function() {
                        t.tapHintActive(!0), t.LightingOn = !0, t.Rope.active = !0, t.Rope.setPosition(m.default.WeaponUIPosition(t.playerSeat)), t.Lighting.node.active = !0, t.Lighting.node.setPosition(m.default.WeaponUIPosition(t.playerSeat)), t.RandomRunning(null, !1, !1), t.CanPull = !0
                    }).delay(2).call(function() {
                        t.checkNextAct()
                    }).start(), f.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.checkNextAct = function() {
                    this.currentBombNumber == this.SmallBombTimes + this.BigBombTimes ? this.BigBombTimes > 0 ? this.dieFishList.length > 0 ? this.BigExplode() : this.BigWin() : this.dieFishList.length > 0 ? (this.randomTargetPos(), this.SmallExplode()) : this.fishID % 2 == 0 ? this.DragonEscaping(!1) : this.DragonEscape() : this.currentBombNumber < this.SmallBombTimes ? (this.SendRangeFish(), this.SmallExplode()) : this.currentBombNumber == this.SmallBombTimes ? this.DragonEscaping(!0) : (this.SendRangeFish(), this.BigExplode())
                }, e.prototype.SendRangeFish = function() {
                    if (this.forceTimer = this.forceTime, this.isMainPlayer) {
                        var t = null;
                        this.currentBombNumber < this.SmallBombTimes ? (this.randomTargetPos(), t = f.default.Instance.GetRangeAttackableID(this.targetPos, 1200, 100)) : (this.targetPos = cc.Vec2.ZERO, t = f.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200));
                        var e = {};
                        e.coordinateX = this.targetPos.x, e.coordinateY = this.targetPos.y, h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.DRAGON_TURTLE_BOMB, t, e)
                    }
                }, e.prototype.RandomRunning = function(t, e, n) {
                    var i = this;
                    this.movingToTargetPos(function() {
                        i.randomTargetPos(), i.RandomRunning(null, !1, n)
                    }, e ? 800 : 600, n)
                }, e.prototype.randomTargetPos = function() {
                    var t = m.default.WeaponUIPosition(this.playerSeat).mul(.9);
                    c.default.isReverse || t.negSelf();
                    var e = Math.random();
                    Math.random() > .2 && (t.x > 0 && this.targetPos.x > 0 || t.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-t.x * (e + .7), t.y * (1 - e)) : this.targetPos = cc.v2(t.x * (e + .7), t.y * (1 - e))
                }, e.prototype.movingToTargetPos = function(t, e, n) {
                    this.movingTween && this.movingTween.stop();
                    var i = c.default.isReverse ? this.targetPos.neg() : this.targetPos,
                        o = i.sub(this.DragonTurtle.node.getPosition()).len() / e,
                        a = 270;
                    if (n) {
                        var s = this.Rope.getPosition().sub(i);
                        for (a = -90 - cc.misc.radiansToDegrees(Math.atan2(s.x, s.y)); a < 0;) a += 360;
                        this.movingTween = cc.tween(this.DragonTurtle.node).parallel(cc.tween(this.DragonTurtle.node).to(o, {
                            position: cc.v3(i)
                        }), cc.tween(this.DragonTurtle.node).to(o, {
                            angle: a
                        })).call(function() {
                            t && t()
                        }).start()
                    } else this.movingTween = cc.tween(this.DragonTurtle.node).to(o, {
                        position: cc.v3(i)
                    }).call(function() {
                        t && t()
                    }).start()
                }, e.prototype.InitExplodeData = function(t) {
                    if (!this.node || this.isUnuse || this.isForceShowAward) console.error("DragonTurtle InitExplodeData");
                    else if (null != this.DragonTurtle) {
                        this.isMainPlayer || null == t.coordinateX || null == t.coordinateY || (this.targetPos = cc.v2(t.coordinateX, t.coordinateY));
                        var e = t.fish;
                        this.oddsList = t.odds;
                        for (var n = 0; n < e.length; n++) this.dieFishList.push(f.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                        this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.forceTimer = 0
                    } else {
                        var i = t.win;
                        y.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                    }
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.active = !0, this.CanPull = !1, this.movingToTargetPos(function() {
                                        t.DragonTurtle.SetNextClip("bang_small", !1, function() {
                                            p.default.Instance.Play("V_C03")
                                        }, function() {
                                            t.node && !t.isUnuse && (t.DragonTurtle.PlayClip("rotate_fire", !0), t.CanPull = !0, t.RandomRunning(null, !1, !1))
                                        })
                                    }, 800, !1), [4, this.delay(4e3)];
                                case 1:
                                    return e.sent(), this.checkNextAct(), [2]
                            }
                        })
                    })
                }, e.prototype.DragonEscaping = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i = this;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    for (this.forceTimer = 0, this.movingTween && this.movingTween.stop(), e = this.Rope.getPosition().sub(this.DragonTurtle.node.getPosition()), n = -90 - cc.misc.radiansToDegrees(Math.atan2(e.x, e.y)); n < 0;) n += 360;
                                    return this.DragonTurtle.node.angle = n, this.DragonTurtle.SetNextClip("come_in", !1, function() {
                                        i.DragonTurtle.skeleton.timeScale = 3.85, p.default.Instance.Play("drill_bomb")
                                    }, function() {
                                        i.DragonTurtle && (i.DragonTurtle.PlayClip("AWAY", !0), i.RandomRunning(null, !1, !0), i.CanPull = !0), i.loopSound = p.default.Instance.Play("drill_bound", 1, !0)
                                    }), [4, this.delay(6e3)];
                                case 1:
                                    return o.sent(), p.default.Instance.Stop(this.loopSound), this.loopSound = null, t ? this.DragonRageOn() : this.DragonEscape(), [2]
                            }
                        })
                    })
                }, e.prototype.DragonEscape = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o = this;
                        return r(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    for (this.CanPull = !1, this.LightingOn = !1, this.tapHintActive(!1), this.Rope.active = !1, this.Lighting.node.active = !1, this.RopeCircle.node.active = !0, this.RopeCircle.node.angle = this.Rope.angle, this.RopeCircle.node.setPosition(this.Rope.position.add(this.DragonTurtle.node.position).mul(.5)), this.RopeCircle.setAnimation(0, "ropebroke", !1), this.RopeCircle.setCompleteListener(function() {
                                            o.RopeCircle.setCompleteListener(null), o.RopeCircle.node.active = !1
                                        }), this.movingTween && this.movingTween.stop(), t = cc.v2(this.DragonTurtle.node.position.sub(this.Rope.position.mul(5))), e = this.Rope.getPosition().sub(t), n = -90 - cc.misc.radiansToDegrees(Math.atan2(e.x, e.y)); n < 0;) n += 360;
                                    return this.DragonTurtle.node.angle = n, this.movingTween = cc.tween(this.DragonTurtle.node).to(2, {
                                        position: cc.v3(t)
                                    }).start(), i = this.DragonTurtle.node.getPosition(), p.default.Instance.Play("drill_shoot"), [4, this.delay(300)];
                                case 1:
                                    return a.sent(), this.GettingAway.node.active = !0, this.GettingAway.node.setPosition(i), this.GettingAway.play(), this.DragonTurtleUI && this.DragonTurtleUI.ShowScore(this.totalWin, !1), [4, this.delay(2e3)];
                                case 2:
                                    return a.sent(), this.SkillOver(), [2]
                            }
                        })
                    })
                }, e.prototype.DragonRageOn = function() {
                    var t = this;
                    this.Rope.active = !0, this.CanPull = !1, this.LightingOn = !1, this.tapHintActive(!1), this.movingTween && this.movingTween.stop(), this.DragonTurtle.SetNextClip("come_in_reverse", !1, null, function() {
                        t.DragonTurtle.node.angle = 270, t.movingTween = cc.tween(t.DragonTurtle.node).to(1, {
                            position: cc.Vec3.ZERO
                        }).call(function() {
                            t.RageOn.node.active = !0, t.RageOn.play(), p.default.Instance.Play("voice_turtle_fever_01")
                        }).delay(3).call(function() {
                            t.SendRangeFish(), t.BigExplode()
                        }).start(), t.isMainPlayer || cc.tween(t.DragonTurtle.node).to(1, {
                            opacity: 125
                        }).start(), t.DragonTurtle.PlayClip("rotate_fire", !0), t.loopSound = p.default.Instance.Play("Turtle_rotate_01", 1, !0)
                    })
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.active = !0, this.DragonTurtle.SetNextClip("bang_big", !1, function() {
                                        t.scheduleOnce(function() {
                                            p.default.Instance.Stop(t.loopSound), t.loopSound = null, p.default.Instance.Play("V_C03")
                                        }, 1.8)
                                    }, function() {
                                        t.node && !t.isUnuse && (t.DragonTurtle.PlayClip("rotate_fire", !0), t.loopSound = p.default.Instance.Play("Turtle_rotate_01", 1, !0))
                                    }), [4, this.delay(4e3)];
                                case 1:
                                    return e.sent(), this.checkNextAct(), [2]
                            }
                        })
                    })
                }, e.prototype.BigWin = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), this.Rope.active = !1, this.Lighting.node.active = !1, p.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = p.default.Instance.Play("BGM_Turtle_03_2"), this.DragonTurtleUI && this.DragonTurtleUI.ShowScore(this.totalWin, !0), cc.tween(this.DragonTurtle.node).to(2, {
                                        opacity: 0
                                    }).call(function() {
                                        t.SkillOver()
                                    }).start(), this.isMainPlayer && cc.tween(this.SideFrame.node).to(2, {
                                        opacity: 0
                                    }).call(function() {
                                        t.SideFrame.stop(), t.SideFrame.node.active = !1
                                    }).start(), [2]
                            }
                        })
                    })
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.DragonTurtleUI && this.DragonTurtleUI.SetScore(this.currentWin), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.CountObj && cc.tween(this.CountObj).to(.5, {
                                        opacity: 0
                                    }).start(), p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, e = this.fishAwardTime < 1e3 ? 1e3 : this.fishAwardTime, [4, this.delay(e)];
                                case 1:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    if (this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.LightingOn && (this.Lighting.play("RopeLighting"), this.CanPull && !this.pollCD)) {
                        this.movingTween && this.movingTween.stop();
                        var e = cc.v2(this.DragonTurtle.node.position.sub(this.Rope.position.mul(-.25)));
                        this.movingTween = cc.tween(this.DragonTurtle.node).to(.4, {
                            position: cc.v3(e)
                        }, {
                            easing: "bounceOut"
                        }).call(function() {
                            t.RandomRunning(null, !0, t.currentBombNumber == t.SmallBombTimes)
                        }).start(), this.pollCD = !0, p.default.Instance.Play(Math.random() > .5 ? "Buffalo_pull_01" : "Buffalo_pull_02"), this.scheduleOnce(function() {
                            t.pollCD = !1
                        }, .5)
                    }
                }, e.prototype.UpdateRopePos = function() {
                    var t = m.default.WeaponUIPosition(this.playerSeat),
                        e = this.DragonTurtle.node.getPosition();
                    this.Rope.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y)), this.Lighting.node.angle = this.Rope.angle;
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y);
                    this.Rope.height = i > 550 ? 800 : i > 250 ? 500 : 200, this.Rope.scaleY = i / this.Rope.height, this.Lighting.node.scaleY = i / 500
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), cc.tween(this.TapHint.node).to(.5, {
                        scale: 1
                    }, {
                        easing: "bounceOut"
                    }).start(), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([b(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([b(cc.Node)], e.prototype, "DragonParent", void 0), a([b(cc.Node)], e.prototype, "Rope", void 0), a([b(cc.Animation)], e.prototype, "Lighting", void 0), a([b(cc.Animation)], e.prototype, "GettingAway", void 0), a([b(cc.Animation)], e.prototype, "RageOn", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([b(cc.Animation)], e.prototype, "SmallBombEffect", void 0), a([b(cc.Animation)], e.prototype, "BigBombEffect", void 0), a([b(cc.Animation)], e.prototype, "SideFrame", void 0), a([v], e)
            }(g.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./DragonTurtleUI": "DragonTurtleUI"
    }],
    SkillDragonWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c1a4faeSJhKxZbOzVATz5Eg", "SkillDragonWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../GameClient"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Line = null, e.LockAiming = null, e.player = null, e.targetFish = null, e.targetType = -1, e.lastType = null, e.touchFishID = "", e.mWeapon = null, e.ShootPos = null, e.betScale = 2, e.unhitList = null, e.splitAmount = 5, e.splitList = null, e.attackRate = .3333334, e.attackTimer = 0, e.isTouchHold = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.DragonWeapon, this.limitTime = 0
                }, e.prototype.onEnable = function() {
                    this.isMainPlayer && (this.lastType && (this.targetType = this.lastType, this.lastType = null), this.RegisterTouchEvent(), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this))
                }, e.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType, f.default.Instance.Event_FishInit = null), this.setLocking(null), this.isTouchHold = !1
                }, e.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), this.isUnuse = !1, this.attackTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", t && t.targetType && (this.targetType = t.targetType), this.player = y.PlayerManager.getPlayer(this.playerSeat)
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.isMainPlayer && (this.RegisterTouchEvent(), this.enableLockAiming(!1), f.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this)), this.node.setPosition(m.default.WeaponPosition(this.playerSeat)), [2]
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.Line.stop(), this.LockAiming.stop(), this.Line.node.active = !1, this.unhitList = null, this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.enableLockAiming(!1), this.CanelRegisterTouchEvent(), f.default.Instance.Event_FishEnter = null, f.default.Instance.Event_FishInit = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), u.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), d.default.DespawnSkill(this.skillType, this.node)
                }, e.prototype.setWeapon = function(t, e) {
                    this.mWeapon = t, this.attackRate = 1 / e["1secShoot"], this.betScale = e.betScale, this.isMainPlayer && (this.unhitList = p.default.TransFishTypeList(e.UnhitList), this.splitAmount = e.SplitAmount, this.splitList = p.default.TransFishTypeList(e.SplitList))
                }, e.prototype.OnBlast = function(t, e, n) {
                    if (!this.isMainPlayer) {
                        y.PlayerManager.Instance.ModifyPlayerEntries(e, -t);
                        var i = f.default.Instance.GetFishByID(n.toString());
                        if (i) {
                            var o = i.GetLockLinkPoint(this.node.getPosition());
                            if (o) {
                                this.ShootPos = c.default.ConvMousePos(o), this.mWeapon.ShootFunction(this.ShootPos);
                                var a = d.default.SpawnBullet("DragonBlastOther", !1);
                                a && (a.setPosition(this.ShootPos), a.angle = c.default.isReverse ? 180 : 0)
                            } else console.warn("[SkillDragonWeapon] OnBlast TargetPos is null!")
                        }
                    }
                    this.mWeapon.autoAnim || u.default.Instance.RecordClickLog(this.isMainPlayer)
                }, e.prototype.update = function(e) {
                    this.isUnuse || (t.prototype.update.call(this, e), this.attackTimer < this.attackRate && (this.attackTimer += e), this.isMainPlayer && this.MainPlayerUpdate(e))
                }, e.prototype.setLocking = function(t) {
                    this.isMainPlayer && this.targetFish && t != this.targetFish && (this.targetFish.Event_FishLeave = null, this.touchFishID = ""), this.targetFish = t || null, this.targetType = t ? t.Type : -1, this.isMainPlayer && this.targetFish ? this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this) : this.enableLockAiming(!1)
                }, e.prototype.MainPlayerUpdate = function() {
                    if (!m.default.Instance.getWeapon(this.playerSeat).isGunReady) return this.enableLockAiming(!1), void(this.isTouchHold = !1);
                    if (this.checkTargetHitPos) {
                        if (this.enableLockAiming(!0), this.attackTimer >= this.attackRate) {
                            if (this.attackTimer = 0, this.player.entries < this.player.bet_value * this.betScale) {
                                var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, t, u.default.Instance.title, "Insufficient balance", null), this.setLocking(null), m.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void u.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            if (y.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= y.PlayerManager.Instance.MaxBalance) return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null), this.setLocking(null), m.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                            if (u.default.FishUIMgr.IsPurchaseOpen()) return;
                            if (0 == m.default.Instance.bulletLimit) return;
                            var e = d.default.SpawnBullet("DragonBlast", this.isMainPlayer);
                            e && (e.setPosition(this.ShootPos), e.angle = c.default.isReverse ? 180 : 0), this.targetFish.OnHitFish(), this.mWeapon.ShootFunction(this.ShootPos);
                            for (var n = f.default.Instance.GetRangeAttackableID(this.ShootPos, 200, 10), i = [], o = 0; o < n.length; o++) {
                                var a = f.default.Instance.GetFishByID(n[o]);
                                if (n[o] != this.targetFish.ID && -1 != this.splitList.indexOf(a.Type)) {
                                    var s = d.default.SpawnFish("DragonSplit");
                                    s && s.setPosition(a.node.getPosition()), a.twitch(.3), i.push(n[o])
                                }
                                if (i.length >= this.splitAmount) break
                            }
                            i.unshift(this.targetFish.ID), this.targetFish.twitch(.4), u.default.SkillSystem.SendDragonHit(this.playerSeat, this.player.bet_value, null, i, this.targetFish.ID), y.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value * this.betScale), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN), l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || m.default.Instance.AutoShoot || this.setLocking(null)
                        }
                    } else m.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, Object.defineProperty(e.prototype, "checkTargetHitPos", {
                    get: function() {
                        if (-1 == this.targetType) return !1;
                        if (!this.targetFish) return !1;
                        if (!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)) return !1;
                        var t = this.node.getPosition(),
                            e = this.targetFish.GetLockLinkPoint(t);
                        if (!e) return this.isMainPlayer && (m.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1;
                        e = c.default.ConvMousePos(e), this.mWeapon.SetGunRotateUsePos(e), this.ShootPos = e, this.node.angle = 57.29578 * -Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                        var n = e.sub(t).mag() / 360;
                        return this.Line.node.scaleY = n, this.Line.node.scaleX = 1 + n / 2, this.LockAiming.node.scaleY = 1 / n, this.LockAiming.node.scaleX = 1 / (1 + n / 2), !0
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.OnTouchStart = function(t) {
                    if (m.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value * this.betScale) {
                            var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, e, u.default.Instance.title, "Insufficient balance", null), void u.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (y.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= y.PlayerManager.Instance.MaxBalance) h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = f.default.Instance.InFishRange(t.getLocation());
                            n && (null == p.default.playerLockSetting && p.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, e.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1, m.default.Instance.AutoShoot || this.setLocking(null)
                }, e.prototype.OnFishEnter = function(t) {
                    if (m.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == p.default.LockSetting);
                        else {
                            if (t.Type == this.targetType) return;
                            for (var e = 0; e < p.default.LockSetting.length; e++) {
                                if (p.default.LockSetting[e] == this.targetType) return;
                                if (t.Type == p.default.LockSetting[e]) return void this.setLocking(t)
                            }
                        }
                }, e.prototype.OnFishInit = function(t) {
                    -1 != this.unhitList.indexOf(t.Type) && t.SetShapeColor(cc.Color.GRAY)
                }, e.prototype.OnTargetChange = function(t) {
                    t && (t.Event_FishLeave = null), m.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, e.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var t = this.targetFish ? this.targetFish.ID : "",
                            e = null;
                        f.default.Instance && (e = f.default.Instance.GetNextLockFish(this.targetType, t)), e ? this.setLocking(e) : this.enableLockAiming(!1)
                    }
                }, e.prototype.enableLockAiming = function(t) {
                    this.Line.node.active != t && (this.Line.node.active = t, t ? (this.Line.play(), this.LockAiming.play()) : (this.Line.stop(), this.LockAiming.stop()))
                }, a([v(cc.Animation)], e.prototype, "Line", void 0), a([v(cc.Animation)], e.prototype, "LockAiming", void 0), a([_], e)
            }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillDrill: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ca325w5vrBBCIUxOhTC9dY6", "SkillDrill");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Player/PlayerManager"),
            h = t("../Fish/FishManager"),
            u = t("../Fish/BaseFish"),
            p = t("../../System/SkillSystem"),
            d = t("../Player/UserInfoController"),
            f = t("../Weapon/WeaponManager"),
            y = t("../../GameClient"),
            m = t("../Common/AudioManager"),
            g = t("../../../../../FishCommon/Script/CanvasHandler"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.drillGunIconNode = null, e.drillWeapon = null, e.drillBullet = null, e.shootReady = !1, e.isReceiveServerShoot = !1, e.isTouchIng = !1, e.isShootEnd = !1, e.shootPos = cc.Vec2.ZERO, e.scoreUI = null, e.fishID = null, e.limitShootTime = 15, e.shootTimer = 0, e.fishAwardTime = 0, e.readySound = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Drill, this.limitTime = 80, this.forceTime = 25
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.isShootEnd || (this.isMainPlayer && this.shootTimer > 0 && (this.shootTimer -= e, this.shootTimer <= 10 && this.drillWeapon.setLimitTime(this.shootTimer), this.shootTimer <= 0 && (this.shootTimer = 0, this.MainPlayerShoot())), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.forceTimer = 0, this.isGaveAward = !0, this.isForceShowAward = !0, this.ShowExplodeAndAward(cc.Vec2.ZERO, !0))))
                }, e.prototype.InitProperties = function(e) {
                    t.prototype.InitProperties.call(this), this.drillWeapon = null, this.isReceiveServerShoot = !1, this.drillBullet = null, this.shootReady = !1, this.isShootEnd = !1, this.isTouchIng = !1, this.shootPos = cc.Vec2.ZERO, this.playerBet = e.bet, this.fishID = e.crab
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = h.default.Instance.GetFishByID(this.fishID.toString()), m.default.Instance.Play("drill_hit_2"), e = 700 + 50 * Math.random(), n = 310 + 100 * Math.random(), i = new cc.Vec2(e, n), this.drillWeapon = f.default.Instance.GetSkillWeapon(this.playerSeat, f.WeaponType.Dirll), this.shootPos = this.drillWeapon.shootPos, null != t && (t.AliveStatus = u.FishState.DEAD, t.CanCollision = !1, t.StopAction(), t.PlayDieAnim(), i = t.node.getPosition(), t.node.runAction(cc.rotateBy(3, 360))), this.node.setPosition(i), this.node.scale = 1.5, null != this.drillGunIconNode && (this.drillGunIconNode.angle = this.playerSeat > 1 ? 180 : 0, o = g.default.isReverse ? -100 : 100, this.drillGunIconNode.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, o)).easing(cc.easeCubicActionOut()), cc.moveTo(.5, cc.Vec2.ZERO)))), [4, this.delay(1e3)];
                                case 1:
                                    return s.sent(), null != t && t.RemoveSelf(), a = f.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(1.2, a).easing(cc.easeSineOut()), cc.scaleTo(1.2, 1, 1)), cc.scaleTo(.5, 0, 0).easing(cc.easeCubicActionOut()))), m.default.Instance.Play("drill_addgun"), [4, this.delay(1e3)];
                                case 2:
                                    return s.sent(), this.CreateSkillTitle(), this.scoreUI = l.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(d.ScoreUIType.Drill), this.scoreUI.Init(this.playerBet), this.drillWeapon.ChangeGunAnim(), this.OnChangeGunEnd(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    m.default.Instance.Stop(this.readySound), this.readySound = null, f.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.drillBullet && (this.drillBullet.Recycle(), this.drillBullet.Event_OnBulletHit = null, this.drillBullet.Event_OnBulletReady = null, this.drillBullet.Event_OnBulletExplode = null, this.drillBullet = null), t.prototype.UnUseSkill.call(this)
                }, e.prototype.SetOtherShootData = function(t, e) {
                    this.isReceiveServerShoot = !0, this.shootPos = new cc.Vec2(t, e), this.CheckShoot()
                }, e.prototype.SetExplodeData = function(t, e, n, i, o) {
                    this.dieFishList = t, this.winList = e, this.oddsList = n, this.totalWin = this.currentWin + i, this.totalOdds = this.currentOdds + o, this.totalOdds = o, this.isGaveAward = !0, this.drillBullet && this.drillBullet.BulletExplode(), this.isShootEnd || this.drillWeapon && this.drillWeapon.SwitchGunObj(!1)
                }, e.prototype.OnChangeGunEnd = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), this.shootReady = !0, this.shootTimer = this.limitShootTime, this.forceTimer = this.forceTime, this.isMainPlayer ? (this.RegisterTouchEvent(), g.default.Instance.IsLockChangeWeapon = !0) : this.CheckShoot(), [2]
                            }
                        })
                    })
                }, e.prototype.CheckShoot = function() {
                    this.isMainPlayer || this.shootReady && this.isReceiveServerShoot && this.OtherPlayerShoot()
                }, e.prototype.MainPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.drillWeapon && this.drillWeapon.isGunReady && this.isMainPlayer ? this.isShootEnd ? [2] : (this.isShootEnd = !0, this.CanelRegisterTouchEvent(), g.default.Instance.IsLockChangeWeapon = !1, y.default.SkillSystem.SendSkillShoot(p.SKILL_CMD_NAME.DRILL_SHOOT, this.playerSeat, this.shootPos.x, this.shootPos.y), this.shootTimer = 999, this.drillWeapon.setLimitTime(null), this.drillWeapon.SwitchGunObj(!1), l.PlayerManager.Instance.players[this.playerSeat] && (this.drillBullet = f.default.Instance.CreateBullet(this.playerSeat, this.shootPos, this.playerBet), this.drillBullet && (this.drillBullet.Event_OnBulletHit = this.OnBulletHit.bind(this), this.drillBullet.Event_OnBulletReady = this.OnBulletExplodeReady.bind(this), this.drillBullet.Event_OnBulletExplode = this.OnBulletExple.bind(this))), m.default.Instance.Stop(this.readySound), this.readySound = null, m.default.Instance.Play("drill_shoot"), [2]) : [2]
                        })
                    })
                }, e.prototype.OtherPlayerShoot = function() {
                    this.isShootEnd || this.drillWeapon && this.drillWeapon.isGunReady && (this.isShootEnd = !0, this.drillWeapon.SwitchGunObj(!1), l.PlayerManager.Instance.players[this.playerSeat] && (this.drillBullet = f.default.Instance.CreateBullet(this.playerSeat, this.shootPos), this.drillBullet && (this.drillBullet.Event_OnBulletExplode = this.OnBulletExple.bind(this))), m.default.Instance.Stop(this.readySound), this.readySound = null, m.default.Instance.Play("drill_shoot"))
                }, e.prototype.ShowExplodeAndAward = function(t, e) {
                    return void 0 === e && (e = !1), s(this, void 0, void 0, function() {
                        var n, i;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return e || this.CreateExplodeEffect(t), n = (new Date).getTime(), this.fishAwardTime = n < this.fishAwardTime ? this.fishAwardTime - n : 0, i = this.KillFishesAndShowAward(), this.scoreUI.SetScore(this.totalWin), this.fishAwardTime = i > this.fishAwardTime ? i : this.fishAwardTime, [4, this.delay(1500)];
                                case 1:
                                    return o.sent(), this.fishAwardTime = this.fishAwardTime >= 1.5 ? this.fishAwardTime - 1.5 : 0, [4, this.delay(1e3 * this.fishAwardTime)];
                                case 2:
                                    return o.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return o.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.BulletHitFish = function(t, e, n, i) {
                    var o = this;
                    t && h.default.Instance.KillFish(this.playerSeat, t, e, i, !1, !0, function(t) {
                        var e = t + (new Date).getTime();
                        o.fishAwardTime = e > o.fishAwardTime ? e : o.fishAwardTime
                    }), this.currentWin += e, this.currentOdds += n, this.scoreUI.SetScore(this.currentWin)
                }, e.prototype.OnBulletHit = function(t) {
                    this.isMainPlayer && y.default.SkillSystem.SendHitFish(p.SKILL_CMD_NAME.DRILL_HIT, t)
                }, e.prototype.OnBulletExplodeReady = function(t) {
                    this.isMainPlayer && y.default.SkillSystem.SendRangeFish(p.SKILL_CMD_NAME.DRILL_BOMB, t)
                }, e.prototype.OnBulletExple = function(t, e) {
                    this.isForceShowAward = t, this.ShowExplodeAndAward(e), this.drillBullet && (this.drillBullet.Event_OnBulletHit = null, this.drillBullet.Event_OnBulletReady = null, this.drillBullet.Event_OnBulletExplode = null, this.drillBullet = null)
                }, e.prototype.CreateExplodeEffect = function(t) {
                    this.AddSkillEffect("Bomb_Explode", t, 0, null), m.default.Instance.Play("drill_bomb"), this.CameraShakeEffect(1, 3)
                }, e.prototype.OnTouchStart = function(t) {
                    this.isTouchIng = !0, this.shootPos = g.default.ConvMousePos(t.getLocation()), null != this.drillWeapon && (this.drillWeapon.SetGunRotateUsePos(this.shootPos), null == this.readySound && (this.readySound = m.default.Instance.Play("drill_ready", 1, !0)))
                }, e.prototype.OnTouchMove = function(t) {
                    this.isTouchIng && this.drillWeapon && (this.shootPos = g.default.ConvMousePos(t.getLocation()), this.drillWeapon.SetGunRotateUsePos(this.shootPos))
                }, e.prototype.OnTouchEnd = function(t) {
                    this.isTouchIng && (this.isTouchIng = !1, this.shootPos = g.default.ConvMousePos(t.getLocation()), this.MainPlayerShoot())
                }, a([v(cc.Node)], e.prototype, "drillGunIconNode", void 0), a([_], e)
            }(c.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillElazingPhoneix: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "6cda6MDb7tGzJ1EidYIGpH6", "SkillElazingPhoneix");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("./BaseSkill"),
            h = t("../Fish/BaseFish"),
            u = t("../Player/UserInfoController"),
            p = t("../Fish/FishManager"),
            d = t("../Player/PlayerManager"),
            f = t("../Common/ResourceManager"),
            y = t("../Common/AudioManager"),
            m = t("../../../../../FishCommon/Script/CanvasHandler"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property;
        (function(t) {
            t[t.stay = 0] = "stay", t[t.move = 1] = "move"
        })(c || (c = {}));
        var v = function(t) {
                this.node = null, this.state = c.stay, this.oriPosition = null, this.oriScale = 0, this.node = t, this.oriPosition = t.getPosition(), this.oriScale = t.scale
            },
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BirdsNode = [], e.Totem = null, e.Explosion = null, e.FrameFire = null, e.CountObj = null, e.label_number = null, e.Birds = [], e.isContinue = !0, e.currentBombNumber = 0, e.HitCount = 0, e.scoreUI = null, e.fishID = null, e.fishAwardTime = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = l.skillEnum.AwakenPhoenix, this.limitTime = 120;
                    for (var t = 0; t < this.BirdsNode.length; t++) this.Birds.push(new v(this.BirdsNode[t]))
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.node.scale = 0, this.isContinue = !0, this.currentBombNumber = 0, this.label_number.string = "1", this.forceTime = 7.5, this.playerBet = e.bet, this.FrameFire.node.opacity = 0, this.CountObj.opacity = 255, this.CountObj.angle = m.default.isReverse ? 180 : 0, this.fishID = e.bomb_fish_id
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return (t = p.default.Instance.GetFishByID(this.fishID.toString())) && (t.AliveStatus = h.FishState.DEAD, t.CanCollision = !1, t.StopAction(), t.PlayDieAnim(), y.default.Instance.Play("Phoenix_die_01", .5)), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(t ? this.node.parent.convertToNodeSpaceAR(t.getFishPos()) : cc.Vec2.ZERO), (e = f.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, e.setPosition(this.node.getPosition()), this.Totem.node.angle = m.default.isReverse ? 180 : 0, this.Totem.node.opacity = 255, this.Totem.node.active = !0, this.Totem.playAdditive("TotemBurn"), [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO), cc.callFunc(function() {
                                        n.Totem.playAdditive("TotemLoop"), y.default.Instance.Play("storm_shoot")
                                    }), cc.delayTime(.8), cc.callFunc(function() {
                                        n.Explosion.node.active = !0, n.Explosion.play("Explosion"), n.Totem.node.active = !1, y.default.Instance.Play("bomb_ex03")
                                    }), cc.delayTime(1.4), cc.callFunc(function() {
                                        n.Explosion.node.active = !1, n.FrameFire.node.active = !0, n.FrameFire.play("FrameFire"), n.FrameFire.node.runAction(cc.fadeIn(1)), y.default.Instance.Fade(y.default.Instance.GetBGMID(), 1, 0), n.bgmID = y.default.Instance.Play("Phoenix_out_01", .7, !0), y.default.Instance.Fade(n.bgmID, 0, 1);
                                        for (var t = 0; t < n.Birds.length; t++) n.Birds[t].node.active = !0;
                                        n.schedule(n.StartBirdAttack, .2), m.default.CameraShake(2)
                                    }))), this.CreateSkillTitle(), this.scoreUI = d.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(u.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), this.forceTimer = this.forceTime, [4, this.delay(5e3)];
                                case 3:
                                    return i.sent(), this.schedule(this.UpdateHit, .1), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.Totem.stop(), this.Totem.node.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1, this.FrameFire.stop(), this.FrameFire.node.active = !1;
                    for (var e = 0; e < this.Birds.length; e++) this.Birds[e].node.stopAllActions(), this.Birds[e].node.setPosition(this.Birds[e].oriPosition), this.Birds[e].node.scale = this.Birds[e].oriScale, this.Birds[e].state = c.stay, this.Birds[e].node.active = !1;
                    this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), m.default.CameraShake(-2), t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitExplodeData = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, this.delay(3e3)];
                                case 1:
                                    if (s.sent(), this.dieFishList = new Array, this.winList = new Array, e = t.fish_dead_dict, n = Object.keys(e))
                                        for (i = 0; i < n.length; i++) o = n[i], (a = p.default.Instance.GetFishByID(o)) && (a.AliveStatus = h.FishState.DEAD, a.CanCollision = !1, a.StopAction(), this.dieFishList.push(a), this.winList.push(e[o].coin));
                                    return this.totalWin = t.total_wins, this.HitCount = t.hit_count, this.isContinue = t.continues, this.isContinue ? this.KillFish() : (this.isGaveAward = !0, this.ShowExplode()), [2]
                            }
                        })
                    })
                }, e.prototype.SetExplodeEndData = function() {
                    this.isContinue && (this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode())
                }, e.prototype.KillFish = function() {
                    var t = 0;
                    this.forceTimer = 0, t = this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.scoreUI && this.scoreUI.SetScore(this.currentWin), this.forceTimer = this.forceTime
                }, e.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return f.default.SpawnEffect("Effect_Phoneix", this.isMainPlayer), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), m.default.CameraShake(-2), this.unschedule(this.StartBirdAttack), this.unschedule(this.UpdateHit), this.currentBombNumber < this.HitCount && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)), y.default.Instance.Play("Phoenix_count_02")), [4, this.delay(1800)];
                                case 2:
                                    return n.sent(), t = function() {
                                        e.currentBombNumber++, e.label_number.string = e.currentBombNumber.toString(), y.default.Instance.Play("Phoenix_count_01"), e.currentBombNumber >= e.HitCount && (y.default.Instance.Play("Phoenix_count_03"), e.CountObj.scale = 1.5, e.CountObj.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1))), e.unschedule(t))
                                    }, this.Explosion.node.active = !0, this.Explosion.play("Explosion"), y.default.Instance.Play("Phoenix_attackend_01"), y.default.Instance.SetNextSound(this.bgmID, "Phoenix_out_02", .7), y.default.Instance.Fade(y.default.Instance.GetBGMID(), 0, 1), [4, this.delay(800)];
                                case 3:
                                    return n.sent(), y.default.Instance.Play("drill_bomb_1"), this.KillFish(), this.fishAwardTime -= (new Date).getTime(), this.CameraShakeEffect(2, 1.5), this.CountObj.scale = 1.2, this.schedule(t, 0), this.FrameFire.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3 * this.fishAwardTime)];
                                case 4:
                                    return n.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.StartBirdAttack = function() {
                    for (var t = 0; t < 5; t++) {
                        var e = Math.floor(Math.random() * this.Birds.length);
                        this.Birds[e].state == c.stay && this.BirdAttack(e)
                    }
                    var n = function() {
                            var t = f.default.SpawnEffect("Red_Blast");
                            if (!t) return "continue";
                            var e = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                n = 1.5 * Math.random() + 1,
                                o = Math.random() + 1;
                            t.parent = i.node.parent, t.zIndex = 0, t.active = !1, t.setPosition(e), t.scale = n, i.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                t.active = !0, t.getComponent(cc.Animation).play("Blast"), y.default.Instance.Play("Phoenix_attack_01", .3)
                            })))
                        },
                        i = this;
                    for (t = 0; t < 2; t++) n()
                }, e.prototype.BirdAttack = function(t) {
                    var e = this;
                    if (this.Birds[t].state != c.move) {
                        this.Birds[t].state = c.move;
                        var n = 50 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            i = .2 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            o = .9 * Math.random() + .1,
                            a = Math.random() + 1;
                        this.Birds[t].node.setPosition(this.Birds[t].node.getPosition().add(new cc.Vec2(0, n))), this.Birds[t].node.scale += i, this.Birds[t].node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                            var n = e.Birds[t].node.getComponent(cc.Animation),
                                i = a > 1.5 ? 2 : 1;
                            n && n.play("BirdFly0" + i.toString())
                        }), cc.moveTo(a, new cc.Vec2(750, this.Birds[t].node.getPosition().y)), cc.callFunc(function() {
                            e.Birds[t].node.setPosition(e.Birds[t].oriPosition), e.Birds[t].node.scale = e.Birds[t].oriScale, e.Birds[t].state = c.stay
                        })))
                    }
                }, e.prototype.UpdateHit = function() {
                    this.currentBombNumber >= this.HitCount || Math.random() >= .7 || (this.CountObj.active || (this.CountObj.active = !0), this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)), y.default.Instance.Play("Phoenix_count_01"))
                }, a([_([cc.Node])], e.prototype, "BirdsNode", void 0), a([_(cc.Animation)], e.prototype, "Totem", void 0), a([_(cc.Animation)], e.prototype, "Explosion", void 0), a([_(cc.Animation)], e.prototype, "FrameFire", void 0), a([_(cc.Node)], e.prototype, "CountObj", void 0), a([_(cc.Label)], e.prototype, "label_number", void 0), a([S], e)
            }(l.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillElectric: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "779c4t+/itMroOlbl7rKHIO", "SkillElectric");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Weapon/WeaponManager"),
            h = t("../Fish/BaseFish"),
            u = t("../../System/SkillSystem"),
            p = t("../Fish/FishManager"),
            d = t("../../GameClient"),
            f = t("../Common/AudioManager"),
            y = t("../../../../../FishCommon/Script/CanvasHandler"),
            m = cc._decorator,
            g = m.ccclass,
            S = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.electricGunIconNode = null, e.electricWeapon = null, e.shootReady = !1, e.isReceiveServerShoot = !1, e.isTouchIng = !1, e.isShootEnd = !1, e.shootPos = cc.Vec2.ZERO, e.fishID = null, e.limitShootTime = 15, e.shootTimer = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Electric, this.limitTime = 80, this.forceTime = 25
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.isShootEnd || (this.isMainPlayer && this.shootTimer > 0 && (this.shootTimer -= e, this.shootTimer <= 10 && this.electricWeapon.setLimitTime(this.shootTimer), this.shootTimer <= 0 && (this.shootTimer = 0, this.MainPlayerShoot())), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.forceTimer = 0, this.isGaveAward = !0, this.isForceShowAward = !0, this.OtherPlayerShoot())))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.electricWeapon = null, this.shootReady = !1, this.isReceiveServerShoot = !1, this.isShootEnd = !1, this.isTouchIng = !1, this.shootPos = cc.Vec2.ZERO, this.playerBet = e.bet, this.fishID = e.crab
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = p.default.Instance.GetFishByID(this.fishID.toString()), f.default.Instance.Play("drill_hit_2"), e = 700 + 50 * Math.random(), n = 310 + 100 * Math.random(), i = new cc.Vec2(e, n), this.electricWeapon = l.default.Instance.GetSkillWeapon(this.playerSeat, l.WeaponType.Electric), this.shootPos = this.electricWeapon.shootPos, null != t && (t.AliveStatus = h.FishState.DEAD, t.CanCollision = !1, t.StopAction(), t.PlayDieAnim(), i = t.node.getPosition(), t.node.runAction(cc.rotateBy(3, 360))), this.node.setPosition(i), this.node.scale = 1.5, null != this.electricGunIconNode && (this.electricGunIconNode.angle = this.playerSeat > 1 ? 180 : 0, o = y.default.isReverse ? -100 : 100, this.electricGunIconNode.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, o)).easing(cc.easeCubicActionOut()), cc.moveTo(.5, cc.Vec2.ZERO)))), [4, this.delay(1e3)];
                                case 1:
                                    return s.sent(), null != t && t.RemoveSelf(), a = l.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(1.2, a).easing(cc.easeSineOut()), cc.scaleTo(1.2, 1, 1)), cc.scaleTo(.5, 0, 0).easing(cc.easeCubicActionOut()))), f.default.Instance.Play("drill_addgun"), [4, this.delay(1700)];
                                case 2:
                                    return s.sent(), this.CreateSkillTitle(), this.electricWeapon.ChangeGunAnim(), this.OnChangeGunEnd(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.node.scale = 0, l.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.CanelRegisterTouchEvent(), t.prototype.UnUseSkill.call(this)
                }, e.prototype.SetOtherShootData = function(t, e) {
                    this.isReceiveServerShoot = !0, this.shootPos = new cc.Vec2(t, e), this.CheckShoot()
                }, e.prototype.SetExplodeData = function(t, e, n, i, o) {
                    if (this.dieFishList = t, this.winList = e, this.oddsList = n, this.totalWin = i, this.totalOdds = o, this.isGaveAward = !0, !this.isMainPlayer && !this.isReceiveServerShoot) return this.isReceiveServerShoot = !0, this.shootPos = cc.Vec2.ZERO, void this.CheckShoot();
                    this.ShowExplodeAndAward()
                }, e.prototype.OnChangeGunEnd = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), this.shootReady = !0, this.shootTimer = this.limitShootTime, this.forceTimer = this.forceTime, this.isMainPlayer ? (this.RegisterTouchEvent(), y.default.Instance.IsLockChangeWeapon = !0) : this.CheckShoot(), [2]
                            }
                        })
                    })
                }, e.prototype.CheckShoot = function() {
                    this.isMainPlayer || this.shootReady && this.isReceiveServerShoot && this.OtherPlayerShoot()
                }, e.prototype.MainPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.electricWeapon && this.electricWeapon.isGunReady && this.isMainPlayer ? this.isShootEnd ? [2] : (this.isShootEnd = !0, this.CanelRegisterTouchEvent(), y.default.Instance.IsLockChangeWeapon = !1, f.default.Instance.Play("CannonShoot"), d.default.SkillSystem.SendSkillShoot(u.SKILL_CMD_NAME.ELECTRIC_SHOOT, this.playerSeat, this.shootPos.x, this.shootPos.y), this.electricWeapon.ShootFunction(this.shootPos), this.shootTimer = 999, this.electricWeapon.setLimitTime(null), this.electricWeapon.SwitchCollision(!0), [4, this.delay(1500)]) : [2];
                                case 1:
                                    return e.sent(), new Array, t = Array.from(this.electricWeapon.GetFishIDList()), d.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.ELECTRIC_HIT, t), this.electricWeapon.SwitchCollision(!1), [2]
                            }
                        })
                    })
                }, e.prototype.OtherPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.isShootEnd ? [2] : this.electricWeapon && this.electricWeapon.isGunReady ? (this.isShootEnd = !0, f.default.Instance.Play("CannonShoot"), this.electricWeapon.ShootFunction(this.shootPos), this.isGaveAward ? [4, this.delay(1500)] : [3, 2]) : [2];
                                case 1:
                                    t.sent(), this.ShowExplodeAndAward(), t.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.ShowExplodeAndAward = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t = this.KillFishesAndShowAward(), [4, this.delay(1500)];
                                case 1:
                                    return e.sent(), t = t > 1.5 ? t - 1.5 : 0, [4, this.delay(1e3 * t)];
                                case 2:
                                    return e.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return e.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.OnTouchStart = function(t) {
                    this.isTouchIng = !0, this.shootPos = y.default.ConvMousePos(new cc.Vec2(t.getLocation().x, t.getLocation().y)), null != this.electricWeapon && this.electricWeapon.SetGunRotateUsePos(this.shootPos)
                }, e.prototype.OnTouchMove = function(t) {
                    this.isTouchIng && this.electricWeapon && (this.shootPos = y.default.ConvMousePos(new cc.Vec2(t.getLocation().x, t.getLocation().y)), this.electricWeapon.SetGunRotateUsePos(this.shootPos))
                }, e.prototype.OnTouchEnd = function(t) {
                    this.isTouchIng && (this.isTouchIng = !1, this.shootPos = y.default.ConvMousePos(new cc.Vec2(t.getLocation().x, t.getLocation().y)), this.MainPlayerShoot(), this.CameraShakeEffect(2.5, 2))
                }, a([S(cc.Node)], e.prototype, "electricGunIconNode", void 0), a([g], e)
            }(c.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillFlameStorm: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3e0147sPwtCsIYNVPI8Jczi", "SkillFlameStorm");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Player/PlayerManager"),
            h = t("../Common/ResourceManager"),
            u = t("../Fish/FishManager"),
            p = t("../Player/UserInfoController"),
            d = t("../Weapon/WeaponManager"),
            f = t("../Common/AudioManager"),
            y = t("../Common/Utility"),
            m = t("../../../../../FishCommon/Script/CanvasHandler"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property,
            v = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.titleEffect = null, e.explanationAnim = null, e.award_light = null, e.flameStormScoreUI = null, e.weapon = null, e.isShootState = !1, e.hintTimer = 0, e.currentMulti = 1, e.fishAwardTime = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.FlameStorm, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.isShootState && (this.duration > 0 && (this.duration -= e), this.StartPlayHimtSound(e), this.duration < 0 && (this.duration = 0, this.isShootState = !1, this.weapon.isGunReady = !1, this.ShowAwardFunction(), f.default.Instance.Play("a010")), this.flameStormScoreUI && this.flameStormScoreUI.SetTimeText(this.duration))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), l.PlayerManager.isMainSeat(this.playerSeat) && l.PlayerManager.BulletSync(1), this.currentMulti = 1, this.node.angle = 0, this.titleEffect.node.active = !0, this.titleEffect.resume(), this.explanationAnim.node.active = !1, this.explanationAnim.node.angle = this.playerSeat < 2 ? 0 : 180, this.award_light.active = !1, this.playerBet = e[9], this.duration = Math.floor(e[15]), this.hintTimer = 0
                }, e.prototype.UseSkill = function() {
                    this.isShootState || this.OnUseSkill()
                }, e.prototype.OnUseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.weapon = d.default.Instance.GetSkillWeapon(this.playerSeat, d.WeaponType.FlameStorm), this.titleEffect.play("FlameStorm_TitleAnim"), f.default.Instance.Play("storm_title2"), t = d.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.spawn(cc.repeat(cc.rotateBy(1, 90), 100), cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                                f.default.Instance.Play("storm_addgun")
                            }), cc.moveTo(1, t), cc.delayTime(.25), cc.callFunc(function() {
                                e.titleEffect.stop(), e.InitFlameStorm(), e.titleEffect.node.active = !1, e.node.stopAllActions()
                            })))), [2]
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.isShootState = !1, d.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.flameStormScoreUI && (this.flameStormScoreUI.FadeOutAnim(), this.flameStormScoreUI = null), this.explanationAnim && this.explanationAnim.stop(), t.prototype.UnUseSkill.call(this)
                }, e.prototype.onCheckSkill = function(t, e) {
                    this.playerBet = t, this.duration = Math.floor(e), this.hintTimer = 0, this.isShootState || this.OnUseSkill()
                }, e.prototype.StartPlayHimtSound = function(t) {
                    this.hintTimer += t, this.hintTimer >= 1 && (this.hintTimer = 0, f.default.Instance.Play("a008"), 10 != Math.floor(this.duration) && 5 != Math.floor(this.duration) || f.default.Instance.Play("hurryup"))
                }, e.prototype.onSkillEnd = function(t) {
                    this.totalWin = t.total_win
                }, e.prototype.onShoot = function(t, e) {
                    l.PlayerManager.isMainSeat(this.playerSeat) || u.default.Instance.currect_fps < 20 || d.default.Instance.bulletCount[this.playerSeat] >= d.default.Instance.bulletLimit || (d.default.Instance.CreateBullet(this.playerSeat, e), d.default.Instance.getWeapon(this.playerSeat).ShootFunction(e))
                }, e.prototype.onHit = function(t, e) {
                    var n = this,
                        i = Object.keys(t),
                        o = cc.Vec2.ZERO;
                    i.forEach(function(e) {
                        var i = t[e].coin,
                            a = u.default.Instance.GetFishByID(e.toString());
                        a && (o = a.node.getPosition(), u.default.Instance.KillFish(n.playerSeat, a, i, n.playerBet, !1, !0, function(t) {
                            var e = t + (new Date).getTime();
                            n.fishAwardTime = n.fishAwardTime < e ? e : n.fishAwardTime
                        }), n.currentWin += i, n.flameStormScoreUI.SetScore(n.currentWin))
                    }), Object.keys(e).forEach(function(t) {
                        n.create_item(t, o, e[t])
                    })
                }, e.prototype.create_item = function(t, e, n) {
                    var i = this,
                        o = this.playerSeat > 1 ? new cc.Vec2(-100, -50) : new cc.Vec2(60, 50),
                        a = d.default.WeaponPosition(this.playerSeat).add(o);
                    f.default.Instance.Play("storm_add");
                    for (var s = function() {
                            var n = 100 * Math.random() - 50,
                                o = 100 * Math.random() - 50,
                                s = (e.add(new cc.Vec2(n, o)), "");
                            if ("13001" == t ? s = "FlameStorm_TimeItem" : "13002" == t && (s = "FlameStorm_MultiItem"), s) {
                                var c = h.default.SpawnEffect(s, r.isMainPlayer);
                                c.runAction(cc.sequence(cc.delayTime(.7), cc.moveTo(.5, a).easing(cc.easeSineOut()), cc.callFunc(function() {
                                    "13001" == t ? i.AddTime() : "13002" == t && i.AddMulti(), f.default.Instance.Play("add_get"), h.default.DespawnEffect(s, c)
                                })))
                            }
                        }, r = this, c = 0; c < n; c++) s()
                }, e.prototype.AddTime = function() {
                    this.isShootState && (this.duration++, this.flameStormScoreUI && this.flameStormScoreUI.SetTimeText(this.duration))
                }, e.prototype.AddMulti = function() {
                    this.currentMulti++, this.flameStormScoreUI && this.flameStormScoreUI.SetMultiText(this.currentMulti)
                }, e.prototype.ShowAwardFunction = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, [4, this.delay(1e3 * this.fishAwardTime)];
                                case 1:
                                    return e.sent(), this.award_light.active = !0, this.award_light.opacity = 255, 0 != this.totalWin ? [3, 3] : [4, this.delay(2e3)];
                                case 2:
                                    e.sent(), e.label = 3;
                                case 3:
                                    return this.SkillTitle ? [2] : (this.ShowSkillScore(), this.PlayAwardSound(), [4, this.delay(6e3)]);
                                case 4:
                                    return e.sent(), this.award_light.runAction(cc.fadeOut(.5)), [4, this.delay(500)];
                                case 5:
                                    return e.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.ShowSkillScore = function() {
                    var t = this,
                        e = h.default.SpawnEffect("GN", this.isMainPlayer);
                    e && (e.setScale(1), e.angle = m.default.isReverse ? 180 : 0, e.setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -100 : 100))));
                    var n = e.getComponentInChildren(cc.Label),
                        i = 0,
                        o = (this.totalWin - i) / 40;
                    e.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                        i += o, n.string = y.default.NumberformatBet(i, t.playerBet)
                    }), cc.delayTime(.05)), 40), cc.delayTime(4), cc.callFunc(function() {
                        t.flameStormScoreUI && (t.flameStormScoreUI.FadeOutAnim(), t.flameStormScoreUI = null)
                    }), cc.fadeOut(.5), cc.callFunc(function() {
                        e.opacity = 255, h.default.DespawnEffect("GN", e)
                    })))
                }, e.prototype.InitFlameStorm = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.node.angle = m.default.isReverse ? 180 : 0, this.explanationAnim && (this.explanationAnim.node.active = !0, this.explanationAnim.play("FlameStorm_ExplanationShowUp"), f.default.Instance.Play("storm_title")), this.weapon.ChangeGunAnim(), this.GetScoreUI(), (t = h.default.SpawnEffect("FlameStorm_Description", this.isMainPlayer)).setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -80 : 80))), t.angle = this.node.angle, f.default.Instance.Play("ready"), [4, this.delay(2e3)];
                                case 1:
                                    return e.sent(), f.default.Instance.Play("go"), this.isShootState = !0, this.weapon.isGunReady = !0, [2]
                            }
                        })
                    })
                }, e.prototype.GetScoreUI = function() {
                    this.flameStormScoreUI = l.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(p.ScoreUIType.FlameStorm), this.flameStormScoreUI && (this.flameStormScoreUI.Init(this.playerBet), this.flameStormScoreUI.SetScore(this.currentWin), this.flameStormScoreUI.SetMultiText(this.currentMulti), this.flameStormScoreUI.SetTimeText(this.duration))
                }, a([_(cc.Animation)], e.prototype, "titleEffect", void 0), a([_(cc.Animation)], e.prototype, "explanationAnim", void 0), a([_(cc.Node)], e.prototype, "award_light", void 0), a([S], e)
            }(c.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillFlash: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ceb87jqcthK9o7Dc13FFpOD", "SkillFlash");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Fish/FishManager"),
            h = t("../Fish/BaseFish"),
            u = t("../Weapon/WeaponManager"),
            p = t("../Common/AudioManager"),
            d = t("../../../../../FishCommon/Script/CanvasHandler"),
            f = cc._decorator,
            y = f.ccclass,
            m = f.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.CountObj = null, e.CountLabel = null, e.BlastAnim = null, e.flashFish = null, e.ShockFishIDList = null, e.ShockFishList = null, e.NowNode = null, e.NowBallSize = null, e.ShockCount = null, e.waitNextFishTime = null, e.IsContinue = null, e.IsWaiting = null, e.WAIT_NEXT_MAX_TIME = null, e.UpDateFunc = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Flash, this.limitTime = 100
                }, e.prototype.InitProperties = function(e) {
                    t.prototype.InitProperties.call(this), this.ShockFishIDList = [], this.ShockFishList = [], this.UpDateFunc = [], this.NowNode = this.node, this.IsContinue = !0, this.IsWaiting = !1, this.WAIT_NEXT_MAX_TIME = 5, this.waitNextFishTime = 0, this.ShockCount = 0, this.NowBallSize = 0, this.CountLabel.string = "0", this.CountObj.active = !1, this.CountObj.setPosition(cc.Vec2.ZERO), this.BlastAnim.node.active = !1;
                    var n = e.id;
                    this.playerBet = e.bet;
                    var i = e.type;
                    this.totalWin = l.default.Instance.fish_info[i].odds * this.playerBet, this.flashFish = l.default.Instance.GetFishByID(n.toString()), null != this.flashFish ? (this.dieFishList.push(this.flashFish), this.winList.push(this.flashFish.GetFishScore(this.playerBet)), this.flashFish.CanCollision = !1, this.flashFish.AliveStatus = h.FishState.DEAD, this.flashFish.StopAction(), this.NowNode.setPosition(u.default.WeaponPosition(this.playerSeat))) : this.UnUseSkill()
                }, e.prototype.UseSkill = function() {
                    this.schedule(this.WaitingNextFish, 1), this.flashFish && this.flashFish.flashAnim && this.flashFish.flashAnim.node && (this.flashFish.flashAnim.node.active = !1), this.CreateSkillTitle(), this.ShockFish(this.flashFish, this.NowNode, !0)
                }, e.prototype.UnUseSkill = function() {
                    null != this.flashFish && (this.flashFish.RemoveSelf(), this.flashFish = null), this.flashFish = null, this.ShockFishIDList = null, this.ShockFishList = null, this.NowNode = null, this.NowBallSize = null, this.ShockCount = null, this.waitNextFishTime = null, this.IsContinue = null, this.IsWaiting = null, this.WAIT_NEXT_MAX_TIME = null, this.UpDateFunc = null, this.BlastAnim && this.BlastAnim.stop(), this.BlastAnim.node.active = !1, t.prototype.UnUseSkill.call(this)
                }, e.prototype.NextFishInfo = function(t) {
                    this.totalWin = t.total_win, this.IsContinue = t.continue;
                    var e = t.fish_dead_dict,
                        n = Object.keys(e);
                    this.IsContinue || (this.isGaveAward = !0);
                    for (var i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = l.default.Instance.GetFishByID(o);
                        a || (a = this.CreateFakeFish(o)) || this.ShowAward(), a.AliveStatus = h.FishState.DEAD, a.CanCollision = !1, a.StopAction(), a.node.stopAllActions(), a.node.opacity = 255, this.dieFishList.push(a), this.winList.push(e[o].coin), this.ShockFishList.push(a), this.ShockFishIDList.push(o)
                    }
                }, e.prototype.ShockFish = function(t, e, n) {
                    void 0 === n && (n = !1), this.IsWaiting = !1, this.ShockCount++, this.IsContinue && (this.waitNextFishTime = 0), this.CreateLingtningLineEffect(e, t.node, n)
                }, e.prototype.CheckNextShockFish = function(t) {
                    if (this.NowNode = t, this.ShockFishList.length > 0) {
                        var e = this.ShockFishList.shift(),
                            n = this.ShockFishIDList.shift();
                        e || (e = this.CreateFakeFish(n)), this.ShockFish(e, t)
                    } else this.IsContinue ? this.IsWaiting = !0 : this.ShowAward()
                }, e.prototype.ShowAward = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.ShockFishList.length > 0 ? [2] : (this.unschedule(this.WaitingNextFish), [4, this.delay(200)]);
                                case 1:
                                    return n.sent(), p.default.Instance.Play("24_flashend_main"), [4, this.delay(600)];
                                case 2:
                                    for (n.sent(), t = 0; t < this.UpDateFunc.length; t++) this.unschedule(this.UpDateFunc[t]);
                                    return [4, this.delay(200)];
                                case 3:
                                    for (n.sent(), this.BlastAnim.node.setPosition(this.NowNode.getPosition().sub(this.node.getPosition())), this.BlastAnim.node.active = !0, this.BlastAnim.play("Blast"), t = 0; t < this.dieFishList.length; t++) this.dieFishList[t].StopAction(), this.dieFishList[t].PlayDieAnim();
                                    return this.RemoveSkillEffect(), this.CountObj.parent = this.node, this.CountLabel.string = "0", this.CountObj.setPosition(cc.Vec2.ZERO), this.CountObj.active = !1, e = this.KillFishesAndShowAward(), [4, this.delay(1e3 * e)];
                                case 4:
                                    return n.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.CreateLingtningLineEffect = function(t, e, n) {
                    var i = this;
                    void 0 === n && (n = !1);
                    var o = this.NowBallSize,
                        a = e.getPosition().sub(t.getPosition()),
                        s = 57.29578 * Math.atan2(a.y, a.x),
                        r = (Math.sqrt(a.x * a.x + a.y * a.y) - 125 * o) / 534,
                        c = 0,
                        l = .5,
                        f = null,
                        y = !1,
                        m = e.getChildByName("Shape"),
                        g = null == m ? .5 : (m.width > m.height ? m.width : m.height) / 280;
                    r <= 0 && (r = 0), this.AddSkillEffect("Flash_LightnIngLine", t.getPosition(), -s - 90, function(S) {
                        p.default.Instance.Play("22_flashline_main2");
                        var _ = null,
                            v = null,
                            b = null,
                            P = [],
                            C = null;
                        null != f && i.unschedule(f), S.stopAllActions(), S.opacity = 255, (_ = S.getChildByName("LightningLineImg")).setPosition(0, -125 * o), i.AddSkillEffect("Flash_LightnIngHead", t.getPosition(), S.angle, function(t) {
                            v = t, b = t.getChildByName("head"), P = v.getComponentsInChildren(cc.Sprite), b.getComponent(cc.Sprite).enabled = !0;
                            for (var e = 0; e < P.length; e++) P[e].enabled = !0;
                            i.CountObj.parent = b, i.CountObj.setPosition(0, 50), i.CountObj.angle = -t.angle + (d.default.isReverse ? 180 : 0), i.CountObj.active = !0, i.CountObj.getComponent(cc.Sprite).enabled = !0
                        }), _.setScale(l, c), v.angle = S.angle, b.setPosition(0, -1 * c * 534 - 125 * o);
                        var w = 0;
                        f = function(f) {
                            if (w += f, a = new cc.Vec2(e.x - t.x, e.y - t.y), s = 57.29578 * Math.atan2(a.y, a.x), (r = (Math.sqrt(a.x * a.x + a.y * a.y) - 125 * g - 125 * o) / 534) <= 0 && (r = 0), S.setPosition(t.getPosition()), S.angle = s + 90, c >= r) {
                                if (c = r, !y) {
                                    y = !0;
                                    for (var I = 0; I < P.length; I++) P[I].enabled = !1;
                                    S.runAction(cc.fadeOut(5)), i.AddSkillEffect("Flash_LightnIngBall", e.getPosition(), 0, function(t) {
                                        p.default.Instance.Play("22_flashline_main3"), C = t;
                                        var e = t.getChildByName("LightningBallImg");
                                        g = null == m ? .5 : (m.width > m.height ? m.width : m.height) / e.height, i.NowBallSize = g, e.stopAllActions(), e.color = cc.color(130, 255, 70, 255), e.scale = 1, e.runAction(cc.spawn(cc.scaleTo(.5, g), cc.tintTo(.5, 70, 158, 255)))
                                    }), i.CountLabel.string = i.ShockCount.toString();
                                    var k = cc.Vec2.ZERO;
                                    k = i.playerSeat > 1 ? new cc.Vec2(0, -200) : new cc.Vec2(0, 200);
                                    var T = e.getComponent(h.default);
                                    null != T && i.PullFishFunction(T, u.default.WeaponPosition(i.playerSeat).add(k)), i.scheduleOnce(function() {
                                        i.CheckNextShockFish(e)
                                    }, 1.2 - w)
                                }
                            } else n || y ? c = r : c += r / 15;
                            y && (l -= .1 / 30), l <= 0 && (l = 0), _.setScale(l, c), v.setPosition(t.getPosition()), v.angle = S.angle, b.setPosition(0, -1 * c * 534 - 125 * o), C && C.setPosition(e.getPosition()), i.CountObj.angle = -v.angle + (d.default.isReverse ? 180 : 0)
                        }, i.UpDateFunc.push(f), i.schedule(f, 0)
                    })
                }, e.prototype.PullFishFunction = function(t, e) {
                    var n = e.sub(t.node.getPosition());
                    new cc.Vec2(n.x, n.y), n.normalizeSelf();
                    var i = 50 + 100 * Math.random();
                    e.addSelf(n.mul(i)), t.node.runAction(cc.rotateBy(5, 360).repeatForever()), t.node.runAction(cc.sequence(cc.delayTime(.5), cc.moveTo(4, e).easing(cc.easeQuadraticActionOut())))
                }, e.prototype.CreateFakeFish = function(t) {
                    var e = Math.random(),
                        n = 0,
                        i = 0;
                    return e < .25 ? (n = 590 + 50 * Math.random(), i = 340 + 50 * Math.random()) : e < .5 ? (n = 50 * Math.random() - 590, i = 50 * Math.random() - 340) : e < .75 ? (n = 590 + 50 * Math.random(), i = 50 * Math.random() - 340) : (n = 50 * Math.random() - 590, i = 340 + 50 * Math.random()), l.default.Instance.CreateFakeFish(t, 1, new cc.Vec2(n, i))
                }, e.prototype.WaitingNextFish = function() {
                    this.IsWaiting && (this.CheckNextShockFish(this.NowNode), this.waitNextFishTime++, this.waitNextFishTime >= this.WAIT_NEXT_MAX_TIME && (this.waitNextFishTime = 0, this.ShowAward()))
                }, a([m(cc.Node)], e.prototype, "CountObj", void 0), a([m(cc.Label)], e.prototype, "CountLabel", void 0), a([m(cc.Animation)], e.prototype, "BlastAnim", void 0), a([y], e)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillGenie: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a8ec3OyeOhHk6d+rckzWQ3u", "SkillGenie");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Fish/FishManager"),
            f = t("../Game/GameManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = t("./GenieUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.GenieParent = null, e.Oops = null, e.MadnessTitle = null, e.LampCharge = null, e.GenieCharge = null, e.CoinParticle = [], e.TapHint = null, e.fishID = null, e.Genie = null, e.GenieUI = null, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.HitCount = 0, e.currentHitCount = 1, e.background = null, e.HitLabel = null, e.particleStartSize = [50, 50, 50, 100, 100, 80, 80, 80], e.particleEndSize = [50, 50, 50, 50, 50, 60, 60, 60], e.Rubbing = !1, e.RubSpeed = 1, e.fishAwardTime = 0, e.hintClickCount = 0, e.m_iTouchCount = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.RockSkull, this.limitTime = 240
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("Genie TimeOut"), this.Genie && (this.currentBombNumber > this.SmallBombTimes ? (this.isUnuse = !0, this.BigWin()) : this.LampExpo()), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.currentHitCount = 1, this.HitCount = 0, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.LampCharge.node.active = !1, this.fishID = e.id, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !1, m.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.CanelRegisterTouchEvent()), this.unschedule(this.UpdateHit), this.Genie && (this.Genie.RemoveSelf(), this.Genie = null), this.GenieUI && (this.GenieUI.Hide(!0), this.GenieUI = null), this.background && (this.background.SmokeOff(), this.background.SizeDown(), this.background = null), this.HitLabel && (p.default.DespawnEffect("GenieHit", this.HitLabel.node.parent.parent), this.HitLabel = null), this.Oops.node.active = !1, this.MadnessTitle.node.active = !1, this.node.setScale(1), this.tapHintActive(!1), this.m_iTouchCount = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Genie = d.default.Instance.GetFishByID(this.fishID.toString()), !this.Genie && this.isMainPlayer && (this.Genie = d.default.Instance.CreateFakeFish(this.fishID.toString(), 82, new cc.Vec2(700, 360), 10)), this.Genie) {
                        this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !0, m.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.RegisterTouchEvent()), this.Genie.FishDie(), this.Genie.PauseClip();
                        var e = c.default.isReverse ? this.Genie.node.position.neg() : this.Genie.node.position;
                        this.Genie.node.setParent(this.GenieParent), this.Genie.node.setPosition(e), this.Genie.node.angle = 0, this.CameraShakeEffect(5, 1), u.default.Instance.Play("Genie_catch_01");
                        var n = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.Genie.node.runAction(cc.sequence(n, cc.callFunc(function() {
                            u.default.Instance.Play("41_catch_bigfish"), t.Genie.CoinEffect(), t.Genie.RubReady(t.RubStart.bind(t), function() {
                                t.RubChargeLight(!0), t.tapHintActive(!0)
                            })
                        })))
                    }
                }, e.prototype.RubStart = function() {
                    var t = this;
                    cc.tween(this.Genie.node).delay(.5).call(function() {
                        t.Genie.eulerTurn(.8, cc.v3(28, -20, -10)), t.GenieUI = p.default.LoadGUI("10026").getComponent(S.default), t.GenieUI && t.GenieUI.Init(t.playerBet, t.playerSeat, t.Genie.node.getPosition())
                    }).to(.8, {
                        position: cc.Vec3.ZERO
                    }).call(function() {
                        t.background = f.default.Instance.BackgroundNow, t.background && t.background.SmokeOn(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), t.bgmID = u.default.Instance.Play("BGM_Genie_03", 1, !0), u.default.Instance.Fade(t.bgmID, 0, 1), t.scheduleOnce(t.SendRangeFish.bind(t), 3)
                    }).start(), d.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.RubChargeLight = function(t) {
                    if (this.Rubbing = t, this.LampCharge.node.active = t, t) {
                        this.RubSpeed = 1, this.LampCharge.play();
                        var e = this.LampCharge.getAnimationState(this.LampCharge.currentClip.name);
                        e && (e.speed = this.RubSpeed)
                    } else this.LampCharge.stop()
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.ROCKSKULL_BOME, t)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (this.node && !this.isUnuse)
                        if (null != this.Genie) {
                            this.dieFishList.length = 0, this.winList.length = 0;
                            var e = t.fish;
                            this.oddsList = t.odds;
                            for (var n = e.length, i = 0; i < n; i++) this.dieFishList.push(d.default.Instance.GetFishByID(e[i])), this.winList.push(this.oddsList[i] * this.playerBet);
                            this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.currentBombNumber <= this.SmallBombTimes ? this.SmallExplode() : (this.HitCount += n, this.BigExplode()), this.forceTimer = 0
                        } else {
                            var o = t.win;
                            y.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, o, null)
                        }
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Genie.RubBack(function() {
                                        if (t.node && !t.isUnuse) {
                                            var e = 1 + Math.floor(4 * Math.random());
                                            u.default.Instance.Play("voice_Genie_random_0" + e.toString()), t.RubChargeLight(!1), t.scheduleOnce(function() {
                                                u.default.Instance.Play("Genie_attack_01"), p.default.SpawnEffect("SmokeRing", t.isMainPlayer), t.KillFish(), t.GeyserEffect(), t.CameraShakeEffect(1.5, 2)
                                            }, .13)
                                        }
                                    }, this.RubChargeLight.bind(this, !0)), [4, this.delay(5e3)];
                                case 1:
                                    return e.sent(), this.currentBombNumber == this.SmallBombTimes && this.BigBombTimes > 0 ? [4, this.delay(3e3)] : [3, 3];
                                case 2:
                                    return e.sent(), this.Madness(), [3, 6];
                                case 3:
                                    return this.currentBombNumber < this.SmallBombTimes ? (this.SendRangeFish(), [3, 6]) : [3, 4];
                                case 4:
                                    return [4, this.delay(3e3)];
                                case 5:
                                    e.sent(), this.LampExpo(), e.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.LampExpo = function() {
                    var t = this;
                    this.Genie.RubFail(function() {
                        t.node && !t.isUnuse && (t.RubChargeLight(!1), t.tapHintActive(!1), t.scheduleOnce(function() {
                            t.Oops.node.active = !0, t.Oops.play()
                        }, .5), t.scheduleOnce(function() {
                            t.GenieUI && t.GenieUI.ShowScore(t.totalWin, !1), t.Genie && (t.Genie.RemoveSelf(), t.Genie = null), t.SkillOver()
                        }, 4))
                    })
                }, e.prototype.Madness = function() {
                    var t = this;
                    this.GenieCharge.node.scale = 1, this.GenieCharge.node.setPosition(cc.Vec3.ZERO);
                    for (var e = 0; e < this.CoinParticle.length; e++) this.CoinParticle[e].startSize = this.particleStartSize[e], this.CoinParticle[e].endSize = this.particleEndSize[e];
                    this.Genie.MadnessStart(function() {
                        t.node && !t.isUnuse && (u.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = u.default.Instance.Play("BGM_Genie_04", 1, !0), u.default.Instance.Fade(t.bgmID, 0, 1), u.default.Instance.Play("Genie_attack_02"), t.Genie.eulerTurn(.5, cc.v3(0, 0, 0)), cc.tween(t.Genie.node).to(1, {
                            position: cc.v3(0, -100, 0)
                        }).start(), t.RubChargeLight(!1), t.tapHintActive(!1))
                    }, function() {
                        cc.tween(t.node).delay(1.5).call(function() {
                            u.default.Instance.Play("Genie_title_01"), t.MadnessTitle.node.active = !0, t.MadnessTitle.play()
                        }).delay(.5).call(function() {
                            u.default.Instance.Play("voice_Genie_awaken_01")
                        }).delay(2.5).call(function() {
                            t.Genie.SetNextClip("AwakeIdleToMad", !1, function() {
                                t.node && !t.isUnuse && (cc.tween(t.Genie.node).by(1, {
                                    scale: .5,
                                    position: cc.v3(0, -185, 0)
                                }).start(), t.background.SizeUp())
                            }, function() {
                                t.node && !t.isUnuse && t.Genie.PlayClip("MadStart", !1, function() {
                                    t.GenieCharge.play("GenieCharge"), u.default.Instance.Play("Genie_collect_01"), t.Genie.PlayClip("MadLoop", !0), t.scheduleOnce(function() {
                                        t.SendRangeFish()
                                    }, 1.5)
                                })
                            })
                        }).start()
                    })
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.Genie.SetNextClip("MadSplash", !1, function() {
                                if (t.node && !t.isUnuse) {
                                    if (t.currentBombNumber == t.SmallBombTimes + 1) u.default.Instance.Play("voice_Genie_rise_01");
                                    else {
                                        var e = 2 + Math.floor(4 * Math.random());
                                        u.default.Instance.Play("voice_Genie_rise_0" + e.toString())
                                    }
                                    cc.tween(t.Genie.node).by(1, {
                                        scale: .1,
                                        position: cc.v3(0, -26, 0)
                                    }).start(), cc.tween(t.GenieCharge.node).by(1, {
                                        position: cc.v3(0, -10, 0)
                                    }).start();
                                    for (var n = 0; n < t.CoinParticle.length; n++) t.CoinParticle[n].startSize *= 1.05, t.CoinParticle[n].endSize *= 1.05;
                                    t.GenieCharge.node.scale *= 1.05, t.GenieCharge.play("GenieSplash"), t.scheduleOnce(function() {
                                        if (u.default.Instance.Play("Genie_round_01"), t.KillFish(), t.CameraShakeEffect(1.5, 6), t.isMainPlayer && null == t.HitLabel) {
                                            var e = p.default.SpawnEffect("GenieHit", t.isMainPlayer),
                                                n = m.default.WeaponPosition(t.playerSeat);
                                            e.setPosition(n.add(new cc.Vec2(0, t.playerSeat > 1 ? -180 : 180))), e.angle = c.default.isReverse ? 180 : 0, t.HitLabel = e.getComponentInChildren(cc.Label), t.HitLabel.string = t.currentHitCount.toString(), t.HitLabel.node.parent.opacity = 255, t.schedule(t.UpdateHit, .1)
                                        }
                                    }, .5)
                                }
                            }, function() {
                                t.node && !t.isUnuse && (t.currentBombNumber < t.SmallBombTimes + t.BigBombTimes ? t.Genie.PlayClip("MadStart", !1, function() {
                                    t.GenieCharge.play("GenieCharge"), u.default.Instance.Play("Genie_collect_01"), t.Genie.PlayClip("MadLoop", !0), t.scheduleOnce(function() {
                                        t.SendRangeFish()
                                    }, 1.5)
                                }) : t.BigWin())
                            }), [2]
                        })
                    })
                }, e.prototype.BigWin = function() {
                    var t = this;
                    this.unschedule(this.UpdateHit), this.HitLabel && (this.currentHitCount = this.HitCount, this.HitLabel.string = this.currentHitCount.toString(), this.HitLabel.node.parent.scale = 1.2, this.HitLabel.node.parent.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1)))), u.default.Instance.Play("voice_Genie_end_01"), this.Genie.PlayClip("MadToIdle", !1, function() {
                        cc.tween(t.Genie.node).to(1, {
                            scale: 1,
                            position: cc.v3(0, -100, 0)
                        }).start(), t.Genie.PlayClip("AwakeIdle", !0), t.background && t.background.SizeDown()
                    }), this.scheduleOnce(function() {
                        u.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = u.default.Instance.Play("BGM_Genie_04_1"), t.GenieUI && t.GenieUI.ShowScore(t.totalWin, !0)
                    }, 2), this.scheduleOnce(function() {
                        t.SkillOver()
                    }, 3.5)
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.GenieUI && this.GenieUI.SetScore(this.currentWin), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.UpdateHit = function() {
                    if (this.HitLabel) {
                        if (this.currentHitCount >= this.HitCount) return;
                        if (Math.random() >= .7) return;
                        this.currentHitCount++, this.HitLabel.string = this.currentHitCount.toString(), this.HitLabel.node.parent.scale = 1.2, this.HitLabel.node.parent.runAction(cc.scaleTo(.07, 1))
                    }
                }, e.prototype.OnTouchStart = function() {
                    if (this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.Rubbing) {
                        this.RubSpeed < 2 && (this.RubSpeed += .1 * Math.random()), this.Genie && this.Genie.SetClipSpeed(this.RubSpeed);
                        var t = this.LampCharge.getAnimationState(this.LampCharge.currentClip.name);
                        t && t.speed != this.RubSpeed && (t.speed = this.RubSpeed)
                    }
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, e.prototype.GeyserEffect = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    t = 0, n.label = 1;
                                case 1:
                                    return t < 6 ? ((e = p.default.SpawnEffect("Geyser", this.isMainPlayer)).angle = c.default.isReverse ? 180 : 0, e.setPosition(cc.v2(-468, -220).add(cc.v2(936 * Math.random(), 440 * Math.random()))), [4, this.delay(100)]) : [3, 4];
                                case 2:
                                    n.sent(), n.label = 3;
                                case 3:
                                    return t++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, a([b(cc.Node)], e.prototype, "GenieParent", void 0), a([b(cc.Animation)], e.prototype, "Oops", void 0), a([b(cc.Animation)], e.prototype, "MadnessTitle", void 0), a([b(cc.Animation)], e.prototype, "LampCharge", void 0), a([b(cc.Animation)], e.prototype, "GenieCharge", void 0), a([b([cc.ParticleSystem])], e.prototype, "CoinParticle", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([v], e)
            }(g.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Game/GameManager": "GameManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./GenieUI": "GenieUI"
    }],
    SkillHammer: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "18fe3FyTcpI4JaMslTTWh/q", "SkillHammer");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Fish/BaseFish"),
            h = t("../Fish/FishManager"),
            u = t("../Common/AudioManager"),
            p = t("../../../../../FishCommon/Script/CanvasHandler"),
            d = cc._decorator,
            f = d.ccclass,
            y = d.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.hammer = null, e.hammer_effect = null, e.explode = null, e.particle = null, e.fishID = null, e.hammerStandbySound = -1, e
                }
                return o(e, t), e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.node.setPosition(cc.Vec2.ZERO), this.node.angle = p.default.isReverse ? 180 : 0, this.hammer.node.active = !1, this.hammer_effect.node.active = !1, this.fishID = e.id, this.playerBet = e.bet, this.particle.node.active = !1
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = h.default.Instance.GetFishByID(this.fishID.toString()), e = -1, t && (t.AliveStatus = l.FishState.DEAD, t.CanCollision = !1, t.StopAction(), t.node.runAction(cc.repeat(cc.rotateBy(1, 360), 2)), e = u.default.Instance.Play("smash_turn_01"), this.scheduleOnce(function() {
                                        t.RemoveSelf(), u.default.Instance.Stop(e)
                                    }, 1.5)), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), this.CreateSkillTitle(), this.createHammer(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.hammer.stop(), this.hammer_effect.stop(), this.explode.stop(), this.particle.node.active = !1, this.hammerStandbySound > 0 && u.default.Instance.Stop(this.hammerStandbySound), t.prototype.UnUseSkill.call(this)
                }, e.prototype.OnHammerBomb = function(t) {
                    void 0 === t && (t = null), this.totalWin = t.total_win;
                    for (var e = t.fish_dead_dict, n = Object.keys(e), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = h.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(e[o].coin))
                    }
                }, e.prototype.createHammer = function() {
                    var t = this,
                        e = 0;
                    this.hammer.node.active = !0, this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, this.hammer_effect.node.getPosition()), cc.callFunc(function() {
                        t.hammer.play("hammer_reset"), t.hammerStandbySound = u.default.Instance.SetNextSound(u.default.Instance.Play("smash_standby_01"), "smash_standby_02", 1, !0)
                    })), cc.delayTime(.35), cc.callFunc(function() {
                        t.hammer.play("hammer_idle"), t.hammer_effect.node.active = !0, t.hammer_effect.play("thunder_effect_normal")
                    }), cc.delayTime(3.5), cc.callFunc(function() {
                        t.hammer.play("hammer_attack"), u.default.Instance.Stop(t.hammerStandbySound), u.default.Instance.SetNextSound(u.default.Instance.Play("smash_attack_01"), "smash_wave_01")
                    }), cc.delayTime(2.1), cc.callFunc(function() {
                        t.CameraShakeEffect(2, 4), t.explode.stop(), t.explode.play("background_explode"), t.particle.resetSystem(), t.particle.node.active = !0, e = t.KillFishesAndShowAward(), u.default.Instance.Play("bomb_ex03")
                    }), cc.delayTime(2), cc.callFunc(function() {
                        t.hammer.node.active = !1, t.particle.stopSystem(), t.CameraShakeEffect(4, 2), t.node.runAction(cc.sequence(cc.delayTime(e - 2 > 0 ? e - 2 : 0), cc.callFunc(function() {
                            t.ShowSkillScore(t.totalWin), t.PlayAwardSound()
                        }), cc.delayTime(4), cc.callFunc(function() {
                            t.UnUseSkill()
                        })))
                    })))
                }, a([y(cc.Animation)], e.prototype, "hammer", void 0), a([y(cc.Animation)], e.prototype, "hammer_effect", void 0), a([y(cc.Animation)], e.prototype, "explode", void 0), a([y(cc.ParticleSystem)], e.prototype, "particle", void 0), a([f], e)
            }(c.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingAngler: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b7138XYCq1FD7oiSPvTJ1DQ", "SkillKingAngler");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Fish/FishManager"),
            d = t("../Player/PlayerManager"),
            f = t("../Player/UserInfoController"),
            y = t("./BaseSkill"),
            m = cc._decorator,
            g = m.ccclass,
            S = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Vortex = null, e.Totem = null, e.Explosion = null, e.Bullets = [], e.CountObj = null, e.label_number = null, e.kingAnglerFish = null, e.isContinue = !0, e.currentBombNumber = 1, e.scoreUI = null, e.fishID = null, e.fishAwardTime = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = y.skillEnum.AwakenKingAnglerFish, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.isContinue = !0, this.currentBombNumber = 1, this.label_number.string = "1", this.forceTime = 7.5, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.bomb_fish_id
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.kingAnglerFish = p.default.Instance.GetFishByID(this.fishID.toString()), this.kingAnglerFish && this.kingAnglerFish.FishDie(this.playerSeat), [4, this.delay(3e3)];
                                case 1:
                                    return n.sent(), this.CreateSkillTitle(), this.scoreUI = d.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(f.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), this.Vortex.opacity = 255, this.Vortex.scale = .5, this.Vortex.active = !0, this.Vortex.runAction(cc.scaleTo(.5, 4.03)), this.Totem.opacity = 255, this.Totem.setPosition(new cc.Vec2(-820, 10)), this.Totem.active = !0, this.Totem.runAction(cc.moveTo(1, new cc.Vec2(0, 10))), u.default.Instance.Play("41_catch_bigfish"), t = c.default.isReverse ? -80 : 90, this.CountObj.setPosition(new cc.Vec2(-820, t)), this.CountObj.angle = c.default.isReverse ? 180 : 0, this.CountObj.opacity = 255, this.CountObj.active = !0, this.CountObj.runAction(cc.moveTo(1, new cc.Vec2(0, t))), [4, this.delay(500)];
                                case 2:
                                    return n.sent(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BOSS_out01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), [4, this.delay(1e3)];
                                case 3:
                                    return n.sent(), this.isMainPlayer && (e = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.KING_ANGLER_BOMB, e)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.Vortex.active = !1, this.Totem.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1;
                    for (var e = 1; e < this.Bullets.length; e++) this.Bullets[e].stop(), this.Bullets[e].node.active = !1;
                    this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitExplodeData = function(t) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var e = t.fish;
                    this.oddsList = t.odds;
                    for (var n = 0; n < e.length; n++) this.dieFishList.push(p.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.isContinue = t.continue, this.totalWin = t.total_win, this.isContinue || (this.isGaveAward = !0), this.ShowExplode()
                }, e.prototype.SetExplodeEndData = function() {
                    this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode()
                }, e.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a, s, c = this;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.forceTimer = 0, [4, this.delay(1e3)];
                                case 1:
                                    return r.sent(), this.Explosion.node.active = !0, this.Explosion.play("Explosion"), [4, this.delay(1166)];
                                case 2:
                                    for (r.sent(), this.Bullets[0].node.active = !0, this.Bullets[0].play("Shoot"), t = function(t) {
                                            e.scheduleOnce(function() {
                                                c.Bullets[t].node.active = !0, c.Bullets[t].play("Shoot")
                                            }, .7 * Math.random())
                                        }, e = this, a = 1; a < this.Bullets.length; a++) t(a);
                                    return [4, this.delay(1500)];
                                case 3:
                                    return r.sent(), n = Math.random() >= .5 ? "bomb_ex01" : "bomb_ex02", u.default.Instance.Play(n), this.CameraShakeEffect(2, 3), this.isContinue && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString()), this.CountObj.scale = 1.5, this.CountObj.runAction(cc.scaleTo(.5, 1)), i = 1e3 * this.KillFishesAndShowAward(), i += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < i ? i : this.fishAwardTime, this.currentWin = this.totalWin, this.scoreUI && this.scoreUI.SetScore(this.currentWin), this.isContinue ? [3, 6] : (u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("BOSS_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), o = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > o ? this.fishAwardTime - o : 0, [4, this.delay(this.fishAwardTime < 5e3 ? 5e3 : this.fishAwardTime)]);
                                case 4:
                                    return r.sent(), this.Vortex.runAction(cc.fadeOut(.5)), this.Totem.runAction(cc.fadeOut(.5)), this.CountObj.runAction(cc.fadeOut(.5)), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return r.sent(), this.UnUseSkill(), [2];
                                case 6:
                                    return [4, this.delay(3e3)];
                                case 7:
                                    for (r.sent(), this.Explosion.node.active = !1, a = 1; a < this.Bullets.length; a++) this.Bullets[a].node.active = !1;
                                    return this.isMainPlayer && (s = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.KING_ANGLER_BOMB, s)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, a([S(cc.Node)], e.prototype, "Vortex", void 0), a([S(cc.Node)], e.prototype, "Totem", void 0), a([S(cc.Animation)], e.prototype, "Explosion", void 0), a([S(cc.Animation)], e.prototype, "Bullets", void 0), a([S(cc.Node)], e.prototype, "CountObj", void 0), a([S(cc.Label)], e.prototype, "label_number", void 0), a([g], e)
            }(y.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingCrab: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "db4edeBq8VCFJgmuRTSIICu", "SkillKingCrab");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Common/AudioManager"),
            u = t("../Common/ResourceManager"),
            p = t("../Fish/FishManager"),
            d = t("../Player/PlayerManager"),
            f = t("../Weapon/WeaponManager"),
            y = t("./BaseSkill"),
            m = cc._decorator,
            g = m.ccclass,
            S = m.property;
        (function(t) {
            t[t.None = 0] = "None", t[t.Explosion = 1] = "Explosion", t[t.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var _ = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.explosion_anim = null, e.burst_anim = null, e.number_anim = null, e.number_label = null, e.totem_node = null, e.crab01_Anim = null, e.crab02_Anim = null, e.multi_index = 0, e.id = "", e.kingCrab = null, e.swimTime = .8, e.delayTime = 1e3 * (e.swimTime + 1.07), e.multi_list = [], e.SkillState = c.None, e.isGetKillFish = !1, e.Timer = 0, e
            }
            return o(e, t), e.prototype.onLoad = function() {
                this.skillType = y.skillEnum.AwakenKingSpiderCrab, this.limitTime = 100
            }, e.prototype.update = function(t) {
                this.ChackExplodeData(t)
            }, e.prototype.InitProperties = function(e) {
                void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.multi_index = 0, this.totem_node.active = !1, this.explosion_anim.node.active = !1, this.burst_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.crab01_Anim.node.setPosition(new cc.Vec2(900, 0)), this.crab02_Anim.node.setPosition(new cc.Vec2(-900, 0)), this.crab01_Anim.node.active = !1, this.crab02_Anim.node.active = !1, this.id = "", this.playerBet = 0, this.Timer = 0, this.isGetKillFish = !1, this.SkillState = c.None, this.id = e.id, this.playerBet = e.bet, this.multi_list = e.multi
            }, e.prototype.UseSkill = function() {
                this.kingCrab = p.default.Instance.GetFishByID(this.id), this.kingCrab ? this.SkillProcess(this.kingCrab.node.getPosition(), this.playerSeat) : console.warn("[InitInfo] Crab is Null!")
            }, e.prototype.UnUseSkill = function() {
                t.prototype.UnUseSkill.call(this), this.number_anim.node.parent = this.node, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.kingCrab = null, this.crab01_Anim.node.stopAllActions(), this.crab01_Anim.node.setPosition(new cc.Vec2(900, 0)), this.crab02_Anim.node.stopAllActions(), this.crab02_Anim.node.setPosition(new cc.Vec2(-900, 0)), this.explosion_anim.stop(), this.burst_anim.stop(), this.number_anim.stop(), this.crab01_Anim.stop(), this.crab02_Anim.stop()
            }, e.prototype.InitExplosion = function(t) {
                if (this.id == t.id) {
                    this.totalWin = t.total_win;
                    for (var e = t.fish_dead_dict, n = Object.keys(e), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = p.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(e[o].coin))
                    }
                    this.isGetKillFish = !0
                } else console.warn("[InitExplosion] ID isn't current!")
            }, e.prototype.SkillProcess = function(t, e) {
                var n, i = this;
                this.kingCrab && this.kingCrab.FishDie(e), this.node.setPosition(t), this.node.angle = l.default.isReverse ? 180 : 0, this.node.runAction(cc.sequence(cc.fadeOut(.1), cc.delayTime(2), cc.callFunc(function() {
                    (n = u.default.SpawnEffect("7")).setPosition(i.node.getPosition()), n.scale = 2
                }), cc.fadeIn(1), cc.callFunc(function() {
                    i.totem_node.active = !0, i.CreateSkillTitle()
                }), cc.moveTo(2, cc.v2(0, 0)), cc.delayTime(1), cc.callFunc(function() {
                    i.crab01_Anim.node.active = !0, i.crab02_Anim.node.active = !0, i.explosion_anim.node.active = !0, h.default.Instance.Fade(h.default.Instance.GetBGMID(), 1, 0), i.bgmID = h.default.Instance.Play("BOSS_out01", 1, !0), h.default.Instance.Fade(i.bgmID, 0, 1)
                }), cc.callFunc(function() {
                    h.default.Instance.Play("jump_01"), i.number_anim.node.active = !0, i.number_anim.node.runAction(cc.sequence(cc.callFunc(function() {
                        i.multi_index++, i.number_label.string = "x" + i.multi_list[i.multi_index]
                    }), cc.scaleTo(0, 2), cc.scaleTo(1, 1))), i.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2.5), cc.scaleTo(1, 1.3)))
                }), cc.delayTime(1), cc.callFunc(function() {
                    i.CrabAttackShow(e)
                })))
            }, e.prototype.CrabAttackShow = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, n = this;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return t = cc.sequence(cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(310, 0)), cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(900, 0))), e = cc.sequence(cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-310, 0)), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-900, 0))), this.crab01_Anim.node.runAction(t), [4, this.delay(this.delayTime)];
                            case 1:
                                return i.sent(), this.crab02_Anim.node.runAction(e), [4, this.delay(this.delayTime)];
                            case 2:
                                return i.sent(), this.crab01_Anim.node.runAction(t), [4, this.delay(this.delayTime)];
                            case 3:
                                return i.sent(), this.crab02_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-310, 0)), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }))), [4, this.delay(940)];
                            case 4:
                                return i.sent(), this.crab01_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(1.07, cc.v2(310, 0)), cc.callFunc(function() {
                                    n.SkillState = c.Explosion
                                }))), [2]
                        }
                    })
                })
            }, e.prototype.ExplodeShow = function() {
                return s(this, void 0, void 0, function() {
                    var t, e = this;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                return t = 0, this.crab01_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    e.crab01_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    e.TotemHurtShow(e.multi_list, 1, !0), e.number_anim.play("Number"), e.totem_node.active = !1, t = e.KillFishesAndShowAward()
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    e.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(900, 0)))), this.crab02_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    e.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(1.07), cc.callFunc(function() {
                                    e.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-900, 0)))), t < 1 && (t = 1), [4, this.delay(1e3 * t)];
                            case 1:
                                return n.sent(), this.ShowScore(), [2]
                        }
                    })
                })
            }, e.prototype.ShowScore = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return t = 0, t = l.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(this.totalWin / this.multi_list[this.multi_index]), [4, this.delay(2130)];
                            case 1:
                                return i.sent(), this.number_anim.node.parent = u.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = d.PlayerManager.MainSeat > 1 ? 180 : 0, e = d.PlayerManager.MainSeat > 1 ? -1 : 1, n = f.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, t)).scale(new cc.Vec2(e, e)), this.number_anim.stop(), this.number_anim.node.runAction(cc.moveTo(1.5, n)), [4, this.delay(1500)];
                            case 2:
                                return i.sent(), this.number_label.string = "", this.multi_list[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 4];
                            case 3:
                                return i.sent(), this.PlayAwardSound(), [3, 5];
                            case 4:
                                this.PlayAwardSound(), i.label = 5;
                            case 5:
                                return [4, this.delay(1e3)];
                            case 6:
                                return i.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, e.prototype.TotemHurtShow = function(t, e, n) {
                var i = this;
                if (void 0 === n && (n = !1), n) return this.burst_anim.node.active = !0, this.burst_anim.play("Burst"), h.default.Instance.Play("TD_Explode"), h.default.Instance.Stop(this.bgmID), this.bgmID = null, h.default.Instance.Play("BOSS_out02"), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 0, 1), void this.CameraShakeEffect(3, 2);
                this.explosion_anim.play("Explosion"), this.CameraShakeEffect(1, 3), this.number_anim.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    i.multi_index++, i.multi_index >= t.length && (i.multi_index = t.length - 1), i.number_label.string = "x" + t[i.multi_index]
                }), cc.scaleTo(0, 2), cc.scaleTo(.5, 1)), e)), this.totem_node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    if (!n) {
                        var t = i.multi_index > 9 ? 9 : i.multi_index;
                        h.default.Instance.Play("jump_0" + t.toString())
                    }
                }), cc.scaleTo(0, 2.5), cc.scaleTo(.5, 1.3)), e))
            }, e.prototype.ChackExplodeData = function(t) {
                if (this.SkillState != c.None)
                    if (this.Timer += t, this.isGetKillFish) {
                        switch (this.SkillState) {
                            case c.Explosion:
                                this.ExplodeShow();
                                break;
                            case c.ShowScore:
                                this.ShowScore()
                        }
                        this.SkillState = c.None
                    } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
            }, a([S(cc.Animation)], e.prototype, "explosion_anim", void 0), a([S(cc.Animation)], e.prototype, "burst_anim", void 0), a([S(cc.Animation)], e.prototype, "number_anim", void 0), a([S(cc.Label)], e.prototype, "number_label", void 0), a([S(cc.Node)], e.prototype, "totem_node", void 0), a([S(cc.Animation)], e.prototype, "crab01_Anim", void 0), a([S(cc.Animation)], e.prototype, "crab02_Anim", void 0), a([g], e)
        }(y.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingKong: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4defaeosPJGzKoVOyxsz5KA", "SkillKingKong");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/AudioManager"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Game/GameManager"),
            m = t("../Player/PlayerManager"),
            g = t("../Weapon/WeaponManager"),
            S = t("./BaseSkill"),
            _ = t("./KingKongUI"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            C = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.KingKongParent = null, e.MissAni = null, e.Raging = null, e.EarthQuake = null, e.VSAnimation = null, e.SpeedLine = null, e.TapHint = null, e.KingKong = null, e.KingKongUI = null, e.CanPull = !1, e.pullCD = !1, e.pullFlag = !1, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.fishID = null, e.Tons = null, e.TonsLabel = null, e.TonsNumber = 0, e.CountingAct = null, e.fishAwardTime = 0, e.moveingAct = null, e.BG = null, e.weaponBreak = !0, e.CountingSound = null, e.m_iTouchCount = 0, e.hintClickCount = 0, e.OtherPlayerTimer = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = S.skillEnum.KingKong, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("KingKongSkill TimeOut"), this.KingKong && (this.currentBombNumber > this.SmallBombTimes ? (this.isUnuse = !0, this.BigWin()) : this.Miss())), this.forceTimer = 0), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.TonsNumber = 0, this.forceTime = 15, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.CanPull = !1, this.pullCD = !1, this.weaponBreak = !0, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random())
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (m.PlayerManager.Instance.isLockChangeBet = !1), g.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.KingKong && (this.KingKong.pushEvent = null, this.KingKong.RemoveSelf(), this.KingKong = null), this.KingKongUI && (this.KingKongUI.Hide(!0), this.KingKongUI = null), this.CountingSound && (p.default.Instance.Stop(this.CountingSound), this.CountingSound = null), this.BG && (this.BG.KingKongFighOver(), this.BG = null), this.pullFlag = !1, this.MissAni.node.active = !1, this.Raging.node.active = !1, this.SpeedLine.node.active = !1, this.SpeedLine.stop(), this.tapHintActive(!1), this.Tons && (d.default.DespawnEffect("10025T", this.Tons), this.Tons = null, this.TonsLabel = null), this.isMainPlayer && (l.LobbyClient.Instance.GetUserClient.recordClickTimesLog("FishKingKong", 82, this.m_iTouchCount), this.m_iTouchCount = 0), this.OtherPlayerTimer = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    if (this.KingKong = f.default.Instance.GetFishByID(this.fishID.toString()), !this.KingKong && this.isMainPlayer && (this.KingKong = f.default.Instance.CreateFakeFish(this.fishID.toString(), 35, new cc.Vec2(700, 360), 10)), this.KingKong) {
                        this.isMainPlayer && (m.PlayerManager.Instance.isLockChangeBet = !0), g.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.KingKong.FishDie(), this.KingKong.PauseClip(), this.KingKong.pushEvent = this.pushEvent.bind(this);
                        var t = c.default.isReverse ? this.KingKong.node.position.neg() : this.KingKong.node.position;
                        if (this.KingKong.node.setParent(this.KingKongParent), this.KingKong.node.setPosition(t), c.default.isReverse) {
                            var e = this.KingKong.node.angle;
                            this.KingKong.node.angle = e + 180
                        }
                        var n = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.KingKong.node.runAction(n), p.default.Instance.Play("KingKong_catch_01"), this.scheduleOnce(this.ShakeOver.bind(this), 1.5)
                    }
                }, e.prototype.ShakeOver = function() {
                    var t = this;
                    this.KingKongUI = d.default.LoadGUI(S.skillEnum.KingKong).getComponent(_.default), this.KingKongUI && this.KingKongUI.Init(this.playerBet, this.playerSeat), p.default.Instance.Play("KingKong_Shout_01"), this.KingKong.CoinEffect(), this.KingKong.node.setScale(1), this.KingKong.node.angle = 0, this.KingKong.PlayClip("01_jump_to_idle", 1, !1, function() {
                        t.KingKong.node.setPosition(cc.Vec2.ZERO), t.KingKong.PlayClip("02_mix_idle", 1, !0)
                    }), this.moveingAct = this.KingKong.node.runAction(cc.moveTo(1.5, cc.v2(-340, -35))), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), this.bgmID = p.default.Instance.Play("BGM_KingKong_02", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), f.default.Instance.RemoveFishByID(this.fishID.toString()), this.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                        t.VSAnimation.play(), p.default.Instance.Play("KingKong_VS_01"), t.BG = y.default.Instance.BackgroundNow, t.BG && t.BG.KingKongFighting()
                    }), cc.delayTime(3.5), cc.callFunc(function() {
                        t.moveingAct = t.KingKong.node.runAction(cc.sequence(cc.delayTime(.2), cc.callFunc(function() {
                            t.KingKong.SootEffect(!1)
                        }), cc.moveTo(.2, cc.v2(-200, 0)))), t.tapHintActive(!0), p.default.Instance.Play("KingKong_Confrontation_01"), t.KingKong.PlayClip("03_mix_fight_start", .75, !1, function() {
                            t.KingKong.PlayClip("04_mix_fight_LOOP", 1, !0), t.CanPull = !0
                        })
                    }), cc.callFunc(function() {
                        t.SendRangeFish()
                    })))
                }, e.prototype.SendRangeFish = function(t) {
                    if (void 0 === t && (t = !1), this.isMainPlayer) {
                        var e = f.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200);
                        h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.KINGKONG_BOMB, e)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (this.node && !this.isUnuse)
                        if (null != this.KingKong) {
                            this.dieFishList.length = 0, this.winList.length = 0;
                            var e = t.fish;
                            this.oddsList = t.odds;
                            for (var n = 0; n < e.length; n++) this.dieFishList.push(f.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                            this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.currentBombNumber <= this.SmallBombTimes ? this.SmallExplode() : this.currentBombNumber == this.SmallBombTimes + 1 ? this.KingKongCrazy() : this.KingKongCombo(), this.forceTimer = 0
                        } else {
                            var i = t.win;
                            m.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                        }
                    else this.KingKong && console.error("KingKong")
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return !this.node || this.isUnuse ? [2] : (this.CanPull = !1, this.pullFlag = !1, this.KingKong.node.stopAction(this.moveingAct), this.KingKong.SetNextClip("05_mix_fight_end", .75, !1, function() {
                                p.default.Instance.Play("KingKong_Push_01"), t.moveingAct = t.KingKong.node.runAction(cc.moveTo(.5, cc.v2(-100, 0))), t.SpeedLine.node.active = !0, t.SpeedLine.play(), t.KingKong.SetNextClip("06_mix_punch", .75, !1, function() {
                                    p.default.Instance.Play("Dragon_pull_02"), t.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                                        p.default.Instance.Play("KingKong_Punch_01"), t.KillFish(), t.ShowTons(!0), t.CameraShakeEffect(1.5, 4)
                                    })))
                                }, function() {
                                    t.SpeedLine.node.active = !1, t.SpeedLine.stop(), t.moveingAct = t.KingKong.node.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                                        t.KingKong.SootEffect(!1)
                                    }), cc.moveTo(.2, cc.v2(-200, 0)))), p.default.Instance.Play("KingKong_Confrontation_01"), t.KingKong.PlayClip("03_mix_fight_start", .75, !1, function() {
                                        t.KingKong.PlayClip("04_mix_fight_LOOP", 1, !0), t.CanPull = !0, t.scheduleOnce(function() {
                                            t.currentBombNumber < t.SmallBombTimes || t.BigBombTimes > 0 ? t.SendRangeFish() : t.Miss()
                                        }, 0)
                                    })
                                })
                            }), [2])
                        })
                    })
                }, e.prototype.Miss = function() {
                    var t = this;
                    this.CanPull = !1, this.pullFlag = !1, this.KingKong.node.stopAction(this.moveingAct), this.KingKong.SetNextClip("05_mix_fight_end", .75, !1, function() {
                        p.default.Instance.Play("KingKong_Push_01"), t.moveingAct = t.KingKong.node.runAction(cc.moveTo(.5, cc.v2(-100, 0))), t.SpeedLine.node.active = !0, t.SpeedLine.play(), t.KingKong.SetNextClip("06a_mix_punch_miss", 1, !1, function() {
                            t.tapHintActive(!1), p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_KingKong_02_1"), p.default.Instance.Play("Dragon_pull_02"), t.scheduleOnce(function() {
                                t.SpeedLine.node.active = !1, t.SpeedLine.stop(), p.default.Instance.Play("KingKong_runaway_01"), t.MissAni.node.active = !0, t.MissAni.play()
                            }, 1.5)
                        }, function() {
                            t.KingKongUI && t.KingKongUI.ShowScore(t.totalWin, !1), t.SkillOver()
                        })
                    })
                }, e.prototype.KingKongCrazy = function() {
                    var t = this;
                    this.node && !this.isUnuse && (this.CanPull = !1, this.pullFlag = !1, this.KingKong.node.stopAction(this.moveingAct), this.KingKong.SetNextClip("05_mix_fight_end", .75, !1, function() {
                        p.default.Instance.Play("KingKong_Push_01"), t.moveingAct = t.KingKong.node.runAction(cc.moveTo(.5, cc.v2(-100, 0))), t.SpeedLine.node.active = !0, t.SpeedLine.play(), t.KingKong.SetNextClip("07_mix_punch_final", .75, !1, function() {
                            p.default.Instance.Play("Dragon_pull_02"), t.scheduleOnce(function() {
                                p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_KingKong_03", 1, !0), p.default.Instance.Fade(t.bgmID, 0, 1), t.Raging.node.active = !0, t.Raging.play(), p.default.Instance.Play("KingKong_Raging_01"), p.default.Instance.Play("voice_KingKong_banner_02")
                            }, 2.2), t.KingKong.SetNextClip("08_mix_final_combo", 1, !1, function() {
                                p.default.Instance.Play("KingKong_Critical_01"), t.tapHintActive(!1), t.SpeedLine.node.active = !1, t.SpeedLine.stop(), t.KingKong.SetNextClip("10_mix_final_combo_loop_load", 1, !0), t.scheduleOnce(function() {
                                    p.default.Instance.Play("KingKong_Critical_02"), t.BigExplode()
                                }, .5)
                            })
                        })
                    }))
                }, e.prototype.KingKongCombo = function() {
                    var t = this;
                    this.node && !this.isUnuse && this.KingKong.SetNextClip("09_mix_final_combo_loop", 1, !1, function() {
                        t.scheduleOnce(function() {
                            p.default.Instance.Play("KingKong_Critical_02_1"), t.BigExplode()
                        }, .2)
                    }, function() {
                        t.KingKong.PlayClip("10_mix_final_combo_loop_load", 1, !0)
                    })
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.ShowEarthQuake(), this.KillFish(), this.currentBombNumber < this.SmallBombTimes + this.BigBombTimes ? (this.ShowTons(!1), [4, this.delay(800)]) : [3, 2];
                                case 1:
                                    return t.sent(), this.SendRangeFish(), [3, 3];
                                case 2:
                                    this.ShowTons(!1, !0), this.BigWin(), t.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.BigWin = function() {
                    var t = this;
                    p.default.Instance.Play("KingKong_Shout_01"), this.KingKong.SetNextClip("11_mix_jump_win", 1, !1, function() {
                        t.KingKong.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_KingKong_03_1")
                        }), cc.delayTime(2), cc.fadeOut(.5), cc.callFunc(function() {
                            t.KingKongUI && t.KingKongUI.ShowScore(t.totalWin, !0)
                        }), cc.delayTime(1), cc.callFunc(t.SkillOver.bind(t))))
                    })
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i = this;
                        return r(this, function() {
                            if (t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.weaponBreak)
                                for (this.weaponBreak = !1, e = function(t) {
                                        if (null == g.default.Instance.getWeapon(t)) return "continue";
                                        var e = g.default.Instance.getWeapon(t).node,
                                            n = e.getPosition(),
                                            o = d.default.SpawnEffect("WeaponBreak");
                                        o.setPosition(n), o.angle = e.angle;
                                        var a = 3;
                                        e.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(a, -a))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-a, a)))), 10), cc.callFunc(function() {
                                            e.setPosition(n), a = 1
                                        }), cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-a, a))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(a, -a)))), 5), cc.callFunc(function() {
                                            e.setPosition(n), a = .1
                                        }), cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(a, a))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-a, -a)))), 5), cc.callFunc(function() {
                                            e.setPosition(n), 3 == t && (i.weaponBreak = !0)
                                        })))
                                    }, n = 0; n < 4; n++) e(n);
                            return this.KingKongUI && this.KingKongUI.SetScore(this.currentWin, 41), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.BG && (this.BG.KingKongFighOver(), this.BG = null), p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.CanPull && (this.pullFlag = !0)
                }, e.prototype.pushEvent = function() {
                    var t = this;
                    if (this.pullFlag && this.CanPull && !this.pullCD) {
                        this.pullFlag = !1, this.KingKong.node.stopAction(this.moveingAct);
                        var e = Math.abs(this.KingKong.node.x) / 300 + 1;
                        this.moveingAct = this.KingKong.node.runAction(cc.sequence(cc.moveBy(.6, cc.v2(200, 0)).easing(cc.easeBackOut()), cc.moveTo(e, cc.v2(-200, 0)))), this.CameraShakeEffect(.5, 1), this.KingKong.SootEffect(!0), this.pullCD = !0, p.default.Instance.Play("Dragon_pull_02"), this.scheduleOnce(function() {
                            t.pullCD = !1
                        }, .65)
                    }
                }, e.prototype.ShowEarthQuake = function() {
                    var t = this;
                    this.EarthQuake.node.angle = c.default.isReverse ? 180 : 0, p.default.Instance.Play("Dragon_jump_03"), this.CameraShakeEffect(2, 6), this.EarthQuake.node.active = !0, this.EarthQuake.setAnimation(0, "animation", !1), this.EarthQuake.setCompleteListener(function() {
                        t.EarthQuake.setCompleteListener(null), t.EarthQuake.node.active = !1
                    })
                }, e.prototype.ShowTons = function(t, e) {
                    var n = this;
                    void 0 === e && (e = !1), null == this.Tons && (this.Tons = d.default.SpawnEffect("10025T", this.isMainPlayer), this.Tons.angle = c.default.isReverse ? 180 : 0, this.Tons.opacity = 0), this.Tons && null == this.TonsLabel && (this.TonsLabel = this.Tons.getComponentInChildren(cc.Label)), t ? p.default.Instance.Play("KingKong_count_01") : null == this.CountingSound && (this.CountingSound = p.default.Instance.Play("KingKong_Critical_02_2", 1, !0));
                    var i = (this.currentWin - this.TonsNumber) / 41;
                    this.CountingAct && this.Tons.stopAction(this.CountingAct), this.CountingAct = this.Tons.runAction(cc.sequence(cc.fadeIn(0), cc.repeat(cc.sequence(cc.callFunc(function() {
                        n.TonsNumber += i, n.TonsLabel.string = Math.floor(n.TonsNumber).toString()
                    }), cc.delayTime(.05)), 41), cc.scaleTo(.05, 2.5), cc.callFunc(function() {
                        n.TonsNumber = n.currentWin, n.TonsLabel.string = Math.floor(n.TonsNumber).toString(), e && (n.CountingSound && p.default.Instance.Stop(n.CountingSound), n.CountingSound = p.default.Instance.Play("KingKong_Critical_02_3"))
                    }), cc.scaleTo(.3, 1), cc.fadeOut(1)))
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([P(cc.Node)], e.prototype, "KingKongParent", void 0), a([P(cc.Animation)], e.prototype, "MissAni", void 0), a([P(cc.Animation)], e.prototype, "Raging", void 0), a([P(sp.Skeleton)], e.prototype, "EarthQuake", void 0), a([P(cc.Animation)], e.prototype, "VSAnimation", void 0), a([P(cc.Animation)], e.prototype, "SpeedLine", void 0), a([P(cc.Animation)], e.prototype, "TapHint", void 0), a([b], e)
            }(S.default);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Game/GameManager": "GameManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./KingKongUI": "KingKongUI"
    }],
    SkillKingLacoste: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "dd267UUXC5DE7DkA8GaZOYG", "SkillKingLacoste");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../../System/SkillSystem"),
            h = t("../Game/GameManager"),
            u = t("../Player/UserInfoController"),
            p = t("../Fish/FishManager"),
            d = t("../Common/ResourceManager"),
            f = t("../Player/PlayerManager"),
            y = t("../../GameClient"),
            m = t("../Common/AudioManager"),
            g = t("../../../../../FishCommon/Script/CanvasHandler"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Totem = null, e.LacosteBite = null, e.LacosteSpine = new Array(2), e.Explosion = null, e.CountObj = null, e.label_number = null, e.KingLacoste = null, e.HidePool = null, e.isContinue = !0, e.currentBombNumber = 1, e.LacosteAnimNum = 1, e.scoreUI = null, e.fishAwardTime = 0, e.fishID = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.AwakenKingLacoste, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.node.scale = 0, t.prototype.UseSkill.call(this), this.isContinue = !0, this.currentBombNumber = 1, this.label_number.string = "1", this.forceTime = 7.5, this.LacosteAnimNum = 1, this.HidePool = h.default.Instance.BackgroundNow.node.getChildByName("LacosteHide"), this.playerBet = e.bet, this.fishID = e.bomb_fish_id
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.KingLacoste = p.default.Instance.GetFishByID(this.fishID.toString()), this.KingLacoste && this.KingLacoste.FishDie(this.playerSeat), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(this.KingLacoste.node.getPosition()), (t = d.default.SpawnEffect("7")).scale = 2, t.setPosition(this.node.getPosition()), this.Totem.opacity = 255, this.Totem.active = !0, e = g.default.isReverse ? -75 : 75, this.CountObj.setPosition(new cc.Vec2(0, e)), this.CountObj.angle = g.default.isReverse ? 180 : 0, this.CountObj.opacity = 255, this.CountObj.active = !0, [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO))), [4, this.delay(500)];
                                case 3:
                                    return i.sent(), m.default.Instance.Fade(m.default.Instance.GetBGMID(), 1, 0), this.bgmID = m.default.Instance.Play("BOSS_out01", 1, !0), m.default.Instance.Fade(this.bgmID, 0, 1), this.CreateSkillTitle(), this.scoreUI = f.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(u.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), this.isMainPlayer && (n = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), y.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.KING_LACOSTE_BOMB, n)), this.forceTimer = this.forceTime, this.LacosteBite.node.active = !0, [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.Totem.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1;
                    for (var e = 0; e < this.LacosteSpine.length; e++) this.LacosteSpine[e].node && (this.LacosteSpine[e].node.parent = this.LacosteBite.node);
                    this.LacosteBite.stop(), this.LacosteBite.node && (this.LacosteBite.node.active = !1), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitExplodeData = function(t) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var e = t.fish;
                    this.oddsList = t.odds;
                    for (var n = 0; n < e.length; n++) this.dieFishList.push(p.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.totalWin = t.total_win, this.isContinue = t.continue, this.ShowExplode(), this.isContinue || (this.isGaveAward = !0)
                }, e.prototype.SetExplodeEndData = function() {
                    this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode(), this.isGaveAward = !0
                }, e.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a, s = this;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.isGaveAward ? [2] : (this.forceTimer = 0, t = this.LacosteAnimNum > 0 ? "Left" : "Right", e = this.LacosteAnimNum > 0 ? 0 : 1, [4, this.delay(1e3)]);
                                case 1:
                                    return r.sent(), this.LacosteBite.play("Bite_" + t), this.LacosteSpine[e].setCompleteListener(function() {
                                        s.LacosteSpine[e].setCompleteListener(null), s.LacosteSpine[e].setAnimation(0, "SWIM", !0)
                                    }), this.LacosteSpine[e].setAnimation(0, "BITE_SKILL", !1), [4, this.delay(1e3)];
                                case 2:
                                    return r.sent(), this.Explosion.node.active = !0, this.Explosion.play("Burst"), n = Math.random() >= .5 ? "bomb_ex01" : "bomb_ex02", m.default.Instance.Play(n), this.CameraShakeEffect(3, 2), this.isContinue && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString()), this.CountObj.scale = 1.5, this.CountObj.runAction(cc.scaleTo(.5, 1)), this.HidePool && (this.LacosteSpine[e].node.parent = this.HidePool), i = 1e3 * this.KillFishesAndShowAward(), i += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < i ? i : this.fishAwardTime, this.currentWin = this.totalWin, this.scoreUI.SetScore(this.currentWin), this.isContinue ? [3, 5] : (m.default.Instance.Stop(this.bgmID), this.bgmID = null, m.default.Instance.Play("BOSS_out02"), m.default.Instance.Fade(m.default.Instance.GetBGMID(), 0, 1), o = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > o ? this.fishAwardTime - o : 0, [4, this.delay(this.fishAwardTime < 5e3 ? 5e3 : this.fishAwardTime)]);
                                case 3:
                                    return r.sent(), this.Totem.runAction(cc.fadeOut(.5)), this.CountObj.runAction(cc.fadeOut(.5)), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 4:
                                    return r.sent(), this.UnUseSkill(), [2];
                                case 5:
                                    return [4, this.delay(2e3)];
                                case 6:
                                    return r.sent(), this.Explosion.node.active = !1, this.LacosteSpine[e].node.parent = this.LacosteBite.node, this.isMainPlayer && (a = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), y.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.KING_LACOSTE_BOMB, a)), this.forceTimer = this.forceTime, this.LacosteAnimNum *= -1, [2]
                            }
                        })
                    })
                }, a([v(cc.Node)], e.prototype, "Totem", void 0), a([v(cc.Animation)], e.prototype, "LacosteBite", void 0), a([v([sp.Skeleton])], e.prototype, "LacosteSpine", void 0), a([v(cc.Animation)], e.prototype, "Explosion", void 0), a([v(cc.Node)], e.prototype, "CountObj", void 0), a([v(cc.Label)], e.prototype, "label_number", void 0), a([_], e)
            }(c.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Game/GameManager": "GameManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillLionDance: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7c1fdFbf89ClIqhUK0mtQj5", "SkillLionDance");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../Common/AudioManager"),
            u = t("../Common/ResourceManager"),
            p = t("../Common/Utility"),
            d = t("../Fish/FishManager"),
            f = t("../Fish/LIONDANCE"),
            y = t("../Game/GameManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = t("./LionDanceUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.LionParent = null, e.LanternParent = null, e.ColoredBall = null, e.Firecracker = null, e.FirecrackerBlast = null, e.Drum = null, e.Cupola = null, e.CupolaScaleRoot = null, e.LuckyCouplet = null, e.TapHint = null, e.ScrollTextSprite = null, e.ScrollTextFrame = [], e.CoupletNode = null, e.CoupletSprite = null, e.CoupletFrame = [], e.EndingFireWork = null, e.fishID = null, e.LionDance = null, e.LionDanceUI = null, e.background = null, e.BGLantern = null, e.oriLanternParent = null, e.awardList = null, e.multiple = 1, e.awardIndex = 0, e.drumState = 0, e.firecrackerBlastPosY = [-135, -100, -70, -40, -5], e.firecrackerIndexRange = 1, e.firecrackerSound = null, e.fishAwardTime = 0, e.hintClickCount = 0, e.m_iTouchCount = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.LionDance, this.limitTime = 300
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("LionDance TimeOut"), this.LionDance && (this.isUnuse = !0, this.SkillOver()), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.node.opacity = 255, this.fishID = e.id, this.totalWin = e.win, this.awardList = e.awaken_prize, this.multiple = e.multiple, this.awardIndex = 0, this.firecrackerIndexRange = (this.awardList.length - 1) / this.firecrackerBlastPosY.length
                }, e.prototype.UnUseSkill = function() {
                    m.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.CanelRegisterTouchEvent(), this.LionDance && (this.LionDance.RemoveSelf(), this.LionDance = null), this.LionDanceUI && (this.LionDanceUI.Hide(!0), this.LionDanceUI = null), this.BGLantern && (this.BGLantern.play("LionDanceAwakeOver"), this.BGLantern.node.setParent(this.oriLanternParent), this.BGLantern.node.opacity = 255, this.oriLanternParent = null, this.BGLantern = null, this.background = null), this.firecrackerSound && (h.default.Instance.Stop(this.firecrackerSound), this.firecrackerSound = null), this.LuckyCouplet.node.active = !1, this.ColoredBall.node.active = !1, this.Drum.node.active = !1, this.node.setScale(1), this.tapHintActive(!1), this.m_iTouchCount = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.LionDance = d.default.Instance.GetFishByID(this.fishID.toString()), !this.LionDance && this.isMainPlayer && (this.LionDance = d.default.Instance.CreateFakeFish(this.fishID.toString(), 99, new cc.Vec2(700, 360), 10)), this.LionDance) {
                        this.LionDance.FishDie(), this.LionDance.PauseClip(), this.LionDance.CoinEffect(), h.default.Instance.Play("41_catch_bigfish"), this.CameraShakeEffect(5, 1);
                        var e = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.LionDance.node.runAction(cc.sequence(e, cc.callFunc(function() {
                            t.node && !t.isUnuse && (h.default.Instance.Play("Lion_catch_01"), t.LionDance.node.setParent(t.LionParent), t.LionDance.JumpToCenter(t.ShowStart.bind(t)))
                        })))
                    }
                }, e.prototype.ShowStart = function() {
                    var t = this,
                        e = cc.v3(this.LionDance.onRight ? 250 : -250, 0, 0);
                    cc.tween(this.LionDance.node).delay(.5).call(function() {
                        t.node && !t.isUnuse && (t.LionDance.eulerTurn(f.LionDanceEuler.Awake, .8), t.ColoredBall.node.active = !0, t.ColoredBall.play("ColoredBallShowUp"), h.default.Instance.Play("Lion_redball_01"), m.default.Instance.GetSkillWeapon(t.playerSeat, null), t.RegisterTouchEvent(), t.LionDanceUI = u.default.LoadGUI(t.skillType).getComponent(S.default), t.LionDanceUI && t.LionDanceUI.Init(t.playerBet, t.playerSeat), h.default.Instance.Play("voice_lion_fever_01"))
                    }).to(1, {
                        position: e
                    }).delay(1).call(function() {
                        t.isMainPlayer && (t.background = y.default.Instance.BackgroundNow, t.background && t.background.LanternRoot && (t.oriLanternParent = t.background.LanternRoot.node.parent, t.BGLantern = t.background.LanternRoot, t.BGLantern.node.setParent(t.LanternParent), t.BGLantern.play("LionDanceAwake"))), t.Drum.node.active = !0, t.Drum.node.setPosition(m.default.WeaponUIPosition(t.playerSeat)), t.Drum.node.angle = c.default.isReverse ? t.playerSeat > 1 ? 0 : 180 : t.playerSeat > 1 ? 180 : 0, t.Drum.play("DrumShowUp"), h.default.Instance.Play("Lion_drum_01"), t.Cupola.node.active = !0, t.Cupola.play("CupolaIdleLoop1"), t.Cupola.node.angle = t.playerSeat % 2 == 0 ? 225 : 45, t.CupolaScaleRoot.angle = t.playerSeat % 2 == 0 ? t.LionDance.onRight ? 60 : 90 : t.LionDance.onRight ? -30 : 0, t.tapHintActive(!0), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 1, 0), t.bgmID = h.default.Instance.Play("BGM_Lion_03", 1, !0), h.default.Instance.Fade(t.bgmID, 0, 1)
                    }).delay(1).call(function() {
                        t.Firecracker.node.active = !0, t.Firecracker.play("FirecrackerIdle5"), t.FirecrackerBlast.node.active = !0, t.FirecrackerBlast.node.setPosition(cc.v2(0, t.firecrackerBlastPosY[0])), t.FirecrackerBlast.play(), t.firecrackerSound = h.default.Instance.Play("Lion_firecracker_01", 1, !0), t.Drum.play("DrumIdle"), t.drumState = 1
                    }).delay(2).call(this.JumpToOtherSide.bind(this)).start(), d.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.JumpToOtherSide = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a, s, l = this;
                        return r(this, function(d) {
                            switch (d.label) {
                                case 0:
                                    switch (this.Cupola.play("CupolaIdleLoop2"), this.drumState) {
                                        case 2:
                                        case 3:
                                            this.Drum.play("DrumBigHitL");
                                            break;
                                        case 0:
                                        case 1:
                                        case 4:
                                            this.Drum.play("DrumBigHitR")
                                    }
                                    return this.drumState = 0, [4, this.delay(1e3)];
                                case 1:
                                    d.sent(), h.default.Instance.Play("Lion_drumming_01"), this.awardIndex >= this.awardList.length - 1 ? (this.Firecracker.stop(), this.Firecracker.node.active = !1, this.FirecrackerBlast.stop(), this.FirecrackerBlast.node.active = !1, this.firecrackerSound && (h.default.Instance.Stop(this.firecrackerSound), this.firecrackerSound = null), this.ColoredBall.play("ColoredBallBrewing")) : (t = Math.floor(this.awardIndex / this.firecrackerIndexRange), this.FirecrackerBlast.node.setPosition(cc.v2(0, this.firecrackerBlastPosY[t])), this.Firecracker.play("FirecrackerIdle" + (5 - t))), this.Cupola.stop(), this.Cupola.node.active = !1, e = 3 + Math.floor(this.awardList[this.awardIndex] / 10), n = this.CupolaScaleRoot.convertToWorldSpaceAR(cc.Vec2.ZERO), i = function(t) {
                                        var e, i, a;
                                        return r(this, function(s) {
                                            switch (s.label) {
                                                case 0:
                                                    return (e = u.default.SpawnEffect("CupolaShoot", o.isMainPlayer)) ? (h.default.Instance.Play("Lion_firework_01"), i = e.convertToNodeSpaceAR(n).add(cc.v2(0, 20 * Math.random() - 10)), e.setPosition(i), a = cc.v2((o.LionDance.onRight ? 160 : -360) + 200 * Math.random(), 300 * Math.random() - 150), c.default.isReverse && a.negSelf(), e.angle = 90 - p.default.GetAngleFrom2Point(e.getPosition(), a), cc.tween(e).to(1, {
                                                        position: cc.v3(a)
                                                    }, {
                                                        easing: function(t) {
                                                            return cc.easeIn(1.5).easing(t)
                                                        }
                                                    }).call(function() {
                                                        h.default.Instance.Play("Lion_firework_02"), 0 == t && h.default.Instance.Play("Lion_Gold_01");
                                                        var n = u.default.SpawnEffect("Ingots", l.isMainPlayer);
                                                        if (n) {
                                                            n.setPosition(e.getPosition()), n.setScale(.5 + Math.random()), n.angle = c.default.isReverse ? 180 : 0;
                                                            var i = cc.sequence(cc.moveBy(.2, cc.v2(0, c.default.isReverse ? -100 : 100)).easing(cc.easeOut(1)), cc.moveBy(.8, cc.v2(0, c.default.isReverse ? 100 : -100)).easing(cc.easeBounceOut()), cc.moveTo(.8, m.default.WeaponPosition(l.playerSeat)).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                                                                u.default.DespawnEffect("Ingots", n)
                                                            }));
                                                            n.runAction(i)
                                                        }
                                                    }).start(), [4, o.delay(50)]) : [2, "continue"];
                                                case 1:
                                                    return s.sent(), [2]
                                            }
                                        })
                                    }, o = this, a = 0, d.label = 2;
                                case 2:
                                    return a < e ? [5, i(a)] : [3, 5];
                                case 3:
                                    d.sent(), d.label = 4;
                                case 4:
                                    return a++, [3, 2];
                                case 5:
                                    return [4, this.delay(1800 + 50 * e)];
                                case 6:
                                    return d.sent(), this.LionDanceUI.AddScore(this.awardList[this.awardIndex] * this.playerBet), this.awardIndex < this.awardList.length - 1 && (this.Cupola.node.active = !0, this.CupolaScaleRoot.scale = .5, this.Cupola.play("CupolaIdleLoop1"), this.Drum.play("DrumIdle"), this.drumState = 1, cc.tween(this.CupolaScaleRoot).delay(.83).by(.33, {
                                        angle: this.LionDance.onRight ? 30 : -30
                                    }).start()), s = "AwakeL2R", this.LionDance.onRight && (s = "AwakeR2L"), this.LionDance.SetNextClip(s, !1, function() {
                                        var t = cc.v3(l.LionDance.onRight ? -250 : 250, 0, 0);
                                        cc.tween(l.LionDance.node).delay(.83).to(.33, {
                                            position: t
                                        }).start()
                                    }, function() {
                                        l.awardIndex++, l.LionDance.onRight = !l.LionDance.onRight, l.LionDance.PlayClip(l.LionDance.onRight ? "AwakeIdleR" : "AwakeIdleL", !0), l.awardIndex < l.awardList.length ? l.scheduleOnce(l.JumpToOtherSide.bind(l), 2) : l.scheduleOnce(l.SkillOver.bind(l), .5)
                                    }), [2]
                            }
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return h.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = h.default.Instance.Play("BGM_Lion_04", 1, !0), h.default.Instance.Fade(this.bgmID, 0, 1), this.LuckyCouplet.node.active = !0, this.LuckyCouplet.play(), h.default.Instance.Play("voice_lion_couplet_01"), this.tapHintActive(!1), [4, this.delay(4e3)];
                                case 1:
                                    return i.sent(), this.ScrollTextSprite.spriteFrame = this.ScrollTextFrame[this.multiple - 1], this.CoupletSprite.spriteFrame = this.CoupletFrame[this.multiple - 1], this.ColoredBall.play("ColoredBallOpen"), h.default.Instance.Play("Lion_ballopen_01"), this.EndingFireWork.emissionRate = 8, [4, this.delay(1500)];
                                case 2:
                                    return i.sent(), h.default.Instance.Play("voice_lion_lucky_0" + this.multiple), [4, this.delay(2e3)];
                                case 3:
                                    return i.sent(), h.default.Instance.Play("Lion_Multiply_02"), t = this.LionDanceUI.node.parent.convertToWorldSpaceAR(this.LionDanceUI.node.getPosition()), t = this.CoupletNode.parent.convertToNodeSpaceAR(t), cc.tween(this.CoupletNode).to(1, {
                                        position: cc.v3(t),
                                        scale: .5
                                    }).to(.1, {
                                        opacity: 0
                                    }).call(function() {
                                        n.LionDanceUI.SetScore(n.totalWin, 2.5), n.multiple > 1 && h.default.Instance.Play("29_whale_count1_6")
                                    }).start(), [4, this.delay(3500)];
                                case 4:
                                    return i.sent(), this.EndingFireWork.emissionRate = 0, this.LionDanceUI.ShowScore(this.totalWin, this.multiple > 1), [4, this.delay(3e3)];
                                case 5:
                                    return i.sent(), h.default.Instance.Stop(this.bgmID), this.bgmID = null, h.default.Instance.Fade(h.default.Instance.GetBGMID(), 0, 1), l.default.SkillSystem.SendCustomCmd("sk_LionDance_finish"), e = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > e ? this.fishAwardTime - e : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2e3 ? 2e3 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                        n.LionDance && (n.LionDance.RemoveSelf(), n.LionDance = null), n.BGLantern && (n.BGLantern.play("LionDanceAwakeOver"), n.BGLantern.node.setParent(n.oriLanternParent), n.oriLanternParent = null, n.BGLantern = null, n.background = null)
                                    }), cc.fadeOut(1), cc.callFunc(function() {
                                        n.UnUseSkill()
                                    }))), [2]
                            }
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    if (this.isMainPlayer) switch (this.m_iTouchCount++, this.hintClickCount++, this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.drumState) {
                        case 1:
                            this.Drum.play("DrumHitR"), this.drumState = 3, this.scheduleOnce(this.DrumHited.bind(this), .11);
                            break;
                        case 2:
                            this.Drum.playAdditive("DrumHitL"), this.drumState = 4, this.scheduleOnce(this.DrumHited.bind(this), .11)
                    }
                }, e.prototype.DrumHited = function() {
                    switch (this.drumState) {
                        case 3:
                            this.drumState = 2;
                            break;
                        case 4:
                            this.drumState = 1
                    }
                    h.default.Instance.Play("Lion_drumming_01"), this.CupolaScaleRoot.scale < 1.5 && (this.CupolaScaleRoot.scale += .05)
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([b(cc.Node)], e.prototype, "LionParent", void 0), a([b(cc.Node)], e.prototype, "LanternParent", void 0), a([b(cc.Animation)], e.prototype, "ColoredBall", void 0), a([b(cc.Animation)], e.prototype, "Firecracker", void 0), a([b(cc.Animation)], e.prototype, "FirecrackerBlast", void 0), a([b(cc.Animation)], e.prototype, "Drum", void 0), a([b(cc.Animation)], e.prototype, "Cupola", void 0), a([b(cc.Node)], e.prototype, "CupolaScaleRoot", void 0), a([b(cc.Animation)], e.prototype, "LuckyCouplet", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([b(cc.Sprite)], e.prototype, "ScrollTextSprite", void 0), a([b([cc.SpriteFrame])], e.prototype, "ScrollTextFrame", void 0), a([b(cc.Node)], e.prototype, "CoupletNode", void 0), a([b(cc.Sprite)], e.prototype, "CoupletSprite", void 0), a([b([cc.SpriteFrame])], e.prototype, "CoupletFrame", void 0), a([b(cc.ParticleSystem)], e.prototype, "EndingFireWork", void 0), a([v], e)
            }(g.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Fish/LIONDANCE": "LIONDANCE",
        "../Game/GameManager": "GameManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./LionDanceUI": "LionDanceUI"
    }],
    SkillLock: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "e068dHpAFRIn4f49TTd2X0t", "SkillLock");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Player/PlayerManager"),
            h = t("../Fish/FishManager"),
            u = t("../Weapon/WeaponManager"),
            p = t("../../GameClient"),
            d = t("../Common/AudioManager"),
            f = t("../Common/EnumFilter"),
            y = t("../Common/ResourceManager"),
            m = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            g = t("../../../../../LobbyCommon/Net/LobbyClient"),
            S = t("../../../../../FishCommon/Script/CanvasHandler"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.lightningNode = null, e.lightningEndAnim = null, e.lightningLineAnim = null, e.player = null, e.targetFish = null, e.targetType = -1, e.lastType = null, e.touchFishID = "", e.lockGunWeapon = null, e.attackRate = .1666667, e.attackTimer = 0, e.maxWaitShootTime = 1, e.maxWaitShootTimer = 0, e.sound = -1, e.isTouchHold = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Lock, this.limitTime = 0
                }, e.prototype.onEnable = function() {
                    this.isMainPlayer && this.lastType && (this.targetType = this.lastType, this.lastType = null, this.RegisterTouchEvent())
                }, e.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType), this.setLocking(null), this.isTouchHold = !1
                }, e.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), this.dieFishList = new Array, this.winList = new Array, this.oddsList = new Array, this.currentWin = 0, this.totalWin = 0, this.totalOdds = 0, this.limitTimer = this.limitTime, this.forceTimer = 0, this.isGaveAward = !1, this.isUnuse = !1, this.isForceShowAward = !1, this.attackTimer = 0, this.maxWaitShootTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", t && t.targetType && (this.targetType = t.targetType), this.player = l.PlayerManager.getPlayer(this.playerSeat)
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function() {
                            return this.switchLightningObj(!1), this.isMainPlayer && (this.RegisterTouchEvent(), h.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this)), t = new cc.Vec2(0, 0), SS.Common.GameEnvironment.CurrentGameNow == f.FishGame.MTY ? t = this.playerSeat > 1 ? new cc.Vec2(0, -105) : new cc.Vec2(0, 105) : SS.Common.GameEnvironment.CurrentGameNow !== f.FishGame.MF && (t = this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80)), e = u.default.WeaponPosition(this.playerSeat).addSelf(t), this.node.setPosition(e), d.default.Instance.Play("lacer_fuel"), [2]
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.lightningEndAnim.stop(), this.lightningLineAnim.stop(), this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.CanelRegisterTouchEvent(), h.default.Instance.Event_FishEnter = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), p.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), y.default.DespawnSkill(this.skillType, this.node)
                }, e.prototype.setWeapon = function(t, e) {
                    this.lockGunWeapon = t, this.attackRate = 1 / e["1secShoot"]
                }, e.prototype.OnLockHit = function(t, e, n) {
                    if (!this.isMainPlayer) {
                        l.PlayerManager.Instance.ModifyPlayerEntries(e, -t);
                        var i = h.default.Instance.GetFishByID(n.toString());
                        i && (this.targetFish = i, this.targetType = i.Type, this.maxWaitShootTimer = this.maxWaitShootTime, this.setLocking(i))
                    }
                }, e.prototype.update = function(e) {
                    this.isUnuse || (t.prototype.update.call(this, e), this.isMainPlayer ? this.MainPlayerUpdate(e) : (this.OtherPlayerUpdate(e), this.maxWaitShootTimer > 0 && (this.maxWaitShootTimer -= e, this.maxWaitShootTimer <= 0 && (this.maxWaitShootTimer = 0, this.setLocking(null)))))
                }, e.prototype.setLocking = function(t) {
                    t ? (this.isMainPlayer && (this.targetFish && (this.targetFish.Event_FishLeave = null), t.ID != this.touchFishID && (this.touchFishID = "")), this.targetFish = t, this.targetType = t.Type, this.isMainPlayer && (this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this)), this.lockGunWeapon && this.lockGunWeapon.SetFishIcon(t.Type)) : (this.switchLightningObj(!1), this.targetFish && this.isMainPlayer && (this.targetFish.Event_FishLeave = null), this.targetFish = null, this.targetType = -1, this.touchFishID = "", this.lockGunWeapon && this.lockGunWeapon.SetFishIcon(this.targetType))
                }, e.prototype.switchLightningObj = function(t) {
                    this.lightningNode && (this.lightningNode.active = t), this.lockGunWeapon && this.lockGunWeapon.SetFishIconAnim(t), this.sound && -1 != this.sound && d.default.Instance.Stop(this.sound), t ? (this.sound = d.default.Instance.Play("lacer_shoot", 1, !0), this.lightningEndAnim.play(), this.lightningLineAnim.play()) : (this.lightningEndAnim.stop(), this.lightningLineAnim.stop())
                }, Object.defineProperty(e.prototype, "checkLightning", {
                    get: function() {
                        return -1 != this.targetType && !!this.targetFish && !!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.MainPlayerUpdate = function(t) {
                    if (!u.default.Instance.getWeapon(this.playerSeat).isGunReady || 0 == u.default.Instance.bulletLimit) return this.setLocking(null), void(this.isTouchHold = !1);
                    if (this.checkLightning) {
                        if (this.player.entries < this.player.bet_value) {
                            var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Info, e, p.default.Instance.title, "Insufficient balance", null), this.setLocking(null), u.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void p.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (l.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= l.PlayerManager.Instance.MaxBalance) return m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Info, "C29", p.default.Instance.title, "MaxBalance", null), this.setLocking(null), u.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                        if (!this.UpdateLightningPos()) return;
                        if (this.lightningNode.active) {
                            if (this.attackTimer > 0 && (this.attackTimer -= t), this.attackTimer <= 0) {
                                if (this.attackTimer = this.attackRate, p.default.FishUIMgr.IsPurchaseOpen()) return;
                                this.targetFish.OnHitFish(), l.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value), p.default.SkillSystem.SendLockHit(this.playerSeat, this.player.bet_value, "", Number(this.targetFish.ID)), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + g.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + g.GAME_STATUS.FIRST_SPIN), g.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, g.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || u.default.Instance.AutoShoot || this.setLocking(null)
                            }
                        } else this.attackTimer = this.attackRate, this.switchLightningObj(!0)
                    } else u.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, e.prototype.OtherPlayerUpdate = function() {
                    this.checkLightning ? (this.lightningNode.active || this.switchLightningObj(!0), this.UpdateLightningPos()) : this.lightningNode.active && this.setLocking(null)
                }, e.prototype.UpdateLightningPos = function() {
                    if (!this.targetFish) return !1;
                    var t = this.node.getPosition(),
                        e = this.targetFish.GetLockLinkPoint(t);
                    if (!e) return this.isMainPlayer && (u.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1;
                    e = S.default.ConvMousePos(e), SS.Common.GameEnvironment.CurrentGameNow == f.FishGame.MF && this.lockGunWeapon.SetGunRotateUsePos(e), this.node.angle = 57.29578 * -Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                    var n, i = e.sub(t);
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case f.FishGame.MF:
                            n = Math.sqrt(i.x * i.x + i.y * i.y) / 350, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1 / n);
                            break;
                        case f.FishGame.ALD:
                            n = i.mag() / 550, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = -n, this.lightningLineAnim.node.scaleX = .5 + n / 2), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1.5 / n, this.lightningEndAnim.node.scaleX = 1.5 / (.5 + n / 2));
                            break;
                        case f.FishGame.ZB:
                            n = i.mag() / 300, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n, this.lightningLineAnim.node.scaleX = .5 + n / 2), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1.5 / n, this.lightningEndAnim.node.scaleX = 1.5 / (.5 + n / 2));
                            break;
                        case f.FishGame.LS:
                        case f.FishGame.KK:
                        default:
                            n = i.mag() / 300, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1 / n)
                    }
                    return !0
                }, e.prototype.OnTouchStart = function(t) {
                    if (u.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value) {
                            var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Info, e, p.default.Instance.title, "Insufficient balance", null), void p.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (l.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= l.PlayerManager.Instance.MaxBalance) m.PopupMsgMgr.Instance.ShowPopMsg(m.PopupPriority.Info, "C29", p.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = h.default.Instance.InFishRange(t.getLocation());
                            n && (null == f.default.playerLockSetting && f.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, e.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1
                }, e.prototype.OnFishEnter = function(t) {
                    if (u.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == f.default.LockSetting);
                        else {
                            if (t.Type == this.targetType) return;
                            for (var e = 0; e < f.default.LockSetting.length; e++) {
                                if (f.default.LockSetting[e] == this.targetType) return;
                                if (t.Type == f.default.LockSetting[e]) return void this.setLocking(t)
                            }
                        }
                }, e.prototype.OnTargetChange = function(t) {
                    t && (t.Event_FishLeave = null), u.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, e.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var t = this.targetFish ? this.targetFish.ID : "",
                            e = null;
                        h.default.Instance && (e = h.default.Instance.GetNextLockFish(this.targetType, t)), e ? this.setLocking(e) : this.switchLightningObj(!1)
                    }
                }, e.prototype.SetLockLvType = function(t) {
                    this.skillType = t
                }, a([b(cc.Node)], e.prototype, "lightningNode", void 0), a([b(cc.Animation)], e.prototype, "lightningEndAnim", void 0), a([b(cc.Animation)], e.prototype, "lightningLineAnim", void 0), a([v], e)
            }(c.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillLuckyCat: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b8638xnMG1Ht7LsVD02JQP+", "SkillLuckyCat");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/AudioManager"),
            d = t("../Common/Utility"),
            f = t("../Fish/FishManager"),
            y = t("../Fish/LUCKY_CAT"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property;
        (function(t) {
            t[t.GourdThrowOut = 0] = "GourdThrowOut", t[t.GourdKnock = 1] = "GourdKnock", t[t.GourdTransform = 2] = "GourdTransform", t[t.GourdAfterTransform = 3] = "GourdAfterTransform", t[t.EnergrFail = 4] = "EnergrFail", t[t.SettleLight = 5] = "SettleLight"
        })(c || (c = {}));
        var b = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.CatParent = null, e.BlackBG = null, e.ScoreBoard = null, e.ScoreLabel = null, e.EnergyBar = null, e.Particles = [], e.IngotPrefab = null, e.IngotParent = null, e.fishID = null, e.base_odds = null, e.randomSeed = 0, e.Cat = null, e.currentPrize = 0, e.stage1_prize_list = null, e.stage2_prize_list = null, e.showingOdds = 0, e.updateScoreStep = .05, e.IngotX = [440, 330, 220, -220, -330, -440], e.IngotY = [190, 65, -65], e.IngotPos = null, e.countSound = -1, e.GatherSound = null, e
            }
            return o(e, t), e.prototype.onLoad = function() {
                this.skillType = g.skillEnum.LuckyCat, this.limitTime = 120
            }, e.prototype.update = function(e) {
                t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("LuckyCat TimeOut"), this.Cat && (this.currentPrize > this.stage1_prize_list.length ? (this.isUnuse = !0, this.BigWin()) : this.CatLeave()), this.forceTimer = 0)), this.updateScoreStep > 0 && (this.updateScoreStep -= e, this.updateScoreStep <= 0 && (this.UpdateScore(), this.updateScoreStep = .05))
            }, e.prototype.InitProperties = function(e) {
                void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.fishID = e.id, this.stage1_prize_list = e.stage1_prize_list, this.stage2_prize_list = e.stage2_prize_list, this.totalWin = e.win, this.totalOdds = e.odds, this.base_odds = e.base_odds, this.randomSeed = this.fishID, this.currentPrize = 0, this.showingOdds = this.base_odds, this.currentOdds = this.base_odds, this.ScoreLabel.string = this.base_odds.toString(), this.node.angle = l.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.node.setScale(1), this.ScoreBoard.node.parent.setScale(1.2), this.ScoreBoard.node.parent.setPosition(cc.v2(0, -135)), this.ScoreBoard.node.setScale(cc.Vec2.ZERO), this.BlackBG.opacity = 0
            }, e.prototype.UnUseSkill = function() {
                this.unschedule(this.UpdateScore), this.Cat && (this.Cat.RemoveSelf(), this.Cat = null), this.Particles.forEach(function(t) {
                    t.resetSystem(), t.stopSystem(), t.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                        t.resetSystem(), t.stopSystem()
                    })
                }), this.IngotParent.children.forEach(function(t) {
                    t.active = !1, t.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                        t.resetSystem(), t.stopSystem()
                    })
                }), this.GatherSound && p.default.Instance.Stop(this.GatherSound), this.ScoreBoard.stop(), this.EnergyBar.node.active = !1, t.prototype.UnUseSkill.call(this)
            }, e.prototype.UseSkill = function() {
                var t = this;
                if (this.Cat = f.default.Instance.GetFishByID(this.fishID.toString()), !this.Cat && this.isMainPlayer && (this.Cat = f.default.Instance.CreateFakeFish(this.fishID.toString(), 92, new cc.Vec2(700, 360), 10)), this.Cat) {
                    this.Cat.FishDie(this.playerSeat, !1);
                    var e = l.default.isReverse ? this.Cat.node.position.neg() : this.Cat.node.position;
                    this.Cat.node.setParent(this.CatParent), this.Cat.node.setPosition(e), this.Cat.node.angle = 0, p.default.Instance.Play("LuckyCat_Catch"), this.Cat.PlayClip("2_Hit", !1, function() {
                        t.node && !t.isUnuse && (p.default.Instance.Play("LuckyCat_CatchRotate"), t.Cat.PlayClip("3_Rotate", !0), t.Cat.particleEnable(y.ParticleType.HammerIdle, !0), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), t.bgmID = p.default.Instance.Play("LuckyCat_StartBGM_1", 1, !0), p.default.Instance.Fade(t.bgmID, 0, 1), cc.tween(t.Cat.node).to(1, {
                            position: cc.Vec3.ZERO
                        }).call(function() {
                            t.Cat.SetNextClip("4_ThrowOut", !1, function() {
                                t.node && !t.isUnuse && t.scheduleOnce(function() {
                                    p.default.Instance.Play("LuckyCat_GourdAppear"), t.particleEnable(c.GourdThrowOut, !0), t.ScoreBoard.play("ScoreBoard_Start")
                                }, 1)
                            }, function() {
                                t.node && !t.isUnuse && (p.default.Instance.Play("LuckyCat_CatRotate"), t.Cat.PlayClip("7_StandbyReverse", !1, function() {
                                    t.node && !t.isUnuse && t.NextAction()
                                }))
                            }), f.default.Instance.RemoveFishByID(t.fishID.toString())
                        }).start(), cc.tween(t.BlackBG).to(1, {
                            opacity: 125
                        }).start())
                    }), this.Cat.SetClipSpeed(10)
                }
            }, e.prototype.NextAction = function() {
                this.currentPrize < this.stage1_prize_list.length ? this.stage1Hit() : this.Charge()
            }, e.prototype.stage1Hit = function() {
                var t = this,
                    e = this.currentPrize;
                this.currentPrize++, this.Cat.PlayClip("19_Knock", !1, function() {
                    t.node && !t.isUnuse && t.Cat.PlayClip("10_CoinStandby", !1, function() {
                        t.node && !t.isUnuse && t.NextAction()
                    })
                }), this.scheduleOnce(function() {
                    p.default.Instance.Play("LuckyCat_CoinErupt"), t.Cat.particleEnable(y.ParticleType.GourdSprayCoin, !0), p.default.Instance.Play("LuckyCat_HitGourd"), t.particleEnable(c.GourdKnock, !0), t.CameraShakeEffect(.5, 2), t.ScoreBoard.play("ScoreBoard_Hit"), t.ScoreBoard.once(cc.Animation.EventType.FINISHED, function() {
                        t.currentOdds += t.stage1_prize_list[e]
                    })
                }, .5)
            }, e.prototype.Charge = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return r(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return this.Cat.PlayClip("21_Waiting_Normal", !0), [4, this.delay(500)];
                            case 1:
                                return e.sent(), p.default.Instance.Play("LuckyCat_Result"), this.ScoreBoard.play("ScoreBoard_Hit"), this.showingOdds = this.currentOdds, this.ScoreLabel.string = d.default.NumberformatBet(Math.floor(this.showingOdds), 1, !1), [4, this.delay(500)];
                            case 2:
                                return e.sent(), this.Cat.SetNextClip("23_ThrowHammer", !1, function() {
                                    t.node && !t.isUnuse && (p.default.Instance.Play("LuckyCat_SmallGourd_Meow"), t.scheduleOnce(function() {
                                        p.default.Instance.Play("LuckyCat_SmallGourd_FlyOut"), t.EnergyBar.node.active = !0, t.EnergyBar.play("EnergyBar_Start"), t.scheduleOnce(function() {
                                            p.default.Instance.Play("LuckyCat_GatherBar_Open")
                                        }, .5)
                                    }, 1))
                                }, function() {
                                    t.node && !t.isUnuse && (p.default.Instance.Play("LuckyCat_BonusRotate"), t.Cat.PlayClip(t.stage2_prize_list.length > 0 ? "20_Transform" : "22_ChargedFail", !1, function() {
                                        if (t.node && !t.isUnuse)
                                            if (t.stage2_prize_list.length > 0) {
                                                t.currentPrize = 0, t.IngotPos = [];
                                                for (var e = 0; e < t.IngotX.length; e++)
                                                    for (var n = 0; n < t.IngotY.length; n++) t.IngotPos.push(cc.v2(t.IngotX[e], t.IngotY[n]));
                                                t.stage2Hit()
                                            } else t.CatLeave()
                                    }), t.scheduleOnce(function() {
                                        t.GatherSound = p.default.Instance.Play("LuckyCat_Gather", 1, !0), t.Cat.particleEnable(y.ParticleType.HammerChargeAura, !0), t.CameraShakeEffect(4.5, 1.5)
                                    }, 1), t.stage2_prize_list.length > 0 ? t.scheduleOnce(function() {
                                        t.EnergyBar.play("EnergyBar_Full"), t.scheduleOnce(function() {
                                            p.default.Instance.Play("LuckyCat_GatherSuccess"), p.default.Instance.Play("LuckyCat_GatherSuccess_GatherBar")
                                        }, .5), t.EnergyBar.once(cc.Animation.EventType.FINISHED, function() {
                                            p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("LuckyCat_StartBGM_2", 1, !0), p.default.Instance.Fade(t.bgmID, 0, 1), p.default.Instance.Play("LuckyCat_GatherBar_Close"), t.EnergyBar.play("EnergyBar_End"), t.EnergyBar.once(cc.Animation.EventType.FINISHED, function() {
                                                p.default.Instance.Play("LuckyCat_SmallGourd_FlyBack"), t.EnergyBar.play("EnergyBar_FlyBack"), t.EnergyBar.once(cc.Animation.EventType.FINISHED, function() {
                                                    p.default.Instance.Play("LuckyCat_Meow"), t.Cat.particleEnable(y.ParticleType.HammerChargeFull, !0), t.scheduleOnce(function() {
                                                        p.default.Instance.Stop(t.GatherSound), t.GatherSound = null, t.Cat.particleEnable(y.ParticleType.HammerChargeAura, !1), t.Cat.changeMat(), t.Cat.particleEnable(y.ParticleType.HammerChargeFull, !1), p.default.Instance.Play("LuckyCat_HitGourd"), t.particleEnable(c.GourdKnock, !0), t.CameraShakeEffect(.8, 3.5), p.default.Instance.Play("LuckyCat_GourdChange"), t.particleEnable(c.GourdTransform, !0), t.scheduleOnce(function() {
                                                            t.particleEnable(c.GourdAfterTransform, !0)
                                                        }, .5)
                                                    }, .6)
                                                })
                                            })
                                        })
                                    }, 4.7) : (t.scheduleOnce(function() {
                                        t.Cat.particleEnable(y.ParticleType.HammerChargeFailure, !0)
                                    }, 3.8), t.scheduleOnce(function() {
                                        p.default.Instance.Stop(t.GatherSound), t.GatherSound = null, t.Cat.particleEnable(y.ParticleType.HammerChargeAura, !1), p.default.Instance.Play("LuckyCat_GatherFail"), p.default.Instance.Play("LuckyCat_GatherFail_Explosion"), t.particleEnable(c.EnergrFail, !0), t.EnergyBar.play("EnergyBar_Fail"), t.EnergyBar.once(cc.Animation.EventType.FINISHED, function() {
                                            p.default.Instance.Play("LuckyCat_GatherBar_Close"), t.EnergyBar.play("EnergyBar_End")
                                        }), t.scheduleOnce(function() {
                                            p.default.Instance.Play("LuckyCat_RideGourd")
                                        }, 3.6)
                                    }, 4.8)))
                                }), [2]
                        }
                    })
                })
            }, e.prototype.CatLeave = function() {
                var t = this;
                p.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = p.default.Instance.Play("LuckyCat_EndBGM_1"), this.Cat.particleEnable(y.ParticleType.GourdLeave, !0), cc.tween(this.BlackBG).to(1, {
                    opacity: 0
                }).start();
                var e = this.randomBySeed() > .6;
                p.default.Instance.Play(e ? "LuckyCat_CatLeave_2" : "LuckyCat_CatLeave_1"), this.Cat.PlayClip(e ? "15_TransCatLeaveRush" : "14_TransCatLeave", !1), this.scheduleOnce(function() {
                    t.SkillOver()
                }, 2.5)
            }, e.prototype.stage2Hit = function() {
                var t = this,
                    e = this.stage2_prize_list[this.currentPrize].type,
                    n = this.stage2_prize_list[this.currentPrize].odds;
                this.currentPrize++, this.Cat.PlayClip("18_BonusKnock", !1, function() {
                    t.node && !t.isUnuse && (t.currentPrize < t.stage2_prize_list.length ? t.stage2Hit() : t.BigWin())
                }), this.scheduleOnce(function() {
                    p.default.Instance.Play("LuckyCat_Somersault")
                }, .2), this.scheduleOnce(function() {
                    p.default.Instance.Play("LuckyCat_HitGourd"), t.particleEnable(c.GourdKnock, !0), t.CameraShakeEffect(.5, 3), t.DropIngot(e, n)
                }, .7)
            }, e.prototype.BigWin = function() {
                return s(this, void 0, void 0, function() {
                    var t = this;
                    return r(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return this.Cat.PlayClip("21_Waiting_Normal", !0), [4, this.delay(1e3)];
                            case 1:
                                return e.sent(), this.Cat.SetNextClip("13_TransCatRide2", !1, function() {
                                    t.node && !t.isUnuse && p.default.Instance.Play("LuckyCat_RideGourd")
                                }, function() {
                                    if (t.node && !t.isUnuse) {
                                        p.default.Instance.Play("LuckyCat_Drawing"), t.Cat.PlayClip("17_AddTransBonus2", !1, function() {
                                            t.node && !t.isUnuse && t.Cat.PlayClip("12_TransCatRide1", !0)
                                        });
                                        var e = 0;
                                        t.IngotParent.children.forEach(function(t) {
                                            e < 2 && 2 == t.ingotType ? e = 2 : e < 1 && 1 == t.ingotType && (e = 1)
                                        }), cc.tween(t).delay(1).call(function() {
                                            cc.tween(t).repeat(e, cc.tween().call(function() {
                                                p.default.Instance.Play("LuckyCat_Drawing_Small")
                                            }).delay(.8)).call(function() {
                                                p.default.Instance.Play("LuckyCat_Drawing_Big")
                                            }).start();
                                            var n = cc.tween().to(.1, {
                                                scale: 2
                                            }).to(.5, {
                                                scale: 1.2
                                            }).to(.1, {
                                                scale: 1.5
                                            }).to(.5, {
                                                scale: 1
                                            });
                                            t.IngotParent.children.forEach(function(i) {
                                                if (i.active) {
                                                    var o = .8 * (2 - (e - i.ingotType)),
                                                        a = 2 + (e == i.ingotType ? 0 : 1.3),
                                                        s = cc.tween().call(function() {
                                                            i.angle = 0, i.getComponent(cc.Animation).play("IngotChange")
                                                        }).delay(a).call(function() {
                                                            p.default.Instance.Play("LuckyCat_Result_Fly")
                                                        }).to(.7, {
                                                            position: cc.v3(t.ScoreBoard.node.parent.getPosition())
                                                        }).to(.2, {
                                                            scale: 0
                                                        }).call(function() {
                                                            i.active = !1, i.scale = 1
                                                        });
                                                    i.ingotType == e ? cc.tween(i).delay(o).then(n).then(s).start() : cc.tween(i).delay(o).then(s).start()
                                                }
                                            })
                                        }).delay(4).call(function() {
                                            var e = t.randomBySeed() > .6;
                                            t.Cat.SetNextClip(e ? "15_TransCatLeaveRush" : "14_TransCatLeave", !1, function() {
                                                t.node && !t.isUnuse && (p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("LuckyCat_EndBGM_2", 1, !0), p.default.Instance.Play(e ? "LuckyCat_CatLeave_2" : "LuckyCat_CatLeave_1"), t.Cat.particleEnable(y.ParticleType.GourdLeave, !0))
                                            }), t.currentOdds = t.totalOdds
                                        }).delay(1.5).call(function() {
                                            p.default.Instance.Play("LuckyCat_Result_Finally"), t.particleEnable(c.SettleLight, !0), t.ScoreBoard.play("ScoreBoard_Collect"), t.showingOdds = t.totalOdds, t.ScoreLabel.string = d.default.NumberformatBet(Math.floor(t.showingOdds), 1, !1), cc.tween(t.BlackBG).to(1, {
                                                opacity: 0
                                            }).start()
                                        }).delay(3).call(function() {
                                            t.SkillOver()
                                        }).start()
                                    }
                                }), [2]
                        }
                    })
                })
            }, e.prototype.SkillOver = function() {
                var t = this;
                p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1);
                var e = this.playerSeat > 1 ? -120 : 120;
                cc.tween(this.ScoreBoard.node.parent).to(1, {
                    position: cc.v3(m.default.WeaponUIPosition(this.playerSeat).add(cc.v2(0, l.default.isReverse ? -e : e)))
                }).to(.5, {
                    scale: 0
                }, {
                    easing: "backIn"
                }).call(function() {
                    t.CreateSkillTitle()
                }).call(function() {
                    t.ShowSkillScore(t.totalWin)
                }).delay(3).call(function() {
                    t.UnUseSkill()
                }).start(), h.default.SkillSystem.SendCustomCmd(u.SKILL_CMD_NAME.LUCKY_CAT_END)
            }, e.prototype.DropIngot = function(t, e) {
                for (var n = null, i = 0; i < this.IngotParent.childrenCount; i++)
                    if (!this.IngotParent.children[i].active) {
                        (n = this.IngotParent.children[i]).active = !0;
                        break
                    }
                switch (null == n && (n = cc.instantiate(this.IngotPrefab)).setParent(this.IngotParent), n.setPosition(this.Cat.Particles[y.ParticleType.GourdSprayCoin].node.getPosition()), n.angle = 30 * this.randomBySeed() - 15, n.getComponentsInChildren(cc.Label).forEach(function(t) {
                    t.string = e.toString()
                }), n.ingotType = t, t) {
                    case 0:
                        p.default.Instance.Play("LuckyCat_IngotsErupt_Silver"), n.getComponent(cc.Animation).play("IngotSilver");
                        break;
                    case 1:
                        p.default.Instance.Play("LuckyCat_IngotsErupt_Golden"), n.getComponent(cc.Animation).play("IngotGold");
                        break;
                    case 2:
                        p.default.Instance.Play("LuckyCat_IngotsErupt_Multicolor"), n.getComponent(cc.Animation).play("IngotRainbow")
                }
                n.getComponentsInChildren(cc.ParticleSystem).forEach(function(t) {
                    t.resetSystem()
                });
                var o = Math.floor(this.randomBySeed() * this.IngotPos.length),
                    a = this.IngotPos[o].add(cc.v2(40 * this.randomBySeed() - 80, 60 * this.randomBySeed() - 120));
                this.IngotPos.splice(o, 1), cc.tween(n).to(1, {
                    position: cc.v3(a)
                }).start()
            }, e.prototype.UpdateScore = function() {
                this.showingOdds < this.currentOdds ? (this.showingOdds += 1, this.showingOdds += Math.floor(this.currentOdds - this.showingOdds) / 20, this.ScoreLabel.string = d.default.NumberformatBet(Math.floor(this.showingOdds), 1, !1), p.default.Instance.isPlaying(this.countSound) || (this.countSound = p.default.Instance.Play("count_a"))) : (p.default.Instance.Stop(this.countSound), this.countSound = -1)
            }, e.prototype.randomBySeed = function() {
                return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
            }, e.prototype.particleEnable = function(t, e) {
                var n = this.Particles[t].node.getComponentsInChildren(cc.ParticleSystem);
                n.push(this.Particles[t]), n.forEach(function(t) {
                    e ? t.resetSystem() : t.stopSystem()
                }), e && t == c.GourdTransform && this.Particles[t].node.getComponentsInChildren(cc.Animation).forEach(function(t) {
                    t.play()
                })
            }, a([v(cc.Node)], e.prototype, "CatParent", void 0), a([v(cc.Node)], e.prototype, "BlackBG", void 0), a([v(cc.Animation)], e.prototype, "ScoreBoard", void 0), a([v(cc.Label)], e.prototype, "ScoreLabel", void 0), a([v(cc.Animation)], e.prototype, "EnergyBar", void 0), a([v([cc.ParticleSystem])], e.prototype, "Particles", void 0), a([v(cc.Prefab)], e.prototype, "IngotPrefab", void 0), a([v(cc.Node)], e.prototype, "IngotParent", void 0), a([_], e)
        }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Fish/LUCKY_CAT": "LUCKY_CAT",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillMermaid: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "c8f51UN82tDd6KTpCltVHew", "SkillMermaid");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../../System/SkillSystem"),
            h = t("../Fish/BaseFish"),
            u = t("../Player/UserInfoController"),
            p = t("../Common/AudioManager"),
            d = t("../Fish/FishManager"),
            f = t("../Player/PlayerManager"),
            y = t("../Common/ResourceManager"),
            m = t("../../GameClient"),
            g = t("../../../../../FishCommon/Script/CanvasHandler"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.heart_anim = null, e.radiance_anim = null, e.laber_count = null, e.explode_node = null, e.heart_particle = null, e.backe_particle = new Array, e.explode_count = null, e.scoreUI = null, e.spine_list = new Array, e.fishAwardTime = 0, e.fishID = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.limitTime = 120, this.spine_list = this.explode_node.getComponentsInChildren(sp.Skeleton)
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.laber_count.string = "1", this.currentWin = 0, this.heart_anim.node.opacity = 255, this.heart_anim.node.active = !1, this.heart_anim.node.setPosition(cc.Vec2.ZERO), this.explode_count = 1, this.heart_anim.node.angle = this.playerSeat > 1 ? 180 : 0, this.fishID = e.bomb_fish_id, this.playerBet = e.bet
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return t = cc.Vec2.ZERO, (e = d.default.Instance.GetFishByID("" + this.fishID)) && (e.AliveStatus = h.FishState.DEAD, e.CanCollision = !1, t = this.node.parent.convertToNodeSpaceAR(e.getFishPos()), e.PlayDieAnim(), p.default.Instance.Play("effect_mer_die1")), p.default.Instance.Play("41_catch_bigfish"), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), (n = y.default.SpawnEffect("7")).scale = 2, n ? (n.setPosition(t), [4, this.delay(500)]) : [3, 3];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return this.heart_anim.node.setPosition(t), this.heart_anim.node.angle = g.default.isReverse ? 180 : 0, this.heart_anim.node.active = !0, this.heart_anim.play("heart_init"), this.heart_particle.resetSystem(), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), this.heart_anim.node.runAction(cc.moveTo(1, cc.Vec2.ZERO)), this.CreateSkillTitle(), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), this.bgmID = p.default.Instance.Play("FD_out01", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), this.scoreUI = f.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(u.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), [4, this.delay(2e3)];
                                case 5:
                                    return i.sent(), this.SendBombRange(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    var e = this;
                    this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.heart_anim.stop(), this.radiance_anim.stop(), this.backe_particle.forEach(function(t) {
                        return s(e, void 0, void 0, function() {
                            return r(this, function() {
                                return t.stop(), [2]
                            })
                        })
                    }), this.explode_count = null, t.prototype.UnUseSkill.call(this)
                }, e.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var t = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        m.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.MERMAID_BOMB, t)
                    }
                }, e.prototype.onMermaidBomb = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        var e, n, i, o, a, s, c, l;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (this.dieFishList.length = 0, this.winList.length = 0, e = t.fish, o = 0; o < e.length; o++) n = d.default.Instance.GetFishByID("" + e[o]), this.dieFishList.push(n);
                                    for (i = t.odds, o = 0; o < i.length; o++) this.winList.push(this.playerBet * i[o]);
                                    return this.ShowExplode(), p.default.Instance.Play("effect_mer_attack1"), [4, this.delay(1800)];
                                case 1:
                                    return r.sent(), this.initBackeParticle(), a = t.continue, this.explode_count = t.bomb_times_cnt + (a ? 1 : 0), this.onAddExplodeCount(), [4, this.delay(500)];
                                case 2:
                                    return r.sent(), this.CameraShakeEffect(3, 1.5), s = 1e3 * this.KillFishesAndShowAward(), s += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < s ? s : this.fishAwardTime, p.default.Instance.Play("drill_bomb_1"), c = t.win, this.currentWin += c, [4, this.delay(2e3)];
                                case 3:
                                    return r.sent(), a ? (this.SendBombRange(), [3, 7]) : [3, 4];
                                case 4:
                                    return p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Play("FD_out02"), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1), this.heart_particle.stopSystem(), this.explode_node.active = !1, this.heart_anim.play("heart_over"), l = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > l ? this.fishAwardTime - l : 0, this.fishAwardTime -= 1500, [4, this.delay(this.fishAwardTime > 0 ? this.fishAwardTime : 0)];
                                case 5:
                                    return r.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.currentWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 6:
                                    r.sent(), this.totalWin = t.total_win, this.UnUseSkill(), r.label = 7;
                                case 7:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.ShowExplode = function() {
                    this.explode_node.active = !0, this.spine_list.forEach(function(t) {
                        t.setAnimation(0, "ATK", !1)
                    })
                }, e.prototype.onAddExplodeCount = function() {
                    this.laber_count.string = "" + this.explode_count, this.heart_anim.node.scale = 2, this.heart_anim.node.runAction(cc.scaleTo(1, 1)), this.radiance_anim.play("radiance"), this.scoreUI.SetScore(this.currentWin)
                }, e.prototype.initBackeParticle = function() {
                    var t = this;
                    this.backe_particle.forEach(function(e) {
                        return s(t, void 0, void 0, function() {
                            return r(this, function() {
                                return e.node.active = !0, e.play("ExplodeHeartInit"), [2]
                            })
                        })
                    })
                }, a([v(cc.Animation)], e.prototype, "heart_anim", void 0), a([v(cc.Animation)], e.prototype, "radiance_anim", void 0), a([v(cc.Label)], e.prototype, "laber_count", void 0), a([v(cc.Node)], e.prototype, "explode_node", void 0), a([v(cc.ParticleSystem)], e.prototype, "heart_particle", void 0), a([v([cc.Animation])], e.prototype, "backe_particle", void 0), a([_], e)
            }(c.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillMultiBomb: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "4f047B8OPxLjrH6Fs8r9rvV", "SkillMultiBomb");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Fish/BaseFish"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/ResourceManager"),
            d = t("../Award/SkillTitle"),
            f = t("../Player/UserInfoController"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("../Fish/FishManager"),
            S = t("../Common/AudioManager"),
            _ = t("../../../../../FishCommon/Script/CanvasHandler"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            C = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bombRangeNode = null, e.bombRangeAnim = new Array, e.label_number = null, e.CrabParent = null, e.multiBombCrab = null, e.isContinue = !0, e.currentBombNumber = 0, e.army_name = "", e.army_id = 0, e.scoreUI = null, e.rangeSound = -1, e.fishAwardTime = 0, e.fishID = null, e
                }
                return o(e, t), Object.defineProperty(e.prototype, "bombPosList", {
                    get: function() {
                        var t = .5 * _.default.WinSize.width,
                            e = .5 * _.default.WinSize.height;
                        return [cc.v2(.616 * t, .625 * -e), cc.v2(.625 * -t, .468 * -e), cc.v2(.616 * t, .625 * e), cc.v2(.625 * -t, .468 * -e)]
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.MultiBomb, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.isContinue = !0, this.currentBombNumber = 0, this.forceTime = 7.5, this.playerBet = e.bet, this.fishID = e.crab
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.multiBombCrab = g.default.Instance.GetFishByID(this.fishID.toString()), this.multiBombCrab || this.isMainPlayer && (this.multiBombCrab = g.default.Instance.CreateFakeFish(this.fishID.toString(), 34, new cc.Vec2(700, 360), 10)), this.multiBombCrab ? (this.CreateSkillTitle(), this.label_number.node.parent.active = !0, this.label_number.node.angle = _.default.isReverse ? 180 : 0, this.label_number.string = (this.currentBombNumber + 1).toString(), this.scoreUI = y.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(f.ScoreUIType.Bomb), this.scoreUI.Init(this.playerBet), t = this.multiBombCrab.node.getPosition(), this.label_number.node.parent.setPosition(t), this.multiBombCrab.AliveStatus = l.FishState.DEAD, this.multiBombCrab.CanCollision = !1, this.multiBombCrab.StopAction(), this.multiBombCrab.PlayReadyExplode(), this.multiBombCrab.SetAnimationTimeScale(1.2), this.multiBombCrab.node.parent = this.CrabParent, this.multiBombCrab.node.runAction(cc.rotateBy(1, 360).repeatForever()), this.multiBombCrab.node.runAction(cc.moveTo(.88, cc.Vec2.ZERO)), this.label_number.node.parent.runAction(cc.moveTo(.88, cc.Vec2.ZERO)), [4, this.delay(1e3)]) : [3, 3];
                                case 1:
                                    return n.sent(), this.SwitchBombRange(!0), [4, this.delay(2900)];
                                case 2:
                                    n.sent(), this.isMainPlayer && (e = g.default.Instance.GetRangeAttackableID(this.multiBombCrab.node.getPosition(), 1e3, 100), h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.MULTI_BOMB_BOMB, e)), this.forceTimer = this.forceTime, n.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.multiBombCrab && (this.multiBombCrab.RemoveSelf(), this.multiBombCrab = null), this.SwitchBombRange(!1), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.bombRangeAnim[0].stop(), this.bombRangeAnim[1].stop(), t.prototype.UnUseSkill.call(this)
                }, e.prototype.CreateSkillTitle = function() {
                    this.SkillTitle && this.HideSkillTitle(!1);
                    var t = p.default.SpawnTitle(this.skillType, this.isMainPlayer);
                    if (t) {
                        t.angle = _.default.isReverse ? 180 : 0, t.opacity = 255, this.SkillTitle = t.getComponent(d.default), this.SkillTitle.SetBet(this.playerBet, this.isMainPlayer);
                        var e = this.multiBombCrab.node.getPosition();
                        t.setPosition(e);
                        var n = this.playerSeat > 1 ? new cc.Vec2(0, -180) : new cc.Vec2(0, 180),
                            i = m.default.WeaponPosition(this.playerSeat).add(n);
                        t.runAction(cc.sequence(cc.delayTime(1), cc.moveTo(.75, i)))
                    }
                }, e.prototype.InitExplodeData = function(t) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var e = t.fish;
                    this.oddsList = t.odds;
                    for (var n = 0; n < e.length; n++) this.dieFishList.push(g.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.isContinue = t.continue, this.isContinue || (this.isGaveAward = !0), this.totalWin = t.total_win;
                    var i = t.army_info;
                    i && (this.army_name = i.army_name, this.army_id = i.army_id), this.ShowExplode()
                }, e.prototype.SetExplodeEndData = function() {
                    this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode()
                }, e.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o;
                        return r(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    return this.forceTimer = 0, this.SwitchBombRange(!1), t = this.currentBombNumber % this.bombPosList.length, this.army_name && this.army_id && this.isContinue && g.default.Instance.GenerateArmy(this.army_name, this.army_id, 0, 0, this.bombPosList[t]), [4, this.delay(300)];
                                case 1:
                                    return a.sent(), this.CreateExplodeEffect(), this.isContinue ? (this.currentBombNumber++, e = new cc.Vec2(this.bombPosList[t].x / 2, this.bombPosList[t].y / 2).scale(new cc.Vec2(.5, .5)), this.label_number.node.parent.runAction(cc.sequence(cc.moveTo(t % 2 == 1 ? .66 : .4875, e), cc.moveTo(t % 2 == 1 ? .66 : .4875, this.bombPosList[t]))), this.multiBombCrab.node.runAction(cc.sequence(cc.moveTo(t % 2 == 1 ? .66 : .4875, e), cc.moveTo(t % 2 == 1 ? .66 : .4875, this.bombPosList[t]))), this.multiBombCrab.node.runAction(cc.sequence(cc.scaleTo(t % 2 == 1 ? .66 : .4875, 1.5), cc.scaleTo(t % 2 == 1 ? .66 : .4875, 1))), this.label_number.string = (this.currentBombNumber + 1).toString()) : (this.multiBombCrab.RemoveSelf(), this.multiBombCrab = null, this.label_number.node.parent.active = !1), n = 1e3 * this.KillFishesAndShowAward(), n += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < n ? n : this.fishAwardTime, this.scoreUI && this.scoreUI.SetScore(this.currentWin), this.isContinue ? [3, 5] : (i = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > i ? this.fishAwardTime - i : 0, [4, this.delay(this.fishAwardTime < 1500 ? 1500 : this.fishAwardTime)]);
                                case 2:
                                    return a.sent(), this.scoreUI && this.scoreUI.SetScore(this.totalWin), this.ShowSkillScore(1), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)];
                                case 3:
                                    return a.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 4:
                                    return a.sent(), this.UnUseSkill(), [2];
                                case 5:
                                    return [4, this.delay(450 + (t % 2 == 1 ? 870 : 525))];
                                case 6:
                                    return a.sent(), this.currentWin = this.totalWin, this.SwitchBombRange(!0), [4, this.delay(2e3)];
                                case 7:
                                    return a.sent(), this.isMainPlayer && (new Array, o = g.default.Instance.GetRangeAttackableID(this.multiBombCrab ? this.multiBombCrab.node.getPosition() : cc.Vec2.ZERO, 1e3, 100), h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.MULTI_BOMB_BOMB, o)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, e.prototype.SwitchBombRange = function(t) {
                    void 0 === t && (t = !0), this.bombRangeNode && (this.bombRangeNode.active = t, t ? (this.multiBombCrab && this.bombRangeNode.setPosition(this.multiBombCrab.node.getPosition()), this.bombRangeAnim[0].play(), this.bombRangeAnim[1].play(), this.rangeSound = S.default.Instance.Play("18_bomba_main")) : S.default.Instance.Stop(this.rangeSound))
                }, e.prototype.CreateExplodeEffect = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function() {
                            return (t = p.default.SpawnEffect("Bomb_Explode", this.isMainPlayer)) && (t.setParent(p.default.Instance.Award), t.setPosition(this.multiBombCrab ? this.multiBombCrab.node.getPosition() : cc.Vec2.ZERO)), (e = Math.random()) < .25 ? S.default.Instance.Play("19_bomba_main") : e < .5 ? S.default.Instance.Play("bomb_ex01") : e < .75 ? S.default.Instance.Play("bomb_ex02") : S.default.Instance.Play("bomb_ex03"), this.CameraShakeEffect(1, 3), [2]
                        })
                    })
                }, a([P(cc.Node)], e.prototype, "bombRangeNode", void 0), a([P([cc.Animation])], e.prototype, "bombRangeAnim", void 0), a([P(cc.Label)], e.prototype, "label_number", void 0), a([P(cc.Node)], e.prototype, "CrabParent", void 0), a([b], e)
            }(c.default);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillPariteShip: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "41ef3ikwxhG5YycyK5z2fI2", "SkillPariteShip");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Common/AudioManager"),
            u = t("../Common/ResourceManager"),
            p = t("../Fish/BaseFish"),
            d = t("../Fish/FishManager"),
            f = t("../Player/PlayerManager"),
            y = t("../Player/UserInfoController"),
            m = t("./BaseSkill"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property;
        (function(t) {
            t[t.stay = 0] = "stay", t[t.move = 1] = "move"
        })(c || (c = {}));
        var v = function(t) {
                this.node = null, this.anim = null, this.state = c.stay, this.oriPosition = null, this.oriScale = 0, this.node = t, this.anim = t.getComponent(cc.Animation), this.oriPosition = t.getPosition(), this.oriScale = t.scale
            },
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.SmallShip = null, e.Totem = null, e.Explosion = null, e.FrameFire = null, e.CountObj = null, e.label_number = null, e.ships = [], e.isContinue = !0, e.currentBombNumber = 0, e.HitCount = 0, e.scoreUI = null, e.fishID = null, e.fishAwardTime = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = m.skillEnum.AwakenPhoenix, this.limitTime = 120;
                    for (var t = 0; t < this.SmallShip.childrenCount; t++) this.ships.push(new v(this.SmallShip.children[t]))
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.node.scale = 0, this.isContinue = !0, this.currentBombNumber = 0, this.label_number.string = "1", this.forceTime = 7.5, this.playerBet = e.bet, this.FrameFire.node.opacity = 0, this.CountObj.opacity = 255, this.CountObj.angle = l.default.isReverse ? 180 : 0, this.fishID = e.bomb_fish_id
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return (t = d.default.Instance.GetFishByID(this.fishID.toString())) && t.FishDie(this.playerSeat, !1), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(t ? this.node.parent.convertToNodeSpaceAR(t.getFishPos()) : cc.Vec2.ZERO), (e = u.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, e.setPosition(this.node.getPosition()), this.Totem.node.angle = l.default.isReverse ? 180 : 0, this.Totem.node.opacity = 255, this.Totem.node.active = !0, this.Totem.play("TotemLoop"), [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO), cc.callFunc(function() {
                                        h.default.Instance.Play("storm_shoot")
                                    }), cc.delayTime(.8), cc.callFunc(function() {
                                        n.Explosion.node.active = !0, n.Explosion.play("Explosion"), n.Totem.node.active = !1, h.default.Instance.Play("bomb_ex03")
                                    }), cc.delayTime(1.4), cc.callFunc(function() {
                                        n.Explosion.node.active = !1, n.FrameFire.node.active = !0, n.FrameFire.play("FrameFire"), n.FrameFire.node.runAction(cc.fadeIn(1)), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 1, 0), n.bgmID = h.default.Instance.Play("Ghostship_out_01", .7, !0), h.default.Instance.Fade(n.bgmID, 0, 1);
                                        for (var t = 0; t < n.ships.length; t++) n.ships[t].node.active = !0;
                                        n.schedule(n.StartBirdAttack, .2), l.default.CameraShake(2)
                                    }))), this.CreateSkillTitle(), this.scoreUI = f.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(y.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), this.forceTimer = this.forceTime, [4, this.delay(5e3)];
                                case 3:
                                    return i.sent(), this.schedule(this.UpdateHit, .1), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.Totem.stop(), this.Totem.node.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1, this.FrameFire.stop(), this.FrameFire.node.active = !1;
                    for (var e = 0; e < this.ships.length; e++) this.ships[e].anim.stop(), this.ships[e].node.stopAllActions(), this.ships[e].node.setPosition(this.ships[e].oriPosition), this.ships[e].node.scale = this.ships[e].oriScale, this.ships[e].state = c.stay, this.ships[e].node.active = !1;
                    this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), l.default.CameraShake(-2), t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitExplodeData = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, this.delay(3e3)];
                                case 1:
                                    if (s.sent(), this.dieFishList = new Array, this.winList = new Array, e = t.fish_dead_dict, n = Object.keys(e))
                                        for (i = 0; i < n.length; i++) o = n[i], (a = d.default.Instance.GetFishByID(o)) && (a.AliveStatus = p.FishState.DEAD, a.CanCollision = !1, a.StopAction(), this.dieFishList.push(a), this.winList.push(e[o].coin));
                                    return this.totalWin = t.total_wins, this.HitCount = t.hit_count, this.isContinue = t.continues, this.isContinue ? this.KillFish() : (this.isGaveAward = !0, this.ShowExplode()), [2]
                            }
                        })
                    })
                }, e.prototype.SetExplodeEndData = function() {
                    this.isContinue && (this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode())
                }, e.prototype.KillFish = function() {
                    var t = 0;
                    this.forceTimer = 0, t = this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.scoreUI && this.scoreUI.SetScore(this.currentWin), this.forceTimer = this.forceTime
                }, e.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return u.default.SpawnEffect("FinalShip", this.isMainPlayer), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.CameraShake(-2), this.unschedule(this.StartBirdAttack), this.unschedule(this.UpdateHit), this.currentBombNumber < this.HitCount && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1))), h.default.Instance.Play("Ghostship_attackend_01"), [4, this.delay(1800)];
                                case 2:
                                    return n.sent(), t = function() {
                                        e.currentBombNumber++, e.label_number.string = e.currentBombNumber.toString(), e.currentBombNumber >= e.HitCount && (e.CountObj.scale = 1.5, e.CountObj.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1))), e.unschedule(t))
                                    }, this.Explosion.node.active = !0, this.Explosion.play("Explosion"), h.default.Instance.SetNextSound(this.bgmID, "Ghostship_out_02", .7), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 0, 1), [4, this.delay(800)];
                                case 3:
                                    return n.sent(), h.default.Instance.Play("drill_bomb_1"), this.KillFish(), this.fishAwardTime -= (new Date).getTime(), this.CameraShakeEffect(2, 1.5), this.CountObj.scale = 1.2, this.schedule(t, 0), this.FrameFire.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3 * this.fishAwardTime)];
                                case 4:
                                    return n.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.StartBirdAttack = function() {
                    for (var t = 0; t < 5; t++) {
                        var e = Math.floor(Math.random() * this.ships.length);
                        this.ships[e].state == c.stay && this.BirdAttack(e)
                    }
                    var n = function() {
                            var t = u.default.SpawnEffect("Green_Blast", i.isMainPlayer);
                            if (!t) return "continue";
                            var e = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                n = 1.5 * Math.random() + 1,
                                o = Math.random() + 1;
                            t.parent = i.node.parent, t.zIndex = 0, t.active = !1, t.setPosition(e), t.scale = n, i.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                t.active = !0, t.getComponent(cc.Animation).play("Blast")
                            })))
                        },
                        i = this;
                    for (t = 0; t < 2; t++) n()
                }, e.prototype.BirdAttack = function(t) {
                    var e = this;
                    if (this.ships[t].state != c.move) {
                        this.ships[t].state = c.move;
                        var n = 50 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            i = .2 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            o = .9 * Math.random() + .1,
                            a = Math.random() + 1.5;
                        this.ships[t].node.setPosition(this.ships[t].node.getPosition().add(new cc.Vec2(0, n))), this.ships[t].node.scale += i, this.ships[t].node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                            var n = a > 1.5 ? 2 : 1;
                            e.ships[t].anim.play("SmallShip0" + n.toString())
                        }), cc.moveTo(a, new cc.Vec2(750, this.ships[t].node.position.y)), cc.callFunc(function() {
                            e.ships[t].anim.stop(), e.ships[t].node.setPosition(e.ships[t].oriPosition), e.ships[t].node.scale = e.ships[t].oriScale, e.ships[t].state = c.stay
                        })))
                    }
                }, e.prototype.UpdateHit = function() {
                    this.currentBombNumber >= this.HitCount || Math.random() >= .7 || (this.CountObj.active || (this.CountObj.active = !0), this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)))
                }, a([_(cc.Node)], e.prototype, "SmallShip", void 0), a([_(cc.Animation)], e.prototype, "Totem", void 0), a([_(cc.Animation)], e.prototype, "Explosion", void 0), a([_(cc.Animation)], e.prototype, "FrameFire", void 0), a([_(cc.Node)], e.prototype, "CountObj", void 0), a([_(cc.Label)], e.prototype, "label_number", void 0), a([S], e)
            }(m.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillPatrickCount: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "6e9d2kcMMxJj6kUjRknnmij", "SkillPatrickCount");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.CountLabel = null, e.CountSprite = null, e.CountFrame = [], e
                }
                return o(e, t), e.prototype.setCount = function(t) {
                    this.CountLabel.string = t.toString(), this.CountSprite.spriteFrame = 1 == t ? this.CountFrame[0] : this.CountFrame[1]
                }, a([l(cc.Label)], e.prototype, "CountLabel", void 0), a([l(cc.Sprite)], e.prototype, "CountSprite", void 0), a([l([cc.SpriteFrame])], e.prototype, "CountFrame", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    SkillPatrickUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "37878NWo1xNV6McLS9TmyFL", "SkillPatrickUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/AudioManager"),
            c = t("../Common/PoolObj"),
            l = t("../Common/Utility"),
            h = t("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.ScoreFont = [], e.BetLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-100)), this.node.setPosition(n), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(t, t), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, t), this.ani.play("PatrickTitleShowUp"))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = l.default.NumberformatBet(t, this.Bet), this.ScoreLabel.font = this.ScoreFont[1], this.ani.play(e ? "PatrickBigWin" : "PatrickYouWin"), r.default.Instance.Play(e ? "Buffalo_win_02" : "Buffalo_win_01"), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreLabel.font = this.ScoreFont[0], this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([d(cc.Label)], e.prototype, "ScoreLabel", void 0), a([d([cc.Font])], e.prototype, "ScoreFont", void 0), a([d(cc.Label)], e.prototype, "BetLabel", void 0), a([p], e)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    SkillPatrick: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "cc777DKGuJJ1Z514OlEf5lM", "SkillPatrick");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./SkillPatrickUI"),
            l = t("./SkillPatrickCount"),
            h = t("./BaseSkill"),
            u = t("../Fish/LUCKY_SHAMROCK"),
            p = t("../../../../../FishCommon/Script/CanvasHandler"),
            d = t("../Player/PlayerManager"),
            f = t("../Weapon/WeaponManager"),
            y = t("../Common/ResourceManager"),
            m = t("../../../../../LobbyCommon/Net/LobbyClient"),
            g = t("../Fish/FishManager"),
            S = t("../Common/AudioManager"),
            _ = t("../Game/GameManager"),
            v = t("../../GameClient"),
            b = t("../../System/SkillSystem"),
            P = cc._decorator,
            C = P.ccclass,
            w = P.property,
            I = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.RopeCircle = null, e.PatrickParent = null, e.Rope = null, e.Miss = null, e.Bag = null, e.BagSMR = null, e.ModelMat = null, e.Treats = null, e.chargeEffect = null, e.Rainbow = null, e.Soot = null, e.DropCoinParent = null, e.TapHint = null, e.Patrick = null, e.PatrickUI = null, e.LightingOn = !1, e.CanPull = !1, e.targetPos = cc.Vec2.ZERO, e.bombPos = cc.Vec2.ZERO, e.pullCD = !1, e.currentAwardTimes = 0, e.SmallAwardTimes = 0, e.BigAwardTimes = 0, e.fishID = null, e.CountObj = null, e.CountLabel = null, e.fishAwardTime = 0, e.awardReady = !1, e.awardTimer = 0, e.pulling = !1, e.pullTimer = 0, e.movingAct = null, e.BG = null, e.voiceID = 0, e.DropCoins = [], e.OtherPlayerTimer = 0, e.fallTimer = 0, e.readySendFish = !1, e.newMat = null, e.m_iTouchCount = 0, e.hintClickCount = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = h.skillEnum.Patrick, this.limitTime = 120, this.DropCoins = this.DropCoinParent.getComponentsInChildren(cc.Animation)
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("PatrickSkill TimeOut"), this.Patrick && this.PatrickPullWin(), this.forceTimer = 0)), this.fallTimer > 0 && (this.fallTimer -= e), this.awardReady && this.awardTimer > 0 && (this.awardTimer -= e, this.awardTimer <= 0 && (this.SmallRainbow(!1), this.awardTimer = 0)), this.pulling && this.pullTimer > 0 && (this.pullTimer -= e, this.pullTimer <= 0 && (this.PatrickTreats(), this.pullTimer = 0)), this.Rope.node.active && this.UpdateRopePos(), this.Patrick && this.Soot.node.parent.setPosition(this.Patrick.node.getPosition()), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    if (void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentAwardTimes = 0, this.forceTime = 7.5, this.node.angle = p.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.LightingOn = !1, this.CanPull = !1, this.pullCD = !1, this.SmallAwardTimes = e.small_bomb_times_target, this.BigAwardTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random()), null == this.newMat) {
                        this.newMat = cc.MaterialVariant.create(this.ModelMat, this.BagSMR);
                        for (var n = this.BagSMR.node.getComponents(cc.Component), i = 0; i < n.length; i++) n[i] != this.BagSMR && this.newMat.setProperty("diffuseTexture", n[i].Texture);
                        this.BagSMR.setMaterial(0, this.newMat)
                    }
                    this.newMat.setProperty("diffuseColor", cc.Color.WHITE)
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (d.PlayerManager.Instance.isLockChangeBet = !1), f.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.Patrick && (this.Patrick.node.opacity = 255, this.Patrick.RemoveSelf(), this.Patrick = null), this.PatrickUI && (this.PatrickUI.Hide(!0), this.PatrickUI = null), this.RopeCircle.node.active = !1, this.Rope.node.active = !1, this.Miss.node.active = !1, this.chargeEffect.node.active = !1, this.tapHintActive(!1), this.CountObj && (y.default.DespawnEffect("10024C", this.CountObj), this.CountObj = null, this.CountLabel = null), this.Soot.emissionRate = 0, this.OtherPlayerTimer = 0, this.isMainPlayer && (console.warn("[SkillPatrick] SkillOver!!!!!!!!!!!! touch count = " + this.m_iTouchCount), m.LobbyClient.Instance && m.LobbyClient.Instance.GetUserClient && m.LobbyClient.Instance.GetUserClient.recordClickTimesLog("FishLuckyShamrock", 82, this.m_iTouchCount), this.m_iTouchCount = 0), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Patrick = g.default.Instance.GetFishByID(this.fishID.toString()), this.Patrick) {
                        this.isMainPlayer && (d.PlayerManager.Instance.isLockChangeBet = !0), f.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.Patrick.FishDie(), this.Patrick.PauseClip();
                        var e = p.default.isReverse ? this.Patrick.node.getPosition().neg() : this.Patrick.node.getPosition();
                        if (this.Patrick.node.setParent(this.PatrickParent), this.Patrick.node.setPosition(e), p.default.isReverse) {
                            var n = this.Patrick.node.angle;
                            this.Patrick.node.angle = n + 180
                        }
                        var i = cc.repeat(cc.sequence(cc.moveBy(.08, cc.v2(10, 10)), cc.moveBy(.08, cc.v2(-10, -10))), 10);
                        this.Patrick.node.runAction(i), this.RopeCircle.node.active = !0, this.RopeCircle.node.setPosition(e), this.RopeCircle.setAnimation(0, "rope", !1), this.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        }), S.default.Instance.Play("Patrick_catch_01"), this.forceTimer = this.forceTime, this.BG = _.default.Instance.BackgroundNow, this.BG && this.BG.BossCatch()
                    }
                }, e.prototype.RopeOver = function() {
                    var t = this;
                    this.PatrickUI = y.default.LoadGUI(h.skillEnum.Patrick).getComponent(c.default), this.PatrickUI && this.PatrickUI.Init(this.playerBet, this.playerSeat), this.RopeCircle.node.active = !1, S.default.Instance.Play("41_catch_bigfish"), this.Patrick.CoinEffect(), this.Patrick.node.runAction(cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                        t.Patrick.node.scale = 1, t.Patrick.node.angle = 0, t.Patrick.PlayClip("fall_b", !1)
                    }), cc.delayTime(.5), cc.callFunc(function() {
                        t.Patrick.PauseClip()
                    }), cc.delayTime(1), cc.callFunc(function() {
                        t.Patrick.ResumeClip(), t.Patrick.SetNextClip("run", !0, function() {
                            t.StartRunning(null, !1), t.CanPull = !0, t.Soot.emissionRate = 5, t.SendRangeFish()
                        })
                    }))), this.tapHintActive(!0), this.LightingOn = !0, this.Rope.node.active = !0, this.Rope.node.setPosition(f.default.WeaponUIPosition(this.playerSeat)), S.default.Instance.Fade(S.default.Instance.GetBGMID(), 1, 0), this.bgmID = S.default.Instance.Play("BGM_Patrick_03", 0, !0), S.default.Instance.Fade(this.bgmID, 0, 1), g.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = null;
                        this.currentAwardTimes < this.SmallAwardTimes ? (this.randomTargetPos(), t = g.default.Instance.GetRangeAttackableID(this.targetPos, 1200, 100)) : (this.targetPos = cc.Vec2.ZERO, t = g.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200)), this.bombPos = this.targetPos;
                        var e = {};
                        e.coordinateX = this.targetPos.x, e.coordinateY = this.targetPos.y, v.default.SkillSystem.SendRangeFish(b.SKILL_CMD_NAME.LUCKY_SHAMROCK_BOMB, t, e)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.randomTargetPos = function() {
                    var t = f.default.WeaponUIPosition(this.playerSeat).mul(.9);
                    p.default.isReverse || t.negSelf();
                    var e = Math.random();
                    Math.random() > .2 && (t.x > 0 && this.targetPos.x > 0 || t.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-t.x * (e + .7), t.y * (1 - e)) : this.targetPos = cc.v2(t.x * (e + .7), t.y * (1 - e))
                }, e.prototype.StartRunning = function(t, e) {
                    var n = this;
                    this.Patrick.node.stopAction(this.movingAct);
                    var i = p.default.isReverse ? this.targetPos.neg() : this.targetPos,
                        o = i.sub(this.Patrick.node.getPosition()).len() / (e ? 900 : 700);
                    this.Patrick.eulerTurn(i.x > 0 ? u.PatrickEuler.RunR : u.PatrickEuler.RunL, o / 2), this.movingAct = this.Patrick.node.runAction(cc.sequence(cc.moveTo(o, i), cc.callFunc(function() {
                        t && t(), n.randomTargetPos(), n.StartRunning(null, !1)
                    })))
                }, e.prototype.InitExplodeData = function(t) {
                    if (null != this.Patrick) {
                        this.isMainPlayer || null == t.coordinateX || null == t.coordinateY || (this.targetPos = cc.v2(t.coordinateX, t.coordinateY)), this.dieFishList.length = 0, this.winList.length = 0;
                        var e = t.fish;
                        this.oddsList = t.odds;
                        for (var n = 0; n < e.length; n++) this.dieFishList.push(g.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                        this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallAwardTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigAwardTimes = t.big_bomb_times_target), this.currentAwardTimes += 1, this.currentAwardTimes <= this.SmallAwardTimes ? (this.awardReady = !0, this.isMainPlayer ? this.awardTimer = .75 : this.SmallRainbow(!1)) : this.currentAwardTimes == this.SmallAwardTimes + 1 ? this.PatrickPull() : this.BigRainbow(), this.forceTimer = 0
                    } else {
                        var i = t.win;
                        d.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                    }
                }, e.prototype.SmallRainbow = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i = this;
                        return r(this, function() {
                            return this.CanPull && (this.Rope.node.active = !0), this.awardReady = !1, this.readySendFish = !0, this.CanPull = !1, this.Patrick.node.stopAction(this.movingAct), this.Patrick.eulerTurn(null), this.targetPos = this.bombPos, e = (parseInt(this.Patrick.ID) + this.currentAwardTimes) % 2 > 0, n = function() {
                                i.Patrick.SetNextClip(t ? e ? "fall_a" : "fall_b" : "jump", !1, function() {
                                    if (i.node && !i.isUnuse) {
                                        i.KillFish();
                                        var e = y.default.SpawnSkill("10024R", i.isMainPlayer);
                                        e && e.setPosition(p.default.isReverse ? i.Patrick.node.getPosition().neg() : i.Patrick.node.getPosition()), i.scheduleOnce(function() {
                                            i.CanPull = !0
                                        }, .2), S.default.Instance.Play(t ? "Patrick_fall_01" : "Patrick_jump_01")
                                    }
                                }, function() {
                                    i.node && !i.isUnuse && (i.Patrick.PlayClip("run", !0), i.Soot.emissionRate = 5, i.StartRunning(null, !0), i.AfterRainbow())
                                })
                            }, t ? n() : this.StartRunning(n.bind(this), !1), [2]
                        })
                    })
                }, e.prototype.AfterRainbow = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.readySendFish ? (this.readySendFish = !1, [4, this.delay(100)]) : [3, 4];
                                case 1:
                                    return t.sent(), this.currentAwardTimes < this.SmallAwardTimes ? (this.SendRangeFish(), [3, 4]) : [3, 2];
                                case 2:
                                    return [4, this.delay(900)];
                                case 3:
                                    t.sent(), this.BigAwardTimes > 0 ? this.SendRangeFish() : this.SmallAwardTimes % 2 > 0 ? this.PatrickPull() : this.PatrickEscape(), t.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.PatrickEscape = function() {
                    var t = this;
                    this.Patrick.node.stopAction(this.movingAct), this.Patrick.eulerTurn(null), this.Patrick.SetNextClip("fall_b", !1, function() {
                        t.node && !t.isUnuse && (t.Soot.emissionRate = 0, t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.Rope.node.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.node.angle, t.RopeCircle.node.setPosition(t.Rope.node.getPosition().add(t.Patrick.node.getPosition()).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                        }))
                    }, function() {
                        if (S.default.Instance.Play("Patrick_runaway_01"), t.Patrick) {
                            t.Patrick.PlayClip("run", !0), t.Soot.emissionRate = 5, t.targetPos = t.Patrick.node.position.x > 0 ? cc.v2(1136, 640) : cc.v2(-1136, 640), t.Patrick.eulerTurn(t.Patrick.node.position.x > 0 ? u.PatrickEuler.RunR : u.PatrickEuler.RunL, .2), t.Patrick.node.runAction(cc.moveBy(2, t.targetPos));
                            var e = t.Patrick.node.getPosition();
                            t.scheduleOnce(function() {
                                t.Miss.node.active = !0, t.Miss.node.setPosition(e), t.Miss.play()
                            }, .3)
                        }
                        t.PatrickUI && t.PatrickUI.ShowScore(t.totalWin, !1), t.SkillOver()
                    })
                }, e.prototype.PatrickPull = function() {
                    var t = this;
                    this.Soot.emissionRate = 0, this.CanPull = !1, this.Patrick.node.stopAction(this.movingAct), this.Patrick.eulerTurn(null), this.Patrick.SetNextClip("pull", !1, function() {
                        t.Patrick.eulerTurn(u.PatrickEuler.Pull, .5)
                    }, function() {
                        t.Patrick && (t.Patrick.PlayClip("pull_loop2", !0), t.CanPull = !0, t.pulling = !0, t.pullTimer = 4)
                    })
                }, e.prototype.PatrickPullWin = function() {
                    var t = this;
                    this.Patrick.node.stopAction(this.movingAct), this.Patrick.eulerTurn(null), this.Patrick.SetNextClip("lose", !1, function() {
                        t.node && !t.isUnuse && (t.Soot.emissionRate = 0, t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.Rope.node.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.node.angle, t.RopeCircle.node.setPosition(t.Rope.node.getPosition().add(t.Patrick.node.getPosition()).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                        }))
                    }, function() {
                        if (t.Patrick) {
                            t.Patrick.PlayClip("lose_loop", !0), S.default.Instance.Play("voice_fail_01");
                            var e = t.Patrick.node.getPosition();
                            t.scheduleOnce(function() {
                                t.Miss.node.active = !0, t.Miss.node.setPosition(e), t.Miss.play()
                            }, .6)
                        }
                        t.PatrickUI && t.PatrickUI.ShowScore(t.totalWin, !1), t.SkillOver()
                    })
                }, e.prototype.PatrickTreats = function() {
                    var t = this;
                    this.CanPull && (this.Rope.node.active = !0), S.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = S.default.Instance.Play("BGM_Patrick_04", 0, !0), S.default.Instance.Fade(this.bgmID, 0, 1), this.CanPull = !1, this.LightingOn = !1, this.pulling = !1, this.tapHintActive(!1), this.BigAwardTimes > 0 ? this.Patrick.SetNextClip("win", !1, function() {
                        if (S.default.Instance.Play("Patrick_success_01"), t.Bag) {
                            t.Bag.active = !0;
                            var e = t.Patrick.node.getPosition().add(cc.Vec2.RIGHT.mul(-80).add(cc.Vec2.UP.mul(-50)));
                            t.Bag.setPosition(p.default.isReverse ? e.neg() : e), t.Bag.runAction(cc.sequence(cc.scaleTo(.5, 1.5), cc.scaleTo(.25, 1), cc.moveTo(1, f.default.WeaponUIPosition(t.playerSeat)), cc.callFunc(function() {
                                t.Rope.node.active = !1
                            })))
                        }
                        t.Patrick.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                            t.Patrick.PauseClip(), t.Treats.play(), S.default.Instance.Play("Patrick_Raging_01"), S.default.Instance.Play("voice_Patrick_banner_02")
                        }), cc.delayTime(1.5), cc.callFunc(function() {
                            t.Patrick.ResumeClip()
                        }), cc.delayTime(1.6), cc.callFunc(function() {
                            t.Patrick.eulerTurn(u.PatrickEuler.win)
                        }), cc.spawn(cc.scaleTo(.5, 1.8), cc.moveTo(.5, cc.v2(-40, -80)))))
                    }, function() {
                        t.chargeEffect.node.active = !0, t.chargeEffect.play("ChargeLoop"), t.Patrick.PlayClip("win_loop2", !0, function() {
                            t.BigRainbow()
                        })
                    }) : this.PatrickPullWin()
                }, e.prototype.BigRainbow = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.chargeEffect.play("ChargeEnd"), this.currentAwardTimes == this.SmallAwardTimes + 1 ? this.voiceID = S.default.Instance.Play("voice_money_01") : S.default.Instance.isPlaying(this.voiceID) || (t = Math.random(), this.voiceID = t < .25 ? S.default.Instance.Play("voice_money_02") : t < .5 ? S.default.Instance.Play("voice_money_03") : t < .75 ? S.default.Instance.Play("voice_money_04") : S.default.Instance.Play("voice_money_05")), this.scheduleOnce(function() {
                                e.Rainbow && e.Rainbow.play();
                                for (var t = Math.floor(5 * Math.random()) + 15, n = function(t) {
                                        e.DropCoins[t].node.setPosition(cc.v2(1e3 * Math.random() - 500, 640 + 100 * Math.random())), e.DropCoins[t].node.angle = 90 * Math.random() - 45, e.DropCoins[t].node.scale = Math.random() + 1, e.DropCoins[t].node.active = !0, e.DropCoins[t].play(null, Math.random()), e.DropCoins[t].node.runAction(cc.sequence(cc.moveBy(Math.random() + 1.5, cc.v2(100 * Math.random() - 50, -1280)), cc.callFunc(function() {
                                            e.DropCoins[t].node.active = !1, e.DropCoins[t].stop()
                                        })))
                                    }, i = 0; i < t; i++) n(i)
                            }, .88), this.scheduleOnce(function() {
                                e.Patrick.SetNextClip("win_loop", !1, function() {
                                    e.node && !e.isUnuse && e.Patrick.node.runAction(cc.sequence(cc.delayTime(.2), cc.callFunc(function() {
                                        S.default.Instance.Play("Patrick_attack_01"), e.CameraShakeEffect(1.5, 5), e.KillFish(), null == e.CountObj && (e.CountObj = y.default.SpawnEffect("10024C", e.isMainPlayer), e.CountObj.angle = p.default.isReverse ? 180 : 0, e.CountObj.opacity = 255), e.CountObj && (null == e.CountLabel && (e.CountLabel = e.CountObj.getComponent(l.default)), e.CountLabel.setCount(e.currentAwardTimes - e.SmallAwardTimes), e.CountObj.runAction(cc.sequence(cc.scaleTo(.05, 2.5), cc.scaleTo(.3, 1))))
                                    })))
                                }, function() {
                                    e.node && !e.isUnuse && (e.currentAwardTimes < e.SmallAwardTimes + e.BigAwardTimes ? (e.chargeEffect.node.active = !0, e.chargeEffect.play("ChargeLoop"), e.Patrick.PlayClip("win_loop2", !0), e.scheduleOnce(function() {
                                        e.SendRangeFish()
                                    }, .5)) : (e.Patrick.PlayClip("nice", !1), S.default.Instance.Play("voice_end_01"), e.Patrick.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                                        S.default.Instance.Fade(e.bgmID, 1, 0), e.bgmID = S.default.Instance.Play("BGM_Patrick_04_1", 0, !1), S.default.Instance.Fade(e.bgmID, 0, 1), e.CountObj && e.CountObj.runAction(cc.fadeOut(1.5)), e.Patrick && (e.Patrick.node.opacity = 0)
                                    }), cc.delayTime(1.5), cc.callFunc(function() {
                                        e.PatrickUI && e.PatrickUI.ShowScore(e.totalWin, !0), e.Bag && (e.Bag.active = !1)
                                    }), cc.callFunc(e.SkillOver.bind(e))))))
                                })
                            }, 1), [2]
                        })
                    })
                }, e.prototype.KillFish = function(t) {
                    return void 0 === t && (t = !0), s(this, void 0, void 0, function() {
                        var e, n;
                        return r(this, function() {
                            return (e = {}).showScore = t, n = 1e3 * this.KillFishesAndShowAward(e), n += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < n ? n : this.fishAwardTime, this.currentWin = this.totalWin, this.PatrickUI && this.PatrickUI.SetScore(this.currentWin), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.CountObj && (this.CountObj.opacity = 0), this.Bag && (this.Bag.active = !1), this.BG && (this.BG.BossCatchEnd(), this.BG = null), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    if (this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 3 && (this.tapHintActive(!1), this.hintClickCount = 0), this.LightingOn && (this.Rope.play("RopeRainbow"), this.CanPull && !this.pullCD)) {
                        if (this.Patrick.node.stopAction(this.movingAct), this.Patrick.eulerTurn(null), this.pullCD = !0, S.default.Instance.Play("Patrick_Pull_01"), !S.default.Instance.isPlaying(this.voiceID)) {
                            var e = Math.random();
                            this.voiceID = e < .33 ? S.default.Instance.Play("voice_pull_01") : e < .66 ? S.default.Instance.Play("voice_pull_02") : S.default.Instance.Play("voice_pull_03")
                        }
                        var n = cc.Vec2.ZERO;
                        if (this.pulling) {
                            cc.Vec2.lerp(n, this.Patrick.node.getPosition(), this.Rope.node.getPosition(), .2);
                            var i = this.Patrick.node.getPosition();
                            this.Soot.emissionRate = 100, this.Patrick.node.runAction(cc.sequence(cc.moveTo(.6, n).easing(cc.easeBackOut()), cc.moveTo(.3, i), cc.callFunc(function() {
                                t.pullCD = !1, t.Soot.emissionRate = 0
                            }))), this.Patrick.PlayClip("pull_loop", !1, function() {
                                t.Patrick.PlayClip("pull_loop2", !0)
                            })
                        } else {
                            cc.Vec2.lerp(n, this.Patrick.node.getPosition(), this.Rope.node.getPosition(), .3);
                            var o = this.Rope.node.getPosition().sub(n).len() < 300;
                            if (this.Soot.emissionRate = 100, this.scheduleOnce(function() {
                                    t.pullCD = !1, t.Soot.emissionRate = 5
                                }, o ? 1.2 : .5), this.awardReady && this.fallTimer <= 0) this.fallTimer = 3, this.SmallRainbow(!0), this.Patrick.node.runAction(cc.moveTo(.6, n).easing(cc.easeBackOut()));
                            else {
                                this.awardReady && (this.awardReady = !1, this.readySendFish = !0, this.KillFish()), this.movingAct = this.Patrick.node.runAction(cc.sequence(cc.moveTo(.6, n).easing(cc.easeBackOut()), cc.callFunc(function() {
                                    t.AfterRainbow(), t.CanPull && t.StartRunning(null, !0)
                                })));
                                var a = y.default.SpawnSkill("10024R", this.isMainPlayer);
                                a && (a.setPosition(p.default.isReverse ? n.neg() : n), a.angle = p.default.isReverse ? 180 : 0)
                            }
                        }
                    }
                }, e.prototype.UpdateRopePos = function() {
                    var t = f.default.WeaponUIPosition(this.playerSeat),
                        e = cc.Vec2.ZERO;
                    this.Bag.active ? e = this.Bag.getPosition() : (e = p.default.ConvMousePos(this.Patrick.getRopePos), p.default.isReverse && e.negSelf()), this.Rope.node.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y) / 1050;
                    this.Rope.node.scaleY = i
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([w(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([w(cc.Node)], e.prototype, "PatrickParent", void 0), a([w(cc.Animation)], e.prototype, "Rope", void 0), a([w(cc.Animation)], e.prototype, "Miss", void 0), a([w(cc.Node)], e.prototype, "Bag", void 0), a([w(cc.SkinnedMeshRenderer)], e.prototype, "BagSMR", void 0), a([w(cc.Material)], e.prototype, "ModelMat", void 0), a([w(cc.Animation)], e.prototype, "Treats", void 0), a([w(cc.Animation)], e.prototype, "chargeEffect", void 0), a([w(cc.Animation)], e.prototype, "Rainbow", void 0), a([w(cc.ParticleSystem)], e.prototype, "Soot", void 0), a([w(cc.Node)], e.prototype, "DropCoinParent", void 0), a([w(cc.Animation)], e.prototype, "TapHint", void 0), a([C], e)
            }(h.default);
        n.default = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Fish/LUCKY_SHAMROCK": "LUCKY_SHAMROCK",
        "../Game/GameManager": "GameManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./SkillPatrickCount": "SkillPatrickCount",
        "./SkillPatrickUI": "SkillPatrickUI"
    }],
    SkillPig: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ea0fcrLiwBH4r8ZOojBprKv", "SkillPig");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../Player/PlayerManager"),
            u = t("../Weapon/WeaponManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Fish/FishManager"),
            f = t("../Common/AudioManager"),
            y = t("../../GameClient"),
            m = t("../../System/SkillSystem"),
            g = t("../Fish/PIG"),
            S = t("./BaseSkillTitleUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Root = null, e.RopeCircle = null, e.PigParent = null, e.Rope = null, e.Miss = null, e.AwakenAnim = null, e.TapHint = null, e.Hand = null, e.BgEffect = null, e.SparkEffect = null, e.Pig = null, e.PigUI = null, e.LightingOn = !1, e.CanPull = !1, e.targetPos = cc.Vec2.ZERO, e.bombPos = cc.Vec2.ZERO, e.pullCD = !1, e.currentBombTimes = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.fishID = null, e.CountObj = null, e.CountLabel = null, e.ShowingCount = 0, e.TargetCount = 0, e.countTween = null, e.fishAwardTime = 0, e.bombTimer = 0, e.movingTween = null, e.OtherPlayerTimer = 0, e.hintClickCount = 0, e.randomSeed = 0, e.RE = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Pig, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("PigSkill TimeOut"), this.Pig && (this.currentBombTimes > this.SmallBombTimes ? this.PigEscape() : this.SkillOver()), this.forceTimer = 0)), this.bombTimer > 0 && (this.bombTimer -= e, this.bombTimer <= 0 && (this.currentBombTimes <= this.SmallBombTimes ? this.SmallBomb() : this.BigBomb(), this.bombTimer = 0)), this.Rope.node.active && this.UpdateRopePos(), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombTimes = 0, this.ShowingCount = 0, this.TargetCount = 0, this.forceTime = 15, this.hintClickCount = 0, this.node.angle = l.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.RE = l.default.isReverse ? this.playerSeat < 2 : this.playerSeat > 1, this.fishID = e.id, this.randomSeed = this.fishID, this.LightingOn = !1, this.CanPull = !1, this.pullCD = !1, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random())
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (h.PlayerManager.Instance.isLockChangeBet = !1), u.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.Pig && (this.Pig.Hand.active = !1, this.Pig.node.opacity = 255, this.Pig.RemoveSelf(), this.Pig = null), this.PigUI && (this.PigUI.Hide(!0), this.PigUI = null), this.Root.setScale(1), this.Root.setPosition(cc.Vec2.ZERO), this.AwakenAnim.node.active = !1, this.BgEffect.node.active = !1, this.RopeCircle.node.active = !1, this.Rope.node.active = !1, this.Miss.node.active = !1, this.SparkEffect.emissionRate = 0, this.tapHintActive(!1), this.CountObj && (p.default.DespawnEffect("Skill_PigCount", this.CountObj), this.CountObj = null, this.CountLabel = null), this.OtherPlayerTimer = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    this.Pig = d.default.Instance.GetFishByID(this.fishID.toString()), this.Pig && (this.isMainPlayer && (h.PlayerManager.Instance.isLockChangeBet = !0), u.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.Pig.FishDie(), cc.tween(this.Pig.node).repeat(10, cc.tween().by(.1, {
                        position: cc.v3(10, 10)
                    }).by(.1, {
                        position: cc.v3(-10, -10)
                    })).delay(.5).call(function() {
                        f.default.Instance.Play("Pig_catch_01"), t.Pig.PlayClip("03_Capture", !1), t.Pig.CoinEffect(), t.RopeCircle.node.active = !0;
                        var e = l.default.ConvMousePos(t.Pig.getRopePos);
                        l.default.isReverse && e.negSelf(), t.RopeCircle.node.setPosition(e), t.RopeCircle.setAnimation(0, "rope", !1), t.RopeCircle.timeScale = .8, t.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        })
                    }).start(), this.forceTimer = this.forceTime)
                }, e.prototype.RopeOver = function() {
                    this.PigUI = p.default.LoadGUI(c.skillEnum.Pig).getComponent(S.default), this.PigUI && this.PigUI.Init(this.playerBet, this.playerSeat), this.RopeCircle.node.active = !1, this.Pig.node.setParent(this.PigParent), this.Pig.node.angle = 0, this.Pig.node.setScale(1);
                    var t = l.default.ConvMousePos(this.Pig.getRopePos);
                    this.Pig.node.setPosition(t), this.Pig.ResetPos(), this.Pig.ResumeClip(), this.Pig.PlayClip("07_RunRun", !0), this.Pig.eulerTurn(this.RE ? g.PigEuler.RunL : g.PigEuler.RunR), this.randomTargetPos(), this.StartRunning(), this.tapHintActive(!0), this.LightingOn = !0, this.Rope.node.active = !0, this.Rope.node.setPosition(u.default.WeaponUIPosition(this.playerSeat)), f.default.Instance.Fade(f.default.Instance.GetBGMID(), 1, 0), this.bgmID = f.default.Instance.Play("BGM_Pig_03_1", 0, !0), f.default.Instance.Fade(this.bgmID, 0, 1), d.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.randomTargetPos = function() {
                    var t = u.default.WeaponUIPosition(this.playerSeat).mul(.9);
                    l.default.isReverse || t.negSelf();
                    var e = this.randomBySeed();
                    this.randomBySeed() > .2 && (t.x > 0 && this.targetPos.x > 0 || t.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-t.x * (e + .7), t.y * (1 - e)) : this.targetPos = cc.v2(t.x * (e + .7), t.y * (1 - e))
                }, e.prototype.StartRunning = function() {
                    var t = this;
                    this.movingTween && this.movingTween.stop();
                    var e = l.default.isReverse ? this.targetPos.neg() : this.targetPos,
                        n = e.sub(this.Pig.node.getPosition()).len() / 600;
                    this.Pig.eulerTurn(e.x > 0 ? this.RE ? g.PigEuler.RunL : g.PigEuler.RunR : this.RE ? g.PigEuler.RunR : g.PigEuler.RunL, n / 2), this.movingTween = cc.tween(this.Pig.node).to(n, {
                        position: cc.v3(e)
                    }).delay(.5).call(function() {
                        t.currentBombTimes < t.SmallBombTimes ? t.PigPull() : t.BigBombTimes > 0 ? t.Awaken() : t.PigEscape()
                    }).start()
                }, e.prototype.PigPull = function() {
                    var t = this;
                    this.movingTween && this.movingTween.stop(), this.Pig.eulerTurn(null), this.Pig.SetNextClip("13_newTurn", !1, null, function() {
                        t.node && !t.isUnuse && (t.Pig.PlayClip("04_Struggle", !0), t.CanPull = !0, t.bombTimer = 3, t.SendRangeFish())
                    })
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = null;
                        this.currentBombTimes < this.SmallBombTimes ? (this.randomTargetPos(), t = d.default.Instance.GetRangeAttackableID(this.targetPos, 1200, 100)) : (this.targetPos = cc.Vec2.ZERO, t = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200)), this.bombPos = this.targetPos;
                        var e = {};
                        e.coordinateX = this.targetPos.x, e.coordinateY = this.targetPos.y, y.default.SkillSystem.SendRangeFish(m.SKILL_CMD_NAME.PIG_BOMB, t, e)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (null != this.Pig) {
                        this.isMainPlayer || null == t.coordinateX || null == t.coordinateY || (this.targetPos = cc.v2(t.coordinateX, t.coordinateY)), this.dieFishList.length = 0, this.winList.length = 0;
                        var e = t.fish;
                        this.oddsList = t.odds;
                        for (var n = 0; n < e.length; n++) this.dieFishList.push(d.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                        this.TargetCount += Math.floor(1.5 * e.length), this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombTimes += 1, this.currentBombTimes > this.SmallBombTimes && this.bombTimer > 0 && (this.BigBomb(), this.bombTimer = 0), this.forceTimer = 0
                    } else {
                        var i = t.win;
                        h.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                    }
                }, e.prototype.SmallBomb = function() {
                    var t = this;
                    this.CanPull && (this.Rope.node.active = !0, this.CanPull = !1), this.movingTween && this.movingTween.stop(), this.Pig.eulerTurn(null), this.targetPos = this.bombPos, this.Pig.SetNextClip("05_Catch", !1, function() {
                        t.node && !t.isUnuse && t.scheduleOnce(function() {
                            f.default.Instance.Play("Pig_fall_01"), t.CameraShakeEffect(1.5, 3), t.KillFish()
                        }, .3)
                    }, function() {
                        t.node && !t.isUnuse && t.scheduleOnce(function() {
                            t.Pig.PlayClip("06_Runaway", !1, function() {
                                t.Pig.PlayClip("07_RunRun", !0), t.scheduleOnce(function() {
                                    t.randomTargetPos(), t.StartRunning()
                                }, .2)
                            })
                        }, .5)
                    })
                }, e.prototype.PigEscape = function() {
                    var t = this;
                    this.movingTween && this.movingTween.stop(), this.Pig.eulerTurn(null), this.CanPull = !0, this.scheduleOnce(function() {
                        if (t.node && !t.isUnuse) {
                            f.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = f.default.Instance.Play("BGM_Pig_03_2", 0, !0), f.default.Instance.Fade(t.bgmID, 0, 1), f.default.Instance.Play("Pig_runaway_01"), t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.Rope.node.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.node.angle, t.RopeCircle.node.setPosition(t.Rope.node.getPosition().add(t.Pig.node.getPosition()).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                                t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                            });
                            var e = l.default.ConvMousePos(t.Pig.getRopePos);
                            l.default.isReverse && e.negSelf(), t.targetPos = t.Pig.node.position.x > 0 ? cc.v2(1136, 640) : cc.v2(-1136, 640), cc.tween(t.Pig.node).to(1, {
                                position: cc.v3(t.targetPos)
                            }).start(), t.scheduleOnce(function() {
                                t.node && !t.isUnuse && (t.Miss.node.active = !0, t.Miss.node.setPosition(e), t.Miss.play(), t.SkillOver())
                            }, .5)
                        }
                    }, 3)
                }, e.prototype.Awaken = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.movingTween && this.movingTween.stop(), this.movingTween = cc.tween(this.Pig.node).to(.75, {
                                        position: cc.v3(0, 90, 0)
                                    }).call(function() {
                                        t.CanPull = !0
                                    }).start(), this.Pig.eulerTurn(this.playerSeat % 2 == 0 ? this.RE ? g.PigEuler.RunL : g.PigEuler.RunR : this.RE ? g.PigEuler.RunR : g.PigEuler.RunL, .75), [4, this.delay(2500)];
                                case 1:
                                    return e.sent(), this.Pig.SetNextClip("08_Cotcha", !1, function() {
                                        t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.movingTween && t.movingTween.stop(), t.Pig.eulerTurn(g.PigEuler.Cotcha, .5), t.movingTween = cc.tween(t.Pig.node).to(.4, {
                                            position: cc.v3(0, 20, 0)
                                        }).call(function() {
                                            f.default.Instance.Play("Pig_fall_01"), t.CameraShakeEffect(1.5, 3)
                                        }).delay(1).call(function() {
                                            if (f.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = f.default.Instance.Play("BGM_Pig_04_1", 0, !0), f.default.Instance.Fade(t.bgmID, 0, 1), f.default.Instance.Play("Pig_Raging_01"), f.default.Instance.Play("voice_pig_fever_01"), t.AwakenAnim.node.active = !0, t.AwakenAnim.play(), t.Rope.node.active = !1, t.isMainPlayer) t.BgEffect.node.active = !0, t.BgEffect.play("BG_BlackFadeIn");
                                            else {
                                                var e = cc.v3(u.default.WeaponUIPosition(t.playerSeat)).add(cc.Vec3.UP.mul(t.playerSeat > 1 ? -300 : 200));
                                                l.default.isReverse && e.addSelf(cc.Vec3.UP.mul(t.playerSeat > 1 ? 600 : -400)), cc.tween(t.Root).to(1, {
                                                    scale: .5,
                                                    position: e
                                                }).start(), t.Pig.ParticalHalfSize()
                                            }
                                        }).delay(3).call(function() {
                                            f.default.Instance.Play("Pig_hand_01"), t.Hand.node.active = !0, t.Hand.play("09_intro"), t.Pig.PlayClip("09_intro", !1, function() {
                                                t.Pig.PlayClip("10_shak_loop", !0), t.Hand.stop(), t.Hand.node.active = !1, t.Pig.Hand.active = !0, t.SendRangeFish(), t.bombTimer = 3
                                            })
                                        }).delay(.6).call(function() {
                                            t.CameraShakeEffect(3, 6), t.BgEffect.play("BG_EffectFadeIn")
                                        }).delay(.8).call(function() {
                                            t.SparkEffect.emissionRate = 40
                                        }).start()
                                    }), [2]
                            }
                        })
                    })
                }, e.prototype.BigBomb = function() {
                    var t = this,
                        e = this.currentBombTimes >= this.SmallBombTimes + this.BigBombTimes;
                    this.Pig.SetNextClip(e ? "12_outro" : "11_shak_money_loop", !1, function() {
                        t.node && !t.isUnuse && (e || t.scheduleOnce(function() {
                            f.default.Instance.Play("Pig_shake_01")
                        }, .5), t.scheduleOnce(function() {
                            e ? (f.default.Instance.Play("Pig_final_01"), t.SparkEffect.emissionRate = 0) : f.default.Instance.Play("Pig_shake_02"), t.setCountNumber(), t.KillFish()
                        }, 1))
                    }, function() {
                        t.node && !t.isUnuse && (e ? cc.tween(t.Pig.node).delay(.5).call(function() {
                            f.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = f.default.Instance.Play("BGM_Pig_04_2", 0, !1), f.default.Instance.Fade(t.bgmID, 0, 1)
                        }).delay(2.5).to(1, {
                            opacity: 0
                        }).call(function() {
                            t.SkillOver()
                        }).start() : (t.Pig.PlayClip("10_shak_loop", !0), t.SendRangeFish(), t.bombTimer = 3))
                    })
                }, e.prototype.KillFish = function(t) {
                    void 0 === t && (t = !0);
                    var e = {};
                    e.showScore = t;
                    var n = 1e3 * this.KillFishesAndShowAward(e);
                    n += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < n ? n : this.fishAwardTime, this.currentWin = this.totalWin, this.PigUI && this.PigUI.SetScore(this.currentWin)
                }, e.prototype.SkillOver = function() {
                    var t = this;
                    this.CountObj && (this.countTween && (this.countTween.stop(), this.CountLabel.string = this.TargetCount.toString()), cc.tween(this.CountObj).to(1, {
                        opacity: 0
                    }).start()), this.BgEffect.play("BG_AllFadeOut"), this.PigUI && this.PigUI.ShowScore(this.totalWin, this.BigBombTimes > 0);
                    var e = (new Date).getTime();
                    this.fishAwardTime = this.fishAwardTime > e ? this.fishAwardTime - e : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                        t.UnUseSkill()
                    })))
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    if (this.isMainPlayer && this.hintClickCount++, this.hintClickCount >= 3 && (this.tapHintActive(!1), this.hintClickCount = 0), this.LightingOn && (this.Rope.play("RopeLighting"), this.CanPull && !this.pullCD)) {
                        this.movingTween && this.movingTween.stop(), this.Pig.eulerTurn(null), this.Pig.EnableSmokeEffect(), this.pullCD = !0, f.default.Instance.Play("Patrick_Pull_01");
                        var e = cc.Vec2.ZERO;
                        cc.Vec2.lerp(e, this.Pig.node.getPosition(), this.Rope.node.getPosition(), .15);
                        var n = cc.Vec2.ZERO;
                        cc.Vec2.lerp(n, this.Pig.node.getPosition(), this.Rope.node.getPosition(), .1), this.movingTween = cc.tween(this.Pig.node).to(.6, {
                            position: cc.v3(e)
                        }, {
                            easing: "backOut"
                        }).to(.3, {
                            position: cc.v3(n)
                        }).start(), this.scheduleOnce(function() {
                            t.pullCD = !1
                        }, .9)
                    }
                }, e.prototype.setCountNumber = function() {
                    var t = this;
                    if (this.isMainPlayer) {
                        null == this.CountObj && (this.CountObj = p.default.SpawnEffect("Skill_PigCount", this.isMainPlayer), this.CountObj.opacity = 255, this.CountObj.angle = l.default.isReverse ? 180 : 0, this.CountLabel = this.CountObj.getComponentInChildren(cc.Label), this.CountLabel.string = "1"), this.countTween && this.countTween.stop();
                        var e = this.TargetCount - this.ShowingCount;
                        this.countTween = cc.tween(this.CountObj).repeat(e, cc.tween().call(function() {
                            t.CountLabel.string = (t.ShowingCount += 1).toString()
                        }).to(0, {
                            scale: 1.1
                        }).to(.08, {
                            scale: 1
                        })).start()
                    }
                }, e.prototype.UpdateRopePos = function() {
                    var t = u.default.WeaponUIPosition(this.playerSeat),
                        e = cc.Vec2.ZERO;
                    e = l.default.ConvMousePos(this.Pig.getRopePos), l.default.isReverse && e.negSelf(), this.Rope.node.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y) / 440;
                    this.Rope.node.scaleY = i
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, e.prototype.randomBySeed = function() {
                    return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
                }, a([b(cc.Node)], e.prototype, "Root", void 0), a([b(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([b(cc.Node)], e.prototype, "PigParent", void 0), a([b(cc.Animation)], e.prototype, "Rope", void 0), a([b(cc.Animation)], e.prototype, "Miss", void 0), a([b(cc.Animation)], e.prototype, "AwakenAnim", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([b(cc.SkeletonAnimation)], e.prototype, "Hand", void 0), a([b(cc.Animation)], e.prototype, "BgEffect", void 0), a([b(cc.ParticleSystem)], e.prototype, "SparkEffect", void 0), a([v], e)
            }(c.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Fish/PIG": "PIG",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./BaseSkillTitleUI": "BaseSkillTitleUI"
    }],
    SkillPoseidon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "032abWecR9NhYuhJEVqAjyP", "SkillPoseidon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Fish/FishManager"),
            f = t("../Player/PlayerManager"),
            y = t("../Player/UserInfoController"),
            m = t("./BaseSkill"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property,
            v = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.jew_anim = null, e.lighting = null, e.laber_count = null, e.skeletons = null, e.Atk_anim = null, e.explode_count = null, e.scoreUI = null, e.skeleton_list = new Array, e.fishAwardTime = 0, e.fishID = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.limitTime = 120, this.skeleton_list = this.skeletons.getComponentsInChildren(cc.SkeletonAnimation)
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.laber_count.string = "1", this.currentWin = 0, this.jew_anim.node.opacity = 255, this.jew_anim.node.active = !1, this.jew_anim.node.setPosition(cc.Vec2.ZERO), this.explode_count = 1, this.lighting.node.active = !1, this.jew_anim.node.angle = this.playerSeat > 1 ? 180 : 0, this.fishID = e.bomb_fish_id, this.playerBet = e.bet
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return t = cc.Vec2.ZERO, (e = d.default.Instance.GetFishByID("" + this.fishID)) && (t = this.node.parent.convertToNodeSpaceAR(e.getFishPos()), e.FishDie(this.playerSeat)), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), (n = p.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, n ? (n.setPosition(t), [4, this.delay(500)]) : [3, 3];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return this.jew_anim.node.setPosition(t), this.jew_anim.node.angle = c.default.isReverse ? 180 : 0, this.jew_anim.node.active = !0, this.jew_anim.play("jew_init"), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), u.default.Instance.Play("effect_PO_die"), this.jew_anim.node.runAction(cc.moveTo(1, cc.Vec2.ZERO)), this.CreateSkillTitle(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("FD_out01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), this.scoreUI = f.PlayerManager.getUserCtrl(this.playerSeat).getScoreUI(y.ScoreUIType.Awake), this.scoreUI.Init(this.playerBet), [4, this.delay(2e3)];
                                case 5:
                                    return i.sent(), this.SendBombRange(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.jew_anim.stop(), this.lighting.stop(), this.explode_count = null, t.prototype.UnUseSkill.call(this)
                }, e.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var t = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.MERMAID_BOMB, t)
                    }
                }, e.prototype.onPoseidonBomb = function(t) {
                    return void 0 === t && (t = null), s(this, void 0, void 0, function() {
                        var e, n, i, o, a, s, c, l;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (this.dieFishList.length = 0, this.winList.length = 0, e = t.fish, o = 0; o < e.length; o++) n = d.default.Instance.GetFishByID("" + e[o]), this.dieFishList.push(n);
                                    for (i = t.odds, o = 0; o < i.length; o++) this.winList.push(this.playerBet * i[o]);
                                    return this.skeletons.active = !0, this.skeleton_list.forEach(function(t) {
                                        t.play("attack"), t.once("lastframe", function() {
                                            t.stop()
                                        })
                                    }), this.Atk_anim.play(), [4, this.delay(800)];
                                case 1:
                                    return r.sent(), u.default.Instance.Play("effect_PO_wave1"), [4, this.delay(1800)];
                                case 2:
                                    return r.sent(), u.default.Instance.Play("effect_PO_wave2"), [4, this.delay(200)];
                                case 3:
                                    return r.sent(), a = t.continue, this.explode_count = t.bomb_times_cnt + (a ? 1 : 0), s = t.win, this.currentWin += s, this.onAddExplodeCount(), this.lighting.node.active = !0, this.lighting.play("Explosion"), this.CameraShakeEffect(3, 1), this.CameraShakeEffect(1.5, 4), c = 1e3 * this.KillFishesAndShowAward(), c += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < c ? c : this.fishAwardTime, u.default.Instance.Play("effect_PO_wave3"), [4, this.delay(2e3)];
                                case 4:
                                    return r.sent(), a ? (this.SendBombRange(), [3, 8]) : [3, 5];
                                case 5:
                                    return u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("FD_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), this.skeletons.active = !1, this.jew_anim.play("jew_over"), l = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > l ? this.fishAwardTime - l : 0, this.fishAwardTime -= 1500, [4, this.delay(this.fishAwardTime > 0 ? this.fishAwardTime : 0)];
                                case 6:
                                    return r.sent(), this.scoreUI && (this.scoreUI.FadeOutAnim(), this.scoreUI = null), this.totalWin = t.total_win, this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 7:
                                    r.sent(), this.UnUseSkill(), r.label = 8;
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.onAddExplodeCount = function() {
                    this.laber_count.string = "" + this.explode_count, this.jew_anim.node.runAction(cc.sequence(cc.scaleTo(.4, .7), cc.scaleTo(0, 1.6), cc.scaleTo(1, .8))), this.scoreUI.SetScore(this.currentWin)
                }, a([_(cc.Animation)], e.prototype, "jew_anim", void 0), a([_(cc.Animation)], e.prototype, "lighting", void 0), a([_(cc.Label)], e.prototype, "laber_count", void 0), a([_(cc.Node)], e.prototype, "skeletons", void 0), a([_(cc.Animation)], e.prototype, "Atk_anim", void 0), a([S], e)
            }(m.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/UserInfoController": "UserInfoController",
        "./BaseSkill": "BaseSkill"
    }],
    SkillRagingDragon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a1a5dgz8RVFk7Am1SujoHIm", "SkillRagingDragon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../GameClient"),
            u = t("../../System/SkillSystem"),
            p = t("../Common/AudioManager"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = t("./RagingDragonUI"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.RopeCircle = null, e.DragonParent = null, e.Rope = null, e.Lighting = null, e.GettingAway = null, e.Madness = null, e.EarthQuake = [], e.TapHint = null, e.Dragon = null, e.DragonUI = null, e.LightingOn = !1, e.CanPull = !1, e.targetPos = cc.Vec2.ZERO, e.pollCD = !1, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.fishID = null, e.CountObj = null, e.CountLabel = null, e.fishAwardTime = 0, e.m_iTouchCount = 0, e.hintClickCount = 0, e.OtherPlayerTimer = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.Buffalo, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("RagingDragon TimeOut"), this.Dragon && (this.currentBombNumber > this.SmallBombTimes ? (this.isUnuse = !0, this.BigWin()) : this.DragonEscape()), this.forceTimer = 0)), this.Rope.active && this.UpdateRopePos(), !this.isMainPlayer && this.OtherPlayerTimer > 0 && (this.OtherPlayerTimer -= e, this.OtherPlayerTimer <= 0 && (this.OnTouchStart(null), this.OtherPlayerTimer = 1 + 3 * Math.random()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.LightingOn = !1, this.CanPull = !1, this.pollCD = !1, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target, this.isMainPlayer || (this.OtherPlayerTimer = 1 + 3 * Math.random())
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !1), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.Dragon && (this.Dragon.RemoveSelf(), this.Dragon = null), this.DragonUI && (this.DragonUI.Hide(!0), this.DragonUI = null), this.RopeCircle.node.active = !1, this.Rope.active = !1, this.Lighting.node.active = !1, this.GettingAway.node.active = !1, this.Madness.node.active = !1, this.tapHintActive(!1), this.CountObj && (d.default.DespawnEffect("10023C", this.CountObj), this.CountObj = null, this.CountLabel = null), this.EarthQuake[0].node.parent.setParent(this.node), this.isMainPlayer && (l.LobbyClient.Instance.GetUserClient.recordClickTimesLog("FishKingKong", 81, this.m_iTouchCount), this.m_iTouchCount = 0), this.OtherPlayerTimer = 0, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Dragon = f.default.Instance.GetFishByID(this.fishID.toString()), !this.Dragon && this.isMainPlayer && (this.Dragon = f.default.Instance.CreateFakeFish(this.fishID.toString(), 35, new cc.Vec2(700, 360), 10)), this.Dragon) {
                        this.isMainPlayer && (y.PlayerManager.Instance.isLockChangeBet = !0), m.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.Dragon.FishDie(), this.Dragon.PauseClip();
                        var e = this.Dragon.node.angle,
                            n = c.default.isReverse ? this.Dragon.node.position.neg() : this.Dragon.node.position;
                        this.Dragon.node.setParent(this.DragonParent), this.Dragon.node.setPosition(n), this.Dragon.node.angle = c.default.isReverse ? e + 180 : e;
                        var i = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.Dragon.node.runAction(i), this.RopeCircle.node.active = !0, this.RopeCircle.node.setPosition(n), this.RopeCircle.setAnimation(0, "rope", !1), this.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        }), p.default.Instance.Play("Dragon_catch_01"), this.EarthQuake[0].node.parent.setParent(d.default.Instance.Background)
                    }
                }, e.prototype.RopeOver = function() {
                    var t = this;
                    this.DragonUI = d.default.LoadGUI(g.skillEnum.Buffalo).getComponent(S.default), this.DragonUI && this.DragonUI.Init(this.playerBet, this.playerSeat), this.RopeCircle.node.active = !1, p.default.Instance.Play("41_catch_bigfish"), this.Dragon.CoinEffect(), this.Dragon.PlayClip("anti_catch", !0, function() {
                        t.CanPull = !0
                    }), this.tapHintActive(!0), this.LightingOn = !0, this.Rope.active = !0, this.Rope.setPosition(m.default.WeaponUIPosition(this.playerSeat)), this.Lighting.node.active = !0, this.Lighting.node.setPosition(m.default.WeaponUIPosition(this.playerSeat)), p.default.Instance.Fade(p.default.Instance.GetBGMID(), 1, 0), this.bgmID = p.default.Instance.Play("BGM_Dragon_03", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), this.scheduleOnce(this.SendRangeFish.bind(this), 1.5), f.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = null;
                        if (this.currentBombNumber < this.SmallBombTimes) {
                            var e = m.default.WeaponUIPosition(this.playerSeat).mul(.8);
                            c.default.isReverse || e.negSelf();
                            var n = Math.random();
                            Math.random() > .2 && (e.x > 0 && this.targetPos.x > 0 || e.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-e.x * n, e.y * (1 - n)) : this.targetPos = cc.v2(e.x * n, e.y * (1 - n)), t = f.default.Instance.GetRangeAttackableID(this.targetPos, 1200, 100)
                        } else this.targetPos = cc.Vec2.ZERO, t = f.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 200);
                        var i = {};
                        i.coordinateX = this.targetPos.x, i.coordinateY = this.targetPos.y, h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.BUFFALO_BOMB, t, i)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (this.node && !this.isUnuse)
                        if (null != this.Dragon) {
                            this.isMainPlayer || null == t.coordinateX || null == t.coordinateY || (this.targetPos = cc.v2(t.coordinateX, t.coordinateY)), this.dieFishList.length = 0, this.winList.length = 0;
                            var e = t.fish;
                            this.oddsList = t.odds;
                            for (var n = 0; n < e.length; n++) this.dieFishList.push(f.default.Instance.GetFishByID(e[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                            this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.currentBombNumber <= this.SmallBombTimes ? this.SmallExplode() : this.currentBombNumber == this.SmallBombTimes + 1 ? this.scheduleOnce(this.BuffaloCrazy, 1) : this.BigExplode(), this.forceTimer = 0
                        } else {
                            var i = t.win;
                            y.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, i, null)
                        }
                    else this.Dragon && console.error("Dragon")
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.active = !0, this.Dragon.SetNextClip("capture_normal", !1, function() {
                                        t.node && !t.isUnuse && (t.CanPull = !1, t.Dragon.node.runAction(cc.sequence(cc.delayTime(.2), cc.callFunc(function() {
                                            t.Dragon.node.angle = 0, c.default.isReverse ? t.Dragon.node.setScale(t.targetPos.x < 0 ? 1 : -1, 1) : t.Dragon.node.setScale(t.targetPos.x < 0 ? -1 : 1, 1)
                                        }), cc.delayTime(.65), cc.moveTo(.5, c.default.isReverse ? t.targetPos.neg() : t.targetPos), cc.callFunc(function() {
                                            t.ShowEarthQuake(t.targetPos, !1), t.KillFish()
                                        }))))
                                    }, function() {
                                        t.node && !t.isUnuse && (t.Dragon.PlayClip("anti_catch", !0), t.CanPull = !0)
                                    }), [4, this.delay(3200)];
                                case 1:
                                    return e.sent(), this.currentBombNumber < this.SmallBombTimes || this.BigBombTimes > 0 ? this.SendRangeFish() : this.DragonEscape(), [2]
                            }
                        })
                    })
                }, e.prototype.DragonEscape = function() {
                    var t = this;
                    this.Dragon.SetNextClip("escape", !1, function() {
                        t.node && !t.isUnuse && (p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_Dragon_03_2"), p.default.Instance.Play("Dragon_runaway_01"), t.CanPull = !1, t.LightingOn = !1, t.tapHintActive(!1), t.scheduleOnce(function() {
                            t.Rope.active = !1, t.Lighting.node.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.angle, t.RopeCircle.node.setPosition(t.Rope.position.add(t.Dragon.node.position).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                                t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                            })
                        }, .8))
                    }, function() {
                        if (t.Dragon) {
                            t.Dragon.PlayClip("run", !0);
                            var e = t.Dragon.node.getPosition().add(cc.Vec2.RIGHT.mul(-1 == t.Dragon.node.scaleX ? -1136 : 1136));
                            t.Dragon.node.runAction(cc.moveTo(2, e));
                            var n = t.Dragon.node.getPosition();
                            t.scheduleOnce(function() {
                                t.GettingAway.node.active = !0, t.GettingAway.node.setPosition(n), t.GettingAway.play()
                            }, .3)
                        }
                        t.DragonUI && t.DragonUI.ShowScore(t.totalWin, !1), t.SkillOver()
                    })
                }, e.prototype.BuffaloCrazy = function() {
                    var t = this;
                    this.Rope.active = !0, p.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = p.default.Instance.Play("BGM_Dragon_04", 1, !0), p.default.Instance.Fade(this.bgmID, 0, 1), this.CanPull = !1, this.LightingOn = !1, this.tapHintActive(!1), this.Madness.node.active = !0, this.Madness.play(), p.default.Instance.Play("Dragon_furytitle_01"), p.default.Instance.Play("voice_dragon_banner_02"), this.Dragon.PlayClip("capture_crazy_loop", !0), this.Dragon.PauseClip();
                    var e = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                    this.Dragon.node.runAction(e), this.scheduleOnce(function() {
                        t.Dragon.PlayClip("capture_crazy_loop", !0), t.BigExplode()
                    }, 2)
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Rope.active = !0, this.Dragon.SetNextClip("capture_crazy", !1, function() {
                                        t.node && !t.isUnuse && t.Dragon.node.runAction(cc.sequence(cc.delayTime(.3), cc.moveTo(.5, t.targetPos), cc.delayTime(.45), cc.callFunc(function() {
                                            t.ShowEarthQuake(t.targetPos, !0), t.KillFish(), null == t.CountObj && (t.CountObj = d.default.SpawnEffect("10023C", t.isMainPlayer)), t.CountObj && (null == t.CountLabel && (t.CountLabel = t.CountObj.getComponentInChildren(cc.Label)), t.CountObj.angle = c.default.isReverse ? 180 : 0, t.CountObj.opacity = 255, t.CountLabel.string = (t.currentBombNumber - t.SmallBombTimes).toString(), t.CountObj.runAction(cc.sequence(cc.scaleTo(.05, 2.5), cc.scaleTo(.3, 1))))
                                        })))
                                    }, function() {
                                        t.node && !t.isUnuse && t.Dragon.PlayClip("capture_crazy_loop", !0)
                                    }), [4, this.delay(2150)];
                                case 1:
                                    return e.sent(), this.currentBombNumber < this.SmallBombTimes + this.BigBombTimes ? this.SendRangeFish() : this.BigWin(), [2]
                            }
                        })
                    })
                }, e.prototype.BigWin = function() {
                    var t = this;
                    this.Dragon.SetNextClip("catch", !1, function() {
                        t.targetPos = m.default.WeaponUIPosition(t.playerSeat).add(cc.v2(-1 == t.Dragon.node.scaleX ? 160 : -160, c.default.isReverse ? -80 : 80)), t.Dragon.node.runAction(cc.moveTo(2, t.targetPos)), t.Dragon.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            t.Rope.active = !1, t.Lighting.node.active = !1, p.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = p.default.Instance.Play("BGM_Dragon_05"), t.DragonUI && t.DragonUI.ShowScore(t.totalWin, !0)
                        }), cc.delayTime(1), cc.fadeOut(.5), cc.callFunc(t.SkillOver.bind(t))))
                    })
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.DragonUI && this.DragonUI.SetScore(this.currentWin), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.CountObj && this.CountObj.runAction(cc.fadeOut(.5)), p.default.Instance.Stop(this.bgmID), this.bgmID = null, p.default.Instance.Fade(p.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    if (this.isMainPlayer && (this.m_iTouchCount++, this.hintClickCount++), this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.LightingOn && (this.Lighting.play("RopeLighting"), this.CanPull && !this.pollCD)) {
                        var e = cc.v2(this.Dragon.node.position.sub(this.Rope.position.mul(-.25)));
                        this.Dragon.node.runAction(cc.moveTo(.4, e).easing(cc.easeBounceOut()));
                        var n = d.default.SpawnEffect("10023", this.isMainPlayer);
                        n && (n.setPosition(c.default.isReverse ? this.Dragon.node.position.neg() : this.Dragon.node.position), n.angle = c.default.isReverse ? 180 : 0), this.pollCD = !0, p.default.Instance.Play(Math.random() > .5 ? "Dragon_pull_01" : "Dragon_pull_02"), this.scheduleOnce(function() {
                            t.pollCD = !1
                        }, .5)
                    }
                }, e.prototype.UpdateRopePos = function() {
                    var t = m.default.WeaponUIPosition(this.playerSeat),
                        e = this.Dragon.node.getPosition();
                    0 == this.Dragon.node.angle && (e = this.Dragon.node.getPosition().add(cc.v2(-1 == this.Dragon.node.scaleX ? -this.Dragon.BonePos.x : this.Dragon.BonePos.x, this.Dragon.BonePos.y))), this.Rope.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y)), this.Lighting.node.angle = this.Rope.angle;
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y);
                    this.Rope.height = i > 550 ? 800 : i > 250 ? 500 : 200, this.Rope.scaleY = i / this.Rope.height, this.Lighting.node.scaleY = i / 500
                }, e.prototype.ShowEarthQuake = function(t, e) {
                    var n = this;
                    this.EarthQuake[0].node.parent.setPosition(t), this.EarthQuake[0].node.parent.setScale(-1 == this.Dragon.node.scaleX ? -1 : 1, 1), this.EarthQuake[0].node.parent.angle = c.default.isReverse ? 180 : 0, e ? (p.default.Instance.Play("Dragon_jump_03"), this.CameraShakeEffect(2, 6), this.EarthQuake[2].node.active = !0, this.EarthQuake[2].setAnimation(0, "animation", !1), this.EarthQuake[2], this.EarthQuake[2].setCompleteListener(function() {
                        n.EarthQuake[2].setCompleteListener(null), n.EarthQuake[2].node.active = !1
                    })) : (p.default.Instance.Play("Dragon_jump_02"), this.CameraShakeEffect(1.5, 3), this.EarthQuake[0].node.active = !0, this.EarthQuake[0].setAnimation(0, "animation2", !1), this.EarthQuake[0], this.EarthQuake[0].setCompleteListener(function() {
                        n.EarthQuake[0].setCompleteListener(null), n.EarthQuake[0].node.active = !1
                    }), this.scheduleOnce(function() {
                        p.default.Instance.Play("Dragon_jump_02"), n.CameraShakeEffect(1, 2), n.EarthQuake[1].node.active = !0, n.EarthQuake[1].setAnimation(0, "animation2", !1), n.EarthQuake[1], n.EarthQuake[1].setCompleteListener(function() {
                            n.EarthQuake[1].setCompleteListener(null), n.EarthQuake[1].node.active = !1
                        })
                    }, 1.1))
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([b(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([b(cc.Node)], e.prototype, "DragonParent", void 0), a([b(cc.Node)], e.prototype, "Rope", void 0), a([b(cc.Animation)], e.prototype, "Lighting", void 0), a([b(cc.Animation)], e.prototype, "GettingAway", void 0), a([b(cc.Animation)], e.prototype, "Madness", void 0), a([b([sp.Skeleton])], e.prototype, "EarthQuake", void 0), a([b(cc.Animation)], e.prototype, "TapHint", void 0), a([v], e)
            }(g.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./RagingDragonUI": "RagingDragonUI"
    }],
    SkillRedDragon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "e4e2ewCsE1CEK8+0LilNj6m", "SkillRedDragon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Common/Utility"),
            y = t("../Fish/FishManager"),
            m = t("../Player/PlayerManager"),
            g = t("../Skill/BaseSkill"),
            S = t("../Weapon/WeaponManager"),
            _ = t("./RedDragonReward"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            C = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.number_label = null, e.score_label = null, e.totem = null, e.spine_node = null, e.lightBall_node = null, e.lighting_node = null, e.finalFire_node = null, e.fish_id = 0, e.current_bomb = 0, e.smallBombTimes = 0, e.bigBombTimes = 0, e.fishAwardTime = 0, e.showingScore = 0, e.spineEventStep = 0, e.cmdTimer = 0, e.lightBall = null, e.lighting = null, e.finalFire = null, e.spine_list = null, e.index_pair = [
                        [0, 2],
                        [1, 3],
                        [0, 1, 2, 3],
                        [4, 5, 6, 7]
                    ], e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    var t = this;
                    this.limitTime = 180, this.spine_list = this.spine_node.getComponentsInChildren(sp.Skeleton);
                    for (var e = function(e) {
                            n.spine_list[e].setCompleteListener(function() {
                                t.spine_list[e].node.active = !1
                            }), n.spine_list[e].setEventListener(n.spineEventListener.bind(n, e))
                        }, n = this, i = 0; i < this.spine_list.length; i++) e(i);
                    this.lightBall = this.lightBall_node.getComponentsInChildren(cc.Animation), this.lighting = this.lighting_node.getComponentsInChildren(cc.Animation), this.finalFire = this.finalFire_node.getComponentsInChildren(cc.ParticleSystem)
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.cmdTimer > 0 && (this.cmdTimer -= e, this.cmdTimer <= 0 && (this.cmdTimer = 0, this.SkillOver()))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.current_bomb = 0, this.node.opacity = 0, this.cmdTimer = 0, this.lightBall.forEach(function(t) {
                        t.node.active = !1
                    }), this.lighting.forEach(function(t) {
                        t.node.active = !1
                    }), this.number_label.node.parent.opacity = 0, this.number_label.string = "1", this.showingScore = 0, this.score_label.node.parent.opacity = 0, this.score_label.string = "0", this.fish_id = e.id, this.playerBet = e.bet, this.bigBombTimes = e.big_bomb_times_target, this.smallBombTimes = e.small_bomb_times_target
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return u.default.Instance.Play("42_dragon_blow"), (t = y.default.Instance.GetFishByID(this.fish_id)) ? (t.CanCollision = !1, t.PlayDieAnim(), [4, this.delay(2e3)]) : (console.warn("[InitInfo] Dragon is Null!"), [2]);
                                case 1:
                                    return o.sent(), e = this.node.parent.convertToNodeSpaceAR(t.getFishPos()), u.default.Instance.Play("41_catch_bigfish"), (n = d.default.SpawnEffect("7", this.isMainPlayer)) && (n.scale = 2, n.setPosition(e)), this.InitTotem(e), (i = {}).time = 18e4, i.callback = function() {
                                        y.default.Instance.recycleUniqueFishData(p.FishType.RedDragon)
                                    }, y.default.Instance.getUniqueFishData(p.FishType.RedDragon).setTimeEvent(i), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.lightBall.forEach(function(t) {
                        t.stop()
                    }), this.lighting.forEach(function(t) {
                        t.stop()
                    });
                    var e = {
                        time: 1e3,
                        callback: function() {
                            y.default.Instance.recycleUniqueFishData(p.FishType.RedDragon)
                        }
                    };
                    y.default.Instance.getUniqueFishData(p.FishType.RedDragon).setTimeEvent(e), t.prototype.UnUseSkill.call(this)
                }, e.prototype.InitTotem = function(t) {
                    var e = this;
                    this.node.setPosition(t), this.node.angle = c.default.isReverse ? 180 : 0, cc.tween(this.node).to(.75, {
                        opacity: 255
                    }).call(function() {
                        u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), e.bgmID = u.default.Instance.Play("RedDragon_StartBGM", 1, !0), u.default.Instance.Fade(e.bgmID, 0, 1)
                    }).to(1.5, {
                        position: cc.Vec3.ZERO
                    }).call(function() {
                        cc.tween(e.score_label.node.parent).to(.5, {
                            opacity: 255
                        }).start(), cc.tween(e.number_label.node.parent).to(.5, {
                            opacity: 255
                        }).start()
                    }).delay(.5).call(function() {
                        e.SendBombRange()
                    }).start()
                }, e.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var t = y.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.RED_DRAGON_BOMB, t)
                    }
                    this.cmdTimer = 10
                }, e.prototype.InitExplosion = function(t) {
                    this.cmdTimer = 0;
                    var e = t.small_bomb_times_cnt,
                        n = t.big_bomb_times_cnt;
                    if (this.current_bomb >= e + n) console.error("RedDragonSkill \u5c01\u5305\u932f\u4e82");
                    else {
                        this.current_bomb < e + n - 1 && (console.error("RedDragonSkill \u6f0f\u5c01\u5305"), this.current_bomb = e + n - 1), this.dieFishList.length = 0, this.winList.length = 0, this.totalWin = t.total_win, this.bigBombTimes = t.big_bomb_times_target, this.smallBombTimes = t.small_bomb_times_target;
                        var i = t.win;
                        if (this.currentWin += i, t.fish) {
                            for (var o = t.fish, a = 0; a < o.length; a++) {
                                var s = y.default.Instance.GetFishByID("" + o[a]);
                                this.dieFishList.push(s)
                            }
                            var r = t.odds;
                            for (a = 0; a < r.length; a++) this.winList.push(this.playerBet * r[a])
                        }
                        this.NextExplosion()
                    }
                }, e.prototype.NextExplosion = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (t = null, !(this.current_bomb < this.smallBombTimes)) return [3, 2];
                                    if (this.current_bomb < 8) e = this.current_bomb % 4, this.spine_list[e].node.active = !0, this.spine_list[e].setAnimation(0, "ATTACK_A", !1), u.default.Instance.Play("RedDragon_BreatheFire");
                                    else {
                                        for (t = this.index_pair[this.current_bomb % 2], n = 0; n < t.length; n++) this.spine_list[t[n]].node.active = !0, this.spine_list[t[n]].setAnimation(0, "ATTACK_A", !1);
                                        u.default.Instance.Play("RedDragon_BreatheFire")
                                    }
                                    return this.spineEventStep = 1, this.current_bomb++, [4, this.delay(3500)];
                                case 1:
                                    return i.sent(), this.SendBombRange(), [3, 6];
                                case 2:
                                    if (this.current_bomb != this.smallBombTimes) return [3, 4];
                                    for (t = this.index_pair[2], n = 0; n < t.length; n++) this.spine_list[t[n]].node.active = !0, this.spine_list[t[n]].setAnimation(0, "ATTACK_A", !1);
                                    return u.default.Instance.Play("RedDragon_BreatheFire"), this.spineEventStep = 1, this.current_bomb++, [4, this.delay(3500)];
                                case 3:
                                    return i.sent(), this.SendBombRange(), [3, 6];
                                case 4:
                                    for (t = this.index_pair[3], n = 0; n < t.length; n++) this.spine_list[t[n]].node.active = !0, this.spine_list[t[n]].setAnimation(0, "ATTACK_B", !1);
                                    return u.default.Instance.Play("RedDragon_FinalAttack"), this.spineEventStep = 2, this.current_bomb++, [4, this.delay(5e3)];
                                case 5:
                                    i.sent(), this.SkillOver(), i.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.spineEventListener = function(t, e, n) {
                    return s(this, void 0, void 0, function() {
                        var e, i, o;
                        return r(this, function() {
                            if (n) switch (n.data.name) {
                                case "stanby":
                                    break;
                                case "fiire_spurt":
                                    this.lightBall[t].node.active = !0, this.lightBall[t].play(), this.lighting[t].node.active = !0, this.lighting[t].play(), 1 == this.spineEventStep && (this.spineEventStep = 0, this.DragonBallHit(), u.default.Instance.Play("RedDragon_DragonBall_Scale"), this.CameraShakeEffect(.5, 4), (i = {}).CoinEndPos = cc.Vec2.ZERO, i.AllTypeNormal = !0, e = 1e3 * this.KillFishesAndShowAward(i), e += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < e ? e : this.fishAwardTime, this.CountScore());
                                    break;
                                case "fire_end":
                                    this.lightBall[t].stop(), this.lightBall[t].node.active = !1, this.lighting[t].stop(), this.lighting[t].node.active = !1;
                                    break;
                                case "Hit_1":
                                    2 == this.spineEventStep && (this.spineEventStep = 1, this.DragonBallHit(), u.default.Instance.Play("RedDragon_DragonBall_Scale"), this.finalFire.forEach(function(t) {
                                        t.resetSystem()
                                    }), u.default.Instance.Play("RedDragon_FinalAttack_Explode"), u.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = u.default.Instance.Play("RedDragon_EndBGM", 1, !1), u.default.Instance.Fade(this.bgmID, 0, 1));
                                    break;
                                case "Hit_2":
                                    1 == this.spineEventStep && (this.spineEventStep = 0, u.default.Instance.Play("TD_Explode"), this.DragonBallHit(), this.CameraShakeEffect(1, 6), (i = {}).CoinEndPos = cc.Vec2.ZERO, i.AllTypeNormal = !0, o = 1e3 * this.KillFishesAndShowAward(i), o += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < o ? o : this.fishAwardTime, this.CountScore())
                            }
                            return [2]
                        })
                    })
                }, e.prototype.DragonBallHit = function() {
                    this.number_label.string = this.current_bomb.toString(), cc.tween(this.number_label.node.parent).to(.2, {
                        scale: 1.3
                    }).to(.65, {
                        scale: 1
                    }).start(), this.totem.playAdditive("TotemHit")
                }, e.prototype.CountScore = function() {
                    var t = this;
                    cc.tween(this.score_label.node.parent).delay(2.5).call(function() {
                        var e = t.currentWin,
                            n = (e - t.showingScore) / (.5 / .03);
                        cc.tween(t.node).repeat(.5 / .03, cc.tween(t.node).call(function() {
                            t.showingScore += n, t.score_label.string = f.default.NumberformatBet(t.showingScore, t.playerBet)
                        }).delay(.03)).call(function() {
                            t.showingScore = e, t.score_label.string = f.default.NumberformatBet(t.showingScore, t.playerBet)
                        }).start()
                    }).to(.2, {
                        scale: 1.2
                    }).to(.65, {
                        scale: 1
                    }).start()
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o = this;
                        return r(this, function() {
                            return this.isMainPlayer && 0 == this.totalWin ? (l.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (this.isGaveAward = !0, t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, 0, e = c.default.isReverse ? this.playerSeat > 1 ? 220 : -170 : this.playerSeat > 1 ? -220 : 170, n = m.PlayerManager.MainSeat > 1 ? -1 : 1, i = S.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, e)).scale(new cc.Vec2(n, n)), cc.tween(this.node).delay(this.fishAwardTime / 1e3 < 2 ? 2 : this.fishAwardTime / 1e3).call(function() {
                                o.node.setParent(o.isMainPlayer ? d.default.Instance.Effects_own : d.default.Instance.Effects)
                            }).to(1.5, {
                                position: cc.v3(i)
                            }).call(function() {
                                o.PlayAwardSound()
                            }).delay(1.5).to(.5, {
                                opacity: 0
                            }).call(function() {
                                o.CreateSkillTitle(), o.ShowSkillScore(o.totalWin)
                            }).delay(4).call(function() {
                                if (o.isMainPlayer) {
                                    var t = d.default.SpawnEffect("RedDragonReward", o.isMainPlayer);
                                    t && (t.angle = c.default.isReverse ? 180 : 0, t.getComponent(_.default).Init(o.totalWin), u.default.Instance.Play("RedDragon_Result"))
                                }
                                o.UnUseSkill()
                            }).start(), [2])
                        })
                    })
                }, a([P(cc.Label)], e.prototype, "number_label", void 0), a([P(cc.Label)], e.prototype, "score_label", void 0), a([P(cc.Animation)], e.prototype, "totem", void 0), a([P(cc.Node)], e.prototype, "spine_node", void 0), a([P(cc.Node)], e.prototype, "lightBall_node", void 0), a([P(cc.Node)], e.prototype, "lighting_node", void 0), a([P(cc.Node)], e.prototype, "finalFire_node", void 0), a([b], e)
            }(g.default);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Skill/BaseSkill": "BaseSkill",
        "../Weapon/WeaponManager": "WeaponManager",
        "./RedDragonReward": "RedDragonReward"
    }],
    SkillRockSkull: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3914eP+qdpMA6MSVotJNm7Y", "SkillRockSkull");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Fish/FishManager"),
            f = t("../Game/GameManager"),
            y = t("../Player/PlayerManager"),
            m = t("./BaseSkill"),
            g = t("./RockSkullUI"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.GhostParent = null, e.Miss = null, e.RockOnTitle = null, e.chargeEffect = null, e.fishID = null, e.Skull = null, e.SkullUI = null, e.currentBombNumber = 0, e.SmallBombTimes = 0, e.BigBombTimes = 0, e.HitCount = 0, e.currentHitCount = 1, e.background = null, e.getBigBombData = !1, e.HitLabel = null, e.fishAwardTime = 0, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = m.skillEnum.RockSkull, this.limitTime = 120
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("RockSkull TimeOut"), this.Skull && (this.currentBombNumber > this.SmallBombTimes ? (this.isUnuse = !0, this.BigWin()) : this.GhostLostArm()), this.forceTimer = 0))
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.currentBombNumber = 0, this.currentHitCount = 1, this.HitCount = 0, this.forceTime = 7.5, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.chargeEffect.node.active = !0, this.getBigBombData = !1, this.fishID = e.id, this.SmallBombTimes = e.small_bomb_times_target, this.BigBombTimes = e.big_bomb_times_target
                }, e.prototype.UnUseSkill = function() {
                    this.unschedule(this.UpdateHit), this.Skull && (this.Skull.RemoveSelf(), this.Skull = null), this.SkullUI && (this.SkullUI.Hide(!0), this.SkullUI = null), this.background && (this.background.RockOver(), this.background = null), this.HitLabel && (p.default.DespawnEffect("RockSkullHit", this.HitLabel.node.parent.parent), this.HitLabel = null), this.Miss.node.active = !1, this.RockOnTitle.node.active = !1, this.node.setScale(1), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Skull = d.default.Instance.GetFishByID(this.fishID.toString()), !this.Skull && this.isMainPlayer && (this.Skull = d.default.Instance.CreateFakeFish(this.fishID.toString(), 82, new cc.Vec2(700, 360), 10)), console.error(" \u9ab7\u9acf\u89f8\u767c\u6280\u80fd "), this.Skull) {
                        this.Skull.FishDie(), this.Skull.PauseClip();
                        var e = c.default.isReverse ? this.Skull.node.position.neg() : this.Skull.node.position;
                        this.Skull.node.setParent(this.GhostParent), this.Skull.node.setPosition(e), this.Skull.node.angle = 0, this.CameraShakeEffect(5, 1), u.default.Instance.Play("Skeleton_catch_01");
                        var n = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.Skull.node.runAction(cc.sequence(n, cc.callFunc(function() {
                            t.Skull.CoinEffect(), console.error(" \u9ab7\u9acfPlayClip(Catch"), t.Skull.PlayClip("Catch", !1, t.ShowBeginning.bind(t)), t.Skull.ResumeClip(), u.default.Instance.Play("41_catch_bigfish")
                        }), cc.delayTime(1.2), cc.rotateTo(0, 0), cc.callFunc(function() {
                            t.Skull.eulerTurn(cc.v3(35, 0, 0), .5)
                        }), cc.moveTo(.5, cc.Vec2.ZERO)))
                    }
                }, e.prototype.ShowBeginning = function() {
                    this.SkullUI = p.default.LoadGUI("10026").getComponent(g.default), this.SkullUI && this.SkullUI.Init(this.playerBet, this.playerSeat), this.background = f.default.Instance.BackgroundNow, this.background && this.background.RockStart(), u.default.Instance.Play("Skeleton_fire_01"), this.Skull.PlayClip("idle2", !0), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BGM_Skeleton_03", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), this.scheduleOnce(this.SendRangeFish.bind(this), .5), d.default.Instance.RemoveFishByID(this.fishID.toString())
                }, e.prototype.SendRangeFish = function() {
                    if (this.isMainPlayer) {
                        var t = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1200, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.ROCKSKULL_BOME, t)
                    }
                    this.forceTimer = this.forceTime
                }, e.prototype.InitExplodeData = function(t) {
                    if (this.node && !this.isUnuse)
                        if (null != this.Skull) {
                            this.dieFishList.length = 0, this.winList.length = 0;
                            var e = t.fish;
                            this.oddsList = t.odds;
                            for (var n = e.length, i = 0; i < n; i++) this.dieFishList.push(d.default.Instance.GetFishByID(e[i])), this.winList.push(this.oddsList[i] * this.playerBet);
                            this.totalWin = t.total_win, t.small_bomb_times_target && (this.SmallBombTimes = t.small_bomb_times_target), t.big_bomb_times_target && (this.BigBombTimes = t.big_bomb_times_target), this.currentBombNumber += 1, this.currentBombNumber <= this.SmallBombTimes ? this.SmallExplode() : (this.HitCount += n, this.getBigBombData = !0), this.forceTimer = 0
                        } else {
                            var o = t.win;
                            y.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, o, null)
                        }
                }, e.prototype.SmallExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Skull.SetNextClip("Hit_Ready", !1, function() {
                                        t.chargeEffect.play("ChargeLong");
                                        var e = 1 + Math.floor(4 * Math.random());
                                        u.default.Instance.Play("voice_Skeleton_random_0" + e.toString())
                                    }, function() {
                                        t.node && !t.isUnuse && (t.Skull.PlayClip("Hit1", !1, function() {
                                            t.Skull.PlayClip("idle2", !0)
                                        }), u.default.Instance.Play("Skeleton_collect_01"), t.scheduleOnce(function() {
                                            p.default.SpawnEffect("BlastRing", t.isMainPlayer), t.KillFish(), t.CameraShakeEffect(1.5, 2)
                                        }, .13))
                                    }), [4, this.delay(3200)];
                                case 1:
                                    return e.sent(), this.currentBombNumber == this.SmallBombTimes && this.BigBombTimes > 0 ? this.RockOn() : this.currentBombNumber < this.SmallBombTimes ? this.SendRangeFish() : this.GhostLostArm(), [2]
                            }
                        })
                    })
                }, e.prototype.GhostLostArm = function() {
                    var t = this;
                    this.Skull.SetNextClip("Hit_Ready", !1, function() {
                        if (t.node && !t.isUnuse) {
                            t.chargeEffect.play("ChargeLong");
                            var e = 1 + Math.floor(4 * Math.random());
                            u.default.Instance.Play("voice_Skeleton_random_0" + e.toString())
                        }
                    }, function() {
                        t.node && !t.isUnuse && (u.default.Instance.Play("Skeleton_fail_01"), t.Skull.PlayClip("Failure", !1, function() {
                            t.scheduleOnce(function() {
                                t.Skull.RemoveSelf(), t.Skull = null
                            }, .7), t.Miss.node.active = !0, t.Miss.play(), t.SkullUI && t.SkullUI.ShowScore(t.totalWin, !1), t.SkillOver()
                        }))
                    })
                }, e.prototype.RockOn = function() {
                    var t = this;
                    this.Skull.SetNextClip("Hit_Ready", !1, function() {
                        if (t.node && !t.isUnuse) {
                            t.chargeEffect.play("ChargeLong");
                            var e = 1 + Math.floor(4 * Math.random());
                            u.default.Instance.Play("voice_Skeleton_random_0" + e.toString())
                        }
                    }, function() {
                        t.node && !t.isUnuse && (t.Skull.PlayClip("Hit1", !1, function() {
                            t.Skull.PlayClip("idle2", !0), u.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = u.default.Instance.Play("BGM_Skeleton_04", 1, !0), u.default.Instance.Fade(t.bgmID, 0, 1), t.scheduleOnce(function() {
                                t.Skull.SetNextClip("Hit_Ready", !1, function() {
                                    t.chargeEffect.play("ChargeLong");
                                    var e = 1 + Math.floor(4 * Math.random());
                                    u.default.Instance.Play("voice_Skeleton_random_0" + e.toString())
                                }, function() {
                                    t.HitLoopStart(), t.scheduleOnce(function() {
                                        t.SendRangeFish()
                                    }, .7)
                                })
                            }, 3)
                        }), u.default.Instance.Play("Skeleton_collect_01"), t.scheduleOnce(function() {
                            t.RockOnTitle.node.active = !0, t.RockOnTitle.play(), t.background && t.background.RockOn(), t.node.runAction(cc.scaleTo(1, 1.4)), u.default.Instance.Play("Skeleton_1attack_02")
                        }, .15), t.scheduleOnce(function() {
                            u.default.Instance.Play("Skeleton_title_01"), u.default.Instance.Play("voice_Skeleton_awaken_01")
                        }, 1))
                    })
                }, e.prototype.HitLoopStart = function() {
                    var t = this;
                    this.chargeEffect.play("ChargeQuick"), this.Skull.PlayClip("Hit_Loop", !1, this.HitLoopEnd.bind(this)), this.Skull.SetClipSpeed(1.2), this.scheduleOnce(function() {
                        t.background.HitLoopBlast(), p.default.SpawnEffect("BlastRing", t.isMainPlayer), t.CameraShakeEffect(3, 1)
                    }, .17), this.currentBombNumber > this.SmallBombTimes + 7 ? u.default.Instance.Play("Skeleton_3attack_05") : this.currentBombNumber > this.SmallBombTimes + 5 ? u.default.Instance.Play("Skeleton_3attack_04") : this.currentBombNumber > this.SmallBombTimes + 3 ? u.default.Instance.Play("Skeleton_3attack_03") : this.currentBombNumber > this.SmallBombTimes + 1 ? u.default.Instance.Play("Skeleton_3attack_02") : u.default.Instance.Play("Skeleton_3attack_01")
                }, e.prototype.HitLoopEnd = function() {
                    var t = this;
                    this.getBigBombData ? (this.getBigBombData = !1, this.BigExplode()) : (this.chargeEffect.play("ChargeQuick"), this.Skull.PlayClip("Hit_Loop", !1, this.HitLoopEnd.bind(this)), this.Skull.SetClipSpeed(1.5), this.scheduleOnce(function() {
                        t.background.HitLoopBlast(), p.default.SpawnEffect("BlastRing", t.isMainPlayer)
                    }, .17))
                }, e.prototype.BigExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.scheduleOnce(function() {
                                if (e.background.BigExplode(), e.KillFish(), e.CameraShakeEffect(1, 4), p.default.SpawnEffect("BlastRing", e.isMainPlayer), null == e.HitLabel) {
                                    var t = p.default.SpawnEffect("RockSkullHit", e.isMainPlayer);
                                    t.angle = c.default.isReverse ? 180 : 0, e.HitLabel = t.getComponentInChildren(cc.Label), e.HitLabel.node.parent.opacity = 255, e.schedule(e.UpdateHit, .1)
                                }
                            }, .2), this.Skull.PlayClip("Hit_End", !1, function() {
                                e.node && !e.isUnuse && (e.currentBombNumber < e.SmallBombTimes + e.BigBombTimes ? (e.HitLoopStart(), e.scheduleOnce(function() {
                                    e.SendRangeFish()
                                }, .7)) : e.BigWin())
                            }), this.currentBombNumber == this.SmallBombTimes + 1 ? u.default.Instance.Play("voice_Skeleton_rock_01") : (t = 2 + Math.floor(4 * Math.random()), u.default.Instance.Play("voice_Skeleton_rock_0" + t.toString())), [2]
                        })
                    })
                }, e.prototype.BigWin = function() {
                    var t = this;
                    this.unschedule(this.UpdateHit), this.HitCount && (this.currentHitCount = this.HitCount, this.HitLabel.string = this.currentHitCount.toString()), this.HitLabel.node.parent.scale = 1.2, this.HitLabel.node.parent.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1))), this.Skull.PlayClip("YaYa", !0), u.default.Instance.Play("Skeleton_happy_01"), u.default.Instance.Play("voice_Skeleton_end_01"), this.scheduleOnce(function() {
                        u.default.Instance.Fade(t.bgmID, 1, 0), t.bgmID = u.default.Instance.Play("BGM_Rocker_04_1"), t.SkullUI && t.SkullUI.ShowScore(t.totalWin, !0)
                    }, 2), this.scheduleOnce(function() {
                        t.SkillOver()
                    }, 3.5)
                }, e.prototype.KillFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return t = 1e3 * this.KillFishesAndShowAward(), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.currentWin = this.totalWin, this.SkullUI && this.SkullUI.SetScore(this.currentWin), this.background && this.background.Blast(), [2]
                        })
                    })
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), t = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > t ? this.fishAwardTime - t : 0, this.node.runAction(cc.sequence(cc.delayTime((this.fishAwardTime < 2500 ? 2500 : this.fishAwardTime) / 1e3), cc.callFunc(function() {
                                e.UnUseSkill()
                            }))), [2]
                        })
                    })
                }, e.prototype.UpdateHit = function() {
                    this.currentHitCount >= this.HitCount || Math.random() >= .7 || (this.currentHitCount++, this.HitLabel.string = this.currentHitCount.toString(), this.HitLabel.node.parent.scale = 1.2, this.HitLabel.node.parent.runAction(cc.scaleTo(.07, 1)))
                }, a([v(cc.Node)], e.prototype, "GhostParent", void 0), a([v(cc.Animation)], e.prototype, "Miss", void 0), a([v(cc.Animation)], e.prototype, "RockOnTitle", void 0), a([v(cc.Animation)], e.prototype, "chargeEffect", void 0), a([_], e)
            }(m.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Game/GameManager": "GameManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseSkill": "BaseSkill",
        "./RockSkullUI": "RockSkullUI"
    }],
    SkillRocket: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3a2f1VN/SZNGrC9N4wvwsP7", "SkillRocket");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Common/Utility"),
            h = t("../Fish/FishManager"),
            u = t("../Player/PlayerManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Weapon/WeaponManager"),
            f = t("../Common/PoolObj"),
            y = t("../Common/AudioManager"),
            m = t("../../../../../FishCommon/Script/CanvasHandler"),
            g = cc._decorator.ccclass,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.weaponAnim = !1, e.fish_dead_dict = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Rocket
                }, e.prototype.InitProperties = function(e) {
                    if (void 0 === e && (e = null), t.prototype.InitProperties.call(this), u.PlayerManager.isMainSeat(this.playerSeat)) {
                        var n = e.credits;
                        u.PlayerManager.BulletSync(1, n)
                    }
                    this.weaponAnim = !1, this.playerBet = e.bet, this.totalWin = e.total_win, this.fish_dead_dict = e.fish_dead_dict
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i, o, a, s, c, u, g = this;
                        return r(this, function(S) {
                            switch (S.label) {
                                case 0:
                                    if (!(t = Object.keys(this.fish_dead_dict)) || t.length <= 0) return [2];
                                    e = 0, n = d.default.WeaponUIPosition(this.playerSeat).add(cc.v2(-70, 60)), n = m.default.isReverse ? l.default.ConvertWorldPosition(n) : n, i = d.default.Instance.getWeapon(this.playerSeat), o = function(o) {
                                        var s, c, u, d, m, S, _;
                                        return r(this, function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return s = t[o], c = a.fish_dead_dict[s].coin, u = a.playerSeat, d = a.playerBet, (m = h.default.Instance.GetFishByID(s)) ? l.default.GetLengthFrom2Point(n, m.node.getPosition()) > 640 ? [2, "continue"] : (i && !a.weaponAnim && (i.PlayRocketShoot(), a.weaponAnim = !0), (S = p.default.SpawnEffect(a.skillType, a.isMainPlayer)) ? (S.setPosition(n), S.angle = a.playerSeat > 1 ? 180 : 0, S.getComponent(f.default).recycleEvent = function() {
                                                        var n = p.default.SpawnEffect("Red_Blast", g.isMainPlayer);
                                                        n.setPosition(S.getPosition()), n.setScale(1.5), y.default.Instance.Play("04_boom"), h.default.Instance.KillFish(u, m, c, d, !1, !0, function(n) {
                                                            e < n - .25 * (t.length - 1 - o) && (e = n - .25 * (t.length - 1 - o))
                                                        })
                                                    }, _ = l.default.GetPointWithVector(m.node.getPosition(), 120, m.node.angle), S.angle = 90 - l.default.GetAngleFrom2Point(S.getPosition(), m.node.getPosition()), S.runAction(cc.moveTo(1.24, _).easing(cc.easeIn(1.5))), [4, a.delay(250)]) : [2, "continue"]) : [2, "continue"];
                                                case 1:
                                                    return r.sent(), [2]
                                            }
                                        })
                                    }, a = this, s = 0, S.label = 1;
                                case 1:
                                    return s < t.length ? [5, o(s)] : [3, 4];
                                case 2:
                                    S.sent(), S.label = 3;
                                case 3:
                                    return s++, [3, 1];
                                case 4:
                                    return [4, this.delay(1500)];
                                case 5:
                                    return S.sent(), [4, this.delay(1e3 * e)];
                                case 6:
                                    return S.sent(), (c = p.default.SpawnEffect("RN", this.isMainPlayer)) && (c.angle = m.default.isReverse ? 180 : 0, u = this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80), c.setPosition(d.default.WeaponPosition(this.playerSeat).add(u)), c.getComponentInChildren(cc.Label).string = l.default.NumberformatBet(this.totalWin, this.playerBet), c.runAction(cc.sequence(cc.fadeIn(.5), cc.delayTime(1), cc.fadeOut(.5), cc.callFunc(function() {
                                        p.default.DespawnEffect("RN", c)
                                    })))), this.PlayAwardSound(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.fish_dead_dict = null, t.prototype.UnUseSkill.call(this)
                }, a([g], e)
            }(c.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillSubmarine: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ba317XvhpRJ7rAs2eBr/zN3", "SkillSubmarine");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../GameClient"),
            h = t("../../System/SkillSystem"),
            u = t("../Common/AudioManager"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Common/Utility"),
            y = t("../Fish/FishManager"),
            m = t("../Player/FishAvatarIcon"),
            g = t("../Player/PlayerManager"),
            S = t("../Weapon/WeaponManager"),
            _ = t("./BaseSkill"),
            v = t("./SubmarineUI"),
            b = cc._decorator,
            P = b.ccclass,
            C = b.property,
            w = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.RopeCircle = null, e.SubmarineParent = null, e.Rope = null, e.Fail = null, e.Success = null, e.CaptureScore = null, e.TapHint = null, e.AssaultAnim = null, e.AssaultRoot = null, e.BarSprites = [], e.BarParticle = null, e.KnifeBattle = null, e.ShakeObjs = [], e.avatarIcons = [], e.highlightGroup = [], e.personal_bk_L = null, e.personal_bk_R = null, e.personal_bk_L_mainPlayer = null, e.personal_bk_R_mainPlayer = null, e.occupyID = null, e.challengerID = null, e.Submarine = null, e.scoreUI = null, e.showingScore = 0, e.targetPos = cc.Vec2.ZERO, e.win_type = null, e.currentPull = 0, e.currentTreasure = 0, e.fishID = null, e.treasure_win = null, e.treasure_array = null, e.pull_interval = null, e.setting_id = null, e.movingTween = null, e.versusWin = !1, e.showFireWork = !1, e.capture_score = null, e.score_node = null, e.hintClickCount = 0, e.tweenValue = {
                        nowPCT: .5
                    }, e.randomSeed = 0, e.submarineInfo = null, e.oriOccupyIsMainPlayer = !1, e.occupyIconOriPos = cc.Vec3.ZERO, e.challengerIconOriPos = cc.Vec3.ZERO, e.SwordCD = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = _.skillEnum.Submarine, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.forceTimer > 0 && (this.forceTimer -= e, this.forceTimer <= 0 && (console.error("SkillSubmarine TimeOut"), this.forceTimer = 0, this.SkillOver())), this.Rope.active && this.UpdateRopePos(), this.AssaultRoot.active && !this.showFireWork && (this.BarSprites[0].fillRange = this.tweenValue.nowPCT, this.BarSprites[1].fillRange = this.tweenValue.nowPCT - 1, this.BarParticle.node.setPosition(cc.v2(86 * (2 * this.tweenValue.nowPCT - 1), 0)), this.KnifeBattle.node.parent.setPosition(cc.v2(140 * (2 * this.tweenValue.nowPCT - 1), 0)))
                }, e.prototype.InitProperties = function(e) {
                    var n = this;
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.win_type = e.win_type, this.playerBet = e.bet, this.showingScore = 0, this.currentPull = 0, this.currentTreasure = 0, this.node.angle = c.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.fishID = e.id, this.treasure_win = e.win_odds_list, this.calculateTreasureData(), e.hasOwnProperty("ori_occupy_player_data") && e.ori_occupy_player_data.hasOwnProperty("nick_name") && (this.avatarIcons[0].playerId = e.ori_occupy_player_data.ark_id, this.avatarIcons[0].SetNickname(e.ori_occupy_player_data.nick_name), this.avatarIcons[0].SetFrameByID(e.ori_occupy_player_data.equip_avatar_frame), this.avatarIcons[0].SetFaceByID(e.ori_occupy_player_data.equip_avatar), this.oriOccupyIsMainPlayer = e.ori_occupy_player_data.ark_id == g.PlayerManager.getPlayer(g.PlayerManager.MainSeat).id);
                    var i = g.PlayerManager.getPlayer(this.playerSeat);
                    i && (this.avatarIcons[1].playerId = i.id, this.avatarIcons[1].SetNickname(i.nickName), this.avatarIcons[1].SetFrameByID(i.equipAvatarFrame), this.avatarIcons[1].SetFaceByID(i.equipAvatar)), this.versusWin = !1, this.showFireWork = !1, "capture" == this.win_type && e.hasOwnProperty("capture_score") ? (this.capture_score = e.capture_score, this.totalWin = this.capture_score) : this.totalWin = 0, e.hasOwnProperty("submarine_info") && (this.submarineInfo = {}, this.submarineInfo.occupy_data = e.submarine_info), this.highlightGroup.forEach(function(t) {
                        t.active = n.isMainPlayer || n.oriOccupyIsMainPlayer, t.x = n.isMainPlayer ? 135 : -135
                    }), this.personal_bk_R.active = !this.isMainPlayer, this.personal_bk_R_mainPlayer.active = this.isMainPlayer, this.challengerID.color = this.isMainPlayer ? cc.color(255, 250, 145) : cc.Color.WHITE, this.personal_bk_L.active = !this.oriOccupyIsMainPlayer, this.personal_bk_L_mainPlayer.active = this.oriOccupyIsMainPlayer, this.occupyID.color = this.oriOccupyIsMainPlayer ? cc.color(255, 250, 145) : cc.Color.WHITE, this.occupyIconOriPos = this.ShakeObjs[1].position, this.challengerIconOriPos = this.ShakeObjs[2].position
                }, e.prototype.UnUseSkill = function() {
                    if (this.setting_id) {
                        var e = {};
                        e.unSkilling = this.setting_id, y.default.Instance.getUniqueFishData(p.FishType.BattleShip).setCustomData(e)
                    }
                    this.submarineInfo && this.submarineInfo.occupy_data.hasOwnProperty("nick_name") && (this.submarineInfo.changePanel = !1, this.submarineInfo.occupy_data.submarine_name = this.setting_id, y.default.Instance.getUniqueFishData(p.FishType.BattleShip).setCustomData(this.submarineInfo)), this.isMainPlayer && (g.PlayerManager.Instance.isLockChangeBet = !1), S.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.Submarine && (this.Submarine.RemoveSelf(), this.Submarine = null), this.scoreUI && (this.scoreUI.Hide(!0), this.scoreUI = null), this.score_node && (this.score_node.stopAllActions(), this.score_node.setScale(1), this.score_node.opacity = 255, d.default.DespawnEffect("SN", this.score_node)), this.RopeCircle.node.active = !1, this.Rope.active = !1, this.Fail.node.active = !1, this.Success.node.active = !1, this.AssaultAnim.node.active = !1, this.AssaultRoot.active = !1, this.KnifeBattle.node.active = !1, this.tapHintActive(!1), this.setting_id = null, this.submarineInfo = null, this.SwordCD = !1, this.ShakeObjs[1].position = this.occupyIconOriPos, this.ShakeObjs[2].position = this.challengerIconOriPos, t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this;
                    if (this.Submarine = y.default.Instance.GetFishByID(this.fishID.toString()), this.Submarine) {
                        var e = {
                            Close: !0
                        };
                        switch (this.Submarine.Type) {
                            case 89:
                                this.setting_id = "SUBMARINE_R";
                                break;
                            case 90:
                                this.setting_id = "SUBMARINE_G";
                                break;
                            case 91:
                                this.setting_id = "SUBMARINE_B"
                        }
                        e.Skilling = this.setting_id, y.default.Instance.getUniqueFishData(p.FishType.BattleShip).setCustomData(e), this.isMainPlayer && (g.PlayerManager.Instance.isLockChangeBet = !0), S.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), this.Submarine.occupyNode.setParent(this.Submarine.node), this.Submarine.occupyNode.position = cc.Vec3.ZERO, this.Submarine.occupyNode.scaleY = 1, this.Submarine.FishDie(this.playerSeat), this.Submarine.PauseClip();
                        var n = this.Submarine.node.angle,
                            i = c.default.isReverse ? this.Submarine.node.position.neg() : this.Submarine.node.position;
                        this.Submarine.node.setParent(this.SubmarineParent), this.Submarine.node.setPosition(i), this.Submarine.node.angle = c.default.isReverse ? n + 180 : n, this.Submarine.occupyNode.scaleX = -1 == this.Submarine.node.scaleY ? -1 : 1;
                        var o = cc.repeat(cc.sequence(cc.moveBy(.1, cc.v2(10, 10)), cc.moveBy(.1, cc.v2(-10, -10))), 10);
                        this.Submarine.node.runAction(o), this.RopeCircle.node.active = !0, this.RopeCircle.node.setPosition(i), this.RopeCircle.setAnimation(0, "rope", !1), this.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeOver()
                        })
                    }
                }, e.prototype.RopeOver = function() {
                    var t = this;
                    if (this.node && !this.isUnuse) {
                        this.RopeCircle.node.active = !1, u.default.Instance.Play("Battleship_catch_01");
                        var e = S.default.WeaponUIPosition(this.playerSeat);
                        this.Submarine.resetTranfrom(e), y.default.Instance.RemoveFishByID(this.fishID.toString()), 0 == this.treasure_win.length ? this.Submarine.PlayClip("Catch_Start", !1, function() {
                            t.checkNextAction()
                        }) : (this.scoreUI = d.default.LoadGUI(_.skillEnum.Submarine).getComponent(v.default), this.scoreUI && this.scoreUI.Init(this.playerBet, this.playerSeat), this.Rope.active = !0, this.Rope.setPosition(S.default.WeaponUIPosition(this.playerSeat)), this.isMainPlayer && (this.tapHintActive(!0), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BGM_Battleship_01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1)), this.Submarine.PlayClip("Catch_Start", !1, function() {
                            t.Submarine.PlayClip("Move_lock", !0), t.MoveAway(null)
                        }), cc.tween(this).delay(1.5).call(function() {
                            t.checkNextAction()
                        }).start())
                    }
                }, e.prototype.MoveAway = function(t) {
                    if (this.node && !this.isUnuse) {
                        this.movingTween && this.movingTween.stop();
                        var e = S.default.WeaponUIPosition(this.playerSeat).mul(.9);
                        c.default.isReverse || e.negSelf();
                        var n = this.randomBySeed();
                        this.randomBySeed() > .2 && (e.x > 0 && this.targetPos.x > 0 || e.x < 0 && this.targetPos.x < 0) ? this.targetPos = cc.v2(-e.x * (n + .7), e.y * (1 - n)) : this.targetPos = cc.v2(e.x * (n + .7), e.y * (1 - n));
                        var i = c.default.isReverse ? this.targetPos.neg() : this.targetPos;
                        this.movingTween = cc.tween(this.Submarine.node).to(5, {
                            position: cc.v3(i)
                        }).call(function() {
                            t && t()
                        }).start()
                    }
                }, e.prototype.checkNextAction = function() {
                    var t = this;
                    if (this.node && !this.isUnuse)
                        if (this.currentPull < this.pull_interval.length) cc.tween(this).delay(this.pull_interval[this.currentPull] ? this.pull_interval[this.currentPull] : 1).call(function() {
                            t.Pull()
                        }).start();
                        else switch (this.win_type) {
                            case "versus1":
                                this.movingTween && this.movingTween.stop(), u.default.Instance.Play("Battleship_shake_01"), this.movingTween = cc.tween(this.Submarine.node).repeat(10, cc.tween(this.Submarine.node).by(.1, {
                                    position: cc.v3(10, 10)
                                }).by(.1, {
                                    position: cc.v3(-10, -10)
                                })).call(function() {
                                    t.Escape()
                                }).start();
                                break;
                            case "capture":
                                this.versusWin = !0;
                            case "versus2":
                                this.AssaultStart()
                        }
                }, e.prototype.Escape = function() {
                    var t = this;
                    this.node && !this.isUnuse && (this.tapHintActive(!1), u.default.Instance.Play("Battleship_runaway_01"), this.Submarine.PlayClip("Escape", !1, function() {
                        if (t.Submarine) {
                            t.Submarine.PlayClip("Move", !0);
                            var e = t.Submarine.node.getPosition().add(cc.Vec2.RIGHT.mul(-1 == t.Submarine.node.scaleX ? -500 : 500));
                            t.movingTween && t.movingTween.stop(), t.movingTween = cc.tween(t.Submarine.node).to(2, {
                                position: cc.v3(e),
                                opacity: 0
                            }).start();
                            var n = t.Submarine.node.getPosition();
                            t.scheduleOnce(function() {
                                t.Fail.node.active = !0, t.Fail.node.setPosition(n), t.Fail.play()
                            }, .5)
                        }
                        t.scheduleOnce(function() {
                            t.SkillOver()
                        }, 3)
                    }), this.Rope.active && this.scheduleOnce(function() {
                        t.Rope.active = !1, t.RopeCircle.node.active = !0, t.RopeCircle.node.angle = t.Rope.angle, t.RopeCircle.node.setPosition(t.Rope.position.add(t.Submarine.node.position).mul(.5)), t.RopeCircle.setAnimation(0, "ropebroke", !1), t.RopeCircle.setCompleteListener(function() {
                            t.RopeCircle.setCompleteListener(null), t.RopeCircle.node.active = !1
                        })
                    }, .8))
                }, e.prototype.Pull = function() {
                    var t = this;
                    this.node && !this.isUnuse && (this.movingTween && this.movingTween.stop(), this.Submarine.PlayClip("Catch", !1, function() {
                        t.Submarine.PlayClip("Move_lock", !0)
                    }), this.movingTween = cc.tween(this.Submarine.node).parallel(cc.tween().delay(.2).call(function() {
                        t.DropTreasure(), t.currentPull++
                    }), cc.tween().to(.4, {
                        position: cc.v3(this.Submarine.node.position.sub(this.Rope.position.mul(-.15)))
                    }, {
                        easing: "bounceOut"
                    }).call(function() {
                        t.MoveAway(null), t.checkNextAction()
                    })).start(), u.default.Instance.Play("Battleship_pull_01"))
                }, e.prototype.DropTreasure = function() {
                    var t = this;
                    if (this.node && !this.isUnuse) {
                        var e = this.treasure_array[this.currentPull];
                        e > 0 && u.default.Instance.Play("Deck_pull_01");
                        for (var n = function(e) {
                                var n = i.treasure_win[i.currentTreasure],
                                    o = n * i.playerBet;
                                i.totalWin += o, i.currentTreasure++;
                                var a = i.showingScore += o,
                                    s = d.default.SpawnEffect("BigTreasure", i.isMainPlayer);
                                s.stopAllActions(), s.angle = c.default.isReverse ? 180 : 0, s.opacity = 255;
                                var r = i.Submarine.node.getPosition().add(cc.v2(80 * e, 80 * e));
                                s.setPosition(c.default.isReverse ? r.neg() : r);
                                var l = s.getComponentInChildren(sp.Skeleton);
                                l.node.opacity = 255;
                                var h = s.getComponentInChildren(cc.Label);
                                h.node.parent.active = !1, h.node.setScale(1);
                                var u = 0,
                                    p = o * (1 / 53),
                                    y = (i.playerBet, 10 + (Math.floor(n / 5) > 10 ? 10 : Math.floor(n / 5))),
                                    m = S.default.WeaponPosition(i.playerSeat);
                                c.default.isReverse ? m.y = i.playerSeat > 1 ? m.y - 140 : m.y + 240 : m.y = i.playerSeat > 1 ? m.y - 240 : m.y + 140;
                                var g = cc.sequence(cc.callFunc(function() {
                                    h.node.parent.active = !0
                                }), cc.repeat(cc.sequence(cc.callFunc(function() {
                                    u += p, h.string = f.default.NumberformatBet(u, t.playerBet)
                                }), cc.delayTime(.05)), 53), cc.delayTime(1.5), cc.moveTo(.8, m).easing(cc.easeQuadraticActionOut()), cc.spawn(cc.repeat(cc.sequence(cc.callFunc(function() {
                                    var e = 100 * (Math.random() - .5),
                                        n = 100 * (Math.random() - .5);
                                    t.DropCoin(s.getPosition().sub(new cc.Vec2(e, n)), t.playerSeat)
                                }), cc.delayTime(.05)), y), cc.fadeOut(1)), cc.callFunc(function() {
                                    d.default.DespawnEffect("BigTreasure", s), t.scoreUI.SetScore(a)
                                }));
                                l.setAnimation(0, "Start", !1), l.setCompleteListener(function() {
                                    l.setAnimation(0, "Open", !1), l.setCompleteListener(function() {
                                        l.setCompleteListener(null)
                                    }), s.runAction(g)
                                })
                            }, i = this, o = 0; o < e; o++) n(o)
                    }
                }, e.prototype.DropCoin = function(t, e) {
                    if (this.node && !this.isUnuse) {
                        var n = d.default.SpawnAward("DC", this.isMainPlayer);
                        n.angle = c.default.isReverse ? 180 : 0, n.setPosition(t), n.scale = g.PlayerManager.isMainSeat(e) ? 1 : .8;
                        var i = S.default.WeaponPosition(e),
                            o = cc.sequence(cc.moveBy(.2, cc.v2(0, c.default.isReverse ? -100 : 100)).easing(cc.easeOut(1)), cc.moveBy(.8, cc.v2(0, c.default.isReverse ? 100 : -100)).easing(cc.easeBounceOut()), cc.moveTo(.8, i).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                                d.default.DespawnAward("DC", n)
                            }));
                        n.runAction(o)
                    }
                }, e.prototype.AssaultStart = function() {
                    var t = this;
                    if (this.node && !this.isUnuse) {
                        this.movingTween && this.movingTween.stop(), u.default.Instance.Play("Battleship_shake_01");
                        var e = this.playerSeat > 1 ? c.default.isReverse ? 120 : -280 : c.default.isReverse ? -280 : 120,
                            n = cc.tween(this.Submarine.node).call(function() {
                                t.Submarine.PlayClip("Catch", !1, function() {
                                    t.Submarine.PlayClip("Move_lock", !0)
                                }), t.Submarine.avatarIcon.node.active = !1, t.Submarine.profileBtn.interactable = !1, u.default.Instance.Play("awake_01"), t.AssaultAnim.node.active = !0, t.AssaultAnim.play(), u.default.Instance.Play("Battleship_pull_02")
                            }).to(.5, {
                                position: cc.v3(S.default.WeaponUIPosition(this.playerSeat).add(cc.v2(0, e)))
                            }, {
                                easing: "bounceOut"
                            }).delay(1).call(function() {
                                t.Rope.active = !1, t.StartFight()
                            });
                        if (0 == this.treasure_win.length) this.movingTween = cc.tween(this.Submarine.node).then(n).start();
                        else {
                            var i = cc.tween(this.Submarine.node).repeat(10, cc.tween(this.Submarine.node).by(.1, {
                                position: cc.v3(10, 10)
                            }).by(.1, {
                                position: cc.v3(-10, -10)
                            }));
                            this.movingTween = cc.tween(this.Submarine.node).then(i).then(n).start()
                        }
                    }
                }, e.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i = this;
                        return r(this, function() {
                            return !this.node || this.isUnuse ? [2] : (this.isMainPlayer && (u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1)), t = null, this.totalWin > 0 && (this.score_node = d.default.SpawnEffect("SN", this.isMainPlayer), this.score_node && (t = this.score_node.getComponentInChildren(cc.Label)), t && (e = this.playerSeat > 1 ? c.default.isReverse ? -125 : -200 : c.default.isReverse ? 200 : 125, this.score_node.setPosition(S.default.WeaponPosition(this.playerSeat).add(cc.v2(0, e))), this.score_node.angle = this.node.angle, this.score_node.runAction(cc.fadeIn(.5)), this.score_node.runAction(cc.repeat(cc.sequence(cc.moveBy(.5, cc.v2(0, 20)), cc.moveBy(.5, cc.v2(0, -20))), cc.macro.REPEAT_FOREVER)), t.string = f.default.NumberformatBet(this.totalWin, this.playerBet))), this.isMainPlayer && ((n = {}).setting_id = this.setting_id, l.default.SkillSystem.SendCustomCmd(h.SKILL_CMD_NAME.SUBMARINE_END, n)), this.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                                t && (t.string = "0"), i.score_node && (i.score_node.stopAllActions(), i.score_node.setScale(1), i.score_node.opacity = 255, d.default.DespawnEffect("SN", i.score_node)), i.UnUseSkill()
                            }))), [2])
                        })
                    })
                }, e.prototype.UpdateRopePos = function() {
                    var t = S.default.WeaponUIPosition(this.playerSeat),
                        e = this.Submarine.node.getPosition();
                    0 == this.Submarine.node.angle && (e = this.Submarine.node.getPosition()), this.Rope.angle = -57.29578 * Math.atan2(Math.floor(e.x - t.x), Math.floor(e.y - t.y));
                    var n = e.sub(t),
                        i = Math.sqrt(n.x * n.x + n.y * n.y);
                    this.Rope.height = i > 550 ? 800 : i > 250 ? 500 : 200, this.Rope.scaleY = i / this.Rope.height
                }, e.prototype.StartFight = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i = this;
                        return r(this, function() {
                            return t = this.getBattleScript(this.versusWin), this.AssaultRoot.active = !0, e = this.playerSeat > 1 ? c.default.isReverse ? 0 : -582 : c.default.isReverse ? -582 : 0, this.AssaultRoot.setPosition(S.default.WeaponUIPosition(this.playerSeat).add(cc.v2(0, e))), this.isMainPlayer && (u.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = u.default.Instance.Play("BGM_Handfight_01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), this.tapHintActive(!0)), e = this.playerSeat > 1 ? c.default.isReverse ? 290 : -56 : c.default.isReverse ? -56 : 290, this.KnifeBattle.node.active = !0, this.KnifeBattle.node.parent.parent.setPosition(S.default.WeaponUIPosition(this.playerSeat).add(cc.v2(0, e))), this.KnifeBattle.setAnimation(0, "fight_hostage_ok1", !0), n = 0, cc.tween(this).repeat(t.length, cc.tween().call(function() {
                                var e = cc.v2(10 * Math.random() - 5, 10 * Math.random() - 5),
                                    o = cc.tween().repeat(5, cc.tween().by(.05, {
                                        position: e
                                    }).by(.05, {
                                        position: e.neg()
                                    }));
                                i.tweenValue.nowPCT > t[n] ? (i.oriOccupyIsMainPlayer && o.clone(i.ShakeObjs[3]).start(), o.clone(i.ShakeObjs[1]).start()) : (o.clone(i.ShakeObjs[2]).start(), i.isMainPlayer && o.clone(i.ShakeObjs[3]).start()), cc.tween(i.ShakeObjs[0]).repeat(5, cc.tween(i.ShakeObjs[0]).to(.05, {
                                    scale: 1.05
                                }).to(.05, {
                                    scale: 1
                                })).start(), cc.tween(i.tweenValue).to(.5, {
                                    nowPCT: t[n] > .99 ? 1 : t[n]
                                }, {
                                    easing: "QuadraticActionOut"
                                }).start(), n++
                            }).delay(.55)).call(function() {
                                i.tapHintActive(!1), i.versusWin ? (i.showFireWork = !0, i.SwordCD = !0, i.KnifeBattle.setCompleteListener(null), i.unschedule(i.resetSwordCD.bind(i)), i.KnifeBattle.node.parent.position = cc.Vec3.ZERO, i.KnifeBattle.setAnimation(0, "fire_ok", !0), i.isMainPlayer && (u.default.Instance.Fade(i.bgmID, 1, 0), i.bgmID = u.default.Instance.Play("occupy_01", 1, !0), u.default.Instance.Fade(i.bgmID, 0, 1))) : (i.isMainPlayer && (u.default.Instance.Fade(i.bgmID, 1, 0), i.bgmID = u.default.Instance.Play("BGM_Handfight_end_01", 1, !0), u.default.Instance.Fade(i.bgmID, 0, 1)), i.AssaultRoot.active = !1, i.KnifeBattle.node.active = !1, i.Escape())
                            }).delay(3).call(function() {
                                i.versusWin && i.AssaultSuccess()
                            }).start(), [2]
                        })
                    })
                }, e.prototype.AssaultSuccess = function() {
                    var t = this;
                    if (this.node && !this.isUnuse && (this.AssaultRoot.active = !1, this.KnifeBattle.node.active = !1, this.Rope.active = !1, this.Submarine)) {
                        this.movingTween && this.movingTween.stop();
                        var e = this.playerSeat > 1 ? c.default.isReverse ? 60 : -50 : c.default.isReverse ? -50 : 60,
                            n = this.Submarine.node.getPosition().add(cc.v2(0, e));
                        cc.tween(this.node).delay(.3).call(function() {
                            t.Submarine.PlayClip("Escape", !1, function() {
                                t.Submarine.PlayClip("Move", !0)
                            }), u.default.Instance.Play("cheer_01"), t.Success.node.active = !0, t.Success.node.setPosition(n), t.CaptureScore.string = f.default.NumberformatBet(t.capture_score, t.playerBet), t.Success.play()
                        }).delay(1).call(function() {
                            var e = g.PlayerManager.getPlayer(t.playerSeat);
                            e && t.Submarine && (t.Submarine.avatarIcon.playerId = e.id, t.Submarine.avatarIcon.SetNickname(e.nickName), t.Submarine.avatarIcon.SetFrameByID(e.equipAvatarFrame), t.Submarine.avatarIcon.SetFaceByID(e.equipAvatar), t.Submarine.avatarIcon.node.active = !0, t.Submarine.profileBtn.interactable = !0);
                            var n = t.capture_score / 40,
                                i = t.capture_score;
                            cc.tween(t).repeat(40, cc.tween().call(function() {
                                i -= n, t.CaptureScore.string = f.default.NumberformatBet(i, t.playerBet)
                            }).delay(.05)).call(function() {
                                t.CaptureScore.string = ""
                            }).start(), t.scoreUI && t.scoreUI.SetScore(t.totalWin, 2)
                        }).delay(2).call(function() {
                            t.movingTween = cc.tween(t.Submarine.node).to(1, {
                                opacity: 0
                            }).start(), t.SkillOver()
                        }).start()
                    }
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    this.isMainPlayer && this.hintClickCount++, this.hintClickCount >= 10 && (this.tapHintActive(!1), this.hintClickCount = 0), this.showFireWork && !this.SwordCD && (this.SwordCD = !0), this.AssaultRoot.active && !this.SwordCD && (this.SwordCD = !0, this.isMainPlayer && u.default.Instance.Play("Sword_01"), this.KnifeBattle.setAnimation(0, "fight_hostage_ok2", !1), this.KnifeBattle.setCompleteListener(function() {
                        t.KnifeBattle.setCompleteListener(null), t.KnifeBattle.setAnimation(0, "fight_hostage_ok1", !0)
                    }), this.scheduleOnce(this.resetSwordCD.bind(this), .2))
                }, e.prototype.resetSwordCD = function() {
                    this.SwordCD = !1
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, e.prototype.randomBySeed = function() {
                    return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
                }, e.prototype.calculateTreasureData = function() {
                    var t;
                    this.randomSeed = this.fishID, this.pull_interval = [];
                    var e = this.treasure_win.length;
                    if (e < 1) console.error("no treasure");
                    else {
                        var n = Math.min(2 * e, 11) + Math.floor(3 * this.randomBySeed() - 1),
                            i = Math.min(Math.ceil(n / 2), e);
                        this.treasure_array = [];
                        for (var o = 0; o < i; o++) this.treasure_array.push(1);
                        for (o = 0; o < n - i; o++) this.treasure_array.push(0);
                        for (o = 0; o < n; o++) this.pull_interval.push(Math.floor(8 * this.randomBySeed() + 6) / 10);
                        var a = e - i;
                        for (o = 0; o < 1e3 && !(a <= 0); o++) {
                            var s = Math.floor(this.randomBySeed() * i);
                            this.treasure_array[s] >= 3 || (this.treasure_array[s] += 1, a -= 1)
                        }
                        for (o = this.treasure_array.length - 1; o > 0; o--) {
                            var r = Math.floor(this.randomBySeed() * (o + 1));
                            t = [this.treasure_array[r], this.treasure_array[o]], this.treasure_array[o] = t[0], this.treasure_array[r] = t[1]
                        }
                    }
                }, e.prototype.getBattleScript = function(t) {
                    for (var e = .5, n = 15, i = [], o = 0; o < n; o++)
                        for (var a = !1, s = 50; 0 == a;) {
                            --s <= 0 && (i.push(.5), a = !0);
                            var r = e;
                            (r += (40 * this.randomBySeed() - 20) / 100) >= .9 ? r = e : r <= .1 ? r = e : (e = r, i.push(e), a = !0)
                        }
                    if (t)
                        for (var c = !1, l = 50; 0 == c;) --l <= 0 && (i.push(0), c = !0), n >= 25 ? (r = e, (r -= .2) <= 0 ? (e = 0, i.push(e), c = !0) : (e = r, i.push(e)), n++) : (r = e, (r += (30 * this.randomBySeed() - 15) / 100) >= 1 ? r = e : r <= 0 ? (e = 0, i.push(e), c = !0) : (e = r, i.push(e)), n++);
                    else
                        for (var h = !1, u = 50; 0 == h;)
                            if (--u <= 0 && (i.push(1), h = !0), n >= 25) {
                                r = e;
                                (r += .2) >= 1 ? (e = 1, i.push(e), h = !0) : (e = r, i.push(e)), n++
                            } else {
                                r = e;
                                (r += (40 * this.randomBySeed() - 20) / 100) >= 1 ? (e = 1, i.push(e), h = !0) : r <= 0 ? r = e : (e = r, i.push(e)), n++
                            } return i
                }, a([C(sp.Skeleton)], e.prototype, "RopeCircle", void 0), a([C(cc.Node)], e.prototype, "SubmarineParent", void 0), a([C(cc.Node)], e.prototype, "Rope", void 0), a([C(cc.Animation)], e.prototype, "Fail", void 0), a([C(cc.Animation)], e.prototype, "Success", void 0), a([C(cc.Label)], e.prototype, "CaptureScore", void 0), a([C(cc.Animation)], e.prototype, "TapHint", void 0), a([C(cc.Animation)], e.prototype, "AssaultAnim", void 0), a([C(cc.Node)], e.prototype, "AssaultRoot", void 0), a([C([cc.Sprite])], e.prototype, "BarSprites", void 0), a([C(cc.ParticleSystem)], e.prototype, "BarParticle", void 0), a([C(sp.Skeleton)], e.prototype, "KnifeBattle", void 0), a([C([cc.Node])], e.prototype, "ShakeObjs", void 0), a([C([m.default])], e.prototype, "avatarIcons", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u5f37\u8abf\u4e3b\u73a9\u5bb6UI"
                })], e.prototype, "highlightGroup", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u5de6\u5074\u8cc7\u8a0a\u539f\u59cb\u80cc\u666f"
                })], e.prototype, "personal_bk_L", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u53f3\u5074\u8cc7\u8a0a\u539f\u59cb\u80cc\u666f"
                })], e.prototype, "personal_bk_R", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u5de6\u5074\u8cc7\u8a0a\u5f37\u8abf\u80cc\u666f"
                })], e.prototype, "personal_bk_L_mainPlayer", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u53f3\u5074\u8cc7\u8a0a\u5f37\u8abf\u80cc\u666f"
                })], e.prototype, "personal_bk_R_mainPlayer", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u5de6\u5074\u73a9\u5bb6ID"
                })], e.prototype, "occupyID", void 0), a([C({
                    type: cc.Node,
                    displayName: "\u53f3\u5074\u73a9\u5bb6ID"
                })], e.prototype, "challengerID", void 0), a([P], e)
            }(_.default);
        n.default = w, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/FishAvatarIcon": "FishAvatarIcon",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./SubmarineUI": "SubmarineUI"
    }],
    SkillSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8cef922g1pMLJmijlJxc0AU", "SkillSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.SKILL_CMD_NAME = void 0;
        var a, s = t("../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Event/EventPuzzleDropEggMgr"),
            c = t("../MainGame/Award/AwardManager"),
            l = t("../MainGame/Common/EnumFilter"),
            h = t("../MainGame/Common/ResourceManager"),
            u = t("../MainGame/Fish/FishManager"),
            p = t("../MainGame/Item/ItemManager"),
            d = t("../MainGame/Player/PlayerManager"),
            f = t("../MainGame/Skill/BaseSkill"),
            y = t("../MainGame/Weapon/WeaponManager"),
            m = t("./baseSystem"),
            g = t("./ItemSystem"),
            S = t("./WeaponSystem");
        (function(t) {
            t.DRILL_GET = "sk_drill", t.DRILL_SHOOT = "sk_drill_shoot", t.DRILL_HIT = "sk_drill_hit", t.DRILL_BOMB = "sk_drill_bomb", t.ELECTRIC_GET = "sk_electric", t.ELECTRIC_SHOOT = "sk_electric_use", t.ELECTRIC_HIT = "sk_electric_hit", t.MULTI_BOMB_GET = "sk_bomb", t.MULTI_BOMB_BOMB = "sk_bomb_range", t.FLAME_STORM_GET = "sk15", t.FLAMES_TORM_SHOOT = "sk16", t.FLAMES_TORM_HIT = "sk17", t.FLAMES_TORM_END = "sk18", t.FLAMES_TORM_CHECK = "sk19", t.WHEEL_GET = "sk_12", t.WHEEL_CLICK = "sk_13", t.WIND_GET = "sk_wind", t.LOCK_HIT = "sk24", t.TIGER_HIT = "sk_scale_lock_blast", t.DRAGON_HIT = "sk_multi_lock_blast", t.THUNDER_DRAGON_GET = "sk_25", t.THUNDER_DRAGON_BOMB = "sk_26", t.KING_CRAB_GET = "sk_25_kp", t.KING_CRAB_BOMB = "sk_26_kp", t.KING_TACO_GET = "sk_25_kt", t.KING_TACO_BOMB = "sk_26_kt", t.KING_ANGLER_GET = "sk_af_bomb", t.KING_ANGLER_BOMB = "sk_af_bomb_range", t.KING_LACOSTE_GET = "sk_kl_bomb", t.KING_LACOSTE_BOMB = "sk_kl_bomb_range", t.ROCKET_GET = "sk_88", t.FLASH_GET = "sk_flash", t.FLASH_NEXT = "sk_3", t.HAMMER_GET = "sk_flash_hammer", t.HAMMER_BOMB = "sk_flash_hammer_explore", t.MERMAID_GET = "sk_km_bomb", t.MERMAID_BOMB = "sk_km_bomb_range", t.PHOENIX_GET = "sk_kp_ph", t.PHOENIX_BOMB = "sk_kp_ph_explore", t.BUFFALO_GET = "sk_buffalo_bomb", t.BUFFALO_BOMB = "sk_buffalo_bomb_range", t.LUCKY_SHAMROCK_GET = "sk_lucky_shamrock_bomb", t.LUCKY_SHAMROCK_BOMB = "sk_lucky_shamrock_bomb_range", t.KINGKONG_GET = "sk_KingKong_bomb", t.KINGKONG_BOMB = "sk_KingKong_bomb_range", t.ROCKSKULL_GET = "sk_RockSkeleton_bomb", t.ROCKSKULL_BOME = "sk_RockSkeleton_bomb_range", t.VAMPIRE_GET = "sk_Vampire", t.VAMPIRE_ODDS = "VampireOdds", t.LIONDANCE_GET = "sk_LionDance", t.LIONDANCE_END = "sk_LionDance_finish", t.BUDDHA_GET = "sk_LuckyBuddha", t.BUDDHA_ODDS = "LuckyBuddhaOdds", t.BUDDHA_END = "sk_LuckyBuddha_finish", t.DRAGON_TURTLE_GET = "sk_TurtleBoss_bomb", t.DRAGON_TURTLE_BOMB = "sk_TurtleBoss_bomb_range", t.RED_DRAGON_GET = "sk_RedDragon_bomb", t.RED_DRAGON_BOMB = "sk_RedDragon_bomb_range", t.TREASURE_CRAB = "sk_TreasureCrab", t.TREASURE_CRAB_INFO = "sk_TreasureCrabInfo", t.SUBMARINE_EVENT = "sk_submarine_event", t.SUBMARINE_END = "sk_submarine_show_over", t.LUCKY_CAT_GET = "sk_LuckyCat", t.LUCKY_CAT_END = "sk_LuckyCat_finish", t.CLOWN_GET = "sk_CircusClown", t.CLOWN_ODDS = "CircusClownOdds", t.CLOWN_END = "sk_CircusClown_finish", t.PIG_GET = "sk_CircusPig_bomb", t.PIG_BOMB = "sk_CircusPig_bomb_range", t.TIGER_GET = "sk_CircusTiger", t.TIGER_END = "sk_CircusTiger_finish"
        })(a = n.SKILL_CMD_NAME || (n.SKILL_CMD_NAME = {}));
        var _ = function(t) {
            function e(e) {
                var n = t.call(this, e, "skill") || this;
                n.UpdateAssetEvent = null, n.skillList = new Array, n.cheatString = null, n.RegisterCmdCallback(a.DRILL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.DRILL_SHOOT, n.onSkillShoot.bind(n)), n.RegisterCmdCallback(a.DRILL_HIT, n.OnDrillHit.bind(n)), n.RegisterCmdCallback(a.DRILL_BOMB, n.OnDrillExplode.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_SHOOT, n.onSkillShoot.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_HIT, n.OnElectricExplode.bind(n)), n.RegisterCmdCallback(a.FLAME_STORM_GET, n.onGetFlameStorm.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_CHECK, n.onCheckFlameStorm.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_END, n.onFlameStormEnd.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_SHOOT, n.onSkillShoot.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_HIT, n.onHitReceive.bind(n)), n.RegisterCmdCallback(a.LOCK_HIT, n.OnLockHit.bind(n), a.LOCK_HIT, [null, "2"]), n.RegisterCmdCallback(a.TIGER_HIT, n.OnTigerHit.bind(n), a.TIGER_HIT, [null, "2"]), n.RegisterCmdCallback(a.DRAGON_HIT, n.OnDragonHit.bind(n), a.DRAGON_HIT, [null, "2"]), n.RegisterCmdCallback(a.ROCKET_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.WHEEL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.WHEEL_CLICK, n.onStopWheelReceive.bind(n)), n.RegisterCmdCallback(a.MULTI_BOMB_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.MULTI_BOMB_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.WIND_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.FLASH_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.FLASH_NEXT, n.OnLinkReceive.bind(n)), n.RegisterCmdCallback(a.THUNDER_DRAGON_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.THUNDER_DRAGON_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_CRAB_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_CRAB_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_TACO_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_TACO_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_ANGLER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_ANGLER_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.HAMMER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.HAMMER_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_LACOSTE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_LACOSTE_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.MERMAID_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.MERMAID_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.PHOENIX_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.PHOENIX_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.BUFFALO_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUFFALO_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.LUCKY_SHAMROCK_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.LUCKY_SHAMROCK_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KINGKONG_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KINGKONG_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.ROCKSKULL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.ROCKSKULL_BOME, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.VAMPIRE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.VAMPIRE_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.LIONDANCE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUDDHA_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUDDHA_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.DRAGON_TURTLE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.DRAGON_TURTLE_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.RED_DRAGON_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.RED_DRAGON_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.TREASURE_CRAB, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(a.TREASURE_CRAB_INFO, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(a.SUBMARINE_EVENT, n.onSubmarineEvent.bind(n)), n.RegisterCmdCallback(a.LUCKY_CAT_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.CLOWN_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.CLOWN_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.PIG_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.PIG_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.TIGER_GET, n.onGetSkill.bind(n));
                for (var i = 0; i < 4; i++) n.skillList.push(new Array);
                return n
            }
            return o(e, t), e.prototype.onGetSkill = function(t, e, n, i, o, s) {
                if (t == ArkSDK.HttpConnect.HttpResult.OK)
                    if (e) {
                        var r = e.seat;
                        if (d.PlayerManager.Instance.players[r]) {
                            switch (s) {
                                case a.DRILL_GET:
                                    this.AddSkill(f.skillEnum.Drill, r, e);
                                    break;
                                case a.ELECTRIC_GET:
                                    this.AddSkill(f.skillEnum.Electric, r, e);
                                    break;
                                case a.KING_CRAB_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingSpiderCrab, r, e);
                                    break;
                                case a.FLASH_GET:
                                    this.AddSkill(f.skillEnum.Flash, r, e);
                                    break;
                                case a.WHEEL_GET:
                                    this.AddSkill(f.skillEnum.Wheel, r, e);
                                    break;
                                case a.WIND_GET:
                                    this.AddSkill(f.skillEnum.Wind, r, e);
                                    break;
                                case a.MULTI_BOMB_GET:
                                    this.AddSkill(f.skillEnum.MultiBomb, r, e);
                                    break;
                                case a.KING_TACO_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingTaco, r, e);
                                    break;
                                case a.THUNDER_DRAGON_GET:
                                    this.AddSkill(f.skillEnum.ThunderDragon, r, e);
                                    break;
                                case a.ROCKET_GET:
                                    this.AddSkill(f.skillEnum.Rocket, r, e);
                                    break;
                                case a.KING_ANGLER_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingAnglerFish, r, e);
                                    break;
                                case a.HAMMER_GET:
                                    this.AddSkill(f.skillEnum.Hammer, r, e);
                                    break;
                                case a.KING_LACOSTE_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingLacoste, r, e);
                                    break;
                                case a.MERMAID_GET:
                                    this.AddSkill(f.skillEnum.AwakenMermaid, r, e);
                                    break;
                                case a.PHOENIX_GET:
                                    this.AddSkill(f.skillEnum.AwakenPhoenix, r, e);
                                    break;
                                case a.BUFFALO_GET:
                                    this.AddSkill(f.skillEnum.Buffalo, r, e);
                                    break;
                                case a.LUCKY_SHAMROCK_GET:
                                    this.AddSkill(f.skillEnum.Patrick, r, e);
                                    break;
                                case a.KINGKONG_GET:
                                    this.AddSkill(f.skillEnum.KingKong, r, e);
                                    break;
                                case a.ROCKSKULL_GET:
                                    this.AddSkill(f.skillEnum.RockSkull, r, e);
                                    break;
                                case a.VAMPIRE_GET:
                                    this.AddSkill(f.skillEnum.Vampire, r, e);
                                    break;
                                case a.DRAGON_TURTLE_GET:
                                    this.AddSkill(f.skillEnum.DragonTurtle, r, e);
                                    break;
                                case a.BUDDHA_GET:
                                    this.AddSkill(f.skillEnum.Buddha, r, e);
                                    break;
                                case a.LIONDANCE_GET:
                                    this.AddSkill(f.skillEnum.LionDance, r, e);
                                    break;
                                case a.RED_DRAGON_GET:
                                    this.AddSkill(f.skillEnum.RedDragon, r, e);
                                    break;
                                case a.SUBMARINE_EVENT:
                                    this.AddSkill(f.skillEnum.Submarine, r, e);
                                    break;
                                case a.LUCKY_CAT_GET:
                                    this.AddSkill(f.skillEnum.LuckyCat, r, e);
                                    break;
                                case a.CLOWN_GET:
                                    this.AddSkill(f.skillEnum.Clown, r, e);
                                    break;
                                case a.PIG_GET:
                                    this.AddSkill(f.skillEnum.Pig, r, e);
                                    break;
                                case a.TIGER_GET:
                                    this.AddSkill(f.skillEnum.Tiger, r, e)
                            }
                            if (e.hasOwnProperty("player_info")) {
                                var c = e.player_info;
                                this.UpdateAssetEvent && this.UpdateAssetEvent(c)
                            }
                        } else cc.warn("Skill can't find player.")
                    } else cc.warn("Get skill data is null.");
                else cc.warn("Get skill Fail.")
            }, e.prototype.AddSkill = function(t, e, n) {
                void 0 === n && (n = null);
                var i = null,
                    o = null;
                if (t != f.skillEnum.RedDragon && (i = this.FindSkill(t, e)), e < this.skillList.length) {
                    var a = h.default.SpawnSkill(t, d.PlayerManager.isMainSeat(e));
                    a ? ((o = a.getComponent(f.default)).SetSkillType(t), o.Init(e, n), this.skillList[e].push(o)) : cc.warn("Can't spawn skill: " + t)
                }
                return i && (cc.warn("\u6280\u80fd\u5df2\u7d93\u5b58\u5728\u4e86"), i.UnUseSkill(), i = null), o
            }, e.prototype.FindSkill = function(t, e) {
                if (e >= this.skillList.length) return null;
                for (var n = 0; n < this.skillList[e].length; n++)
                    if (this.skillList[e][n].GetSkillType() == t && !this.skillList[e][n].IsGaveAward()) return this.skillList[e][n]
            }, e.prototype.RemoveSkill = function(t, e, n) {
                if (!(e >= this.skillList.length))
                    for (var i = 0; i < this.skillList[e].length; i++)
                        if (this.skillList[e][i].GetSkillType() == t && this.skillList[e][i] == n) {
                            this.skillList[e].splice(i, 1);
                            break
                        }
            }, e.prototype.RemovePlayerSkill = function(t) {
                if (!(t >= this.skillList.length))
                    for (var e = this.skillList[t].length - 1; e >= 0; e--) this.skillList[t][e].UnUseSkill()
            }, e.prototype.checkSkill = function(t) {
                for (var e = 0; e < this.skillList[t].length; e++)
                    if (this.skillList[t][e].GetSkillType() != f.skillEnum.Lock) return !0;
                return !1
            }, e.prototype.SendHitFish = function(t, e) {
                var n = {};
                n.fish = e, this.SendCmd(t, n)
            }, e.prototype.SendRangeFish = function(t, e, n) {
                var i = null;
                (i = n || {}).fish = e, this.SendCmd(t, i)
            }, e.prototype.SendSkillShoot = function(t, e, n, i) {
                var o = {};
                o.seat = e, o.x = n, o.y = i, this.SendCmd(t, o)
            }, e.prototype.onSkillShoot = function(t, e, n, i, o, s) {
                if (e) {
                    var r = e.seat,
                        c = e.x,
                        l = e.y;
                    if (d.PlayerManager.Instance && !d.PlayerManager.isMainSeat(r)) switch (s) {
                        case a.DRILL_SHOOT:
                            var h = this.FindSkill(f.skillEnum.Drill, r);
                            h && h.SetOtherShootData(c, l);
                            break;
                        case a.ELECTRIC_SHOOT:
                            var u = this.FindSkill(f.skillEnum.Electric, r);
                            u && u.SetOtherShootData(c, l);
                            break;
                        case a.FLAMES_TORM_SHOOT:
                            var p = this.FindSkill(f.skillEnum.FlameStorm, r);
                            if (p) {
                                var y = e[1],
                                    m = cc.v2(e[4], e[5]);
                                p.onShoot(y, m)
                            }
                    }
                } else cc.warn("Skill shoot data is null.")
            }, e.prototype.onSkillExplosion = function(t, e, n, i, o, s) {
                var r = !0,
                    c = 0,
                    h = 0;
                if (e) {
                    var u = e.seat;
                    if (d.PlayerManager.isMainSeat(u)) {
                        var p = e.credits;
                        d.PlayerManager.BulletSync(null, p)
                    }
                    switch (s) {
                        case a.KING_CRAB_BOMB:
                            var y = this.FindSkill(f.skillEnum.AwakenKingSpiderCrab, u);
                            y ? y.InitExplosion(e) : (r = !1, h = e.total_win);
                            break;
                        case a.KING_TACO_BOMB:
                            var m = this.FindSkill(f.skillEnum.AwakenKingTaco, u);
                            m ? m.InitExplosion(e) : (r = !1, h = e.total_win);
                            break;
                        case a.MULTI_BOMB_BOMB:
                            var g = this.FindSkill(f.skillEnum.MultiBomb, u);
                            g ? g.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.THUNDER_DRAGON_BOMB:
                            var S = this.FindSkill(f.skillEnum.ThunderDragon, u);
                            S ? S.InitExplosion(e) : (r = !1, h = e.total_win);
                            break;
                        case a.KING_ANGLER_BOMB:
                            var _ = this.FindSkill(f.skillEnum.AwakenKingAnglerFish, u);
                            _ ? _.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.KING_LACOSTE_BOMB:
                            var v = this.FindSkill(f.skillEnum.AwakenKingLacoste, u);
                            v ? v.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.PHOENIX_BOMB:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case l.FishGame.WCF:
                                    var b = this.FindSkill(f.skillEnum.AwakenPhoenix, u);
                                    b ? b.InitExplodeData(e) : r = !1;
                                    break;
                                case l.FishGame.ZB:
                                case l.FishGame.KK:
                                    var P = this.FindSkill(f.skillEnum.AwakenPhoenix, u);
                                    P ? P.InitExplodeData(e) : r = !1;
                                    break;
                                default:
                                    var C = this.FindSkill(f.skillEnum.AwakenPhoenix, u);
                                    C ? C.InitExplodeData(e) : r = !1
                            }
                            if (!r)
                                for (var w = e.fish_dead_dict, I = Object.keys(w), k = 0; k < I.length; k++) c += w[I[k]].coin;
                            break;
                        case a.HAMMER_BOMB:
                            var T = this.FindSkill(f.skillEnum.Hammer, u);
                            T ? T.OnHammerBomb(e) : (r = !1, h = e.total_win);
                            break;
                        case a.MERMAID_BOMB:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case l.FishGame.ALD:
                                case l.FishGame.KK:
                                    var M = this.FindSkill(f.skillEnum.AwakenMermaid, u);
                                    M ? M.onPoseidonBomb(e) : r = !1;
                                    break;
                                default:
                                    var A = this.FindSkill(f.skillEnum.AwakenMermaid, u);
                                    A ? A.onMermaidBomb(e) : r = !1
                            }
                            r || (c = e.win);
                            break;
                        case a.BUFFALO_BOMB:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case l.FishGame.KK:
                                    var O = this.FindSkill(f.skillEnum.Buffalo, u);
                                    O ? O.InitExplodeData(e) : r = !1;
                                    break;
                                default:
                                    var F = this.FindSkill(f.skillEnum.Buffalo, u);
                                    F ? F.InitExplodeData(e) : r = !1
                            }
                            r || (c = e.win);
                            break;
                        case a.LUCKY_SHAMROCK_BOMB:
                            var E = this.FindSkill(f.skillEnum.Patrick, u);
                            E ? E.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.KINGKONG_BOMB:
                            var R = this.FindSkill(f.skillEnum.KingKong, u);
                            R ? R.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.ROCKSKULL_BOME:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case l.FishGame.ALD:
                                    var B = this.FindSkill(f.skillEnum.RockSkull, u);
                                    B ? B.InitExplodeData(e) : r = !1;
                                    break;
                                default:
                                    var L = this.FindSkill(f.skillEnum.RockSkull, u);
                                    L ? L.InitExplodeData(e) : r = !1
                            }
                            r || (c = e.win);
                            break;
                        case a.DRAGON_TURTLE_BOMB:
                            var D = this.FindSkill(f.skillEnum.DragonTurtle, u);
                            D ? D.InitExplodeData(e) : (r = !1, c = e.win);
                            break;
                        case a.RED_DRAGON_BOMB:
                            var G = this.FindSkill(f.skillEnum.RedDragon, u);
                            G ? G.InitExplosion(e) : (r = !1, c = e.win);
                            break;
                        case a.PIG_BOMB:
                            var N = this.FindSkill(f.skillEnum.Pig, u);
                            N ? N.InitExplodeData(e) : (r = !1, c = e.win)
                    }
                    if (r || d.PlayerManager.Instance.ModifyPlayerWinning(u, c > 0 ? c : h, null), e.hasOwnProperty("player_info") && (0 == e.continue || 0 == e.continues || s == a.HAMMER_BOMB || s == a.THUNDER_DRAGON_BOMB || s == a.KING_CRAB_BOMB || s == a.KING_TACO_BOMB)) {
                        var U = e.player_info;
                        this.UpdateAssetEvent && this.UpdateAssetEvent(U)
                    }
                } else cc.warn("Skill explosion data is null.")
            }, e.prototype.onGetFlameStorm = function(t, e) {
                if (t == ArkSDK.HttpConnect.HttpResult.OK)
                    if (e) {
                        var n = e[2];
                        d.PlayerManager.Instance.players[n] ? this.AddSkill(f.skillEnum.FlameStorm, n, e) : cc.warn("Skill can't find player.")
                    } else cc.warn("Get skill data is null.");
                else cc.warn("Get skill Fail.")
            }, e.prototype.CreateFlameStorm = function(t, e, n, i, o) {
                void 0 === i && (i = 0), void 0 === o && (o = 1)
            }, e.prototype.onCheckFlameStorm = function(t, e) {
                if (e) {
                    var n = e[2],
                        i = this.FindSkill(f.skillEnum.FlameStorm, n);
                    if (i) {
                        var o = e[9],
                            a = e[15];
                        i.onCheckSkill(o, a)
                    }
                }
            }, e.prototype.FlameStormShoot = function(t, e) {
                var n = {
                    1: t,
                    4: e.x,
                    5: e.y
                };
                this.SendCmd(a.FLAMES_TORM_SHOOT, n)
            }, e.prototype.FlameStormBlast = function(t, e, n) {
                var i = {
                    1: t,
                    2: e,
                    6: n
                };
                this.SendCmd(a.FLAMES_TORM_HIT, i)
            }, e.prototype.onHitReceive = function(t, e) {
                var n = e[2];
                if (d.PlayerManager.isMainSeat(n)) {
                    var i = e[3];
                    d.PlayerManager.BulletSync(null, i)
                }
                var o = e[8],
                    a = e[13],
                    s = e[15],
                    r = this.FindSkill(f.skillEnum.FlameStorm, n);
                if (null != r) r.onHit(o, a, s);
                else {
                    for (var c = Object.keys(o), l = 0, h = 0; h < c.length; h++) l += o[c[h]].coin;
                    d.PlayerManager.Instance.ModifyPlayerWinning(n, l, null)
                }
            }, e.prototype.onFlameStormEnd = function(t, e) {
                var n = e.seat;
                if (d.PlayerManager.isMainSeat(n)) {
                    var i = e.credits;
                    d.PlayerManager.BulletSync(null, i)
                }
                var o = this.FindSkill(f.skillEnum.FlameStorm, n);
                if (o && o.onSkillEnd(e), e.hasOwnProperty("player_info")) {
                    var a = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(a)
                }
            }, e.prototype.OnDrillHit = function(t, e) {
                var n = e.seat;
                if (d.PlayerManager.isMainSeat(n)) {
                    var i = e.credits;
                    d.PlayerManager.BulletSync(null, i)
                }
                for (var o = e.bet, a = e.fish_dead_dict, s = this.FindSkill(f.skillEnum.Drill, n), r = Object.keys(a), c = 0, l = 0; l < r.length; l++) {
                    var h = u.default.Instance.GetFishByID(r[l].toString());
                    if (null != h) {
                        if (h.Feature) continue;
                        var p = a[r[l]],
                            y = p.coin,
                            m = p.odds;
                        c += y, s && s.BulletHitFish(h, y, m, o)
                    }
                }
                s || d.PlayerManager.Instance.ModifyPlayerWinning(n, c, null)
            }, e.prototype.OnDrillExplode = function(t, e) {
                var n = e.seat,
                    i = e.bet,
                    o = (e.id, e.fish),
                    a = e.odds,
                    s = e.total_win,
                    r = e.total_odds;
                if (d.PlayerManager.isMainSeat(n)) {
                    var c = e.credits;
                    d.PlayerManager.BulletSync(null, c)
                }
                if (e.hasOwnProperty("player_info")) {
                    var l = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(l)
                }
                var h = this.FindSkill(f.skillEnum.Drill, n);
                if (null != h) {
                    var p = new Array,
                        y = new Array;
                    if (null != o && null != a && i > 0)
                        for (var m = 0; m < o.length && (p.push(u.default.Instance.GetFishByID(o[m])), !(m >= a.length)); m++) y.push(a[m] * i);
                    h.SetExplodeData(p, y, a, s, r)
                } else d.PlayerManager.Instance.ModifyPlayerWinning(n, s, null)
            }, e.prototype.OnElectricExplode = function(t, e) {
                var n = e.seat,
                    i = e.bet,
                    o = (e.id, e.fish),
                    a = e.odds,
                    s = e.total_win,
                    r = e.total_odds;
                if (d.PlayerManager.isMainSeat(n)) {
                    var c = e.credits;
                    d.PlayerManager.BulletSync(null, c)
                }
                if (e.hasOwnProperty("player_info")) {
                    var l = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(l)
                }
                var h = this.FindSkill(f.skillEnum.Electric, n);
                if (null != h) {
                    var p = new Array,
                        y = new Array;
                    if (null != o && null != a && i > 0)
                        for (var m = 0; m < o.length && (p.push(u.default.Instance.GetFishByID(o[m])), !(m >= a.length)); m++) y.push(a[m] * i);
                    h.SetExplodeData(p, y, a, s, r)
                } else d.PlayerManager.Instance.ModifyPlayerWinning(n, s, null)
            }, e.prototype.OnLinkReceive = function(t, e) {
                if (e) {
                    var n = e.seat;
                    if (d.PlayerManager.isMainSeat(n)) {
                        var i = e.credits;
                        d.PlayerManager.BulletSync(null, i)
                    }
                    if (e.hasOwnProperty("player_info") && 0 == e.continue) {
                        var o = e.player_info;
                        this.UpdateAssetEvent && this.UpdateAssetEvent(o)
                    }
                    var a = e.fish_dead_dict,
                        s = Object.keys(a),
                        r = this.FindSkill(f.skillEnum.Flash, n);
                    if (null != r) r.NextFishInfo(e);
                    else {
                        for (var c = 0, l = 0; l < s.length; l++) c += a[s[l]].coin;
                        d.PlayerManager.Instance.ModifyPlayerWinning(n, c, null)
                    }
                } else console.warn("[Skill][FlashLinkReceive] Data is NULL.")
            }, e.prototype.OnLockHit = function(t, e) {
                if (e) {
                    var n = e[S.WeaponData.seat];
                    if (!this.CheckBetList(n, e)) {
                        var i = e[S.WeaponData.bet],
                            o = e[S.WeaponData.credits];
                        d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(null, o), this.ParsePuzzelDropEgg(n, e);
                        var a = SS.Common.GameEnvironment.CurrentGameNow == l.FishGame.MF ? y.default.Instance.GetSkillLockLv(n) : f.skillEnum.Lock,
                            s = this.FindSkill(a, n),
                            r = e[S.WeaponData.fish_id];
                        if (!r) {
                            var c = Object.keys(e[S.WeaponData.fish_dead_dict]);
                            r = parseInt(c[0])
                        }
                        if (s && s.OnLockHit(i, n, r), e.hasOwnProperty("player_info")) {
                            var h = e.player_info;
                            this.UpdateAssetEvent && this.UpdateAssetEvent(h)
                        }
                        var u = e[S.WeaponData.feature],
                            p = e[S.WeaponData.fish_dead_dict];
                        null == p || p.length <= 0 ? d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(-1) : this.SolveDieFish(n, i, u, p)
                    }
                } else console.warn("[Skill][OnLockHit] Data is NULL.")
            }, e.prototype.OnTigerHit = function(t, e) {
                if (e) {
                    var n = e[S.WeaponData.seat];
                    if (!this.CheckBetList(n, e)) {
                        var i = e[S.WeaponData.bet],
                            o = e[S.WeaponData.credits];
                        d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(null, o), this.ParsePuzzelDropEgg(n, e);
                        var a = this.FindSkill(f.skillEnum.TigerWeapon, n),
                            s = e[S.WeaponData.fish_id];
                        if (!s) {
                            var r = Object.keys(e[S.WeaponData.fish_dead_dict]);
                            s = parseInt(r[0])
                        }
                        if (a && a.OnBlast(i, n, s), e.hasOwnProperty("player_info")) {
                            var c = e.player_info;
                            this.UpdateAssetEvent && this.UpdateAssetEvent(c)
                        }
                        var l = e[S.WeaponData.feature],
                            h = e[S.WeaponData.fish_dead_dict];
                        null == h || h.length <= 0 ? d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(-1) : this.SolveDieFish(n, i, l, h)
                    }
                } else console.warn("[Skill][OnTigerHit] Data is NULL.")
            }, e.prototype.OnDragonHit = function(t, e) {
                if (e) {
                    var n = e[S.WeaponData.seat];
                    if (!this.CheckBetList(n, e)) {
                        var i = e[S.WeaponData.bet],
                            o = e[S.WeaponData.credits];
                        d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(null, o), this.ParsePuzzelDropEgg(n, e);
                        var a = this.FindSkill(f.skillEnum.DragonWeapon, n),
                            s = e[S.WeaponData.fish_id];
                        if (!s) {
                            var r = Object.keys(e[S.WeaponData.fish_dead_dict]);
                            s = parseInt(r[0])
                        }
                        if (a && a.OnBlast(i, n, s), e.hasOwnProperty("player_info")) {
                            var c = e.player_info;
                            this.UpdateAssetEvent && this.UpdateAssetEvent(c)
                        }
                        var l = e[S.WeaponData.fish_dead_dict];
                        null == l || Object.keys(l).length <= 0 ? d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(-1) : (Object.keys(l).length > 1 && d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(Object.keys(l).length - 1), this.SolveDieFish(n, i, !1, l))
                    }
                } else console.warn("[Skill][OnDragonHit] Data is NULL.")
            }, e.prototype.CheckBetList = function(t, e) {
                if (e.hasOwnProperty("result")) {
                    var n = e.result;
                    if (e.hasOwnProperty("betRange") && e.hasOwnProperty("bet")) {
                        var i = e.betRange,
                            o = 0;
                        e.hasOwnProperty("bet") && (o = e.bet), d.PlayerManager.isMainSeat(t) && d.PlayerManager.Instance.CheckBetList(t, i, n, o)
                    }
                    if (-1 == n) return !0
                }
                return !1
            }, e.prototype.ParsePuzzelDropEgg = function(t, e) {
                if (e.hasOwnProperty("puzzle_ack") && e.hasOwnProperty("hit_fish_id_list")) {
                    var n = e.puzzle_ack,
                        i = e.hit_fish_id_list[0];
                    n.hasOwnProperty("900005") && r.default.Instance.ParsePuzzelDropEgg(t, d.PlayerManager.isMainSeat(t), n, i)
                }
            }, e.prototype.SolveDieFish = function(t, e, n, i) {
                for (var o = this, a = Object.keys(i), r = function(r) {
                        var h = i[a[r]],
                            p = h[S.WeaponData.fs_item_dict],
                            f = h[S.WeaponData.coin],
                            y = h.hasOwnProperty(S.WeaponData.feature) ? h[S.WeaponData.feature] : n,
                            m = cc.Vec2.ZERO,
                            g = u.default.Instance.GetFishByID(a[r].toString());
                        if (g) g.IsFeatureFish && (y = !0), y && !l.default.KillableFeatureFish(g.Type) || u.default.Instance.KillFish(t, g, f, e, null, null, null, h), l.default.getFishType(g.Type) == l.FishType.WealthGod ? (m = s.default.isReverse ? cc.v2(0, -100) : cc.v2(0, 100), setTimeout(function() {
                            o.CallDropItem(t, p, m, !1)
                        }, 5e3)) : c.CallDropItem(t, p, m, !1);
                        else if (f > 0 && d.PlayerManager.Instance.ModifyPlayerWinning(t, f), d.PlayerManager.isMainSeat(t)) {
                            var _ = void 0,
                                v = void 0;
                            Math.random() > .5 ? (_ = Math.floor(1136 * Math.random() - 568), v = Math.random() > .5 ? 350 : -320) : (_ = Math.random() > .5 ? 600 : -600, v = Math.floor(660 * Math.random() - 320)), m = cc.v2(_, v), c.CallDropItem(t, p, m)
                        }
                    }, c = this, h = 0; h < a.length; h++) r(h)
            }, e.prototype.CallDropItem = function(t, e, n, i) {
                if (void 0 === i && (i = !0), null != e) {
                    var o = e.freeze_amount,
                        a = e.summon_amount;
                    Object.keys(e).forEach(function(i) {
                        if (i == g.ITEM_ID.FREEZE || i == g.ITEM_ID.SUMMON) {
                            var s = e[i];
                            s > 0 && p.default.Instance.DropItemEffect(t, i, s, n, !0, null, o, a)
                        }
                    })
                }
            }, e.prototype.SendLockHit = function(t, e, n, i) {
                var o = {};
                o[S.WeaponData.id] = n, o[S.WeaponData.seat] = t, o[S.WeaponData.bet] = e, o[S.WeaponData.fish_id] = i, this.cheatString && (o.cheat_submarine = this.cheatString), this.SendCmd(a.LOCK_HIT, o, !1, t)
            }, e.prototype.SendTigerHit = function(t, e, n, i) {
                var o = {};
                o[S.WeaponData.id] = n, o[S.WeaponData.seat] = t, o[S.WeaponData.bet] = e, o[S.WeaponData.fish_id] = i, this.SendCmd(a.TIGER_HIT, o, !1, t)
            }, e.prototype.SendDragonHit = function(t, e, n, i, o) {
                var s = {};
                s[S.WeaponData.id] = n, s[S.WeaponData.seat] = t, s[S.WeaponData.bet] = e, s[S.WeaponData.fish_id] = o, s[S.WeaponData.fish_id_list] = i, this.SendCmd(a.DRAGON_HIT, s, !1, t)
            }, e.prototype.SendStopWheel = function(t) {
                var e = {};
                e.click = t, this.SendCmd(a.WHEEL_CLICK, e)
            }, e.prototype.onStopWheelReceive = function(t, e) {
                if (e) {
                    var n = e.seat,
                        i = this.FindSkill(f.skillEnum.Wheel, n);
                    if (i) {
                        var o = e.click;
                        if (i.OnStopWheelReceive(o), e.hasOwnProperty("player_info")) {
                            var a = e.player_info;
                            this.UpdateAssetEvent && this.UpdateAssetEvent(a)
                        }
                    }
                } else console.warn("[Skill][Boardcast : onStopWheelReceive] Data is NULL.")
            }, e.prototype.onSyncFishOdds = function(t, e) {
                if (e.hasOwnProperty("Vampire_odds")) {
                    var n = e.Vampire_odds;
                    u.default.Instance.UniqueFishOddsEvent(n, l.FishType.Vampire)
                }
                e.hasOwnProperty("LuckyBuddha_odds") && (n = e.LuckyBuddha_odds, u.default.Instance.UniqueFishOddsEvent(n, l.FishType.Buddha)), e.hasOwnProperty("CircusClown_odds") && (n = e.CircusClown_odds, u.default.Instance.UniqueFishOddsEvent(n, l.FishType.CircusClown))
            }, e.prototype.SendCustomCmd = function(t, e) {
                this.SendCmd(t, e)
            }, e.prototype.onTreasureCrabEvent = function(t, e) {
                if (e.hasOwnProperty("treasure_score") && u.default.Instance.getUniqueFishData(l.FishType.TreasureCrab).setTargetNumber(e.treasure_score), e.hasOwnProperty("win_type")) {
                    var n = e.seat;
                    switch (e.win_type) {
                        case "capture":
                            var i = e.id,
                                o = u.default.Instance.GetFishByID(i),
                                a = e.win,
                                s = e.bet;
                            u.default.Instance.KillFish(n, o, a, s);
                            break;
                        case "upgrade":
                            d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(1), u.default.Instance.getUniqueFishData(l.FishType.TreasureCrab).TreasureCrabLevelUp(e)
                    }
                }
            }, e.prototype.onSubmarineEvent = function(t, e) {
                if (e.hasOwnProperty("win_type")) {
                    var n = e.seat,
                        i = e.win_type,
                        o = e.bet;
                    switch (i) {
                        case "small":
                            var s = e.win_odds_list[0],
                                r = e.id,
                                l = u.default.Instance.GetFishByID(r);
                            c.default.Instance.SmallTreasure(l.node, s, o, n);
                            break;
                        case "big":
                            var h = e.win_odds_list[0],
                                p = e.id,
                                d = u.default.Instance.GetFishByID(p);
                            c.default.Instance.BigTreasure(d.node, h, o, n);
                            break;
                        case "versus1":
                        case "versus2":
                        case "capture":
                            this.onGetSkill(0, e, null, null, null, a.SUBMARINE_EVENT)
                    }
                }
            }, e
        }(m.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "../MainGame/Award/AwardManager": "AwardManager",
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Item/ItemManager": "ItemManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../MainGame/Skill/BaseSkill": "BaseSkill",
        "../MainGame/Weapon/WeaponManager": "WeaponManager",
        "./ItemSystem": "ItemSystem",
        "./WeaponSystem": "WeaponSystem",
        "./baseSystem": "baseSystem"
    }],
    SkillTaco: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a2a5bVyv4FMGpvivkGQv7zj", "SkillTaco");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = t("../../GameClient"),
            u = t("../Common/AudioManager"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/WeaponManager"),
            g = t("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property;
        (function(t) {
            t[t.None = 0] = "None", t[t.Explosion = 1] = "Explosion", t[t.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var b = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.explosion_anim = null, e.burst_anim = null, e.number_anim = null, e.number_label = null, e.totem_node = null, e.Tacos = [], e.multi_List = [], e.multi_index = 0, e.id = "", e.Taco = null, e.SkillState = c.None, e.isGetKillFish = !1, e.Timer = 0, e
            }
            return o(e, t), e.prototype.onLoad = function() {
                this.skillType = g.skillEnum.AwakenKingTaco, this.limitTime = 100
            }, e.prototype.update = function(t) {
                this.ChackExplodeData(t)
            }, e.prototype.InitProperties = function(e) {
                void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.multi_index = 0, this.totem_node.active = !1, this.explosion_anim.node.active = !1, this.burst_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.id = "", this.Timer = 0, this.isGetKillFish = !1, this.SkillState = c.None, this.id = e.id, this.playerBet = e.bet, this.multi_List = e.multi
            }, e.prototype.UseSkill = function() {
                this.Taco = f.default.Instance.GetFishByID(this.id), this.Taco ? this.SkillProcess(this.Taco.node.parent.getPosition(), this.playerSeat) : console.warn("[InitInfo] Crab is Null!")
            }, e.prototype.UnUseSkill = function() {
                t.prototype.UnUseSkill.call(this), this.number_anim.node.parent = this.node, this.Taco = null, this.explosion_anim.stop(), this.burst_anim.stop(), this.number_anim.stop();
                for (var e = 0; e < this.Tacos.length; e++) this.Tacos[e].stop(), this.Tacos[e].node.opacity = 0
            }, e.prototype.InitExplosion = function(t) {
                if (this.id == t.id) {
                    this.totalWin = t.total_win;
                    for (var e = t.fish_dead_dict, n = Object.keys(e), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = f.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(e[o].coin))
                    }
                    this.isGetKillFish = !0
                } else console.warn("[InitExplosion] ID isn't current!")
            }, e.prototype.SkillProcess = function(t, e) {
                return s(this, void 0, void 0, function() {
                    var n = this;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return this.Taco && this.Taco.FishDie(e), [4, this.delay(2e3)];
                            case 1:
                                return i.sent(), this.node.setPosition(t), this.node.angle = l.default.isReverse ? 180 : 0, this.totem_node.opacity = 0, this.totem_node.active = !0, this.node.runAction(cc.sequence(cc.callFunc(function() {
                                    d.default.SpawnEffect(p.EffectType.BallFire, n.isMainPlayer).setPosition(n.node.getPosition()), n.totem_node.runAction(cc.sequence(cc.delayTime(1), cc.fadeIn(1)))
                                }), cc.delayTime(1), cc.callFunc(function() {
                                    u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), n.bgmID = u.default.Instance.Play("BOSS_out01", 1, !0), u.default.Instance.Fade(n.bgmID, 0, 1)
                                }), cc.moveTo(2, cc.v2(0, 0)), cc.callFunc(function() {
                                    n.CreateSkillTitle(), u.default.Instance.Play("jump_01"), n.explosion_anim.node.active = !0, n.number_anim.node.active = !0, n.number_anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                        n.number_label.string = "x" + n.multi_List[n.multi_index]
                                    }), cc.scaleTo(0, 2), cc.scaleTo(1, 1))), n.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2.5), cc.scaleTo(1, 1.3)))
                                }), cc.delayTime(1), cc.callFunc(function() {
                                    n.TacoAttackShow(e, n.multi_List)
                                }))), [2]
                        }
                    })
                })
            }, e.prototype.TacoAttackShow = function(t, e) {
                var n = this;
                this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                    n.Tacos[0].node.opacity = 255, n.Tacos[3].node.opacity = 255, n.Tacos[0].play(), n.Tacos[3].play()
                }), cc.delayTime(.233), cc.callFunc(function() {
                    n.TotemHurtShow(e, 2)
                }), cc.delayTime(1.7), cc.callFunc(function() {
                    n.Tacos[2].node.opacity = 255, n.Tacos[5].node.opacity = 255, n.Tacos[2].play(), n.Tacos[5].play()
                }), cc.delayTime(.233), cc.callFunc(function() {
                    n.TotemHurtShow(e, 2)
                }), cc.delayTime(1.7)), 2), cc.callFunc(function() {
                    n.SkillState = c.Explosion
                })))
            }, e.prototype.ExplodeShow = function() {
                return s(this, void 0, void 0, function() {
                    var t, e;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                for (t = 0, e = 0; e < this.Tacos.length; e++) this.Tacos[e].node.opacity = 255, this.Tacos[e].play();
                                return [4, this.delay(233.3)];
                            case 1:
                                return n.sent(), this.TotemHurtShow(this.multi_List, 1, !0), this.number_anim.play("Number"), this.totem_node.active = !1, t = this.KillFishesAndShowAward(), [4, this.delay(1e3 * t)];
                            case 2:
                                return n.sent(), this.ShowScore(), [2]
                        }
                    })
                })
            }, e.prototype.ShowScore = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return this.isMainPlayer && 0 == this.totalWin ? (h.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (t = 0, t = l.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(this.totalWin / this.multi_List[this.multi_index]), [4, this.delay(1700)]);
                            case 1:
                                return i.sent(), this.number_anim.node.parent = d.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = y.PlayerManager.MainSeat > 1 ? 180 : 0, e = y.PlayerManager.MainSeat > 1 ? -1 : 1, n = m.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, t)).scale(new cc.Vec2(e, e)), this.number_anim.stop(), this.number_anim.node.runAction(cc.moveTo(1.5, n)), [4, this.delay(1500)];
                            case 2:
                                return i.sent(), this.number_label.string = "", this.multi_List[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 4];
                            case 3:
                                return i.sent(), this.PlayAwardSound(), [3, 5];
                            case 4:
                                this.PlayAwardSound(), i.label = 5;
                            case 5:
                                return [4, this.delay(1e3)];
                            case 6:
                                return i.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, e.prototype.TotemHurtShow = function(t, e, n) {
                var i = this;
                if (void 0 === n && (n = !1), n) return this.burst_anim.node.active = !0, this.burst_anim.play("Burst"), u.default.Instance.Play("TD_Explode"), u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("BOSS_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), void this.CameraShakeEffect(3, 2);
                this.explosion_anim.play("Explosion"), this.CameraShakeEffect(1, 3), this.number_anim.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    i.multi_index++, i.multi_index >= t.length && (i.multi_index = t.length - 1), i.number_label.string = "x" + t[i.multi_index]
                }), cc.scaleTo(0, 2), cc.scaleTo(.5, 1)), e)), this.totem_node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    if (!n) {
                        var t = i.multi_index > 9 ? 9 : i.multi_index;
                        u.default.Instance.Play("jump_0" + t.toString())
                    }
                }), cc.scaleTo(0, 2.5), cc.scaleTo(.5, 1.3)), e))
            }, e.prototype.ChackExplodeData = function(t) {
                if (this.SkillState != c.None)
                    if (this.Timer += t, this.isGetKillFish) {
                        switch (this.SkillState) {
                            case c.Explosion:
                                this.ExplodeShow();
                                break;
                            case c.ShowScore:
                                this.ShowScore()
                        }
                        this.SkillState = c.None
                    } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
            }, a([v(cc.Animation)], e.prototype, "explosion_anim", void 0), a([v(cc.Animation)], e.prototype, "burst_anim", void 0), a([v(cc.Animation)], e.prototype, "number_anim", void 0), a([v(cc.Label)], e.prototype, "number_label", void 0), a([v(cc.Node)], e.prototype, "totem_node", void 0), a([v([cc.Animation])], e.prototype, "Tacos", void 0), a([_], e)
        }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillThunderDragon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8dfa2h62zVFU5ow7ehkq1pp", "SkillThunderDragon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("./BaseSkill"),
            h = t("../Player/PlayerManager"),
            u = t("../Fish/FishManager"),
            p = t("../Common/ResourceManager"),
            d = t("../Weapon/WeaponManager"),
            f = t("../Common/AudioManager"),
            y = t("../../GameClient"),
            m = t("../../../../../FishCommon/Script/CanvasHandler");
        (function(t) {
            t[t.None = 0] = "None", t[t.Explosion = 1] = "Explosion", t[t.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var g = cc._decorator,
            S = g.ccclass,
            _ = g.property,
            v = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.explosion_anim = null, e.number_anim = null, e.number_label = null, e.totem_node = null, e.spine_node = null, e.SkillState = c.None, e.multi_index = 0, e.multi_list = null, e.id = "", e.isGetKillFish = !1, e.Timer = 0, e.spine_list = null, e.spine_anim_config = [
                        [],
                        [90, -90, 0, 0, 0, 0, 0, 0],
                        [0, 0, 1, -180, 0, 0, 0, 0],
                        [90, 0, 0, 0, -135, 0, 0, -90],
                        [0, 135, -90, 0, 0, -1, -180, 0],
                        [1, 72, 144, 216, 288, 45, 90, 135]
                    ], e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.limitTime = 30, this.spine_list = this.spine_node.getComponentsInChildren(sp.Skeleton), this.spine_list.forEach(function(t) {
                        t.setCompleteListener(function() {
                            t.node.active = !1
                        })
                    })
                }, e.prototype.update = function(t) {
                    this.ChackExplodeData(t)
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.multi_index = 0, this.multi_list = [], this.totem_node.active = !1, this.totem_node.scale = 1, this.explosion_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.id = "", this.SkillState = c.None, this.isGetKillFish = !1, this.Timer = 0, this.id = e.id, this.playerBet = e.bet, this.multi_list = e.multi
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return f.default.Instance.Play("42_dragon_blow"), (t = u.default.Instance.GetFishByID(this.id)) ? (t.CanCollision = !1, t.PlayDieAnim(), [4, this.delay(2e3)]) : (console.warn("[InitInfo] Dragon is Null!"), [2]);
                                case 1:
                                    return i.sent(), e = this.node.parent.convertToNodeSpaceAR(t.getFishPos()), f.default.Instance.Play("41_catch_bigfish"), (n = p.default.SpawnEffect("7", this.isMainPlayer)) && (n.scale = 2, n.setPosition(e)), [4, this.delay(750)];
                                case 2:
                                    return i.sent(), this.InitTotem(e), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    t.prototype.UnUseSkill.call(this), this.multi_list = null, this.number_anim.node.parent = this.node, this.explosion_anim.stop(), this.number_anim.stop()
                }, e.prototype.InitExplosion = function(t) {
                    if (this.id == t.id) {
                        this.totalWin = t.total_win;
                        for (var e = t.fish_dead_dict, n = Object.keys(e), i = 0; i < n.length; i++) {
                            var o = n[i],
                                a = u.default.Instance.GetFishByID(o);
                            a && (this.dieFishList.push(a), this.winList.push(e[o].coin))
                        }
                        this.isGetKillFish = !0
                    } else console.warn("[InitExplosion] ID isn't current!")
                }, e.prototype.InitTotem = function(t) {
                    var e = this;
                    this.node.setPosition(t), this.node.angle = m.default.isReverse ? 180 : 0, this.node.runAction(cc.sequence(cc.callFunc(function() {
                        e.totem_node.active = !0
                    }), cc.callFunc(function() {
                        f.default.Instance.Fade(f.default.Instance.GetBGMID(), 1, 0), e.bgmID = f.default.Instance.Play("TD_Out01_1", .8), cc.audioEngine.setFinishCallback(e.bgmID, function() {
                            e.bgmID = null, f.default.Instance.Fade(f.default.Instance.GetBGMID(), 0, 1)
                        }), f.default.Instance.Fade(e.bgmID, 0, 1)
                    }), cc.moveTo(1.5, cc.v2(0, 0)), cc.delayTime(.5), cc.callFunc(function() {
                        e.explosion_anim.node.active = !0, e.explosion_anim.play("Explosion"), e.number_anim.node.active = !0, e.DragonBallHit(), e.CreateSkillTitle(), e.SetMainAnim()
                    })))
                }, e.prototype.SetMainAnim = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = 1, this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(1.5), cc.callFunc(function() {
                                        t <= 4 && e.SetSpineAnimByConfig(t), t++
                                    })), 4), cc.repeat(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                                        e.SetSpineAnimByRandom(4)
                                    })), 4))), [4, this.delay(8e3)];
                                case 1:
                                    return n.sent(), this.SkillState = c.Explosion, [2]
                            }
                        })
                    })
                }, e.prototype.ExplodeShow = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.explosion_anim.play("Explosion"), this.number_anim.play("Number"), this.totem_node.active = !1, f.default.Instance.Play("TD_Explode"), t = this.KillFishesAndShowAward(), this.CameraShakeEffect(1, 4), this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                                        e.SmallBlast()
                                    }), cc.delayTime(1.5)), 2)), [4, this.delay(1e3 * t)];
                                case 1:
                                    return n.sent(), this.ShowScore(), [2]
                            }
                        })
                    })
                }, e.prototype.ShowScore = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n, i = this;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.isMainPlayer && 0 == this.totalWin ? (y.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (t = 0, t = m.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(Math.ceil(this.totalWin / this.multi_list[this.multi_index])), [4, this.delay(3e3)]);
                                case 1:
                                    return o.sent(), this.number_anim.node.parent = p.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = h.PlayerManager.MainSeat > 1 ? 180 : 0, e = h.PlayerManager.MainSeat > 1 ? -1 : 1, n = d.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, t)).scale(new cc.Vec2(e, e)), this.number_anim.stop(), this.number_anim.node.runAction(cc.sequence(cc.moveTo(1.5, n), cc.callFunc(function() {
                                        return s(i, void 0, void 0, function() {
                                            return r(this, function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return this.number_label.string = "", this.multi_list[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 2];
                                                    case 1:
                                                        return t.sent(), this.PlayAwardSound(), [3, 3];
                                                    case 2:
                                                        this.PlayAwardSound(), t.label = 3;
                                                    case 3:
                                                        return [4, this.delay(1e3)];
                                                    case 4:
                                                        return t.sent(), this.UnUseSkill(), [2]
                                                }
                                            })
                                        })
                                    }))), [2]
                            }
                        })
                    })
                }, e.prototype.SmallBlast = function() {
                    for (var t = function() {
                            var t = p.default.SpawnEffect("Blue_Blast", e.isMainPlayer);
                            if (!t) return "continue";
                            var n = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                i = 1.5 * Math.random() + 1,
                                o = Math.random();
                            t.active = !1, t.setPosition(n), t.scale = i, e.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                t.active = !0, t.getComponent(cc.Animation).play("Blast")
                            })))
                        }, e = this, n = 0; n < 15; n++) t()
                }, e.prototype.SetSpineAnimByConfig = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o;
                        return r(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    if (t >= this.spine_anim_config.length) return [2];
                                    for (e = this.spine_anim_config[t], n = 0; n < this.spine_list.length; n++) 0 != (i = e[n]) && ((o = this.spine_list[n]).node.active = !0, o.node.angle = -i, o.setAnimation(0, "SWIM", !1));
                                    return [4, this.delay(500)];
                                case 1:
                                    return a.sent(), this.multi_index++, this.DragonBallHit(), [4, this.delay(200)];
                                case 2:
                                    return a.sent(), this.multi_list[this.multi_index] != this.multi_list[this.multi_index + 1] && (this.multi_index++, this.DragonBallHit(!0)), [2]
                            }
                        })
                    })
                }, e.prototype.SetSpineAnimByRandom = function(t) {
                    return s(this, void 0, void 0, function() {
                        var e, n, i, o, a, s;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    e = this.spine_anim_config[5], n = !1, i = this.spine_list.length - 1, r.label = 1;
                                case 1:
                                    return i >= 0 ? (o = e[i], !(a = this.spine_list[i]).node.active && (a.node.active = !0, a.node.angle = -o, a.setAnimation(0, "SWIM", !1), n = !0, --t <= 0) ? [3, 4] : [4, this.delay(100)]) : [3, 4];
                                case 2:
                                    r.sent(), r.label = 3;
                                case 3:
                                    return i--, [3, 1];
                                case 4:
                                    if (!n) return [2];
                                    s = 0, r.label = 5;
                                case 5:
                                    return s < 1 ? (this.multi_index++, this.DragonBallHit(), [4, this.delay(350)]) : [3, 8];
                                case 6:
                                    r.sent(), r.label = 7;
                                case 7:
                                    return s++, [3, 5];
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.DragonBallHit = function(t) {
                    return void 0 === t && (t = !1), s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function() {
                            return this.CameraShakeEffect(1, 3), this.multi_index == this.multi_list.length && (this.multi_index = this.multi_list.length - 1), this.number_label.string = "x" + this.multi_list[this.multi_index], 0 == (e = this.multi_index > 9 ? 9 : this.multi_index) && (e = 1), f.default.Instance.Play("jump_0" + e.toString()), t || this.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2), cc.scaleTo(.25, 1))), this.number_anim.node.runAction(cc.sequence(cc.scaleTo(0, 1.5), cc.scaleTo(.25, 1))), [2]
                        })
                    })
                }, e.prototype.ChackExplodeData = function(t) {
                    if (this.SkillState != c.None)
                        if (this.Timer += t, this.isGetKillFish) {
                            switch (this.SkillState) {
                                case c.Explosion:
                                    this.ExplodeShow();
                                    break;
                                case c.ShowScore:
                                    this.ShowScore()
                            }
                            this.SkillState = c.None
                        } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
                }, a([_(cc.Animation)], e.prototype, "explosion_anim", void 0), a([_(cc.Animation)], e.prototype, "number_anim", void 0), a([_(cc.Label)], e.prototype, "number_label", void 0), a([_(cc.Node)], e.prototype, "totem_node", void 0), a([_(cc.Node)], e.prototype, "spine_node", void 0), a([S], e)
            }(l.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillTigerWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "59c01u5tx1P7bExM+i6twUb", "SkillTigerWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            h = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../GameClient"),
            p = t("../Common/EnumFilter"),
            d = t("../Common/ResourceManager"),
            f = t("../Fish/FishManager"),
            y = t("../Player/PlayerManager"),
            m = t("../Weapon/TigerBullet"),
            g = t("../Weapon/WeaponManager"),
            S = t("./BaseSkill"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.LockAiming = null, e.player = null, e.targetFish = null, e.targetType = -1, e.lastType = null, e.touchFishID = "", e.mWeapon = null, e.betScale = 2, e.unhitList = null, e.StartPos = cc.Vec2.ZERO, e.ShootPos = cc.Vec2.ZERO, e.attackRate = .1666667, e.attackTimer = 0, e.isTouchHold = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = S.skillEnum.TigerWeapon, this.limitTime = 0
                }, e.prototype.onEnable = function() {
                    this.isMainPlayer && (this.lastType && (this.targetType = this.lastType, this.lastType = null), this.RegisterTouchEvent(), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this))
                }, e.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType, f.default.Instance.Event_FishInit = null), this.setLocking(null), this.isTouchHold = !1
                }, e.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), this.isUnuse = !1, this.attackTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", t && t.targetType && (this.targetType = t.targetType), this.player = y.PlayerManager.getPlayer(this.playerSeat)
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.isMainPlayer && (this.RegisterTouchEvent(), this.enableLockAiming(!1), f.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this)), this.StartPos = g.default.WeaponPosition(this.playerSeat).addSelf(this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80)), [2]
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.unhitList = null, this.LockAiming.node.active = !1, this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.enableLockAiming(!1), this.CanelRegisterTouchEvent(), f.default.Instance.Event_FishEnter = null, f.default.Instance.Event_FishInit = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), u.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), d.default.DespawnSkill(this.skillType, this.node)
                }, e.prototype.setWeapon = function(t, e) {
                    this.mWeapon = t, this.attackRate = 1 / e["1secShoot"], this.betScale = e.betScale, this.isMainPlayer && (this.unhitList = p.default.TransFishTypeList(e.UnhitList))
                }, e.prototype.OnBlast = function(t, e, n) {
                    if (!this.isMainPlayer) {
                        y.PlayerManager.Instance.ModifyPlayerEntries(e, -t * this.betScale);
                        var i = f.default.Instance.GetFishByID(n.toString());
                        if (i) {
                            var o = d.default.SpawnBullet("56001", this.isMainPlayer).getComponent(m.default);
                            o && (o.node.setPosition(this.mWeapon.node.getPosition()), o.skillInit(i, this.playerSeat, this.player.bet_value, this.betScale));
                            var a = i.GetLockLinkPoint(this.node.getPosition());
                            a && (this.ShootPos = c.default.ConvMousePos(a)), this.mWeapon.ShootFunction(this.ShootPos)
                        }
                    }
                    this.mWeapon.autoAnim || u.default.Instance.RecordClickLog(this.isMainPlayer)
                }, e.prototype.update = function(e) {
                    this.isUnuse || (t.prototype.update.call(this, e), this.attackTimer < this.attackRate && (this.attackTimer += e), this.isMainPlayer && this.MainPlayerUpdate(e))
                }, e.prototype.setLocking = function(t) {
                    this.isMainPlayer && this.targetFish && t != this.targetFish && (this.targetFish.Event_FishLeave = null, this.touchFishID = ""), this.targetFish = t || null, this.targetType = t ? t.Type : -1, this.isMainPlayer && this.targetFish ? this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this) : this.enableLockAiming(!1)
                }, e.prototype.MainPlayerUpdate = function() {
                    if (!g.default.Instance.getWeapon(this.playerSeat).isGunReady || 0 == g.default.Instance.bulletLimit) return this.enableLockAiming(!1), void(this.isTouchHold = !1);
                    if (this.checkTargetHitPos) {
                        if (this.enableLockAiming(!0), this.LockAiming.node.setPosition(this.ShootPos), this.attackTimer >= this.attackRate) {
                            if (this.attackTimer = 0, this.player.entries < this.player.bet_value * this.betScale) {
                                var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, t, u.default.Instance.title, "Insufficient balance", null), this.setLocking(null), g.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void u.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            if (y.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= y.PlayerManager.Instance.MaxBalance) return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null), this.setLocking(null), g.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                            if (u.default.FishUIMgr.IsPurchaseOpen()) return;
                            var e = d.default.SpawnBullet("56001", this.isMainPlayer).getComponent(m.default);
                            e && (e.node.setPosition(this.mWeapon.node.getPosition()), e.skillInit(this.targetFish, this.playerSeat, this.player.bet_value, this.betScale)), this.mWeapon.ShootFunction(this.ShootPos), y.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value * this.betScale), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN), l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || g.default.Instance.AutoShoot || this.setLocking(null)
                        }
                    } else g.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, Object.defineProperty(e.prototype, "checkTargetHitPos", {
                    get: function() {
                        if (-1 == this.targetType) return !1;
                        if (!this.targetFish) return !1;
                        if (!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)) return !1;
                        var t = this.targetFish.GetLockLinkPoint(this.StartPos);
                        return t ? (this.ShootPos = c.default.ConvMousePos(t), !0) : (this.isMainPlayer && (g.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1)
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.OnTouchStart = function(t) {
                    if (g.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value * this.betScale) {
                            var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, e, u.default.Instance.title, "Insufficient balance", null), void u.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (y.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= y.PlayerManager.Instance.MaxBalance) h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = f.default.Instance.InFishRange(t.getLocation());
                            n && (null == p.default.playerLockSetting && p.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, e.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1, g.default.Instance.AutoShoot || this.setLocking(null)
                }, e.prototype.OnFishEnter = function(t) {
                    if (-1 != this.unhitList.indexOf(t.Type) && t.SetShapeColor(cc.Color.GRAY), g.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == p.default.LockSetting);
                        else {
                            if (t.Type == this.targetType) return;
                            for (var e = 0; e < p.default.LockSetting.length; e++) {
                                if (p.default.LockSetting[e] == this.targetType) return;
                                if (t.Type == p.default.LockSetting[e]) return void this.setLocking(t)
                            }
                        }
                }, e.prototype.OnFishInit = function(t) {
                    -1 != this.unhitList.indexOf(t.Type) && t.SetShapeColor(cc.Color.GRAY)
                }, e.prototype.OnTargetChange = function(t) {
                    t && (t.Event_FishLeave = null), g.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, e.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var t = this.targetFish ? this.targetFish.ID : "",
                            e = null;
                        f.default.Instance && (e = f.default.Instance.GetNextLockFish(this.targetType, t)), e ? this.setLocking(e) : this.enableLockAiming(!1)
                    }
                }, e.prototype.enableLockAiming = function(t) {
                    this.LockAiming.node.active != t && (this.LockAiming.node.active = t, t ? this.LockAiming.play() : this.LockAiming.stop())
                }, a([b(cc.Animation)], e.prototype, "LockAiming", void 0), a([v], e)
            }(S.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/TigerBullet": "TigerBullet",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillTiger: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "7457chyFlFPva89gbSn8Z3g", "SkillTiger");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../GameClient"),
            c = t("../Common/AudioManager"),
            l = t("../Common/ResourceManager"),
            h = t("../Fish/FishManager"),
            u = t("../Player/PlayerManager"),
            p = t("../Weapon/WeaponManager"),
            d = t("./BaseSkill"),
            f = t("./BaseSkillTitleUI"),
            y = cc._decorator,
            m = y.ccclass,
            g = y.property,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Root = null, e.Awaken = null, e.TigerSpine = null, e.FireOParent = [], e.FireOPrefab = [], e.BlackBG = null, e.Miles = null, e.SpeedLine = [], e.Soot = null, e.TapHint = null, e.TigerUI = null, e.currentPrize = 0, e.prize_list = null, e.fishID = null, e.randomSeed = 0, e.prizeType = 0, e.totalFireO = 0, e.currentFireO = 0, e.onAir = !1, e.MilesShowing = 0, e.LoopSound = null, e.hintClickCount = 0, e.isRunning = !1, e.smokeCD = !1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = d.skillEnum.Tiger, this.limitTime = 180
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.onAir && this.UpdateMiles(e)
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.totalWin = e.win, this.totalOdds = e.odds, this.currentWin = 0, this.currentPrize = 0, this.node.angle = s.default.isReverse ? 180 : 0, this.fishID = e.id, this.randomSeed = this.fishID, this.prize_list = e.prize_list, this.onAir = !1, this.MilesShowing = 0, this.hintClickCount = 0, this.isRunning = !1, this.smokeCD = !1
                }, e.prototype.UnUseSkill = function() {
                    this.isMainPlayer && (u.PlayerManager.Instance.isLockChangeBet = !1), p.default.Instance.getWeapon(this.playerSeat).isGunReady = !0, this.isMainPlayer && this.CanelRegisterTouchEvent(), this.TigerUI && (this.TigerUI.Hide(!0), this.TigerUI = null), this.LoopSound && (c.default.Instance.Stop(this.LoopSound), this.LoopSound = null);
                    for (var e = 0; e < this.FireOParent.length; e++)
                        for (var n = 0; n < this.FireOParent[e].childrenCount; n++) this.FireOParent[e].children[n].active = !1;
                    this.Root.setScale(1), this.Root.setPosition(cc.Vec2.ZERO), this.Awaken.node.active = !1, this.BlackBG.opacity = 0, this.Miles.node.parent.active = !1, this.SpeedLine.forEach(function(t) {
                        t.stopSystem()
                    }), this.tapHintActive(!1), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = this,
                        e = h.default.Instance.GetFishByID(this.fishID.toString());
                    if (!e && this.isMainPlayer && (e = h.default.Instance.CreateFakeFish(this.fishID.toString(), 86, new cc.Vec2(700, 360), 10)), e) {
                        this.isMainPlayer && (u.PlayerManager.Instance.isLockChangeBet = !0), p.default.Instance.getWeapon(this.playerSeat).isGunReady = !1, this.isMainPlayer && this.RegisterTouchEvent(), e.FishDie();
                        var n = s.default.isReverse ? e.node.position.neg() : e.node.position;
                        this.node.setPosition(n), cc.tween(this.node).delay(2.5).call(function() {
                            t.Awaken.node.active = !0, t.Awaken.play(), t.Awaken.once(cc.Animation.EventType.FINISHED, function() {
                                t.ShowStart()
                            }), t.scheduleOnce(function() {
                                c.default.Instance.Play("voice_tiger_fever_01")
                            }, 1.8)
                        }).delay(1).to(.5, {
                            position: cc.Vec3.ZERO
                        }).call(function() {
                            t.isMainPlayer && cc.tween(t.BlackBG).to(1, {
                                opacity: 200
                            }).start()
                        }).start()
                    }
                }, e.prototype.ShowStart = function() {
                    var t = this;
                    if (!this.isMainPlayer) {
                        var e = cc.v3(p.default.WeaponUIPosition(this.playerSeat)).add(cc.Vec3.UP.mul(this.playerSeat > 1 ? -200 : 200));
                        s.default.isReverse && e.addSelf(cc.Vec3.UP.mul(this.playerSeat > 1 ? 400 : -400)), cc.tween(this.Root).to(1, {
                            scale: .5,
                            position: e
                        }).start()
                    }
                    this.Awaken.node.active = !1, this.TigerUI = l.default.LoadGUI(d.skillEnum.Tiger).getComponent(f.default), this.TigerUI && this.TigerUI.Init(this.playerBet, this.playerSeat), this.TigerSpine.node.active = !0, this.TigerSpine.node.setPosition(cc.Vec2.ZERO), this.TigerSpine.timeScale = 1, this.TigerSpine.setAnimation(0, "02_RunINTRO", !1), this.TigerSpine.setCompleteListener(function() {
                        t.TigerSpine.setCompleteListener(null), t.TigerSpine.setAnimation(0, "03_Run", !0), t.isRunning = !0, t.tapHintActive(!0)
                    }), c.default.Instance.Fade(c.default.Instance.GetBGMID(), 1, 0), this.bgmID = c.default.Instance.Play("BGM_Tiger_03_1", 1, !0), c.default.Instance.Fade(this.bgmID, 0, 1), h.default.Instance.RemoveFishByID(this.fishID.toString()), cc.tween(this.node).delay(2).call(function() {
                        t.NextAction(), t.isMainPlayer && t.SpeedLine.forEach(function(t) {
                            t.resetSystem(), cc.tween(t).to(3, {
                                emissionRate: 5
                            }).start()
                        })
                    }).start()
                }, e.prototype.NextAction = function() {
                    var t = this;
                    c.default.Instance.Play("Tiger_run_02"), cc.tween(this.TigerSpine).to(3, {
                        timeScale: 4
                    }).call(function() {
                        t.currentPrize < t.prize_list.length ? (t.prizeType = t.prize_list[t.currentPrize].type, t.totalFireO = t.prize_list[t.currentPrize].cnt, t.currentFireO = 0, t.currentPrize++, t.Jump()) : t.ShowEnd()
                    }).start()
                }, e.prototype.Jump = function() {
                    var t = this;
                    c.default.Instance.Play("Tiger_jump_01"), this.TigerSpine.timeScale = 2, cc.tween(this.TigerSpine).to(.2, {
                        timeScale: 1
                    }).start(), this.TigerSpine.setAnimation(0, "04_Jump", !1), this.TigerSpine.setCompleteListener(function() {
                        t.TigerSpine.setCompleteListener(null), t.node && !t.isUnuse && (t.LoopSound = c.default.Instance.Play("Tiger_fly_01", 1, !0), t.TigerSpine.setAnimation(0, "04_JumpIDLE", !0), t.CreateFireOGroup(), t.isMainPlayer && !t.Miles.node.parent.active && (t.Miles.node.parent.active = !0, cc.tween(t.Miles.node.parent).repeat(cc.macro.REPEAT_FOREVER, cc.tween().to(.05, {
                            position: cc.v3(358, -161)
                        }).to(.05, {
                            position: cc.v3(356, -163)
                        }).to(.05, {
                            position: cc.v3(358, -161)
                        }).to(.05, {
                            position: cc.v3(360, -163)
                        })).start()), t.onAir = !0, t.isRunning = !1)
                    }), cc.tween(this.TigerSpine.node).to(.8, {
                        scale: .65
                    }).start()
                }, e.prototype.JumpDown = function() {
                    var t = this;
                    this.LoopSound && (c.default.Instance.Stop(this.LoopSound), this.LoopSound = null), c.default.Instance.Play("Tiger_fall_01"), this.TigerSpine.setAnimation(0, "05_down", !1), this.TigerSpine.setCompleteListener(function() {
                        t.TigerSpine.setCompleteListener(null), t.TigerSpine.setAnimation(0, "03_Run", !0), t.onAir = !1, t.isRunning = !0, t.NextAction()
                    }), cc.tween(this.TigerSpine.node).to(.8, {
                        scale: .9
                    }).start()
                }, e.prototype.CreateFireOGroup = function() {
                    var t = this;
                    if (this.currentFireO >= this.totalFireO) this.JumpDown();
                    else {
                        for (var e = 5; this.currentFireO + e < this.totalFireO && !(this.randomBySeed() < .1);)
                            if (e++, this.currentFireO + e > this.totalFireO - 5) {
                                e = this.totalFireO - this.currentFireO;
                                break
                            }
                        this.currentFireO += e;
                        var n = .5 + this.randomBySeed();
                        cc.tween(this.node).repeat(e, cc.tween().call(function() {
                            t.CreateFireO()
                        }).delay(.1)).delay(n).call(function() {
                            t.CreateFireOGroup()
                        }).start()
                    }
                }, e.prototype.CreateFireO = function() {
                    for (var t = this, e = function(e) {
                            for (var i = null, o = 0; o < n.FireOParent[e].childrenCount; o++)
                                if (!n.FireOParent[e].children[o].active) {
                                    (i = n.FireOParent[e].children[o]).active = !0;
                                    break
                                }
                            null == i && (i = cc.instantiate(n.FireOPrefab[e])).setParent(n.FireOParent[e]), i.getComponent(cc.Animation).play("FireO_" + n.prizeType), i.setPosition(cc.v2(700, 55)), i.opacity = 0, 2 == e ? (i.setScale(1.25), cc.tween(i).parallel(cc.tween().to(.7, {
                                position: cc.v3(25, 55),
                                scale: 1
                            }).call(function() {
                                i.active = !1, t.CreateCoins()
                            }), cc.tween().to(.1, {
                                opacity: 255
                            })).start()) : (i.setScale(1.75), cc.tween(i).parallel(cc.tween().to(1.4, {
                                position: cc.v3(-650, 55),
                                scale: 1
                            }).call(function() {
                                i.active = !1
                            }), cc.tween().to(.1, {
                                opacity: 255
                            }).delay(1.2).to(.1, {
                                opacity: 0
                            })).start())
                        }, n = this, i = 0; i < this.FireOParent.length - 1; i++) e(i)
                }, e.prototype.CreateCoins = function() {
                    var t = this;
                    c.default.Instance.Play("Tiger_coin_01");
                    for (var e = null, n = 0; n < this.FireOParent[3].childrenCount; n++)
                        if (!this.FireOParent[3].children[n].active) {
                            (e = this.FireOParent[3].children[n]).active = !0;
                            break
                        }
                    null == e && (e = cc.instantiate(this.FireOPrefab[2])).setParent(this.FireOParent[3]), e.getComponent(cc.Animation).play("FireO_" + this.prizeType), e.setPosition(cc.v2(25, 55)), e.setScale(.75), cc.tween(e).to(.25, {
                        position: cc.v3(85, 35),
                        scale: 1
                    }).to(.25, {
                        position: cc.v3(105, 65)
                    }).to(1, {
                        position: cc.v3(p.default.WeaponUIPosition(this.playerSeat))
                    }).call(function() {
                        e.active = !1, t.TigerUI && (t.currentWin += (t.prizeType + 2) * t.playerBet, t.TigerUI.SetScore(t.currentWin))
                    }).start()
                }, e.prototype.ShowEnd = function() {
                    var t = this;
                    c.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = c.default.Instance.Play("BGM_Tiger_03_2", 1, !1), c.default.Instance.Fade(this.bgmID, 0, 1), this.tapHintActive(!1), cc.tween(this.TigerSpine.node).to(.5, {
                        position: cc.v3(1e3, 0),
                        scale: 1
                    }).call(function() {
                        t.TigerSpine.node.active = !1
                    }).start(), cc.tween(this.BlackBG).to(1, {
                        opacity: 0
                    }).start(), this.isMainPlayer && this.SpeedLine.forEach(function(t) {
                        t.stopSystem()
                    }), cc.tween(this.node).call(function() {
                        t.TigerUI && t.TigerUI.ShowScore(t.totalWin), cc.Tween.stopAllByTarget(t.Miles.node.parent), t.Miles.node.parent.active = !1
                    }).delay(4).call(function() {
                        t.SkillOver()
                    }).start()
                }, e.prototype.SkillOver = function() {
                    r.default.SkillSystem.SendCustomCmd("sk_CircusTiger_finish"), this.UnUseSkill()
                }, e.prototype.UpdateMiles = function(t) {
                    this.MilesShowing += 78 * t, this.Miles.string = Math.floor(this.MilesShowing).toString()
                }, e.prototype.OnTouchStart = function() {
                    var t = this;
                    this.isMainPlayer && this.hintClickCount++, this.hintClickCount >= 3 && (this.tapHintActive(!1), this.hintClickCount = 0), this.isRunning && !this.smokeCD && (this.smokeCD = !0, c.default.Instance.Play("Tiger_move_02"), cc.Tween.stopAllByTarget(this.Soot), this.Soot.emissionRate = 100, cc.tween(this.Soot).to(.1, {
                        emissionRate: 0
                    }).start(), this.TigerSpine.timeScale > 3 ? this.scheduleOnce(function() {
                        t.smokeCD = !1
                    }, .1) : this.TigerSpine.timeScale > 2 ? this.scheduleOnce(function() {
                        t.smokeCD = !1
                    }, .2) : this.scheduleOnce(function() {
                        t.smokeCD = !1
                    }, .4))
                }, e.prototype.randomBySeed = function() {
                    return this.randomSeed = Math.floor(this.randomSeed % 233280), this.randomSeed = (9301 * this.randomSeed + 49297) % 233280, this.randomSeed / 233280
                }, e.prototype.tapHintActive = function(t) {
                    t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut())), this.hintClickCount = 0), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
                }, a([g(cc.Node)], e.prototype, "Root", void 0), a([g(cc.Animation)], e.prototype, "Awaken", void 0), a([g(sp.Skeleton)], e.prototype, "TigerSpine", void 0), a([g([cc.Node])], e.prototype, "FireOParent", void 0), a([g([cc.Prefab])], e.prototype, "FireOPrefab", void 0), a([g(cc.Node)], e.prototype, "BlackBG", void 0), a([g(cc.Label)], e.prototype, "Miles", void 0), a([g([cc.ParticleSystem])], e.prototype, "SpeedLine", void 0), a([g(cc.ParticleSystem)], e.prototype, "Soot", void 0), a([g(cc.Animation)], e.prototype, "TapHint", void 0), a([m], e)
            }(d.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./BaseSkillTitleUI": "BaseSkillTitleUI"
    }],
    SkillTitle: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "37bf6WkOVxEyK69qXfGHbd+", "SkillTitle");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/Utility"),
            r = t("../Common/PoolObj"),
            c = t("../Common/ResourceManager"),
            l = t("../../../../../FishCommon/Script/CanvasHandler"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BetLabel = null, e.Bet = 0, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e.ScoreNode = null, e.ScoreLabel = null, e.owned = !1, e
                }
                return o(e, t), e.prototype.SetBet = function(t, e) {
                    this.Bet = t, this.owned = e, this.BetLabel && (this.BetLabel.string = s.default.NumberformatBet(t, t))
                }, e.prototype.ShowScore = function(t) {
                    this.isScoreShowing || (this.ScoreNode = c.default.SpawnEffect("SN", this.owned), this.ScoreNode && (this.ScoreLabel = this.ScoreNode.getComponentInChildren(cc.Label)), this.ScoreLabel && (this.ScoreNode.setPosition(this.node.getPosition().sub(cc.v2(0, l.default.isReverse ? -55 : 55))), this.ScoreNode.angle = this.node.angle, this.ScoreNode.runAction(cc.fadeIn(.5)), this.ScoreNode.runAction(cc.repeat(cc.sequence(cc.moveBy(.5, cc.v2(0, 20)), cc.moveBy(.5, cc.v2(0, -20))), cc.macro.REPEAT_FOREVER)), this.ShowingScore = t, this.ScoreLabel.string = s.default.NumberformatBet(t, this.Bet), this.ani.play("SkillTitleShowScore"), this.isScoreShowing = !0))
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.ScoreLabel)
                        if (this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                            var i = e / .05,
                                o = (t - this.ShowingScore) / i;
                            this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                                n.ShowingScore += o, n.ScoreLabel.string = s.default.NumberformatBet(n.ShowingScore, n.Bet)
                            }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                        } else this.ShowingScore = t, this.ScoreLabel.string = s.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? (this.ani.play("SkillTitleFadeOut"), this.ScoreNode && this.ScoreNode.runAction(cc.fadeOut(.5))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreNode && (this.ScoreNode.stopAllActions(), this.ScoreNode.setScale(1), this.ScoreNode.opacity = 255, c.default.DespawnEffect("SN", this.ScoreNode), this.ScoreNode = null), this.ScoreLabel && (this.ScoreLabel.string = "0", this.ScoreLabel = null), this.isScoreShowing = !1, this.ShowingScore = 0, t.prototype.Recycle.call(this)
                }, a([p(cc.Label)], e.prototype, "BetLabel", void 0), a([u], e)
            }(r.default);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility"
    }],
    SkillVampire: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "18b00uOT1ZHr4YNqUehmKUE", "SkillVampire");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../GameClient"),
            c = t("../Award/SkillTitle"),
            l = t("../Common/AudioManager"),
            h = t("../Common/EnumFilter"),
            u = t("../Common/ResourceManager"),
            p = t("../Common/Utility"),
            d = t("../Fish/FishManager"),
            f = t("../Weapon/WeaponManager"),
            y = t("./BaseSkill"),
            m = cc._decorator,
            g = m.ccclass,
            S = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.animation = null, e.scoreLabel = null, e.BetLabel = null, e.oddsParent = null, e.LoopLightingAni = [], e.LoopLineAni = [], e.Particles = [], e.SpeedLine = null, e.fishID = null, e.oriOdds = 1, e.multiple = 1, e.VampireOdds = null, e.oriOddsParent = null, e.canStop = !0, e.countSound = null, e.slotSound = null, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = y.skillEnum.Vampire, this.limitTime = 120
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.playerBet = e.bet, this.totalOdds = e.odds, this.totalWin = e.win, this.fishID = e.id, this.oriOdds = e.Vampire_odds, this.multiple = e.awaken_multiple, this.BetLabel.string = this.playerBet.toString(), this.scoreLabel.string = "", this.node.angle = s.default.isReverse ? 180 : 0, this.node.setPosition(cc.Vec2.ZERO), this.node.opacity = 255, this.animation.play("Reset");
                    for (var n = 0; n < this.Particles.length; n++) this.Particles[n].resetSystem()
                }, e.prototype.UnUseSkill = function() {
                    this.VampireOdds && (this.oriOddsParent && (this.VampireOdds.node.setParent(this.oriOddsParent), this.oriOddsParent = null), this.VampireOdds.Hide(), this.VampireOdds = null);
                    for (var e = 0; e < this.LoopLightingAni.length; e++) this.LoopLightingAni[e].stop();
                    for (e = 0; e < this.LoopLineAni.length; e++) this.LoopLineAni[e].stop();
                    for (e = 0; e < this.Particles.length; e++) this.Particles[e].stopSystem();
                    null != this.countSound && (l.default.Instance.Stop(this.countSound), this.countSound = null), null != this.slotSound && (l.default.Instance.Stop(this.slotSound), this.slotSound = null), this.node.setScale(1), t.prototype.UnUseSkill.call(this)
                }, e.prototype.UseSkill = function() {
                    var t = d.default.Instance.GetFishByID(this.fishID.toString());
                    if (this.VampireOdds = d.default.Instance.getUniqueFishData(h.FishType.Vampire).getComponent, this.oriOdds < this.VampireOdds.nowOdds || null == this.VampireOdds) return t && t.FishFadeOut(), this.UnUseSkill(), void(this.isMainPlayer && r.default.Instance.CallOnError("C49", "VampireOddsWrong"));
                    t && t.FishDie(), this.VampireOdds.SkillInit(this.oriOdds), this.oriOddsParent = this.VampireOdds.node.getParent();
                    var e = s.default.isReverse ? this.VampireOdds.node.getPosition().neg() : this.VampireOdds.node.getPosition();
                    if (this.VampireOdds.node.setParent(this.oddsParent), this.VampireOdds.node.setPosition(e), s.default.isReverse) {
                        var n = this.VampireOdds.node.angle;
                        this.VampireOdds.node.angle = n + 180
                    }
                    this.VampireOdds.node.runAction(cc.sequence(cc.delayTime(2), cc.moveTo(1, cc.Vec2.ZERO), cc.delayTime(1), cc.callFunc(this.ShowUp.bind(this))));
                    var i = u.default.SpawnEffect("7");
                    i.scale = 2, i.setPosition(e), l.default.Instance.Fade(l.default.Instance.GetBGMID(), 1, 0), this.bgmID = l.default.Instance.Play("BGM_Vampire_01", 1, !0), l.default.Instance.Fade(this.bgmID, 0, 1)
                }, e.prototype.ShowUp = function() {
                    var t = this;
                    this.animation.play("ShowUp"), l.default.Instance.Play("Vampire_UI_in_01"), this.CreateSkillTitle();
                    var e = 0,
                        n = this.oriOdds * this.playerBet / 18,
                        i = cc.repeat(cc.sequence(cc.callFunc(function() {
                            e += n, t.scoreLabel.string = p.default.NumberformatBet(e, t.playerBet)
                        }), cc.delayTime(.05)), 18);
                    this.countSound = l.default.Instance.Play("Vampire_count_loop_01", 1, !0), this.scoreLabel.node.runAction(cc.sequence(cc.delayTime(1), i, cc.callFunc(function() {
                        t.scoreLabel.string = (t.oriOdds * t.playerBet).toString(), l.default.Instance.Stop(t.countSound), t.countSound = null, l.default.Instance.Play("Vampire_count_end_01")
                    }), cc.delayTime(1), cc.callFunc(function() {
                        t.VampireOdds && t.VampireOdds.Hide(), t.animation.play("Open"), l.default.Instance.Play("Vampire_title_01");
                        for (var e = 0; e < t.LoopLightingAni.length; e++) t.LoopLightingAni[e].play()
                    }), cc.delayTime(1), cc.callFunc(function() {
                        t.VampireOdds && (t.VampireOdds.node.setParent(t.oriOddsParent), t.oriOddsParent = null, t.VampireOdds = null)
                    })))
                }, e.prototype.OpenEnd = function() {
                    var t = this;
                    if (this.multiple > 1) {
                        this.isMainPlayer || this.node.runAction(cc.fadeTo(1, 100)), this.SpeedLine.startColor.setA(this.isMainPlayer ? 255 : 50), this.SpeedLine.endColor.setA(this.isMainPlayer ? 255 : 50), this.animation.play("MutipleStart"), l.default.Instance.Play("Vampire_UI_open_01"), this.scheduleOnce(function() {
                            l.default.Instance.Play("voice_vampire_Revenge_01")
                        }, 1), this.canStop = !1, this.scheduleOnce(function() {
                            t.canStop = !0
                        }, 8);
                        for (var e = 0; e < this.LoopLineAni.length; e++) this.LoopLineAni[e].play();
                        l.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = l.default.Instance.Play("BGM_Vampire_02", 1, !0), l.default.Instance.Fade(this.bgmID, 0, 1)
                    } else this.animation.play("Close"), l.default.Instance.Play("Vampire_UI_close_01"), this.CameraShakeEffect(2, 4)
                }, e.prototype.slotPlaySound = function(t) {
                    switch (t) {
                        case "Start":
                            l.default.Instance.Play("Vampire_slot_in_01");
                            break;
                        case "Loop":
                            this.slotSound = l.default.Instance.Play("Vampire_slot_loop_01", 1, !0);
                            break;
                        case "End":
                            l.default.Instance.Stop(this.slotSound), this.slotSound = null, l.default.Instance.Play("Vampire_slot_stop_01");
                            break;
                        case "Blink":
                            l.default.Instance.Play("Vampire_number_zoom_01")
                    }
                }, e.prototype.moveToPlayer = function() {
                    var t = this;
                    this.isMainPlayer ? this.node.runAction(cc.scaleTo(1, .8)) : this.node.runAction(cc.spawn(cc.fadeTo(1, 255), cc.scaleTo(1, .7)));
                    var e, n = f.default.WeaponPosition(this.playerSeat);
                    (e = s.default.isReverse ? cc.moveTo(1, n.add(new cc.Vec2(0, this.playerSeat > 1 ? -140 : 240))) : cc.moveTo(1, n.add(new cc.Vec2(0, this.playerSeat > 1 ? -240 : 140)))).easing(cc.easeQuadraticActionOut()), this.node.runAction(cc.sequence(e, cc.delayTime(1), cc.callFunc(function() {
                        l.default.Instance.Play(t.multiple > 1 ? "Buffalo_win_02" : "Buffalo_win_01")
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    l.default.Instance.Stop(this.bgmID), this.bgmID = null, l.default.Instance.Fade(l.default.Instance.GetBGMID(), 0, 1), this.node.runAction(cc.sequence(cc.fadeTo(.5, 0), cc.callFunc(function() {
                        t.node.opacity = 0, t.UnUseSkill()
                    })))
                }, e.prototype.StopCheck = function(t) {
                    this.canStop && this.multiple == t && (this.canStop = !1, this.animation.stop(), this.animation.play("MutipleStop" + this.multiple.toString()))
                }, e.prototype.MultipleEnd = function() {
                    var t = this,
                        e = this.oriOdds * this.playerBet,
                        n = (this.totalWin - this.oriOdds * this.playerBet) / 42,
                        i = cc.repeat(cc.sequence(cc.callFunc(function() {
                            e += n, t.scoreLabel.string = p.default.NumberformatBet(e, t.playerBet)
                        }), cc.delayTime(.05)), 42);
                    this.countSound = l.default.Instance.Play("Vampire_count_loop_02", 1, !0), this.scoreLabel.node.runAction(cc.sequence(i, cc.callFunc(function() {
                        t.scoreLabel.string = t.totalWin.toString(), l.default.Instance.Stop(t.countSound), t.countSound = null, l.default.Instance.Play("Vampire_count_end_02")
                    }))), this.animation.play("MutipleEnd")
                }, e.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitleZB(!1);
                        var t = u.default.LoadGUI(this.skillType);
                        if (t) {
                            var e;
                            e = s.default.isReverse ? this.playerSeat > 1 ? cc.v2(0, 60) : cc.v2(0, -60) : this.playerSeat > 1 ? cc.v2(0, -60) : cc.v2(0, 60);
                            var n = f.default.WeaponUIPosition(this.playerSeat).add(e);
                            t.setPosition(n), t.opacity = 255, this.SkillTitle = t.getComponent(c.default)
                        }
                    }
                }, e.prototype.HideSkillTitleZB = function(t) {
                    void 0 === t && (t = !0), this.SkillTitle && (this.SkillTitle.Hide(t), this.SkillTitle = null)
                }, a([S(cc.Animation)], e.prototype, "animation", void 0), a([S(cc.Label)], e.prototype, "scoreLabel", void 0), a([S(cc.Label)], e.prototype, "BetLabel", void 0), a([S(cc.Node)], e.prototype, "oddsParent", void 0), a([S([cc.Animation])], e.prototype, "LoopLightingAni", void 0), a([S([cc.Animation])], e.prototype, "LoopLineAni", void 0), a([S([cc.ParticleSystem])], e.prototype, "Particles", void 0), a([S(cc.ParticleSystem)], e.prototype, "SpeedLine", void 0), a([g], e)
            }(y.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillWheel: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "084a1E980lEHIf9WxKMjO0l", "SkillWheel");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = t("./BaseSkill"),
            h = t("./WheelItem"),
            u = t("../Player/PlayerManager"),
            p = t("../Fish/BaseFish"),
            d = t("../Fish/FishManager"),
            f = t("../Weapon/WeaponManager"),
            y = t("../../GameClient"),
            m = t("../Common/AudioManager"),
            g = t("../Common/ResourceManager"),
            S = t("../Common/Utility"),
            _ = t("../../../../../FishCommon/Script/CanvasHandler"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property;
        (function(t) {
            t[t.NONE = 0] = "NONE", t[t.READY_TO_SPIN = 1] = "READY_TO_SPIN", t[t.RUNNING = 2] = "RUNNING", t[t.SLOW = 3] = "SLOW", t[t.RESULT = 4] = "RESULT", t[t.WAIT_SPIN = 5] = "WAIT_SPIN", t[t.END = 6] = "END"
        })(c || (c = {}));
        var C = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.WheelObj = null, e.AwardTitleAnim = null, e.BullionAnim = null, e.WheelSpinObjList = [], e.WheelItemAnimList_Out = [], e.WheelItemAnimList_Mid = [], e.WheelItemAnimList_In = [], e.PointerObj = null, e.PointerAnim_Out = null, e.PointerAnim_Mid = null, e.PointerAnim_In = null, e.PointerAnim_Head = null, e.Timelimit = null, e.TimeScore = null, e.OutFrameEffect = null, e.HitBullionEffect = null, e.TapHint = null, e.ClickStopEffect = null, e.fixedUpdateTime = .033, e.fixedUpdateTimer = 0, e.maxUpdateTimes = 5, e.SingleGridAngles = [45, 60, 120], e.PointerInitAngles = [2.5, 33, -60], e.wheelState = c.NONE, e.wheelCircleIndex = 0, e.isFlip = !1, e.isHitBullion = !1, e.isWhellAllRotate = !1, e.currentAngle = 0, e.maxSpeed = 435, e.currentSpeed = 0, e.addSpeed = 0, e.waitStopTime = 15, e.waitStopTimer = 0, e.addSpeedTime = 1, e.LeftOffset = 10, e.RightOffset = -10, e.slowDownStage = 0, e.slowDownSpeedList = [150, 50, 20, 0], e.slowDownTimeList = [2, 1.1, .5, 1], e.decreaseTimer = 0, e.m_OutCircle_OddsList = null, e.m_MidCircle_OddsList = null, e.m_InCircle_OddsList = null, e.m_PassList = null, e.OffsetAngle = 2.860545, e.rollSound = -1, e.stopEvent = null, e.fishID = null, e
            }
            return o(e, t), e.prototype.onLoad = function() {
                this.skillType = l.skillEnum.Wheel, this.limitTime = 90
            }, e.prototype.update = function(e) {
                t.prototype.update.call(this, e), this.fixedUpdateTimer += e;
                for (var n = 0; n < this.maxUpdateTimes && this.fixedUpdateTimer > this.fixedUpdateTime; n++) this.fixedUpdateTimer -= this.fixedUpdateTime, this.UpdateWheelState(this.fixedUpdateTime), this.RotateWheel(this.fixedUpdateTime)
            }, e.prototype.onDestroy = function() {
                m.default.Instance && m.default.Instance.Stop(this.rollSound)
            }, e.prototype.InitProperties = function(e) {
                void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.wheelState = c.NONE, this.isFlip = !1, this.node.angle = 0, this.wheelCircleIndex = 0, this.fixedUpdateTimer = 0, this.decreaseTimer = 0, this.waitStopTimer = 0, this.stopEvent = null, this.ClickStopEffect.totalParticles = 0, this.ClickStopEffect.node.active = !1, this.fishID = e.id, this.playerBet = e.bet, this.totalWin = e.win, this.totalOdds = e.odds, this.m_OutCircle_OddsList = e.c0, this.m_MidCircle_OddsList = e.c1, this.m_InCircle_OddsList = e.c2, this.m_PassList = e.ci
            }, e.prototype.UseSkill = function() {
                var t = d.default.Instance.GetFishByID(this.fishID.toString());
                if (t || this.isMainPlayer)
                    if (!y.default.SkillSystem.FindSkill(this.skillType, this.playerSeat) || this.isMainPlayer) {
                        m.default.Instance.Play("50_shell_info_j");
                        var e = u.PlayerManager.MainSeat;
                        (e > 1 && this.playerSeat < 2 || e < 2 && this.playerSeat > 1) && (this.isFlip = !0), this.playerSeat > 1 && (this.node.angle = 180), f.default.Instance.GetSkillWeapon(this.playerSeat, null);
                        var n = null;
                        null != t ? (t.AliveStatus = p.FishState.DEAD, t.CanCollision = !1, t.StopAction(), t.PlayDieAnim(), n = t.node.getPosition(), t.RemoveSelf()) : n = cc.v2(700 + 50 * Math.random(), 310 + 100 * Math.random()), g.default.SpawnEffect("CoinBlast").setPosition(n), this.InitWheel(n)
                    } else this.UnUseSkill();
                else this.UnUseSkill()
            }, e.prototype.UnUseSkill = function() {
                t.prototype.UnUseSkill.call(this), this.tapHintActive(!1), this.wheelState = c.NONE, m.default.Instance.Stop(this.rollSound), this.PointerAnim_Head.node.stopAllActions(), this.OutFrameEffect.node.active = !1, this.OutFrameEffect.stop(), this.HitBullionEffect.node.active = !1, this.HitBullionEffect.stop(), this.AwardTitleAnim.stop(), this.BullionAnim.stop(), this.PointerAnim_Out.stop(), this.PointerAnim_Mid.stop(), this.PointerAnim_In.stop(), this.PointerAnim_Head.stop(), this.node.opacity = 255, this.m_OutCircle_OddsList = null, this.m_MidCircle_OddsList = null, this.m_InCircle_OddsList = null, this.m_PassList = null, this.stopEvent = null, this.ClickStopEffect.totalParticles = 0, this.ClickStopEffect.node.active = !1, f.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.isMainPlayer && (_.default.CanelTouchEvent(cc.Node.EventType.TOUCH_START, this.WheelTouchEvent, this), _.default.Instance.IsLockChangeWeapon = !1, u.PlayerManager.Instance.CheckBetListOnSkillEnd(this.playerSeat))
            }, e.prototype.OnStopWheelReceive = function(t) {
                var e = this;
                this.isMainPlayer || (this.stopEvent = null, this.stopEvent = function() {
                    t < e.wheelCircleIndex || (e.waitStopTimer = 0, e.Timelimit.active = !1)
                })
            }, e.prototype.InitWheel = function(t) {
                if (this.InitWheelItemData(), this.node.setPosition(t), this.PointerAnim_Head && this.PointerAnim_Head.node.setPosition(0, 150), this.WheelObj) {
                    this.WheelObj.scale = 0;
                    var e = cc.sequence(cc.spawn(cc.moveTo(.3, cc.v2(0, 100)).easing(cc.easeCubicActionOut()), cc.scaleTo(.3, 1, 1).easing(cc.easeSineInOut())), cc.moveTo(.5, cc.Vec2.ZERO), cc.delayTime(.2), cc.callFunc(this.AppearWheelItem.bind(this)));
                    this.WheelObj.runAction(e)
                }
            }, e.prototype.InitWheelItemData = function() {
                this.isWhellAllRotate = !1, this.isHitBullion = !1, this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.currentSpeed = 0;
                for (var t = 0; t < this.WheelSpinObjList.length; t++) this.WheelSpinObjList[t].angle = 0 == t ? 2.5 : 0;
                var e = 0;
                for (t = 0; t < this.WheelItemAnimList_Out.length; t++) this.WheelItemAnimList_Out[t].Init(this.m_OutCircle_OddsList[e]), e++;
                for (e = 0, t = 0; t < this.WheelItemAnimList_Mid.length; t++) this.WheelItemAnimList_Mid[t].Init(this.m_MidCircle_OddsList[e]), e++;
                for (e = 0, t = 0; t < this.WheelItemAnimList_In.length; t++) this.WheelItemAnimList_In[t].Init(this.m_InCircle_OddsList[e]), e++;
                this.BullionAnim.node.angle = this.isFlip ? 180 : 0, this.BullionAnim.node.opacity = 0, this.PointerObj.opacity = 0, this.PointerAnim_Out.node.active = !1, this.PointerAnim_Mid.node.active = !1, this.PointerAnim_In.node.active = !1, this.OutFrameEffect.node.active = !1, this.HitBullionEffect.node.active = !1
            }, e.prototype.AppearWheelItem = function() {
                return s(this, void 0, void 0, function() {
                    var t, e, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return t = f.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.moveTo(1.2, t).easing(cc.easeSineOut())), [4, this.delay(1300)];
                            case 1:
                                for (i.sent(), e = 0; e < this.WheelItemAnimList_Out.length; e++) this.WheelItemAnimList_Out[e].AppearFunction();
                                for (e = 0; e < this.WheelItemAnimList_Mid.length; e++) this.WheelItemAnimList_Mid[e].AppearFunction();
                                for (e = 0; e < this.WheelItemAnimList_In.length; e++) this.WheelItemAnimList_In[e].AppearFunction();
                                return this.BullionAnim.node.runAction(cc.fadeIn(.5)), this.BullionAnim.play(), this.PointerAnim_Out.node.active = !0, this.PointerAnim_Out.play(), this.PointerAnim_Head.play(), this.PointerObj.runAction(cc.fadeIn(.5)), this.PointerAnim_Head.node.runAction(cc.sequence(cc.moveTo(.7, 0, 180).easing(cc.easeSineOut()), cc.callFunc(this.PointerHeadLoop.bind(this, !1)))), [4, this.delay(1e3)];
                            case 2:
                                return i.sent(), this.AwardTitleAnim.node.angle = this.isFlip ? 180 : 0, this.AwardTitleAnim.node.active = !0, this.AwardTitleAnim.play(), m.default.Instance.Play("wheel_max"), [4, this.delay(2e3)];
                            case 3:
                                return i.sent(), this.AwardTitleAnim && (this.AwardTitleAnim.node.active = !1), this.node.setPosition(t), n = this.node.parent.convertToWorldSpaceAR(cc.Vec2.ZERO), this.TapHint.node.setPosition(this.node.convertToNodeSpaceAR(n)), this.InitWheelSpin(), [2]
                        }
                    })
                })
            }, e.prototype.PointerHeadLoop = function(t) {
                this.PointerAnim_Head.node.stopAllActions(), t ? this.PointerAnim_Head.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.7, 5, 190), cc.moveTo(.7, 5, 210)))) : this.PointerAnim_Head.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.7, 0, 170), cc.moveTo(.7, 0, 190))))
            }, e.prototype.InitWheelSpin = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.currentSpeed = 0, this.addSpeed = this.maxSpeed / this.addSpeedTime, this.wheelState = c.READY_TO_SPIN, this.rollSound = m.default.Instance.SetNextSound(m.default.Instance.Play("wheel_roll1"), "wheel_roll2", 1, !0), this.tapHintActive(!0), this.RightOffset = -10 - Math.random() * (this.SingleGridAngles[this.wheelCircleIndex] - 25), this.isMainPlayer && (_.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.WheelTouchEvent, this), _.default.Instance.IsLockChangeWeapon = !0), [2]
                    })
                })
            }, e.prototype.DelayWheelSpin = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function(t) {
                        switch (t.label) {
                            case 0:
                                return this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(1e3)];
                            case 1:
                                return t.sent(), this.InitWheelSpin(), [2]
                        }
                    })
                })
            }, e.prototype.UpdateWheelState = function(t) {
                switch (this.wheelState) {
                    case c.NONE:
                        break;
                    case c.READY_TO_SPIN:
                        this.ReadySpin(t);
                        break;
                    case c.RUNNING:
                        this.SpinRun(t);
                        break;
                    case c.SLOW:
                        this.SpinSlow(t);
                        break;
                    case c.RESULT:
                        this.SpinResult(t);
                        break;
                    case c.END:
                        this.SpinEnd(t)
                }
            }, e.prototype.RotateWheel = function(t) {
                if (this.isWhellAllRotate)
                    for (var e = 0; e < this.WheelSpinObjList.length; e++) {
                        var n = this.WheelSpinObjList[e].angle;
                        n += e % 2 == 0 ? 100 * t : -100 * t, this.WheelSpinObjList[e].angle = n
                    } else this.wheelCircleIndex < this.WheelSpinObjList.length && (this.WheelSpinObjList[this.wheelCircleIndex].angle = this.currentAngle)
            }, e.prototype.ReadySpin = function(t) {
                this.currentSpeed += t * this.addSpeed, this.currentSpeed >= this.maxSpeed && (this.waitStopTimer = this.waitStopTime, this.wheelState = c.RUNNING, this.currentSpeed = this.maxSpeed, this.addSpeed = 0), this.currentAngle -= t * this.currentSpeed
            }, e.prototype.SpinRun = function(t) {
                if (this.waitStopTimer > 0 && (this.waitStopTimer -= t), this.currentAngle -= t * this.currentSpeed, this.isMainPlayer && this.waitStopTimer <= 10 && this.waitStopTimer > 0 && (this.Timelimit.active || (this.Timelimit.active = !0), this.TimeScore.string = this.waitStopTimer.toFixed(0)), null != this.stopEvent && (this.stopEvent(), this.stopEvent = null), this.waitStopTimer <= 0) {
                    this.stopEvent = null, this.Timelimit.active = !1, this.tapHintActive(!1);
                    for (var e = this.SingleGridAngles[this.wheelCircleIndex], n = e * this.m_PassList[this.wheelCircleIndex], i = this.PointerInitAngles[this.wheelCircleIndex] + n + this.LeftOffset, o = this.PointerInitAngles[this.wheelCircleIndex] + n + e + this.RightOffset, a = this.currentAngle + this.OffsetAngle; a < i;) a += 360;
                    a > i && a < o && (this.wheelState = c.SLOW, this.slowDownStage = 0, this.decreaseTimer = this.slowDownTimeList[this.slowDownStage], this.PointerObj.runAction(cc.sequence(cc.moveTo(.15, 0, 25), cc.moveTo(.25, 0, 0))), m.default.Instance.Play("wheel_press"), m.default.Instance.SetNextSound(this.rollSound, "wheel_stop"), this.isMainPlayer && y.default.SkillSystem.SendStopWheel(this.wheelCircleIndex))
                }
            }, e.prototype.SpinSlow = function(t) {
                if (this.decreaseTimer <= 0) {
                    if (this.slowDownStage += 1, !(this.slowDownStage < this.slowDownTimeList.length)) return void(this.wheelState = c.RESULT);
                    this.decreaseTimer = this.slowDownTimeList[this.slowDownStage]
                }
                this.currentSpeed <= 0 ? this.wheelState = c.RESULT : (this.decreaseTimer -= t, 0 == this.slowDownStage ? (this.currentSpeed -= t * (this.maxSpeed - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.decreaseTimer < 0 && (this.currentSpeed += -this.decreaseTimer * (this.maxSpeed - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.slowDownStage + 1 < this.slowDownSpeedList.length && (this.currentSpeed -= this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage] - this.slowDownSpeedList[this.slowDownStage + 1]) / this.slowDownTimeList[this.slowDownStage]))) : this.slowDownStage > 0 && (this.currentSpeed -= t * (this.slowDownSpeedList[this.slowDownStage - 1] - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.decreaseTimer < 0 && (this.currentSpeed += -this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage - 1] - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.slowDownStage + 1 < this.slowDownSpeedList.length && (this.currentSpeed -= this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage] - this.slowDownSpeedList[this.slowDownStage + 1]) / this.slowDownTimeList[this.slowDownStage]))), this.currentAngle -= t * this.currentSpeed)
            }, e.prototype.SpinResult = function() {
                return s(this, void 0, void 0, function() {
                    var t;
                    return r(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return 0 != this.wheelCircleIndex ? [3, 3] : (t = this.WheelItemAnimList_Out[this.m_PassList[this.wheelCircleIndex]]) ? (t.HitFunction(), m.default.Instance.Play("wheel_forward"), t.IsArrow() ? (this.wheelCircleIndex++, this.currentAngle = 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(500)]) : [3, 2]) : [2];
                            case 1:
                                return e.sent(), this.PointerAnim_Out.node.active = !1, this.PointerAnim_Mid.node.active = !0, this.PointerAnim_Mid.play(), this.OutFrameEffect.node.active = !0, this.OutFrameEffect.play(), this.DelayWheelSpin(), [2];
                            case 2:
                                return [3, 7];
                            case 3:
                                return 1 != this.wheelCircleIndex ? [3, 6] : (t = this.WheelItemAnimList_Mid[this.m_PassList[this.wheelCircleIndex]]) ? (t.HitFunction(), m.default.Instance.Play("wheel_forward"), t.IsArrow() ? (this.wheelCircleIndex++, this.currentAngle = 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(500)]) : [3, 5]) : [2];
                            case 4:
                                return e.sent(), this.PointerAnim_Mid.node.active = !1, this.PointerAnim_In.node.active = !0, this.PointerAnim_In.play(), this.PointerAnim_Head.play("WheelPointerAnim_FireHead"), this.PointerHeadLoop(!0), this.DelayWheelSpin(), [2];
                            case 5:
                                return [3, 7];
                            case 6:
                                if (2 == this.wheelCircleIndex) {
                                    if (!(t = this.WheelItemAnimList_In[this.m_PassList[this.wheelCircleIndex]])) return [2];
                                    t.HitFunction(), t.IsArrow() ? (this.isHitBullion = !0, m.default.Instance.Play("wheel_golden")) : m.default.Instance.Play("wheel_forward")
                                }
                                e.label = 7;
                            case 7:
                                return this.wheelState = c.END, [2]
                        }
                    })
                })
            }, e.prototype.SpinEnd = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function(t) {
                        switch (t.label) {
                            case 0:
                                return this.isGaveAward = !0, this.wheelState = c.NONE, [4, this.delay(500)];
                            case 1:
                                return t.sent(), this.isHitBullion ? (this.BullionAnim.play("BullionAnim_Hit"), [4, this.delay(800)]) : [3, 5];
                            case 2:
                                return t.sent(), this.HitBullionEffect.node.active = !0, this.HitBullionEffect.play(), [4, this.delay(2e3)];
                            case 3:
                                return t.sent(), this.ShowSkillScore(), [4, this.delay(1e3)];
                            case 4:
                                return t.sent(), this.isWhellAllRotate = !0, [3, 6];
                            case 5:
                                this.ShowSkillScore(), t.label = 6;
                            case 6:
                                return [4, this.delay(this.isHitBullion ? 4e3 : 3e3)];
                            case 7:
                                return t.sent(), this.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3)];
                            case 8:
                                return t.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, e.prototype.ShowSkillScore = function() {
                var t = this;
                if (this.isMainPlayer && 0 == this.totalWin) y.default.Instance.CallOnError("C44", "SkillZeroWin");
                else {
                    var e = g.default.SpawnEffect("GN", this.isMainPlayer);
                    e && (e.setScale(1), e.angle = _.default.isReverse ? 180 : 0, e.setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -80 : 80))));
                    var n = e.getComponentInChildren(cc.Label),
                        i = 0,
                        o = (this.totalWin - i) / 40;
                    e.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                        i += o, n.string = S.default.NumberformatBet(i, t.playerBet)
                    }), cc.delayTime(.05)), 40), cc.delayTime(2), cc.fadeOut(.5), cc.callFunc(function() {
                        e.opacity = 255, g.default.DespawnEffect("GN", e)
                    }))), this.PlayAwardSound()
                }
            }, e.prototype.WheelTouchEvent = function() {
                var t = this;
                this.wheelState == c.READY_TO_SPIN && (this.wheelState = c.RUNNING, this.currentSpeed = this.maxSpeed, this.addSpeed = 0, this.waitStopTimer = -1), this.wheelState == c.RUNNING && (this.waitStopTimer = 0, this.Timelimit.active = !1, this.tapHintActive(!1), this.ClickStopEffect.node.active = !0, this.ClickStopEffect.totalParticles = 200, this.scheduleOnce(function() {
                    t.ClickStopEffect.totalParticles = 0
                }, .5))
            }, e.prototype.tapHintActive = function(t) {
                t && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut()))), !t && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
            }, a([P(cc.Node)], e.prototype, "WheelObj", void 0), a([P(cc.Animation)], e.prototype, "AwardTitleAnim", void 0), a([P(cc.Animation)], e.prototype, "BullionAnim", void 0), a([P([cc.Node])], e.prototype, "WheelSpinObjList", void 0), a([P([h.default])], e.prototype, "WheelItemAnimList_Out", void 0), a([P([h.default])], e.prototype, "WheelItemAnimList_Mid", void 0), a([P([h.default])], e.prototype, "WheelItemAnimList_In", void 0), a([P(cc.Node)], e.prototype, "PointerObj", void 0), a([P(cc.Animation)], e.prototype, "PointerAnim_Out", void 0), a([P(cc.Animation)], e.prototype, "PointerAnim_Mid", void 0), a([P(cc.Animation)], e.prototype, "PointerAnim_In", void 0), a([P(cc.Animation)], e.prototype, "PointerAnim_Head", void 0), a([P(cc.Node)], e.prototype, "Timelimit", void 0), a([P(cc.Label)], e.prototype, "TimeScore", void 0), a([P(cc.Animation)], e.prototype, "OutFrameEffect", void 0), a([P(cc.Animation)], e.prototype, "HitBullionEffect", void 0), a([P(cc.Animation)], e.prototype, "TapHint", void 0), a([P(cc.ParticleSystem)], e.prototype, "ClickStopEffect", void 0), a([b], e)
        }(l.default);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./WheelItem": "WheelItem"
    }],
    SkillWind: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "34c5b27HVVOhIaJiIe9LJXW", "SkillWind");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseSkill"),
            l = t("../Fish/BaseFish"),
            h = t("../Fish/FishManager"),
            u = t("../Common/ResourceManager"),
            p = t("../Weapon/WeaponManager"),
            d = t("../Common/AudioManager"),
            f = cc._decorator,
            y = f.ccclass,
            m = f.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.windAnim = null, e.twisterFish = null, e.dieFishIDList = null, e.fishType = -1, e
                }
                return o(e, t), e.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Wind, this.limitTime = 12
                }, e.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), t.prototype.InitProperties.call(this), this.dieFishIDList = e.fish, this.totalWin = e.win, this.totalOdds = e.odds;
                    var n = this.totalOdds / this.dieFishIDList.length;
                    if (this.playerBet = e.bet, null != this.dieFishIDList && this.playerBet > 0)
                        for (var i = 0; i < this.dieFishIDList.length; i++) this.dieFishList.push(h.default.Instance.GetFishByID(this.dieFishIDList[i])), this.oddsList.push(n), this.winList.push(n * this.playerBet);
                    this.node.parent = u.default.Instance.Background, this.fishType = this.GetFishType()
                }, e.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.isGaveAward = !0, this.dieFishList.length > 0 && (this.twisterFish = this.dieFishList[this.dieFishList.length - 1]), null != this.twisterFish && (this.twisterFish.CanCollision = !1, this.twisterFish.switchWindEffect(!1), this.twisterFish.ShakeCoinEffect(this.playerSeat, 1)), this.CreateSkillTitle(), t = this.playerSeat > 1 ? new cc.Vec2(0, -200) : new cc.Vec2(0, 200), e = p.default.WeaponPosition(this.playerSeat).addSelf(t), this.node.setPosition(e), this.windAnim && this.windAnim.play(), d.default.Instance.Play("15_wind_main"), this.PullFishFunction(this.node.getPosition()), [4, this.delay(2500)];
                                case 1:
                                    return n.sent(), this.KillFishesAndShowAward(), [4, this.delay(1500)];
                                case 2:
                                    return n.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, e.prototype.UnUseSkill = function() {
                    if (null != this.dieFishList) {
                        for (var e = 0; e < this.dieFishList.length; e++) this.dieFishList[e] && this.dieFishList[e].RemoveSelf();
                        this.dieFishList = null
                    }
                    this.node.parent = u.default.Instance.Skills, this.windAnim.stop(), t.prototype.UnUseSkill.call(this)
                }, e.prototype.GetFishType = function() {
                    for (var t = 0; t < this.dieFishList.length; t++) {
                        var e = this.dieFishList[t];
                        if (e) return e.Type
                    }
                    return -1
                }, e.prototype.PullFishFunction = function(t) {
                    for (var e = 0; e < this.dieFishList.length; e++) {
                        var n = this.dieFishList[e];
                        if (null == n) {
                            if (-1 != this.fishType) {
                                var i = 50 * Math.random(),
                                    o = 100 * Math.random() - 50;
                                n = h.default.Instance.CreateFakeFish(this.dieFishIDList[e], this.fishType, new cc.Vec2(700 + i, 360 + o)), this.dieFishList[e] = n
                            }
                            if (null == n) continue
                        }
                        n.AliveStatus = l.FishState.DEAD, n.CanCollision = !1, n.StopAction(), n.PlayDieAnim();
                        var a = t.sub(n.node.getPosition());
                        a.normalizeSelf();
                        var s = 40 * Math.random() - 20;
                        t.addSelf(a.mul(s)), n.node.runAction(cc.rotateBy(3, 360).repeatForever()), n.node.runAction(cc.moveTo(2, t).easing(cc.easeInOut(4)))
                    }
                }, a([m(cc.Animation)], e.prototype, "windAnim", void 0), a([y], e)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SubmarineUI: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a4e39QoNtxNM5Wbik0yjXoj", "SubmarineUI");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/PoolObj"),
            c = t("../Common/Utility"),
            l = t("../Weapon/WeaponManager"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ScoreLabel = null, e.Bet = 0, e.Seat = null, e.isScoreShowing = !1, e.ShowingScore = 0, e.CountingAct = null, e
                }
                return o(e, t), e.prototype.Init = function(t, e) {
                    this.Bet = t, this.Seat = e;
                    var n = l.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && e < 2 || !s.default.isReverse && e > 1) && n.addSelf(cc.Vec2.UP.mul(-60)), this.node.setPosition(n), this.ScoreLabel.string = c.default.NumberformatBet(this.ShowingScore, t)
                }, e.prototype.SetScore = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = .5), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), e > 0) {
                        var i = e / .05,
                            o = (t - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = c.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = t, this.ScoreLabel.string = c.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, e.prototype.ShowScore = function(t, e) {
                    this.isScoreShowing || (this.ShowingScore = t, this.ScoreLabel.string = c.default.NumberformatBet(t, this.Bet), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(e ? -100 : -50))), this.isScoreShowing = !0)
                }, e.prototype.Hide = function(t) {
                    void 0 === t && (t = !0), t ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, e.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, t.prototype.Recycle.call(this)
                }, a([p(cc.Label)], e.prototype, "ScoreLabel", void 0), a([u], e)
            }(r.default);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    SystemTip: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "82df8nrkyNPyps22jJV6dHn", "SystemTip");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.TIP_CLIP_TYPE = n.SYSTEM_TIP_TYPE = void 0, n.SYSTEM_TIP_TYPE = {
            SUMMON_MAX: "M102",
            QTY_LACK: "",
            BULLET_MAX: "",
            COOLDOWN: "M101",
            CHANGE_SCENE: "M103",
            ITEM_WAIT: "",
            FREEZE_WAIT: "M106",
            ITEM_CLOSE: "M107"
        }, n.TIP_CLIP_TYPE = {
            FADE_IN: "SystemTip_FadeIn",
            FADE_OUT: "SystemTip_FadeOut"
        };
        var s = cc._decorator.ccclass,
            r = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._anim = null, e._backGround = null, e._top = null, e._bottom = null, e._word = null, e.close_flag = !1, e.use_flag = !1, e
                }
                var i;
                return o(e, t), i = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {
                    var t = this;
                    this._anim = this.getComponent(cc.Animation), this._backGround = this.node.getChildByName("BackGround"), this._top = this._backGround.getChildByName("Top"), this._bottom = this._backGround.getChildByName("Bottom"), this._word = this._backGround.getChildByName("Word").getComponent(cc.RichText), this._anim.on("finished", function() {
                        t.close_flag && (t._backGround.active = t.use_flag = t.close_flag = !1)
                    }, this), i.instance = this
                }, e.Open = function(t, e, o) {
                    if (void 0 === e && (e = 1), void 0 === o && (o = !0), null != (t = SS.Common.GameEnvironment.GameMsg[t])) {
                        var a = i.instance;
                        if (!o) {
                            if (a.use_flag) return;
                            a.use_flag = !0
                        }
                        a._word.string = "<outline color=white width=0.2>" + t + "</outline>";
                        var s = a._word.node.width;
                        a._backGround.width = s + 100, a._top.width = a._bottom.width = s + 120, a._backGround.active = !0, a._anim.play(n.TIP_CLIP_TYPE.FADE_IN), a.unscheduleAllCallbacks(), e > 0 && a.scheduleOnce(function() {
                            i.Close()
                        }, e)
                    }
                }, e.Close = function() {
                    i.instance._anim.play(n.TIP_CLIP_TYPE.FADE_OUT), i.instance.close_flag = !0
                }, e.instance = null, i = a([s], e)
            }(cc.Component);
        n.default = r, cc._RF.pop()
    }, {}],
    THUNDER_DRAGON: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a48bcOz87NCeLBoH8l764qX", "THUNDER_DRAGON");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseSpineFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.onInit = function() {
                    this.offsetPos = cc.v2(940, -70), this.node.angle = -this.o, this.skeleton.timeScale = .5, this.skeleton.setAnimation(0, "SWIM", !1)
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseSpineFish": "BaseSpineFish"
    }],
    TIGER: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a1d16RAwmxJ3YXCZvcdZzyx", "TIGER");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), this.o < 50 && (this.o += 50), this.o > 130 && this.o < 180 && (this.o -= 50), this.o >= 180 && this.o < 230 && (this.o += 50), this.o > 310 && this.o < 360 && (this.o -= 50), this.shapeNode = this.node.getChildByName("Shape"), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "walk", !0), l.default.Instance.Play("Tiger_move_01")
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), c.default.isReverse ? this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? 1 : -1 : this.node.scaleY = this.node.angle <= -90 || this.node.angle >= 90 ? -1 : 1
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.AliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), this.PauseClip(), cc.tween(this.node).repeat(10, cc.tween().by(.1, {
                                position: cc.v3(10, 10)
                            }).by(.1, {
                                position: cc.v3(-10, -10)
                            })).delay(.5).call(function() {
                                l.default.Instance.Play("Tiger_catch_01"), t.CoinEffect()
                            }).to(1, {
                                opacity: 0
                            }).call(function() {
                                t.RemoveSelf()
                            }).start(), this.Event_FishLeave && this.Event_FishLeave(this, 6), [2]
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, e.prototype.FishInScreen = function() {
                    var t = c.default.WinSize,
                        e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                        n = e.x + this.fishRadius > 0 && e.x - this.fishRadius < t.width,
                        i = e.y + this.fishRadius > 0 && e.y - this.fishRadius < t.height;
                    return n && i
                }, e.prototype.isLockInScreen = function(t) {
                    if (t) {
                        var e = this.node.convertToWorldSpaceAR(t.getPosition());
                        if (e.x >= -50 && e.x < c.default.WinSize.width - -50 && e.y >= -50 && e.y < c.default.WinSize.height - -50) return e
                    }
                    return null
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    TREASURE_CRAB: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "fdc5en1+pZLRZ+ivSCHJ/Qc", "TREASURE_CRAB");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Award/AwardManager"),
            h = t("../Common/AudioManager"),
            u = t("../Common/ResourceManager"),
            p = t("../Common/Utility"),
            d = t("../Fish/BaseCrab"),
            f = t("../Fish/BaseFish"),
            y = cc._decorator,
            m = y.ccclass,
            g = y.property,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.scoreNode = null, e.scoreLabel = null, e.ice_group = [], e.TargetScore = 0, e.ScoreNow = 0, e.Level = 1, e.MoveStep = 0, e.UpdateSchedule = null, e.QuickResult = null, e
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0, this.MoveStep = 0, this.spine.premultipliedAlpha = !0, this.shapeNode.opacity = 255, this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, e.prototype.onStart = function(e) {
                    t.prototype.onStart.call(this, e), e.AutoRotate = !1, this.scoreNode.setParent(u.default.Instance.Award), this.scoreNode.rotation = c.default.isReverse ? 180 : 0, this.node.rotation = c.default.isReverse ? 180 : 0
                }, e.prototype.onMove = function(t) {
                    0 == this.MoveStep && (this.MoveStep++, t.SetSpeed(30), this.spine.timeScale = .7, this.scheduleOnce(this.MoveOut, 5))
                }, e.prototype.MoveOut = function() {
                    this.spine.timeScale = 1.5, this.mSeek.SetSpeed(250)
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.scoreNode.position = this.node.position
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e = this;
                        return r(this, function() {
                            return this.AliveStatus = f.FishState.DEAD, this.canCollision = !1, this.ResumeBehavior(), this.spine.setAnimation(0, "CHECK_LV" + this.Level, !0), this.spine.timeScale = 1, this.unschedule(this.MoveOut), this.mSeek.Pause(), h.default.Instance.Play("TreasureCrabTrigger", 1, !1), null != this.QuickResult && (this.QuickResult(), this.QuickResult = null), t = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.1, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.1, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 8), cc.moveTo(.1, this.node.getPosition()), cc.delayTime(.2), cc.callFunc(function() {
                                e.scoreNode.active = !1, e.CoinEffect(2), h.default.Instance.Play("TreasureCrabGet", 1, !1), e.spine.setAnimation(0, "CATCH_LV" + e.Level, !1), e.spine.setCompleteListener(function() {
                                    e.spine.setCompleteListener(null), e.spine.premultipliedAlpha = !1, e.spine.setAnimation(0, "CATCH_LOOP", !0), e.shapeNode.runAction(cc.fadeOut(1))
                                })
                            }), cc.delayTime(5), cc.callFunc(function() {
                                e.RemoveSelf()
                            })), this.node.runAction(t), [2]
                        })
                    })
                }, e.prototype.RemoveSelf = function() {
                    this.scoreNode.setParent(this.node), this.scoreNode.stopAllActions(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.InitScore = function(t, e) {
                    this.scoreNode.active = !0, this.TargetScore = t, this.ScoreNow = t, this.scoreLabel.string = p.default.NumberformatBet(t, 1, !0), this.changeLevel(e)
                }, e.prototype.setTargetNumber = function(t) {
                    var e = this;
                    null != this.UpdateSchedule && (this.unschedule(this.UpdateSchedule), this.UpdateSchedule = null), this.TargetScore = t;
                    var n = (this.TargetScore - this.ScoreNow) / 13;
                    this.UpdateSchedule = function() {
                        e.ScoreNow += n, e.ScoreNow > e.TargetScore && (e.ScoreNow = e.TargetScore), e.scoreLabel.string = p.default.NumberformatBet(e.ScoreNow, 1, !0)
                    }, this.schedule(this.UpdateSchedule, .05, 12, 0)
                }, e.prototype.changeLevel = function(t) {
                    var e = this;
                    switch (t) {
                        case 0:
                            this.spine.setAnimation(0, "SWIM_LV1", !0), this.Level = 1;
                            break;
                        case 1:
                            this.spine.setAnimation(0, "LEVELUP_LV1", !1), this.spine.setCompleteListener(function() {
                                e.spine.setCompleteListener(null), e.spine.setAnimation(0, "SWIM_LV2", !0)
                            }), this.Level = 2;
                            break;
                        case 2:
                            this.spine.setAnimation(0, "LEVELUP_LV2", !1), this.spine.setCompleteListener(function() {
                                e.spine.setCompleteListener(null), e.spine.setAnimation(0, "SWIM_LV3", !0)
                            }), this.Level = 3
                    }
                }, e.prototype.upgrade = function(t, e, n) {
                    var i = this;
                    this.AliveStatus = f.FishState.DEAD, this.canCollision = !1, this.spine.setAnimation(0, "CHECK_LV" + this.Level, !0), this.spine.timeScale = 1, this.unschedule(this.MoveOut), this.mSeek.Pause(), h.default.Instance.Play("TreasureCrabTrigger", 1, !1), null != this.QuickResult && (this.QuickResult(), this.QuickResult = null);
                    var o = !1,
                        a = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.1, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.1, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 8), cc.moveTo(.1, this.node.getPosition()), cc.delayTime(.2), cc.callFunc(function() {
                            i.changeLevel(i.Level), i.spine.timeScale = 1, l.default.Instance.TreasureUpgrade(t, e, n), o = !0
                        }), cc.delayTime(.6), cc.callFunc(function() {
                            i.mSeek.Resume(), i.mSeek.SetSpeed(130), i.AliveStatus = f.FishState.ALIVE, i.canCollision = !0, i.QuickResult = null
                        }));
                    this.node.runAction(a), this.QuickResult = function() {
                        i.node.stopAction(a), a = null, o || l.default.Instance.TreasureUpgrade(t, e, n)
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.ice_group.forEach(function(t) {
                        t.active = !0
                    })
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.ice_group.forEach(function(t) {
                        t.active = !1
                    })
                }, a([g(cc.Node)], e.prototype, "scoreNode", void 0), a([g(cc.Label)], e.prototype, "scoreLabel", void 0), a([g([cc.Node])], e.prototype, "ice_group", void 0), a([m], e)
            }(d.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Award/AwardManager": "AwardManager",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/BaseCrab": "BaseCrab",
        "../Fish/BaseFish": "BaseFish"
    }],
    TWISTER_GURNARD: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "025809EEJtPZ7/aICt1QwuX", "TWISTER_GURNARD");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = t("./BaseTwisterFish"),
            c = cc._decorator.ccclass,
            l = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([c], e)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWISTER_OCTOPUS: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "683045+Zc5O5K6asFLNnAk9", "TWISTER_OCTOPUS");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseFish"),
            r = t("./BaseTwisterFish"),
            c = cc._decorator.ccclass,
            l = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([c], e)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWIST_FLAT_FISH: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "07769uy4LBIRqM1cRieOHCi", "TWIST_FLAT_FISH");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseTwisterFish"),
            r = cc._decorator.ccclass,
            c = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, e.prototype.onMove = function(t) {
                    var e = this;
                    t.AddSpeed(-70, 500);
                    var n = t.PonitIndex,
                        i = t.GetTargetPoint(n),
                        o = t.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            t.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            e.mAnim.play("Swim"), t.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], e)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWIST_SEA_TURTLE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "43aa6wPQCZHGJMVIM7Z6sdV", "TWIST_SEA_TURTLE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("./BaseFish"),
            l = t("./BaseTwisterFish"),
            h = cc._decorator.ccclass,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.hitEffect = [], e
                }
                return o(e, t), e.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(80, 500)
                }, e.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (t = this.shapeNode.children, e = 0; e < t.length; e++) this.hitEffect[e] && (this.hitEffect[e].isDone || (t[e].stopAction(this.hitEffect[e]), this.hitEffect = null, t[e].color = cc.Color.WHITE));
                                    e = 0, i.label = 1;
                                case 1:
                                    return e < t.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, t[e].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return e++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, a([h], e)
            }(l.default);
        n.default = u, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TacoBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2690fee/OtEyLks1pgMV2iH", "TacoBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BG_Blue = null, e.BG_Red = null, e.TacoParent = [], e
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    var t = this;
                    this.bossEnter || (this.node.runAction(cc.sequence(cc.rotateTo(2, 0), cc.delayTime(2), cc.callFunc(function() {
                        t.ani.play("Boss_Loop"), t.BG_Blue && (t.BG_Blue.active = !1)
                    }))), this.BG_Red && (this.BG_Red.opacity = 0, this.BG_Red.active = !0, this.BG_Red.runAction(cc.sequence(cc.delayTime(2), cc.fadeIn(2)))), this.bossEnter = !0)
                }, e.prototype.getParent = function(t) {
                    switch (t) {
                        case 61:
                            return this.TacoParent[0];
                        case 62:
                            return this.TacoParent[1];
                        case 63:
                            return this.TacoParent[2];
                        case 64:
                            return this.TacoParent[3];
                        case 65:
                            return this.TacoParent[4];
                        case 66:
                            return this.TacoParent[5]
                    }
                    return null
                }, a([l(cc.Node)], e.prototype, "BG_Blue", void 0), a([l(cc.Node)], e.prototype, "BG_Red", void 0), a([l([cc.Node])], e.prototype, "TacoParent", void 0), a([c], e)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    TigerBullet: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ac599BfjxdCmZ3iA2DbxzIW", "TigerBullet");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../../GameClient"),
            c = t("../Common/AudioManager"),
            l = t("../Common/MultiLangSystem"),
            h = t("../Common/ResourceManager"),
            u = t("../Player/PlayerManager"),
            p = t("./BaseBullet"),
            d = cc._decorator,
            f = d.ccclass,
            y = (d.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.targetFish = null, e.targetNode = null, e.betScale = 2, e.EndPos = null, e.dis = Number.MAX_SAFE_INTEGER, e
                }
                return o(e, t), e.prototype.BulletMove = function(t) {
                    this.bulletVec && this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(this.bulletSpeed * t))), this.bulletSpeed *= 1.05, this.updateTargetPos()
                }, e.prototype.updateTargetPos = function() {
                    var t = this;
                    if (this.targetFish && this.targetFish.CanCollision && (this.targetNode || this.targetFish.GetLockLinkPoint(this.node.getPosition(), function(e) {
                            t.targetNode = e
                        }), this.targetNode)) {
                        var e = this.targetNode.convertToWorldSpaceAR(cc.Vec2.ZERO);
                        this.EndPos = this.node.parent.convertToNodeSpaceAR(e);
                        var n = this.EndPos.sub(this.node.getPosition()),
                            i = n.len();
                        if (i <= 20 || i > this.dis + 10) return void this.onBlast();
                        this.dis = i, this.bulletVec = n.normalizeSelf(), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x))
                    }
                }, e.prototype.skillInit = function(t, e, n, i) {
                    this.targetFish = t, this.seat = e, this.bulletBet = n, this.betScale = i, this.bulletSpeed = 400, this.targetNode = null, this.dis = Number.MAX_SAFE_INTEGER, this.updateTargetPos(), this.bulletVec && this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(120))), this.node.setScale(0), cc.tween(this.node).to(.1, {
                        scale: 1.3
                    }, {
                        easing: function(t) {
                            return cc.easeOut(.3).easing(t)
                        }
                    }).to(.15, {
                        scale: .9
                    }, {
                        easing: function(t) {
                            return cc.easeInOut(.3).easing(t)
                        }
                    }).delay(.5).call(this.onBlast.bind(this)).start();
                    var o = h.default.LoadWeapon("TigerWeaponFire", u.PlayerManager.isMainSeat(this.seat));
                    o.setPosition(this.node.getPosition()), o.angle = this.node.angle
                }, e.prototype.onBlast = function() {
                    if (cc.Tween.stopAllByTarget(this.node), this.targetFish && this.targetFish.CanCollision) {
                        u.PlayerManager.isMainSeat(this.seat) && this.targetFish.OnHitFish(), this.CreateExplodeEffect(this.node.getPosition());
                        var t = this.seat;
                        u.PlayerManager.isMainSeat(t) && r.default.SkillSystem.SendTigerHit(t, this.bulletBet, "", Number(this.targetFish.ID))
                    } else if (u.PlayerManager.isMainSeat(this.seat)) {
                        var e = h.default.SpawnEffect("RefundLabel", !0);
                        e.angle = s.default.isReverse ? 180 : 0;
                        var n = cc.v2(-450, -180);
                        s.default.isReverse ? n.scaleSelf(cc.v2(this.seat % 2 == 0 ? -1 : 1, -1)) : n.scaleSelf(cc.v2(this.seat % 2 == 0 ? 1 : -1, 1)), e.setPosition(n), e.getComponentInChildren(cc.Label).string = l.default.getMultiLangText("Refund") + (this.bulletBet * this.betScale).toString(), u.PlayerManager.Instance.ModifyPlayerEntries(this.seat, this.bulletBet * this.betScale, null, !1), u.PlayerManager.BulletSync(-1, null)
                    }
                    this.Recycle()
                }, e.prototype.CreateExplodeEffect = function(t) {
                    var e = h.default.SpawnSkill("TigerBulletBlast", u.PlayerManager.isMainSeat(this.seat));
                    e && (e.setPosition(t), e.angle = 360 * Math.random()), u.PlayerManager.isMainSeat(this.seat) && c.default.Instance.Play("TigerBulletBlast")
                }, a([f], e)
            }(p.default));
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet"
    }],
    TigerWeapon: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "bf81aA7es1IF48SXfLmXPhu", "TigerWeapon");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../GameClient"),
            r = t("../Common/EnumFilter"),
            c = t("../Skill/BaseSkill"),
            l = t("./BaseWeapon"),
            h = t("./WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skill = null, e.ShowUpEffect = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    if (t.prototype.Init.call(this, e, n), this.Type = h.WeaponType.Tiger, this.ShowUpEffect.play(), this.skill = s.default.SkillSystem.AddSkill(c.skillEnum.TigerWeapon, e), this.skill.setWeapon(this, n), r.default.playerLockSetting) {
                        var i = Array.from(r.default.playerLockSetting),
                            o = n.UnhitList;
                        if (o)
                            for (var a = 0; a < o.length; a++) {
                                var l = i.indexOf(o[a]); - 1 != l && i.splice(l, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(i)
                    }
                }, e.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0)
                }, e.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1)
                }, e.prototype.ShootState = function() {
                    return 0
                }, e.prototype.ShootFunction = function(t) {
                    this.SetGunRotateUsePos(t), this.FortAni && this.FortAni.play("Shoot")
                }, e.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, t.prototype.UnloadWeapon.call(this)
                }, e.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, a([d(cc.Animation)], e.prototype, "ShowUpEffect", void 0), a([p], e)
            }(l.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    TreasureJew: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "a1800d93mdCwKkfvuxKOwZ0", "TreasureJew");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.JewSprite = [], e.Jew = null, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    this.Jew.spriteFrame = this.JewSprite[t - 1]
                }, a([c([cc.SpriteFrame])], e.prototype, "JewSprite", void 0), a([c(cc.Sprite)], e.prototype, "Jew", void 0), a([r], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    UniqueFishData: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "364b8c/dOdNfI6x+NdsGA8D", "UniqueFishData");
        var i = this && this.__decorate || function(t, e, n, i) {
            var o, a = arguments.length,
                s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
            else
                for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
            return a > 3 && s && Object.defineProperty(e, n, s), s
        };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var o = t("../Common/EnumFilter"),
            a = t("../Common/ResourceManager"),
            s = cc._decorator.ccclass,
            r = function() {
                function t(t) {
                    this.com = null, this.tween = null;
                    var e = null;
                    switch (t) {
                        case o.FishType.Vampire:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case o.FishGame.ZB:
                                    e = a.default.SpawnSkill("VampireOdds"), this.com = e.getComponent("VampireOdds");
                                    break;
                                case o.FishGame.ALD:
                                    e = a.default.SpawnSkill("AladdinOdds"), this.com = e.getComponent("AladdinOdds")
                            }
                            break;
                        case o.FishType.Buddha:
                            e = a.default.SpawnSkill("BuddhaOdds"), this.com = e.getComponent("BuddhaOdds");
                            break;
                        case o.FishType.RedDragon:
                            e = a.default.LoadBackground("PurpleFrameFire"), this.com = e.getComponent("PoolObj");
                            break;
                        case o.FishType.BattleShip:
                            e = a.default.LoadGUI("ShipInfo"), this.com = e.getComponent("ShipInfo");
                            break;
                        case o.FishType.CircusClown:
                            e = a.default.SpawnSkill("ClownOdds"), this.com = e.getComponent("ClownOdds")
                    }
                }
                return Object.defineProperty(t.prototype, "getComponent", {
                    get: function() {
                        return this.com
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.setTargetNumber = function(t) {
                    this.com && this.com.setTargetNumber(t)
                }, t.prototype.getTargetNumber = function() {
                    if (this.com) return this.com.getTargetNumber
                }, t.prototype.bindFish = function(t) {
                    this.com && this.com.bindFish(t)
                }, t.prototype.Hide = function() {
                    this.com && this.com.Hide && this.com.Hide()
                }, t.prototype.TreasureCrabInit = function(t, e, n) {
                    this.com && this.com.node != t.node && this.com.FishFadeOut(.5, 1), this.com = t.getComponent("TREASURE_CRAB"), this.com.InitScore(e, n)
                }, t.prototype.TreasureCrabLevelUp = function(t) {
                    if (t) {
                        var e = t.seat,
                            n = t.bet,
                            i = t.win;
                        this.com.upgrade(e, n, i)
                    }
                }, Object.defineProperty(t.prototype, "getLevel", {
                    get: function() {
                        return this.com ? this.com.Level : 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.setTimeEvent = function(t) {
                    var e = this;
                    if (t && t.hasOwnProperty("time") && t.hasOwnProperty("callback")) {
                        var n = t.time;
                        this.tween && this.tween.stop();
                        var i = t.callback;
                        this.tween = cc.tween(this).delay(n / 1e3).call(function() {
                            i(), e.tween = null
                        }).start()
                    }
                }, t.prototype.setCustomData = function(t) {
                    this.com && this.com.setCustomData(t)
                }, i([s], t)
            }();
        n.default = r, cc._RF.pop()
    }, {
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager"
    }],
    UserInfoController: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "f442ajv+p5AuK9AKlV5PsNv", "UserInfoController");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ScoreUIType = void 0;
        var s = t("../Weapon/WeaponManager"),
            r = t("../Skill/BaseSkillScoreUI"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property;
        (function(t) {
            t[t.Bomb = 0] = "Bomb", t[t.Drill = 1] = "Drill", t[t.Awake = 2] = "Awake", t[t.FlameStorm = 3] = "FlameStorm"
        })(n.ScoreUIType || (n.ScoreUIType = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.ScoreUIList = [], e.decimalPlaces = 0, e
            }
            return o(e, t), e.prototype.Init = function(t) {
                var e = s.default.WeaponPosition(t);
                switch (t) {
                    case 0:
                    case 1:
                        e.y += 21.6;
                        break;
                    case 2:
                    case 3:
                        e.y -= 41.6
                }
                switch (t) {
                    case 0:
                    case 3:
                        e.x -= 196, this.node.setPosition(e);
                        break;
                    case 1:
                    case 2:
                        e.x += 188, this.node.setPosition(e)
                }
            }, e.prototype.PlayerEnter = function(t) {
                if (t.isMain) switch (t.seat) {
                    case 0:
                    case 2:
                        this.node.setPosition(this.node.getPosition().addSelf(cc.v2(370, -6.6)));
                        break;
                    case 1:
                    case 3:
                        this.node.setPosition(this.node.getPosition().addSelf(cc.v2(-370, -6.6)))
                }
            }, e.prototype.PlayerLeave = function() {
                this.node.opacity = 125
            }, e.prototype.UpdateServerCredits = function() {}, e.prototype.getScoreUI = function(t) {
                return this.ScoreUIList[t]
            }, a([h([r.default])], e.prototype, "ScoreUIList", void 0), a([l], e)
        }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Skill/BaseSkillScoreUI": "BaseSkillScoreUI",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    Utility: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "3d66eTYz/1No7ngyTdMIW6j", "Utility"), Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var i = function() {
            function t() {}
            return Object.defineProperty(t, "config", {
                get: function() {
                    return this._config || (this._config = new GameConfig), this._config
                },
                enumerable: !1,
                configurable: !0
            }), t.NormalitionFloat = function(t) {
                var e = this.config.magnify;
                return Math.round(t / e * e) / e
            }, t.Numberformat = function(t, e, n) {
                void 0 === n && (n = !1);
                var i = (t / this.config.magnify).toFixed(e);
                return n && (i = i.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,")), i
            }, t.NumberformatBet = function(t, e, n) {
                return void 0 === n && (n = !1), e < this.config.magnify ? this.Numberformat(t, 1, n) : this.Numberformat(t, 0, n)
            }, t.IsOpposite = function(t, e) {
                return t <= 1 ? !(e <= 1) : e <= 1
            }, t.ConvertWorldPosition = function(t) {
                return t.neg()
            }, t.GetAngleFrom2Point = function(t, e) {
                var n = cc.v2(t.sub(e));
                return -cc.misc.radiansToDegrees(Math.atan2(n.y, n.x))
            }, t.GetLengthFrom2Point = function(t, e) {
                return cc.v2(t.sub(e)).mag()
            }, t.GetPointWithVector = function(t, e, n) {
                n = 2 * Math.PI / 360 * (n + 90);
                var i = cc.v2(Math.sin(n), Math.cos(n)).mul(e);
                return t.add(i)
            }, t._config = null, t
        }();
        n.default = i, cc._RF.pop()
    }, {}],
    VAMPIRE: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "73ad5ef75dN9KIovcf4e70B", "VAMPIRE");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../Common/AudioManager"),
            h = t("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.ChangeSmoke = null, e.OddsDummy = null, e.ice_group = [], e.defaultAliveTime = 120, e.Level = 1, e.tempLevel = null, e
                }
                return o(e, t), e.prototype.Init = function(e, n) {
                    for (t.prototype.Init.call(this, e, n), this.o < 70 && (this.o += 70); this.o > 110 && this.o < 180;) this.o -= 35;
                    for (this.o > 290 && (this.o -= 70); this.o >= 180 && this.o < 250;) this.o += 35;
                    this.isFeature = !0, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "LV1", !0), this.Level = 1, this.tempLevel = null, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), this.schedule(this.randomVoice, 10)
                }, e.prototype.InitNormalBehavior = function(e, n) {
                    void 0 === n && (n = 0), t.prototype.InitNormalBehavior.call(this, e, n), this.node.angle = c.default.isReverse ? 180 : 0
                }, e.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function() {
                            return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.unschedule(this.randomVoice), l.default.Instance.Play("Vampire_catch_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                t.CoinEffect(3), l.default.Instance.Play("41_catch_bigfish")
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                t.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, e.prototype.FishOut = function(e) {
                    this.unschedule(this.randomVoice), t.prototype.FishOut.call(this, e)
                }, e.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), t.prototype.RemoveSelf.call(this)
                }, e.prototype.changeLevel = function(t) {
                    if (this.skeleton.paused) this.tempLevel = t;
                    else if (t != this.Level) switch (this.ChangeSmoke.resetSystem(), l.default.Instance.Play("Vampire_smoke_01"), this.skeleton.setAnimation(0, "LV" + t.toString(), !0), this.Level = t, t) {
                        case 2:
                            l.default.Instance.Play("voice_vampire_up_01");
                            break;
                        case 3:
                            l.default.Instance.Play("voice_vampire_up_02")
                    }
                }, e.prototype.PauseBehavior = function(e, n) {
                    switch (t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0, this.Level) {
                        case 2:
                            this.ice_group[1].active = !0;
                        case 1:
                            this.ice_group[0].active = !0;
                            break;
                        case 3:
                            this.ice_group[2].active = !0
                    }
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(t) {
                        t.active = !1
                    }), null != this.tempLevel && (this.changeLevel(this.tempLevel), this.tempLevel = null)
                }, e.prototype.randomVoice = function() {
                    if (1 == this.Level) l.default.Instance.Play("Vampire_coffin_01");
                    else {
                        var t = 1 + Math.floor(4 * Math.random());
                        l.default.Instance.Play("voice_vampire_move_0" + t.toString())
                    }
                }, Object.defineProperty(e.prototype, "getOddsPos", {
                    get: function() {
                        return this.node.convertToWorldSpaceAR(this.OddsDummy.getPosition())
                    },
                    enumerable: !1,
                    configurable: !0
                }), a([d(cc.Node)], e.prototype, "shapeNode", void 0), a([d(sp.Skeleton)], e.prototype, "skeleton", void 0), a([d(cc.ParticleSystem)], e.prototype, "ChangeSmoke", void 0), a([d(cc.Node)], e.prototype, "OddsDummy", void 0), a([d([cc.Node])], e.prototype, "ice_group", void 0), a([p], e)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    VampireOdds: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "04b3cf88RRDNKQNg9lDSU0w", "VampireOdds");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../../../FishCommon/Script/CanvasHandler"),
            r = t("../Common/PoolObj"),
            c = t("../Fish/BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BG = null, e.label = null, e.targetOdds = 0, e.nowOdds = 0, e.vampire = null, e.fishID = null, e.step = 0, e.inSkill = !0, e
                }
                return o(e, t), e.prototype.update = function(t) {
                    if (!this.inSkill) {
                        if (this.vampire && this.vampire.AliveStatus == c.FishState.ALIVE) {
                            var e = this.node.parent.convertToNodeSpaceAR(this.vampire.getOddsPos);
                            this.node.setPosition(e)
                        } else this.node.setPosition(cc.Vec2.ONE.mul(5e3));
                        this.step += t, this.step > .1 && this.targetOdds > this.nowOdds && (this.nowOdds++, this.label.string = "x" + this.nowOdds.toString(), this.changeLevel())
                    }
                }, e.prototype.bindFish = function(t) {
                    var e = this;
                    this.vampire && this.vampire.ID == this.fishID && this.vampire.FishFadeOut(.5, 4), this.vampire = t, this.nowOdds = this.targetOdds, this.changeLevel(), this.BG.scale = 1.4, this.label.string = "x" + this.nowOdds.toString(), this.label.fontSize = 61, this.fishID = t.ID, this.inSkill = !1, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    }))), this.node.angle = s.default.isReverse ? 180 : 0
                }, e.prototype.setTargetNumber = function(t) {
                    this.targetOdds = t
                }, e.prototype.SkillInit = function(t) {
                    var e = this;
                    this.inSkill = !0, this.vampire = null, this.fishID = null, this.BG.scale = 1, this.label.string = "x" + t.toString(), this.label.fontSize = 40, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeIn(1), cc.callFunc(function() {
                        e.node.opacity = 255
                    })))
                }, e.prototype.Hide = function() {
                    var t = this;
                    this.node.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        t.node.opacity = 0
                    })))
                }, e.prototype.changeLevel = function() {
                    this.vampire && (this.nowOdds >= 300 ? this.vampire.changeLevel(3) : this.nowOdds >= 200 ? this.vampire.changeLevel(2) : this.vampire.changeLevel(1))
                }, a([u(cc.Node)], e.prototype, "BG", void 0), a([u(cc.Label)], e.prototype, "label", void 0), a([h], e)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Fish/BaseFish": "BaseFish"
    }],
    WEALTH_GOD: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "0e97b86lSJHNa+H2MX6XrBu", "WEALTH_GOD");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = t("../../../../../FishCommon/Script/CanvasHandler"),
            l = t("../../System/WeaponSystem"),
            h = t("../Common/AudioManager"),
            u = t("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.skeleton = null, e.InitLockPos = new cc.Vec2, e.ColliderList = new Array, e.InitOddsPos = new cc.Vec2, e.OddsNode = null, e.OddsLabel = null, e.oddsBone = null, e.boardOddsBone = null, e.catchOddsBone = null, e.swimSfx = -1, e.currentOdds = 0, e.rollingOdds = 0, e.currentLevel = 0, e.isDisplay = !1, e.isSyncData = !1, e.config = {
                        MAX_ODDS: 9999,
                        MAX_LEVEL: 6,
                        SYNC_INTERVAL: 1,
                        SWIM_STATE: "SWIM",
                        CHANGE_STATE: "CHANGE",
                        CATCH_STATE: "CATCH",
                        ODDS_CHANGE_COLOR: 1,
                        ODDS_COUNT_UP: 2,
                        ODDS_ZOOM: 3,
                        FISH_OFFSET: 4
                    }, e
                }
                return o(e, t), Object.defineProperty(e.prototype, "CurrentLevel", {
                    get: function() {
                        return this.currentLevel
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.Init = function(e, n) {
                    t.prototype.Init.call(this, e, n), console.warn("[Wealth God] %cFish: %s %cInit", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange"), this.shapeNode = this.node.getChildByName("Shape"), this.o = 180 * Math.floor(Number(this.id) % 4 * .5), this.mainCoillder.setPosition(this.InitLockPos.x, this.InitLockPos.y), this.OddsNode.setPosition(this.InitOddsPos.x, this.InitOddsPos.y), this.OddsLabel.node.stopAllActions(), this.OddsLabel.node.setScale(1, 1), this.oddsBone = null, this.boardOddsBone = null, this.catchOddsBone = null, this.SetOdds(1), this.SetLevel(1), console.log("[Wealth God]%cFish: %s %cInit %cSetDisplay: false", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.SetDisplay(!1), this.isSyncData = !0
                }, e.prototype.InitParameter = function() {
                    t.prototype.InitParameter.call(this), this.isFeature = !0
                }, e.prototype.update = function(e) {
                    t.prototype.update.call(this, e), this.node.angle = c.default.isReverse ? 180 : 0, this.isDisplay && (null != this.oddsBone && this.isDisplay && this.OddsNode.setPosition(this.shapeNode.x + this.oddsBone.worldX, this.shapeNode.y + this.oddsBone.worldY), null != this.boardOddsBone && this.OddsNode.setScale(this.boardOddsBone.scaleX, this.boardOddsBone.scaleY), null != this.catchOddsBone && this.OddsNode.setScale(this.catchOddsBone.scaleX, this.catchOddsBone.scaleY))
                }, e.prototype.InitSeek = function(t, e, n) {
                    if (this.behaviorType = u.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        e = Number(this.id) % 12;
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(t, e, this.node, this.id, this.o, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, e.prototype.FishOut = function(e) {
                    t.prototype.FishOut.call(this, e), -1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), this.swimSfx = -1, this.SetDisplay(!1), console.warn("[Wealth God] %cFish: %s %cFishOut", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange")
                }, e.prototype.GetLockLinkPoint = function(t) {
                    if (!this.node || !this.node.active || !this.isInScreen) return null;
                    var e = this.node.convertToWorldSpaceAR(this.mainCoillder.getPosition()),
                        n = this.isLockInScreen(this.mainCoillder);
                    if (n) return e;
                    if (n = this.isLockInScreen(this.lockNode)) return e;
                    if (this.lockNode = null, this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.length <= 0) return e;
                    for (var i = Number.MAX_VALUE, o = 0; o < this.subColliderList.length; o++) {
                        var a = this.isLockInScreen(this.subColliderList[o].node);
                        if (a) {
                            var s = t.sub(a).mag();
                            s < i && (i = s, n = e, this.lockNode = this.subColliderList[o].node)
                        }
                    }
                    return n
                }, e.prototype.isLockInScreen = function(t) {
                    var e = -this.fishRadius;
                    if (t) {
                        var n = this.node.convertToWorldSpaceAR(t.getPosition());
                        if (this.isSummon && this.mainFishNode && (n = this.mainFishNode.convertToWorldSpaceAR(t.getPosition())), n.x >= e && n.x < c.default.WinSize.width - e && n.y >= e && n.y < c.default.WinSize.height - e) return n
                    }
                    return null
                }, e.prototype.SyncData = function(t, e) {
                    null != t && null != e && this.isSyncData && (t != this.currentOdds && this.SetOdds(t, this.isDisplay), e != this.currentLevel && this.SetLevel(e, this.isDisplay), this.isDisplay || (console.log("[Wealth God]%cFish: %s %cSyncData %cSetDisplay: true", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.SetDisplay(!0, !0)))
                }, e.prototype.SetDisplay = function(t, e) {
                    void 0 === e && (e = !1), this.isDisplay = t, this.canCollision = this.isDisplay, this.node.stopAllActions(), this.isDisplay ? e ? this.node.runAction(cc.fadeIn(.5)) : this.node.opacity = 255 : e ? this.node.runAction(cc.fadeOut(.5)) : this.node.opacity = 0
                }, e.prototype.SetOdds = function(t, e) {
                    var n = this;
                    if (void 0 === e && (e = !1), !(t < 0 || t > 9999))
                        if (this.currentOdds = t, this.OddsLabel.node.stopActionByTag(this.config.ODDS_COUNT_UP), e && this.rollingOdds != this.currentOdds) {
                            var i = this.rollingOdds,
                                o = t - i,
                                a = Date.now(),
                                s = 0,
                                r = 0;
                            this.OddsLabel.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.001), cc.callFunc(function() {
                                s = .001 * (Date.now() - a), r = n.rollingOdds, n.rollingOdds = i + Math.round(o * (s / n.config.SYNC_INTERVAL)), n.rollingOdds >= i + o && (n.rollingOdds = i + o, n.OddsLabel.node.stopActionByTag(n.config.ODDS_COUNT_UP)), n.OddsLabel.string = "x" + n.rollingOdds, r != n.rollingOdds && null == n.OddsNode.getActionByTag(n.config.ODDS_ZOOM) && n.OddsNode.runAction(cc.sequence(cc.scaleTo(.133, 1.33, 1.33), cc.scaleTo(.133, 1, 1)).easing(cc.easeSineInOut())).setTag(n.config.ODDS_ZOOM)
                            }, this)))).setTag(this.config.ODDS_COUNT_UP)
                        } else this.rollingOdds = this.currentOdds, this.OddsLabel.string = "x" + this.currentOdds, this.OddsNode.stopActionByTag(this.config.ODDS_ZOOM), this.OddsNode.setScale(1, 1)
                }, e.prototype.SetLevel = function(t, e, n) {
                    if (void 0 === e && (e = !1), !(t < 1 || t > this.config.MAX_LEVEL))
                        if (this.OddsLabel.node.setScale(1, 1), e && 0 != this.currentLevel && t == this.currentLevel + 1) this.NextLevel(n);
                        else {
                            switch (this.currentLevel = t, this.SetAnimation(this.currentLevel, this.config.SWIM_STATE, !0), this.SetColliderPosition(), this.SetOddsColor(), this.currentLevel) {
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.boardOddsBone = this.skeleton.findBone("LV10");
                                    break;
                                default:
                                    this.boardOddsBone = null
                            }
                            if (-1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), this.isDisplay) switch (this.currentLevel) {
                                case 1:
                                    this.swimSfx = h.default.Instance.Play("01_wg_copperup", .6, !1);
                                    break;
                                case 2:
                                    this.swimSfx = h.default.Instance.Play("03_wg_silver", .6, !1);
                                    break;
                                case 3:
                                case 4:
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.swimSfx = h.default.Instance.Play("05_wg_gold", .6, !1)
                            }
                            n && n(), n = null
                        }
                }, e.prototype.NextLevel = function(t) {
                    var e = this;
                    if (!(this.currentLevel >= this.config.MAX_LEVEL)) {
                        var n = ++this.currentLevel;
                        if (this.SetAnimation(this.currentLevel - 1, this.config.CHANGE_STATE, !1, function() {
                                e.SetLevel(n, !1, t), t = null
                            }), this.SetColliderPosition(!0), this.SetOddsColor(!0), this.isDisplay) switch (this.currentLevel - 1) {
                            case 1:
                                h.default.Instance.Play("02_wg_level up_1");
                                break;
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 7:
                                h.default.Instance.Play("04_wg_level up_2")
                        }
                    }
                }, e.prototype.SetOddsColor = function(t) {
                    void 0 === t && (t = !1), this.OddsLabel.node.stopActionByTag(this.config.ODDS_CHANGE_COLOR);
                    var e = null;
                    switch (this.currentLevel) {
                        case 1:
                            e = cc.color(255, 192, 160);
                            break;
                        case 2:
                            e = cc.color(223, 223, 223);
                            break;
                        case 3:
                        case 4:
                            e = cc.color(255, 223, 160);
                            break;
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                            e = cc.color(160, 255, 255);
                            break;
                        default:
                            return
                    }
                    this.OddsLabel.node.color.equals(e) || (t ? this.OddsLabel.node.runAction(cc.tintTo(.33, e.getR(), e.getG(), e.getB())).setTag(this.config.ODDS_CHANGE_COLOR) : this.OddsLabel.node.color = e)
                }, e.prototype.SetAnimation = function(t, e, n, i) {
                    this.skeleton.setCompleteListener(null), this.skeleton.setAnimation(0, "LV" + t + "_" + e, n), i && this.skeleton.setCompleteListener(i), i = null
                }, e.prototype.SetColliderPosition = function(t) {
                    var e = this;
                    void 0 === t && (t = !1);
                    try {
                        this.mainCoillder.stopActionByTag(this.config.FISH_OFFSET), this.ColliderList.forEach(function(t) {
                            t.node.stopActionByTag(e.config.FISH_OFFSET)
                        }), this.shapeNode.stopActionByTag(this.config.FISH_OFFSET), this.OddsNode.stopActionByTag(this.config.FISH_OFFSET);
                        for (var n = this.node.getChildByName("CollidersLevelPosition").getChildByName("LV" + this.currentLevel), i = n.children[0].getPosition(), o = n.children[n.childrenCount - 1].getPosition(), a = i.add(o).scaleSelf(new cc.Vec2(-.5, -.5)), s = 0; s < this.ColliderList.length; s++) {
                            var r = n.children[s];
                            null != r ? t ? this.ColliderList[s].node.runAction(cc.moveTo(.3, r.getPosition().add(a))).setTag(this.config.FISH_OFFSET) : this.ColliderList[s].node.setPosition(r.getPosition().add(a)) : this.ColliderList[s].node.setPosition(n.children[0].getPosition().add(a))
                        }
                        t ? (this.mainCoillder.runAction(cc.moveTo(.3, this.InitLockPos.add(a))).setTag(this.config.FISH_OFFSET), this.shapeNode.runAction(cc.moveTo(.3, a)).setTag(this.config.FISH_OFFSET), this.OddsNode.runAction(cc.moveTo(.3, this.InitOddsPos.add(a))).setTag(this.config.FISH_OFFSET)) : (this.mainCoillder.setPosition(this.InitLockPos.add(a)), this.shapeNode.setPosition(a), this.OddsNode.setPosition(this.InitOddsPos.add(a)))
                    } catch (c) {
                        console.error(c)
                    }
                }, e.prototype.FishDie = function(t, e, n) {
                    return void 0 === e && (e = !0), s(this, void 0, void 0, function() {
                        var i, o, a, s, c = this;
                        return r(this, function() {
                            if (i = n[l.WeaponData.coin], o = n[l.WeaponData.bet], a = i / o, s = n.level, console.warn("[Wealth God]%cFish: %s %cFishDie %cDisplay Fish", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.isDisplay = !0, this.node.stopAllActions(), this.node.opacity = 255, this.isSyncData = !1, this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.StopAction(), null != i && null != o && null != s && (a != this.currentOdds || s != this.currentLevel) && a >= 1 && a <= this.config.MAX_ODDS && s >= 1 && s <= this.config.MAX_LEVEL) return this.SetOdds(i / o), console.warn("[Wealth God]%cFish: %s %cFishDie %cSync Odds or Level", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.SetLevel(s, !0, function() {
                                c.FishDie(t, e, n)
                            }), [2];
                            switch (this.ShakeCoinEffect(t), this.CoinEffect(), this.SetAnimation(this.currentLevel, this.config.CATCH_STATE, !1, function() {
                                c.skeleton.setCompleteListener(null), console.log("[Wealth God]%cFish: %s %cFishDie %cSetDisplay: false", "color:green;font-size:14px;font-weight:bold", c.id, "color:orange", "color:white"), c.SetDisplay(!1), c.RemoveSelf()
                            }), this.boardOddsBone = null, this.currentLevel) {
                                case 1:
                                    this.oddsBone = this.skeleton.findBone("Text_LV1"), this.catchOddsBone = this.skeleton.findBone("LV1");
                                    break;
                                case 2:
                                    this.oddsBone = this.skeleton.findBone("Text_LV2"), this.catchOddsBone = this.skeleton.findBone("LV2");
                                    break;
                                case 3:
                                case 4:
                                    this.oddsBone = this.skeleton.findBone("Text_LV3"), this.catchOddsBone = this.skeleton.findBone("LV3");
                                    break;
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.oddsBone = this.skeleton.findBone("Text_LV4"), this.catchOddsBone = this.skeleton.findBone("LV4")
                            }
                            return -1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), h.default.Instance.Play("06_wg_get"), [2]
                        })
                    })
                }, e.prototype.PauseBehavior = function(e, n) {
                    t.prototype.PauseBehavior.call(this, e, n), this.skeleton.paused = !0
                }, e.prototype.ResumeBehavior = function() {
                    t.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, a([f(sp.Skeleton)], e.prototype, "skeleton", void 0), a([f(cc.Vec2)], e.prototype, "InitLockPos", void 0), a([f([cc.Collider])], e.prototype, "ColliderList", void 0), a([f(cc.Vec2)], e.prototype, "InitOddsPos", void 0), a([f(cc.Node)], e.prototype, "OddsNode", void 0), a([f(cc.Label)], e.prototype, "OddsLabel", void 0), a([d], e)
            }(u.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/WeaponSystem": "WeaponSystem",
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    WeaponChoseWindow: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "ba819nszVNKZJc9dayl1jGR", "WeaponChoseWindow");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Weapon/WeaponManager"),
            r = t("./PopupWindowCtrl"),
            c = t("./WindowCtrl"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.toggleParent = null, e.WeaponBtnList = null, e.WeaponBtnType = [s.WeaponType.Normal, s.WeaponType.Lock, s.WeaponType.Tiger, s.WeaponType.Dragon], e.RichTextList = null, e
                }
                return o(e, t), e.prototype.showWindow = function(e, n, i) {
                    if (void 0 === e && (e = null), void 0 === n && (n = null), t.prototype.showWindow.call(this, e, n, i), this.RichTextList = this.toggleParent.getComponentsInChildren(cc.RichText), null != n && this.RichTextList.length >= n.length)
                        for (var o = 0; o < n.length; o++) this.RichTextList[o].string = n[o]
                }, e.prototype.Init = function(t) {
                    if (t) {
                        var e = t.WeaponList,
                            n = t.currentType;
                        this.WeaponBtnList = this.toggleParent.toggleItems, this.toggleParent.enabled = !1;
                        for (var i = 0; i < this.WeaponBtnList.length; i++) this.WeaponBtnList[i].node.active = -1 != e.indexOf(this.WeaponBtnType[i]), this.WeaponBtnList[i].isChecked = !1;
                        this.toggleParent.enabled = !0, this.WeaponBtnList[this.WeaponBtnType.indexOf(n)].isChecked = !0
                    } else r.default.CloseWindow()
                }, e.prototype.WeaponBtnClick = function(t, e) {
                    null != this.BtnEvent[0] ? this.BtnEvent[0](parseInt(e)) : r.default.CloseWindow()
                }, a([u(cc.ToggleContainer)], e.prototype, "toggleParent", void 0), a([h], e)
            }(c.default);
        n.default = p, cc._RF.pop()
    }, {
        "../Weapon/WeaponManager": "WeaponManager",
        "./PopupWindowCtrl": "PopupWindowCtrl",
        "./WindowCtrl": "WindowCtrl"
    }],
    WeaponManager: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "fc86b0jlGZD3qC9rUArPalI", "WeaponManager");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WeaponType = void 0;
        var c, l = t("../Common/ResourceManager"),
            h = t("../Player/PlayerManager"),
            u = t("../Fish/FishManager"),
            p = t("./BaseBullet"),
            d = t("../../GameClient"),
            f = t("../../System/WeaponSystem"),
            y = t("./BaseWeapon"),
            m = t("../Skill/BaseSkill"),
            g = t("../Common/EnumFilter"),
            S = t("../Common/AudioManager"),
            _ = t("../Common/MultiLangSystem"),
            v = t("../Player/PopupWindowCtrl"),
            b = t("../Common/PreloadManager"),
            P = t("../Item/ItemManager"),
            C = t("../../System/ItemSystem"),
            w = t("../../Event/EventPuzzleDropEggMgr"),
            I = t("../../../../../FishCommon/Script/CanvasHandler"),
            k = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            T = t("../../../../../LobbyCommon/Net/LobbyClient");
        (function(t) {
            t[t.None = -1] = "None", t[t.Normal = 50001] = "Normal", t[t.Lock = 51001] = "Lock", t[t.Dirll = 54001] = "Dirll", t[t.FlameStorm = 54002] = "FlameStorm", t[t.Electric = 55001] = "Electric", t[t.Tiger = 56001] = "Tiger", t[t.Dragon = 57001] = "Dragon"
        })(c = n.WeaponType || (n.WeaponType = {}));
        var M = cc._decorator.ccclass,
            A = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.playerShoot = !1, e.firstTouch = !1, e.autoShoot = !1, e.weaponNow = [null, null, null, null], e.weaponLast = [null, null, null, null], e.bulletCount = [0, 0, 0, 0], e.weaponAuto = [!1, !1, !1, !1], e.mousePositionNow = cc.Vec2.ZERO, e.bulletLimit = 20, e.bulletSN = 0, e.bullet_manager = {}, e.MainSeat = 0, e.m_weaponSkinData = {}, e.m_weaponSkinNow = [0, 0, 0, 0], e.m_weaponLvNow = [0, 0, 0, 0], e.m_curWeaponType = c.Normal, e.m_isPopupShow = !1, e.weapon_setting = {}, e.baseWeaponList = [], e.cooldownCW = !1, e.cooldownWA = !1, e
                }
                var n;
                return o(e, t), n = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "AutoShoot", {
                    get: function() {
                        return this.autoShoot
                    },
                    set: function(t) {
                        this.autoShoot = t, this.AutoState(this.MainSeat, t), d.default.PlayerSystem && d.default.PlayerSystem.UpdateBetValue(h.PlayerManager.getPlayer(this.MainSeat)), d.default.FishUIMgr.SwitchAutoButton(this.autoShoot)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "IsPopupShow", {
                    set: function(t) {
                        this.m_isPopupShow = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.BaseWeaponList = function() {
                    return this.baseWeaponList
                }, e.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var t, e;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    n.instance = this, t = "weapon_setting", i.label = 1;
                                case 1:
                                    return i.trys.push([1, 3, , 4]), [4, d.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/weapon_setting/" + window.gd_nowLOGO + "_weapon_setting").then(function() {
                                        t = window.gd_nowLOGO + "_weapon_setting"
                                    })];
                                case 2:
                                case 3:
                                    return i.sent(), [3, 4];
                                case 4:
                                    return e = this, [4, d.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/weapon_setting/" + t)];
                                case 5:
                                    return e.weapon_setting = i.sent(), 0 == this.baseWeaponList.length && (this.baseWeaponList = this.weapon_setting.BaseWeaponList), [2]
                            }
                        })
                    })
                }, e.prototype.Init = function(t) {
                    b.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), this.weaponPosition = new Array(4);
                    var e = I.default.WinSize;
                    this.weaponPosition[0] = cc.v2(-.25 * e.width, -.44 * e.height), this.weaponPosition[1] = cc.v2(.25 * e.width, -.44 * e.height), this.weaponPosition[2] = cc.v2(.25 * e.width, .44 * e.height), this.weaponPosition[3] = cc.v2(-.25 * e.width, .44 * e.height), I.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.touchStart, this), I.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this), I.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_END, this.touchEnd, this), I.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this), this.MainSeat = t;
                    for (var n = 0; n < this.weaponPosition.length; n++) n != this.MainSeat && this.LoadWeapon(n, c.Normal, !0)
                }, e.prototype.touchStart = function(t) {
                    this.playerShoot = !0, this.firstTouch = !0, this.mousePositionNow = I.default.ConvMousePos(t.getLocation())
                }, e.prototype.touchMove = function(t) {
                    this.playerShoot && (this.mousePositionNow = I.default.ConvMousePos(t.getLocation()))
                }, e.prototype.touchEnd = function() {
                    this.playerShoot = !1
                }, e.prototype.touchCancel = function() {
                    this.playerShoot = !1
                }, e.prototype.SwitchWeapon = function() {
                    if (this.checkChangeWeaponState && !this.cooldownCW && this.weaponNow[this.MainSeat]) {
                        v.default.CloseWindow(v.Windows.WeaponChose);
                        var t = this.baseWeaponList.indexOf(this.weaponNow[this.MainSeat].Type); - 1 == t && console.error("SwitchWeapon error unknow weapon"), (t += 1) >= this.baseWeaponList.length && (t -= this.baseWeaponList.length), this.mainPlayerChangeWeapon(this.baseWeaponList[t])
                    }
                }, Object.defineProperty(e.prototype, "checkChangeWeaponState", {
                    get: function() {
                        return h.PlayerManager.Instance.MaxBalance && h.PlayerManager.getPlayer(this.MainSeat).entries + h.PlayerManager.getPlayer(this.MainSeat).winning >= h.PlayerManager.Instance.MaxBalance ? (k.PopupMsgMgr.Instance.ShowPopMsg(k.PopupPriority.Info, "C29", d.default.Instance.title, "MaxBalance", null), !1) : !h.PlayerManager.Instance.isLockChangeBet
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.mainPlayerChangeWeapon = function(t) {
                    var e = this;
                    switch (this.weaponNow[this.MainSeat].Type) {
                        case c.Lock:
                            var i = d.default.SkillSystem.FindSkill(m.skillEnum.Lock, this.MainSeat);
                            i && i.UnUseSkill();
                            break;
                        case c.Tiger:
                            var o = d.default.SkillSystem.FindSkill(m.skillEnum.TigerWeapon, this.MainSeat);
                            o && o.UnUseSkill();
                            break;
                        case c.Dragon:
                            var a = d.default.SkillSystem.FindSkill(m.skillEnum.DragonWeapon, this.MainSeat);
                            a && a.UnUseSkill()
                    }
                    switch (this.RecycleWeapon(this.MainSeat), this.LoadWeapon(this.MainSeat, t), this.AutoShoot = !1, t) {
                        case c.Normal:
                        case c.Lock:
                            S.default.Instance.Play("gunswitch_on");
                            break;
                        case c.Tiger:
                            S.default.Instance.Play("13_wild_tiger");
                            break;
                        case c.Dragon:
                            S.default.Instance.Play("canon_dragon_05")
                    }
                    this.m_curWeaponType = t;
                    var s = this.weapon_setting[t].UnhitList;
                    s ? u.default.Instance.SetUnhitableFishColor(g.default.TransFishTypeList(s), cc.Color.GRAY) : u.default.Instance.SetUnhitableFishColor([], cc.Color.WHITE), d.default.FishUIMgr.ChangeWeaponButton(t, this.baseWeaponList);
                    var r = 1,
                        l = 6;
                    this.weapon_setting[t].betScale && (r = this.weapon_setting[t].betScale), this.weapon_setting[t]["1secShoot"] && (l = this.weapon_setting[t]["1secShoot"]);
                    var p = h.PlayerManager.getPlayer(this.MainSeat);
                    d.default.FishUIMgr.ShowPurchaseHint(p.entries < p.bet_value * n.Instance.getBetScale), d.default.FishUIMgr.SetBet(p.bet_value, r), d.default.Instance.UpdateBetData(p.bet_value, r, l), this.cooldownCW = !0, this.scheduleOnce(function() {
                        e.cooldownCW = !1, d.default.FishUIMgr.ResetWeaponToggle && d.default.FishUIMgr.ResetWeaponToggle()
                    }, .3), this.CheckWeaponChangeHint()
                }, e.prototype.SwitchAuto = function() {
                    var t = this;
                    if (this.checkChangeWeaponState && !this.cooldownWA) {
                        if (v.default.CloseWindow(v.Windows.WeaponChose), n.Instance.AutoShoot = !n.Instance.AutoShoot, S.default.Instance.Play("common01"), n.Instance.AutoShoot && g.default.playerLockSetting) {
                            var e = Array.from(g.default.playerLockSetting),
                                i = this.weapon_setting[this.getWeaponType(this.MainSeat)].UnhitList;
                            if (i)
                                for (var o = 0; o < i.length; o++) {
                                    var a = e.indexOf(i[o]); - 1 != a && e.splice(a, 1)
                                }
                            g.default.LockSetting = g.default.TransFishTypeList(e)
                        }
                        this.cooldownWA = !0, this.scheduleOnce(function() {
                            t.cooldownWA = !1
                        }, .3)
                    }
                }, e.prototype.ForceStopAuto = function() {
                    switch (this.AutoShoot = !1, this.playerShoot = !1, this.getWeaponType(h.PlayerManager.MainSeat)) {
                        case c.Lock:
                            var t = d.default.SkillSystem.FindSkill(m.skillEnum.Lock, h.PlayerManager.MainSeat);
                            t && (console.warn("setLocking null"), t.setLocking(null));
                            break;
                        case c.Tiger:
                            var e = d.default.SkillSystem.FindSkill(m.skillEnum.TigerWeapon, h.PlayerManager.MainSeat);
                            e && (console.warn("setLocking null"), e.setLocking(null));
                            break;
                        case c.Dragon:
                            var n = d.default.SkillSystem.FindSkill(m.skillEnum.DragonWeapon, h.PlayerManager.MainSeat);
                            n && (console.warn("setLocking null"), n.setLocking(null))
                    }
                }, e.prototype.GetSkillWeapon = function(t, e) {
                    if (this.weaponNow[t] && (this.weaponNow[t].enabled = !1, this.weaponNow[t].node.active = !1), this.weaponLast[t] || (this.weaponLast[t] = this.weaponNow[t]), t == this.MainSeat) {
                        h.PlayerManager.Instance.isLockChangeBet = !0;
                        var n = null;
                        this.weaponLast[t] && (n = this.weapon_setting[this.weaponLast[t].Type].UnhitList), n && u.default.Instance.SetUnhitableFishColor([], cc.Color.WHITE)
                    }
                    if (e) return this.LoadWeapon(t, e), this.weaponNow[t];
                    this.weaponNow[t] = null
                }, e.prototype.ReturnToBaseWeapon = function(t) {
                    if (this.weaponLast[t]) {
                        this.RecycleWeapon(t), this.weaponNow[t] = this.weaponLast[t], this.weaponLast[t] = null;
                        var e = null;
                        this.weaponNow[t] && (e = this.weapon_setting[this.weaponNow[t].Type].UnhitList), e && u.default.Instance.SetUnhitableFishColor(e, cc.Color.GRAY)
                    }
                    this.weaponNow[t].node.active = !0, this.weaponNow[t].enabled = !0, this.AutoState(t, this.weaponAuto[t]), t == this.MainSeat && (h.PlayerManager.Instance.isLockChangeBet = !1)
                }, e.prototype.ChangeWeapon = function(t, e, n) {
                    void 0 === n && (n = !1), this.getWeaponType(t) != e ? (this.RecycleWeapon(t), this.LoadWeapon(t, e, n)) : this.weaponNow[t].GunAlpha(n), SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && this.LoadWeapon(t, e, n)
                }, e.prototype.OnBetChange = function(t) {
                    SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && this.LoadWeapon(t, this.m_curWeaponType)
                }, e.prototype.SetWeaponSkinData = function(t) {
                    this.m_weaponSkinData = t
                }, e.prototype.GetWeaponSkipID = function(t, e, n) {
                    void 0 === n && (n = !1);
                    var i = e.toString(),
                        o = h.PlayerManager.getPlayer(t).bet_value;
                    h.PlayerManager.Instance.m_isUIInitFinish && (o = Number.parseInt(h.PlayerManager.getBetCtrl(t).betLabel.string));
                    var a = this.m_weaponSkinData[o];
                    (null == a || n) && (a = 11, console.warn("weaponLv == undefined || alpha"), o > 300 && (a = 32)), this.m_weaponLvNow[t] = a;
                    var s = i + a.toString();
                    return Number.parseInt(s)
                }, e.prototype.LoadWeapon = function(t, e, n) {
                    if (void 0 === n && (n = !1), SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF) {
                        var i = e;
                        if (i == c.Normal || i == c.Lock) {
                            if ((i = this.GetWeaponSkipID(t, e)) == this.m_weaponSkinNow[t]) return;
                            this.m_weaponSkinNow[t] = i, this.RecycleWeapon(t), e = i
                        }
                    }
                    var o = l.default.LoadWeapon(e, this.MainSeat == t);
                    o && (o.setPosition(this.weaponPosition[t]), this.weaponNow[t] = o.getComponent(y.default), this.weaponNow[t].Init(t, this.weapon_setting[e]), this.weaponNow[t].GunAlpha(n))
                }, e.prototype.RecycleWeapon = function(t) {
                    this.weaponNow[t] && (this.weaponNow[t].UnloadWeapon(), l.default.UnloadWeapon(this.weaponNow[t].Type, this.weaponNow[t].node), this.weaponNow[t] = null)
                }, e.prototype.getWeapon = function(t) {
                    if (this.weaponNow[t]) return this.weaponNow[t]
                }, e.prototype.getWeaponType = function(t) {
                    if (this.weaponNow[t]) return this.weaponNow[t].Type
                }, e.prototype.GetWeaponPosition = function(t) {
                    return this.weaponNow[t].node.parent.convertToWorldSpaceAR(this.weaponPosition[t])
                }, e.WeaponPosition = function(t, e, n) {
                    if (void 0 === e && (e = cc.Vec2.ZERO), void 0 === n && (n = 1), this.instance) {
                        var i = cc.v2(this.instance.weaponPosition[t]);
                        return (t > 1 ? i.sub(e) : i.add(e)).scale(cc.v2(n, n))
                    }
                }, e.WeaponUIPosition = function(t) {
                    return I.default.isReverse ? t < 2 ? cc.v2(this.instance.weaponPosition[t + 2]) : cc.v2(this.instance.weaponPosition[t - 2]) : cc.v2(this.instance.weaponPosition[t])
                }, e.WeaponGUIRotation = function(t, e) {
                    return void 0 === e && (e = !1), e ? I.default.isReverse && t > 1 ? 180 : 0 : I.default.isReverse ? 180 : 0
                }, e.prototype.update = function() {
                    this.PlayerShoot()
                }, e.prototype.PlayerShoot = function() {
                    if (!this.m_isPopupShow && (this.playerShoot || this.AutoShoot)) {
                        if (!this.weaponNow[this.MainSeat]) return;
                        switch (this.weaponNow[this.MainSeat].ShootState(this.firstTouch)) {
                            case 0:
                                return;
                            case 1:
                                this.firstTouch = !1;
                                break;
                            case 2:
                                var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return k.PopupMsgMgr.Instance.ShowPopMsg(k.PopupPriority.Info, t, d.default.Instance.title, "Insufficient balance", null), this.AutoShoot = !1, this.playerShoot = !1, void d.default.FishUIMgr.ShowPurchaseHint(!0);
                            case 3:
                                return k.PopupMsgMgr.Instance.ShowPopMsg(k.PopupPriority.Info, "C29", d.default.Instance.title, "MaxBalance", null), this.AutoShoot = !1, void(this.playerShoot = !1)
                        }
                        if (d.default.FishUIMgr.IsPurchaseOpen()) return;
                        if (this.bulletCount[this.MainSeat] >= this.bulletLimit) return;
                        var e = this.mousePositionNow;
                        !I.default.isReverse && e.y < -250 && (e.y = -250), I.default.isReverse && e.y > 250 && (e.y = 250);
                        var n = h.PlayerManager.getPlayer(this.MainSeat),
                            i = this.CreateBullet(this.MainSeat, e, n.bet_value);
                        this.SendShootCmd(i.bulletID, n.bet_value), this.weaponNow[this.MainSeat].ShootFunction(e), this.AutoShoot || d.default.Instance.RecordClickLog(!0), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + T.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + T.GAME_STATUS.FIRST_SPIN), T.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, T.GAME_STATUS.FIRST_SPIN)), this.CheckWeaponChangeHint()
                    }
                }, e.prototype.SendShootCmd = function(t, e) {
                    switch (this.weaponNow[this.MainSeat].Type) {
                        case c.Normal:
                            d.default.WeaponSystem && d.default.WeaponSystem.Shoot(this.MainSeat, this.mousePositionNow, t, e);
                            break;
                        case c.FlameStorm:
                            d.default.SkillSystem.FlameStormShoot(t, this.mousePositionNow)
                    }
                }, e.prototype.OtherPlayerShoot = function(t, e, n, i) {
                    if (!h.PlayerManager.isMainSeat(t) && !(u.default.Instance.currect_fps < 20 || this.bulletCount[t] >= this.bulletLimit) && this.weaponNow[t] && this.weaponNow[t].Type == c.Normal) {
                        var o = new cc.Vec2(n, i);
                        this.CreateBullet(t, o), this.weaponNow[t].ShootFunction(o), this.weaponNow[t].autoAnim || d.default.Instance.RecordClickLog(!1)
                    }
                }, e.prototype.CreateBullet = function(t, e, n) {
                    var i = t + "_" + this.bulletSN;
                    this.bulletSN >= Number.MAX_VALUE ? this.bulletSN = 0 : this.bulletSN++;
                    var o = this.weaponNow[t].Type;
                    SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && (o = o == c.Normal ? this.m_weaponSkinNow[t] : o);
                    var a = l.default.SpawnBullet(o, this.MainSeat == t).getComponent(p.default);
                    return e && a.Init(i, t, this.weaponNow[t].Type, e, n), this.bulletCount[t]++, this.bullet_manager[a.bulletID] = a, a
                }, e.prototype.HitFishRequest = function(t, e) {
                    var n = t.bulletID;
                    if (this.bullet_manager.hasOwnProperty(n)) {
                        delete this.bullet_manager[n];
                        var i = t.seat;
                        t.Recycle(), this.bulletCount[i]--;
                        var o = g.EffectType.Blast;
                        this.weaponNow[i] && SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && (o = this.weaponNow[i].Type == c.Normal ? this.m_weaponSkinNow[i] : g.EffectType.Blast), l.default.SpawnEffect(o, i == this.MainSeat).setPosition(t.node.getPosition()), i == this.MainSeat && 0 != e.length && null != e && d.default.WeaponSystem && d.default.WeaponSystem.Blast(i, n, t.bulletBet, e)
                    }
                }, e.prototype.HitFishRequestCallback = function(t, e, n, i, o, a, s, r) {
                    var c = this;
                    if (o == this.MainSeat ? h.PlayerManager.BulletSync(null, t) : this.bulletCount[o]--, "playgd" == window.gd_nowLOGO && s && s.hasOwnProperty("900005") && w.default.Instance.ParsePuzzelDropEgg(o, o == this.MainSeat, s, r), null == n || n.length <= 0) o == this.MainSeat && h.PlayerManager.BulletSync(-1);
                    else
                        for (var l, p, d = 0, y = cc.Vec2.ZERO, m = Object.keys(n), S = 0; S < m.length; S++) {
                            d = (l = n[m[S]])[f.WeaponData.coin], p = l[f.WeaponData.fs_item_dict];
                            var _ = u.default.Instance.GetFishByID(m[S].toString());
                            if (_) _.IsFeatureFish && (a = !0), a && !g.default.KillableFeatureFish(_.Type) || u.default.Instance.KillFish(o, _, d, i, null, null, null, l), y = I.default.ConvMousePos(_.getFishPos()), g.default.getFishType(_.Type) == g.FishType.WealthGod ? (y = I.default.isReverse ? cc.v2(0, -100) : cc.v2(0, 100), setTimeout(function() {
                                c.CallDropItem(o, p, y, !1)
                            }, 5e3)) : this.CallDropItem(o, p, y, !1);
                            else if (d > 0 && h.PlayerManager.Instance.ModifyPlayerWinning(o, d, t), o == this.MainSeat) {
                                var v = void 0,
                                    b = void 0;
                                Math.random() > .5 ? (v = Math.floor(1136 * Math.random() - 568), b = Math.random() > .5 ? 350 : -320) : (v = Math.random() > .5 ? 600 : -600, b = Math.floor(660 * Math.random() - 320)), y = cc.v2(v, b), this.CallDropItem(o, p, y)
                            }
                        }
                }, e.prototype.CallDropItem = function(t, e, n, i) {
                    if (void 0 === i && (i = !0), null != e) {
                        var o = e.freeze_amount,
                            a = e.summon_amount;
                        Object.keys(e).forEach(function(s) {
                            if (s == C.ITEM_ID.FREEZE || s == C.ITEM_ID.SUMMON) {
                                var r = e[s];
                                r > 0 && P.default.Instance.DropItemEffect(t, s, r, n, i, null, o, a)
                            }
                        })
                    }
                }, e.prototype.AutoState = function(t, e) {
                    this.weaponNow && this.weaponNow[t] && (this.weaponAuto[t] = e, this.weaponNow[t].AutoState(e))
                }, e.prototype.PlayerLeave = function(t) {
                    this.AutoState(t, !1), this.ChangeWeapon(t, c.Normal, !0)
                }, e.prototype.WeaponChose = function() {
                    switch (window.gd_nowLOGO) {
                        case "magiccity":
                            break;
                        default:
                            if (v.default.CloseWindow(v.Windows.WeaponChose)) return
                    }
                    if (this.checkChangeWeaponState && this.weaponNow[this.MainSeat])
                        if (2 != this.baseWeaponList.length) {
                            var t = "",
                                e = "";
                            this.baseWeaponList.indexOf(c.Tiger) >= 0 && (t = _.default.getMultiLangText("TigerInfo").replace("#BS#", "x" + this.weapon_setting[c.Tiger].betScale)), this.baseWeaponList.indexOf(c.Dragon) >= 0 && (e = _.default.getMultiLangText("DragonInfo").replace("#BS#", "x" + this.weapon_setting[c.Dragon].betScale));
                            var n = {};
                            switch (n.currentType = this.getWeaponType(this.MainSeat), n.WeaponList = this.baseWeaponList, window.gd_nowLOGO) {
                                case "magiccity":
                                    var i = [_.default.getMultiLangText("SpeedInfo"), _.default.getMultiLangText("LockInfo")];
                                    "" != t && i.push(t), "" != e && i.push(e), d.default.FishUIMgr.showWeaponChosePanel(i, n);
                                    break;
                                default:
                                    var o = new v.WindowsData(v.Windows.WeaponChose, [this.WeaponChoseBtnClick.bind(this)], [_.default.getMultiLangText("SpeedInfo"), _.default.getMultiLangText("LockInfo"), t, e], n);
                                    v.default.EnableWindow(o, !1)
                            }
                        } else this.SwitchWeapon()
                }, e.prototype.WeaponChoseBtnClick = function(t) {
                    t != this.getWeaponType(this.MainSeat) ? this.checkChangeWeaponState && !this.cooldownCW && this.weaponNow[this.MainSeat] && this.mainPlayerChangeWeapon(t) : v.default.CloseWindow(v.Windows.WeaponChose)
                }, e.prototype.LockSetting = function() {
                    if (this.checkChangeWeaponState) {
                        var t = JSON.parse(JSON.stringify(this.weapon_setting[this.getWeaponType(this.MainSeat)]));
                        if (SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.BS)
                            for (var e = SS.Network.LoginModel.LoginInfo.pin_ark_id, n = u.default.Instance.getUniqueFishData(g.FishType.BattleShip).getComponent.getData(), i = 89; i < 92; i++) {
                                var o = "";
                                switch (i) {
                                    case 89:
                                        o = "SUBMARINE_R";
                                        break;
                                    case 90:
                                        o = "SUBMARINE_G";
                                        break;
                                    case 91:
                                        o = "SUBMARINE_B"
                                }
                                if (n[o].ark_id == e) {
                                    var a = t.UnhitList;
                                    a ? a.push(i) : a = [i], t.UnhitList = a
                                }
                            }
                        var s = new v.WindowsData(v.Windows.LockSetting, [this.LockSettingConfirm.bind(this)], [_.default.getMultiLangText("LockSetting"), _.default.getMultiLangText("Ok"), _.default.getMultiLangText("Clear")], t);
                        v.default.EnableWindow(s), S.default.Instance.PlayByAudioClipTable("LOCK_SETTING_BTN")
                    }
                }, e.prototype.LockSettingConfirm = function() {
                    v.default.CloseWindow();
                    var t = null;
                    switch (n.Instance.getWeaponType(h.PlayerManager.MainSeat)) {
                        case c.Lock:
                            t = SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF ? d.default.SkillSystem.FindSkill(this.GetSkillLockLv(this.MainSeat), h.PlayerManager.MainSeat) : d.default.SkillSystem.FindSkill(m.skillEnum.Lock, h.PlayerManager.MainSeat);
                            break;
                        case c.Tiger:
                            t = d.default.SkillSystem.FindSkill(m.skillEnum.TigerWeapon, h.PlayerManager.MainSeat);
                            break;
                        case c.Dragon:
                            t = d.default.SkillSystem.FindSkill(m.skillEnum.DragonWeapon, h.PlayerManager.MainSeat)
                    }
                    if (t)
                        if (t.setLocking(null), null != g.default.LockSetting) {
                            if (d.default.FishUIMgr.SwitchLockSettingButton(!0), h.PlayerManager.getPlayer(this.MainSeat).entries < this.getBetScale) {
                                var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return k.PopupMsgMgr.Instance.ShowPopMsg(k.PopupPriority.Info, e, d.default.Instance.title, "Insufficient balance", null), void d.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            t.FindNextFish(), n.Instance.AutoShoot || (n.Instance.AutoShoot = !0)
                        } else d.default.FishUIMgr.SwitchLockSettingButton(!1)
                }, e.prototype.CheckWeaponChangeHint = function() {
                    d.default.FishUIMgr.CloseWeaponActiveHint(), d.default.FishUIMgr.IsWeaponChangeHintActive && d.default.FishUIMgr.CloseWeaponChangeHint()
                }, Object.defineProperty(e.prototype, "getBetScale", {
                    get: function() {
                        var t = 1;
                        return this.weapon_setting[this.getWeaponType(this.MainSeat)] && this.weapon_setting[this.getWeaponType(this.MainSeat)].betScale && (t = this.weapon_setting[this.getWeaponType(this.MainSeat)].betScale), t
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.InitWeaponList = function(t) {
                    var e = [c.Normal, c.Lock];
                    t.hasOwnProperty("Scale") && t.Scale && e.push(c.Tiger), t.hasOwnProperty("MultipleScale") && t.MultipleScale && e.push(c.Dragon), this.baseWeaponList = e
                }, e.prototype.ChangeWeaponList = function(t) {
                    var e = [c.Normal, c.Lock];
                    t.hasOwnProperty("Scale") && t.Scale && e.push(c.Tiger), t.hasOwnProperty("MultipleScale") && t.MultipleScale && e.push(c.Dragon);
                    for (var n = [], i = 0; i < e.length; i++) - 1 == this.baseWeaponList.indexOf(e[i]) && n.push(e[i]);
                    n.length > 0 && (v.default.CloseWindow(v.Windows.WeaponChose), d.default.FishUIMgr.WeaponActiveHint(n));
                    var o = [],
                        a = !1;
                    for (i = 0; i < this.baseWeaponList.length; i++) - 1 == e.indexOf(this.baseWeaponList[i]) && (o.push(this.baseWeaponList[i]), this.weaponNow[this.MainSeat].Type == this.baseWeaponList[i] && (a = !0));
                    if (o.length > 0 && v.default.CloseWindow(v.Windows.WeaponChose), a) {
                        var s = "";
                        o.length > 1 ? s = "C63" : o[0] == c.Tiger ? s = "C61" : o[0] == c.Dragon && (s = "C62"), this.mainPlayerChangeWeapon(c.Lock), k.PopupMsgMgr.Instance.ShowPopMsg(k.PopupPriority.Info, s, d.default.Instance.title, "WeaponOff")
                    } else d.default.FishUIMgr.ChangeWeaponButton(this.getWeaponType(this.MainSeat), this.baseWeaponList);
                    this.baseWeaponList = e
                }, e.prototype.Clear = function() {
                    this.weaponNow = [null, null, null, null], this.weaponLast = [null, null, null, null], this.bulletCount = [0, 0, 0, 0], this.bullet_manager = {}, this.m_weaponSkinData = {}, n.instance = null
                }, e.prototype.GetSkillLockLv = function(t) {
                    h.PlayerManager.getBetCtrl(t).betLabel.string;
                    var e = this.m_weaponLvNow[t],
                        n = m.skillEnum.Lock;
                    switch (e) {
                        case 11:
                        case 12:
                            n = m.skillEnum.Lock;
                            break;
                        case 21:
                        case 22:
                            n = m.skillEnum.LockLv2;
                            break;
                        case 31:
                        case 32:
                            n = m.skillEnum.LockLv3
                    }
                    return n
                }, e.instance = null, n = a([M], e)
            }(cc.Component);
        n.default = A, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "../../GameClient": "GameClient",
        "../../System/ItemSystem": "ItemSystem",
        "../../System/WeaponSystem": "WeaponSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Item/ItemManager": "ItemManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/PopupWindowCtrl": "PopupWindowCtrl",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseBullet": "BaseBullet",
        "./BaseWeapon": "BaseWeapon"
    }],
    WeaponSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2b8a3yHuPFKoKONvzZ33amW", "WeaponSystem");
        var i, o = this && this.__extends || (i = function(t, e) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }, function(t, e) {
            function n() {
                this.constructor = t
            }
            i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WeaponData = void 0;
        var a = t("../MainGame/Common/EnumFilter"),
            s = t("../MainGame/Fish/FishManager"),
            r = t("../MainGame/Player/PlayerManager"),
            c = t("./baseSystem"),
            l = {
                shoot: "w1",
                blast: "w2",
                lock_shoot: "w3",
                vampireOdds: "VampireOdds",
                buddhaOdds: "LuckyBuddhaOdds",
                TREASURE_CRAB: "TreasureCrab",
                TREASURE_CRAB_INFO: "TreasureCrabInfo",
                circusClownOdds: "CircusClownOdds"
            };
        n.WeaponData = {
            id: "1",
            seat: "2",
            credits: "3",
            x: "4",
            y: "5",
            fish_id: "6",
            fish_id_list: "7",
            fish_dead_dict: "8",
            bet: "9",
            odds: "10",
            coin: "11",
            fs_item_dict: "13",
            time: "15",
            multiple: "16",
            feature: "17",
            item: "18"
        };
        var h = function(t) {
            function e(e) {
                var n = t.call(this, e, "weapon") || this;
                return n.ShootEvent = null, n.UpdateAssetEvent = null, n.BlastEvent = null, n.BlastBetEvent = null, n.UniqueOddsEvent = null, n.RegisterCmdCallback(l.shoot, n.onShoot.bind(n)), n.RegisterCmdCallback(l.blast, n.onBlast.bind(n), l.blast, [null, "2"]), n.RegisterCmdCallback(l.vampireOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(l.buddhaOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(l.circusClownOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(l.TREASURE_CRAB, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(l.TREASURE_CRAB_INFO, n.onTreasureCrabEvent.bind(n)), n
            }
            return o(e, t), e.prototype.Shoot = function(t, e, i, o) {
                var a = {};
                a[n.WeaponData.x] = e.x, a[n.WeaponData.y] = e.y, a[n.WeaponData.id] = i, a[n.WeaponData.seat] = t, a[n.WeaponData.bet] = o, this.SendCmd(l.shoot, a)
            }, e.prototype.Blast = function(t, e, i, o) {
                var a = {};
                a[n.WeaponData.id] = e, a[n.WeaponData.seat] = t, a[n.WeaponData.bet] = i, a[n.WeaponData.fish_id_list] = o, this.SendCmd(l.blast, a, !1, t)
            }, e.prototype.onShoot = function(t, e) {
                if (this.ShootEvent) {
                    var i = e[n.WeaponData.seat],
                        o = e[n.WeaponData.bet],
                        a = e[n.WeaponData.x],
                        s = e[n.WeaponData.y];
                    this.ShootEvent(i, o, a, s)
                }
                if (e.hasOwnProperty("player_info")) {
                    var r = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(r)
                }
            }, e.prototype.onBlast = function(t, e) {
                if (e.hasOwnProperty("result")) {
                    var i = e.result,
                        o = e[n.WeaponData.seat];
                    if (e.hasOwnProperty("betRange") && e.hasOwnProperty("bet")) {
                        var a = e.betRange,
                            s = 0;
                        e.hasOwnProperty("bet") && (s = e.bet), this.BlastBetEvent(o, a, i, s)
                    }
                    if (0 == i && this.BlastEvent) {
                        var r = e[n.WeaponData.credits],
                            c = e[n.WeaponData.id],
                            l = e[n.WeaponData.fish_dead_dict],
                            h = e[n.WeaponData.bet],
                            u = e[n.WeaponData.feature],
                            p = e.puzzle_ack,
                            d = e.hit_fish_id_list[0];
                        this.BlastEvent(r, c, l, h, o, u, p, d)
                    }
                }
                if (e.hasOwnProperty("player_info")) {
                    var f = e.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(f)
                }
            }, e.prototype.onSyncFishOdds = function(t, e) {
                if (this.UniqueOddsEvent) {
                    if (e.hasOwnProperty("Vampire_odds")) {
                        var n = e.Vampire_odds;
                        this.UniqueOddsEvent(n, a.FishType.Vampire)
                    }
                    e.hasOwnProperty("LuckyBuddha_odds") && (n = e.LuckyBuddha_odds, s.default.Instance.UniqueFishOddsEvent(n, a.FishType.Buddha)), e.hasOwnProperty("CircusClown_odds") && (n = e.CircusClown_odds, s.default.Instance.UniqueFishOddsEvent(n, a.FishType.CircusClown))
                }
            }, e.prototype.onTreasureCrabEvent = function(t, e) {
                if (e.hasOwnProperty("treasure_score") && s.default.Instance.getUniqueFishData(a.FishType.TreasureCrab).setTargetNumber(e.treasure_score), e.hasOwnProperty("win_type")) {
                    var n = e.seat;
                    switch (e.win_type) {
                        case "capture":
                            var i = e.id,
                                o = s.default.Instance.GetFishByID(i),
                                c = e.win,
                                l = e.bet;
                            s.default.Instance.KillFish(n, o, c, l);
                            break;
                        case "upgrade":
                            r.PlayerManager.isMainSeat(n) && r.PlayerManager.BulletSync(1), s.default.Instance.getUniqueFishData(a.FishType.TreasureCrab).TreasureCrabLevelUp(e)
                    }
                }
            }, e
        }(c.default);
        n.default = h, cc._RF.pop()
    }, {
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "./baseSystem": "baseSystem"
    }],
    WestDragonBackground: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "10f40pWw2hEPJ1ZpWFDQtKD", "WestDragonBackground");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.BossEnter = function() {
                    this.bossEnter || (this.ani.stop("Boss_Enter"), this.ani.playAdditive("Boss_Enter"), this.bossEnter = !0)
                }, a([c], e)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    WheelItem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "9a377FzYiZHLbYU0oPbYD76", "WheelItem");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.arrowAnim = null, e.oddsText = null, e.hitAnim = null, e.spriteList = null, e.itemOdds = 0, e.isArrow = !1, e
                }
                return o(e, t), e.prototype.Init = function(t) {
                    if (this.itemOdds = t, this.SetMultiOddsText(t), this.hitAnim && (this.hitAnim.node.active = !1), this.spriteList || (this.spriteList = this.getComponentsInChildren(cc.Sprite)), this.spriteList)
                        for (var e = 0; e < this.spriteList.length; e++) this.spriteList[e].node.opacity = 0;
                    this.oddsText && (this.oddsText.node.opacity = 0)
                }, e.prototype.SetMultiOddsText = function(t) {
                    t <= 0 ? (this.arrowAnim && (this.arrowAnim.node.active = !0, this.arrowAnim.play()), this.oddsText && (this.oddsText.node.active = !1), this.isArrow = !0) : (this.arrowAnim && (this.arrowAnim.node.active = !1), this.oddsText && (this.oddsText.node.active = !0, this.oddsText.string = t.toString()), this.isArrow = !1)
                }, e.prototype.GetOdds = function() {
                    return this.itemOdds
                }, e.prototype.IsArrow = function() {
                    return this.isArrow
                }, e.prototype.AppearFunction = function() {
                    if (this.spriteList) {
                        for (var t = 0; t < this.spriteList.length; t++) this.spriteList[t].node.runAction(cc.fadeIn(.5));
                        this.oddsText && this.oddsText.node.runAction(cc.fadeIn(.5))
                    }
                }, e.prototype.HitFunction = function() {
                    this.hitAnim && (this.hitAnim.node.active = !0, this.hitAnim.play())
                }, e.prototype.Reset = function() {
                    this.arrowAnim.stop(), this.hitAnim.stop(), this.oddsText.string = null
                }, a([c(cc.Animation)], e.prototype, "arrowAnim", void 0), a([c(cc.Label)], e.prototype, "oddsText", void 0), a([c(cc.Animation)], e.prototype, "hitAnim", void 0), a([r], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    WindowCtrl: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "2ef1e1ks+BKQaYCGC2Pf1wP", "WindowCtrl");
        var i, o = this && this.__extends || (i = function(t, e) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            a = this && this.__decorate || function(t, e, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, i);
                else
                    for (var r = t.length - 1; r >= 0; r--)(o = t[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(e, n, s) : o(e, n)) || s);
                return a > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../Common/AudioManager"),
            r = t("./PopupWindowCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BtnList = [], e.LabelList = [], e._BtnEvent = [], e
                }
                return o(e, t), Object.defineProperty(e.prototype, "BtnEvent", {
                    get: function() {
                        return this._BtnEvent
                    },
                    set: function(t) {
                        this._BtnEvent = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.showWindow = function(t, e, n) {
                    if (void 0 === t && (t = null), void 0 === e && (e = null), this.Init(n), this.node.active = !0, null != t && (this.BtnEvent = t), null != e && this.LabelList.length >= e.length)
                        for (var i = 0; i < e.length; i++) this.LabelList[i].string = e[i]
                }, e.prototype.Init = function() {}, e.prototype.closeWindow = function() {
                    this.BtnEvent = null, this.node.active = !1
                }, e.prototype.BtnClick = function(t, e) {
                    null != this.BtnEvent[e] ? this.BtnEvent[e]() : e == this.BtnList.length - 1 && (s.default.Instance.Play("Btn_Select_n_v01"), r.default.CloseWindow())
                }, a([h([cc.Node])], e.prototype, "BtnList", void 0), a([h([cc.Label])], e.prototype, "LabelList", void 0), a([l], e)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./PopupWindowCtrl": "PopupWindowCtrl"
    }],
    baseSystem: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "0c113Vwkp1BeZ+CKzbrXpwt", "baseSystem");
        var i = this && this.__awaiter || function(t, e, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(t) {
                        try {
                            c(i.next(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function r(t) {
                        try {
                            c(i.throw(t))
                        } catch (e) {
                            a(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    c((i = i.apply(t, e || [])).next())
                })
            },
            o = this && this.__generator || function(t, e) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = e.call(t, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.necessaryCallbackDataALD = void 0;
        var a = t("../GameClient"),
            s = function() {
                function t(t, e) {
                    this.arkSocketClient = null, this.baseSocketSystem = null, this.systemName = null, this.necessaryCallbackList = null, this.necessaryCallbackData = null, this.necessaryCallbackCheck = null, this.arkSocketClient = t, this.systemName = e, this.baseSocketSystem = new ArkSDK.BaseSocketSystem(t, e), null == this.necessaryCallbackList && (this.necessaryCallbackList = new Array), null == this.necessaryCallbackData && (this.necessaryCallbackData = new Array), null == this.necessaryCallbackCheck && (this.necessaryCallbackCheck = new Array)
                }
                return t.prototype.RegisterCmdCallback = function(t, e, n, i) {
                    var o = this;
                    if (n) return this.necessaryCallbackList.push(n), this.necessaryCallbackCheck.push(i), void(this.baseSocketSystem.cmdDict[t] = function(n, i, s, r, c, l, h) {
                        for (var u = 0; u < o.necessaryCallbackData.length; u++)
                            if (o.necessaryCallbackData[u].cmdName == t) {
                                if (null != o.necessaryCallbackData[u].checkData) {
                                    for (var p = i, d = 1; d < o.necessaryCallbackData[u].checkData.length; d++) p.hasOwnProperty([o.necessaryCallbackData[u].checkData[d]]) && (p = p[o.necessaryCallbackData[u].checkData[d]]);
                                    if (p != o.necessaryCallbackData[u].checkData[0]) continue
                                }
                                a.default.Instance.unschedule(o.necessaryCallbackData[u].func), o.necessaryCallbackData[u].Clear(), o.necessaryCallbackData.splice(u, 1);
                                break
                            }
                        e(n, i, s, r, c, l, h)
                    });
                    this.baseSocketSystem.cmdDict[t] = e.bind(this)
                }, t.prototype.SendCmd = function(t, e, n, s) {
                    return i(this, void 0, void 0, function() {
                        var i, c, l, h;
                        return o(this, function() {
                            for (n && (i = this.baseSocketSystem.cmdDict[t]), c = 0; c < this.necessaryCallbackList.length; c++)
                                if (this.necessaryCallbackList[c] == t) {
                                    l = function() {
                                        console.error("CmdTimeOut  " + t);
                                        var e = "CmdTimeOut_" + t;
                                        a.default.Instance.CallOnError("C35", e)
                                    }, a.default.Instance.scheduleOnce(l, 15), null != this.necessaryCallbackCheck[c] && (this.necessaryCallbackCheck[c][0] = s), h = new r(t, l, this.necessaryCallbackCheck[c]), this.necessaryCallbackData.push(h);
                                    break
                                }
                            return this.arkSocketClient.SendCmd(this.systemName, t, e, i), [2]
                        })
                    })
                }, t
            }();
        n.default = s;
        var r = function() {
            function t(t, e, n) {
                this.cmdName = null, this.func = null, this.checkData = null, this.cmdName = t, this.func = e, this.checkData = n
            }
            return t.prototype.Clear = function() {
                this.cmdName = null, this.func = null, this.checkData = null
            }, t
        }();
        n.necessaryCallbackDataALD = r, cc._RF.pop()
    }, {
        "../GameClient": "GameClient"
    }]
}, {}, ["EventPuzzleDropEggMgr", "GameClient", "AwardManager", "SkillTitle", "TreasureJew", "AngleBackground", "BaseBackGround", "BuffaloBackground", "ColorAssembler", "GenieBackground", "KingKongBackground", "LionDanceBackground", "PatrickBackground", "RockSkullBackground", "TacoBackground", "WestDragonBackground", "AISeek", "ArkGameUtility", "AudioManager", "EnumFilter", "FishMenu", "FishMenuMgr", "MultiLangObjCtrl", "MultiLangSystem", "PoolObj", "PreloadManager", "ResourceManager", "ShadowCamera", "SystemTip", "Utility", "DebugManager", "ALADDIN", "BOMB_BOAT", "BUDDHA", "BUFFALO", "BaseCrab", "BaseFish", "BaseFlashFish", "BaseSpineFish", "BaseTwisterFish", "CHESHIRE_CAT", "CLOWN", "DRAGON_TURTLE", "ELAZING_PHONEIX", "FIRE_DRAGON", "FLASH_FLAT_FISH", "FLASH_GURNARD", "FLASH_OCTOPUS", "FLAT_FISH", "FishManager", "GENIE", "GIANT_PUFFER_FISH", "GURNARD", "HUMPBACK_WHALE", "ICE_DRAGON", "KILLER_WHALE", "KINGKONG", "KING_ANGLER_FISH", "KING_LACOSTE", "KING_SPIDER_CRAB", "KING_TACO", "LIONDANCE", "LUCKY_CAT", "LUCKY_SHAMROCK", "MERMAID", "OCTOPUS", "PARITE_SHIP", "PIG", "POSEIDON", "RAGING_DRAGON", "RED_DRAGON", "ROCK_SKELETON", "SEA_TURTLE", "SUBMARINE", "THUNDER_DRAGON", "TIGER", "TREASURE_CRAB", "TWISTER_GURNARD", "TWISTER_OCTOPUS", "TWIST_FLAT_FISH", "TWIST_SEA_TURTLE", "UniqueFishData", "VAMPIRE", "WEALTH_GOD", "GameManager", "AwardItem", "DropItem", "FreezeEffect", "ItemButton", "ItemManager", "ItemTitle", "BattleShipWindow", "BtnSprite", "FishAvatarIcon", "LockSettingWindow", "MarqueeCtrl", "PlayerManager", "PopupWindowCtrl", "UserInfoController", "WeaponChoseWindow", "WindowCtrl", "AladdinOdds", "BaseSkill", "BaseSkillAward", "BaseSkillScoreUI", "BaseSkillTitleUI", "BuddhaOdds", "BuffaloUI", "ClownOdds", "DragonTurtleUI", "Effect_Phoneix", "FinalShip", "FlameStorm_ScoreUI", "GenieUI", "KingKongUI", "LionDanceUI", "RagingDragonUI", "RedDragonReward", "RockSkullUI", "ShipInfo", "SkillAladdin", "SkillBombBoat", "SkillBuddha", "SkillBuffalo", "SkillClown", "SkillDragonTurtle", "SkillDragonWeapon", "SkillDrill", "SkillElazingPhoneix", "SkillElectric", "SkillFlameStorm", "SkillFlash", "SkillGenie", "SkillHammer", "SkillKingAngler", "SkillKingCrab", "SkillKingKong", "SkillKingLacoste", "SkillLionDance", "SkillLock", "SkillLuckyCat", "SkillMermaid", "SkillMultiBomb", "SkillPariteShip", "SkillPatrick", "SkillPatrickCount", "SkillPatrickUI", "SkillPig", "SkillPoseidon", "SkillRagingDragon", "SkillRedDragon", "SkillRockSkull", "SkillRocket", "SkillSubmarine", "SkillTaco", "SkillThunderDragon", "SkillTiger", "SkillTigerWeapon", "SkillVampire", "SkillWheel", "SkillWind", "SubmarineUI", "VampireOdds", "WheelItem", "BaseBullet", "BaseWeapon", "BetController", "DragonWeapon", "DrillBullet", "DrillWeapon", "ElectricCollider", "ElectricWeapon", "FlameStormBullet", "FlameStormWeapon", "LockWeapon", "NormalWeapon", "TigerBullet", "TigerWeapon", "WeaponManager", "FishMissionData", "MissionCtrl", "MissionInfoPageCtrl", "MissionManager", "MissionNodeDrag", "FishSystem", "GameSystem", "ItemSystem", "KioskSystem", "MissionSystem", "PlayerSystem", "SkillSystem", "WeaponSystem", "baseSystem"]);

window.__require = function t(e, n, o) {
    function i(s, r) {
        if (!n[s]) {
            if (!e[s]) {
                var u = s.split("/");
                if (u = u[u.length - 1], !e[u]) {
                    var a = "function" == typeof __require && __require;
                    if (!r && a) return a(u, !0);
                    if (c) return c(u, !0);
                    throw new Error("Cannot find module '" + s + "'")
                }
                s = u
            }
            var l = n[s] = {
                exports: {}
            };
            e[s][0].call(l.exports, function(t) {
                return i(e[s][1][t] || t)
            }, l, l.exports, t, e, n, o)
        }
        return n[s].exports
    }
    for (var c = "function" == typeof __require && __require, s = 0; s < o.length; s++) i(o[s]);
    return i
}({
    DockMgr: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "21624PIaZ5BgIG5rVSHWX/r", "DockMgr");
        var o, i = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            c = this && this.__decorate || function(t, e, n, o) {
                var i, c = arguments.length,
                    s = c < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, o);
                else
                    for (var r = t.length - 1; r >= 0; r--)(i = t[r]) && (s = (c < 3 ? i(s) : c > 3 ? i(e, n, s) : i(e, n)) || s);
                return c > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../Helper/EventSystem"),
            r = cc._decorator,
            u = r.ccclass,
            a = r.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.dockName = "", e.dock = null, e.dockShow = null, e.dockHide = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    s.EventSystem.Event(s.Menu.OpenDock).Insert(this.OpenDock, this), s.EventSystem.Event(s.Menu.CloseDock).Insert(this.CloseDock, this), this.CloseDock(this.dockName)
                }, e.prototype.onDestroy = function() {
                    s.EventSystem.Event(s.Menu.OpenDock).Remove(this.OpenDock, this), s.EventSystem.Event(s.Menu.CloseDock).Remove(this.CloseDock, this)
                }, e.prototype.OpenDock = function(t) {
                    t === this.dockName && (console.log("[" + this.dockName + "] Open"), this.dock.play(this.dockShow.name))
                }, e.prototype.CloseDock = function(t) {
                    t === this.dockName && (console.log("[" + this.dockName + "] Close"), this.dock.play(this.dockHide.name))
                }, e.prototype.OnClickOpen = function() {
                    console.log("[" + this.dockName + "] On Open"), s.EventSystem.Event(s.Menu.OpenDock).Notify(this.dockName)
                }, e.prototype.OnClickClose = function() {
                    console.log("[" + this.dockName + "] On Close"), s.EventSystem.Event(s.Menu.CloseDock).Notify(this.dockName)
                }, c([a({
                    displayName: "Dock \u7684\u540d\u5b57(\u5340\u5225\u591a Dock \u7528)"
                })], e.prototype, "dockName", void 0), c([a({
                    type: cc.Animation,
                    displayName: "\u8ca0\u8cac\u8868\u6f14\u958b\u95dc\u7684\u7269\u4ef6"
                })], e.prototype, "dock", void 0), c([a({
                    type: cc.AnimationClip,
                    displayName: "\u6253\u958b\u7684\u52d5\u756b"
                })], e.prototype, "dockShow", void 0), c([a({
                    type: cc.AnimationClip,
                    displayName: "\u95dc\u9589\u7684\u52d5\u756b"
                })], e.prototype, "dockHide", void 0), c([u], e)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {
        "../../../Helper/EventSystem": void 0
    }],
    MenuButton: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "8e2fdYkc4VH9KMHRK3aJMXm", "MenuButton");
        var o, i = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            c = this && this.__decorate || function(t, e, n, o) {
                var i, c = arguments.length,
                    s = c < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, o);
                else
                    for (var r = t.length - 1; r >= 0; r--)(i = t[r]) && (s = (c < 3 ? i(s) : c > 3 ? i(e, n, s) : i(e, n)) || s);
                return c > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../Helper/EventSystem"),
            r = t("./MenuMgr"),
            u = cc._decorator,
            a = u.ccclass,
            l = u.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.btnType = r.MenuBtnType.ACCOUNT, e.customName = "", e.button = null, e.closeDock = !0, e.dockName = "", e.lock = !1, e.animation = null, e.lockAnimClip = null, e.nodeNew = null, e.dockFunction = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.dockFunction = r.default.Transform(this.btnType);
                    var t = new cc.Component.EventHandler;
                    t.target = this.node, t.component = "MenuButton", t.handler = "OnClick", this.button.clickEvents = [], this.button.clickEvents.push(t), s.EventSystem.Event(s.Menu.SetDockButton).Insert(this.SetStatus, this), s.EventSystem.Event(s.Menu.SetDockButtonNew).Insert(this.SetNew, this)
                }, e.prototype.onDestroy = function() {
                    this.button.clickEvents = [], s.EventSystem.Event(s.Menu.SetDockButton).Remove(this.SetStatus, this), s.EventSystem.Event(s.Menu.SetDockButtonNew).Remove(this.SetNew, this)
                }, e.prototype.OnClick = function() {
                    this.lock ? this.LockAnimation() : (console.log("Trigger " + this.dockFunction), this.btnType !== r.MenuBtnType.Custom ? s.EventSystem.Event(this.dockFunction).Notify() : s.EventSystem.Event(this.customName).Notify(), this.closeDock && s.EventSystem.Event(s.Menu.CloseDock).Notify(this.dockName))
                }, e.prototype.SetStatus = function(t, e, n) {
                    t !== this.customName && t !== this.dockFunction || (this.node.active = e, this.button.interactable = n)
                }, e.prototype.SetNew = function(t, e) {
                    t !== this.customName && t !== this.dockFunction || (this.nodeNew.active = e)
                }, e.prototype.LockAnimation = function() {
                    this.button.interactable = !1, this.animation.on("finished", this.AnimationEnd, this), this.animation.play(this.lockAnimClip.name, 0)
                }, e.prototype.AnimationEnd = function() {
                    this.animation.off("finished", this.AnimationEnd, this), this.button.interactable = !0
                }, c([l({
                    type: cc.Enum(r.MenuBtnType),
                    displayName: "\u6309\u9215\u529f\u80fd"
                })], e.prototype, "btnType", void 0), c([l({
                    displayName: "\u6309\u9215\u529f\u80fd",
                    visible: function() {
                        return this.btnType === r.MenuBtnType.Custom
                    }
                })], e.prototype, "customName", void 0), c([l({
                    type: cc.Button,
                    displayName: "\u6309\u9215"
                })], e.prototype, "button", void 0), c([l({
                    displayName: "\u662f\u5426\u6536\u5408 Dock"
                })], e.prototype, "closeDock", void 0), c([l({
                    displayName: "Dock \u540d\u5b57",
                    visible: function() {
                        return !0 === this.closeDock
                    }
                })], e.prototype, "dockName", void 0), c([l({
                    displayName: "\u9396\u5b9a"
                })], e.prototype, "lock", void 0), c([l({
                    type: cc.Animation,
                    displayName: "\u52d5\u756b"
                })], e.prototype, "animation", void 0), c([l({
                    type: cc.AnimationClip,
                    displayName: "\u6309\u9215"
                })], e.prototype, "lockAnimClip", void 0), c([l({
                    type: cc.Node,
                    displayName: "\u9396\u5b9a"
                })], e.prototype, "nodeNew", void 0), c([a], e)
            }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {
        "../../../Helper/EventSystem": void 0,
        "./MenuMgr": "MenuMgr"
    }],
    MenuMgr: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "05030Z8suxPZ64IvP2tAibW", "MenuMgr");
        var o, i = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            c = this && this.__decorate || function(t, e, n, o) {
                var i, c = arguments.length,
                    s = c < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, o);
                else
                    for (var r = t.length - 1; r >= 0; r--)(i = t[r]) && (s = (c < 3 ? i(s) : c > 3 ? i(e, n, s) : i(e, n)) || s);
                return c > 3 && s && Object.defineProperty(e, n, s), s
            },
            s = this && this.__awaiter || function(t, e, n, o) {
                return new(n || (n = Promise))(function(i, c) {
                    function s(t) {
                        try {
                            u(o.next(t))
                        } catch (e) {
                            c(e)
                        }
                    }

                    function r(t) {
                        try {
                            u(o.throw(t))
                        } catch (e) {
                            c(e)
                        }
                    }

                    function u(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n(function(t) {
                            t(e)
                        })).then(s, r)
                    }
                    u((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var n, o, i, c, s = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return c = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (c[Symbol.iterator] = function() {
                    return this
                }), c;

                function r(t) {
                    return function(e) {
                        return u([t, e])
                    }
                }

                function u(c) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, o && (i = 2 & c[0] ? o.return : c[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, c[1])).done) return i;
                        switch (o = 0, i && (c = [2 & c[0], i.value]), c[0]) {
                            case 0:
                            case 1:
                                i = c;
                                break;
                            case 4:
                                return s.label++, {
                                    value: c[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, o = c[1], c = [0];
                                continue;
                            case 7:
                                c = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === c[0] || 2 === c[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === c[0] && (!i || c[1] > i[0] && c[1] < i[3])) {
                                    s.label = c[1];
                                    break
                                }
                                if (6 === c[0] && s.label < i[1]) {
                                    s.label = i[1], i = c;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2], s.ops.push(c);
                                    break
                                }
                                i[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        c = e.call(t, s)
                    } catch (r) {
                        c = [6, r], o = 0
                    } finally {
                        n = i = 0
                    }
                    if (5 & c[0]) throw c[1];
                    return {
                        value: c[0] ? c[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.MenuBtnType = void 0;
        var u, a = t("../../../Helper/EventSystem"),
            l = t("../../../ModuleBase"),
            p = cc._decorator,
            y = p.ccclass;
        p.property,
            function(t) {
                t[t.BackToLobby = 0] = "BackToLobby", t[t.Menu = 1] = "Menu", t[t.SOUND = 2] = "SOUND", t[t.ACCOUNT = 3] = "ACCOUNT", t[t.JACKPOTWINNER = 4] = "JACKPOTWINNER", t[t.GAMEHISTORY = 5] = "GAMEHISTORY", t[t.INFO = 6] = "INFO", t[t.LOGOUT = 7] = "LOGOUT", t[t.FULLSCREEN = 8] = "FULLSCREEN", t[t.NEWS = 9] = "NEWS", t[t.Custom = 10] = "Custom", t[t.Music = 11] = "Music"
            }(u = n.MenuBtnType || (n.MenuBtnType = {}));
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.isSupportFullScreen = !0, e
            }
            var n;
            return i(e, t), n = e, e.prototype._onLoad = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_WINDOWS || "ucbrowser" == cc.sys.browserType && cc.sys.isMobile) && (this.isSupportFullScreen = !1), this.isSupportFullScreen && (JSUtility.FullScreen.OnFullScreenChange = this.SetFullScreenBtn.bind(this), this.SetFullScreenBtn(JSUtility.FullScreen.IsFullScreen())), a.EventSystem.Event(a.Menu.SetMenuStatus).Insert(this.SetMenuStatus, this), [2]
                    })
                })
            }, e.prototype._onDestroy = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.DisableMenuBtnList = [], a.EventSystem.Event(a.Menu.SetMenuStatus).Remove(this.SetMenuStatus, this), [2]
                    })
                })
            }, e.prototype._start = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return a.EventSystem.Event(a.Menu.CloseDock).Notify(), a.EventSystem.Event(a.Menu.SetSwitch).Notify(a.DockFunction.Sound, SS.Common.GameEnvironment.IsMute), [2]
                    })
                })
            }, e.prototype.SetDisableMenuBtn = function(t) {
                this.DisableMenuBtnList = t
            }, e.prototype.SetBtnStateByCustom = function(t, e, o) {
                this.DisableMenuBtnList && -1 !== this.DisableMenuBtnList.findIndex(function(e) {
                    return e === u[t]
                }) && (e = !1, o = !1), t != u.FULLSCREEN || this.isSupportFullScreen || (e = !1, o = !1);
                var i = n.Transform(t);
                a.EventSystem.Event(a.Menu.SetDockButton).Notify(i, e, o)
            }, e.prototype.SetMenuStatus = function(t) {
                switch (this.SetBtnStateByCustom(u.Menu, !0, !0), this.SetBtnStateByCustom(u.BackToLobby, !0, !0), this.SetBtnStateByCustom(u.SOUND, !0, !0), this.SetBtnStateByCustom(u.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(u.ACCOUNT, !0, !0), this.SetBtnStateByCustom(u.INFO, !0, !0), this.SetBtnStateByCustom(u.LOGOUT, !0, !0), this.SetBtnStateByCustom(u.FULLSCREEN, !0, !0), this.SetBtnStateByCustom(u.NEWS, !0, !0), t) {
                    case a.MenuStatus.InLobbyNormal:
                        this.SetBtnStateByCustom(u.BackToLobby, !1, !1), this.SetBtnStateByCustom(u.ACCOUNT, !0, !0), this.SetBtnStateByCustom(u.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(u.INFO, !1, !1);
                        break;
                    case a.MenuStatus.InLobbyDisabled:
                        this.SetBtnStateByCustom(u.INFO, !1, !1), this.SetBtnStateByCustom(u.JACKPOTWINNER, !0, !1), this.SetBtnStateByCustom(u.ACCOUNT, !0, !1), this.SetBtnStateByCustom(u.NEWS, !0, !1), this.SetBtnStateByCustom(u.BackToLobby, !1, !1), this.SetBtnStateByCustom(u.Menu, !0, !1);
                        break;
                    case a.MenuStatus.InGameNormal:
                        this.SetBtnStateByCustom(u.ACCOUNT, !1, !1), this.SetBtnStateByCustom(u.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(u.LOGOUT, !1, !1), this.SetBtnStateByCustom(u.NEWS, !1, !1);
                        break;
                    case a.MenuStatus.InGameDisabled:
                        this.SetBtnStateByCustom(u.ACCOUNT, !1, !1), this.SetBtnStateByCustom(u.LOGOUT, !1, !1), this.SetBtnStateByCustom(u.INFO, !0, !1), this.SetBtnStateByCustom(u.NEWS, !0, !1), this.SetBtnStateByCustom(u.Menu, !0, !1);
                        break;
                    case a.MenuStatus.GuestLogin:
                        this.SetBtnStateByCustom(u.BackToLobby, !1, !1), this.SetBtnStateByCustom(u.ACCOUNT, !1, !1), this.SetBtnStateByCustom(u.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(u.INFO, !1, !1)
                }
            }, e.prototype.OnClickedSound = function() {
                SS.Common.GameEnvironment.IsMute = !SS.Common.GameEnvironment.IsMute
            }, e.prototype.OnClickedFullScreen = function() {
                JSUtility.FullScreen.SetFullScreen()
            }, e.prototype.SetFullScreenBtn = function(t) {
                a.EventSystem.Event(a.Menu.SetSwitch).Notify(a.DockFunction.FullScreen, t)
            }, e.Transform = function(t) {
                switch (t) {
                    case u.BackToLobby:
                        return a.DockFunction.BackToLobby;
                    case u.ACCOUNT:
                        return a.DockFunction.Account;
                    case u.SOUND:
                        return a.DockFunction.Sound;
                    case u.JACKPOTWINNER:
                        return a.DockFunction.JPHistory;
                    case u.INFO:
                        return a.DockFunction.Info;
                    case u.LOGOUT:
                        return a.DockFunction.Logout;
                    case u.FULLSCREEN:
                        return a.DockFunction.FullScreen;
                    case u.NEWS:
                        return a.DockFunction.News;
                    case u.Music:
                        return a.DockFunction.Music;
                    default:
                        return null
                }
            }, n = c([y], e)
        }(l.default);
        n.default = h, cc._RF.pop()
    }, {
        "../../../Helper/EventSystem": void 0,
        "../../../ModuleBase": void 0
    }],
    MenuSwitch: [function(t, e, n) {
        "use strict";
        cc._RF.push(e, "b86c3+73fpER5lcONCJ8u6n", "MenuSwitch");
        var o, i = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            c = this && this.__decorate || function(t, e, n, o) {
                var i, c = arguments.length,
                    s = c < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, o);
                else
                    for (var r = t.length - 1; r >= 0; r--)(i = t[r]) && (s = (c < 3 ? i(s) : c > 3 ? i(e, n, s) : i(e, n)) || s);
                return c > 3 && s && Object.defineProperty(e, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = t("../../../Helper/EventSystem"),
            r = t("./MenuButton"),
            u = t("./MenuMgr"),
            a = cc._decorator,
            l = a.ccclass,
            p = a.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.switchOn = null, e.switchOff = null, e._enable = !0, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.dockFunction = u.default.Transform(this.btnType);
                    var t = new cc.Component.EventHandler;
                    t.target = this.node, t.component = "MenuSwitch", t.handler = "OnClick", this.button.clickEvents = [], this.button.clickEvents.push(t), s.EventSystem.Event(s.Menu.SetDockButton).Insert(this.SetStatus, this), s.EventSystem.Event(s.Menu.SetSwitch).Insert(this.SetSwitch, this)
                }, e.prototype.onDestroy = function() {
                    this.button.clickEvents = [], s.EventSystem.Event(s.Menu.SetDockButton).Remove(this.SetStatus, this), s.EventSystem.Event(s.Menu.SetSwitch).Remove(this.SetSwitch, this)
                }, e.prototype.OnClick = function() {
                    this.SetSwitch(this.dockFunction, !this._enable), console.log("Trigger " + this.dockFunction + ": " + this._enable), this.dockFunction !== s.DockFunction.Custom ? s.EventSystem.Event(this.dockFunction).Notify(this._enable) : s.EventSystem.Event(this.customName).Notify(this._enable), this.closeDock && s.EventSystem.Event(s.Menu.CloseDock).Notify()
                }, e.prototype.SetSwitch = function(t, e) {
                    t !== this.dockFunction && t !== this.customName || (console.log("[" + this.name + "] Set Switch To " + e), this._enable = e, this.switchOn.active = e, this.switchOff.active = !e)
                }, c([p({
                    type: cc.Node,
                    displayName: "\u958b\u95dc\u6253\u958b\u7684\u7bc0\u9ede"
                })], e.prototype, "switchOn", void 0), c([p({
                    type: cc.Node,
                    displayName: "\u958b\u95dc\u95dc\u9589\u7684\u7bc0\u9ede"
                })], e.prototype, "switchOff", void 0), c([l], e)
            }(r.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../Helper/EventSystem": void 0,
        "./MenuButton": "MenuButton",
        "./MenuMgr": "MenuMgr"
    }]
}, {}, ["DockMgr", "MenuButton", "MenuMgr", "MenuSwitch"]);