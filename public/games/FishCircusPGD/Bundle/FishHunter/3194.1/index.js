window.__require = function e(t, n, i) {
    function o(s, r) {
        if (!n[s]) {
            if (!t[s]) {
                var c = s.split("/");
                if (c = c[c.length - 1], !t[c]) {
                    var l = "function" == typeof __require && __require;
                    if (!r && l) return l(c, !0);
                    if (a) return a(c, !0);
                    throw new Error("Cannot find module '" + s + "'")
                }
                s = c
            }
            var h = n[s] = {
                exports: {}
            };
            t[s][0].call(h.exports, function(e) {
                return o(t[s][1][e] || e)
            }, h, h.exports, e, t, n, i)
        }
        return n[s].exports
    }
    for (var a = "function" == typeof __require && __require, s = 0; s < i.length; s++) o(i[s]);
    return o
}({
    AISeek: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "7c14040BVZNqbQOqkH00uxB", "AISeek");
        var i = Number(cc.ENGINE_VERSION.replace(".", "")),
            o = i >= 21 ? "angle" : "rotation",
            a = function() {
                function e(e) {
                    void 0 === e && (e = "release"), this.VERSION = "release", this.STEER_DATA = {}, this.FIXED_TIMESTEP = 0, this.DRAW_POINT = !1, this.ANGLE = 0, this.WIN_RANGE = null, this.VEHICLE_MANAGER = {}, this.CANVAS = null, this.target_point = null, this.speed_scale = 1, this.flip = !1, this.VERSION_LIST = ["debug", "release"], this.VERSION_LIST.includes(e) || console.warn("VERSION_LIST: " + this.VERSION_LIST + "  not has VERSION: " + e), this.VERSION = e, this.__init__()
                }
                return Object.defineProperty(e.prototype, "Flip", {
                    get: function() {
                        return this.flip
                    },
                    enumerable: !0,
                    configurable: !0
                }), e.prototype.__init__ = function() {
                    return __awaiter(this, void 0, void 0, function() {
                        var e, t, n, i;
                        return __generator(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return [4, this.loadJson(cc.director.getScene().name + "/Res/data/steer_" + this.VERSION)];
                                case 1:
                                    return e = o.sent(), this.STEER_DATA = "debug" == this.VERSION ? this.encode(e.STEER) : this.decode(e.STEER), this.CANVAS = cc.find("Canvas"), t = null != this.CANVAS ? this.CANVAS.getComponent(cc.Canvas).designResolution : cc.winSize, cc.director.getPhysicsManager().enabled = !0, this.FIXED_TIMESTEP = this.STEER_DATA.FIXED_TIMESTEP, this.DRAW_POINT = this.STEER_DATA.DRAW_POINT, this.ANGLE = this.STEER_DATA.ANGLE || 0, n = this.STEER_DATA.X_RANGE, i = this.STEER_DATA.Y_RANGE, this.WIN_RANGE = new cc.Vec2(t.width / Math.abs(n[0] - n[1]), t.height / Math.abs(i[0] - i[1])), this.drawLine(n, i), [2]
                            }
                        })
                    })
                }, e.prototype.loadJson = function(e) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    var o, a, s, r;
                                    return t = {}, o = e.indexOf("/"), a = e.substring(0, o), s = e.substring(o + 1, e.length), r = cc.assetManager.getBundle(a), [4, new Promise(function(e) {
                                        r.load(s, function(n, o) {
                                            n ? cc.error(n) : (i > 19.3 && (o = o.json), t = o, cc.assetManager.releaseAsset(o), e())
                                        })
                                    })];
                                case 1:
                                    return n.sent(), [2, t]
                            }
                        })
                    })
                }, e.prototype.SetSeek = function(e, t, n, i, o, a, s, c, l, h) {
                    return void 0 === o && (o = 0), void 0 === a && (a = cc.Vec2.ONE), __awaiter(this, void 0, void 0, function() {
                        var u, p, d, f, m, y, g, S, _, v, b, P, I, C, w, M, E, T, A, F;
                        return __generator(this, function(k) {
                            switch (k.label) {
                                case 0:
                                    return this.STEER_DATA[e] ? [3, 2] : [4, this.__init__()];
                                case 1:
                                    if (k.sent(), !this.STEER_DATA[e]) return console.warn(e + " not in config"), l(null), [2];
                                    k.label = 2;
                                case 2:
                                    if (u = this.STEER_DATA[e].MAX_SPEED || 240, p = this.STEER_DATA[e].MAX_STEER || 6, d = this.STEER_DATA[e].MIN_RANGE || 1, f = this.STEER_DATA[e].FIXED_TIMESTEP || this.FIXED_TIMESTEP, m = this.STEER_DATA[e].DRAW_POINT || this.DRAW_POINT, y = [], null != t && (y = this.STEER_DATA[e].PATH[t] || []), y.length <= 0) return console.warn("error type: %s path_index: %s", e, t), l(null), [2];
                                    if (g = this.pathConvertPoint(y, o, a), null == (S = n.getComponent(r)) && (S = n.addComponent(r)), _ = h && h.hasOwnProperty("angle") ? h.angle : this.STEER_DATA[e].ANGLE || this.ANGLE, v = this.STEER_DATA[e].REPEAT || 1, b = h && h.hasOwnProperty("sync") ? h.sync : 0, !S) return cc.error("Add SeekComponent Error"), l(null), [2];
                                    if (S.Reset(this, i, u, p, d * this.WIN_RANGE.mag() * .1, g, f, m, s, c, l, _, v, b), !h || !h.hasOwnProperty("members")) return [3, 8];
                                    if (P = h.members, I = this.STEER_DATA[e].GROUP, C = this.STEER_DATA[e].ROW, !I) return [3, 3];
                                    if ((w = I.FORMATION) && P.length <= w.length)
                                        for (M = this.setFormation(g, P, I.X_SPACE, I.Y_SPACE, w), T = 1; T < P.length; T++) {
                                            if (null == (A = P[T].getComponent(r)) && (A = P[T].addComponent(r)), !A) return cc.error("Add SeekComponent Error"), l(null), [2];
                                            F = (Number(i) + T).toString(), A.Reset(this, F, u, p, d * this.WIN_RANGE.mag() * .1, M[T], f, m, s, c, l, _, v, b)
                                        } else console.warn("type: " + e + " group members count more than the formation length");
                                    return w = null, [3, 7];
                                case 3:
                                    if (!C) return [3, 7];
                                    E = C.INTERVAL, T = 1, k.label = 4;
                                case 4:
                                    return T < P.length ? [4, this.delay(E)] : [3, 7];
                                case 5:
                                    if (k.sent(), null == (A = P[T].getComponent(r)) && (A = P[T].addComponent(r)), !A) return cc.error("Add SeekComponent Error"), l(null), [2];
                                    F = (Number(i) + T).toString(), A.Reset(this, F, u, p, d * this.WIN_RANGE.mag() * .1, g, f, m, s, c, l, _, v, b), k.label = 6;
                                case 6:
                                    return T++, [3, 4];
                                case 7:
                                    I = null, C = null, P && (P.length = 0), k.label = 8;
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.AddVehicle = function(e, t) {
                    this.VEHICLE_MANAGER[e] = t
                }, e.prototype.RemoveVehicle = function(e) {
                    this.VEHICLE_MANAGER.hasOwnProperty(e) && delete this.VEHICLE_MANAGER[e]
                }, e.prototype.GetFixedTimeStep = function() {
                    return this.FIXED_TIMESTEP
                }, e.prototype.SetFixedTimeStep = function(e) {
                    this.FIXED_TIMESTEP = e
                }, e.prototype.SetSpeedScale = function(e, t) {
                    if (1 != e) {
                        this.speed_scale = e;
                        for (var n = Object.keys(this.VEHICLE_MANAGER), i = 0; i < n.length; i++) {
                            var o = n[i];
                            this.VEHICLE_MANAGER[o].SetSpeedScale(e, t)
                        }
                    }
                }, e.prototype.ResetSpeedScale = function() {
                    if (1 != this.speed_scale) {
                        for (var e = Object.keys(this.VEHICLE_MANAGER), t = 0; t < e.length; t++) {
                            var n = e[t];
                            this.VEHICLE_MANAGER[n].ResetSpeedScale()
                        }
                        this.speed_scale = 1
                    }
                }, e.prototype.Update = function() {
                    for (var e = Object.keys(this.VEHICLE_MANAGER), t = 0; t < e.length; t++) {
                        var n = this.VEHICLE_MANAGER[e[t]];
                        n && n.Seek()
                    }
                }, e.prototype.SetFlip = function(e) {
                    this.flip = e
                }, e.prototype.GetPathCount = function(e) {
                    return this.STEER_DATA[e] ? this.STEER_DATA[e].PATH.length : 0
                }, e.prototype.GetMaxSpeed = function(e) {
                    return this.STEER_DATA[e] ? this.STEER_DATA[e].MAX_SPEED : 0
                }, e.prototype.decode = function(e) {
                    return JSON.parse(e)
                }, e.prototype.encode = function(e, t) {
                    return void 0 === t && (t = !1), e
                }, e.prototype.pathConvertPoint = function(e, t, n) {
                    var i = new Array;
                    if (e.length > 0)
                        for (var o = 0; o < e.length; o++) {
                            var a = cc.v2(e[o][0] * this.WIN_RANGE.x, e[o][1] * this.WIN_RANGE.y).mag(),
                                s = cc.misc.degreesToRadians(cc.misc.radiansToDegrees(Math.atan2(e[o][1], e[o][0])) + t),
                                r = Math.cos(s) * a * n.x,
                                c = Math.sin(s) * a * n.y,
                                l = new cc.Vec2(r, c);
                            i.push(l)
                        }
                    return i
                }, e.prototype.setFormation = function(e, t, n, i, o) {
                    for (var a = new Array, s = new Array, r = 0; r < o.length; r++) {
                        var c = o[r][0] * n - o[0][0] * n,
                            l = o[r][1] * i - o[0][1] * i,
                            h = Math.atan2(l, c);
                        a.push(h);
                        var u = new cc.Vec2(c, l).mag();
                        s.push(u)
                    }
                    var p = new Array;
                    for (r = 1; r < e.length; r++)
                        if (r > 0) {
                            c = e[r].x - e[r - 1].x, l = e[r].y - e[r - 1].y;
                            var d = Math.atan2(l, c);
                            1 == r && p.push(d), p.push(d)
                        }
                    var f = {};
                    for (r = 1; r < t.length; r++) {
                        for (var m = new Array, y = 0; y < p.length; y++) {
                            h = (180 * (p[y] + a[r]) / Math.PI - 90) * Math.PI / 180;
                            var g = Math.cos(h) * s[r],
                                S = Math.sin(h) * s[r];
                            m.push(new cc.Vec2(e[y].x + g, e[y].y + S))
                        }
                        f[r] = m
                    }
                    return f
                }, e.prototype.delay = function(e) {
                    return new Promise(function(t) {
                        setTimeout(t, e)
                    })
                }, e.prototype.drawLine = function(e, t) {
                    if ("debug" == this.VERSION && this.STEER_DATA.DRAW_LINE && this.CANVAS) {
                        var n = (new cc.Node).addComponent(cc.Graphics);
                        this.CANVAS.addChild(n.node);
                        for (var i = e[0]; i <= e[1]; i++) n.moveTo(i * this.WIN_RANGE.x, t[0] * this.WIN_RANGE.y), n.lineTo(i * this.WIN_RANGE.x, t[1] * this.WIN_RANGE.y);
                        for (i = t[0]; i <= t[1]; i++) n.moveTo(e[0] * this.WIN_RANGE.x, i * this.WIN_RANGE.y), n.lineTo(e[1] * this.WIN_RANGE.x, i * this.WIN_RANGE.y);
                        n.strokeColor = cc.Color.WHITE, n.stroke()
                    }
                }, e
            }();
        n.AISeek = a;
        var s = cc._decorator.ccclass,
            r = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.rVehicle = null, t.ID = "0000", t.MAX_SPEED = 0, t.MAX_STEER = 0, t.MIN_RANGE = 0, t.PATH = [], t.MAX_SPEED_SQ = 0, t.MAX_STEER_SQ = 0, t.ORIGIN_ANGLE = 0, t.REPEAT = 1, t.FLIP = !1, t.draw_point = !1, t.target_point = null, t.target_line = null, t.tIndex = 1, t.fixed_timeStep = 0, t.current_time = 0, t.pTarget = cc.Vec2.ZERO, t.aTarget = 0, t.pause = !0, t.add_speed_now = !1, t.rotate_now = !1, t.auto_rotate = !0, t.isReverse = !1, t.steer_vec = cc.Vec2.ZERO, t.sync_tiem = 0, t.speed_scale = 1, t.velocity_cache = cc.Vec2.ZERO, t
                }
                return __extends(t, e), Object.defineProperty(t.prototype, "PathLength", {
                    get: function() {
                        return this.PATH.length
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "PonitIndex", {
                    get: function() {
                        return this.tIndex
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Flip", {
                    get: function() {
                        return this.FLIP
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "Path", {
                    get: function() {
                        return this.PATH
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "OriginAngle", {
                    get: function() {
                        return this.ORIGIN_ANGLE
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "IsReverse", {
                    get: function() {
                        return this.isReverse
                    },
                    enumerable: !0,
                    configurable: !0
                }), t.prototype.Pause = function() {
                    this.pause = !0, this.rVehicle.linearVelocity != cc.Vec2.ZERO && (this.velocity_cache = this.rVehicle.linearVelocity), this.rVehicle.linearVelocity = cc.Vec2.ZERO
                }, t.prototype.Resume = function() {
                    this.pause = !1, this.add_speed_now = !1, this.rVehicle.linearVelocity = this.velocity_cache
                }, Object.defineProperty(t.prototype, "AutoRotate", {
                    set: function(e) {
                        this.auto_rotate = e
                    },
                    enumerable: !0,
                    configurable: !0
                }), t.prototype.onEnable = function() {
                    this.rVehicle = this.getComponent("cc.RigidBody"), null == this.rVehicle && (this.rVehicle = this.addComponent("cc.RigidBody")), this.rVehicle ? (this.rVehicle.gravityScale = 0, this.rVehicle.linearVelocity = cc.Vec2.ZERO) : cc.error("SeekComponent Init Error")
                }, t.prototype.Update = function(e) {
                    if (!this.pause) {
                        if (this.current_time += e, this.current_time >= this.fixed_timeStep) {
                            for (var t = Math.floor(this.current_time / this.fixed_timeStep), n = 0; n < t; n++) this.Seek();
                            this.current_time = 0
                        }
                        this.auto_rotate && !this.rotate_now && (this.node[o] = Math.floor(cc.misc.lerp(this.node[o], this.aTarget, .25))), 1 != this.speed_scale && (this.sync_tiem -= e, this.sync_tiem <= 0 && this.ResetSpeedScale())
                    }
                }, t.prototype.Reset = function(e, t, n, i, a, s, r, c, l, h, u, p, d, f) {
                    this.rVehicle = this.getComponent("cc.RigidBody"), null == this.rVehicle && (this.rVehicle = this.addComponent("cc.RigidBody")), this.rVehicle ? this.rVehicle.gravityScale = 0 : cc.error("SeekComponent Init Error"), this.AI_SEEK = e, this.ID = t, this.MAX_SPEED = n, this.MAX_STEER = i, this.MIN_RANGE = a, this.PATH = s, this.MAX_SPEED_SQ = n * n, this.MAX_STEER_SQ = i * i, this.onStart = l, this.onMove = h, this.onEnd = u, this.FLIP = e.Flip, this.aTarget = this.ORIGIN_ANGLE = e.Flip ? p + 180 : p, this.REPEAT = d, this.fixed_timeStep = r, this.draw_point = c, this.steer_vec = this.rVehicle.linearVelocity = cc.Vec2.ZERO, this.node.position = this.PATH[0], this.node[o] = e.Flip ? this.ORIGIN_ANGLE - 180 : this.ORIGIN_ANGLE, this.tIndex = 1, this.pTarget = this.PATH[this.tIndex], this.pause = !1, this.add_speed_now = !1, this.rotate_now = !1, this.isReverse = !1, this.DrawPoint(this.pTarget.x, this.pTarget.y), this.AI_SEEK.AddVehicle(this.ID, this), f > 0 && this.SetSpeedScale(2, f), this.rVehicle.linearVelocity.x + this.rVehicle.linearVelocity.y != 0 ? this.onEnd(this) : this.onStart && this.onStart(this)
                }, t.prototype.Seek = function() {
                    return __awaiter(this, void 0, void 0, function() {
                        var e, t, n, a;
                        return __generator(this, function() {
                            if (e = cc.v2(this.pTarget.sub(this.node.position)), this.FLIP && e.mulSelf(-1), e.normalizeSelf(), e.mulSelf(this.MAX_SPEED), (t = cc.v2(e.sub(this.steer_vec))).magSqr() > this.MAX_STEER_SQ && (t.normalizeSelf(), t.mulSelf(this.MAX_STEER)), this.steer_vec = this.steer_vec.addSelf(t), this.steer_vec.magSqr() > this.MAX_SPEED_SQ && (this.steer_vec.normalizeSelf(), this.steer_vec.mulSelf(this.MAX_SPEED)), this.add_speed_now || (this.rVehicle.linearVelocity = this.steer_vec), this.DrawLine(this.node.position.x, this.node.position.y, this.steer_vec), n = (i >= 21 ? 1 : -1) * cc.misc.radiansToDegrees(Math.atan2(this.rVehicle.linearVelocity.y, this.rVehicle.linearVelocity.x)) + this.ORIGIN_ANGLE, a = !1, n < -90 + this.ORIGIN_ANGLE && this.node[o] > 90 + this.ORIGIN_ANGLE ? (n += 360, a = !0) : n > 90 + this.ORIGIN_ANGLE && this.node[o] < -90 + this.ORIGIN_ANGLE && (n -= 360, a = !0), a || (this.node[o] > 225 + this.ORIGIN_ANGLE ? this.node[o] -= 360 : this.node[o] < -225 + this.ORIGIN_ANGLE && (this.node[o] += 360)), this.aTarget = n, cc.v2(this.node.position.sub(this.pTarget)).mag() <= this.MIN_RANGE) {
                                if (this.onMove && this.onMove(this), this.isReverse ? this.tIndex -= 1 : this.tIndex += 1, this.tIndex >= this.PATH.length || this.tIndex < 0)
                                    if (1 != this.REPEAT) this.REPEAT -= 1, this.isReverse ? this.tIndex = this.PATH.length - 1 : this.tIndex = 0;
                                    else if (1 == this.REPEAT) return this.PATH = [], this.onDead(), this.onEnd && this.onEnd(this), this.target_point && this.target_point.clear(), this.target_line && this.target_line.clear(), [2];
                                this.pTarget = this.PATH[this.tIndex], this.DrawPoint(this.pTarget.x, this.pTarget.y)
                            }
                            return [2]
                        })
                    })
                }, t.prototype.DrawPoint = function(e, t) {
                    null == this.target_point && this.draw_point && (this.target_point = (new cc.Node).addComponent(cc.Graphics), cc.find("Canvas").addChild(this.target_point.node)), this.target_point && (this.target_point.clear(), this.target_point.circle(e, t, this.MIN_RANGE), this.target_point.strokeColor = cc.Color.WHITE, this.target_point.stroke())
                }, t.prototype.DrawLine = function(e, t, n, i) {
                    if (void 0 === i && (i = .1), null == this.target_line && this.draw_point && (this.target_line = (new cc.Node).addComponent(cc.Graphics), cc.find("Canvas").addChild(this.target_line.node)), this.target_line) {
                        this.target_line.moveTo(e, t);
                        var o = cc.v2(e + n.x * i, t + n.y * i);
                        this.target_line.lineTo(o.x, o.y), this.target_line.strokeColor = cc.Color.WHITE, this.target_line.stroke()
                    }
                }, t.prototype.SetSpeedScale = function(e, t) {
                    1 != e && (this.speed_scale = e, this.sync_tiem = 1.1 * t || 0, this.MAX_SPEED *= e, this.MAX_STEER *= e * e, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED, this.MAX_STEER_SQ = this.MAX_STEER * this.MAX_STEER)
                }, t.prototype.ResetSpeedScale = function() {
                    1 != this.speed_scale && (this.MAX_SPEED /= this.speed_scale, this.MAX_STEER /= this.speed_scale * this.speed_scale, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED, this.MAX_STEER_SQ = this.MAX_STEER * this.MAX_STEER, this.sync_tiem = 0, this.speed_scale = 1)
                }, t.prototype.Reverse = function(e) {
                    this.isReverse = null == typeof e ? !this.isReverse : e
                }, t.prototype.AddSpeed = function(e, t) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return !this.rVehicle || this.pause ? [2] : (this.add_speed_now = !0, this.rVehicle.linearVelocity = this.rVehicle.linearVelocity.addSelf(this.rVehicle.linearVelocity.normalize().mul(e)), [4, this.Delay(t)]);
                                case 1:
                                    return n.sent(), !this.rVehicle || this.pause ? [2] : (this.rVehicle.linearVelocity = this.rVehicle.linearVelocity.normalize().mul(this.MAX_SPEED), this.add_speed_now = !1, [2])
                            }
                        })
                    })
                }, t.prototype.onDead = function() {
                    this.pause = !0, this.add_speed_now = !1, this.rotate_now = !1, this.rVehicle.linearVelocity = cc.Vec2.ZERO, this.target_point && this.target_point.clear(), this.target_line && this.target_line.clear(), this.ResetSpeedScale(), this.AI_SEEK.RemoveVehicle(this.ID)
                }, t.prototype.SetPonitIndex = function(e) {
                    e >= 0 && e < this.PATH.length && (this.tIndex = e)
                }, t.prototype.SetOriginAngle = function(e, t) {
                    return void 0 === t && (t = 1), __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return !this.node || this.pause ? [2] : (this.rotate_now = !0, this.aTarget = e, this.ORIGIN_ANGLE = e, [4, this.Delay(1e3 * t)]);
                                case 1:
                                    return n.sent(), !this.node || this.pause ? [2] : (this.node[o] = this.aTarget, this.rotate_now = !1, [2])
                            }
                        })
                    })
                }, t.prototype.Rotate = function(e, t, n) {
                    var i = this;
                    void 0 === n && (n = 0), this.rotate_now = !0;
                    var a = this.node[o],
                        s = Math.abs(e - a);
                    s > 180 && (this.FLIP ? a += 360 : e -= 360, (s = Math.abs(e - a)) < 180 ? this.node[o] = a : (this.FLIP ? a -= 720 : e += 720, (s = Math.abs(e - a)) < 180 && (this.node[o] = a))), this.node.runAction(cc.sequence(cc.rotateTo(t, e), cc.delayTime(n), cc.callFunc(function() {
                        i.rotate_now = !1
                    })))
                }, t.prototype.SetSpeed = function(e) {
                    this.MAX_SPEED = e, this.MAX_SPEED_SQ = this.MAX_SPEED * this.MAX_SPEED
                }, t.prototype.GetTargetPoint = function(e) {
                    return e >= 0 && e < this.PATH.length ? this.PATH[e] : null
                }, t.prototype.Delay = function(e) {
                    return new Promise(function(t) {
                        setTimeout(t, e)
                    }.bind(this))
                }, __decorate([s], t)
            }(cc.Component);
        n.SeekComponent = r, cc._RF.pop()
    }, {}],
    AngleBackground: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "7a69faleJxN57g7n2Kmq+re", "AngleBackground");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/ResourceManager"),
            r = e("./BaseBackGround"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Bottom_Mask = null, t.Top_Mask = null, t
                }
                return o(t, e), t.prototype.BossEnter = function() {
                    this.bossEnter || (this.ani.stop("Boss_Enter"), this.ani.playAdditive("Boss_Enter"), this.Top_Mask = s.default.SpawnFish("KING_ANGLER_MASK"), this.Top_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Top_Mask.runAction(cc.fadeTo(1, 120)), this.Bottom_Mask && (this.Bottom_Mask.active = !0, this.Bottom_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Bottom_Mask.runAction(cc.fadeTo(1, 200))), this.bossEnter = !0)
                }, t.prototype.BossLeave = function() {
                    this.DespawnMask(this.Top_Mask), this.Bottom_Mask.runAction(cc.fadeOut(1))
                }, t.prototype.DespawnMask = function(e) {
                    null != e && e.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        s.default.DespawnFish("KING_ANGLER_MASK", e)
                    })))
                }, a([h(cc.Node)], t.prototype, "Bottom_Mask", void 0), a([l], t)
            }(r.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "./BaseBackGround": "BaseBackGround"
    }],
    ArkGameUtility: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "bc09bq66FNMH6HIF4bcV34f", "ArkGameUtility"), Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Dictionary = n.EventDelegate = n.FunctionQueue = n.WaitUntil = n.WaitForSeconds = void 0, n.WaitForSeconds = function(e) {
            return new Promise(function(t) {
                setTimeout(t, 1e3 * e)
            })
        }, n.WaitUntil = function(e) {
            return this.contentRecordHelper.addTitleFilter(e), new Promise(function(t) {
                var n = function() {
                    setTimeout(function() {
                        e.$systemType && e.$contentType ? t() : n()
                    }, 1e3)
                };
                n()
            })
        };
        var i = function() {
            function e() {
                this.funcs = []
            }
            return e.prototype.Enqueue = function(e) {
                this.funcs.push(e)
            }, e.prototype.Invoke = function() {
                var e = this;
                this.funcs.length > 0 ? this.funcs.shift()(function() {
                    return e.Invoke()
                }) : cc.log("the funcs queue is clear")
            }, e
        }();
        n.FunctionQueue = i;
        var o = function() {
            function e() {
                this.keys = [], this.funcs = [], this.stackKey = 0
            }
            return e.prototype.AddListener = function(e) {
                return this.stackKey++, this.keys.push(this.stackKey), this.funcs.push(e), this.stackKey
            }, e.prototype.RemoveListener = function(e) {
                var t = this.funcs.indexOf(e);
                return -1 != t && (this.keys.splice(t, 1), this.funcs.splice(t, 1), !0)
            }, e.prototype.RemoveListenerByID = function(e) {
                var t = this.keys.indexOf(e);
                return -1 != t && (this.keys.splice(t, 1), this.funcs.splice(t, 1), !0)
            }, e.prototype.RemoveAllListener = function() {
                this.keys = [], this.funcs = [], this.stackKey = 0
            }, e.prototype.SetListener = function(e) {
                return this.RemoveAllListener(), this.AddListener(e)
            }, e.prototype.Broadcast = function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                for (var n = Object.assign([], this.funcs), i = 0; i < n.length; i++) n[i].apply(n, e);
                n = null
            }, e.prototype.ContainsListener = function(e) {
                return -1 !== this.keys.indexOf(e)
            }, e.prototype.GetListenerCount = function() {
                return this.keys.length
            }, e
        }();
        n.EventDelegate = o;
        var a = function() {
            function e() {
                this._keys = [], this._values = []
            }
            return e.prototype.Add = function(e, t) {
                var n = this;
                this.checkKeyAndPerformAction(function(e, t) {
                    if (n.ContainsKey(e)) throw new Error("An element with the same key already exists in the dictionary.");
                    n._keys.push(e), n._values.push(t)
                }, e, t)
            }, e.prototype.AddOrChange = function(e, t) {
                var n = this;
                this.checkKeyAndPerformAction(function(e, t) {
                    if (n.ContainsKey(e)) {
                        var i = n._keys.indexOf(e);
                        n._values[i] = t
                    } else n._keys.push(e), n._values.push(t)
                }, e, t)
            }, e.prototype.Remove = function(e) {
                var t = this;
                return this.checkKeyAndPerformAction(function(e) {
                    if (!t.ContainsKey(e)) return !1;
                    var n = t._keys.indexOf(e);
                    return t._keys.splice(n, 1), t._values.splice(n, 1), !0
                }, e)
            }, e.prototype.GetValue = function(e) {
                var t = this;
                return this.checkKeyAndPerformAction(function(e) {
                    if (!t.ContainsKey(e)) return null;
                    var n = t._keys.indexOf(e);
                    return t._values[n]
                }, e)
            }, e.prototype.PopValue = function(e) {
                var t = this;
                return this.checkKeyAndPerformAction(function(e) {
                    if (!t.ContainsKey(e)) return null;
                    var n = t._keys.indexOf(e),
                        i = t._values[n];
                    return t._keys.splice(n, 1), t._values.splice(n, 1), i
                }, e)
            }, e.prototype.ContainsKey = function(e) {
                var t = this;
                return this.checkKeyAndPerformAction(function(e) {
                    return -1 !== t._keys.indexOf(e)
                }, e)
            }, e.prototype.ChangeValueForKey = function(e, t) {
                var n = this;
                this.checkKeyAndPerformAction(function(e, t) {
                    if (!n.ContainsKey(e)) throw new Error("In the dictionary there is no element with the given key.");
                    var i = n._keys.indexOf(e);
                    n._values[i] = t
                }, e, t)
            }, e.prototype.Keys = function() {
                return this._keys
            }, e.prototype.Values = function() {
                return this._values
            }, e.prototype.Count = function() {
                return this._values.length
            }, e.prototype.Clear = function() {
                this._keys = [], this._values = []
            }, e.prototype.checkKeyAndPerformAction = function(e, t, n) {
                if (this.isEitherUndefinedNullOrStringEmpty(t)) throw new Error("Key is either undefined, null or an empty string.");
                return e(t, n)
            }, e.prototype.isEitherUndefinedNullOrStringEmpty = function(e) {
                return null == e || "" === e.toString()
            }, e
        }();
        n.Dictionary = a, cc._RF.pop()
    }, {}],
    AudioManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "bdb3e+7F3xDqaZE/zgkm18Q", "AudioManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../LobbyCommon/Component/AudioMgr"),
            l = e("../../GameClient"),
            h = e("./PreloadManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e, t) {
                this.ID = 0, this.Volume = 0, this.ID = e, this.Volume = t
            },
            m = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.MainVolume = 1, t.BGMClip = [], t.SoundClip = [], t.Volume = 1, t.BGM_ID = null, t.Playing_ID = [], t.AudioClipTable = null, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this, this.Volume = this.MainVolume, this.InitClipData()
                }, t.prototype.start = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return h.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), e = "FishHunter/Res/data/audio/" + window.gd_nowLOGO + "/TextList", t = this, [4, l.default.Instance.loadJson(e)];
                                case 1:
                                    return t.AudioClipTable = n.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.InitClipData = function() {
                    for (var e = [], t = 0; t < this.BGMClip.length; t++) this.BGMClip[t] ? e.push(this.BGMClip[t].name) : e.push("");
                    c.AudioMgr.Instance.setAudioClip(this.BGMClip, e);
                    var n = [];
                    for (t = 0; t < this.SoundClip.length; t++) this.SoundClip[t] ? n.push(this.SoundClip[t].name) : n.push("");
                    c.AudioMgr.Instance.setAudioClip(this.SoundClip, n)
                }, t.prototype.PlayBGM = function(e, t, n, i) {
                    var o = this;
                    if (void 0 === t && (t = 1), void 0 === n && (n = !1), void 0 === i && (i = 1), null != this.BGM_ID) {
                        var a = this.BGM_ID;
                        n ? this.Fade(this.BGM_ID, 1, 0, i, function() {
                            o.Stop(a)
                        }) : this.Stop(a)
                    }
                    return this.BGM_ID = this.Play(e, t, !0), n && this.Fade(this.BGM_ID, 0, 1, i), this.BGM_ID
                }, t.prototype.GetBGMID = function() {
                    return this.BGM_ID
                }, t.prototype.Play = function(e, t, n) {
                    var i = this;
                    void 0 === t && (t = 1), void 0 === n && (n = !1);
                    var o = c.AudioMgr.Instance.Play(e, n, t * this.MainVolume),
                        a = new f(o, t);
                    return c.AudioMgr.Instance.SetFinishCallback(o, function() {
                        var e = i.Playing_ID.indexOf(a);
                        e > 0 && i.Playing_ID.splice(e, 1)
                    }, this), this.Playing_ID.push(a), o
                }, t.prototype.Stop = function(e) {
                    c.AudioMgr.Instance.Stop(e);
                    for (var t = 0; t < this.Playing_ID.length; t++)
                        if (this.Playing_ID[t].ID == e) {
                            this.Playing_ID.splice(t, 1);
                            break
                        }
                }, t.prototype.Fade = function(e, t, n, i, o) {
                    var a = this;
                    if (void 0 === i && (i = 1), void 0 === o && (o = null), null != e) {
                        if (t == n || i <= 0) return c.AudioMgr.Instance.SetVolume(e, n), void(o && o());
                        for (var s = n > t, r = s ? t : n, l = s ? n : t, h = (n - t) / (cc.game.getFrameRate() * i), u = null, p = 0; p < this.Playing_ID.length; p++)
                            if (this.Playing_ID[p].ID == e) {
                                u = this.Playing_ID[p];
                                break
                            }
                        c.AudioMgr.Instance.SetVolume(e, t);
                        var d = function() {
                            r < l ? (s ? r += h : (l += h) <= 0 && (l = 0), c.AudioMgr.Instance.SetVolume(e, (s ? r : l) * a.MainVolume), u && (u.Volume = s ? r : l)) : (o && (o(), o = null), c.AudioMgr.Instance.SetVolume(e, n * a.MainVolume), u && (u.Volume = n), a.unschedule(d))
                        };
                        this.schedule(d, 0), this.scheduleOnce(function() {
                            o && (o(), o = null), c.AudioMgr.Instance.SetVolume(e, n * a.MainVolume), u && (u.Volume = n), a.unschedule(d)
                        }, i)
                    }
                }, t.prototype.SetNextSound = function(e, t, n, i) {
                    void 0 === n && (n = 1), void 0 === i && (i = !1);
                    var o = this.Play(t, 0, i);
                    return cc.audioEngine.pause(o), cc.audioEngine.setLoop(e, !1), c.AudioMgr.Instance.SetFinishCallback(e, function() {
                        cc.audioEngine.setCurrentTime(o, 0), c.AudioMgr.Instance.SetVolume(o, n), cc.audioEngine.resume(o)
                    }, this), o
                }, t.prototype.SetMainVolume = function(e) {
                    this.MainVolume = e;
                    for (var t = this.Playing_ID.length, n = 0; n < t; n++)
                        if (n < this.Playing_ID.length) {
                            var i = this.Playing_ID[n].Volume;
                            c.AudioMgr.Instance.SetVolume(this.Playing_ID[n].ID, i * e)
                        }
                }, t.prototype.Clear = function() {
                    this.BGMClip.forEach(function() {}), this.BGMClip = null, this.SoundClip.forEach(function() {}), this.SoundClip = null, this.Playing_ID.splice(0, this.Playing_ID.length), n.instance = null
                }, t.prototype.isPlaying = function(e) {
                    for (var t = 0; t < this.Playing_ID.length; t++)
                        if (this.Playing_ID[t].ID == e) return !0;
                    return !1
                }, t.prototype.PlayByAudioClipTable = function(e, t, n) {
                    void 0 === t && (t = 1), void 0 === n && (n = !1), this.AudioClipTable[e] ? "" != this.AudioClipTable[e] && this.Play(this.AudioClipTable[e], t, n) : cc.error("Can't find corresponding audio, key = ", e)
                }, t.instance = null, a([d({
                    range: [0, 1],
                    slide: !0
                })], t.prototype, "MainVolume", void 0), a([d({
                    type: [cc.AudioClip]
                })], t.prototype, "BGMClip", void 0), a([d({
                    type: [cc.AudioClip]
                })], t.prototype, "SoundClip", void 0), n = a([p], t)
            }(cc.Component);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Component/AudioMgr": void 0,
        "../../GameClient": "GameClient",
        "./PreloadManager": "PreloadManager"
    }],
    AwardItem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "079bdrV7eJLErbw9TOkuQJb", "AwardItem");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = e("../Common/ResourceManager"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemImg = null, t.itemNodeList = new Array, t
                }
                return o(t, e), t.prototype.Init = function(e, t, n, i, o) {
                    var a = this;
                    void 0 === i && (i = 0), void 0 === o && (o = null), this.SetItemNode(e), this.node.setPosition(t), this.node.setScale(0);
                    var s = n.sub(this.node.getPosition()).mag(),
                        r = Math.min(.3, .03 * s);
                    this.node.runAction(cc.sequence(cc.scaleTo(.3, 1), cc.delayTime(i), cc.spawn(cc.moveTo(r, n).easing(cc.easeSineOut()), cc.scaleTo(r, .2)), cc.delayTime(.3), cc.callFunc(function() {
                        o && o(a), a.recycleeNode()
                    })))
                }, t.prototype.SetItemImg = function(e) {
                    this.itemImg && e && (this.itemImg.spriteFrame = e)
                }, t.prototype.SetItemNode = function(e) {
                    for (var t = this.GetItemNodeIndex(e), n = 0; n < this.itemNodeList.length; n++)
                        if (n == t) {
                            this.itemNodeList[n].active = !0;
                            var i = this.itemNodeList[n].getComponent(cc.Animation);
                            i && i.play()
                        } else this.itemNodeList[n].active = !1
                }, t.prototype.recycleeNode = function() {
                    r.default.DespawnAward("AwardItem", this.node)
                }, t.prototype.GetItemNodeIndex = function() {
                    return 0
                }, a([h(cc.Sprite)], t.prototype, "itemImg", void 0), a([h(Array(cc.Node))], t.prototype, "itemNodeList", void 0), a([l], t)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager"
    }],
    AwardManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "922d9A69ddEU44WzTvWk+41", "AwardManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.LineData = n.AwardType = void 0;
        var c, l = e("../Player/PlayerManager"),
            h = e("../Common/ResourceManager"),
            u = e("../Weapon/WeaponManager"),
            p = e("../Common/Utility"),
            d = e("../Common/EnumFilter"),
            f = e("../Common/AudioManager"),
            m = e("../Common/PreloadManager"),
            y = e("../../GameClient"),
            g = e("../../../../../FishCommon/Script/CanvasHandler"),
            S = e("./SkillTitle"),
            _ = e("./MedalRoot"),
            v = e("./BaseMedal"),
            b = e("../Common/PoolObj");
        (function(e) {
            e.NormalFishNum = "NFN", e.NormalFishNumCountUp = "NFNCU", e.NormalFishNumOther = "NFNO", e.DoubleFishNum = "DFN", e.GoldenNum = "GN", e.DropCoin = "DC", e.HumpbackWhale = "18", e.FireDragon = "19", e.KingLacoste = "20", e.KingCrab = "24", e.Mermaid = "25", e.DragonTurtle = "32", e.KingAngle = "35", e.KingTaco = "36", e.Phoenix = "80", e.FireDragonJew = "19J", e.KingLacosteJew = "20J", e.KingCrabJew = "24J", e.MermaidJew = "25J", e.DragonTurtleJew = "32J", e.KingAngleJew = "35J", e.KingTacoJew = "36J", e.PhoenixJew = "80J", e.WealthGod = "116", e.TreasureCrab = "29", e.TreasureUpgrade = "29U", e.TreasureJew = "29J", e.IceDragon = "87", e.IceDragonJew = "87J", e.SmallTreasure = "SmallTreasure", e.BigTreasure = "BigTreasure", e.MedalRoot = "MedalRoot", e.KingArmorCrab = "128", e.KingArmorCrabJew = "128J", e.KingArmorCrabFullScreen = "128F", e.KingArmorCrabMedal = "128M", e.KingArmorCrabBigMedal = "128BM", e.KingTacoMedal = "116M", e.KingLacosteMedal = "123M", e.KingAngleMedal = "124M", e.KingSquid = "125", e.KingSquidJew = "125J", e.KingSquidMedal = "125M", e.KingJelly = "126", e.KingJellyJew = "126J", e.KingJellyMedal = "126M", e.GeneralLobsterMedal = "114M"
        })(c = n.AwardType || (n.AwardType = {}));
        var P = function(e, t, n) {
            this.nodeList = null, this.height = 80, this.dragTime = 2, this.nodeList = e, this.height = t, null != n && (this.dragTime = n)
        };
        n.LineData = P;
        var I = cc._decorator.ccclass,
            C = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.AwardList = new Array, t.CoinSound = -1, t.goldenSlotArray = [null, null, null, null], t.winSize = null, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this
                }, t.prototype.start = function() {
                    m.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this));
                    for (var e = 0; e < 4; e++) this.AwardList[e] = new Array
                }, t.prototype.SpawnAward = function(e, t, n) {
                    var i = null;
                    switch (e) {
                        case c.NormalFishNum:
                        case c.NormalFishNumCountUp:
                        case c.DoubleFishNum:
                        case c.GoldenNum:
                        case c.NormalFishNumOther:
                        case c.SmallTreasure:
                        case c.BigTreasure:
                            i = h.default.SpawnEffect(e, n);
                            break;
                        default:
                            i = h.default.SpawnAward(e, n)
                    }
                    return i && (i.stopAllActions(), i.setScale(1), i.angle = g.default.isReverse ? 180 : 0, i.setPosition(t)), i
                }, t.prototype.NormalFishMoneyNum = function(e, t, n, i, o, a, s) {
                    var r = this,
                        d = null;
                    d = l.PlayerManager.isMainSeat(i) ? this.SpawnAward(c.NormalFishNum, e, l.PlayerManager.isMainSeat(i)) : this.SpawnAward(c.NormalFishNumOther, e, l.PlayerManager.isMainSeat(i));
                    var m = t / n;
                    d.getComponent(cc.Label).string = p.default.NumberformatBet(t, n), d.scale = .5;
                    var y = cc.Vec2.ZERO;
                    if (o) {
                        var g = u.default.WeaponPosition(i);
                        (y = cc.v2(d.getPosition().sub(g))).normalizeSelf()
                    } else y = cc.v2(Math.random() - .5, Math.random() - .5);
                    return d.runAction(cc.spawn(cc.sequence(cc.scaleTo(.1, 2.1).easing(cc.easeBackOut()), cc.scaleTo(.3, 1)), cc.moveBy(.1, y.mul(50)), cc.callFunc(function() {
                        var e = cc.v2(Math.random() - .5, Math.random() - .5).add(y);
                        d.runAction(cc.sequence(cc.delayTime(.2), cc.moveBy(2.3, e.mul(25)).easing(cc.easeIn(1)), cc.callFunc(function() {
                            r.DropCoin(d.getPosition(), i, a, !1, t, s), l.PlayerManager.isMainSeat(i) ? h.default.DespawnEffect(c.NormalFishNum, d) : h.default.DespawnEffect(c.NormalFishNumOther, d), -1 != r.CoinSound && f.default.Instance.Stop(r.CoinSound), r.CoinSound = f.default.Instance.Play(r.GetCoinSound(m))
                        })))
                    }))), 1.4
                }, t.prototype.DoubleFishMoneyNum = function(e, t, n, i, o) {
                    var a = this,
                        s = this.SpawnAward(c.DoubleFishNum, e.node.getPosition(), l.PlayerManager.isMainSeat(i));
                    e.node.runAction(cc.sequence(cc.delayTime(.5), cc.rotateTo(1, 0)));
                    var r = new P([s, e.node], s.height);
                    this.AwardLineUp(i, r, .5);
                    var u = s.getComponentInChildren(cc.Label);
                    u.node.setScale(1);
                    var d = 0,
                        m = e.Odds * n * (1 / 23),
                        y = 1,
                        g = t / n,
                        S = 12 + Math.floor(g / 3);
                    l.PlayerManager.Instance.players[i].bet_value > 10 ? y += Math.ceil((g - e.Odds) / e.Double) : m = t * (1 / 23);
                    var _ = cc.repeat(cc.sequence(cc.callFunc(function() {
                            d += m, u.string = p.default.NumberformatBet(d, n)
                        }), cc.delayTime(.05)), 23),
                        v = 1.75 * y + 1.5,
                        b = 1,
                        I = -1;
                    return I = f.default.Instance.Play("28_whale_count_" + (b > 6 ? "6" : b.toString())), u.node.runAction(cc.sequence(cc.repeat(cc.sequence(_, cc.scaleBy(.1, 1.3), cc.callFunc(function() {
                        f.default.Instance.Stop(I), b + 1 <= y ? I = f.default.Instance.Play("28_whale_count_" + (b + 1 > 6 ? "6" : (b + 1).toString())) : (I = f.default.Instance.Play("29_whale_count1_" + (b > 6 ? "6" : b.toString())), f.default.Instance.SetNextSound(I, b >= 6 ? "30_whale_countend2" : "30_whale_countend"))
                    }), cc.scaleBy(.2, .8), cc.delayTime(.3), cc.callFunc(function() {
                        m = ++b == y ? 1 / 23 * (t - d) : e.Double * n * (1 / 23)
                    })), y), cc.delayTime(1.5), cc.callFunc(function() {
                        e && e.node && (e.node.setPosition(s.getPosition()), e.node.runAction(cc.sequence(cc.spawn(cc.rotateBy(1, 720), cc.repeat(cc.scaleBy(.1, .7), 10), cc.fadeOut(1)), cc.callFunc(function() {
                            e.RemoveSelf()
                        })))), -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(g)), a.AwardLineOff(r, i), s.opacity = 0
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var e = 100 * (Math.random() - .5),
                            t = 100 * (Math.random() - .5);
                        a.DropCoin(s.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                    }), cc.delayTime(.05)), S), cc.callFunc(function() {
                        s.opacity = 255, h.default.DespawnEffect(c.DoubleFishNum, s), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                    }))), f.default.Instance.Play("27_whale_catch"), v
                }, t.prototype.DropCoin = function(e, t, n, i, o, a) {
                    void 0 === i && (i = !1);
                    var s = this.SpawnAward(c.DropCoin, e, l.PlayerManager.isMainSeat(t));
                    s.scale = l.PlayerManager.isMainSeat(t) ? 1 : .8, a || (a = u.default.WeaponPosition(t));
                    var r = cc.sequence(cc.moveBy(.2, cc.v2(0, g.default.isReverse ? -100 : 100)).easing(cc.easeOut(1)), cc.moveBy(.8, cc.v2(0, g.default.isReverse ? 100 : -100)).easing(cc.easeBounceOut()), cc.moveTo(.8, a).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                        n ? l.PlayerManager.Instance.ModifyPlayerWinning(t, o) : i && (l.PlayerManager.Instance.ModifyPlayerEntries(t, o, null, !1), l.PlayerManager.BulletSync(-1, null)), h.default.DespawnAward(c.DropCoin, s)
                    }));
                    s.runAction(r)
                }, t.prototype.AwardLineUp = function(e, t, n) {
                    return s(this, void 0, void 0, function() {
                        var i, o, a, s;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, new Promise(function(e) {
                                        setTimeout(e, 1e3 * n)
                                    })];
                                case 1:
                                    for (r.sent(), i = u.default.WeaponPosition(e), o = 140, a = 0; a < this.AwardList[e].length; a++) o += this.AwardList[e][a].height;
                                    for (a = 0; a < t.nodeList.length; a++)(s = cc.moveTo(t.dragTime, i.add(new cc.Vec2(0, e > 1 ? -o : o)))).easing(cc.easeQuadraticActionOut()), t.nodeList[a].runAction(s);
                                    return this.AwardList[e].push(t), [2]
                            }
                        })
                    })
                }, t.prototype.AwardLineOff = function(e, t) {
                    var n = this.AwardList[t].indexOf(e);
                    if (n >= 0) {
                        this.AwardList[t].splice(n, 1);
                        for (var i = u.default.WeaponPosition(t), o = 140, a = 0; a < this.AwardList[t].length; a++) {
                            for (var s = 0; s < this.AwardList[t][a].nodeList.length; s++)
                                if (this.AwardList[t][a].nodeList[s]) {
                                    var r = cc.moveTo(1, i.add(new cc.Vec2(0, t > 1 ? -o : o)));
                                    this.AwardList[t][a].nodeList[s].stopAllActions(), this.AwardList[t][a].nodeList[s].runAction(r)
                                }
                            o += this.AwardList[t][a].height
                        }
                        e = null
                    } else cc.warn("Can't find node in award list")
                }, t.prototype.HumpbackWhaleAward = function(e, t, n, i, o) {
                    var a = this,
                        s = this.SpawnAward(c.GoldenNum, e.node.getPosition(), l.PlayerManager.isMainSeat(i)),
                        r = s.getComponentInChildren(cc.Label),
                        d = t / n;
                    r.node.setScale(1.2), r.string = p.default.NumberformatBet(t, n);
                    for (var m = u.default.WeaponPosition(i), y = 140, g = 0; g < this.AwardList[i].length; g++) y += this.AwardList[i][g].height;
                    e && e.node.runAction(cc.moveTo(3, cc.v2(m.x, m.y + (i > 1 ? -200 : 200))));
                    var S = this.SpawnAward(c.HumpbackWhale, new cc.Vec2(m.x, m.y + (i > 1 ? -y : y)), l.PlayerManager.isMainSeat(i)),
                        _ = new P([S], S.height, 2.5);
                    this.AwardLineUp(i, _, 1);
                    var v = new P([s], 100, 2.5);
                    return this.AwardLineUp(i, v, 1), f.default.Instance.Play("38_catch_whale2"), this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                        f.default.Instance.Play("37_catch_whale")
                    }), cc.delayTime(3), cc.callFunc(function() {
                        -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(d))
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var e = 100 * (Math.random() - .5),
                            t = 100 * (Math.random() - .5);
                        a.DropCoin(S.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                    }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                        a.AwardLineOff(_, i), a.AwardLineOff(v, i), h.default.DespawnEffect(c.GoldenNum, s), h.default.DespawnAward(c.HumpbackWhale, S), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                    }))), 4
                }, t.prototype.BossAward = function(e, t, n, i, o) {
                    var a = this,
                        s = u.default.WeaponPosition(i),
                        r = null,
                        m = null,
                        y = null,
                        g = t;
                    switch (d.default.getFishType(e.Type)) {
                        case d.FishType.FireDragon:
                            r = c.FireDragon, m = c.FireDragonJew;
                            break;
                        case d.FishType.KingCrab:
                            r = c.KingCrab, m = c.KingCrabJew;
                            break;
                        case d.FishType.KingLacoste:
                            r = c.KingLacoste, m = c.KingLacosteJew;
                            break;
                        case d.FishType.KingAngle:
                            r = c.KingAngle, m = c.KingAngleJew;
                            break;
                        case d.FishType.KingTaco:
                            r = c.KingTaco, m = c.KingTacoJew;
                            break;
                        case d.FishType.Mermaid:
                            r = c.Mermaid, m = c.MermaidJew;
                            break;
                        case d.FishType.DragonTurtle:
                            r = c.DragonTurtle, m = c.DragonTurtleJew;
                            break;
                        case d.FishType.Phoenix:
                            r = c.Phoenix, m = c.PhoenixJew;
                            break;
                        case d.FishType.IceDragon:
                            r = c.IceDragon, m = c.IceDragonJew;
                            break;
                        case d.FishType.ArmorKingCrab:
                            r = c.KingArmorCrab, m = c.KingArmorCrabJew, y = c.KingArmorCrabFullScreen, g = t / 2;
                            break;
                        case d.FishType.KingSquid:
                            r = c.KingSquid, m = c.KingSquidJew;
                            break;
                        case d.FishType.KingJellyFish:
                            r = c.KingJelly, m = c.KingJellyJew
                    }
                    for (var S = 0, _ = 0, v = g / n, I = [0, 100, 150, 250, 400, 600], C = 0; C < I.length && v > I[C]; C++) _++;
                    var w = I[1] * n * (1 / 39),
                        M = 1,
                        E = -1;
                    return this.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                        for (var u = 140, d = 0; d < a.AwardList[i].length; d++) u += a.AwardList[i][d].height;
                        var g = cc.Vec2.ZERO;
                        e && e.node && (g = e.node.parent ? e.node.parent.convertToNodeSpaceAR(e.getFishPos()) : e.node.convertToNodeSpaceAR(e.getFishPos()));
                        var C = a.SpawnAward(c.GoldenNum, g, l.PlayerManager.isMainSeat(i)),
                            T = a.SpawnAward(r, new cc.Vec2(s.x, s.y + (i > 1 ? -u : u)), l.PlayerManager.isMainSeat(i)),
                            A = a.SpawnAward(m, g, l.PlayerManager.isMainSeat(i)),
                            F = new P([C, T, A], T.height, 2);
                        a.AwardLineUp(i, F, 2);
                        var k = C.getComponentInChildren(cc.Label);
                        k.string = "", k.node.setScale(1);
                        var O = cc.tween().repeat(39, cc.tween().call(function() {
                                S += w, k.string = p.default.NumberformatBet(S, n)
                            }).delay(.05)),
                            L = cc.tween().delay(2.2).call(function() {
                                E = f.default.Instance.Play("28_whale_count_" + (M > 6 ? "6" : M.toString()))
                            }).repeat(_, cc.tween().then(O).by(.1, {
                                scale: .3
                            }).call(function() {
                                f.default.Instance.Stop(E), M + 1 <= _ ? E = f.default.Instance.Play("28_whale_count_" + (M + 1 > 6 ? "6" : (M + 1).toString())) : (E = f.default.Instance.Play("29_whale_count1_" + (M > 6 ? "6" : M.toString())), f.default.Instance.SetNextSound(E, M >= 6 ? "30_whale_countend2" : "30_whale_countend"))
                            }).by(.2, {
                                scale: -.2
                            }).delay(.3).call(function() {
                                w = ++M == _ ? 1 / 39 * (t - S) : 1 / 39 * (I[M] * n - S)
                            })),
                            R = cc.tween().repeat(2, cc.tween().by(1, {
                                scale: .2
                            }).by(1, {
                                scale: -.2
                            })),
                            B = cc.tween().delay(2.5).call(function() {
                                -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play(a.GetCoinSound(v)), a.AwardLineOff(F, i), h.default.DespawnAward(r, T), h.default.DespawnAward(m, A), C.opacity = 0
                            }),
                            D = cc.tween().repeat(50, cc.tween().call(function() {
                                var e = 100 * (Math.random() - .5),
                                    t = 100 * (Math.random() - .5);
                                a.DropCoin(C.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                            }).delay(.05)).call(function() {
                                C.opacity = 255, h.default.DespawnEffect(c.GoldenNum, C), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                            }),
                            N = cc.tween().call(function() {
                                var e = a.SpawnAward(y, cc.Vec2.ZERO, l.PlayerManager.isMainSeat(i)).getComponent(b.default);
                                e.setCustomData(t), e.recycleEvent = function() {
                                    cc.tween(k.node).then(D).start()
                                }
                            });
                        cc.tween(k.node).then(L).parallel(R, B.then(y ? N : D)).start()
                    }))), (39 * .05 + .6) * _ + 3.5
                }, t.prototype.WealthGodAward = function(e, t, n, i, o, a) {
                    var s = this;
                    cc.log("\u8ca1\u795e\u9b5a\u6b7b\u4ea1 seat = " + o + ", \u81ea\u5df1 seat = " + l.PlayerManager.MainSeat + ", win = " + t + ", addBalance = " + a);
                    var r = this.SpawnAward(c.WealthGod, g.default.isReverse ? new cc.Vec2(0, 30) : new cc.Vec2(0, -30), l.PlayerManager.isMainSeat(o));
                    r.stopAllActions();
                    var u = r.getChildByName("SuperWin"),
                        d = r.getChildByName("Scroll");
                    d.setPosition(cc.Vec2.ZERO);
                    var m = u.getChildByName("Effect_particle");
                    m.active = !1, m.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                        e.resetSystem(), e.enabled = !1
                    });
                    var S = u.getChildByName("Shape").getComponent(sp.Skeleton);
                    u.opacity = 0, u.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                        u.opacity = 255, S.setCompleteListener(null), S.setAnimation(1, "SuperWin_start", !1), f.default.Instance.Play("SuperWin"), m.active = !0, m.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                            e.enabled = !0
                        });
                        var e = 0;
                        S.setCompleteListener(function() {
                            S.setCompleteListener(null), S.setAnimation(1, "SuperWin_loop", !0), S.setCompleteListener(function() {
                                2 == ++e && (S.setCompleteListener(null), S.setAnimation(1, "SuperWin_ending", !1), S.setCompleteListener(function() {
                                    S.setCompleteListener(null), m.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                                        e.stopSystem()
                                    })
                                }))
                            })
                        })
                    }))).setTag(3);
                    var _ = d.getChildByName("Odds").getComponent(cc.Label);
                    _.node.stopAllActions(), _.string = "x" + t / n, _.node.setScale(0, 0);
                    var v = d.getChildByName("Bet");
                    v.setScale(0, 0), v.getChildByName("Label").getComponent(cc.Label).string = n.toString();
                    var b = d.getChildByName("Win").getComponent(cc.Label);
                    b.node.stopAllActions(), b.string = p.default.NumberformatBet(t, n), b.node.setScale(0, 0), b.node.opacity = 255;
                    var I = d.getChildByName("Shape").getComponent(sp.Skeleton);
                    if (null == _.node.getActionByTag(0)) {
                        var C = I.findBone("root"),
                            w = I.findBone("Frame");
                        _.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.001), cc.callFunc(function() {
                            0 != d.opacity && (_.node.setPosition(w.worldX, C.y > 7.5 && C.y < 90 ? w.worldY + 5 : w.worldY), v.setPosition(_.node.x, _.node.y + 30 * _.node.scaleY), _.node.setScale(C.scaleX * (w.scaleX / .75), C.scaleY * w.scaleY / .75), v.setScale(_.node.scaleX, _.node.scaleY))
                        })))).setTag(0)
                    }
                    var M = h.default.SpawnEffect(c.WealthGod, !0);
                    M.setParent(d), M.zIndex = -1, M.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                        e.resetSystem(), e.enabled = !1
                    }), M.children.forEach(function(e) {
                        e.active = !1
                    }), M.active = !1;
                    var E = null;
                    switch (i) {
                        case 1:
                            _.node.color = cc.color(255, 192, 160), I.setSkin("01_GREEN"), E = M.getChildByName("01_particle");
                            break;
                        case 2:
                            _.node.color = cc.color(223, 223, 223), I.setSkin("02_BLUE"), E = M.getChildByName("02_particle");
                            break;
                        case 3:
                        case 4:
                            _.node.color = cc.color(255, 223, 160), I.setSkin("03_RED"), E = M.getChildByName("03_particle");
                            break;
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                            _.node.color = cc.color(160, 255, 255), I.setSkin("04_PURPLE"), E = M.getChildByName("04_particle");
                            break;
                        default:
                            _.node.color = cc.color(255, 192, 160), I.setSkin("01_GREEN"), E = M.getChildByName("01_particle")
                    }
                    var T = null == e ? 0 : -1 != e.node.getChildByName("Shape").getComponent(sp.Skeleton).animation.indexOf("CATCH") ? .5 : 1.5;
                    T += 4.5;
                    var A = new P([r], 225, .75);
                    return this.AwardLineUp(o, A, 2 + T), d.opacity = 0, y.default.FishMissionSystem.CallMinimizeLayout(), d.runAction(cc.sequence(cc.delayTime(T), cc.callFunc(function() {
                        d.opacity = 255, b.node.runAction(cc.sequence(cc.delayTime(3.75), cc.callFunc(function() {
                            f.default.Instance.Play("09_wg_bonus_BigCoin"), M.active = !0, E.active = !0, E.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                                e.enabled = !0
                            }), E.opacity = 0
                        }), cc.scaleTo(.2, 2, 2), cc.callFunc(function() {
                            E.opacity = 255
                        }), cc.scaleTo(.1, 1, 1))).setTag(1), d.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            f.default.Instance.Play("07_wg_bonus_open")
                        }))), I.setCompleteListener(null), I.setAnimation(0, "01_open", !1), I.setCompleteListener(function() {
                            I.setCompleteListener(null), I.setAnimation(0, "02_reward", !0);
                            var e = 0;
                            I.setCompleteListener(function() {
                                ++e >= 2 && (b.node.runAction(cc.sequence(cc.delayTime(.25), cc.callFunc(function() {
                                    E.getComponentsInChildren(cc.ParticleSystem).forEach(function(e) {
                                        e.resetSystem(), e.enabled = !1
                                    }), E.active = !1, M.active = !1
                                }), cc.spawn(cc.scaleTo(.2, 2, 2), cc.fadeOut(.2)))).setTag(2), I.setCompleteListener(null), I.setStartListener(function() {
                                    I.setStartListener(null), d.runAction(cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                                        f.default.Instance.Play("08_wg_bonus_pass")
                                    })))
                                }), I.setAnimation(0, "03_close", !1), I.setCompleteListener(function() {
                                    I.setCompleteListener(null), r.stopAllActions(), _.node.stopAllActions(), b.node.stopAllActions(), s.AwardLineOff(A, o), h.default.DespawnAward(c.WealthGod, r), h.default.DespawnEffect(c.WealthGod, M), a && l.PlayerManager.Instance.ModifyPlayerWinning(o, t)
                                }))
                            })
                        })
                    }))), 13.5 + T
                }, t.prototype.TreasureUpgrade = function(e, t, n) {
                    for (var i = this, o = u.default.WeaponPosition(e), a = 140, s = 0; s < this.AwardList[e].length; s++) a += this.AwardList[e][s].height;
                    var r = cc.v2(o.x, o.y + (e > 1 ? -a : a)),
                        h = this.SpawnAward(c.TreasureUpgrade, r, l.PlayerManager.isMainSeat(e)).getComponent(S.default);
                    h.SetBet(t, l.PlayerManager.isMainSeat(e)), h.ShowScore(n), f.default.Instance.Play("TreasureCrabEvolution", 1, !1), this.node.runAction(cc.sequence(cc.delayTime(2.5), cc.callFunc(function() {
                        f.default.Instance.Play("30_whale_countend", 1, !1)
                    }), cc.callFunc(function() {
                        h.Hide()
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var t = 100 * (Math.random() - .5),
                            n = 100 * (Math.random() - .5);
                        i.DropCoin(r.sub(new cc.Vec2(t, n)), e, !1)
                    }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                        l.PlayerManager.Instance.ModifyPlayerWinning(e, n)
                    })))
                }, t.prototype.TreasureCrabAward = function(e, t, n, i, o) {
                    var a = this,
                        s = u.default.WeaponPosition(i);
                    return this.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                        for (var n = 140, r = 0; r < a.AwardList[i].length; r++) n += a.AwardList[i][r].height;
                        var u = e && e.node.parent ? e.node.parent.convertToNodeSpaceAR(e.getFishPos()) : cc.Vec2.ZERO,
                            d = a.SpawnAward(c.GoldenNum, u, l.PlayerManager.isMainSeat(i)),
                            m = a.SpawnAward(c.TreasureCrab, new cc.Vec2(s.x, s.y + (i > 1 ? -n : n)), l.PlayerManager.isMainSeat(i)),
                            y = a.SpawnAward(c.TreasureJew, u, l.PlayerManager.isMainSeat(i));
                        y.getComponent("TreasureJew").Init(e.Level);
                        var g = new P([d, m, y], m.height, 2);
                        a.AwardLineUp(i, g, 2);
                        var S = d.getComponentInChildren(cc.Label);
                        S.string = "", S.node.setScale(1), S.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function() {
                            S.string = p.default.NumberformatBet(t, 1, !0)
                        }), cc.delayTime(4), cc.callFunc(function() {
                            a.AwardLineOff(g, i), h.default.DespawnAward(c.TreasureCrab, m), d.opacity = 0, f.default.Instance.Play("30_whale_countend2", 1, !1)
                        }), cc.repeat(cc.sequence(cc.callFunc(function() {
                            h.default.DespawnAward(c.TreasureJew, y);
                            var e = 100 * (Math.random() - .5),
                                t = 100 * (Math.random() - .5);
                            a.DropCoin(d.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                        }), cc.delayTime(.05)), 50), cc.callFunc(function() {
                            d.opacity = 255, h.default.DespawnEffect(c.GoldenNum, d), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                        })))
                    }))), 5
                }, t.prototype.SmallTreasure = function(e, t, n, i) {
                    var o = this;
                    l.PlayerManager.isMainSeat(i) && l.PlayerManager.BulletSync(1);
                    var a = this.SpawnAward(c.SmallTreasure, this.posFix(e ? e.getPosition() : cc.Vec2.ZERO), l.PlayerManager.isMainSeat(i));
                    cc.tween(a).by(.2, {
                        position: cc.v3(0, g.default.isReverse ? -50 : 50)
                    }, {
                        easing: "Out"
                    }).by(.4, {
                        position: cc.v3(0, g.default.isReverse ? 50 : -50)
                    }, {
                        easing: "BounceOut"
                    }).start();
                    var s = new P([a], a.height),
                        r = a.getComponentInChildren(cc.Label);
                    r.node.parent.active = !1, r.node.setScale(1);
                    var u = t * n,
                        d = 0,
                        m = u * (1 / 43),
                        y = 3 + Math.floor(t / 3);
                    cc.tween(r).delay(.9).call(function() {
                        r.node.parent.active = !0;
                        var e = f.default.Instance.Play("28_whale_count_1");
                        f.default.Instance.SetNextSound(e, "29_whale_count1_1"), o.AwardLineUp(i, s, .5)
                    }).repeat(43, cc.tween().call(function() {
                        d += m, r.string = p.default.NumberformatBet(d, n)
                    }).delay(.05)).delay(1.5).call(function() {
                        -1 != o.CoinSound && f.default.Instance.Stop(o.CoinSound), o.CoinSound = f.default.Instance.Play(o.GetCoinSound(t)), o.AwardLineOff(s, i), a.opacity = 0
                    }).repeat(y, cc.tween().call(function() {
                        var e = 100 * (Math.random() - .5),
                            t = 100 * (Math.random() - .5);
                        o.DropCoin(a.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                    }).delay(.05)).call(function() {
                        a.opacity = 255, h.default.DespawnEffect(c.SmallTreasure, a), l.PlayerManager.Instance.ModifyPlayerWinning(i, u)
                    }).start()
                }, t.prototype.BigTreasure = function(e, t, n, i) {
                    var o = this;
                    l.PlayerManager.isMainSeat(i) && l.PlayerManager.BulletSync(1);
                    var a = this.SpawnAward(c.BigTreasure, this.posFix(e ? e.getPosition() : cc.Vec2.ZERO), l.PlayerManager.isMainSeat(i));
                    a.opacity = 255;
                    var s = a.getComponentInChildren(sp.Skeleton);
                    s.node.opacity = 255;
                    var r = a.getComponentInChildren(cc.Label);
                    r.node.parent.active = !1, r.node.setScale(1);
                    var d = t * n,
                        m = 0,
                        y = d * (1 / 53),
                        S = 10 + (Math.floor(t / 5) > 10 ? 10 : Math.floor(t / 5)),
                        _ = u.default.WeaponPosition(i);
                    g.default.isReverse ? _.y = i > 1 ? _.y - 140 : _.y + 240 : _.y = i > 1 ? _.y - 240 : _.y + 140;
                    var v = cc.sequence(cc.callFunc(function() {
                        r.node.parent.active = !0;
                        var e = f.default.Instance.Play("28_whale_count_6");
                        f.default.Instance.SetNextSound(e, "29_whale_count1_6")
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        m += y, r.string = p.default.NumberformatBet(m, n)
                    }), cc.delayTime(.05)), 53), cc.delayTime(1.5), cc.callFunc(function() {
                        -1 != o.CoinSound && f.default.Instance.Stop(o.CoinSound), o.CoinSound = f.default.Instance.Play(o.GetCoinSound(t))
                    }), cc.moveTo(.8, _).easing(cc.easeQuadraticActionOut()), cc.spawn(cc.repeat(cc.sequence(cc.callFunc(function() {
                        var e = 100 * (Math.random() - .5),
                            t = 100 * (Math.random() - .5);
                        o.DropCoin(a.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                    }), cc.delayTime(.05)), S), cc.fadeOut(1)), cc.callFunc(function() {
                        h.default.DespawnEffect(c.BigTreasure, a), l.PlayerManager.Instance.ModifyPlayerWinning(i, d)
                    }));
                    s.setAnimation(0, "Start", !1), s.setCompleteListener(function() {
                        s.setAnimation(0, "Open", !1), s.setCompleteListener(function() {
                            s.setCompleteListener(null)
                        }), a.runAction(v)
                    })
                }, t.prototype.BlastCoin = function(e, t) {
                    if (e.hasOwnProperty("winnings")) {
                        var n = e.winnings;
                        l.PlayerManager.BulletSync(1, n)
                    } else l.PlayerManager.BulletSync(1);
                    for (var i = l.PlayerManager.MainSeat, o = e.collect_amount, a = Math.floor(o / 50 + 1), s = u.default.WeaponPosition(i), r = function(e) {
                            var n = p.SpawnAward(c.DropCoin, t, l.PlayerManager.isMainSeat(i)),
                                a = cc.sequence(cc.moveBy(.3, cc.v2(200 * Math.random() - 100, 200 * Math.random() - 100)).easing(cc.easeOut(1)), cc.moveTo(.8, s).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
                                    0 == e && l.PlayerManager.Instance.ModifyPlayerWinning(i, o), h.default.DespawnAward(c.DropCoin, n)
                                }));
                            n.runAction(a)
                        }, p = this, d = 0; d < a; d++) r(d);
                    f.default.Instance.Play("30_whale_countend")
                }, t.prototype.posFix = function(e) {
                    this.winSize || (this.winSize = cc.v2(.5 * g.default.WinSize.width, .5 * g.default.WinSize.height));
                    var t = e;
                    return t.x > this.winSize.x - 50 ? t.x = this.winSize.x - 100 - 100 * Math.random() : t.x < 50 - this.winSize.x && (t.x = 100 - this.winSize.x + 100 * Math.random()), t.y > this.winSize.y - 50 ? t.y = this.winSize.y - 100 - 100 * Math.random() : t.y < 50 - this.winSize.y && (t.y = 100 - this.winSize.y + 100 * Math.random()), t
                }, t.prototype.GetCoinSound = function(e) {
                    return e < 10 ? "34_coinjump_a" : e < 50 ? "34_coinjump_b" : "34_coinjump_c"
                }, t.prototype.MedalAward = function(e, t, n, i, o, a) {
                    var s = null,
                        r = cc.Vec2.ZERO;
                    if (t && t.node) {
                        r = t.node.parent ? t.node.parent.convertToNodeSpaceAR(t.getFishPos()) : t.node.convertToNodeSpaceAR(t.getFishPos()), t.twitch(.5, "small" == e ? 5 : 10);
                        var h;
                        h = d.default.getFishType(t.Type) == d.FishType.KingTaco ? c.KingTacoMedal : t.Type + "M", s = this.SpawnAward(h, r, l.PlayerManager.isMainSeat(o)).getComponent(v.default);
                        var u = this.getMedalRoot(o).bindMedal(s),
                            p = null;
                        a && (p = function() {
                            l.PlayerManager.Instance.ModifyPlayerWinning(o, n, null, !0, !0)
                        }), s.Init(e, n, i, p), "small" == e ? f.default.Instance.Play("small_Awards_01") : f.default.Instance.Play("middle_Awards_01"), cc.tween(s.node).delay(1).call(function() {
                            s.node && s.node.active && (r = s.node.convertToWorldSpaceAR(cc.Vec2.ZERO), s.node.setParent(u), s.node.setPosition(u.convertToNodeSpaceAR(r)), s.node.angle = g.default.isRoofSeat(o) ? 180 : 0)
                        }).to(.8, {
                            position: cc.Vec3.ZERO
                        }, {
                            easing: "cubicIn"
                        }).call(function() {
                            s.node && s.node.active && !s.forceEnding && s.ShowScore()
                        }).start()
                    } else a && l.PlayerManager.Instance.ModifyPlayerWinning(o, n, null, !0, !0);
                    return s
                }, t.prototype.getMedalRoot = function(e) {
                    for (var t = this, n = null, i = 0; i < this.AwardList[e].length; i++)
                        for (var o = 0; o < this.AwardList[e][i].nodeList.length; o++)
                            if (n = this.AwardList[e][i].nodeList[o].getComponent(_.default)) return n.node.angle = e > 1 ? 180 : 0, n;
                    if (!n) {
                        (n = this.SpawnAward(c.MedalRoot, cc.Vec2.ZERO, l.PlayerManager.isMainSeat(e)).getComponent(_.default)).node.angle = e > 1 ? 180 : 0;
                        var a = new P([n.node], n.node.height, 0);
                        this.AwardLineUp(e, a, 0), n.recycleEvent = function() {
                            t.AwardLineOff(a, e)
                        }
                    }
                    return n
                }, t.prototype.ArmorCrabBigMedal = function(e, t, n, i, o) {
                    var a = this;
                    if (e && e.node) {
                        var s = cc.Vec2.ZERO;
                        s = e.node.parent ? e.node.parent.convertToNodeSpaceAR(e.getFishPos()) : e.node.convertToNodeSpaceAR(e.getFishPos()), e.twitch(.5, 15);
                        var r = this.SpawnAward(c.KingArmorCrabBigMedal, s, l.PlayerManager.isMainSeat(i)),
                            u = new P([r], r.height, 1);
                        this.AwardLineUp(i, u, 1);
                        var d = r.getComponentInChildren(cc.Label);
                        d.string = p.default.NumberformatBet(o ? t / 2 : t, n, !1), d.node.setScale(1);
                        var m = o ? 20 : 10,
                            y = r.getComponentInChildren(sp.Skeleton);
                        y.setAnimation(0, o ? "Award_Small_Start_big" : "Award_Small_Start", !1), y.setCompleteListener(function() {
                            y.setCompleteListener(null), y.setAnimation(0, "Award_Small_Loop", !0)
                        }), f.default.Instance.Play("29_whale_count1_6");
                        var g = null,
                            S = null;
                        if (o) {
                            S = r.getChildByName("X2");
                            var _ = t / 2,
                                v = t / 2 * (1 / 31);
                            g = cc.tween().call(function() {
                                S.active = !0, S.scale = 0, cc.tween(S).to(.1, {
                                    scale: 1.2
                                }).to(.2, {
                                    scale: 1
                                }).start(), f.default.Instance.Play("20JPBom1_1")
                            }).repeat(31, cc.tween().call(function() {
                                _ += v, d.string = p.default.NumberformatBet(_, n)
                            }).delay(.05)).call(function() {
                                d.string = p.default.NumberformatBet(t, n)
                            })
                        }
                        var b = cc.tween().call(function() {
                            S && (S.active = !1), a.AwardLineOff(u, i), y.setAnimation(0, "Award_Small_End", !1)
                        }).repeat(m, cc.tween().call(function() {
                            var e = 100 * (Math.random() - .5),
                                t = 100 * (Math.random() - .5);
                            a.DropCoin(r.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                        }).delay(.05)).call(function() {
                            h.default.DespawnEffect(c.KingArmorCrabBigMedal, r), l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                        });
                        o ? cc.tween(this).delay(3).then(g).delay(2).then(b).start() : cc.tween(this).delay(4).then(b).start()
                    }
                }, t.prototype.EternalSquidAward = function(e, t, n, i, o) {
                    var a = this;
                    e.FishDie(i, !1, null);
                    var s = i > 1 ? 270 : 90,
                        r = g.default.isRoofSeat(i) ? 270 : 90,
                        u = cc.v2(-40, 0),
                        m = this.SpawnAward(c.NormalFishNumCountUp, e.node.getPosition(), l.PlayerManager.isMainSeat(i)),
                        y = m.getComponentInChildren(cc.Label);
                    m.opacity = 0, m.setScale(1.2), y.string = p.default.NumberformatBet(t, n), m.setParent(e.node), m.setPosition(u), m.angle = r;
                    var S = new cc.Node;
                    S.setParent(e.node.parent), S.setPosition(e.node.getPosition()), e.node.setParent(S), e.node.setPosition(cc.v2(0, 0));
                    var _ = new P([S], 0, 2.5);
                    return this.AwardLineUp(i, _, 1), e.node.runAction(cc.sequence(cc.delayTime(1.2), cc.rotateTo(2.5, s).easing(cc.easeQuadraticActionOut()))), this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                        f.default.Instance.Play("41_catch_bigfish")
                    }), cc.delayTime(2), cc.callFunc(function() {
                        m.opacity = 255, y.string = "0";
                        var e = 0;
                        a.CoinSound = f.default.Instance.Play("Aladdin_count_loop_01", 1, !0), m.runAction(cc.sequence(cc.delayTime(.03), cc.callFunc(function() {
                            var n = ((e += 1) / 100 * t).toFixed(0);
                            y.string = n, 100 == e && (y.string = t.toString(), m.stopAllActions(), m.runAction(cc.sequence(cc.callFunc(function() {
                                -1 != a.CoinSound && f.default.Instance.Stop(a.CoinSound), a.CoinSound = f.default.Instance.Play("Aladdin_count_end_01")
                            }), cc.delayTime(.5), cc.callFunc(function() {
                                f.default.Instance.Play("Aladdin_number_zoom_01")
                            }), cc.delayTime(.5), cc.scaleTo(.5, 1.5), cc.scaleTo(.5, 1.2))))
                        })).repeatForever())
                    }), cc.delayTime(7), cc.callFunc(function() {
                        e.node.opacity = 0
                    }), cc.repeat(cc.sequence(cc.callFunc(function() {
                        var e = 100 * (Math.random() - .5),
                            t = 100 * (Math.random() - .5);
                        a.DropCoin(S.getPosition().sub(new cc.Vec2(e, t)), i, !1)
                    }), cc.delayTime(.05)), 60), cc.callFunc(function() {
                        e.node.opacity = 255, a.AwardLineOff(_, i), h.default.DespawnEffect(c.NormalFishNumCountUp, m), h.default.DespawnFish(d.FishType.EternalSquid, e.node), S.destroy(), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                    }))), 14
                }, t.prototype.GeneralLobsterAward = function(e, t, n, i, o) {
                    return s(this, void 0, void 0, function() {
                        var a, s, d, m, y, S, _, b, P = this;
                        return r(this, function() {
                            return a = null, s = cc.Vec2.ZERO, e && e.node ? (s = e.node.parent ? e.node.parent.convertToNodeSpaceAR(e.getFishPos()) : e.node.convertToNodeSpaceAR(e.getFishPos()), d = u.default.WeaponPosition(i), m = d.add(new cc.Vec2(0, i > 1 ? -220 : 220)), y = m.add(new cc.Vec2(0, g.default.isReverse ? 40 : -40)), (a = this.SpawnAward(c.GeneralLobsterMedal, s, l.PlayerManager.isMainSeat(i)).getComponent(v.default)).Init("middle", t, n, null), (S = h.default.SpawnTitle("MedalRootGeneralLobster", l.PlayerManager.isMainSeat(i))).angle = g.default.isReverse ? 180 : 0, S.setPosition(m), S.getChildByName("Title").scale = 0, _ = this.SpawnAward(c.NormalFishNumCountUp, e.node.getPosition(), l.PlayerManager.isMainSeat(i)), b = _.getComponentInChildren(cc.Label), _.opacity = 0, _.setScale(1.2), b.string = p.default.NumberformatBet(t, n), _.setPosition(y), _.angle = g.default.isReverse ? 180 : 0, e.FishDie(i, !1, null), cc.tween(a.node).delay(3).call(function() {
                                if (a.node && a.node.active) {
                                    var e = S;
                                    s = a.node.convertToWorldSpaceAR(cc.Vec2.ZERO), a.node.setParent(e), a.node.setPosition(e.convertToNodeSpaceAR(s)), a.node.angle = 0
                                }
                            }).to(1.5, {
                                position: cc.v3(0, 22.5, 0)
                            }, {
                                easing: "BounceIn"
                            }).call(function() {
                                S.getComponent(cc.Animation).play("SkillTitleShowUp")
                            }).delay(1).call(function() {
                                _.opacity = 255, b.string = "0";
                                var e = 0;
                                P.CoinSound = f.default.Instance.Play("Aladdin_count_loop_01", 1, !0), _.runAction(cc.sequence(cc.delayTime(.03), cc.callFunc(function() {
                                    var n = ((e += 1) / 100 * t).toFixed(0);
                                    b.string = n, 100 == e && (b.string = t.toString(), _.stopAllActions(), _.runAction(cc.sequence(cc.callFunc(function() {
                                        -1 != P.CoinSound && f.default.Instance.Stop(P.CoinSound), P.CoinSound = f.default.Instance.Play("Aladdin_count_end_01")
                                    }), cc.delayTime(.5), cc.callFunc(function() {
                                        f.default.Instance.Play("Aladdin_number_zoom_01")
                                    }), cc.delayTime(.5), cc.scaleTo(.5, 1.5), cc.scaleTo(.5, 1.2))))
                                })).repeatForever())
                            }).delay(5).call(function() {
                                S.getComponent(cc.Animation).play("SkillTitleFadeOut"), a.getComponent(cc.Animation).play("Medal_FadeOut"), h.default.DespawnEffect(c.NormalFishNumCountUp, _), o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t)
                            }).start()) : o && l.PlayerManager.Instance.ModifyPlayerWinning(i, t), [2, a]
                        })
                    })
                }, t.prototype.delay = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, new Promise(function(t) {
                                        setTimeout(function() {
                                            t(null)
                                        }, e)
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.Clear = function() {
                    this.AwardList.splice(0, this.AwardList.length), n.instance = null
                }, t.instance = null, n = a([I], t)
            }(cc.Component);
        n.default = C, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/PoolObj": "PoolObj",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseMedal": "BaseMedal",
        "./MedalRoot": "MedalRoot",
        "./SkillTitle": "SkillTitle"
    }],
    BLAZING_PHONEIX: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "fe272WASJ5PR64JoSdtGm27", "BLAZING_PHONEIX");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSpineFish"),
            l = e("../Common/AudioManager"),
            h = cc._decorator,
            u = h.ccclass,
            p = (h.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.SpineEvent = function(e, t) {
                        if (t) switch (t.data.name) {
                            case "phoenix_s":
                                l.default.Instance.Play("Phoenix_fly_01", .8);
                                break;
                            case "phoenix_b":
                                l.default.Instance.Play("Phoenix_fly_02", .8)
                        }
                    }, t
                }
                return o(t, e), t.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1180, 0), this.node.angle = -(this.o + 90), this.skeleton.timeScale = 1, this.skeleton.setEventListener(this.SpineEvent), this.skeleton.setAnimation(0, "Phoenix_L_Fly", !1), this.isFeature = !0
                }, t.prototype.PlayDieAnim = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return e.prototype.PlayDieAnim.call(this), [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.onFishDie = function() {
                    e.prototype.onFishDie.call(this), l.default.Instance.Play("Phoenix_die_02")
                }, a([u], t)
            }(c.default));
        n.default = p, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseSpineFish": "BaseSpineFish"
    }],
    BaseBackGround: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "1b48cYROf9NqakE9ksMS4Ut", "BaseBackGround");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bossEnter = !1, t
                }
                return o(t, e), t.prototype.reuse = function() {
                    e.prototype.reuse.call(this), this.bossEnter = !1
                }, t.prototype.BossEnter = function() {
                    var e = this;
                    this.bossEnter || this.ani.getClips().forEach(function(t) {
                        if ("Boss_Enter" == t.name) return e.ani.play("Boss_Enter"), void(e.bossEnter = !0)
                    })
                }, t.prototype.BossLeave = function() {}, a([c], t)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    BaseBullet: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "73317n1OttF1ZJxBBaWoATW", "BaseBullet");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./WeaponManager"),
            r = e("../Player/PlayerManager"),
            c = e("../Fish/BaseFish"),
            l = e("../Common/ResourceManager"),
            h = e("../../../../../FishCommon/Script/CanvasHandler"),
            u = cc._decorator.ccclass,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bulletSpeed = 900, t.targetPos = null, t.startPos = null, t.bulletVec = null, t.bulletID = null, t.bulletType = null, t.bulletBet = null, t.seat = null, t.canCollision = !1, t.winSide = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {}, t.prototype.update = function(e) {
                    this.BulletMove(e)
                }, t.prototype.Init = function(e, t, n, i, o) {
                    this.winSide || (this.winSide = cc.v2(.5 * h.default.WinSize.width, .5 * h.default.WinSize.height)), this.seat = t, this.bulletID = e, this.bulletType = n, this.bulletBet = o || null, this.targetPos = i, this.startPos = s.default.WeaponPosition(t), this.bulletVec = this.targetPos.sub(this.startPos), this.bulletVec.normalizeSelf(), this.node.setPosition(this.startPos.add(this.bulletVec.mul(90))), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)), this.canCollision = !0
                }, t.prototype.BulletMove = function(e) {
                    this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(this.bulletSpeed * e))), this.BulletReflection()
                }, t.prototype.BulletReflection = function() {
                    var e = !1;
                    this.node.getPosition().x > this.winSide.x ? (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.getPosition().y)), e = !0) : this.node.getPosition().x < -this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.getPosition().y)), e = !0), this.node.getPosition().y > this.winSide.y ? (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, this.winSide.y)), e = !0) : this.node.getPosition().y < -this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, -this.winSide.y)), e = !0), e && (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)))
                }, t.prototype.onCollisionEnter = function(e) {
                    if (this.canCollision) {
                        var t = e.node.getComponent(c.default);
                        if (!t)
                            for (var n = e.node.parent, i = 0; i < 5; i++)
                                if (n) {
                                    if (t = n.getComponent("BaseFish")) break;
                                    n = n.parent
                                }
                        if (t && t.CanCollisionByMainSeat(r.PlayerManager.isMainSeat(this.seat)) && !t.IsSummonIng) {
                            var o = new Array;
                            o.push(t.ID), s.default.Instance.HitFishRequest(this, o), r.PlayerManager.isMainSeat(this.seat) && t.OnHitFish(), this.canCollision = !1
                        }
                    }
                }, t.prototype.Recycle = function() {
                    this.targetPos = null, this.startPos = null, this.bulletVec = null, l.default.DespawnBullet(this.bulletType, this.node)
                }, a([u], t)
            }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Player/PlayerManager": "PlayerManager",
        "./WeaponManager": "WeaponManager"
    }],
    BaseCrab: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "be6fcuWidpMf4aw4y6zgh+r", "BaseCrab");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.spine = null, t.ANIMATION_NAME = {
                        SWIM: "SWIM",
                        READY_EXPLODE: "READY_EXPLODE",
                        FUSE: "FUSE",
                        BIGGER: "BIGGER"
                    }, t
                }
                var n;
                return o(t, e), n = t, t.prototype.onEnable = function() {
                    null == this.spine && (this.spine = this.node.getComponentInChildren(sp.Skeleton)), this.PlaySwin()
                }, t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0
                }, t.prototype.SetAnimationTimeScale = function(e) {
                    this.spine && (this.spine.timeScale = e)
                }, t.prototype.PlaySwin = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.SWIM, !0)
                }, t.prototype.PlayReadyExplode = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.READY_EXPLODE, !0)
                }, t.prototype.PlayFuse = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.FUSE, !1)
                }, t.prototype.PlayBigger = function() {
                    this.spine && this.spine.setAnimation(0, this.ANIMATION_NAME.BIGGER, !1)
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.spine.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.spine.paused = !1
                }, t.prototype.onMove = function(e) {
                    var t = e.getComponent(n);
                    e.AddSpeed(-90, 2), t.spine.timeScale = .7, this.scheduleOnce(function() {
                        t.spine.timeScale = 1.5, e.SetSpeed(200)
                    }, 2)
                }, t.prototype.onEnd = function(t) {
                    t.getComponent(n).spine.timeScale = 1, e.prototype.onEnd.call(this, t)
                }, t.prototype.RemoveSelf = function() {
                    this.spine.setEventListener(null), this.spine.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, n = a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseFish: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4db903sfG5OK6frJUYejV4h", "BaseFish");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.BEHAVIOR_TYPE = n.FishOutType = n.FishState = void 0;
        var c, l, h, u = e("../../System/FishSystem"),
            p = e("./FishManager"),
            d = e("../Weapon/WeaponManager"),
            f = e("../Common/EnumFilter"),
            m = e("../Common/ResourceManager"),
            y = e("../Player/PlayerManager"),
            g = e("../Common/AudioManager"),
            S = e("../../../../../FishCommon/Script/CanvasHandler"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property;
        (function(e) {
            e[e.IDLE = 0] = "IDLE", e[e.ALIVE = 1] = "ALIVE", e[e.OUT = 2] = "OUT", e[e.DEAD = 3] = "DEAD"
        })(c = n.FishState || (n.FishState = {})),
        function(e) {
            e[e.FISH_DEAD = 0] = "FISH_DEAD", e[e.ALIVE_TIME_OUT = 1] = "ALIVE_TIME_OUT", e[e.FISH_OUT = 2] = "FISH_OUT", e[e.FISH_PATH_FINISH = 3] = "FISH_PATH_FINISH", e[e.FISH_FORCE_LEAVE = 4] = "FISH_FORCE_LEAVE"
        }(l = n.FishOutType || (n.FishOutType = {})),
        function(e) {
            e[e.NORMAL = 0] = "NORMAL", e[e.SEEK = 1] = "SEEK", e[e.PATH = 2] = "PATH", e[e.SPINE = 3] = "SPINE", e[e.STAND = 4] = "STAND"
        }(h = n.BEHAVIOR_TYPE || (n.BEHAVIOR_TYPE = {}));
        var P = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.fishRadius = 0, t.mainCoillder = null, t.mainFishNode = null, t.shapeNode = null, t.subColliderList = null, t.id = "0000", t.type = 0, t.x = 0, t.y = 0, t.o = 0, t.feature = 0, t.canCollision = !0, t.isFeature = !1, t.isInit = !1, t.parameter = null, t.hitEffectAction = null, t.fadeEffectAcion = null, t.mAnim = null, t.reSize = 1, t.defaultAliveTime = 60, t.aliveTime = 0, t.aliveStatus = c.IDLE, t.logAliveTime = 0, t.behaviorType = 0, t.lockNode = null, t.targetPos = null, t.startPos = null, t.moveSpeed = null, t.moveTime = 0, t.syncTime = 0, t.fixedTimestep = .03, t.counter = 0, t.posArray = null, t.offsetPos = cc.Vec2.ZERO, t.freeze_time = 0, t.freeze_callFunc = null, t.AISeek = null, t.mSeek = null, t.fishPath = null, t.effect = null, t.curveSpeed = 1, t.currentSpeed = 1, t.effectTime = 0, t.effectIndex = 0, t.index = 0, t.forwardAngle = 0, t.jumpIndex = -1, t.deltaPos = null, t.preTarget = null, t.alignmentX = 0, t.alignmentY = 0, t.pathInit = !1, t.isSummon = !1, t.isSummoning = !1, t.isInScreen = !1, t.Event_FishEnter = null, t.Event_FishLeave = null, t.Event_FishInit = null, t.shapePos = null, t.twitchAct = null, t
            }
            var n;
            return o(t, e), n = t, Object.defineProperty(t.prototype, "ID", {
                get: function() {
                    return this.id
                },
                set: function(e) {
                    this.id = e
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "Type", {
                get: function() {
                    return this.type
                },
                set: function(e) {
                    this.type = e
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "Feature", {
                get: function() {
                    return this.feature
                },
                set: function(e) {
                    this.feature = e
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "AliveTime", {
                get: function() {
                    return this.defaultAliveTime
                },
                set: function(e) {
                    this.defaultAliveTime = e
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "AliveStatus", {
                get: function() {
                    return this.aliveStatus
                },
                set: function(e) {
                    this.aliveStatus = e
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "CanCollision", {
                get: function() {
                    return this.canCollision
                },
                set: function(e) {
                    this.canCollision = e
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.CanCollisionByMainSeat = function() {
                return this.canCollision
            }, t.prototype.getAliveTime = function() {
                var e = Math.floor(this.defaultAliveTime - this.logAliveTime);
                return this.logAliveTime = this.defaultAliveTime, e
            }, Object.defineProperty(t.prototype, "IsSummonIng", {
                get: function() {
                    return this.isSummoning
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "IsFeatureFish", {
                get: function() {
                    return this.isFeature
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "IsInScreen", {
                get: function() {
                    return this.isInScreen
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.onLoad = function() {
                this.mAnim = this.node.getComponent(cc.Animation), this.reSize = this.node.scale
            }, t.prototype.onEnable = function() {
                this.mAnim && this.mAnim.play("Swim")
            }, t.prototype.update = function(e) {
                if (this.aliveStatus == c.ALIVE) {
                    if (this.CheckInScreen(), this.freeze_time > 0) return this.freeze_time -= e, void(this.freeze_time <= 0 && this.ResumeBehavior());
                    switch (this.aliveTime -= e, this.aliveTime <= 0 && this.FishFadeOut(1, l.ALIVE_TIME_OUT), this.logAliveTime -= e, this.behaviorType) {
                        case h.NORMAL:
                            this.UpdateNormal(e);
                            break;
                        case h.SEEK:
                            this.UpdateSeek(e);
                            break;
                        case h.PATH:
                            if (this.counter += e, this.counter >= this.fixedTimestep) {
                                var t = Math.floor(this.counter / this.fixedTimestep);
                                this.counter = this.counter % this.fixedTimestep;
                                for (var n = 0; n < t; n++) this.UpdatePath()
                            }
                    }
                }
            }, t.prototype.Init = function(e, t, n, i, o) {
                0 == this.fishRadius && (this.fishRadius = 60), this.id = t || e[u.FishData.id], this.type = e[u.FishData.type], this.x = e[u.FishData.x], this.y = e[u.FishData.y], this.o = e[u.FishData.o], this.feature = e[u.FishData.feature], this.parameter = o, this.AISeek = p.default.Instance.ai_seek, this.InitParameter(), this.behaviorType = i || h.NORMAL, -1 != [h.NORMAL, h.SEEK].indexOf(this.behaviorType) && (this.AISeek = p.default.Instance.ai_seek)
            }, t.prototype.InitParameter = function() {
                this.canCollision = !0, this.node.stopAllActions(), this.isSummoning = !1, this.node.runAction(cc.fadeIn(.5)), this.mainFishNode && this.offsetPos.mag() > 0 && this.mainFishNode.setPosition(cc.Vec2.ZERO), this.node.scale = this.reSize, this.aliveStatus = c.ALIVE, this.aliveTime = this.defaultAliveTime, this.logAliveTime = this.defaultAliveTime, this.isInScreen = !1, this.shapeNode ? this.shapeNode.color = cc.Color.WHITE : (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.color = cc.Color.WHITE)), this.Event_FishLeave && (this.Event_FishLeave = null), this.behaviorType = h.NORMAL, this.isInit = !0, this.Event_FishInit && this.Event_FishInit(this)
            }, t.prototype.InitNormalBehavior = function(e, t) {
                void 0 === t && (t = 0), this.moveToScreenOut(), this.syncTime = t, this.getPosArray(e)
            }, t.prototype.UpdateNormal = function(e) {
                if (this.syncTime > 0 && (this.syncTime -= e), this.counter += e, this.counter >= this.fixedTimestep) {
                    if (this.posArray && this.posArray.length > 0) {
                        var t = this.posArray.pop();
                        t && this.node.setPosition(t), this.syncTime > 0 && this.posArray.length > 0 && (t = this.posArray.pop()) && this.node.setPosition(t)
                    }
                    this.posArray && this.posArray.length <= 0 && this.FishOut(), this.counter = 0
                }
            }, t.prototype.moveToScreenOut = function() {
                var e = cc.v2(S.default.WinSize.width, S.default.WinSize.height);
                this.x -= 45, this.y -= 45, this.y *= -1, this.o += 90;
                for (var t = .004 * e.x * this.x, n = .004 * e.y * this.y, i = Math.tan(-cc.misc.degreesToRadians(this.o)), o = -i * t + n, a = f.default.NormalPathBound(this.type), s = .5 * -e.x - a, r = .5 * e.x + a, c = .5 * e.y + a, l = .5 * -e.y - a, h = [cc.v2(s, i * s + o), cc.v2((o - l) / -i, l), cc.v2(r, i * r + o), cc.v2((o - c) / -i, c)], u = [0, 1], p = [cc.v2(cc.Vec2.ZERO.sub(h[0])).mag(), cc.v2(cc.Vec2.ZERO.sub(h[1])).mag()], d = 1; d < h.length; d++) {
                    var m = cc.v2(cc.Vec2.ZERO.sub(h[d])).mag();
                    m <= p[0] ? (p[1] = p[0], p[0] = m, u[1] = u[0], u[0] = d) : m <= p[1] && (p[1] = m, u[1] = d)
                }
                var y = h[u[0]].y,
                    g = h[u[1]].y;
                this.o > 180 && this.o < 360 ? y < g ? (this.startPos = h[u[0]], this.targetPos = h[u[1]]) : (this.startPos = h[u[1]], this.targetPos = h[u[0]]) : y < g ? (this.startPos = h[u[1]], this.targetPos = h[u[0]]) : (this.startPos = h[u[0]], this.targetPos = h[u[1]])
            }, t.prototype.InitSeek = function(e, t, n) {
                if (this.behaviorType = h.SEEK, this.AISeek) {
                    t = t || this.o % this.AISeek.GetPathCount(e);
                    var i = this.getOffset(this.o % 4);
                    this.AISeek.SetSeek(e, t, this.node, this.id, this.o, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                }
            }, t.prototype.UpdateSeek = function(e) {
                this.aliveStatus == c.ALIVE && this.mSeek && this.mSeek.Update(e)
            }, t.prototype.onStart = function(e) {
                if (e) {
                    var t = e.getComponent(n);
                    t && null == t.mSeek && (t.mSeek = e)
                }
            }, t.prototype.onMove = function() {}, t.prototype.onEnd = function(e) {
                e && e.getComponent(n).FishOut(l.FISH_PATH_FINISH)
            }, t.prototype.getOffset = function(e) {
                var t = cc.Vec2.ONE;
                return 1 == e ? t = new cc.Vec2(1, -1) : 2 == e ? t = new cc.Vec2(-1, -1) : 3 == e && (t = new cc.Vec2(-1, 1)), t
            }, t.prototype.StopAction = function() {
                this.ResumeBehavior(), this.mSeek && this.mSeek.onDead()
            }, t.prototype.InitPath = function(e, t, n, i, o, a, l, u, p, d) {
                return void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === l && (l = 0), void 0 === u && (u = 0), void 0 === p && (p = 0), void 0 === d && (d = 0), s(this, void 0, void 0, function() {
                    var s, f, m;
                    return r(this, function() {
                        if (this.behaviorType = h.PATH, this.id = e, this.type = t, this.fishPath = n, this.effect = n.effect, this.index = 0, this.node.setPosition(cc.v2(-999, -999)), this.canCollision = !0, this.node.runAction(cc.fadeIn(.5)), this.node.scale = this.reSize, this.aliveStatus = c.ALIVE, this.isInit = !0, this.shapeNode ? this.shapeNode.color = cc.Color.WHITE : (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.color = cc.Color.WHITE)), this.Event_FishInit && this.Event_FishInit(this), this.aliveTime = 9999, s = Math.ceil(i - d), f = !1, s < 0 && (f = !0), this.effectIndex = 0, this.effectTime = 0, this.curveSpeed = n.curveSpeed, this.currentSpeed = this.curveSpeed, this.forwardAngle = 0, this.x = l, this.y = u, this.o = p, this.index = 0, this.deltaPos = cc.Vec2.ZERO, this.alignmentX = o, this.alignmentY = a, this.preTarget = this.node.getPosition(), this.pathInit = !0, f)
                            for (m = 0; m < -s / .03334; m++) this.UpdatePath();
                        return [2]
                    })
                })
            }, t.prototype.UpdatePath = function() {
                switch (this.aliveStatus) {
                    case c.IDLE:
                        break;
                    case c.ALIVE:
                        this.pathInit && this.MoveAlongPath()
                }
            }, t.prototype.delay = function(e) {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return [2, new Promise(function(t) {
                            return setTimeout(t, e)
                        })]
                    })
                })
            }, t.prototype.MoveAlongPath = function() {
                if (this.effectTime <= 0) {
                    for (var e = 0; e < this.currentSpeed; e++) {
                        if (null != this.effect && this.effectIndex < this.effect.length && this.effect[this.effectIndex].index == this.index) {
                            this.forwardAngle = this.effect[this.effectIndex].angle, this.effectTime = this.effect[this.effectIndex].time, this.jumpIndex = this.effect[this.effectIndex].jumpIndex;
                            var t = this.effect[this.effectIndex].eventName;
                            this.DoPathEventDelegate(t), this.effectIndex++
                        }
                        this.index++
                    }
                    if (this.jumpIndex > 0 && (this.index = this.jumpIndex, this.jumpIndex = -1), this.index < this.fishPath.path.length) {
                        var n = cc.Vec2.ZERO;
                        if (0 == this.o) n = cc.v2(this.fishPath.path[this.index].x, this.fishPath.path[this.index].y);
                        else {
                            var i = cc.v2(this.fishPath.path[this.index].x, this.fishPath.path[this.index].y);
                            i.subSelf(cc.v2(this.fishPath.path[0].x, this.fishPath.path[0].y));
                            var o = i.x,
                                a = i.y;
                            i.x = Math.cos(this.o * Math.PI / 180) * o - Math.sin(this.o * Math.PI / 180) * a + this.fishPath.path[0].x, i.y = Math.sin(this.o * Math.PI / 180) * o + Math.cos(this.o * Math.PI / 180) * a + this.fishPath.path[0].y, n = i
                        }
                        var s = cc.v2(n.sub(this.preTarget)),
                            r = cc.misc.radiansToDegrees(Math.atan2(s.y, s.x)) + this.forwardAngle;
                        this.node.angle = r, 0 != this.alignmentX || 0 != this.alignmentY ? (1 == this.index && (this.deltaPos = cc.v2(n.x + this.alignmentX, this.alignmentY + n.y)), n = cc.v2(this.deltaPos.sub(n)), r = cc.misc.radiansToDegrees(Math.atan2(n.y - this.preTarget.y, n.x - this.preTarget.x)), this.node.angle = r, this.node.setPosition(cc.v2(n))) : (n.addSelf(cc.v2(this.x, this.y)), this.node.setPosition(n.add(cc.v2(this.alignmentX, this.alignmentY)))), this.preTarget = cc.v2(n.x, n.y)
                    } else this.FishOut(l.FISH_PATH_FINISH)
                } else this.effectTime -= .03334
            }, t.prototype.DoPathEventDelegate = function(e) {
                switch (e) {
                    case "CATCH":
                        this.PlayDieAnim()
                }
            }, t.prototype.InitSummonBehavior = function() {
                var e = this,
                    t = this.y / this.x,
                    n = -t * this.x + this.y,
                    i = -cc.misc.radiansToDegrees(Math.atan2(-this.y, -this.x)),
                    o = this.getBoundPos(t, n);
                this.startPos = cc.v2(this.x, this.y), o.forEach(function(t) {
                    Math.floor(i) === Math.floor(-cc.misc.radiansToDegrees(Math.atan2(t.y, t.x))) && (e.targetPos = t)
                }), this.getPosArray(), this.node.setScale(0), this.isSummoning = !0, this.node.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                    e.isSummoning = !1
                })))
            }, t.prototype.getBoundPos = function(e, t) {
                var n = cc.v2(S.default.WinSize.width, S.default.WinSize.height),
                    i = f.default.NormalPathBound(18);
                return [cc.v2(.5 * -n.x - i, e * (.5 * -n.x - i) + t), cc.v2((t - (.5 * -n.y - i)) / -e, .5 * -n.y - i), cc.v2(.5 * n.x + i, e * (.5 * n.x + i) + t), cc.v2((t - (.5 * n.y + i)) / -e, .5 * n.y + i)]
            }, t.prototype.getPosArray = function(e) {
                this.isSummon = !e;
                var t = e || "" + this.type;
                this.moveSpeed = this.AISeek.GetMaxSpeed(t) || 140;
                var n = cc.v2(this.targetPos.sub(this.startPos));
                if (this.node.setPosition(this.startPos), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(n.y, n.x)), this.moveTime = n.mag() / this.moveSpeed, this.moveTime >= 35) this.FishOut();
                else {
                    var i = Math.floor(this.moveTime / this.fixedTimestep),
                        o = n.x / i,
                        a = n.y / i;
                    this.posArray = new Array(i);
                    for (var s = 1; s <= i; s++) this.posArray[i - s] = cc.v2(this.startPos.x + o * s, this.startPos.y + a * s)
                }
            }, t.prototype.OnHitFish = function() {
                (this.shapeNode || (this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode)) && (this.hitEffectAction && (this.hitEffectAction.isDone || (this.shapeNode.stopAction(this.hitEffectAction), this.hitEffectAction = null, this.shapeNode.color = cc.Color.WHITE)), this.hitEffectAction = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.shapeNode.runAction(this.hitEffectAction))
            }, t.prototype.FishRunOut = function(e) {
                var t = this;
                if (this.behaviorType == h.NORMAL) {
                    var n = Math.floor(e / .01);
                    this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                        t.UpdateNormal(.03)
                    }), cc.delayTime(.01)), n))
                }
            }, t.prototype.FishFadeOut = function(e, t) {
                var n = this;
                void 0 === e && (e = .5), this.aliveStatus == c.ALIVE && (this.canCollision = !1, this.fadeEffectAcion = this.node.runAction(cc.sequence(cc.fadeOut(e), cc.callFunc(function() {
                    n.FishOut(t)
                }))))
            }, t.prototype.FishOut = function(e) {
                this.AliveStatus == c.ALIVE && (this.aliveStatus = c.OUT, this.StopAction(), p.default.Instance.FishOut(this.id), this.RemoveSelf(), this.Event_FishLeave && this.Event_FishLeave(this, e))
            }, t.prototype.PauseBehavior = function(e, t) {
                this.freeze_time = e, t && (this.freeze_callFunc = t), this.mAnim && this.mAnim.pause();
                try {
                    this.mSeek && this.mSeek.Pause()
                } catch (n) {
                    cc.error(n), cc.error(this.mSeek)
                }
            }, t.prototype.ResumeBehavior = function() {
                this.mAnim && this.mAnim.resume(), this.mSeek && this.mSeek.Resume(), this.freeze_callFunc && this.freeze_callFunc(this), this.freeze_callFunc = null
            }, t.prototype.FishDie = function(e, t, n) {
                return void 0 === t && (t = !0), s(this, void 0, void 0, function() {
                    var i = this;
                    return r(this, function() {
                        if (this.aliveStatus = c.DEAD, this.canCollision = !1, this.isInit = !1, this.hitEffectAction && (this.shapeNode.stopAction(this.hitEffectAction), this.shapeNode.color = cc.Color.WHITE), this.fadeEffectAcion && (this.node.stopAction(this.fadeEffectAcion), this.fadeEffectAcion = null, this.node.opacity = 255), this.Event_FishLeave && this.Event_FishLeave(this, 6), !this.node || !this.node.active) return [2];
                        switch (this.StopAction(), f.default.getFishType(this.type)) {
                            case f.FishType.Double:
                                this.MovingFish(e, this.node.getPosition(), t), this.mAnim && this.mAnim.play("Die"), g.default.Instance.Play("bomb_ex01_random"), n && 1 == n.AllTypeNormal && this.node.runAction(cc.sequence(cc.spawn(cc.rotateBy(2, 720), cc.repeat(cc.scaleBy(.2, .9), 5), cc.fadeOut(1)), cc.delayTime(3), cc.callFunc(function() {
                                    i.RemoveSelf()
                                })));
                                break;
                            case f.FishType.Normal:
                                this.MovingFish(e, this.node.getPosition(), t), this.node.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.rotateBy(2, 720), cc.repeat(cc.scaleBy(.2, .9), 5), cc.fadeOut(1)), cc.delayTime(2.6), cc.callFunc(function() {
                                    i.RemoveSelf()
                                })))
                        }
                        return this.ShakeCoinEffect(e, f.default.needShakeEffect(this.type)), this.onFishDie(), [2]
                    })
                })
            }, t.prototype.onFishDie = function() {}, t.prototype.MovingFish = function(e, t, n) {
                if (n) {
                    var i = d.default.WeaponPosition(e),
                        o = cc.v2(this.node.getPosition().sub(i));
                    o.normalizeSelf(), this.node.runAction(cc.moveTo(.1, t.add(new cc.Vec2(o.x, o.y).mul(50))))
                }
            }, t.prototype.RemoveSelf = function() {
                this.Event_FishEnter = null, this.Event_FishLeave = null, this.Event_FishInit = null, this.isInit = !1, this.isInScreen = !1, this.node && this.node.stopAllActions(), this.mAnim && this.mAnim.stop(), this.parameter = null, this.posArray = null, this.targetPos = null, this.startPos = null, this.moveSpeed = null, this.effectIndex = 0, this.effectTime = 0, this.forwardAngle = 0, this.behaviorType = 0, this.fishPath = null, this.effect = null, this.pathInit = !1, p.default.Instance.RemoveFishByID(this.id), m.default.DespawnFish(this.Type, this.node), this.enabled = !1, this.AISeek = null, this.mSeek = null
            }, t.prototype.PlayDieAnim = function() {
                this.mAnim && this.mAnim.play("Die")
            }, t.prototype.CheckInScreen = function() {
                if (this.isInit) {
                    var e = this.FishInScreen();
                    e != this.isInScreen && (this.isInScreen = e, e ? this.GetLockLinkPoint(S.default.Instance.node.getPosition()) ? this.Event_FishEnter && this.Event_FishEnter(this) : this.isInScreen = !1 : this.Event_FishLeave && this.Event_FishLeave(this, 7))
                }
            }, t.prototype.FishInScreen = function() {
                var e = S.default.WinSize,
                    t = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                    n = t.x + this.fishRadius > 0 && t.x - this.fishRadius < e.width,
                    i = t.y + this.fishRadius > 0 && t.y - this.fishRadius < e.height;
                return n && i
            }, t.prototype.PointInColliderRange = function(e) {
                if (this.mainCoillder && (n = this.mainCoillder.getComponent(cc.CircleCollider)) && this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO).sub(e).mag() <= n.radius) return !0;
                this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider));
                for (var t = 0; t < this.subColliderList.length; t++) {
                    var n;
                    if ((n = this.subColliderList[t]) && this.subColliderList[t].node.convertToWorldSpaceAR(cc.Vec2.ZERO).sub(e).mag() <= n.radius) return !0
                }
                return !1
            }, t.prototype.GetLockLinkPoint = function(e, t) {
                if (!this.node || !this.node.active || !this.isInScreen) return null;
                var n = this.isLockInScreen(this.mainCoillder);
                if (n) return t && t(this.mainCoillder), n;
                if (n = this.isLockInScreen(this.lockNode)) return t && t(this.lockNode), n;
                if (this.lockNode = null, this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.length <= 0) return t && t(this.node), this.node.getPosition();
                for (var i = Number.MAX_VALUE, o = 0; o < this.subColliderList.length; o++) {
                    var a = this.isLockInScreen(this.subColliderList[o].node);
                    if (a) {
                        var s = e.sub(a).mag();
                        s < i && (i = s, n = a, this.lockNode = this.subColliderList[o].node)
                    }
                }
                return t && t(this.lockNode), n
            }, t.prototype.isLockInScreen = function(e) {
                if (e) {
                    var t;
                    if ((t = this.isSummon && this.mainFishNode ? this.mainFishNode.convertToWorldSpaceAR(e.getPosition()) : e.parent.convertToWorldSpaceAR(e.getPosition())).x >= 0 && t.x < S.default.WinSize.width - 0 && t.y >= 0 && t.y < S.default.WinSize.height - 0) return t
                }
                return null
            }, t.prototype.GetFishScore = function(e) {
                return p.default.Instance.fish_info[this.type].odds ? p.default.Instance.fish_info[this.type].odds * e : (cc.error("Fish Type:" + this.type.toString() + ", No odds in fish_info."), 0)
            }, Object.defineProperty(t.prototype, "Odds", {
                get: function() {
                    return p.default.Instance.fish_info[this.type].odds ? p.default.Instance.fish_info[this.type].odds : (cc.error("Fish Type:" + this.type.toString() + ", No odds in fish_info."), 0)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "Double", {
                get: function() {
                    return p.default.Instance.fish_info[this.type].double ? p.default.Instance.fish_info[this.type].double : (cc.error("Fish Type:" + this.type.toString() + ", No double in fish_info."), 0)
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.CoinEffect = function(e) {
                void 0 === e && (e = 1.5), this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.forEach(function(t) {
                    var n = m.default.SpawnEffect("CoinBlast"),
                        i = t,
                        o = null;
                    n && (n.scale = i.radius / 90 * e, o = t.node.convertToWorldSpaceAR(cc.Vec2.ZERO), n.setPosition(n.parent.convertToNodeSpaceAR(o)))
                })
            }, t.prototype.ShakeCoinEffect = function(e, t) {
                if (void 0 === t && (t = 1), !(t <= 0)) {
                    y.PlayerManager.isMainSeat(e) && S.default.CameraShakeEffect(.25, 6 * t, .1);
                    var n = m.default.SpawnEffect("DFB");
                    n && (n.setPosition(this.node.getPosition()), n.setScale(t))
                }
            }, t.prototype.getFishPos = function() {
                return this.mainCoillder ? this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO) : this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)
            }, t.prototype.SetShapeColor = function(e) {
                this.shapeNode ? this.shapeNode.color = e : cc.error("Shape null", this.type)
            }, t.prototype.twitch = function(e, t) {
                void 0 === t && (t = 5), this.twitchAct && (this.twitchAct = null, this.shapeNode.stopAction(this.twitchAct), this.shapeNode.setPosition(this.shapePos)), this.shapePos = this.shapeNode.getPosition();
                var n = e / .1;
                this.twitchAct = cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.05, cc.v2(t, t)), cc.moveBy(.05, cc.v2(-t, -t))), n), cc.moveTo(.05, this.shapePos)), this.shapeNode.runAction(this.twitchAct)
            }, t.prototype.SetSyncTime = function(e) {
                this.syncTime = e
            }, t.prototype.setExdata = function() {}, t.prototype.changeLevel = function() {}, Object.defineProperty(t.prototype, "oddsRootPos", {
                get: function() {},
                enumerable: !1,
                configurable: !0
            }), a([b(cc.Integer)], t.prototype, "fishRadius", void 0), a([b(cc.Node)], t.prototype, "mainCoillder", void 0), a([b(cc.Node)], t.prototype, "mainFishNode", void 0), n = a([v], t)
        }(cc.Component);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/FishSystem": "FishSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./FishManager": "FishManager"
    }],
    BaseFlashFish: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a80bbc2DktI3Z5nqrfQnpXj", "BaseFlashFish");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.flashAnim = null, t
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0, this.switchFlashEffect(!0)
                }, t.prototype.switchFlashEffect = function(e) {
                    this.flashAnim && (this.flashAnim.node.active = e, e ? this.flashAnim.play() : this.flashAnim.stop())
                }, t.prototype.RemoveSelf = function() {
                    this.node && this.flashAnim && this.flashAnim.stop(), e.prototype.RemoveSelf.call(this)
                }, a([l(cc.Animation)], t.prototype, "flashAnim", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseMedal: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ee5e2NgmEhHbYo+L0LanqcI", "BaseMedal");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = e("../Common/Utility"),
            c = e("../Common/ResourceManager"),
            l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.scoreLabel = null, t.medalType = null, t.addBalanceEvent = null, t.forceEnding = !1, t.win = 0, t.bet = 0, t.numNode = null, t
                }
                return o(t, e), t.prototype.Init = function(e, t, n, i) {
                    this.scoreLabel.string = " ", this.win = t, this.bet = n, this.medalType = e, this.ani.play("Jew_" + this.medalType), this.forceEnding = !1, this.addBalanceEvent = i, this.numNode && (cc.error("ERROR numnode"), c.default.DespawnEffect("MedalNumber", this.numNode)), this.numNode = null, this.numNode = c.default.SpawnEffect("MedalNumber", !0), this.numNode.active = !1
                }, t.prototype.update = function() {
                    var e = this.node.convertToWorldSpaceAR(cc.v2(0, 0));
                    e = e.add(cc.v2(0, -44.2)), this.numNode.setPosition(this.numNode.parent.convertToNodeSpaceAR(e))
                }, t.prototype.ShowScore = function() {
                    if (!this.forceEnding) {
                        this.ani.play("Medal_" + this.medalType), this.numNode.active = !0, this.numNode.getComponent(cc.Label).string = r.default.NumberformatBet(this.win, this.bet, !1);
                        var e = this.node.convertToWorldSpaceAR(cc.v2(0, 0));
                        e = e.add(cc.v2(0, -44.2)), this.numNode.angle = l.default.isReverse ? 180 : 0, this.numNode.setPosition(this.numNode.parent.convertToNodeSpaceAR(e))
                    }
                }, t.prototype.ForceEnd = function() {
                    0 == this.forceEnding ? (this.ani.play("Medal_End"), this.forceEnding = !0) : cc.error("ForceEnd fail")
                }, t.prototype.Recycle = function() {
                    cc.Tween.stopAllByTarget(this.node), null != this.numNode && c.default.DespawnEffect("MedalNumber", this.numNode), this.numNode = null, this.addBalanceEvent && (this.addBalanceEvent(), this.addBalanceEvent = null), e.prototype.Recycle.call(this)
                }, a([p(cc.Label)], t.prototype, "scoreLabel", void 0), a([u], t)
            }(s.default);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility"
    }],
    BaseSkillAward: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "eafa7T3mhtFBY/bMt5N0/A0", "BaseSkillAward");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/ResourceManager"),
            r = e("../Common/Utility"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.awardAnim = null, t.winText = null, t.currentWin = 0, t.targetWin = 0, t.step = 0, t.resource_type = "", t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.currentWin = e, this.SetWinText(e), this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonShow")
                }, t.prototype.Hide = function() {
                    this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonHide")
                }, t.prototype.SetWinText = function(e, t, n, i) {
                    var o = this;
                    if (void 0 === n && (n = 3), this.winText)
                        if (this.currentWin = e, e != (t = null == t ? e : t)) {
                            this.node.stopAllActions();
                            var a = Math.pow(10, n - 1);
                            this.step = Math.abs(e - t) / a, this.node.runAction(cc.sequence(cc.repeat(cc.spawn(cc.callFunc(function() {
                                o.currentWin += a, o.winText.string = r.default.NormalitionFloat(o.currentWin).toString()
                            }), cc.delayTime(.02)), this.step), cc.callFunc(function() {
                                o.winText.string = r.default.NormalitionFloat(t).toString()
                            }), cc.delayTime(1), cc.callFunc(function() {
                                o.currentWin = 0, o.targetWin = 0, i && i()
                            })))
                        } else this.winText.string = r.default.NormalitionFloat(e).toString(), i && i()
                }, t.prototype.OnShowAnimEnd = function() {
                    this.awardAnim && this.awardAnim.play("SkillAwardAnim_CommonIdel")
                }, t.prototype.OnHideAnimEnd = function() {
                    this.awardAnim && this.awardAnim.stop(), s.default.DespawnAward(this.resource_type, this.node)
                }, a([h(cc.Animation)], t.prototype, "awardAnim", void 0), a([h(cc.Label)], t.prototype, "winText", void 0), a([h(cc.String)], t.prototype, "resource_type", void 0), a([l], t)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility"
    }],
    BaseSkillOddsUI: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c3ffcc3O5BNdZAo36ag8eGW", "BaseSkillOddsUI");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../../FishCommon/Script/CanvasHandler"),
            r = e("../Common/PoolObj"),
            c = e("../Fish/BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.label = null, t.labelSize = [], t.frame = null, t.frameScale = [], t.levelOdds = [], t.targetOdds = 0, t.nowOdds = 0, t.tempLevel = 0, t.fish = null, t.step = 0, t.isSkill = !1, t
                }
                return o(t, e), t.prototype.update = function(e) {
                    if (!this.isSkill)
                        if (this.fish && this.fish.AliveStatus == c.FishState.ALIVE) {
                            var t = this.node.parent.convertToNodeSpaceAR(this.fish.oddsRootPos);
                            this.node.setPosition(t), this.step += e, this.step > .1 && this.targetOdds > this.nowOdds && (this.nowOdds++, this.label.string = "X" + this.nowOdds.toString(), this.changeLevel())
                        } else this.node.setPosition(cc.Vec2.ONE.mul(5e3))
                }, t.prototype.bindFish = function(e) {
                    var t = this;
                    this.isSkill = !1, this.fish = e, this.nowOdds = this.targetOdds, this.tempLevel = 0, this.changeLevel(), this.frame.scale = this.frameScale[0], this.label.fontSize = this.labelSize[0], this.label.string = "X" + this.nowOdds.toString(), this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(1), cc.callFunc(function() {
                        t.node.opacity = 255
                    }))), this.node.angle = s.default.isReverse ? 180 : 0
                }, t.prototype.setTargetNumber = function(e) {
                    this.targetOdds = e
                }, t.prototype.SkillInit = function(e, t) {
                    var n = this;
                    void 0 === t && (t = !0), this.isSkill = !0, this.frame.scale = this.frameScale[1], this.label.fontSize = this.labelSize[1], this.label.string = "X" + e.toString(), this.node.opacity = 0, t && this.node.runAction(cc.sequence(cc.delayTime(.5), cc.fadeIn(1), cc.callFunc(function() {
                        n.node.opacity = 255
                    })))
                }, t.prototype.Hide = function(e, t) {
                    var n = this;
                    void 0 === e && (e = !0), void 0 === t && (t = !0), e ? this.node.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        n.node.opacity = 0, t && n.Recycle()
                    }))) : (this.node.opacity = 0, t && this.Recycle())
                }, t.prototype.changeLevel = function() {
                    if (this.fish)
                        if (this.nowOdds >= this.levelOdds[1]) {
                            if (3 == this.tempLevel) return;
                            this.fish.changeLevel(3), this.ani.play("Odds_LV3"), this.tempLevel = 3
                        } else if (this.nowOdds >= this.levelOdds[0]) {
                        if (2 == this.tempLevel) return;
                        this.fish.changeLevel(2), this.ani.play("Odds_LV2"), this.tempLevel = 2
                    } else {
                        if (1 == this.tempLevel) return;
                        this.fish.changeLevel(1), this.ani.play("Odds_LV1"), this.tempLevel = 1
                    }
                }, a([u(cc.Label)], t.prototype, "label", void 0), a([u([cc.Integer])], t.prototype, "labelSize", void 0), a([u(cc.Node)], t.prototype, "frame", void 0), a([u([cc.Float])], t.prototype, "frameScale", void 0), a([u([cc.Integer])], t.prototype, "levelOdds", void 0), a([h], t)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Fish/BaseFish": "BaseFish"
    }],
    BaseSkillScoreUI: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4ccedvDPuhFnLUUIeKtN8OK", "BaseSkillScoreUI");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = e("../Common/Utility"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.scoreText = null, t.Bet = .1, t.CountingAct = null, t.ShowingScore = 0, t.TargetScore = 0, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    var t = this;
                    this.Bet = e, this.SetScore(0, 0);
                    var n = this.getComponent(cc.Animation);
                    n && n.stop(), this.node.active = !0, this.node.opacity = 0, this.node.runAction(cc.sequence(cc.fadeIn(.5), cc.callFunc(function() {
                        t.node.opacity = 255, n && n.play()
                    })))
                }, t.prototype.Hide = function(e) {
                    var t = this;
                    this.scoreText && (this.CountingAct && (this.scoreText.node.stopAction(this.CountingAct), this.CountingAct = null), this.ShowingScore = this.TargetScore, this.scoreText.string = r.default.NumberformatBet(this.ShowingScore, this.Bet)), e ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                        t.Recycle()
                    }))) : this.Recycle()
                }, t.prototype.SetScore = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = 3), this.TargetScore = e, this.scoreText)
                        if (this.CountingAct && (this.scoreText.node.stopAction(this.CountingAct), this.CountingAct = null), t > 0) {
                            var i = t / .05,
                                o = (e - this.ShowingScore) / i;
                            this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                                n.ShowingScore += o, n.scoreText.string = r.default.NumberformatBet(n.ShowingScore, n.Bet)
                            }), cc.delayTime(.05)), i), this.scoreText.node.runAction(this.CountingAct)
                        } else this.ShowingScore = e, this.scoreText.string = r.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, a([h(cc.Label)], t.prototype, "scoreText", void 0), a([l], t)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility"
    }],
    BaseSkillTitleUI: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "132a3/UrklFvaaQWW0kPRXD", "BaseSkillTitleUI");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../../FishCommon/Script/CanvasHandler"),
            r = e("../Common/AudioManager"),
            c = e("../Common/PoolObj"),
            l = e("../Common/Utility"),
            h = e("../Weapon/WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.ScoreLabel = null, t.ScoreFont = [], t.BetLabel = null, t.ReverseOffset = -200, t.AddScoreLabel = null, t.Bet = 0, t.Seat = null, t.isScoreShowing = !1, t.ShowingScore = 0, t.CountingAct = null, t
                }
                return o(t, e), t.prototype.Init = function(e, t, n) {
                    void 0 === n && (n = null), this.Bet = e, this.Seat = t;
                    var i = h.default.WeaponUIPosition(this.Seat);
                    (s.default.isReverse && t < 2 || !s.default.isReverse && t > 1) && i.addSelf(cc.Vec2.UP.mul(this.ReverseOffset)), n ? (this.node.setPosition(n), cc.tween(this.node).to(2.5, {
                        position: cc.v3(i)
                    }, {
                        easing: "backInOut"
                    }).start()) : this.node.setPosition(i), this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, e), this.BetLabel && (this.BetLabel.string = l.default.NumberformatBet(e, e)), this.ani && this.ani.play("TitleShowUp")
                }, t.prototype.SetScore = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = 1.05), this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), t > 0) {
                        var i = t / .05,
                            o = (e - this.ShowingScore) / i;
                        this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                            n.ShowingScore += o, n.ScoreLabel.string = l.default.NumberformatBet(n.ShowingScore, n.Bet)
                        }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                    } else this.ShowingScore = e, this.ScoreLabel.string = l.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, t.prototype.ShowScore = function(e, t) {
                    void 0 === t && (t = !0), this.isScoreShowing || (this.ShowingScore = e, this.ScoreLabel.string = l.default.NumberformatBet(e, this.Bet), this.ScoreFont.length > 1 && (this.ScoreLabel.font = this.ScoreFont[1]), this.ani && (this.ani.play(t ? "TitleBigWin" : "TitleYouWin"), r.default.Instance.Play(t ? "Buffalo_win_02" : "Buffalo_win_01")), (s.default.isReverse && this.Seat < 2 || !s.default.isReverse && this.Seat > 1) && this.node.runAction(cc.moveBy(1, cc.Vec2.UP.mul(t ? -100 : -60))), this.isScoreShowing = !0)
                }, t.prototype.AddScore = function(e) {
                    var t = this;
                    this.AddScoreLabel && (this.AddScoreLabel.string = "+" + e, cc.tween(this.AddScoreLabel.node).by(.5, {
                        position: cc.Vec3.UP.mul(20),
                        scale: .5,
                        opacity: 255
                    }).by(.5, {
                        position: cc.Vec3.UP.mul(-20),
                        scale: -.5
                    }).call(function() {
                        var n = t.ShowingScore + e;
                        t.SetScore(n, 1.5)
                    }).delay(1).to(.5, {
                        opacity: 0
                    }).start())
                }, t.prototype.Hide = function(e) {
                    void 0 === e && (e = !0), e ? this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(this.Recycle.bind(this)))) : this.Recycle()
                }, t.prototype.Recycle = function() {
                    this.ScoreLabel.string = "0", this.ScoreFont.length > 0 && (this.ScoreLabel.font = this.ScoreFont[0]), this.isScoreShowing = !1, this.ShowingScore = 0, this.node.opacity = 255, e.prototype.Recycle.call(this)
                }, a([d(cc.Label)], t.prototype, "ScoreLabel", void 0), a([d([cc.Font])], t.prototype, "ScoreFont", void 0), a([d(cc.Label)], t.prototype, "BetLabel", void 0), a([d(cc.Integer)], t.prototype, "ReverseOffset", void 0), a([d(cc.Label)], t.prototype, "AddScoreLabel", void 0), a([p], t)
            }(c.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/Utility": "Utility",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    BaseSkill: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "d0b79jH4mpEZorzqh1QLADX", "BaseSkill");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.skillEnum = void 0;
        var c, l = e("../Common/PoolObj"),
            h = e("../Player/PlayerManager"),
            u = e("../Fish/FishManager"),
            p = e("../Common/ResourceManager"),
            d = e("../Weapon/WeaponManager"),
            f = e("../../GameClient"),
            m = e("../Common/AudioManager"),
            y = e("../Award/SkillTitle"),
            g = e("../../../../../FishCommon/Script/CanvasHandler"),
            S = e("./BaseSkillScoreUI");
        (function(e) {
            e[e.None = -1] = "None", e[e.Lock = 30001] = "Lock", e[e.LockLv2 = 300012] = "LockLv2", e[e.LockLv3 = 300013] = "LockLv3", e[e.TigerWeapon = 36001] = "TigerWeapon", e[e.DragonWeapon = 37001] = "DragonWeapon", e[e.Freeze = 30011] = "Freeze", e[e.Summon = 30021] = "Summon", e[e.Laser = 30031] = "Laser", e[e.Bombing = 30041] = "Bombing", e[e.Rocket = 30051] = "Rocket", e[e.Wind = 10005] = "Wind", e[e.Flash = 10006] = "Flash", e[e.Electric = 10007] = "Electric", e[e.Drill = 10008] = "Drill", e[e.Bomb = 10009] = "Bomb", e[e.MultiBomb = 10010] = "MultiBomb", e[e.FlameStorm = 10011] = "FlameStorm", e[e.Wheel = 10012] = "Wheel", e[e.ThunderDragon = 10013] = "ThunderDragon", e[e.AwakenKingSpiderCrab = 10014] = "AwakenKingSpiderCrab", e[e.AwakenKingAnglerFish = 10015] = "AwakenKingAnglerFish", e[e.AwakenKingTaco = 10016] = "AwakenKingTaco", e[e.AwakenKingLacoste = 10017] = "AwakenKingLacoste", e[e.AwakenMermaid = 10020] = "AwakenMermaid", e[e.AwakenPhoenix = 10021] = "AwakenPhoenix", e[e.Hammer = 10022] = "Hammer", e[e.Buffalo = 10023] = "Buffalo", e[e.Patrick = 10024] = "Patrick", e[e.KingKong = 10025] = "KingKong", e[e.RockSkull = 10026] = "RockSkull", e[e.Vampire = 10027] = "Vampire", e[e.Buddha = 10028] = "Buddha", e[e.DragonTurtle = 10029] = "DragonTurtle", e[e.LionDance = 10030] = "LionDance", e[e.RedDragon = 10031] = "RedDragon", e[e.Submarine = 10032] = "Submarine", e[e.LuckyCat = 10033] = "LuckyCat", e[e.Clown = 10034] = "Clown", e[e.Pig = 10035] = "Pig", e[e.Tiger = 10036] = "Tiger", e[e.BlazingTiger = 10037] = "BlazingTiger", e[e.GoldenSlot = 10041] = "GoldenSlot", e[e.BuddhaPalm = 10042] = "BuddhaPalm"
        })(c = n.skillEnum || (n.skillEnum = {}));
        var _ = cc._decorator,
            v = _.ccclass,
            b = (_.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skillType = c.None, t.playerSeat = 0, t.playerBet = 1, t.currentWin = 0, t.currentOdds = 0, t.totalWin = 0, t.totalOdds = 0, t.dieFishList = null, t.winList = null, t.oddsList = null, t.limitTime = 60, t.limitTimer = 0, t.isMainPlayer = !1, t.isGaveAward = !1, t.isUnuse = !1, t.forceTime = 5, t.forceTimer = 0, t.isForceShowAward = !1, t.bgmID = null, t.SkillTitle = null, t.ScoreUIName = null, t.SkillScoreUI = null, t.skillEffectList = null, t.shootRecording = !1, t
                }
                return o(t, e), t.prototype.update = function(e) {
                    this.LimitTimeUpdate(e)
                }, t.prototype.Init = function(e, t) {
                    void 0 === t && (t = null), this.SetSeat(e), this.InitProperties(t), this.UseSkill()
                }, t.prototype.SetSeat = function(e) {
                    if (this.playerSeat = e, this.isMainPlayer = h.PlayerManager.isMainSeat(e), this.isMainPlayer && f.default.Instance) switch (this.skillType) {
                        case c.Electric:
                        case c.Drill:
                        case c.MultiBomb:
                        case c.ThunderDragon:
                        case c.AwakenKingSpiderCrab:
                        case c.AwakenKingTaco:
                        case c.AwakenKingLacoste:
                        case c.AwakenMermaid:
                        case c.AwakenPhoenix:
                        case c.Hammer:
                        case c.Buffalo:
                        case c.KingKong:
                        case c.FlameStorm:
                        case c.Wheel:
                            f.default.Instance.RecordingSkillID = this.skillType, this.shootRecording = !0
                    }
                }, t.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), this.dieFishList = new Array, this.winList = new Array, this.oddsList = new Array, this.currentWin = 0, this.totalWin = 0, this.totalOdds = 0, this.limitTimer = this.limitTime, this.forceTimer = 0, this.isGaveAward = !1, this.isUnuse = !1, this.isForceShowAward = !1, this.isMainPlayer && f.default.FishMissionSystem.CallMinimizeLayout()
                }, t.prototype.UseSkill = function() {}, t.prototype.UnUseSkill = function() {
                    if (this.node && this.node.stopAllActions(), this.unscheduleAllCallbacks(), h.PlayerManager.Instance.ModifyPlayerWinning(this.playerSeat, this.totalWin), this.isUnuse = !0, this.dieFishList) {
                        for (var e = 0; e < this.dieFishList.length; e++) this.dieFishList[e] && this.dieFishList[e].RemoveSelf();
                        this.dieFishList = null
                    }
                    this.winList = null, this.oddsList = null, null != this.bgmID && (m.default.Instance.Fade(this.bgmID, 1, 0), m.default.Instance.Fade(m.default.Instance.GetBGMID(), 0, 1)), this.bgmID = null, this.HideSkillTitle(), this.HideSkillScoreUI(), this.RemoveSkillEffect(), f.default.SkillSystem && f.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), p.default.DespawnSkill(this.skillType, this.node), this.shootRecording && f.default.Instance && f.default.Instance.RecordingSkillID == this.skillType && (f.default.Instance.RecordingSkillID = null), this.shootRecording = !1
                }, t.prototype.ReceiveSkillData = function(e, t) {
                    void 0 === e && (e = null), void 0 === t && (t = null)
                }, t.prototype.GetSkillType = function() {
                    return this.skillType
                }, t.prototype.SetSkillType = function(e) {
                    this.skillType = e
                }, t.prototype.IsGaveAward = function() {
                    return this.isGaveAward
                }, t.prototype.LimitTimeUpdate = function(e) {
                    if (!this.isUnuse && this.limitTimer > 0 && (this.limitTimer -= e, this.limitTimer <= 0 && (this.limitTimer = 0, this.isForceShowAward = !0, this.UnUseSkill(), this.isMainPlayer))) {
                        var t = "SkillTimeOut_" + this.skillType.toString();
                        f.default.Instance.CallOnError("C35", t)
                    }
                }, t.prototype.CreateSkillTitle = function() {
                    if (!this.isUnuse) {
                        this.SkillTitle && this.HideSkillTitle(!1);
                        var e = p.default.SpawnTitle(this.skillType, this.isMainPlayer);
                        if (e) {
                            e.angle = g.default.isReverse ? 180 : 0;
                            var t = this.playerSeat > 1 ? new cc.Vec2(0, -180) : new cc.Vec2(0, 180),
                                n = d.default.WeaponPosition(this.playerSeat).add(t);
                            e.setPosition(n), e.opacity = 255, this.SkillTitle = e.getComponent(y.default), this.SkillTitle.SetBet(this.playerBet, this.isMainPlayer)
                        }
                    }
                }, t.prototype.ShowSkillScore = function(e) {
                    this.SkillTitle && !this.isUnuse && (this.isMainPlayer && 0 == e ? f.default.Instance.CallOnError("C44", "SkillZeroWin") : this.SkillTitle.ShowScore(e))
                }, t.prototype.SetSkillScore = function(e, t) {
                    void 0 === t && (t = .5), this.SkillTitle && this.SkillTitle.SetScore(e, t)
                }, t.prototype.HideSkillTitle = function(e) {
                    void 0 === e && (e = !0), this.SkillTitle && (this.SkillTitle.Hide(e), this.SkillTitle = null)
                }, t.prototype.CreateScoreUI = function() {
                    if (!this.isUnuse) {
                        this.SkillScoreUI && this.HideSkillScoreUI(!1);
                        var e = p.default.SpawnEffect(this.ScoreUIName, this.isMainPlayer);
                        if (e) {
                            e.angle = g.default.isReverse ? 180 : 0;
                            var t = cc.Vec2.ZERO;
                            switch (this.playerSeat) {
                                case 0:
                                    t.x = this.isMainPlayer ? 174 : -196, t.y = this.isMainPlayer ? 77 : g.default.isReverse ? 60 : 83;
                                    break;
                                case 1:
                                    t.x = this.isMainPlayer ? -196 : 174, t.y = this.isMainPlayer ? 77 : g.default.isReverse ? 60 : 83;
                                    break;
                                case 2:
                                    t.x = this.isMainPlayer ? -196 : 174, t.y = this.isMainPlayer ? -77 : g.default.isReverse ? -83 : -60;
                                    break;
                                case 3:
                                    t.x = this.isMainPlayer ? 174 : -196, t.y = this.isMainPlayer ? -77 : g.default.isReverse ? -83 : -60
                            }
                            e.setPosition(d.default.WeaponPosition(this.playerSeat).add(t)), e.opacity = 255, this.SkillScoreUI = e.getComponent(S.default), this.SkillScoreUI.Init(this.playerBet)
                        }
                    }
                }, t.prototype.SetScoreUICount = function(e, t) {
                    void 0 === t && (t = .5), this.SkillScoreUI && this.SkillScoreUI.SetScore(e, t)
                }, t.prototype.HideSkillScoreUI = function(e) {
                    void 0 === e && (e = !0), this.SkillScoreUI && (this.SkillScoreUI.Hide(e), this.SkillScoreUI = null)
                }, t.prototype.AddSkillEffect = function(e, t, n, i) {
                    void 0 === n && (n = 0), void 0 === i && (i = null);
                    var o = p.default.SpawnEffect(e, this.isMainPlayer);
                    o && (o.setPosition(t), o.angle = n, o.scale = 1, this.skillEffectList || (this.skillEffectList = new Array), this.skillEffectList.push(o), i && i(o))
                }, t.prototype.RemoveSkillEffect = function() {
                    if (this.skillEffectList)
                        for (var e = 0; e < this.skillEffectList.length; e++) {
                            var t = null;
                            this.skillEffectList[e] && this.skillEffectList[e].active && (t = this.skillEffectList[e].getComponent(l.default)), t && t.Recycle()
                        }
                    this.skillEffectList = null
                }, t.prototype.delay = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(n) {
                                        setTimeout(function() {
                                            t.node && !t.isUnuse && n(null)
                                        }, e)
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.CameraShakeEffect = function(e, t) {
                    void 0 === e && (e = 1), void 0 === t && (t = 1), g.default.CameraShakeEffect(e, t)
                }, t.prototype.KillFishesAndShowAward = function(e) {
                    if (!this.dieFishList || this.dieFishList.length <= 0) return 0;
                    for (var t = 0, n = 0; n < this.dieFishList.length; n++) {
                        var i = this.dieFishList[n];
                        null != i && u.default.Instance.KillFish(this.playerSeat, i, this.winList[n], this.playerBet, !1, !0, function(e) {
                            t < e && (t = e)
                        }, e)
                    }
                    return this.dieFishList.length = 0, this.winList.length = 0, t
                }, t.prototype.onHitFish = function() {}, t.prototype.PlayAwardSound = function() {
                    var e, t = this.playerBet <= 0 ? 0 : this.totalWin / this.playerBet;
                    e = t < 50 ? "25_flash_result1" : t < 100 ? "25_flash_result2" : t < 200 ? "25_flash_result3" : "25_flash_result", m.default.Instance.Play(e)
                }, t.prototype.RegisterTouchEvent = function() {
                    g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this), g.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchEnd, this)
                }, t.prototype.CanelRegisterTouchEvent = function() {
                    g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this), g.default.CanelTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchEnd, this)
                }, t.prototype.OnTouchStart = function() {}, t.prototype.OnTouchMove = function() {}, t.prototype.OnTouchEnd = function() {}, a([v], t)
            }(cc.Component));
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkillScoreUI": "BaseSkillScoreUI"
    }],
    BaseSpineFish: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "915321WvqlLrK4RjBCvs+N1", "BaseSpineFish");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../../FishCommon/Script/CanvasHandler"),
            r = e("./BaseFish"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = c.executeInEditMode,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.shapeNode = null, t.autoInitColliders = !1, t.subColliderList = new Array, t.skeleton = null, t.boneData = new Array, t.colliderNode = null, t.summonPauseTime = .8, t.summonPauseTimer = 0, t.ice_group = [], t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skeleton = this.getComponentInChildren(sp.Skeleton), this.skeleton && (this.shapeNode = this.skeleton.node)
                }, t.prototype.onEnable = function() {
                    this.skeleton && (this.colliderNode = this.node.getChildByName("Colliders"))
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.updateColliderPosition(), this.isSummon && this.summonUpdate(t)
                }, t.prototype.Init = function(t, n, i, o) {
                    var a = this;
                    e.prototype.Init.call(this, t, n, i, o), this.canCollision = !1, this.scheduleOnce(function() {
                        a.canCollision = !0
                    }, .1), this.colliderNode && this.updateBoneData(), this.node.setPosition(cc.Vec2.ZERO), this.skeleton.setCompleteListener(function() {
                        a.FishOut()
                    }), this.onInit()
                }, t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.ice_group.forEach(function(e) {
                        e.active = !1
                    }), this.colliderNode && this.offsetPos.mag() > 0 && this.colliderNode.setPosition(cc.Vec2.ZERO)
                }, t.prototype.PlayDieAnim = function() {
                    var e = this;
                    this.skeleton.timeScale = 0, this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.05, 10, 10), cc.moveBy(.05, -10, -10)), 15), cc.callFunc(function() {
                        s.default.CameraShakeEffect(1.5, 3), e.CoinEffect(1.5 * e.shapeNode.scale)
                    }), cc.fadeOut(1), cc.callFunc(function() {
                        e.RemoveSelf()
                    })))
                }, t.prototype.getFishPos = function() {
                    if (this.mainCoillder) return this.mainCoillder.convertToWorldSpaceAR(cc.Vec2.ZERO);
                    for (var e = this.subColliderList[0].node.convertToWorldSpace(cc.Vec2.ZERO), t = 1; t < this.subColliderList.length; t++) {
                        var n = this.subColliderList[t].node.convertToWorldSpace(cc.Vec2.ZERO);
                        cc.Vec2.ZERO.sub(n).mag() < cc.Vec2.ZERO.sub(e).mag() && (e = n)
                    }
                    return e
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0, this.ice_group.forEach(function(e) {
                        e.active = !0
                    })
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, t.prototype.onInit = function() {}, t.prototype.onFishDie = function() {
                    this.PlayDieAnim()
                }, t.prototype.updateColliderPosition = function() {
                    if (this.skeleton && this.subColliderList.length && this.boneData.length)
                        for (var e = 0; e < this.subColliderList.length; e++) this.subColliderList[e].node.setPosition(this.boneData[e].worldX, this.boneData[e].worldY)
                }, t.prototype.updateBoneData = function() {
                    var e = this;
                    this.subColliderList = this.colliderNode.getComponentsInChildren(cc.CircleCollider), this.boneData.length = 0, this.subColliderList.forEach(function(t) {
                        var n = e.skeleton.findBone(t.node.name);
                        n && e.boneData.push(n)
                    })
                }, t.prototype.createColliders = function() {
                    var e = this;
                    this.skeleton = this.getComponentInChildren(sp.Skeleton), this.node.getComponent, this.skeleton ? this.colliderNode ? cc.warn("\u8acb\u522a\u6389\u539f\u672c\u7684Colliders\u518d\u9032\u884c\u5617\u8a66") : (this.colliderNode = new cc.Node("Colliders"), this.colliderNode.parent = this.node, this.skeleton._skeleton.bones.forEach(function(t) {
                        if (t.children.length > 0) {
                            var n = t.data.name,
                                i = t.worldX,
                                o = t.worldY,
                                a = new cc.Node(n).addComponent(cc.CircleCollider);
                            a.node.parent = e.colliderNode, a.node.setPosition(i, o), a.node.groupIndex = 2
                        }
                    })) : cc.warn("\u627e\u4e0d\u5230Spine Component")
                }, t.prototype.getPosArray = function(t) {
                    t || this.mainFishNode && this.offsetPos.mag() > 0 && (this.mainFishNode.setPosition(this.offsetPos), this.colliderNode.setPosition(this.offsetPos), this.summonPauseTimer = this.summonPauseTime, this.skeleton.paused = !0, this.mAnim && this.mAnim.pause(), this.mSeek && this.mSeek.Pause()), e.prototype.getPosArray.call(this)
                }, t.prototype.summonUpdate = function(e) {
                    this.summonPauseTimer <= 0 || (this.summonPauseTimer -= e, this.summonPauseTimer > 0 || (this.summonPauseTimer = 0, this.freeze_time > 0 || (this.skeleton.paused = !1, this.mAnim && this.mAnim.resume(), this.mSeek && this.mSeek.Resume())))
                }, t.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, a([h(cc.Node)], t.prototype, "shapeNode", void 0), a([h(cc.Boolean)], t.prototype, "autoInitColliders", void 0), a([h([cc.CircleCollider])], t.prototype, "subColliderList", void 0), a([h([cc.Node])], t.prototype, "ice_group", void 0), a([l, u], t)
            }(r.default);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "./BaseFish": "BaseFish"
    }],
    BaseTwisterFish: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a0439p7lc5GFIFWCPsBkmRZ", "BaseTwisterFish");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.windAnim = null, t
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0, this.switchWindEffect(!0)
                }, t.prototype.switchWindEffect = function(e) {
                    this.windAnim && (this.windAnim.node.active = e, e ? this.windAnim.play() : this.windAnim.stop())
                }, t.prototype.RemoveSelf = function() {
                    this.node && this.windAnim && this.windAnim.stop(), e.prototype.RemoveSelf.call(this)
                }, a([l(cc.Animation)], t.prototype, "windAnim", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    BaseWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "f6bcdqFDlJOzqclQKEYoG/s", "BaseWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./WeaponManager"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.gunNode = null, t.PlatformAni = null, t.FortAni = null, t.RocketAni = null, t.isGunReady = !1, t.playerSeat = 0, t.autoAnim = !1, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.playerSeat = e, this.isGunReady = !1, this.node.angle = e < 2 ? 0 : 180, this.PlatformAni && this.PlatformAni.play(), this.FortAni && this.FortAni.play(), this.RocketAni && this.RocketAni.play(), this.ChangeGunAnim()
                }, t.prototype.ChangeGunAnim = function() {
                    var e = this;
                    this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        e.isGunReady = !0
                    })))
                }, t.prototype.SetGunRotateUsePos = function(e) {
                    var t = this.playerSeat,
                        n = s.default.WeaponPosition(this.playerSeat);
                    t < 2 ? e.y < n.y && (e.y = n.y) : e.y > n.y && (e.y = n.y);
                    var i = -cc.misc.radiansToDegrees(Math.atan2(e.x - n.x, e.y - n.y));
                    this.gunNode.angle = this.playerSeat > 1 ? i + 180 : i
                }, t.prototype.ShootFunction = function(e) {
                    this.SetGunRotateUsePos(e), this.FortAni && this.FortAni.play("Shoot")
                }, t.prototype.ShootState = function() {
                    return this.isGunReady ? 1 : 0
                }, t.prototype.UnloadWeapon = function() {
                    this.PlatformAni && this.PlatformAni.stop(), this.FortAni && this.FortAni.stop(), this.RocketAni && this.RocketAni.stop()
                }, t.prototype.PlayRocketShoot = function() {
                    this.RocketAni && this.RocketAni.play("RocketShoot")
                }, t.prototype.AutoState = function(e) {
                    e != this.autoAnim && (this.autoAnim = e, this.PlatformAni && this.PlatformAni.play(e ? "PlatformAuto" : "PlatformIdle"))
                }, t.prototype.GunAlpha = function(e) {
                    this.node.opacity = e ? 125 : 255
                }, a([l(cc.Node)], t.prototype, "gunNode", void 0), a([l(cc.Animation)], t.prototype, "PlatformAni", void 0), a([l(cc.Animation)], t.prototype, "FortAni", void 0), a([l(cc.Animation)], t.prototype, "RocketAni", void 0), a([c], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "./WeaponManager": "WeaponManager"
    }],
    BetController: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "839b4GJiv5MOpdcSOduOtgd", "BetController");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./WeaponManager"),
            r = e("../Common/Utility"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.betLabel = null, t.GoldenFont = null, t.Board = null, t.MainPlayerBoard = null, t.MaxBetAnim = null, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.node.setPosition(s.default.WeaponPosition(e)), this.node.angle = e > 1 ? 180 : 0, this.betLabel.node.angle = e > 1 ? 180 : 0, this.node.opacity = 125
                }, t.prototype.PlayerEnter = function(e) {
                    this.node.opacity = 255, this.UpdateBet(e.bet_value), e.isMain && (this.betLabel.font = this.GoldenFont, this.Board.spriteFrame = this.MainPlayerBoard)
                }, t.prototype.PlayerLeave = function() {
                    this.UpdateBet(0), this.node.opacity = 125
                }, t.prototype.UpdateBet = function(e, t) {
                    void 0 === t && (t = !1), this.betLabel.string = e > 0 ? r.default.NumberformatBet(e, e) : "0", t && this.MaxBetAnim.play()
                }, a([h(cc.Label)], t.prototype, "betLabel", void 0), a([h(cc.Font)], t.prototype, "GoldenFont", void 0), a([h(cc.Sprite)], t.prototype, "Board", void 0), a([h(cc.SpriteFrame)], t.prototype, "MainPlayerBoard", void 0), a([h(cc.Animation)], t.prototype, "MaxBetAnim", void 0), a([l], t)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/Utility": "Utility",
        "./WeaponManager": "WeaponManager"
    }],
    BtnSprite: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4f219o/AD1KyYKaKs8d8Mme", "BtnSprite");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Btn = null, t.BtnFrame = [], t.Icon = null, t.IconFrame = [], t
                }
                return o(t, e), t.prototype.ChangeState = function(e) {
                    this.Btn && (this.Btn.spriteFrame = e ? this.BtnFrame[0] : this.BtnFrame[1]), this.Icon && (this.Icon.spriteFrame = e ? this.IconFrame[0] : this.IconFrame[1])
                }, a([c(cc.Sprite)], t.prototype, "Btn", void 0), a([c([cc.SpriteFrame])], t.prototype, "BtnFrame", void 0), a([c(cc.Sprite)], t.prototype, "Icon", void 0), a([c([cc.SpriteFrame])], t.prototype, "IconFrame", void 0), a([r], t)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    BuddhaPalmUI: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "160d55KJ2RNyYrih/bLYKD1", "BuddhaPalmUI");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../../LobbyCommon/Helper/EventSystem"),
            r = e("../Common/AudioManager"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.ChargeBar = [], t.PlayerBet = null, t.UIState = null, t.TimeLabel = null, t.timeLimit = 20, t.timeLimitAuto = 180, t.bet = null, t.engry = null, t.fillRange = null, t.fillRangeShowing = null, t.energy_odds = null, t.ClickEvent = null, t.playerAutoState = !1, t.step = 0, t.chargeMax = !1, t.updateBarTween = [], t.time = 0, t
                }
                return o(t, e), t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), s.EventSystem.Event(s.FishHunter.UpdateBuddhaPalm).Remove(this.RecvData, this)
                }, t.prototype.update = function(e) {
                    var t = this;
                    if (!(this.updateBarTween.length > 0))
                        if (this.chargeMax) {
                            if (this.time > 0)
                                if (this.time -= e, this.time <= 0) this.time = 0, this.ClickBtn();
                                else if (this.time < 11) {
                                var n = Math.ceil(this.time).toString();
                                this.TimeLabel.string != n && (r.default.Instance.Play("Hand_count"), this.TimeLabel.string = n)
                            } else this.TimeLabel.string = ""
                        } else this.step += e, this.step > .1 && this.fillRange > this.fillRangeShowing && (this.step = 0, this.fillRangeShowing += .01, this.ChargeBar.forEach(function(e) {
                            e.fillRange = -t.fillRangeShowing
                        })), this.fillRangeShowing >= 1 && (this.UIState.play("ChargeMax"), r.default.Instance.Play("Hand_full"), this.chargeMax = !0, this.time = this.playerAutoState ? this.timeLimitAuto : this.timeLimit)
                }, t.prototype.Init = function(e, t) {
                    s.EventSystem.Event(s.FishHunter.UpdateBuddhaPalm).Insert(this.RecvData, this), this.parseData(e), this.UIState.play("Idle"), this.fillRange = this.engry / this.bet / this.energy_odds, this.fillRange > 1 && (this.fillRange = 1), this.fillRangeShowing = this.fillRange, this.updateBarFillRange(this.fillRangeShowing), this.time = 300, this.ClickEvent = t
                }, t.prototype.RecvData = function(e) {
                    this.parseData(e), this.fillRange = this.engry / this.bet / this.energy_odds, this.fillRange >= 1 ? this.fillRange = 1 : this.chargeMax && (this.UIState.play("Idle"), this.chargeMax = !1, this.time = 0, this.TimeLabel.string = "")
                }, t.prototype.parseData = function(e) {
                    e.hasOwnProperty("energy_odds") && (this.energy_odds = e.energy_odds), e.hasOwnProperty("energy") && (this.engry = e.energy), e.hasOwnProperty("auto") && (this.playerAutoState = e.auto), e.hasOwnProperty("bet") && this.BetChange(e.bet)
                }, t.prototype.BetChange = function(e) {
                    e != this.bet && (this.bet = e, this.PlayerBet.string = this.bet.toString(), this.fillRange = this.engry / this.bet / this.energy_odds, this.fillRange > 1 && (this.fillRange = 1), this.fillRangeShowing = this.fillRange, this.updateBarFillRange(this.fillRangeShowing))
                }, t.prototype.ClickBtn = function() {
                    this.chargeMax && 0 == this.updateBarTween.length && this.ClickEvent && (this.ClickEvent(this.bet), this.UIState.play("Idle"), this.time = 0, this.TimeLabel.string = "", this.engry = 0, this.fillRange = 0, this.fillRangeShowing = this.fillRange, this.updateBarFillRange(this.fillRangeShowing))
                }, t.prototype.updateBarFillRange = function(e) {
                    var t = this;
                    this.updateBarTween.length > 0 && (this.updateBarTween.forEach(function(e) {
                        e.stop()
                    }), this.updateBarTween = []), this.ChargeBar.forEach(function(n) {
                        var i = cc.tween(n).to(.5, {
                            fillRange: -e
                        }).start();
                        t.updateBarTween.push(i)
                    });
                    var n = cc.tween(this).delay(.5).call(function() {
                        t.fillRangeShowing >= 1 && (t.UIState.play("ChargeMax"), r.default.Instance.Play("Hand_full"), t.chargeMax = !0, t.time = t.playerAutoState ? t.timeLimitAuto : t.timeLimit), t.updateBarTween = []
                    }).start();
                    this.updateBarTween.push(n)
                }, a([h([cc.Sprite])], t.prototype, "ChargeBar", void 0), a([h(cc.Label)], t.prototype, "PlayerBet", void 0), a([h(cc.Animation)], t.prototype, "UIState", void 0), a([h(cc.Label)], t.prototype, "TimeLabel", void 0), a([l], t)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Helper/EventSystem": void 0,
        "../Common/AudioManager": "AudioManager"
    }],
    DRAGON_TURTLE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "e3d44REcVZERruns1fi1ivE", "DRAGON_TURTLE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("../Common/EnumFilter"),
            u = e("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            m = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.ice_group = [], t.SpinHit = !1, t.spinTime = 0, t.moving = !1, t.moveVec = null, t.winSide = null, t.rotateSound = null, t.timerPause = !1, t.SpineEvent = function(e, n) {
                        if (n) switch (n.data.name) {
                            case "step":
                            case "kick":
                                l.default.Instance.Play("drill_hit"), c.default.CameraShakeEffect(.25, 4);
                                break;
                            case "move":
                                t.moving = !0;
                                break;
                            case "stop":
                                t.moving = !1
                        }
                    }, t
                }
                return o(t, e), t.prototype.InitNormalBehavior = function(e, t) {
                    var n = this;
                    switch (void 0 === t && (t = 0), SS.Common.GameEnvironment.CurrentGameNow) {
                        case h.FishGame.TD:
                            this.isFeature = !1;
                            break;
                        default:
                            this.isFeature = !0
                    }
                    this.syncTime = t, this.canCollision = !1, this.behaviorType = u.BEHAVIOR_TYPE.SPINE, this.skeleton.timeScale = 1, this.skeleton.findAnimation("rotate") ? this.skeleton.setAnimation(0, "rotate", !0) : this.skeleton.setAnimation(0, "SPIN", !0), this.moveToScreenOut(), this.winSide || (this.winSide = cc.v2(.5 * c.default.WinSize.width, .5 * c.default.WinSize.height)), this.moveVec = this.targetPos.sub(this.startPos), this.moveVec.normalizeSelf(), this.node.setPosition(this.startPos), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x)), this.moveSpeed = 1e3, this.scheduleOnce(function() {
                        n.SpinHit = !0
                    }, 1), this.moving = !0, this.spinTime = 5, this.rotateSound = l.default.Instance.Play("DragonTurtle_In", 1, !0), this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, t.prototype.update = function(e) {
                    if (this.aliveStatus == u.FishState.ALIVE) {
                        if (this.freeze_time > 0) return this.freeze_time -= e, void(this.freeze_time <= 0 && this.ResumeBehavior());
                        if (!this.timerPause)
                            if (this.aliveTime -= e, this.aliveTime <= 0 && this.FishFadeOut(1, u.FishOutType.ALIVE_TIME_OUT), this.spinTime > 0 && (this.spinTime -= e, this.spinTime <= 0 && this.SpinEnd()), this.moving && (this.node.setPosition(this.node.getPosition().add(this.moveVec.mul(this.moveSpeed * e))), this.syncTime > 0 && (this.syncTime -= e, this.node.setPosition(this.node.getPosition().add(this.moveVec.mul(this.moveSpeed * e))), this.spinTime > 0 && (this.spinTime -= e, this.spinTime <= 0 && this.SpinEnd()))), this.SpinHit) {
                                var t = !1;
                                this.node.position.x > this.winSide.x ? (this.moveVec.x = -this.moveVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.position.y)), t = !0) : this.node.position.x < -this.winSide.x && (this.moveVec.x = -this.moveVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.position.y)), t = !0), this.node.position.y > this.winSide.y ? (this.moveVec.y = -this.moveVec.y, this.node.setPosition(new cc.Vec2(this.node.position.x, this.winSide.y)), t = !0) : this.node.position.y < -this.winSide.y && (this.moveVec.y = -this.moveVec.y, this.node.setPosition(new cc.Vec2(this.node.position.x, -this.winSide.y)), t = !0), t && (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x)), l.default.Instance.Play("drill_bound"), c.default.CameraShakeEffect(.25, 4))
                            } else {
                                if (this.spinTime > 0) return;
                                this.CheckInScreen(), this.isInScreen || this.FishOut()
                            }
                    }
                }, t.prototype.SpinEnd = function() {
                    var e = this;
                    this.node.position.x > this.winSide.x - 20 ? this.node.setPosition(cc.v2(this.winSide.x - 20, this.node.position.y)) : this.node.position.x < 20 - this.winSide.x && this.node.setPosition(cc.v2(20 - this.winSide.x, this.node.position.y)), this.node.position.y > this.winSide.y - 20 ? this.node.setPosition(cc.v2(this.node.position.x, this.winSide.y - 20)) : this.node.position.y < 20 - this.winSide.y && this.node.setPosition(cc.v2(this.node.position.x, 20 - this.winSide.y)), this.SpinHit = !1, this.moving = !1, this.moveVec = cc.Vec2.ZERO.sub(this.node.getPosition()), this.moveVec.normalizeSelf();
                    var t = -cc.misc.radiansToDegrees(Math.atan2(this.moveVec.y, this.moveVec.x));
                    this.moveSpeed = 120, this.node.runAction(cc.sequence(cc.rotateTo(.5, t), cc.callFunc(function() {
                        null != e.rotateSound && (l.default.Instance.Stop(e.rotateSound), e.rotateSound = null), l.default.Instance.Play("drill_bomb"), e.skeleton.findAnimation("come_in") ? e.skeleton.setAnimation(0, "come_in", !1) : e.skeleton.setAnimation(0, "SPITFIRE", !1), e.skeleton.setCompleteListener(function() {
                            e.skeleton.setCompleteListener(null), e.skeleton.setAnimation(0, "SWIM", !0), e.skeleton.setEventListener(e.SpineEvent), e.AliveStatus = u.FishState.ALIVE, e.canCollision = !0
                        })
                    })))
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function() {
                            switch (this.skeleton.setEventListener(null), this.moving = !1, this.AliveStatus = u.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.StopAction(), null != this.rotateSound && l.default.Instance.Stop(this.rotateSound), this.Event_FishLeave && this.Event_FishLeave(this, 6), this.ice_group.forEach(function(e) {
                                e.active = !1
                            }), SS.Common.GameEnvironment.CurrentGameNow) {
                                case h.FishGame.TD:
                                    this.skeleton.timeScale = 0, cc.tween(this.node).repeat(15, cc.tween(this.node).by(.05, {
                                        position: cc.v3(10, 10)
                                    }).by(.05, {
                                        position: cc.v3(-10, -10)
                                    })).delay(.5).call(function() {
                                        c.default.CameraShakeEffect(1.5, 3), e.CoinEffect()
                                    }).to(.5, {
                                        opacity: 0
                                    }).call(function() {
                                        e.RemoveSelf()
                                    }).start()
                            }
                            return [2]
                        })
                    })
                }, t.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.moving = !1, this.winSide = null, this.moveVec = null, null != this.rotateSound && l.default.Instance.Stop(this.rotateSound), e.prototype.RemoveSelf.call(this)
                }, t.prototype.FishRunOut = function() {
                    this.moveSpeed = 1400
                }, t.prototype.PauseClip = function() {
                    this.skeleton.timeScale = 0
                }, t.prototype.PlayClip = function(e, t, n) {
                    var i = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, e, t), n && this.skeleton.setCompleteListener(function() {
                        i.skeleton.setCompleteListener(null), n()
                    })
                }, t.prototype.SetNextClip = function(e, t, n, i) {
                    var o = this;
                    this.skeleton.setCompleteListener(null), this.skeleton.setCompleteListener(function() {
                        o.skeleton.setCompleteListener(null), n && n(), o.skeleton.timeScale = 1, o.skeleton.setAnimation(0, e, t), i && o.skeleton.setCompleteListener(function() {
                            o.skeleton.setCompleteListener(null), i()
                        })
                    })
                }, t.prototype.PauseBehavior = function(t, n) {
                    this.canCollision && (e.prototype.PauseBehavior.call(this, t, n), this.skeleton.timeScale = 0, this.timerPause = !0, this.ice_group.forEach(function(e) {
                        e.active = !0
                    }))
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.timeScale = 1, this.timerPause = !1, this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, t.prototype.InitSummonBehavior = function() {
                    e.prototype.InitSummonBehavior.call(this), this.winSide || (this.winSide = cc.v2(.5 * c.default.WinSize.width, .5 * c.default.WinSize.height)), this.skeleton.timeScale = 1, this.SpinEnd()
                }, a([f(sp.Skeleton)], t.prototype, "skeleton", void 0), a([f([cc.Node])], t.prototype, "ice_group", void 0), a([d], t)
            }(u.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "./BaseFish": "BaseFish"
    }],
    DebugManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2847bQm0L9Dd5/c2KTHf107", "DebugManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../GameClient"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.debug = !1, t.cheatPowerLabel = null, t.cheatPower = 0, t.rocketLabel = null, t.rocketPower = 0, t.FullScreenLabel = null, t.enableFullScreen = !0, t.FlameStormLabel = null, t.FlameStormPower = 0, t.AwakeLabel = null, t.AwakeType = 0, t.FPSLabel = null, t.MeunButton = null, t.DebugPanel = null, t.last_fish_count = 0, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    if (n.instance = this, window.addEventListener("orientationchange", function() {
                            180 == window.orientation || 0 == window.orientation ? (this.enableFullScreen = !1, cc.screen.exitFullScreen(), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: Off") : 90 != window.orientation && -90 != window.orientation || (this.enableFullScreen = !0)
                        }.bind(this)), this.debug) {
                        var e = cc.director.getCollisionManager();
                        e.enabled = !0, e.enabledDebugDraw = !0
                    }
                }, t.prototype.OnClickCheatPower = function() {
                    switch (this.cheatPower) {
                        case 0:
                            this.cheatPower = 1, this.cheatPowerLabel.string = "\u77ac\u7344\u6bba:On";
                            break;
                        case 1:
                            this.cheatPower = 2, this.cheatPowerLabel.string = "\u5fc5\u4e0d\u77ac\u7344\u6bba";
                            break;
                        case 2:
                            this.cheatPower = 0, this.cheatPowerLabel.string = "\u77ac\u7344\u6bba:Off"
                    }
                    s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower)
                }, t.prototype.OnFullScreen = function() {
                    this.enableFullScreen && (cc.screen.fullScreen() ? (cc.screen.exitFullScreen(document.getElementById("GameCanvas")), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: Off") : (cc.screen.init(), cc.screen.requestFullScreen(document.getElementById("GameCanvas"), function() {}), this.FullScreenLabel.string = "\u5168\u87a2\u5e55: On"))
                }, t.prototype.OnRocketCheat = function() {
                    this.rocketPower = 0 == this.rocketPower ? 1 : 0, null != s.default.GameSystem && (s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower), this.rocketLabel.string = 0 == this.rocketPower ? "\u706b\u7bad\u70ae:Off" : "\u706b\u7bad\u70ae:On")
                }, t.prototype.OnFlameStormCheat = function() {
                    this.FlameStormPower = 0 == this.FlameStormPower ? 1 : 0, null != s.default.GameSystem && (s.default.GameSystem.sendTestPower(this.cheatPower, this.rocketPower, this.FlameStormPower), this.FlameStormLabel.string = 0 == this.FlameStormPower ? "\u70c8\u98a8\u66b4:Off" : "\u70c8\u98a8\u66b4:On")
                }, t.prototype.OnAwakeCheat = function() {
                    switch (this.AwakeType) {
                        case 0:
                            this.AwakeType = 1, this.AwakeLabel.string = "\u5fc5\u89ba\u9192:On";
                            break;
                        case 1:
                            this.AwakeType = 2, this.AwakeLabel.string = "\u5fc5\u4e0d\u89ba\u9192";
                            break;
                        case 2:
                            this.AwakeType = 0, this.AwakeLabel.string = "\u5fc5\u89ba\u9192:Off"
                    }
                    null != s.default.GameSystem && s.default.GameSystem.sendTestOption(null, this.AwakeType, null)
                }, t.instance = null, a([l(cc.Boolean)], t.prototype, "debug", void 0), a([l(cc.Label)], t.prototype, "cheatPowerLabel", void 0), a([l(cc.Label)], t.prototype, "rocketLabel", void 0), a([l(cc.Label)], t.prototype, "FullScreenLabel", void 0), a([l(cc.Label)], t.prototype, "FlameStormLabel", void 0), a([l(cc.Label)], t.prototype, "AwakeLabel", void 0), a([l(cc.Label)], t.prototype, "FPSLabel", void 0), a([l(cc.Node)], t.prototype, "MeunButton", void 0), a([l(cc.Node)], t.prototype, "DebugPanel", void 0), n = a([c], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient"
    }],
    DragonWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "67bc41mFQZD5p79ZPkWIttS", "DragonWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../GameClient"),
            r = e("../Common/EnumFilter"),
            c = e("../Skill/BaseSkill"),
            l = e("./BaseWeapon"),
            h = e("./WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skill = null, t.ShowUpEffect = null, t.WeaponLighting = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    if (e.prototype.Init.call(this, t, n), this.Type = h.WeaponType.Dragon, this.ShowUpEffect.play(), this.skill = s.default.SkillSystem.AddSkill(c.skillEnum.DragonWeapon, t), this.skill.setWeapon(this, n), r.default.playerLockSetting) {
                        var i = Array.from(r.default.playerLockSetting),
                            o = n.UnhitList;
                        if (o)
                            for (var a = 0; a < o.length; a++) {
                                var l = i.indexOf(o[a]); - 1 != l && i.splice(l, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(i)
                    }
                }, t.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0), this.WeaponLighting.play()
                }, t.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1), this.WeaponLighting.stop()
                }, t.prototype.ShootState = function() {
                    return 0
                }, t.prototype.ShootFunction = function(e) {
                    this.SetGunRotateUsePos(e), this.FortAni && this.FortAni.play("Shoot")
                }, t.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, e.prototype.UnloadWeapon.call(this)
                }, t.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, a([d(cc.Animation)], t.prototype, "ShowUpEffect", void 0), a([d(cc.Animation)], t.prototype, "WeaponLighting", void 0), a([p], t)
            }(l.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    DrillBullet: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "98646CYKSJOSqT40E016Zke", "DrillBullet");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseBullet"),
            r = e("../Player/PlayerManager"),
            c = e("../Fish/FishManager"),
            l = e("../Fish/BaseFish"),
            h = e("../Common/ResourceManager"),
            u = e("../Common/AudioManager"),
            p = e("../../../../../FishCommon/Script/CanvasHandler"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bulletNode = null, t.bulletObjAnim = null, t.readyTime = 10, t.explodeTime = 3, t.forceTime = 5, t.keepTime = 0, t.currentState = 0, t.last_point = cc.Vec2.ZERO, t.rotationAction = null, t.isForce = !1, t.Event_OnBulletHit = null, t.Event_OnBulletReady = null, t.Event_OnBulletExplode = null, t.HitEffecrCD = !1, t
                }
                return o(t, e), t.prototype.Init = function(t, n, i, o) {
                    e.prototype.Init.call(this, t, n, i, o), this.keepTime = 0, this.currentState = 0, this.isForce = !1, this.bulletSpeed = 1300, this.SwitchBulletObj(!0), this.bulletNode && (this.bulletNode.angle = 90), this.schedule(this.CheckPoint.bind(this), .05)
                }, t.prototype.update = function(e) {
                    this.currentState < 3 && (this.UpdateExplodeTime(e), this.BulletMove(e))
                }, t.prototype.BulletReflection = function() {
                    var e = !1;
                    this.node.getPosition().x > this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(this.winSide.x, this.node.getPosition().y)), e = !0), this.node.getPosition().x < -this.winSide.x && (this.bulletVec.x = -this.bulletVec.x, this.node.setPosition(new cc.Vec2(-this.winSide.x, this.node.getPosition().y)), e = !0), this.node.getPosition().y > this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, this.winSide.y)), e = !0), this.node.getPosition().y < -this.winSide.y && (this.bulletVec.y = -this.bulletVec.y, this.node.setPosition(new cc.Vec2(this.node.getPosition().x, -this.winSide.y)), e = !0), e && (0 == this.currentState ? (this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x)), u.default.Instance.Play("drill_bound"), p.default.CameraShakeEffect(.5, 4)) : p.default.CameraShakeEffect(.25, 2))
                }, t.prototype.UpdateExplodeTime = function(e) {
                    if (this.keepTime += e, 0 == this.currentState) this.keepTime >= this.readyTime && (this.currentState = 1, this.keepTime = 0, this.bulletObjAnim && this.bulletObjAnim.play("DrillBulletReady"), this.bulletNode && (this.rotationAction = cc.rotateBy(1, 360).repeatForever(), this.bulletNode.runAction(this.rotationAction)), u.default.Instance.Play("drill_uncon"));
                    else if (1 == this.currentState)
                        if (this.keepTime >= this.explodeTime) {
                            this.currentState = 2, this.keepTime = 0;
                            var t = c.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100);
                            this.Event_OnBulletReady && this.Event_OnBulletReady(t)
                        } else this.keepTime < 1 ? this.bulletSpeed = 800 : this.keepTime < 2 ? this.bulletSpeed = 600 : this.bulletSpeed = 400;
                    else 2 == this.currentState && this.keepTime >= this.forceTime && (this.currentState = 3, this.keepTime = 0, this.isForce = !0, this.BulletExplode())
                }, t.prototype.onCollisionEnter = function(e) {
                    if (0 == this.currentState) {
                        var t = e.getComponent(l.default);
                        if (!t)
                            for (var n = e.node.parent, i = 0; i < 3 && !(t = n.getComponent(l.default)); i++) n = n.parent;
                        if (t && t.CanCollision && !t.IsFeatureFish) {
                            r.PlayerManager.isMainSeat(this.seat) && t.OnHitFish(), this.CreateHitEffect();
                            var o = t.ID;
                            this.Event_OnBulletHit && this.Event_OnBulletHit(o)
                        }
                    }
                }, t.prototype.BulletExplode = function() {
                    this.currentState = 3, this.keepTime = 0, this.bulletNode && (this.bulletNode.stopAction(this.rotationAction), this.rotationAction = null), this.Event_OnBulletExplode && this.Event_OnBulletExplode(this.isForce, this.node.getPosition()), this.unscheduleAllCallbacks(), this.bulletObjAnim.stop(), this.Recycle()
                }, t.prototype.SwitchBulletObj = function(e) {
                    this.bulletObjAnim && (this.bulletObjAnim.node.active = e, e && this.bulletObjAnim.play())
                }, t.prototype.CreateHitEffect = function() {
                    var e = this;
                    if (!this.HitEffecrCD) {
                        var t = h.default.SpawnEffect("DrillBlast", r.PlayerManager.isMainSeat(this.seat));
                        t && (t.setPosition(this.node.getPosition()), t.angle = this.node.angle), u.default.Instance.Play("drill_hit"), this.HitEffecrCD = !0, this.scheduleOnce(function() {
                            e.HitEffecrCD = !1
                        }, .07)
                    }
                }, t.prototype.CheckPoint = function() {
                    if (0 == this.currentState && this.last_point != this.node.getPosition()) {
                        this.last_point = this.node.getPosition();
                        var e = h.default.SpawnEffect("Drill_Tail", r.PlayerManager.isMainSeat(this.seat));
                        e && (e.setPosition(this.last_point), e.angle = this.node.angle - 90)
                    }
                }, a([m(cc.Node)], t.prototype, "bulletNode", void 0), a([m(cc.Animation)], t.prototype, "bulletObjAnim", void 0), a([f], t)
            }(s.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet"
    }],
    DrillWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8fd855xjflCVIXBBwrDsS89", "DrillWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseWeapon"),
            r = e("./WeaponManager"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.TimeLimit = null, t.shootPos = null, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.playerSeat = e, this.isGunReady = !1, this.node.angle = e < 2 ? 0 : 180, this.gunNode.active = !1, this.Type = r.WeaponType.Dirll, this.TimeLimit.node.active = !1, this.shootPos || (this.shootPos = new cc.Vec2(this.node.getPosition().x, e < 2 ? this.node.getPosition().y + 500 : this.node.getPosition().y - 500))
                }, t.prototype.ChangeGunAnim = function() {
                    var e = this;
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        e.isGunReady = !0
                    })))
                }, t.prototype.ShootState = function() {
                    return 0
                }, t.prototype.SwitchGunObj = function(e) {
                    this.gunNode.active = e
                }, t.prototype.setLimitTime = function(e) {
                    e ? (this.TimeLimit.node.active = !0, this.TimeLimit.string = Math.floor(e).toString()) : this.TimeLimit.node.active = !1
                }, t.prototype.SetGunRotateUsePos = function(t) {
                    e.prototype.SetGunRotateUsePos.call(this, t), this.shootPos = t
                }, a([h(cc.Label)], t.prototype, "TimeLimit", void 0), a([l], t)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    DropItem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "03616XoTcJKC4g5TlvtsAyU", "DropItem");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../System/ItemSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemAnim = null, t.bubbleNode = null, t.itemIcon = null, t.content = null, t.itemFrams = [], t.contentText = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.contentText = cc.find("text", this.content).getComponent(cc.RichText)
                }, t.prototype.ShowIcon = function(e) {
                    this.bubbleNode.active = e, this.itemIcon.node.active = e
                }, t.prototype.Init = function(e, t, n, i, o, a) {
                    var r = this;
                    void 0 === a && (a = !1);
                    var c = s.ITEM_CFG[e].index;
                    this.itemIcon.spriteFrame = this.itemFrams[c], this.contentText.string = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg[s.ITEM_CFG[e].name] + " x" + t + "<outline>", this.content.width = this.contentText.node.width + 56, this.node.setPosition(n);
                    var l = i.sub(this.node.getPosition()).mag(),
                        h = a ? .3 : Math.max(.3, .001 * l);
                    this.node.runAction(cc.sequence(cc.callFunc(function() {
                        r.itemAnim.play()
                    }), cc.delayTime(2), cc.moveBy(.25, i.mul(-.15)), cc.moveTo(h, i), cc.callFunc(function() {
                        a && (r.node.active = !1), o(r)
                    })))
                }, a([l(cc.Animation)], t.prototype, "itemAnim", void 0), a([l(cc.Node)], t.prototype, "bubbleNode", void 0), a([l(cc.Sprite)], t.prototype, "itemIcon", void 0), a([l(cc.Node)], t.prototype, "content", void 0), a([l([cc.SpriteFrame])], t.prototype, "itemFrams", void 0), a([c], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../../System/ItemSystem": "ItemSystem"
    }],
    ELAZING_PHONEIX: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "5b0d8j6hNtBGo+w9AfqNhSa", "ELAZING_PHONEIX");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSpineFish"),
            l = e("../Common/AudioManager"),
            h = cc._decorator,
            u = h.ccclass,
            p = (h.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.SpineEvent = function(e, t) {
                        if (t) switch (t.data.name) {
                            case "phoenix_s":
                                l.default.Instance.Play("Phoenix_fly_01", .8);
                                break;
                            case "phoenix_b":
                                l.default.Instance.Play("Phoenix_fly_02", .8)
                        }
                    }, t
                }
                return o(t, e), t.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1180, 0), this.node.angle = -(this.o + 90), this.skeleton.timeScale = 1, this.skeleton.setEventListener(this.SpineEvent), this.skeleton.setAnimation(0, "Phoenix_L_Fly", !1)
                }, t.prototype.PlayDieAnim = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return e.prototype.PlayDieAnim.call(this), [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.onFishDie = function() {
                    e.prototype.onFishDie.call(this), l.default.Instance.Play("Phoenix_die_02")
                }, a([u], t)
            }(c.default));
        n.default = p, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseSpineFish": "BaseSpineFish"
    }],
    Effect_Phoneix: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "f4bccH8JjFNXIdwbci72vxg", "Effect_Phoneix");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Phoneix = null, t
                }
                return o(t, e), t.prototype.reuse = function() {
                    e.prototype.reuse.call(this), this.Phoneix && this.Phoneix.setAnimation(0, "Phoenix_atk", !1)
                }, a([l(sp.Skeleton)], t.prototype, "Phoneix", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    ElectricCollider: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b8571TZsrBHjZA+AhokyNqy", "ElectricCollider");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = (s.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.fishIDList = new Array, t.maxFishCount = 50, t
                }
                return o(t, e), t.prototype.Init = function() {
                    this.fishIDList.length = 0
                }, t.prototype.GetFishIDList = function() {
                    return this.fishIDList
                }, t.prototype.onCollisionEnter = function(e) {
                    if (!(this.fishIDList.length >= this.maxFishCount)) {
                        var t = e.getComponent("BaseFish");
                        if (!t)
                            for (var n = 0, i = e.node.parent; n < 5 && i && !(t = i.getComponent("BaseFish"));) i = i.parent, n++;
                        t && t.CanCollision && !t.IsFeatureFish && -1 == this.fishIDList.indexOf(t.ID) && this.fishIDList.push(t.ID)
                    }
                }, t.prototype.onCollisionExit = function(e) {
                    var t = e.getComponent("BaseFish");
                    if (!t)
                        for (var n = 0, i = e.node.parent; n < 5 && i && !(t = i.getComponent("BaseFish"));) i = i.parent, n++;
                    if (t) {
                        var o = this.fishIDList.indexOf(t.ID); - 1 != o && this.fishIDList.splice(o, 1)
                    }
                }, a([r], t)
            }(cc.Component));
        n.default = c, cc._RF.pop()
    }, {}],
    ElectricWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2e1f7iBdV1CXL3C92h8jhme", "ElectricWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseWeapon"),
            r = e("./ElectricCollider"),
            c = e("./WeaponManager"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.airEffectAnim = null, t.shootRangeAnim = null, t.shootEffectAnim = null, t.shootRangeCollider = null, t.TimeLimit = null, t.shootPos = null, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.playerSeat = e, this.isGunReady = !1, this.node.angle = e < 2 ? 0 : 180, this.PlatformAni && this.PlatformAni.play(), this.FortAni && this.FortAni.play(), this.gunNode.active = !1, this.Type = c.WeaponType.Electric, this.SwitchAnimObj(this.airEffectAnim, !1), this.SwitchAnimObj(this.shootRangeAnim, !1), this.SwitchAnimObj(this.shootEffectAnim, !1), this.TimeLimit.node.active = !1, this.shootPos || (this.shootPos = new cc.Vec2(this.node.getPosition().x, e < 2 ? this.node.getPosition().y + 500 : this.node.getPosition().y - 500))
                }, t.prototype.ShootFunction = function(e) {
                    this.SetGunRotateUsePos(e), this.SwitchAnimObj(this.shootRangeAnim, !1), this.SwitchAnimObj(this.airEffectAnim, !1), this.SwitchAnimObj(this.shootEffectAnim, !0)
                }, t.prototype.ChangeGunAnim = function() {
                    var e = this;
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.sequence(cc.scaleTo(.5, 1), cc.callFunc(function() {
                        e.isGunReady = !0
                    }))), this.SwitchAnimObj(this.airEffectAnim, !0), this.SwitchAnimObj(this.shootRangeAnim, !0), this.SwitchAnimObj(this.shootEffectAnim, !1)
                }, t.prototype.SwitchAnimObj = function(e, t) {
                    e && (e.node.active = t, t && e.play())
                }, t.prototype.SwitchCollision = function(e) {
                    this.shootRangeCollider && (this.shootRangeCollider.node.active = e, this.shootRangeCollider.Init())
                }, t.prototype.GetFishIDList = function() {
                    return this.shootRangeCollider.GetFishIDList()
                }, t.prototype.ShootState = function() {
                    return 0
                }, t.prototype.setLimitTime = function(e) {
                    e ? (this.TimeLimit.node.active = !0, this.TimeLimit.string = Math.floor(e).toString()) : this.TimeLimit.node.active = !1
                }, t.prototype.SetGunRotateUsePos = function(t) {
                    e.prototype.SetGunRotateUsePos.call(this, t), this.shootPos = t
                }, t.prototype.UnloadWeapon = function() {
                    this.airEffectAnim.stop(), this.shootRangeAnim.stop(), this.shootEffectAnim.stop(), e.prototype.UnloadWeapon.call(this)
                }, a([u(cc.Animation)], t.prototype, "airEffectAnim", void 0), a([u(cc.Animation)], t.prototype, "shootRangeAnim", void 0), a([u(cc.Animation)], t.prototype, "shootEffectAnim", void 0), a([u(r.default)], t.prototype, "shootRangeCollider", void 0), a([u(cc.Label)], t.prototype, "TimeLimit", void 0), a([h], t)
            }(s.default);
        n.default = p, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./ElectricCollider": "ElectricCollider",
        "./WeaponManager": "WeaponManager"
    }],
    EnumFilter: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "f6092WBkEFP3qOtgx/WsEN9", "EnumFilter");
        var i = this && this.__decorate || function(e, t, n, i) {
            var o, a = arguments.length,
                s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
            else
                for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
            return a > 3 && s && Object.defineProperty(t, n, s), s
        };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishGame = n.PoolEnum = n.EffectType = n.FishType = void 0;
        var o, a, s, r = e("./ResourceManager"),
            c = cc._decorator.ccclass;
        (function(e) {
            e[e.Normal = 0] = "Normal", e[e.Double = 1] = "Double", e[e.HumpbackWhale = 2] = "HumpbackWhale", e[e.FireDragon = 3] = "FireDragon", e[e.KingCrab = 4] = "KingCrab", e[e.KingTaco = 5] = "KingTaco", e[e.KingLacoste = 6] = "KingLacoste", e[e.KingAngle = 7] = "KingAngle", e[e.Mermaid = 8] = "Mermaid", e[e.ThunderDragon = 9] = "ThunderDragon", e[e.Phoenix = 10] = "Phoenix", e[e.Buffalo = 11] = "Buffalo", e[e.Patrick = 12] = "Patrick", e[e.Vampire = 13] = "Vampire", e[e.Buddha = 14] = "Buddha", e[e.DragonTurtle = 15] = "DragonTurtle", e[e.TurtleBoss = 16] = "TurtleBoss", e[e.LionDance = 17] = "LionDance", e[e.WealthGod = 18] = "WealthGod", e[e.TreasureCrab = 19] = "TreasureCrab", e[e.IceDragon = 20] = "IceDragon", e[e.RedDragon = 21] = "RedDragon", e[e.BattleShip = 22] = "BattleShip", e[e.LuckyCat = 23] = "LuckyCat", e[e.CircusClown = 24] = "CircusClown", e[e.CircusPig = 25] = "CircusPig", e[e.CircusTiger = 26] = "CircusTiger", e[e.BlazingTiger = 27] = "BlazingTiger", e[e.ArmorKingCrab = 28] = "ArmorKingCrab", e[e.KingSquid = 29] = "KingSquid", e[e.KingJellyFish = 30] = "KingJellyFish", e[e.EternalSquid = 31] = "EternalSquid", e[e.EternalPhoenix = 32] = "EternalPhoenix", e[e.EternalFlamingDragon = 33] = "EternalFlamingDragon", e[e.GeneralLobster = 34] = "GeneralLobster", e[e.GoldenSlotCrab = 35] = "GoldenSlotCrab"
        })(o = n.FishType || (n.FishType = {})),
        function(e) {
            e[e.Blast = 0] = "Blast", e[e.BallFire = 7] = "BallFire"
        }(n.EffectType || (n.EffectType = {})),
        function(e) {
            e.Fish = "Fish", e.Background = "Background", e.Bullet = "Bullet", e.Weapon = "Weapon", e.GUI = "GUI", e.Award = "Award", e.Effect = "Effect", e.Skill = "Skill", e.Title = "Title", e.TopRoot = "TopRoot"
        }(a = n.PoolEnum || (n.PoolEnum = {})),
        function(e) {
            e.TD = "FishHunterThunderDragon", e.MTY = "FishFortuneKings", e.ALD = "FishHunterAladdin", e.ZB = "FishHunterGhost", e.KK = "FishHunterKingKong", e.LS = "FishHunterLuckyShamrock", e.MF = "MonstersFrenzy", e.BS = "FishBattleShip", e.WCF = "FishWonderCat", e.CIR = "FishCircus", e.GO = "FishGolden", e.KC = "FishKingOfCrab"
        }(s = n.FishGame || (n.FishGame = {}));
        var l = function() {
            function e() {}
            return e.getFishType = function(e) {
                switch (e) {
                    case 13:
                    case 14:
                    case 15:
                    case 16:
                    case 17:
                        return o.Double;
                    case 18:
                        return o.HumpbackWhale;
                    case 19:
                        return o.FireDragon;
                    case 20:
                    case 124:
                        return o.KingLacoste;
                    case 24:
                        return o.KingCrab;
                    case 25:
                        return o.Mermaid;
                    case 29:
                        return o.TreasureCrab;
                    case 32:
                        return o.DragonTurtle;
                    case 35:
                    case 125:
                        return o.KingAngle;
                    case 36:
                    case 61:
                    case 62:
                    case 63:
                    case 64:
                    case 65:
                    case 66:
                    case 117:
                    case 118:
                    case 119:
                    case 120:
                    case 121:
                    case 122:
                    case 123:
                        return o.KingTaco;
                    case 80:
                        return o.Phoenix;
                    case 78:
                        return o.ThunderDragon;
                    case 81:
                        return o.Buffalo;
                    case 82:
                        return o.Patrick;
                    case 83:
                        return o.Vampire;
                    case 84:
                        return o.Buddha;
                    case 85:
                        return o.TurtleBoss;
                    case 87:
                        return o.IceDragon;
                    case 88:
                        return o.RedDragon;
                    case 89:
                    case 90:
                    case 91:
                        return o.BattleShip;
                    case 92:
                        return o.LuckyCat;
                    case 93:
                        return o.CircusClown;
                    case 94:
                        return o.CircusPig;
                    case 95:
                        return o.CircusTiger;
                    case 96:
                        return o.BlazingTiger;
                    case 129:
                        return o.ArmorKingCrab;
                    case 126:
                        return o.KingSquid;
                    case 127:
                        return o.KingJellyFish;
                    case 111:
                        return o.EternalSquid;
                    case 112:
                        return o.EternalPhoenix;
                    case 113:
                        return o.EternalFlamingDragon;
                    case 114:
                        return o.GeneralLobster;
                    case 115:
                        return o.GoldenSlotCrab;
                    case 116:
                        return o.WealthGod;
                    default:
                        return o.Normal
                }
            }, e.DespawnObj = function(e, t, n) {
                switch (e) {
                    case a.Fish:
                        r.default.DespawnFish(t, n);
                        break;
                    case a.Background:
                        r.default.UnLoadBackground(t, n);
                        break;
                    case a.Bullet:
                        r.default.DespawnBullet(t, n);
                        break;
                    case a.Weapon:
                        r.default.UnloadWeapon(t, n);
                        break;
                    case a.GUI:
                        r.default.UnloadGUI(t, n);
                        break;
                    case a.Award:
                        r.default.DespawnAward(t, n);
                        break;
                    case a.Effect:
                        r.default.DespawnEffect(t, n);
                        break;
                    case a.Skill:
                        r.default.DespawnSkill(t, n);
                        break;
                    case a.Title:
                        r.default.DespawnTitle(t, n);
                        break;
                    case a.TopRoot:
                        r.default.UnloadTopRoot(t, n)
                }
            }, e.NormalPathBound = function(e) {
                switch (e) {
                    case 80:
                    case 81:
                    case 82:
                        return 500;
                    case 18:
                        return 300;
                    case 111:
                    case 114:
                    case 111:
                    case 114:
                        return 500;
                    default:
                        return 250
                }
            }, e.needShakeEffect = function(e) {
                switch (e) {
                    case 9:
                    case 10:
                    case 11:
                    case 12:
                        return .8;
                    case 13:
                    case 14:
                    case 15:
                    case 16:
                    case 17:
                        return 1;
                    default:
                        return 0
                }
            }, e.ClickAvoidFish = function(e) {
                switch (e) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                    case 47:
                    case 48:
                        return !0
                }
                return !1
            }, e.KillableFeatureFish = function(e) {
                switch (e) {
                    case 116:
                        return !0
                }
                return !1
            }, Object.defineProperty(e, "LockOrder", {
                get: function() {
                    if (!this.lockOder) switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case s.MTY:
                            this.lockOder = this.lockOderMTY;
                            break;
                        case s.ALD:
                            this.lockOder = this.lockOderALD;
                            break;
                        case s.ZB:
                            this.lockOder = this.lockOderZB;
                            break;
                        case s.KK:
                            this.lockOder = this.lockOderKK;
                            break;
                        case s.LS:
                            this.lockOder = this.lockOderLS;
                            break;
                        case s.MF:
                            this.lockOder = this.lockOderMF;
                            break;
                        case s.TD:
                            this.lockOder = this.lockOderTD;
                            break;
                        case s.BS:
                            this.lockOder = this.lockOderBS;
                            break;
                        case s.WCF:
                            this.lockOder = this.lockOderWCF;
                            break;
                        case s.CIR:
                            this.lockOder = "magiccity" == window.gd_nowLOGO ? this.mcLockOderCIR : this.lockOderCIR;
                            break;
                        case s.GO:
                            this.lockOder = this.lockOderGO;
                            break;
                        case s.KC:
                            this.lockOder = this.lockOderKOC
                    }
                    return this.lockOder
                },
                enumerable: !1,
                configurable: !0
            }), e.getLockOder = function() {
                return this.tempLockOder || (this.tempLockOder = this.TransFishTypeList(this.LockOrder)), this.tempLockOder
            }, e.TransFishTypeList = function(e) {
                for (var t = [], n = 0; n < e.length; n++) switch (e[n]) {
                    case 0:
                        t.push(0, 47);
                        break;
                    case 1:
                        t.push(1, 48);
                        break;
                    case 61:
                        t.push(61, 62, 63, 64, 65, 66);
                        break;
                    case 118:
                        t.push(118, 119, 120, 121, 122, 123);
                        break;
                    case 200:
                        t.push(55, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210);
                        break;
                    case 300:
                        t.push(300, 301, 302, 303, 304, 305, 306, 307, 308, 309);
                        break;
                    default:
                        t.push(e[n])
                }
                return t
            }, e.UseDefaultLockSetting = function(e) {
                switch (e) {
                    case 22:
                    case 23:
                    case 34:
                    case 77:
                    case 79:
                        this.LockSetting = [22, 23, 34, 77, 79];
                        break;
                    case 20:
                    case 24:
                    case 25:
                    case 35:
                    case 36:
                    case 61:
                    case 62:
                    case 63:
                    case 64:
                    case 65:
                    case 66:
                    case 78:
                    case 80:
                    case 81:
                    case 82:
                        this.LockSetting = [20, 24, 25, 35, 36, 61, 62, 63, 64, 65, 66, 78, 80, 81, 82];
                        break;
                    case 55:
                    case 200:
                    case 201:
                    case 202:
                    case 203:
                    case 204:
                    case 205:
                    case 206:
                    case 207:
                    case 208:
                    case 209:
                    case 210:
                        this.LockSetting = [55, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210];
                        break;
                    case 300:
                    case 301:
                    case 302:
                    case 303:
                    case 304:
                    case 305:
                    case 306:
                    case 307:
                    case 308:
                    case 309:
                        this.LockSetting = [300, 301, 302, 303, 304, 305, 306, 307, 308, 309];
                        break;
                    default:
                        this.LockSetting = [e]
                }
            }, e.FeatureType = {
                1: {
                    0: 200,
                    47: 200,
                    1: 201,
                    48: 201,
                    2: 202,
                    3: 203,
                    4: 204,
                    5: 205,
                    6: 206,
                    7: 207,
                    8: 55,
                    9: 208,
                    10: 209,
                    11: 210
                },
                2: {
                    0: 300,
                    47: 300,
                    1: 301,
                    48: 301,
                    2: 302,
                    3: 303,
                    4: 304,
                    5: 305,
                    6: 306,
                    7: 307,
                    8: 308,
                    9: 309
                }
            }, e.lockOder = null, e.lockOderMTY = [80, 84, 78, 85, 86, 79, 77, 34, 23, 22, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderALD = [83, 82, 80, 78, 25, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderZB = [83, 82, 80, 20, 78, 25, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderKK = [80, 25, 82, 81, 78, 34, 23, 22, 77, 79, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderLS = [80, 24, 25, 78, 81, 82, null, 79, 34, 23, 22, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderMF = [116, 80, 35, null, 61, null, 25, 78, 79, 34, 23, 22, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderTD = [78, 88, 87, 19, 32, 24, 61, 20, 35, 29, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderBS = [96, 89, 91, 90, 80, 78, 25, 24, 61, 20, 35, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderWCF = [92, 24, 80, 78, 25, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.mcLockOderCIR = [80, 93, 78, 94, 95, 79, 77, 34, 23, 22, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderCIR = [93, 95, 94, 80, 78, 79, 77, 34, 23, 22, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderGO = [129, 118, 124, 125, 126, 127, 80, 78, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 128, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.lockOderKOC = [115, 111, 113, 112, 114, 79, 22, 23, 34, 77, 300, 200, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0], e.tempLockOder = null, e.playerLockSetting = null, e.LockSetting = null, i([c], e)
        }();
        n.default = l, cc._RF.pop()
    }, {
        "./ResourceManager": "ResourceManager"
    }],
    EventPuzzleDropEggMgr: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "1aa53d6eoRN1a6kIP39nz0s", "EventPuzzleDropEggMgr");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../FishCommon/Script/CanvasHandler"),
            r = e("../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggData"),
            c = e("../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggDropEgg"),
            l = e("../MainGame/Award/AwardManager"),
            h = e("../MainGame/Common/AudioManager"),
            u = e("../MainGame/Common/ResourceManager"),
            p = e("../MainGame/Common/Utility"),
            d = e("../MainGame/Fish/FishManager"),
            f = e("../MainGame/Player/PlayerManager"),
            m = e("../MainGame/Weapon/WeaponManager"),
            y = cc._decorator,
            g = y.ccclass,
            S = (y.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.m_funDropPuzzleEgg = null, t.m_funPuzzlePieceFlyStartCB = null, t.m_funPuzzlePieceFlyFinCB = null, t.m_funGetPuzzleIconPos = null, t.m_funGetEnableShow = null, t.CoinSound = -1, t.winSide = null, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this
                }, t.prototype.ParsePuzzelDropEgg = function(e, t, n, i) {
                    var o = n[900005],
                        a = o.UserAwardData,
                        s = o.UserQuestData;
                    if (a.length > 1) {
                        console.error("ParsePuzzelDropEgg, userAwardData > 1 = ", a);
                        for (var r = n.small_fish_hit_id, c = n.big_fish_hit_id, l = n.boss_fish_hit_id, h = -1, u = 0; u < a.length; u++) {
                            for (var p = a[u], d = 0; d < s.length; d++) {
                                var f = s[d];
                                if (p.Name == f.Name) {
                                    h = f.AwardType;
                                    break
                                }
                            }
                            switch (h) {
                                case 0:
                                    i = r;
                                    break;
                                case 1:
                                    i = c;
                                    break;
                                case 2:
                                    i = l
                            }
                            this.DropEgg(e, t, p, s, i)
                        }
                    } else this.DropEgg(e, t, a[0], s, i)
                }, t.prototype.DropEgg = function(e, t, n, i, o) {
                    for (var a = this, c = this.GetFishPos(t, o), l = cc.Vec2.ZERO, h = n.AwardInfo, u = function(n) {
                            var o = h[n],
                                u = o.Amount,
                                d = o.EggType,
                                y = o.Item;
                            if (t) {
                                var g = !0;
                                if (p.m_funGetEnableShow && (g = p.m_funGetEnableShow()), y <= r.PUZZLE_ITEM_DEFINE.GoldPuzzle) {
                                    var S = Number(o.PuzzleIndex);
                                    g ? p.CheckQuestState(y, i) && (l = s.default.ConvMousePosNoReverse(p.m_funGetPuzzleIconPos(y - 1)), p.m_funDropPuzzleEgg && p.m_funDropPuzzleEgg(), p.DropPuzzleItemEffect(n, e, t, d, y, u, c, l, function() {
                                        a.m_funPuzzlePieceFlyStartCB && a.m_funPuzzlePieceFlyStartCB()
                                    }, function() {
                                        a.m_funPuzzlePieceFlyFinCB && a.m_funPuzzlePieceFlyFinCB(y, S)
                                    })) : p.m_funPuzzlePieceFlyFinCB && p.m_funPuzzlePieceFlyFinCB(y, S)
                                } else f.PlayerManager.BulletSync(1), g ? (l = m.default.WeaponPosition(e), p.DropPuzzleItemEffect(n, e, t, d, y, u, c, l, null, function() {
                                    y == r.PUZZLE_ITEM_DEFINE.Winning ? a.DropCoinEffect(c, u, f.PlayerManager.getPlayer(e).bet_value, e, !0) : y == r.PUZZLE_ITEM_DEFINE.Entry && a.DropCoinEffect(c, u, f.PlayerManager.getPlayer(e).bet_value, e, !1, !0)
                                })) : y == r.PUZZLE_ITEM_DEFINE.Winning ? f.PlayerManager.Instance.ModifyPlayerWinning(e, u) : y == r.PUZZLE_ITEM_DEFINE.Entry && (f.PlayerManager.Instance.ModifyPlayerEntries(e, u, null, !1), f.PlayerManager.BulletSync(-1, null))
                            } else p.m_funGetEnableShow && p.m_funGetEnableShow() && null != c && (l = m.default.WeaponUIPosition(e), p.DropPuzzleItemEffect(n, e, t, d, y, u, c, l, null, null))
                        }, p = this, d = 0; d < h.length; d++) u(d)
                }, t.prototype.CheckQuestState = function(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        if ("Puzzle" == i.GameThemeID[0]) {
                            var o = r.PUZZLE_TYPE.Copper,
                                a = Number(i.AwardType);
                            if (3 == a ? o = r.PUZZLE_TYPE.Copper : 4 == a ? o = r.PUZZLE_TYPE.Sliver : 5 == a && (o = r.PUZZLE_TYPE.Gold), r.PUZZLE_ITEM[o].dropID == e) {
                                var s = i.Status;
                                if (0 != s && console.error("CheckQuestState, puzzleType = " + o + ", questStatus = " + s), s > 0) return !1
                            }
                        }
                    }
                    return !0
                }, t.prototype.GetFishPos = function(e, t) {
                    var n = cc.Vec2.ZERO,
                        i = null;
                    if ("" != t && (i = d.default.Instance.GetFishByID(t)) && (n = s.default.ConvMousePosNoReverse(i.getFishPos())), "" == t || null == i) {
                        if (!e) return void(n = void 0);
                        var o = void 0,
                            a = void 0;
                        Math.random() > .5 ? (o = Math.floor(1136 * Math.random() - 568), a = Math.random() > .5 ? 350 : -320) : (o = Math.random() > .5 ? 600 : -600, a = Math.floor(660 * Math.random() - 320)), n = cc.v2(o, a)
                    }
                    return this.winSide || (this.winSide = cc.v2(.5 * s.default.WinSize.width, .5 * s.default.WinSize.height)), n.x > this.winSide.x - 50 ? n.x = this.winSide.x - 100 - 100 * Math.random() : n.x < 50 - this.winSide.x && (n.x = 100 - this.winSide.x + 100 * Math.random()), n.y > this.winSide.y - 50 ? n.y = this.winSide.y - 100 - 100 * Math.random() : n.y < 50 - this.winSide.y && (n.y = 100 - this.winSide.y + 100 * Math.random()), n
                }, t.prototype.DropPuzzleItemEffect = function(e, t, n, i, o, a, s, r, l, h) {
                    void 0 === l && (l = null), void 0 === h && (h = null), console.warn("[DropPuzzleItemEffectALD]seat: %s, eggType: %s, itemID: %s, qty: %s", t, i, o, a);
                    var p = u.default.SpawnPuzzleEggDropEgg("DropEgg" + i);
                    if (p) {
                        var d = p.getComponent(c.FishPuzzleEggDropEgg);
                        s.addSelf(cc.v2(100 * e, 0)), d.Init(n, i, p, o, a, s, r, function() {
                            l && l()
                        }, function(e) {
                            u.default.DespawnPuzzleEggDropEgg(e), h && h()
                        })
                    }
                }, t.prototype.DropCoinEffect = function(e, t, n, i, o, a) {
                    var s = this;
                    void 0 === a && (a = !1);
                    var r = null;
                    r = l.default.Instance.SpawnAward(l.AwardType.NormalFishNum, e, !0);
                    var c = t / n;
                    r.getComponent(cc.Label).string = p.default.NumberformatBet(t, n), r.scale = .5, r.runAction(cc.spawn(cc.sequence(cc.scaleTo(.1, 2.1).easing(cc.easeBackOut()), cc.scaleTo(.25, 1)), cc.callFunc(function() {
                        r.runAction(cc.sequence(cc.delayTime(.55), cc.callFunc(function() {
                            l.default.Instance.DropCoin(r.getPosition(), i, o, a, t), u.default.DespawnEffect(l.AwardType.NormalFishNum, r), -1 != s.CoinSound && h.default.Instance.Stop(s.CoinSound), s.CoinSound = h.default.Instance.Play(s.GetCoinSound(c))
                        })))
                    })))
                }, t.prototype.GetCoinSound = function(e) {
                    return e < 10 ? "34_coinjump_a" : e < 50 ? "34_coinjump_b" : "34_coinjump_c"
                }, t.instance = null, n = a([g], t)
            }(cc.Component));
        n.default = S, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggData": void 0,
        "../../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggDropEgg": void 0,
        "../MainGame/Award/AwardManager": "AwardManager",
        "../MainGame/Common/AudioManager": "AudioManager",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../MainGame/Common/Utility": "Utility",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../MainGame/Weapon/WeaponManager": "WeaponManager"
    }],
    FLASH_FLAT_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8348e+Dkv9BV7GVOvUqZP4G", "FLASH_FLAT_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFlashFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, t.prototype.onMove = function(e) {
                    var t = this;
                    e.AddSpeed(-70, 500);
                    var n = e.PonitIndex,
                        i = e.GetTargetPoint(n),
                        o = e.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            e.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            t.mAnim.play("Swim"), e.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLASH_GURNARD: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2df37C6fqJPcLNSbO4Mmkcb", "FLASH_GURNARD");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = e("./BaseFlashFish"),
            c = cc._decorator.ccclass,
            l = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([c], t)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLASH_OCTOPUS: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "cade35k1wVPGbwak9L2lwh6", "FLASH_OCTOPUS");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = e("./BaseFlashFish"),
            c = cc._decorator.ccclass,
            l = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([c], t)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseFlashFish": "BaseFlashFish"
    }],
    FLAT_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "aa357CSdM9FB7PNnTzfqHLS", "FLAT_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, t.prototype.onMove = function(e) {
                    var t = this;
                    e.AddSpeed(-70, 500);
                    var n = e.PonitIndex,
                        i = e.GetTargetPoint(n),
                        o = e.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            e.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            t.mAnim.play("Swim"), e.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    FinalShip: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "241bckXXSJKxZamonS96+J6", "FinalShip");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t
                }
                return o(t, e), t.prototype.reuse = function() {
                    e.prototype.reuse.call(this), this.skeleton && this.skeleton.setAnimation(0, "animation", !0)
                }, a([l(sp.Skeleton)], t.prototype, "skeleton", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    FishAvatarIcon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2087eVwBmlAW48JrI0D6gg5", "FishAvatarIcon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../LobbyCommon/Component/BundleCtrl"),
            l = e("../../../../../LobbyCommon/Helper/EventSystem"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.faceSprite = null, t.frameSprite = null, t.nicknameLabel = null, t.playerId = "-1", t.nickname = "", t.faceId = "", t.faceFrameId = "", t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.SetRegister()
                }, t.prototype.onDestroy = function() {
                    this.UnRegister()
                }, t.prototype.SetRegister = function() {
                    l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this), l.EventSystem.Event(l.FishHunter.UpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, t.prototype.UnRegister = function() {
                    l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this), l.EventSystem.Event(l.FishHunter.UpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, t.prototype.SetByPlayerData = function(e) {
                    "" != this.playerId && e.ArkID == this.playerId && (this.SetFaceByID(e.FaceID), this.SetFrameByID(e.FaceFrameID), this.SetNickname(e.NickName))
                }, t.prototype.SetNickname = function(e) {
                    this.nicknameLabel && this.nickname != e && (this.nickname = e, this.nicknameLabel.string = e)
                }, t.prototype.SetFaceSprite = function(e) {
                    this.faceSprite && (this.faceSprite.spriteFrame = e)
                }, t.prototype.SetFrameSprite = function(e) {
                    this.frameSprite && (this.frameSprite.spriteFrame = e)
                }, t.prototype.SetFaceByID = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return 0 == e.length && (e = "FAC000"), this.faceId == e ? [2] : [4, c.default.Instance.GetSpirte("Avatar", e)];
                                case 1:
                                    return (t = n.sent()) && (this.faceId = e, this.SetFaceSprite(t)), [2]
                            }
                        })
                    })
                }, t.prototype.SetFrameByID = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.faceFrameId == e ? [2] : 0 == e.length ? (this.faceFrameId = e, this.SetFrameSprite(null), [2]) : [4, c.default.Instance.GetSpirte("Avatar", e)];
                                case 1:
                                    return (t = n.sent()) && (this.faceFrameId = e, this.SetFrameSprite(t)), [2]
                            }
                        })
                    })
                }, a([p(cc.Sprite)], t.prototype, "faceSprite", void 0), a([p(cc.Sprite)], t.prototype, "frameSprite", void 0), a([p(cc.Label)], t.prototype, "nicknameLabel", void 0), a([u], t)
            }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Component/BundleCtrl": void 0,
        "../../../../../LobbyCommon/Helper/EventSystem": void 0
    }],
    FishManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "d9320iPf1pISZofoO74iBQY", "FishManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../Common/ResourceManager"),
            l = e("../../System/FishSystem"),
            h = e("./BaseFish"),
            u = e("../../GameClient"),
            p = e("../Common/AISeek"),
            d = e("../Common/EnumFilter"),
            f = e("../Award/AwardManager"),
            m = e("../Player/PopupWindowCtrl"),
            y = e("../Common/PreloadManager"),
            g = e("../Game/GameManager"),
            S = e("../../../../../FishCommon/Script/CanvasHandler"),
            _ = e("./UniqueFishData"),
            v = e("../Common/MultiLangSystem"),
            b = e("../../GameClient"),
            P = cc._decorator.ccclass,
            I = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.time_count = 0, t.fps_counter = 0, t.MAX_SCRIPT_FRAME = 7776e3, t.currect_fps = 0, t.current_frame = 0, t.fish_manager = new Map, t.fish_info = {}, t.ai_seek = null, t.army_key = [], t.army_queue = {}, t.Event_FishEnter = null, t.Event_FishInit = null, t.ai_is_speed_up = !1, t.ai_speed_up_time = 0, t.winSide = null, t.uniqueFishData = null, t.waitFishScriptTime = -1, t.skipCmdTime = 0, t.fakeFishSN = -1, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.getUniqueFishData = function(e, t) {
                    if (void 0 === t && (t = !1), null == this.uniqueFishData && (this.uniqueFishData = new Array), !this.uniqueFishData[e]) {
                        var n = new _.default(e);
                        t || n.getComponent ? this.uniqueFishData[e] = n : console.warn("getUniqueFishData Error : " + e)
                    }
                    return this.uniqueFishData[e]
                }, t.prototype.recycleUniqueFishData = function(e) {
                    this.uniqueFishData && null != this.uniqueFishData[e] && (this.uniqueFishData[e].getComponent.Recycle(), this.uniqueFishData[e] = null)
                }, t.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return n.instance = this, this.ai_seek = new p.AISeek("debug"), e = this, [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/fish_info")];
                                case 1:
                                    return e.fish_info = t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.start = function() {
                    y.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this))
                }, t.prototype.update = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.fps_counter++, this.time_count += e, this.current_frame += e, this.current_frame > this.MAX_SCRIPT_FRAME && (this.current_frame = 0), this.time_count >= 1 && (this.currect_fps = this.fps_counter, this.time_count = 0, this.fps_counter = 0), this.ArmyQueueProcess(e), this.FishSpeedUp(e), -1 != this.waitFishScriptTime && (this.waitFishScriptTime += e), [2]
                        })
                    })
                }, t.prototype.onFishScript = function(e, t, n, i, o, a) {
                    if (a.hasOwnProperty("submarine_info_list")) try {
                        this.getUniqueFishData(d.FishType.BattleShip).setCustomData(a)
                    } catch (c) {
                        cc.error("No submarine exData object")
                    }
                    if (this.current_frame = e, n) {
                        a || (a = {}), a.enterSync = !0;
                        for (var s = 0; s < n.length; s++) {
                            var r = l.FishData.hasOwnProperty(l.FishData.frame) ? Math.ceil(this.current_frame) - l.FishData[l.FishData.frame] : 0;
                            this.CreateFish(n[s], o[s], r, a)
                        }
                    }
                    this.unschedule(this.SendFishScript.bind(this)), this.schedule(this.SendFishScript.bind(this), 5)
                }, t.prototype.SendFishScript = function() {
                    u.default.FishSystem && u.default.FishSystem.SendFishScript(), -1 != this.waitFishScriptTime && (u.default.Instance.ReciveCmdTime(this.waitFishScriptTime), this.skipCmdTime++), this.waitFishScriptTime = 0
                }, t.prototype.onCreateFish = function(e, t, n, i, o) {
                    for (var a = t.length, s = 0; s < a; s++) this.CreateFish(t[s], i[s], null, o)
                }, t.prototype.onFishScriptTime = function(e, t) {
                    var n = t - this.current_frame;
                    this.current_frame = t, n > 2 && this.FishSpeedUp(0, 2, n - 2), this.skipCmdTime > 0 ? this.skipCmdTime-- : (u.default.Instance.ReciveCmdTime(this.waitFishScriptTime), this.waitFishScriptTime = -1)
                }, t.prototype.onFeatureEvent = function(e) {
                    if (e.hasOwnProperty("fish_id")) {
                        var t = e.fish_id,
                            n = this.GetFishByID(t);
                        n && 116 == n.Type && n.SyncData instanceof Function && n.SyncData(e.odds, e.level)
                    }
                    if (e.hasOwnProperty("submarine_info_list")) try {
                        this.getUniqueFishData(d.FishType.BattleShip).setCustomData(e)
                    } catch (o) {
                        cc.warn("SubmarineInfo not ready")
                    }
                    if (e.hasOwnProperty("OccupyTotalTime") && e.ArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id) {
                        cc.warn("test"), e.Panel = "BeenOccupy";
                        var i = new m.WindowsData(m.Windows.BattleShipInfo, [null, function(e, t) {
                            f.default.Instance.BlastCoin(e, t), m.default.CloseWindow()
                        }], [v.default.getMultiLangText("ShipInfoTitle"), v.default.getMultiLangText("ShipName_R"), v.default.getMultiLangText("ShipName_G"), v.default.getMultiLangText("ShipName_B"), v.default.getMultiLangText("ShipID"), v.default.getMultiLangText("Occupied"), v.default.getMultiLangText("AccumulatePrizes"), v.default.getMultiLangText("BeenOccupied")], e);
                        m.default.EnableWindow(i, !0, !1, 2)
                    }
                }, t.prototype.ArmyQueueProcess = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t, n, i, o = this;
                        return r(this, function() {
                            if (this.army_key.length > 0)
                                for (t = function(t) {
                                        var i = n.army_key[t];
                                        if (n.army_queue.hasOwnProperty(i)) {
                                            var a = n.army_queue[i],
                                                s = a.sec_count,
                                                r = a.max_sec,
                                                l = a.last_key,
                                                u = a.position;
                                            Math.abs(i + s - n.current_frame) <= 1 && (a.sec_count = s = n.current_frame - i);
                                            var p = (.1 * Math.round(10 * s)).toString().substr(0, 4);
                                            if (p != l && a.hasOwnProperty(p)) {
                                                var d = a[p];
                                                a.last_key = p, d.forEach(function(e) {
                                                    var t = e.type,
                                                        n = e.id,
                                                        i = e.fishPath,
                                                        a = e.delayTime - 2,
                                                        r = c.default.SpawnFish(t);
                                                    if (r) {
                                                        var l = r.getComponent(h.default);
                                                        l.Event_FishInit = o.OnFishInit.bind(o), l.InitPath(n, t, i, s - a, u.x, u.y), l.enabled = !0, o.AddFishByID(l)
                                                    } else cc.warn(t + " is not create")
                                                })
                                            }
                                            s += e, a.sec_count = s, n.army_queue[i] = a, s >= r && (n.army_key.splice(t, 1), delete n.army_queue[i])
                                        } else n.army_key.splice(t, 1)
                                    }, n = this, i = 0; i < this.army_key.length; i++) t(i);
                            else this.army_queue = {};
                            return [2]
                        })
                    })
                }, t.prototype.CreateFish = function(e, t, n, i) {
                    return void 0 === n && (n = 0), s(this, void 0, void 0, function() {
                        var o, a, s, p, y, S, _, b, P, I, C, w, M, E, T, A, F, k, O, L = this;
                        return r(this, function() {
                            if (o = e[l.FishData.type], !this.fish_info.hasOwnProperty(o) || !this.fish_info[o].enable) return [2];
                            if (a = e[l.FishData.feature], o = this.ConvFishType(o, a), e[l.FishData.type] = o, null == o) return cc.error("[CreateFish]data: " + JSON.stringify(e)), [2];
                            if (s = this.fish_info[o].behavior_type || 0, i && i.enterSync && s == h.BEHAVIOR_TYPE.SPINE) return cc.warn("enterSync block type:" + o), [2];
                            if (p = e[l.FishData.id], y = Math.floor(this.current_frame), n = e.hasOwnProperty(l.FishData.frame) ? y - e[l.FishData.frame] : n, s == h.BEHAVIOR_TYPE.PATH) return S = this.fish_info[o].path_type, this.GenerateArmy(S, p, y, n), [2];
                            if (this.currect_fps > 10) m.default.EnableNetUnstable(!1, 1);
                            else {
                                if (m.default.EnableNetUnstable(!0, 1), cc.warn("FPS\u904e\u4f4e \u7565\u904etype:" + o.toString()), s != h.BEHAVIOR_TYPE.STAND) return [2];
                                cc.warn("\u7279\u6b8a\u9b5a\u7a2e \u7167\u5e38\u751f\u9b5atype:" + o.toString())
                            }
                            if (_ = e[l.FishData.size], b = this.fish_info.hasOwnProperty(o.toString()) ? this.fish_info[o].path_type : o, P = e[l.FishData.path_index] || 0, I = this.fish_info[o].alive || 100, 1 == _) {
                                if (F = c.default.SpawnFish(o)) switch ((k = F.getComponent(h.default)) && (k.enabled = !0, k.Event_FishInit = this.OnFishInit.bind(this), k.Init(e, p.toString(), I, s, t), this.AddFishByID(k), s == h.BEHAVIOR_TYPE.SEEK ? (O = {
                                    sync: n
                                }, k.InitSeek(b, P, O)) : s == h.BEHAVIOR_TYPE.NORMAL ? k.InitNormalBehavior(b, n) : n > 0 && k.SetSyncTime(n), k.Event_FishEnter = this.OnFishEnter.bind(this)), C = d.default.getFishType(o), w = null, C) {
                                    case d.FishType.KingCrab:
                                    case d.FishType.KingLacoste:
                                    case d.FishType.KingAngle:
                                    case d.FishType.KingTaco:
                                    case d.FishType.Buffalo:
                                    case d.FishType.Patrick:
                                    case d.FishType.TurtleBoss:
                                    case d.FishType.LionDance:
                                    case d.FishType.CircusPig:
                                    case d.FishType.CircusTiger:
                                    case d.FishType.GoldenSlotCrab:
                                        g.default.Instance.BackgroundNow.BossEnter();
                                        break;
                                    case d.FishType.Vampire:
                                        i && i.hasOwnProperty("Vampire_odds") && this.getUniqueFishData(C).setTargetNumber(i.Vampire_odds), this.getUniqueFishData(C).bindFish(k);
                                        break;
                                    case d.FishType.Buddha:
                                        i && i.hasOwnProperty("LuckyBuddha_odds") && this.getUniqueFishData(C).setTargetNumber(i.LuckyBuddha_odds), this.getUniqueFishData(C).bindFish(k);
                                        break;
                                    case d.FishType.TreasureCrab:
                                        i && i.hasOwnProperty("treasure_score") && i.hasOwnProperty("treasure_level") && this.getUniqueFishData(C, !0).TreasureCrabInit(k, i.treasure_score, i.treasure_level);
                                        break;
                                    case d.FishType.RedDragon:
                                        (w = {}).time = 1e4, w.callback = function() {
                                            L.recycleUniqueFishData(d.FishType.RedDragon)
                                        }, this.getUniqueFishData(C).setTimeEvent(w);
                                        break;
                                    case d.FishType.BattleShip:
                                        if (i.mainPlayerArkID = SS.Network.LoginModel.LoginInfo.pin_ark_id, M = this.getUniqueFishData(C).getComponent, i.onUpdate = M.getData.bind(M), k.setExdata(i), i.onClick = function(e) {
                                                e.onUpdate = M.getData.bind(M), e.mainPlayerArkID = SS.Network.LoginModel.LoginInfo.pin_ark_id;
                                                var t = new m.WindowsData(m.Windows.BattleShipInfo, [function(e, t) {
                                                    u.default.PlayerSystem.SendCollectAward(e, t)
                                                }, function(e, t) {
                                                    var n = {};
                                                    n.occupy_data = e, n.changePanel = !1, L.getUniqueFishData(d.FishType.BattleShip).setCustomData(n), f.default.Instance.BlastCoin(e, t), u.default.PlayerSystem.SendSyncAsset(), m.default.CloseWindow()
                                                }], [v.default.getMultiLangText("ShipInfoTitle"), v.default.getMultiLangText("ShipName_R"), v.default.getMultiLangText("ShipName_G"), v.default.getMultiLangText("ShipName_B"), v.default.getMultiLangText("ShipID"), v.default.getMultiLangText("Occupied"), v.default.getMultiLangText("AccumulatePrizes")], e);
                                                m.default.EnableWindow(t)
                                            }, !i.hasOwnProperty("occupy_data")) switch (i.occupy_data = {}, o) {
                                            case 89:
                                                i.occupy_data.submarine_name = "SUBMARINE_R";
                                                break;
                                            case 90:
                                                i.occupy_data.submarine_name = "SUBMARINE_G";
                                                break;
                                            case 91:
                                                i.occupy_data.submarine_name = "SUBMARINE_B"
                                        }
                                        this.getUniqueFishData(C).setCustomData(i);
                                        break;
                                    case d.FishType.CircusClown:
                                        i && i.hasOwnProperty("CircusClown_odds") && this.getUniqueFishData(C).setTargetNumber(i.CircusClown_odds), this.getUniqueFishData(C).bindFish(k);
                                        break;
                                    case d.FishType.BlazingTiger:
                                        i && i.hasOwnProperty("FlamingTiger_odds") && this.getUniqueFishData(C).setTargetNumber(i.FlamingTiger_odds), this.getUniqueFishData(C).bindFish(k);
                                        break;
                                    case d.FishType.ArmorKingCrab:
                                        (w = {}).fish = k, w.endEvent = function() {
                                            L.recycleUniqueFishData(d.FishType.ArmorKingCrab)
                                        }, i.hasOwnProperty("ARMOR_KING_SPIDER_CRAB") && (w.hp = i.ARMOR_KING_SPIDER_CRAB.hp, w.level = i.ARMOR_KING_SPIDER_CRAB.level), this.getUniqueFishData(C).setCustomData(w);
                                        break;
                                    case d.FishType.KingSquid:
                                        i.hasOwnProperty("GOLDEN_SQUID") && k.changeLevel(i.GOLDEN_SQUID.size);
                                        break;
                                    case d.FishType.KingJellyFish:
                                        i.hasOwnProperty("GOLDEN_MEDUSA") && k.changeLevel(i.GOLDEN_MEDUSA.size);
                                        break;
                                    case d.FishType.GeneralLobster:
                                        i && i.hasOwnProperty("upgrade_fish") && (E = i.upgrade_fish, k.changeLevel(E.level))
                                }
                            } else if (_ > 1) {
                                for (T = [], A = 0; A < _; A++)(F = c.default.SpawnFish(o)) && (F.setPosition(new cc.Vec2(-1920, -1680)), (k = F.getComponent(h.default)) && (k.enabled = !0, k.Event_FishInit = this.OnFishInit.bind(this), k.Init(e, (p + A).toString(), I, h.BEHAVIOR_TYPE.SEEK, t), this.AddFishByID(k), T.push(k.node), k.Event_FishEnter = this.OnFishEnter.bind(this)));
                                T.length > 0 && (O = {
                                    members: T,
                                    sync: n
                                }, T[0].getComponent(h.default).InitSeek(b, P, O))
                            } else cc.warn("fish size error", e);
                            return [2]
                        })
                    })
                }, t.prototype.SummonFish = function(e) {
                    var t = this;
                    e.forEach(function(e) {
                        var n = e.type,
                            i = e.id,
                            o = t.fish_info[n].alive || 100,
                            a = c.default.SpawnFish(n);
                        if (a) {
                            var s = a.getComponent(h.default);
                            if (s) {
                                s.enabled = !0;
                                var r = {};
                                r[l.FishData.type] = n, r[l.FishData.id] = i, r[l.FishData.x] = e.x, r[l.FishData.y] = e.y, r[l.FishData.feature] = 0;
                                var u = t.fish_info[n].behavior_type || 0,
                                    p = e.extra_data;
                                s.Event_FishInit = t.OnFishInit.bind(t), s.Init(r, i.toString(), o, u, p), t.AddFishByID(s), s.InitSummonBehavior();
                                var f = d.default.getFishType(n);
                                switch (f) {
                                    case d.FishType.RedDragon:
                                        var m = {
                                            time: 1e4,
                                            callback: function() {
                                                t.recycleUniqueFishData(d.FishType.RedDragon)
                                            }
                                        };
                                        t.getUniqueFishData(f).setTimeEvent(m);
                                        break;
                                    case d.FishType.EternalFlamingDragon:
                                        var y = {
                                            time: 15e3,
                                            callback: function() {
                                                t.recycleUniqueFishData(d.FishType.EternalFlamingDragon)
                                            }
                                        };
                                        t.getUniqueFishData(f).setTimeEvent(y)
                                }
                            }
                        }
                    })
                }, t.prototype.GenerateArmy = function(e, t, n, i, o) {
                    return void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === o && (o = cc.Vec2.ZERO), s(this, void 0, void 0, function() {
                        var a, s, c, l, h, p, d, f, m, y, g;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, u.default.Instance.loadJson("FishHunter/Res/data/army/" + e)];
                                case 1:
                                    for (a = r.sent(), s = a.cnt, c = a.fishDataList, l = {}, h = 0, p = 0; p < s; p++) c.hasOwnProperty(p) && (d = c[p].fishtype, f = .1 * Math.round(10 * c[p].delayTime), m = f.toString().substr(0, 4), null == (y = l[m]) && (y = new Array), (g = {}).id = (t + p + 1).toString(), g.type = d, g.fishPath = a.fishPath[c[p].pathIndex], g.delayTime = f, y.push(g), l[m] = y, f > h && (h = f));
                                    return l.max_sec = h, l.sec_count = i - 2, l.position = o, n = n || Math.floor(this.current_frame), this.army_queue[n] = l, this.army_key.push(n), [2]
                            }
                        })
                    })
                }, t.prototype.OnFishEnter = function(e) {
                    null != this.Event_FishEnter && this.Event_FishEnter(e)
                }, t.prototype.OnFishInit = function(e) {
                    null != this.Event_FishInit && this.Event_FishInit(e)
                }, t.prototype.getNextFakeID = function() {
                    return this.fakeFishSN--, this.fakeFishSN.toString()
                }, t.prototype.CreateFakeFish = function(e, t, n, i) {
                    void 0 === i && (i = -1), cc.error("[CreateFakeFish]data: ");
                    var o = c.default.SpawnFish(t);
                    if (o) {
                        var a = o.getComponent(h.default);
                        if (a) {
                            if (i < 0) a.ID = e.toString(), a.Type = t, a.AliveTime = 50, a.InitParameter(), n && o.setPosition(n);
                            else {
                                a.enabled = !0;
                                var s = {};
                                s[l.FishData.type] = t, s[l.FishData.id] = e.toString(), s[l.FishData.o] = Math.floor(360 * Math.random()), s[l.FishData.x] = Math.floor(10 * Math.random()), s[l.FishData.y] = Math.floor(10 * Math.random()), s[l.FishData.feature] = 0;
                                var r = this.fish_info[t].behavior_type || 0;
                                a.Init(s, e, 50, r);
                                var u = this.fish_info.hasOwnProperty(t.toString()) ? this.fish_info[t].path_type : t;
                                if (r == h.BEHAVIOR_TYPE.SEEK) {
                                    var p = s[l.FishData.path_index],
                                        d = {
                                            sync: i
                                        };
                                    a.InitSeek(u, p, d)
                                } else r == h.BEHAVIOR_TYPE.NORMAL && a.InitNormalBehavior(u, i)
                            }
                            return a.CanCollision = !1, this.AddFishByID(a), a
                        }
                    }
                    return null
                }, t.prototype.ConvFishType = function(e, t) {
                    switch (t) {
                        case 1:
                        case 2:
                            e = d.default.FeatureType[t][e]
                    }
                    return e
                }, t.prototype.ToBaseType = function(e) {
                    return e >= 200 ? e % 100 : e
                }, t.prototype.FishRunOut = function(e, t, n) {
                    this.FishSpeedUp(e, t, n), this.fish_manager.forEach(function(e) {
                        e.FishFadeOut(3, h.FishOutType.FISH_FORCE_LEAVE), e.FishRunOut(n)
                    })
                }, t.prototype.FishSpeedUp = function(e, t, n) {
                    if (this.ai_seek && t && (this.ai_seek.SetSpeedScale(t, n), this.ai_is_speed_up = !0), this.ai_is_speed_up) {
                        if (n && (this.ai_speed_up_time = n), this.ai_speed_up_time <= 0) return this.ai_seek.ResetSpeedScale(), void(this.ai_is_speed_up = !1);
                        this.ai_speed_up_time -= e
                    }
                }, t.prototype.FishFadeOut = function() {
                    this.fish_manager.forEach(function(e) {
                        e.FishFadeOut(3, h.FishOutType.FISH_FORCE_LEAVE)
                    }), this.uniqueFishData && this.uniqueFishData.forEach(function(e) {
                        e && e.Hide(!0, !1)
                    })
                }, t.prototype.FishOut = function(e) {
                    u.default.FishSystem && u.default.FishSystem.FishOut(e)
                }, t.prototype.KillFish = function(e, t, n, i, o, a, s, r) {
                    if (void 0 === o && (o = !0), void 0 === a && (a = !1), void 0 === s && (s = function() {}), null != t && t.node && t.node.active && (t.FishDie(e, o, r), !(n <= 0))) {
                        null == o && (o = !0), null == a && (a = !1), null == s && (s = function() {});
                        var c = 0,
                            l = d.FishType.Normal;
                        switch (r && 1 == r.AllTypeNormal || (l = d.default.getFishType(t.Type)), l) {
                            case d.FishType.Normal:
                                this.winSide || (this.winSide = cc.v2(.5 * S.default.WinSize.width, .5 * S.default.WinSize.height));
                                var h = t.node.getPosition();
                                h.x > this.winSide.x - 50 ? h.x = this.winSide.x - 100 - 100 * Math.random() : h.x < 50 - this.winSide.x && (h.x = 100 - this.winSide.x + 100 * Math.random()), h.y > this.winSide.y - 50 ? h.y = this.winSide.y - 100 - 100 * Math.random() : h.y < 50 - this.winSide.y && (h.y = 100 - this.winSide.y + 100 * Math.random()), t.node.setPosition(h);
                                var u = r ? r.CoinEndPos : null;
                                r && 0 == r.showScore ? (f.default.Instance.DropCoin(t.node.getPosition(), e, !a, !1, n, u), c = 1) : c = f.default.Instance.NormalFishMoneyNum(t.node.getPosition(), n, i, e, o, !a, u);
                                break;
                            case d.FishType.Double:
                                c = f.default.Instance.DoubleFishMoneyNum(t, n, i, e, !a);
                                break;
                            case d.FishType.HumpbackWhale:
                                c = f.default.Instance.HumpbackWhaleAward(t, n, i, e, !a);
                                break;
                            case d.FishType.FireDragon:
                            case d.FishType.KingCrab:
                            case d.FishType.KingLacoste:
                            case d.FishType.KingAngle:
                            case d.FishType.KingTaco:
                            case d.FishType.Mermaid:
                            case d.FishType.DragonTurtle:
                            case d.FishType.Phoenix:
                            case d.FishType.IceDragon:
                            case d.FishType.ArmorKingCrab:
                                c = f.default.Instance.BossAward(t, n, i, e, !a);
                                break;
                            case d.FishType.WealthGod:
                                var p = r.level;
                                c = f.default.Instance.WealthGodAward(t, n, i, p, e, !a);
                                break;
                            case d.FishType.TreasureCrab:
                                c = f.default.Instance.TreasureCrabAward(t, n, i, e, !a)
                        }
                        s(c)
                    }
                }, t.prototype.AddFishByID = function(e) {
                    this.fish_manager.set(e.ID, e)
                }, t.prototype.GetFishByID = function(e) {
                    var t = this;
                    if ("string" == typeof e || "number" == typeof e) return e = "" + e, this.fish_manager.get(e);
                    var n = [];
                    return e.forEach(function(e) {
                        e = "" + e;
                        var i = t.fish_manager.get(e);
                        i && n.push(i)
                    }), n
                }, t.prototype.IsEternalFish = function(e) {
                    var t = this;
                    if ("string" == typeof e || "number" == typeof e) {
                        var n = this.GetFishByID(e);
                        if (n) switch (n.Type) {
                            case 111:
                            case 112:
                            case 113:
                            case 114:
                            case 115:
                                return !0;
                            default:
                                return !1
                        }
                        return !1
                    }
                    var i = !1;
                    return e.forEach(function(e) {
                        var n = t.GetFishByID(e);
                        if (n) switch (n.Type) {
                            case 111:
                            case 112:
                            case 113:
                            case 114:
                            case 115:
                                i = !0
                        }
                    }), i
                }, t.prototype.RemoveFishByID = function(e) {
                    var t = this.GetFishByID(e);
                    t && b.GameLogMainPlayer.pushFish(t), this.fish_manager.delete(e) || cc.warn("fish_id: %s not in fish_manager", e)
                }, t.prototype.GetRangeAttackableID = function(e, t, n) {
                    var i = t * t,
                        o = new Array;
                    return this.fish_manager.forEach(function(t) {
                        if (o.length < n && t.CanCollision && !t.IsFeatureFish) {
                            var a = t.node.getPosition();
                            a.subSelf(e), a.magSqr() <= i && o.push(t.ID)
                        }
                    }), o
                }, t.prototype.InFishRange = function(e) {
                    var t = [];
                    if (this.fish_manager.forEach(function(n, i) {
                            n.CanCollision && !d.default.ClickAvoidFish(n.Type) && n.PointInColliderRange(e) && t.push(i)
                        }), t.length > 0)
                        for (var n = d.default.getLockOder(), i = 0; i < n.length; i++)
                            for (var o = 0; o < t.length; o++)
                                if (this.fish_manager.get(t[o]).Type == n[i]) return this.fish_manager.get(t[o]);
                    return null
                }, t.prototype.GetNextLockFish = function(e, t) {
                    if (void 0 === t && (t = ""), null != d.default.LockSetting) {
                        for (var n = function(e) {
                                var n = null;
                                if (i.fish_manager.forEach(function(i) {
                                        null == n && i.ID != t && i.CanCollision && i.IsInScreen && i.Type == d.default.LockSetting[e] && null != i.GetLockLinkPoint(cc.Vec2.ZERO) && (n = i)
                                    }), n) return {
                                    value: n
                                }
                            }, i = this, o = 0; o < d.default.LockSetting.length; o++) {
                            var a = n(o);
                            if ("object" == typeof a) return a.value
                        }
                        return null
                    }
                    return null
                }, t.prototype.CheckAnyFishInScreen = function() {
                    var e = !1;
                    return this.fish_manager.forEach(function(t) {
                        t.IsInScreen && (e = !0)
                    }), e
                }, t.prototype.UniqueFishOddsEvent = function(e, t) {
                    this.getUniqueFishData(t).setTargetNumber(e)
                }, t.prototype.ClearFish = function() {
                    var e = this;
                    this.fish_manager.forEach(function(t, n) {
                        e.RemoveFishByID(n)
                    })
                }, t.prototype.Clear = function() {
                    this.ClearFish(), this.fish_manager = null, this.fish_info = {}, this.army_key.length = 0, this.army_queue = {}, n.instance = null
                }, t.prototype.SetUnhitableFishColor = function(e, t) {
                    this.fish_manager.forEach(function(n) {
                        -1 != e.indexOf(n.Type) ? n.SetShapeColor(t) : n.SetShapeColor(cc.Color.WHITE)
                    })
                }, t.prototype.GetFishByType = function(e) {
                    var t = null;
                    return this.fish_manager.forEach(function(n) {
                        t || d.default.getFishType(n.Type) != e || (t = n)
                    }), t
                }, t.prototype.TestFish = function(e, t) {
                    var i = this,
                        o = parseInt(t);
                    61 == o && (o = 61 + Math.floor(5 * Math.random())), 101 == o && (o = 101 + Math.floor(5 * Math.random())), n.testFishID = Math.floor(1e4 * Math.random()).toString();
                    var a = this.fish_info[o].alive || 100,
                        s = c.default.SpawnFish(o);
                    if (s) {
                        var r = s.getComponent(h.default);
                        if (r) {
                            r.enabled = !0;
                            var u = {};
                            u[l.FishData.type] = o, u[l.FishData.id] = n.testFishID, u[l.FishData.o] = Math.floor(360 * Math.random()), u[l.FishData.x] = Math.floor(10 * Math.random()), u[l.FishData.y] = Math.floor(10 * Math.random()), u[l.FishData.feature] = 0;
                            var p = this.fish_info[o].behavior_type || 0;
                            r.Event_FishInit = this.OnFishInit.bind(this), r.Init(u, n.testFishID, a, p, {
                                init: 0,
                                turning: [0, 0, 0, 0, 0],
                                speed: [1.6, 2.2, 2.8, 3.4, 4],
                                level: [0]
                            }), this.AddFishByID(r);
                            var f = this.fish_info.hasOwnProperty(o.toString()) ? this.fish_info[o].path_type : o;
                            if (p == h.BEHAVIOR_TYPE.SEEK) {
                                var m = u[l.FishData.path_index];
                                r.InitSeek(f, m, {
                                    sync: 0
                                })
                            } else p == h.BEHAVIOR_TYPE.NORMAL && r.InitNormalBehavior(f);
                            var y = d.default.getFishType(o);
                            switch (y) {
                                case d.FishType.ArmorKingCrab:
                                    var S = {};
                                    S.fish = r, S.endEvent = function() {
                                        i.recycleUniqueFishData(d.FishType.ArmorKingCrab)
                                    }, this.getUniqueFishData(y).setCustomData(S);
                                    break;
                                case d.FishType.KingTaco:
                                    g.default.Instance.BackgroundNow.BossEnter()
                            }
                        }
                    }
                }, t.instance = null, t.testFishID = "1", n = a([P], t)
            }(cc.Component);
        n.default = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/FishSystem": "FishSystem",
        "../Award/AwardManager": "AwardManager",
        "../Common/AISeek": "AISeek",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "../Player/PopupWindowCtrl": "PopupWindowCtrl",
        "./BaseFish": "BaseFish",
        "./UniqueFishData": "UniqueFishData"
    }],
    FishMenuMgr: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a3457rSZ2FFjrWsjf8Lx1qj", "FishMenuMgr");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./FishMenu"),
            r = e("../Item/ItemButton"),
            c = e("../Item/ItemManager"),
            l = e("../../../../../LobbyCommon/Net/LobbyClient"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.m_nodeRoot = null, t.m_nodeAllBtnList = null, t.m_nodeRingUp = null, t.m_nodeRingDown = null, t.m_btnOpen = null, t.m_btnClose = null, t.m_aryFishMenu = [], t.m_curFishMenu = null, t.m_aryShowBtnList = ["SummonButton", "FreezeButton"], t.m_aryCurBtnNodeList = [], t.TIME_ANIM = .35, t.itemBtnIndex = 0, t.NAME_REPEAT_EVENT_BTN = "Com_EventButton", t
                }
                return o(t, e), t.prototype.GetRootNode = function() {
                    return this.m_nodeRoot
                }, t.prototype.GetAllBtn = function() {
                    return this.m_nodeAllBtnList
                }, t.prototype.GetButtonNodeList = function() {
                    return this.m_aryCurBtnNodeList
                }, t.prototype.onLoad = function() {
                    this.ClearMenu()
                }, t.prototype.ShowMenu = function() {
                    var e, t = this.m_aryShowBtnList;
                    if ((e = t.length) <= 0) cc.error("menu button dataCount = 0");
                    else {
                        for (var n = 0; n < this.m_aryFishMenu.length; n++) {
                            var i = this.m_aryFishMenu[n];
                            if (i.GetAnchorCount() == e) {
                                this.m_curFishMenu = i;
                                break
                            }
                        }
                        if (null != this.m_curFishMenu) {
                            this.m_nodeRoot.active = !0, this.m_curFishMenu.SetActiveRoot(!0);
                            var o = 0;
                            for (n = 0; n < t.length; n++) {
                                cc.log("\u7522\u751fData", t[n]);
                                var a = t[n],
                                    s = this.FindButton(a);
                                if (null != s) {
                                    s.parent = this.m_curFishMenu.GetAnchor()[o], a != this.NAME_REPEAT_EVENT_BTN && (s.scale = 1), s.setPosition(cc.v2(0, 0)), o++;
                                    var l = s.getComponent(r.default);
                                    l && (c.default.Instance.AddItemBtn(this.itemBtnIndex, l), this.itemBtnIndex++), this.m_aryCurBtnNodeList[n] = s
                                }
                            }
                            this.MenuOpen()
                        } else cc.error("can't find menuGroup, dataCount = " + e)
                    }
                }, t.prototype.ClearMenu = function() {
                    for (var e = 0; e < this.m_aryFishMenu.length; e++) {
                        var t = this.m_aryFishMenu[e];
                        t.Clear(this.m_nodeAllBtnList), t.SetActiveRoot(!1)
                    }
                    this.m_nodeRoot.active = !1, this.itemBtnIndex = 0, this.m_aryCurBtnNodeList = []
                }, t.prototype.FindButton = function(e) {
                    if (e == this.NAME_REPEAT_EVENT_BTN) return null;
                    for (var t = 0; t < this.m_nodeAllBtnList.children.length; t++)
                        if (e == this.m_nodeAllBtnList.children[t].name) return this.m_nodeAllBtnList.children[t];
                    return null
                }, t.prototype.CheckFishMission = function() {
                    var e = !1;
                    if (null != l.LobbyClient.Instance.m_CommonEventInfo_900004) try {
                        var t = JSON.parse(l.LobbyClient.Instance.m_CommonEventInfo_900004);
                        if (t.hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0) {
                            var n = t.QuestList;
                            if (n.lengt > 0)
                                for (var i = 0; i < n.length; i++)
                                    if (200 == n[i].TitleType) {
                                        e = !0;
                                        break
                                    }
                        }
                    } catch (h) {
                        return cc.error("parseMisInfo"), !1
                    }
                    return e
                }, t.prototype.MenuShowEffect = function() {
                    var e = this,
                        t = cc.sequence(cc.delayTime(.5), cc.callFunc(function() {
                            e.callMenuClose(function() {
                                setTimeout(function() {
                                    e.MenuOpen()
                                }, 500)
                            })
                        }));
                    this.node.runAction(t)
                }, t.prototype.callMenuClose = function(e) {
                    void 0 === e && (e = null), this.m_btnClose.node.active = !1, this.m_btnOpen.node.active = !0, this.ResetRingState(!1);
                    var t = cc.spawn(cc.scaleTo(this.TIME_ANIM, 0).easing(cc.easeBackIn()), cc.fadeTo(this.TIME_ANIM, 120)),
                        n = cc.spawn(cc.scaleTo(this.TIME_ANIM, 0).easing(cc.easeBackIn()), cc.fadeTo(this.TIME_ANIM, 120));
                    this.m_nodeRingUp.runAction(t), this.m_nodeRingDown.runAction(n), this.m_curFishMenu && this.m_curFishMenu.HideAnim(this.TIME_ANIM, e)
                }, t.prototype.MenuOpen = function() {
                    this.m_btnClose.node.active = !0, this.m_btnOpen.node.active = !1, this.ResetRingState(!0);
                    var e = cc.spawn(cc.scaleTo(this.TIME_ANIM, 1, 1).easing(cc.easeBackOut()), cc.fadeIn(this.TIME_ANIM)),
                        t = cc.spawn(cc.scaleTo(this.TIME_ANIM, 1, -1).easing(cc.easeBackOut()), cc.fadeIn(this.TIME_ANIM));
                    this.m_nodeRingUp.runAction(e), this.m_nodeRingDown.runAction(t), this.m_curFishMenu && this.m_curFishMenu.ShowAnim(this.TIME_ANIM)
                }, t.prototype.MenuClose = function() {
                    this.callMenuClose()
                }, t.prototype.ResetRingState = function(e) {
                    this.m_nodeRingUp.stopAllActions(), this.m_nodeRingDown.stopAllActions(), e ? (this.m_nodeRingUp.setScale(0), this.m_nodeRingUp.opacity = 120, this.m_nodeRingDown.setScale(0), this.m_nodeRingDown.opacity = 120) : (this.m_nodeRingUp.setScale(1), this.m_nodeRingUp.opacity = 255, this.m_nodeRingDown.setScale(1, -1), this.m_nodeRingDown.opacity = 255)
                }, t.prototype.GetCurAnchor = function() {
                    return this.m_curFishMenu.GetAnchor()
                }, a([p(cc.Node)], t.prototype, "m_nodeRoot", void 0), a([p(cc.Node)], t.prototype, "m_nodeAllBtnList", void 0), a([p(cc.Node)], t.prototype, "m_nodeRingUp", void 0), a([p(cc.Node)], t.prototype, "m_nodeRingDown", void 0), a([p(cc.Button)], t.prototype, "m_btnOpen", void 0), a([p(cc.Button)], t.prototype, "m_btnClose", void 0), a([p([s.default])], t.prototype, "m_aryFishMenu", void 0), a([u], t)
            }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../Item/ItemButton": "ItemButton",
        "../Item/ItemManager": "ItemManager",
        "./FishMenu": "FishMenu"
    }],
    FishMenu: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "07147wULiZEaLb/xA9uWXBo", "FishMenu");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.m_nodeRoot = null, t.m_aryAnchor = [], t
                }
                return o(t, e), t.prototype.GetAnchorCount = function() {
                    return this.m_aryAnchor.length
                }, t.prototype.GetAnchor = function() {
                    return this.m_aryAnchor
                }, t.prototype.SetActiveRoot = function(e) {
                    this.m_nodeRoot.active = e
                }, t.prototype.Clear = function(e) {
                    for (var t = 0; t < this.m_aryAnchor.length; t++) this.m_aryAnchor[t].childrenCount > 0 && (this.m_aryAnchor[t].children[0].parent = e)
                }, t.prototype.ShowAnim = function(e) {
                    this.m_nodeRoot.setScale(0), this.m_nodeRoot.opacity = 0;
                    var t = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(e, 1).easing(cc.easeBackOut()), cc.fadeIn(e)));
                    this.m_nodeRoot.runAction(t)
                }, t.prototype.HideAnim = function(e, t) {
                    void 0 === t && (t = null), this.m_nodeRoot.setScale(1), this.m_nodeRoot.opacity = 255;
                    var n = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(e, 0).easing(cc.easeBackIn()), cc.fadeOut(e)), cc.callFunc(function() {
                        null != t && t()
                    }));
                    this.m_nodeRoot.runAction(n)
                }, a([c(cc.Node)], t.prototype, "m_nodeRoot", void 0), a([c([cc.Node])], t.prototype, "m_aryAnchor", void 0), a([r], t)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    FishMissionData: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ecfc6RaKwpKNLABn7zA73aU", "FishMissionData"), Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishQustObjectiveType = n.FishUserQuestDataStatus = n.FishMissionAward = n.FishMissionData = void 0;
        n.FishMissionData = function() {
            this.Status = -1
        };
        n.FishMissionAward = function() {
                this.ItemID = [], this.ItemAmount = []
            },
            function(e) {
                e[e.NONE = -1] = "NONE", e[e.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", e[e.AWARD_AVAILAALDE = 1] = "AWARD_AVAILAALDE", e[e.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(n.FishUserQuestDataStatus || (n.FishUserQuestDataStatus = {})),
            function(e) {
                e[e.NONE = -1] = "NONE", e[e.GET_ANY_FISH = 4] = "GET_ANY_FISH", e[e.GET_FISH = 5] = "GET_FISH", e[e.USE_ANY_ITEM = 6] = "USE_ANY_ITEM", e[e.ANY_CRAB = 7] = "ANY_CRAB"
            }(n.FishQustObjectiveType || (n.FishQustObjectiveType = {})), cc._RF.pop()
    }, {}],
    FishSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "aea1fcwP6RDN676WQqzX6re", "FishSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishSystem = n.FishData = void 0;
        var a = e("./baseSystem"),
            s = {
                fish_out: "f0",
                fish_create: "f1",
                fish_event: "f2",
                fish_scene: "f3",
                fish_script: "f4",
                fish_script_time: "f5",
                fish_script_event: "f6",
                fish_feature_event: "f7"
            };
        n.FishData = {
            id: "1",
            type: "2",
            x: "3",
            y: "4",
            o: "5",
            feature: "6",
            position: "7",
            size: "8",
            frame: "9",
            script_type: "10",
            fish_group: "11",
            fish: "12",
            current: "13",
            scene: "14",
            parameter: "15",
            king_status: "16",
            path: "17",
            summon: "18",
            path_index: "19",
            ai_seed: "20",
            treasure_win: "21",
            treasure_level: "22",
            level: "level"
        };
        var r = function(e) {
            function t(t) {
                var n = e.call(this, t, "fish") || this;
                return n.FishScriptEvent = null, n.CreateFishEvent = null, n.ScriptTimeEvent = null, n.ScriptEvent = null, n.FeatureEvent = null, n.RegisterCmdCallback(s.fish_script, n.onFishScript.bind(n)), n.RegisterCmdCallback(s.fish_event, n.onFishEvent.bind(n)), n.RegisterCmdCallback(s.fish_create, n.onCreateFish.bind(n)), n.RegisterCmdCallback(s.fish_script_time, n.onScriptTime.bind(n)), n.RegisterCmdCallback(s.fish_script_event, n.onScriptEvent.bind(n)), n.RegisterCmdCallback(s.fish_feature_event, n.onFeatureEvent.bind(n)), n
            }
            return o(t, e), t.prototype.GetFishScript = function() {
                this.SendCmd(s.fish_script)
            }, t.prototype.onFishScript = function(e, t) {
                if (cc.log("[onFishScript]data: " + JSON.stringify(t)), this.FishScriptEvent) {
                    var i = t[n.FishData.current],
                        o = t[n.FishData.scene],
                        a = t[n.FishData.fish_group],
                        s = t.timestamp,
                        r = t[n.FishData.parameter],
                        c = {};
                    t.hasOwnProperty("Vampire_odds") && (c.Vampire_odds = t.Vampire_odds), t.hasOwnProperty("LuckyBuddha_odds") && (c.LuckyBuddha_odds = t.LuckyBuddha_odds), t.hasOwnProperty("treasure_score") && (c.treasure_score = t.treasure_score), t.hasOwnProperty("treasure_level") && (c.treasure_level = t.treasure_level), t.hasOwnProperty("large_capture_score") && (c.large_capture_score = t.large_capture_score), t.hasOwnProperty("medium_capture_score") && (c.medium_capture_score = t.medium_capture_score), t.hasOwnProperty("small_capture_score") && (c.small_capture_score = t.small_capture_score), t.hasOwnProperty("submarine_occupy_data_list") && (c.submarine_info_list = t.submarine_occupy_data_list), t.hasOwnProperty("CircusClown_odds") && (c.CircusClown_odds = t.CircusClown_odds), t.hasOwnProperty("FlamingTiger_odds") && (c.FlamingTiger_odds = t.FlamingTiger_odds), t.hasOwnProperty("upgrade_fish") && (c.upgrade_fish = t.upgrade_fish), this.FishScriptEvent(i, o, a, s, r, c)
                }
            }, t.prototype.onCreateFish = function(e, t) {
                if (this.CreateFishEvent) {
                    var i = t[n.FishData.script_type],
                        o = t.timestamp,
                        a = t[n.FishData.fish_group],
                        s = t[n.FishData.parameter],
                        r = {};
                    t.hasOwnProperty("Vampire_odds") && (r.Vampire_odds = t.Vampire_odds), t.hasOwnProperty("LuckyBuddha_odds") && (r.LuckyBuddha_odds = t.LuckyBuddha_odds), t.hasOwnProperty("treasure_score") && (r.treasure_score = t.treasure_score), t.hasOwnProperty("treasure_level") && (r.treasure_level = t.treasure_level), t.hasOwnProperty("capture_score") && (r.capture_score = t.capture_score), t.hasOwnProperty("occupy_data") && (r.occupy_data = t.occupy_data), t.hasOwnProperty("CircusClown_odds") && (r.CircusClown_odds = t.CircusClown_odds), t.hasOwnProperty("FlamingTiger_odds") && (r.FlamingTiger_odds = t.FlamingTiger_odds), t.hasOwnProperty("upgrade_fish") && (r.upgrade_fish = t.upgrade_fish), this.CreateFishEvent(i, a, o, s, r)
                }
            }, t.prototype.FishOut = function(e) {
                var t = {};
                t[n.FishData.id] = e, this.SendCmd(s.fish_out, t)
            }, t.prototype.SendFishScript = function() {
                this.SendCmd(s.fish_script_time, null)
            }, t.prototype.onScriptTime = function(e, t) {
                if (this.ScriptTimeEvent) {
                    var i = t[n.FishData.id],
                        o = t[n.FishData.current],
                        a = t.timestamp;
                    this.ScriptTimeEvent(i, o, a)
                }
            }, t.prototype.onScriptEvent = function(e, t) {
                if (this.ScriptEvent) {
                    var i = t[n.FishData.type];
                    this.ScriptEvent(i)
                }
            }, t.prototype.onFeatureEvent = function(e, t) {
                this.FeatureEvent && this.FeatureEvent(t)
            }, t.prototype.onFishEvent = function() {}, t
        }(a.default);
        n.FishSystem = r, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    FlameStormBullet: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b3ac9cusFBGo7zKTPztKTM3", "FlameStormBullet");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseBullet"),
            r = e("../Player/PlayerManager"),
            c = e("../Common/ResourceManager"),
            l = e("./WeaponManager"),
            h = e("../../GameClient"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.onCollisionEnter = function(e) {
                    if (this.canCollision) {
                        var t = e.getComponent("BaseFish");
                        if (!t)
                            for (var n = 0, i = e.node.parent; n < 5 && i && !(t = i.getComponent("BaseFish"));) i = i.parent, n++;
                        t && t.CanCollisionByMainSeat(r.PlayerManager.isMainSeat(this.seat)) && !t.IsFeatureFish && (this.SendBlast(Number(t.ID)), r.PlayerManager.isMainSeat(this.seat) && t.OnHitFish(), this.canCollision = !1)
                    }
                }, t.prototype.SendBlast = function(e) {
                    this.CreateExplodeEffect(this.node.getPosition());
                    var t = this.bulletID,
                        n = this.seat;
                    this.Recycle(), l.default.Instance.bulletCount[n]--, r.PlayerManager.isMainSeat(n) && h.default.SkillSystem.FlameStormBlast(t, n, e)
                }, t.prototype.CreateExplodeEffect = function(e) {
                    var t = c.default.SpawnEffect("FlameStorm_ExplodeEffect", r.PlayerManager.isMainSeat(this.seat));
                    t && (t.setPosition(e), t.angle = this.node.angle - 90)
                }, a([p], t)
            }(s.default));
        n.default = d, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet",
        "./WeaponManager": "WeaponManager"
    }],
    FlameStormWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c90adwZQ2pMLbGOgn5YgMY0", "FlameStormWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseWeapon"),
            r = e("./WeaponManager"),
            c = cc._decorator.ccclass,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.lastShootTime = (new Date).getTime(), t.shootGap = 100, t.autoShootGap = 170, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.playerSeat = e, this.isGunReady = !1, this.node.angle = e < 2 ? 0 : 180, this.gunNode.active = !1, this.Type = r.WeaponType.FlameStorm
                }, t.prototype.ChangeGunAnim = function() {
                    this.gunNode.active = !0, this.gunNode.scale = 1.5, this.gunNode.runAction(cc.scaleTo(.5, 1))
                }, t.prototype.ShootState = function(e) {
                    if (!this.isGunReady) return 0;
                    var t = (new Date).getTime() - this.lastShootTime;
                    return t < this.shootGap ? 0 : !e && t < this.autoShootGap ? 0 : 1
                }, t.prototype.ShootFunction = function(t) {
                    e.prototype.ShootFunction.call(this, t), this.lastShootTime = (new Date).getTime()
                }, a([c], t)
            }(s.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    FlameStorm_ScoreUI: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4d9d7BUtD5Mnb4HrvmkGqRa", "FlameStorm_ScoreUI");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseSkillScoreUI"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.multiNode = null, t.multiBG = null, t.multiText = null, t.timeText = null, t
                }
                return o(t, e), t.prototype.Init = function(t) {
                    e.prototype.Init.call(this, t), this.multiText.string = "x1", this.multiBG.color = cc.Color.BLUE, this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .65), cc.scaleTo(.5, .6))))
                }, t.prototype.SetMultiText = function(e) {
                    switch (this.multiText.string = "x" + e.toString(), e) {
                        case 3:
                            this.multiBG.color = cc.Color.CYAN, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .7), cc.scaleTo(.5, .6))));
                            break;
                        case 5:
                            this.multiBG.color = cc.Color.RED, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .75), cc.scaleTo(.5, .6))));
                            break;
                        case 7:
                            this.multiBG.color = cc.Color.MAGENTA, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, .85), cc.scaleTo(.5, .7))));
                            break;
                        case 9:
                            this.multiBG.color = cc.Color.GREEN, this.multiNode.stopAllActions(), this.multiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, 1), cc.scaleTo(.5, .8))))
                    }
                }, t.prototype.SetTimeText = function(e) {
                    this.timeText && (e < .01 && (e = 0), this.timeText.string = (e < 10 ? "0" : "") + e.toFixed(2))
                }, a([l(cc.Node)], t.prototype, "multiNode", void 0), a([l(cc.Node)], t.prototype, "multiBG", void 0), a([l(cc.Label)], t.prototype, "multiText", void 0), a([l(cc.Label)], t.prototype, "timeText", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseSkillScoreUI": "BaseSkillScoreUI"
    }],
    FreezeEffect: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "18622IgEsxGSb9ep1W8WoZO", "FreezeEffect");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/ResourceManager"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.anim = null, t.part = null, t.scale_range = 1, t.position_range = 250, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.anim.on("finished", this.finished.bind(this))
                }, t.prototype.Play = function() {
                    var e = this;
                    this.node.setPosition(this.node.x + (Math.random() - .5) * this.position_range, this.node.y + (Math.random() - .5) * this.position_range), this.node.setScale((.5 + Math.random()) * this.scale_range), this.node.angle = 359 * Math.random(), this.node.runAction(cc.sequence(cc.delayTime(.25 * Math.random()), cc.callFunc(function() {
                        e.anim.play("SnowFlake"), e.part.node.active = !0, e.part.resetSystem()
                    })))
                }, t.prototype.finished = function() {
                    this.part.node.active = !1, this.part.stopSystem(), s.default.DespawnEffect("_effect", this.node)
                }, a([l(cc.Animation)], t.prototype, "anim", void 0), a([l(cc.ParticleSystem)], t.prototype, "part", void 0), a([c], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager"
    }],
    GENERAL_LOBSTER: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "6a72aK8sq9DVpHXUNVnl74u", "GENERAL_LOBSTER");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("./BaseFish"),
            u = e("../Common/ResourceManager"),
            p = e("./BaseFish"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.levelParents = [], t.skeletonArray = [], t.colliderArray = [], t.shapeNodes = [], t.magicCircle = [], t.skeleton = null, t.level = null, t.fishScale = .5, t.scaleByLevel = [.5, .75, 1.1, 1.6], t.scaleRateByLevel = [.001, .001, .001], t
                }
                return o(t, e), Object.defineProperty(t.prototype, "LEVEL", {
                    get: function() {
                        return this.level
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.InitParameter = function() {
                    this.canCollision = !0, this.node.stopAllActions(), this.isSummoning = !1, this.node.runAction(cc.fadeIn(.5)), this.mainFishNode && this.offsetPos.mag() > 0 && this.mainFishNode.setPosition(cc.Vec2.ZERO), this.node.scale = this.reSize, this.aliveStatus = h.FishState.ALIVE, this.aliveTime = this.defaultAliveTime, this.logAliveTime = this.defaultAliveTime, this.isInScreen = !1, this.Event_FishLeave && (this.Event_FishLeave = null), this.behaviorType = p.BEHAVIOR_TYPE.NORMAL, this.isInit = !0, this.Event_FishInit && this.Event_FishInit(this), this.level = null, this.magicCircle.forEach(function(e) {
                        e.opacity = 255
                    }), this.magicCircle.forEach(function(e) {
                        e.stopAllActions(), e.runAction(cc.fadeOut(2))
                    }), this.isFeature = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.timeScale = 1, this.magicCircle.forEach(function(e) {
                        e.stopAllActions(), e.opacity = 255, e.runAction(cc.rotateBy(5, -360).repeatForever())
                    })
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.timeScale = 0, this.magicCircle.forEach(function(e) {
                        e.stopAllActions()
                    })
                }, t.prototype.initLevel = function(e) {
                    this.level = e, this.shapeNode = this.shapeNodes[this.level], this.shapeNode && (this.shapeNode.active = !0, this.shapeNode.color = cc.Color.WHITE, this.shapeNode.opacity = 255), this.levelParents.forEach(function(e) {
                        e.active = !1
                    }), this.levelParents[this.level].active = !0, this.skeletonArray.forEach(function(e) {
                        e.timeScale = 0
                    }), this.skeleton = this.skeletonArray[this.level], this.skeleton.setAnimation(0, "Swim", !0), this.skeleton.timeScale = 1, this.magicCircle.forEach(function(e) {
                        e.stopAllActions(), e.opacity = 255, e.runAction(cc.rotateBy(5, -360).repeatForever())
                    });
                    var t = this.scaleByLevel[this.level];
                    switch (this.setScale(t), this.level) {
                        case 0:
                            this.subColliderList = this.colliderArray[0].getComponentsInChildren(cc.Collider);
                            break;
                        case 1:
                        case 2:
                            this.subColliderList = this.colliderArray[1].getComponentsInChildren(cc.Collider)
                    }
                }, t.prototype.setScale = function(e) {
                    this.fishScale = e, this.node.scale = e, 0 == this.level && (this.node.scale = 1.17 * e)
                }, t.prototype.setExdata = function(e) {
                    var t = e;
                    e && e.hasOwnProperty("upgrade_fish") ? (t = e.upgrade_fish, this.changeLevel(t.level), this.setScale(t.size / 100)) : (t && t.hasOwnProperty("level") && t.level > this.level && this.changeLevel(t.level), t && t.hasOwnProperty("size") && this.setScale(t.size / 100))
                }, t.prototype.changeLevel = function(e) {
                    var t = this;
                    if (null != this.level) {
                        this.level = e, this.PauseBehavior(2), this.node.stopAllActions();
                        var n = this.scaleByLevel[this.level];
                        this.node.runAction(cc.sequence(cc.sequence(cc.scaleBy(.15, 1.1), cc.scaleBy(.15, .9)).repeat(4), cc.scaleTo(.1, n))), this.scheduleOnce(function() {
                            var e = u.default.SpawnEffect("levelup", !1);
                            e.setPosition(t.node.position), e.angle = c.default.isReverse ? 180 : 0
                        }, .8), this.scheduleOnce(function() {
                            t.ResumeBehavior(), t.shapeNode = t.shapeNodes[t.level], t.shapeNode && (t.shapeNode.color = cc.Color.WHITE, t.shapeNode.opacity = 255), t.levelParents.forEach(function(e) {
                                e.active = !1
                            }), t.levelParents[t.level].active = !0, t.skeletonArray.forEach(function(e) {
                                e.timeScale = 0
                            }), t.skeleton = t.skeletonArray[t.level], t.skeleton.setAnimation(0, "Swim", !0), t.skeleton.timeScale = 1, t.magicCircle.forEach(function(e) {
                                e.stopAllActions(), e.opacity = 255, e.runAction(cc.rotateBy(5, -360).repeatForever())
                            });
                            var e = t.scaleByLevel[t.level];
                            switch (t.setScale(e), t.level) {
                                case 0:
                                    t.subColliderList = t.colliderArray[0].getComponentsInChildren(cc.Collider);
                                    break;
                                case 1:
                                case 2:
                                    t.subColliderList = t.colliderArray[1].getComponentsInChildren(cc.Collider)
                            }
                        }, 1.1)
                    } else this.initLevel(e)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect(2), t.shapeNode.runAction(cc.fadeOut(1)), t.magicCircle.forEach(function(e) {
                                            e.stopAllActions(), e.opacity = 255, e.runAction(cc.fadeOut(1))
                                        })
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.OnHitFish = function() {
                    e.prototype.OnHitFish.call(this), this.fishScale += this.scaleRateByLevel[this.level], this.fishScale = Math.min(this.fishScale, this.scaleByLevel[this.level + 1]), this.setScale(this.fishScale)
                }, a([m([cc.Node])], t.prototype, "levelParents", void 0), a([m([sp.Skeleton])], t.prototype, "skeletonArray", void 0), a([m([cc.Node])], t.prototype, "colliderArray", void 0), a([m([cc.Node])], t.prototype, "shapeNodes", void 0), a([m([cc.Node])], t.prototype, "magicCircle", void 0), a([f], t)
            }(h.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish"
    }],
    GIANT_PUFFER_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "76f9eW9jrJJjb0hE7Jp+yo1", "GIANT_PUFFER_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseFish"),
            l = cc._decorator.ccclass,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.step = 0, t.timer = 0, t.isExpand = !1, t.inflated = [], t
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.parameter && this.parameter.hasOwnProperty("inflated") && (this.inflated = this.parameter.inflated), this.step = 0, this.timer = 0, this.isExpand = !1
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.timer += t, this.aliveStatus == c.FishState.ALIVE && this.inflated && this.timer >= this.inflated[this.step] && this.freeze_time <= 0 && (this.Expand(), this.step = this.step + 1 >= this.inflated.length - 1 ? this.inflated.length - 1 : this.step + 1, this.timer = 0)
                }, t.prototype.FishDie = function(t, n, i) {
                    return void 0 === n && (n = !0), s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return e.prototype.FishDie.call(this, t, n, i), this.step = 0, this.timer = 0, this.isExpand = !1, [2]
                        })
                    })
                }, t.prototype.Expand = function() {
                    this.isExpand ? (this.mAnim && this.mAnim.play("EndExpand"), this.isExpand = !1) : (this.mAnim && this.mAnim.play("StartExpand"), this.isExpand = !0)
                }, a([l], t)
            }(c.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    GURNARD: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "398f9L+ZJJHUonrX0zuoNYW", "GURNARD");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    GameClient: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "7c419zwQP9FN6wHshpVbw4A", "GameClient");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.GameLogMainPlayer = n.OpenOtherPlayerProfile = n.OpenMainPlayerProfile = void 0;
        var c, l = e("./MainGame/Common/FishMenuMgr"),
            h = e("./MainGame/Common/PreloadManager"),
            u = e("./System/FishSystem"),
            p = e("./System/GameSystem"),
            d = e("./System/ItemSystem"),
            f = e("./System/KioskSystem"),
            m = e("./System/MissionSystem"),
            y = e("./System/PlayerSystem"),
            g = e("./System/SkillSystem"),
            S = e("./System/WeaponSystem"),
            _ = e("./MainGame/Common/MultiLangSystem"),
            v = e("./MainGame/Common/ResourceManager"),
            b = e("./MainGame/Player/PlayerManager"),
            P = e("./MainGame/Weapon/WeaponManager"),
            I = e("./MainGame/Fish/FishManager"),
            C = e("./MainGame/Game/GameManager"),
            w = e("./MainGame/Item/ItemManager"),
            M = e("./MainGame/Skill/BaseSkill"),
            E = e("./MainGame/Common/EnumFilter"),
            T = e("./Event/EventPuzzleDropEggMgr"),
            A = e("./MainGame/Player/PopupWindowCtrl"),
            F = e("../../../FishCommon/Script/FishUIMgr"),
            k = e("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            O = e("../../../LobbyCommon/Net/LobbyClient"),
            L = e("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            R = e("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            B = e("../../../LobbyCommon/Loading/Script/LoadingMgr"),
            D = e("../../../LobbyCommon/Component/AudioMgr"),
            N = e("../../../FishCommon/Script/CanvasHandler"),
            G = e("../../../LobbyCommon/EventModule/FishOceanHeart/Script/FishOceanHeartMgr"),
            x = e("../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggMgr"),
            W = e("../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl"),
            U = e("../../../LobbyCommon/TopBar/Script/TopbarMgr"),
            j = e("../../../FishCommon/Script/FishCommonRoot"),
            H = e("../../../LobbyCommon/LobbyCommon"),
            V = e("../../../LobbyCommon/Helper/EventSystem"),
            K = e("../../../LobbyCommon/Skin/Skin"),
            z = e("../../../LobbyCommon/Net/ClickLog"),
            q = e("./MainGame/Weapon/WeaponManager");
        (function(e) {
            e[e.NONE = -1] = "NONE", e[e.SEND_CMD = 0] = "SEND_CMD", e[e.GET_RECV = 1] = "GET_RECV"
        })(c || (c = {})),
        function(e) {
            e[e.InFishBattleShipInfo = 5] = "InFishBattleShipInfo", e[e.InFishBattleShip = 6] = "InFishBattleShip", e[e.InFishBattleShipPanelInfo = 7] = "InFishBattleShipPanelInfo", e[e.InFishBattleShipPanelSingle = 8] = "InFishBattleShipPanelSingle", e[e.InFish = 9] = "InFish"
        }(n.OpenMainPlayerProfile || (n.OpenMainPlayerProfile = {})),
        function(e) {
            e[e.InFishBattleShipInfo = 2] = "InFishBattleShipInfo", e[e.InFishBattleShip = 3] = "InFishBattleShip", e[e.InFishBattleShipPanelInfo = 4] = "InFishBattleShipPanelInfo", e[e.InFishBattleShipPanelSingle = 5] = "InFishBattleShipPanelSingle", e[e.InFish = 6] = "InFish"
        }(n.OpenOtherPlayerProfile || (n.OpenOtherPlayerProfile = {}));
        var Q = function() {
            function e() {}
            return e.init = function() {
                e.playerBeginTime = Math.floor(Date.now() / 1e3), e.lastPlayerTime = e.playerBeginTime, e.FishList = [], e.HitList = [], e.SceneName = "", X.Instance.schedule(function() {
                    X.Instance.sendGameEventLog()
                }, 30), e.isInit = !0
            }, e.pushFish = function(t) {
                if (-1 != e.recordFishTypeList.indexOf(t.Type)) {
                    var n = t.getAliveTime();
                    115 == t.Type && n > 30 && (n %= 30);
                    var i = null;
                    e.FishList.forEach(function(e) {
                        e.FishType == t.Type && (i = e)
                    }), i ? i.FishTime += n : (i = {
                        FishType: t.Type,
                        FishTime: n
                    }, e.FishList.push(i))
                }
            }, e.pushHit = function(t, n, i) {
                if (b.PlayerManager.isMainSeat(i)) {
                    var o = P.default.Instance.getMainPlayerWeaponType(),
                        a = "";
                    switch (o) {
                        case q.WeaponType.Normal:
                            a = "Normal";
                            break;
                        case q.WeaponType.Lock:
                            a = "Lock";
                            break;
                        case q.WeaponType.Tiger:
                            a = "Tiger";
                            break;
                        case q.WeaponType.Dragon:
                            a = "Dragon";
                            break;
                        default:
                            return
                    }
                    var s = I.default.Instance.GetFishByID(t);
                    if (s && null != s && -1 != e.recordFishTypeList.indexOf(s.Type)) {
                        var r = null;
                        if (e.HitList.forEach(function(e) {
                                e.FishType == s.Type && e.Bet == n && e.Weapon == a && (r = e)
                            }), r) r.Count += 1;
                        else {
                            var c = {};
                            c.FishType = s.Type, c.Bet = n, c.Weapon = a, c.Count = 1, c.KillTotalWin = 0, c.Kill = 0, c.MedalTotalWin = 0, c.Medal = 0, e.HitList.push(c)
                        }
                    }
                }
            }, e.pushWinning = function(t, n, i, o, a) {
                if (-1 != e.recordFishTypeList.indexOf(t.Type) && b.PlayerManager.isMainSeat(i)) {
                    var s = "";
                    switch (P.default.Instance.getMainPlayerWeaponType()) {
                        case q.WeaponType.Normal:
                            s = "Normal";
                            break;
                        case q.WeaponType.Lock:
                            s = "Lock";
                            break;
                        case q.WeaponType.Tiger:
                            s = "Tiger";
                            break;
                        case q.WeaponType.Dragon:
                            s = "Dragon";
                            break;
                        default:
                            return
                    }
                    if (-1 != e.recordFishTypeList.indexOf(t)) {
                        var r = null;
                        if (e.HitList.forEach(function(e) {
                                e.FishType == t && e.Bet == n && e.Weapon == s && (r = e)
                            }), !r || null == r || null == r) {
                            var c = {};
                            c.FishType = t, c.Bet = n, c.Weapon = s, c.Count = 0, c.KillTotalWin = 0, c.Kill = 0, c.MedalTotalWin = 0, c.Medal = 0, r = c
                        }
                        r && (a ? (r.Kill += 1, r.KillTotalWin += o) : (r.Medal += 1, r.MedalTotalWin += o))
                    }
                }
            }, e.setDataBeforeSend = function() {
                I.default.Instance.fish_manager.forEach(function(t) {
                    if (-1 != e.recordFishTypeList.indexOf(t.Type)) {
                        var n = t.getAliveTime(),
                            i = null;
                        e.FishList.forEach(function(e) {
                            e.FishType == t.Type && (i = e)
                        }), i ? i.FishTime += n : (i = {
                            FishType: t.Type,
                            FishTime: n
                        }, e.FishList.push(i))
                    }
                })
            }, e.initAfterSend = function() {
                e.FishList = [], e.HitList = []
            }, e.setScene = function(t) {
                switch (e.isInit || this.init(), "" != e.SceneName && X.Instance.sendGameEventLog(), t) {
                    case 4011:
                        e.SceneName = "GOLDEN_SLOT_CRAB";
                        break;
                    case 4201:
                        e.SceneName = "KING_SQUID";
                        break;
                    case 4202:
                        e.SceneName = "BLUE_PHOENIX";
                        break;
                    case 4203:
                        e.SceneName = "FLAMING_DRAGON";
                        break;
                    default:
                        e.SceneName = ""
                }
            }, e.playerBeginTime = 0, e.lastPlayerTime = 0, e.FishList = [], e.HitList = [], e.TotalWin = 0, e.SceneName = "", e.isInit = !1, e.recordFishTypeList = [111, 112, 113, 114, 115, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 128, 78, 80], e.intervalEvent = -1, e
        }();
        n.GameLogMainPlayer = Q;
        var Z = cc._decorator,
            J = Z.ccclass,
            Y = Z.property,
            X = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.GameName = "", t.title = "", t.CommonRootPrefab = null, t.FishMenuRootPrefab = null, t.PopupWindowPrefab = null, t.BarRoot = null, t.HasJP = !1, t.HasBundle = !1, t.IsWaitInitJpValue = !0, t.DownloadBundleFinished = !0, t.gameNetWork = null, t.arkSocketClient = null, t.gameSystem = null, t.fishSystem = null, t.playerSystem = null, t.WeaponSystem = null, t.SkillSystem = null, t.itemSystem = null, t.m_FishMenuMgr = null, t.m_FishMissionSystem = null, t.m_KioskSystem = null, t.fishUIMgr = null, t.topBar = null, t.JPBarRoot = null, t.isReturnToLobby = !1, t.isStopUpdate = !1, t.m_EventInfoState = c.NONE, t.m_tempQuestData = void 0, t.m_isEnableMission = !1, t.m_isEnableItem = !1, t.m_strEventTime = "", t.m_iSendQuestNum = 2, t.m_iRecQuestNum = 0, t.m_bOceanHeart = !1, t.m_bPuzzleButNoThisGame = !1, t.m_tempPlayerInfoData = {}, t.m_CurBet = 1, t.m_CurBetScale = 1, t.m_CurShootPerSecond = 6, t.m_CurCostPerSecond = 0, t.GetPromEvent = null, t.RELOAD_EXPIRE_TIME = 30, t.m_OceanHeartMgr = null, t.m_FishPuzzleEggMgr = null, t.RecordingSkillID = null, t.cheatBtn = null, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance ? this.instance : (this.instance = cc.find("GameClient").getComponent(n), this.instance)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "FishCommonRoot", {
                    get: function() {
                        return k.CommonRoot.Instance ? k.CommonRoot.Instance : null
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "GameSystem", {
                    get: function() {
                        return this.instance.gameSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "FishSystem", {
                    get: function() {
                        return this.instance.fishSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "PlayerSystem", {
                    get: function() {
                        return this.instance.playerSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "WeaponSystem", {
                    get: function() {
                        return this.instance.WeaponSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "SkillSystem", {
                    get: function() {
                        return this.instance.SkillSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "ItemSystem", {
                    get: function() {
                        return this.instance.itemSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "FishMenuMgr", {
                    get: function() {
                        return this.instance.m_FishMenuMgr
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "FishMissionSystem", {
                    get: function() {
                        return this.instance.m_FishMissionSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "KioskSystem", {
                    get: function() {
                        return this.instance.m_KioskSystem
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t, "FishUIMgr", {
                    get: function() {
                        return this.instance.fishUIMgr
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.GetCurCostPerSecond = function() {
                    return this.m_CurCostPerSecond
                }, t.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function() {
                            return n.instance = this, "magiccity" == window.gd_nowLOGO && (H.LobbyCommon.Instance.OnSetupCompletedEvent = this.OnLobbyCommonReady.bind(this)), cc.view.resizeWithBrowserSize(!0), cc.view.setDesignResolutionSize(1136, 640, cc.ResolutionPolicy.SHOW_ALL), null != this.FishMenuRootPrefab && ((e = cc.instantiate(this.FishMenuRootPrefab)).parent = this.BarRoot, this.m_FishMenuMgr = e.getComponent(l.default)), t = null, null != this.BarRoot && null != this.CommonRootPrefab && ((t = cc.instantiate(this.CommonRootPrefab)).parent = this.BarRoot, this.fishUIMgr = k.CommonRoot.Instance.GetGameBar), "playgd" == window.gd_nowLOGO ? (this.topBar = k.CommonRoot.Instance.GetTopBarMgr, SS.Common.GameEnvironment.GameSetting && this.topBar.SetDisableMenuBtn(SS.Common.GameEnvironment.GameSetting.DisableMenuBtn), this.topBar.SetTopBarStatus(U.TopbarStatus.InGameNormal)) : "magiccity" == window.gd_nowLOGO && null != this.PopupWindowPrefab && null != t && (cc.instantiate(this.PopupWindowPrefab).parent = t.getComponent(j.default).m_PopupWindowRoot), this.IsWaitInitJpValue = this.HasJP, this.HasBundle && (this.DownloadBundleFinished = !1, V.EventSystem.Event(V.FishHunter.DownloadBundleFinished).Insert(this.OnDownloadBundleFinished, this)), this.GameName = SS.Common.GameEnvironment.CurrentGameNow, this.title = SS.Common.GameEnvironment.CurrentGameNow, this.InitArkClient(), [2]
                        })
                    })
                }, t.prototype.start = function() {
                    h.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this))
                }, t.prototype.update = function() {
                    var e = this;
                    if (!this.isStopUpdate)
                        if (O.LobbyClient.Instance && O.LobbyClient.Instance.GetLobbySystem && O.LobbyClient.Instance.GetLobbySystem.m_isPosKick) O.LobbyClient.Instance.GetLobbySystem.m_isPosKick = !1, this.isStopUpdate = !0, this.NetworkClear(), L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Critical, "S171", this.title, "PosKick");
                        else if (O.LobbyClient.Instance && O.LobbyClient.Instance.GetLobbySystem && -1 != O.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin) {
                        var t = O.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin;
                        O.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin = -1;
                        var n = this;
                        clearTimeout(n.shutdownTimeoutID), console.log(" wait " + t + "min for server to idle"), n.shutdownTimeoutID = setTimeout(function() {
                            n.isStopUpdate = !0, e.NetworkClear(), L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Critical, "S170", e.title, "Server Maintain", null)
                        }, 6e4 * t)
                    } else O.LobbyClient.Instance.IsSocketErrorClose && (O.LobbyClient.Instance.IsSocketErrorClose = !1, this.isStopUpdate = !0, this.NetworkClear(), this.isReturnToLobby || this.SocketErrorClose())
                }, t.prototype.SocketErrorClose = function() {
                    var e = this;
                    L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Disconnected, "C14", this.title, "The internet was diconnected.", function() {
                        var t, n;
                        R.ConnectPanelMgr.Instance.ShowConnectPanel(), t = SS.Common.GameEnvironment.UserID, n = SS.Common.GameEnvironment.UserPW, O.LobbyClient.Instance.DoLogin(window.location.protocol + "//" + window.location.host+'/game/FishCircusPGD/server?command=lobby&sessionId='+sessionStorage.getItem('sessionId'), t, n, e.DoLoginSuccess.bind(e), e.DoLoginFail.bind(e))
                    })
                }, t.prototype.DoLoginSuccess = function() {
                    B.LoadingMgr.Instance.OpenLoading(), B.LoadingMgr.Instance.SetProgress(80, 15), R.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var e = cc.director.getScene();
                    cc.director.loadScene(e.name, null)
                }, t.prototype.DoLoginFail = function(e, t, n) {
                    console.log("LoginFail", t), R.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var i = e.toString();
                    if ("VerifyMobile" === n) this.VerifyMobileFailHandle(e, t);
                    else if ("DeviceLogin" === n) this.DeviceLoginFailHandle(e, t);
                    else if ("PinLogin" === n) this.PinLoginFailHandle(e, t);
                    else if ("BindSocket" === n) e == ArkSDK.SocketResult.OK ? i = "S133" : e == ArkSDK.SocketResult.Timeout ? i = "S134" : e == ArkSDK.SocketResult.Error ? i = "S135" : e == ArkSDK.SocketResult.NotReset && (i = "S136"), this.ErrorHandler(i, t);
                    else if ("ConnectWebSocket" === n) {
                        var o = "";
                        try {
                            o = JSON.stringify(t)
                        } catch (a) {}
                        L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Critical, "S172", this.title, "connect socket error ! SocketResult : " + e + " data : " + o, null)
                    }
                }, t.prototype.DeviceLoginFailHandle = function(e, t) {
                    var n = e.toString();
                    e == ArkSDK.HttpResult.OK ? t.hasOwnProperty("reason") && (n = "-1" == (n = t.reason) ? "S15" : "-2" == n ? "S16" : "-5" == n ? "S13" : "S14") : e == ArkSDK.HttpResult.Abort ? n = "S124" : e == ArkSDK.HttpResult.Timeout ? n = "S11" : e == ArkSDK.HttpResult.Error ? n = "S12" : e == ArkSDK.HttpResult.Status ? n = "S125" : e == ArkSDK.HttpResult.NotReset ? n = "S126" : e == ArkSDK.HttpResult.Condition && (n = "S127"), this.ErrorHandler(n, t)
                }, t.prototype.PinLoginFailHandle = function(e, t) {
                    var n = e.toString();
                    e == ArkSDK.HttpResult.Condition && t.hasOwnProperty("reason") ? n = "-5" == (n = t.reason) ? "S23" : "S131" : e == ArkSDK.HttpResult.OK ? t.hasOwnProperty("reason") && (n = "-3" == (n = t.reason) ? "S25" : "-4" == n ? "S26" : "S24") : e == ArkSDK.HttpResult.Abort ? n = "S128" : e == ArkSDK.HttpResult.Timeout ? n = "S21" : e == ArkSDK.HttpResult.Error ? n = "S22" : e == ArkSDK.HttpResult.Status ? n = "S129" : e == ArkSDK.HttpResult.NotReset ? n = "S130" : e == ArkSDK.HttpResult.Condition && (n = "S131"), this.ErrorHandler(n, t)
                }, t.prototype.VerifyMobileFailHandle = function(e, t) {
                    var n = e.toString();
                    e == ArkSDK.HttpResult.OK ? t.hasOwnProperty("result") && ("-6" == (n = t.result) ? n = "S115" : "-4" == n ? n = "S116" : "-5" == n && (n = "S117")) : e == ArkSDK.HttpResult.Abort ? n = "S118" : e == ArkSDK.HttpResult.Timeout ? n = "S119" : e == ArkSDK.HttpResult.Error ? n = "S120" : e == ArkSDK.HttpResult.Status ? n = "S121" : e == ArkSDK.HttpResult.NotReset ? n = "S122" : e == ArkSDK.HttpResult.Condition && (n = "S123"), this.ErrorHandler(n, t)
                }, t.prototype.ErrorHandler = function(e, t) {
                    L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Critical, e, this.title, t, null)
                }, t.prototype.InitArkClient = function() {
                    var e = this;
                    Object.assign({}, O.LobbyClient.Instance.GetUserClient.GetPinClient), window.location.protocol, SS.Common.GameEnvironment.ProjectSetting.Modules[this.GameName].ServerHOST, _.default.Init("en-us", this.StartPreload.bind(this));
                    var t = Object.assign({}, O.LobbyClient.Instance.GetUserClient.GetPinClient),
                        n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules[this.GameName].ServerHOST;
                    this.gameNetWork = new SS.Network.GameNetwork(t, this.GameName, n, "kiosk"), this.gameNetWork.SendCmdButNotRetry("KioskUrl", {}, this.onGetKioskUrl.bind(this), function(t) {
                        e.ErrorHandler("C16", t.toString())
                    })
                }, t.prototype.StartPreload = function() {
                    null != this.m_FishMenuMgr && this.m_FishMenuMgr.ShowMenu(), h.default.Instance.PreloadGameCommonRes(), h.default.Instance.LoadMainGame("normal", function() {
                        v.default.Instance.Init()
                    })
                }, t.prototype.onGetKioskUrl = function(e, t) {
                    if (e == ArkSDK.HttpResult.OK && 0 == t.cmd_data.status) {
                        var n = t.cmd_data,
                            i = n.url,
                            o = n.surl,
                            a = void 0,
                            s = !0;
                        o && "" != o ? a = o.split(":") : (a = i.split(":"), s = !1), this.arkSocketClient = new ArkSDK.ArkSocketClient(O.LobbyClient.Instance.GetUserClient.GetPinClient, 1024, 5), this.arkSocketClient.m_auth_exdata = {
                            kiosk_id: SS.Network.LoginModel.LoginInfo.kiosk_id,
                            device_id: SS.Network.LoginModel.LoginInfo.device_id,
                            machine_id: SS.Network.LoginModel.LoginInfo.machine_id,
                            is_mobile: !0
                        }, this.arkSocketClient.ConnectSocket(a[0], Number(a[1]), s, this.onOpen.bind(this), this.onMsg.bind(this), this.onClose.bind(this), this.onError.bind(this))
                    } else this.ShowErrorMsg(t)
                }, t.prototype.onOpen = function() {
                    this.InitSocketSystem(this.arkSocketClient);
                    var e = {};
                    e.kiosk_id = SS.Network.LoginModel.LoginInfo.kiosk_id, e.allow_state = ArkSDK.ArkClient.allowState, e.device = 1, this.arkSocketClient.SendCmd("kiosk", "PlayerJoin", e, this.onPlayerJoin.bind(this))
                }, t.prototype.onPlayerJoin = function(e, t) {
                    t.data.hasOwnProperty("maxGate") && (b.PlayerManager.Instance.MaxBalance = t.data.maxGate), t.data.hasOwnProperty("itemEnable") && (this.m_isEnableItem = t.data.itemEnable), t.data.hasOwnProperty("commonInfo") && (this.m_strEventTime = t.data.commonInfo), t.data.hasOwnProperty("cannonEnable") && P.default.Instance.InitWeaponList(t.data.cannonEnable), b.PlayerManager.Instance.m_aryWeaponLvData = t.data.CannonBetRange, this.QuickStart(), !this.m_isEnableItem && this.m_FishMenuMgr && (this.m_FishMenuMgr.GetRootNode().active = !1)
                }, t.prototype.onMsg = function() {}, t.prototype.onClose = function() {
                    this.NetworkClear(), this.isReturnToLobby || this.CallOnError("C33", "SocketClose")
                }, t.prototype.onError = function(e, t) {
                    this.NetworkClear(), t ? this.CallOnError("C32", "SocketError :" + t) : this.CallOnError("C32", "SocketError")
                }, t.prototype.InitSocketSystem = function(e) {
                    this.gameSystem = new p.default(e), this.fishSystem = new u.FishSystem(e), this.playerSystem = new y.default(e), this.WeaponSystem = new S.default(e), this.SkillSystem = new g.default(e), this.itemSystem = new d.default(e), this.m_FishMissionSystem = new m.default, this.m_FishMissionSystem.EVENT_ERROR_RETURN_LOBBY = this.MissionDataError.bind(this), this.m_KioskSystem = new f.default(e), this.RegisterEvent()
                }, t.prototype.QuickStart = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return v.default.Instance.isLoadDone ? [3, 2] : [4, new Promise(function(e) {
                                        setTimeout(e, 500)
                                    })];
                                case 1:
                                    return t.sent(), [3, 0];
                                case 2:
                                    return (e = {}).table_id = 0, e.seat_id = 0, e.kiosk_id = SS.Network.LoginModel.LoginInfo.kiosk_id, e.quick_start = !0, this.arkSocketClient.SendCmd("kiosk", "JoinTable", e, this.onTableJoinCallback.bind(this)), [2]
                            }
                        })
                    })
                }, t.prototype.onTableJoinCallback = function(e, t) {
                    if (e == ArkSDK.HttpResult.OK)
                        if (t.data && 0 == t.data.result) {
                            // if (self == top) return;
                            // O.LobbyClient.Instance.OnGameLoadingOK()
                        } else this.NetworkClear(), t.data ? this.CallOnError("S" + t.data.result, "ReceiveServerError") : this.CallOnError("C31", "ReceiveServerError");
                    else this.ShowErrorMsg(t)
                }, t.prototype.RegisterEvent = function() {
                    this.gameSystem.TableJoinEvent = this.onTableJoin.bind(this), this.gameSystem.InitGameEvent = this.onInitGame.bind(this), this.gameSystem.KickOutEvent = this.onKickOut.bind(this), this.m_KioskSystem.UpdateKioskSetting = this.onBroadCastSetting.bind(this), this.playerSystem.InitPlayerEvent = b.PlayerManager.Instance.onInitPlayer.bind(b.PlayerManager.Instance), this.playerSystem.UpdatePlayerEvent = b.PlayerManager.Instance.onInitOtherPlayer.bind(b.PlayerManager.Instance), this.gameSystem.PlayerLeaveEvent = b.PlayerManager.Instance.onPlayerLeave.bind(b.PlayerManager.Instance), this.playerSystem.UpdateBetEvent = b.PlayerManager.Instance.onUpdateBet.bind(b.PlayerManager.Instance), this.playerSystem.ReflashEvent = b.PlayerManager.Instance.onReflash.bind(b.PlayerManager.Instance), this.playerSystem.FishQuestCheckEvent = this.FishQuestCheckEvent.bind(this), this.playerSystem.FishPuzzleQuestCheckEvent = this.FishPuzzleQuestCheckEvent.bind(this), this.WeaponSystem.ShootEvent = P.default.Instance.OtherPlayerShoot.bind(P.default.Instance), this.WeaponSystem.BlastEvent = P.default.Instance.HitFishRequestCallback.bind(P.default.Instance), this.WeaponSystem.BlastBetEvent = b.PlayerManager.Instance.CheckBetList.bind(b.PlayerManager.Instance), this.WeaponSystem.UniqueOddsEvent = I.default.Instance.UniqueFishOddsEvent.bind(I.default.Instance), this.fishSystem.FishScriptEvent = I.default.Instance.onFishScript.bind(I.default.Instance), this.fishSystem.CreateFishEvent = I.default.Instance.onCreateFish.bind(I.default.Instance), this.fishSystem.ScriptTimeEvent = I.default.Instance.onFishScriptTime.bind(I.default.Instance), this.fishSystem.ScriptEvent = C.default.Instance.onScriptEvent.bind(C.default.Instance), this.fishSystem.FeatureEvent = I.default.Instance.onFeatureEvent.bind(I.default.Instance), this.topBar ? (this.topBar.m_DelClickBackToLobby.Insert(this.ReturnToLobby.bind(this), this), this.topBar.m_DelClickSound.Insert(this.OnClickedSound, this), this.topBar.m_DelClickInfo.Insert(this.OnClickedInfo, this)) : (V.EventSystem.Event(V.DockFunction.BackToLobby).Insert(this.ReturnToLobby.bind(this), this), V.EventSystem.Event(V.DockFunction.Sound).Insert(this.OnClickedSound, this), V.EventSystem.Event(V.DockFunction.Info).Insert(this.OnClickedInfo, this)), this.fishUIMgr.m_DelClickPurchase.Insert(this.CheckPlayingState, this), V.PurchaseEvent.OnPurchaseSuccess && V.EventSystem.Event(V.PurchaseEvent.OnPurchaseSuccess).Insert(this.onPurchaseSuccessByProfile, this), this.fishUIMgr.m_DelPurchaseSuccess.Insert(this.onPurchaseSuccess, this), this.fishUIMgr.m_DelBetChange.Insert(b.PlayerManager.Instance.SendUpdateBet, b.PlayerManager.Instance), this.fishUIMgr.m_DelClickAddBetLevel.Insert(b.PlayerManager.Instance.AddBet, b.PlayerManager.Instance), this.fishUIMgr.m_DelClickReduceBetLevel.Insert(b.PlayerManager.Instance.MinusBet, b.PlayerManager.Instance), this.fishUIMgr.m_DelClickChange.Insert(P.default.Instance.SwitchWeapon, P.default.Instance), this.fishUIMgr.m_DelClickAuto.Insert(P.default.Instance.SwitchAuto, P.default.Instance), this.fishUIMgr.m_DelClickLockSetting.Insert(P.default.Instance.LockSetting, P.default.Instance), this.fishUIMgr.m_DelCloseTeachPanel.Insert(this.ShowMenuEffectAndMission, this), this.fishUIMgr.m_DelClickWeaponChose.Insert(P.default.Instance.WeaponChose, P.default.Instance), this.fishUIMgr.m_DelClickWeaponChoseBtn.Insert(P.default.Instance.WeaponChoseBtnClick, P.default.Instance), this.fishUIMgr.m_FucGetWeaponSetting = P.default.Instance.BaseWeaponList.bind(P.default.Instance), "playgd" == window.gd_nowLOGO && (this.m_KioskSystem.UpdateSubmarineOccupyInfo = I.default.Instance.onFeatureEvent.bind(I.default.Instance), this.m_KioskSystem.SubmarineOccupyEvent = I.default.Instance.onFeatureEvent.bind(I.default.Instance), this.WeaponSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this), this.SkillSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this), this.playerSystem.UpdateAssetEvent = this.UpdateOtherPlayerAsset.bind(this), this.fishUIMgr.m_DelClickProfile.Insert(this.CheckPlayingState, this), this.fishUIMgr.m_FucGetPlayerById = this.GetPlayerByArkId.bind(this), this.fishUIMgr.m_FucGetPlayerIdBySeat = this.GetPlayerArkId.bind(this), this.fishUIMgr.m_FucGetOtherPlayerAsset = this.GetPlayerAsset.bind(this), this.gameSystem.GetLeaderBoardInfoEvent = this.GetMainPlayerLeaderBoardInfo.bind(this), this.gameSystem.GetItemInfoEvent = this.GetMainPlayerItem.bind(this), this.fishUIMgr.m_DelClickAutoStop.Insert(this.EventStopAuto, this), V.EventSystem.Event(V.DoLogOut).Insert(this.OnBackToLogin, this), V.EventSystem.RegisterFunction(V.FishHunter.GetMenuIcon, n.FishMenuMgr.GetCurAnchor.bind(n.FishMenuMgr))), this.m_FishMenuMgr && this.fishUIMgr.RegisterMouseEventList(this.m_FishMenuMgr.GetRootNode().children), this.HasJP && (O.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.add(this.onWinJpVaule, this), O.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this), O.LobbyClient.Instance.GetJPSystem.OnRecvJpCandidateSingnal.add(this.RecvJPCandidateCmd.bind(this)))
                }, t.prototype.UNRegisterEvent = function() {
                    V.PurchaseEvent.OnPurchaseSuccess && V.EventSystem.Event(V.PurchaseEvent.OnPurchaseSuccess).Remove(this.onPurchaseSuccessByProfile, this), this.topBar || (V.EventSystem.Event(V.DockFunction.BackToLobby).Remove(this.ReturnToLobby.bind(this), this), V.EventSystem.Event(V.DockFunction.Sound).Remove(this.OnClickedSound, this), V.EventSystem.Event(V.DockFunction.Info).Remove(this.OnClickedInfo, this)), this.HasJP && (O.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.remove(this.onWinJpVaule, this), O.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this), O.LobbyClient.Instance.GetJPSystem.OnRecvJpCandidateSingnal.remove(this.RecvJPCandidateCmd.bind(this))), "playgd" == window.gd_nowLOGO && (V.EventSystem.Event(V.DoLogOut).Remove(this.OnBackToLogin, this), V.EventSystem.Event(V.FishHunter.OnShipOccupiedShow).Remove(this.SetShipOccupieUICloseEvent, this), V.EventSystem.UnregisterFunction(V.FishHunter.GetMenuIcon))
                }, t.prototype.onTableJoin = function(e) {
                    e || (this.NetworkClear(), this.CallOnError("C34", "NoTableID")), this.gameSystem.InitGame(e), this.playerSystem.InitPlayer(), this.fishSystem.GetFishScript(), "playgd" == window.gd_nowLOGO && w.default.Instance.Init(this.itemSystem), this.GetSaveLockSetting()
                }, t.prototype.onInitGame = function(e, t) {
                    this.playerSystem.SetCurrentCreditEvent = this.SetBalance.bind(t);
                    C.default.Instance.onInitScriptEvent(e, t)                    
                }, t.prototype.onKickOut = function(e) {
                    this.NetworkClear(), e ? this.CallOnError(this.ErrorCode(e), "KickOut") : this.CallOnError("C31", "KickOut")
                }, t.prototype.onBroadCastSetting = function(e) {
                    this.m_isEnableItem = e.itemEnable, null != this.m_FishMenuMgr && (this.m_FishMenuMgr.GetRootNode().active = this.m_isEnableItem);
                    var t = [];
                    if (e.hasOwnProperty("betRange") && (t = e.betRange, n.Instance.RecordingSkillID == M.skillEnum.FlameStorm || n.Instance.RecordingSkillID == M.skillEnum.Wheel ? b.PlayerManager.Instance.tempBetList = t : b.PlayerManager.Instance.CheckBetList(b.PlayerManager.MainSeat, t)), e.hasOwnProperty("cannonEnable")) {
                        var i = e.cannonEnable;
                        P.default.Instance.ChangeWeaponList(i)
                    }
                }, t.prototype.NetworkClear = function() {
                    if (P.default.Instance && (P.default.Instance.AutoShoot = !1), this.unschedule(this.CallCheckQuest), this.unschedule(this.CheckPuzzleTips), b.PlayerManager.Instance)
                        for (var e = 0; e < 4; e++) b.PlayerManager.Instance.onPlayerLeave(e);
                    D.AudioMgr.Instance.UncacheAudioClip(), this.gameNetWork && this.gameNetWork.Release(), this.gameNetWork = null, this.arkSocketClient && this.arkSocketClient.Close(), this.arkSocketClient = null, this.gameSystem = null, this.fishSystem = null, this.playerSystem = null, this.WeaponSystem = null, this.SkillSystem = null, this.m_KioskSystem = null, this.m_FishMissionSystem && (this.m_FishMissionSystem.EVENT_ERROR_RETURN_LOBBY = null, this.m_FishMissionSystem = null), this.m_FishMenuMgr && (this.m_FishMenuMgr.ClearMenu(), this.m_FishMenuMgr = null)
                }, t.prototype.onDestroy = function() {
                    this.UNRegisterEvent(), this.isReturnToLobby = !0, this.NetworkClear()
                }, t.prototype.ReturnToLobby = function() {
                    if (n.instance) {
                        R.ConnectPanelMgr.Instance.ShowConnectPanel(), this.isReturnToLobby = !0, this.NetworkClear();
                        window.parent.location.href = "/";
                        // var e = SS.Common.GameEnvironment.CurrentGameTypeNow,
                        //     t = SS.Common.GameEnvironment.GameTypeMapScrollContentPos[e],
                        //     i = SS.Common.GameEnvironment.IsMute ? "1" : "0",
                        //     o = JSUtility.FullScreen.IsFullScreen() ? "1" : "0",
                        //     a = (new Date).getTime();
                        // a += 1e3 * this.RELOAD_EXPIRE_TIME, JSUtility.IsSupportLocalStorage() ? (localStorage.setItem("IS_RELOAD_LEGALTIME", a.toString()), localStorage.setItem("IS_RELOAD", "1"), localStorage.setItem("CURRENT_GAME_TYPE", e), t && (localStorage.setItem("CURRENT_SCROLL_POS_X", t.x), localStorage.setItem("CURRENT_SCROLL_POS_Y", t.y)), localStorage.setItem("IS_FULL_SCREEN", o), localStorage.setItem("IS_MUTE", i)) : JSUtility.IsSupportCookie() && (document.cookie = "IS_RELOAD_LEGALTIME=" + a.toString() + ";", document.cookie = "IS_RELOAD=1;", document.cookie = "CURRENT_GAME_TYPE=" + e + ";", t && (document.cookie = "CURRENT_SCROLL_POS_X=" + t.x + ";", document.cookie = "CURRENT_SCROLL_POS_Y=" + t.y + ";"), document.cookie = "IS_FULL_SCREEN=" + o + ";", document.cookie = "IS_MUTE=" + i + ";");
                        // var s = "",
                        //     r = "",
                        //     c = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                        // SS.Common.BaseFunction.GetURLParameterByName("standalone") && (c ? (s = "index.html", r = ",standalone=true") : (s = "index_ni.html", r = "?standalone=true")), c ? location.replace("../../../" + s + "/?KioskDEV=" + c + r) : location.replace("../../../" + s + r)
                    }
                }, t.prototype.LoadResError = function(e) {
                    console.error("loadError:" + e), this.isReturnToLobby = !0, this.NetworkClear(), N.default.Clear(), L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Warning, "C31", this.title, "loadError:" + e, function() {
                        "magiccity" == window.gd_nowLOGO ? SS.Common.GameEnvironment.SplashDiv.style.display = "block" : SS.Common.GameEnvironment.Splash.style.display = "block", C.default.Instance.Clear();
                        var e = SS.Common.GameEnvironment.Language + "Lobby";
                        cc.assetManager.bundles.find(function(t) {
                            return t._config.getSceneInfo(e)
                        }) ? cc.director.loadScene(e) : cc.director.loadScene("Lobby")
                    })
                }, t.prototype.Clear = function() {
                    n.instance = null
                }, t.prototype.ShowErrorMsg = function(e) {
                    if (this.NetworkClear(), e) {
                        if (e.status) return e.status.msg ? void this.CallOnError(this.ErrorCode(e.status), "ReceiveServerError:" + e.status.msg) : void this.CallOnError(this.ErrorCode(e.status), "ReceiveServerError:status_id_" + e.status);
                        if (e.cmd_data && e.cmd_data.status) return e.cmd_data.status.msg ? void this.CallOnError(this.ErrorCode(e.cmd_data.status), "ReceiveServerError:" + e.cmd_data.status.msg) : void this.CallOnError(this.ErrorCode(e.cmd_data.status), "ReceiveServerError:status_id_" + e.cmd_data.status)
                    }
                    this.CallOnError("C31", "ReceiveServerError")
                }, t.prototype.ErrorCode = function(e) {
                    switch (e) {
                        case 11:
                            return "S197";
                        case 12:
                            return "S198";
                        case 13:
                            return "S199";
                        case 14:
                            return "S200";
                        case 15:
                            return "S201";
                        case 16:
                            return "S202";
                        case 17:
                            return "S203";
                        case 18:
                            return "S204";
                        case 19:
                            return "S205";
                        case 20:
                            return "S206";
                        case 21:
                            return "S207";
                        case 22:
                            return "S208";
                        case 23:
                            return "S209";
                        case 24:
                            return "S210";
                        case 25:
                            return "S211";
                        case 31:
                            return "S212";
                        case -32:
                            return "S213";
                        case 34:
                            return "S214";
                        case -36:
                            return "S215";
                        case 37:
                            return "S216";
                        case -38:
                            return "S217";
                        case -40:
                            return "S218";
                        case -41:
                            return "S219";
                        case -42:
                            return "S220";
                        case -43:
                            return "S221";
                        case -44:
                            return "S222";
                        case -45:
                            return "S223";
                        case -46:
                            return "S224";
                        case -47:
                            return "S225";
                        case -48:
                            return "S226";
                        case -49:
                            return "S227";
                        case -50:
                            return "S228";
                        case -51:
                            return "S229";
                        case -52:
                            return "S230";
                        case -53:
                            return "S231";
                        case -54:
                            return "S232";
                        case -55:
                            return "S233";
                        case -56:
                            return "S234";
                        case -57:
                            return "S235";
                        case 58:
                            return "S236";
                        case -59:
                            return "S237";
                        case -60:
                            return "S238";
                        case -73:
                            return "S239";
                        case 74:
                            return "S240";
                        case -78:
                            return "S241";
                        case -79:
                            return "S242";
                        case -81:
                            return "S243";
                        case -101:
                            return "S244";
                        case -102:
                            return "S245";
                        case -103:
                            return "S246";
                        case -104:
                            return "S247";
                        case 105:
                            return "S248";
                        case -106:
                            return "S249";
                        case -107:
                            return "S250";
                        case -108:
                            return "S251";
                        case -110:
                            return "S252";
                        case -112:
                            return "S253";
                        case 360:
                            return "S254";
                        case 361:
                            return "S255";
                        case 600:
                            return "S256";
                        case 601:
                            return "S257";
                        case 602:
                            return "S258";
                        case 603:
                            return "S259";
                        case 604:
                            return "S260";
                        case 605:
                            return "S261";
                        case 606:
                            return "S262";
                        case 607:
                            return "S263";
                        case 608:
                            return "S264";
                        case 609:
                            return "S265";
                        case 610:
                            return "S266";
                        case 611:
                            return "S267";
                        case 612:
                            return "S268";
                        case 613:
                            return "S269";
                        case 614:
                            return "S270";
                        case 615:
                            return "S271";
                        case 616:
                            return "S272";
                        case 617:
                            return "S273";
                        case 618:
                            return "S274";
                        case 619:
                            return "S275";
                        case 620:
                            return "S276";
                        case 621:
                            return "S277";
                        case -622:
                            return "S278";
                        case 623:
                            return "S279";
                        case -624:
                            return "S280";
                        case -625:
                            return "S281";
                        default:
                            return "C31"
                    }
                }, t.prototype.SetLoadingProgress = function(e, t) {
                    var n = 70 / t * e;
                    n > 70 && (n = 70), B.LoadingMgr.Instance.SetProgress(30 + n)
                    var data = JSON.stringify({event: 'loadProgress', value: n / 100});
                    window.parent.postMessage(data, "*");

                }, t.prototype.DelayCloseLoading = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, SS.Common.WaitForSeconds(.5)];
                                case 1:
                                    if (t.sent(), "playgd" != window.gd_nowLOGO) return [3, 9]; - 1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(this.GameName + O.GAME_STATUS.RECV_THEME_SETTING) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(this.GameName + O.GAME_STATUS.RECV_THEME_SETTING), O.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, this.GameName, O.GAME_STATUS.RECV_THEME_SETTING)), this.SendMissionBonusInfoCmd(), t.label = 2;
                                case 2:
                                    return this.m_EventInfoState != c.SEND_CMD && this.m_iSendQuestNum == this.m_iRecQuestNum ? [3, 4] : [4, SS.Common.WaitForSeconds(.5)];
                                case 3:
                                    return t.sent(), [3, 2];
                                case 4:
                                    if (this.ParseMissionInfo(), !this.m_isEnableMission) return [3, 8];
                                    e = 0, t.label = 5;
                                case 5:
                                    return null != this.m_OceanHeartMgr ? [3, 7] : [4, SS.Common.WaitForSeconds(.5)];
                                case 6:
                                    return t.sent(), (e += .5) > 5 ? (cc.error("\u6d3b\u52d5\u8cc7\u6e90\u7121\u6cd5load\u9032\u4f86!"), [3, 7]) : [3, 5];
                                case 7:
                                    return [3, 9];
                                case 8:
                                    cc.error("\u6c92\u6709\u6d3b\u52d5!"), t.label = 9;
                                case 9:
                                    return this.DownloadBundleFinished ? [3, 11] : [4, SS.Common.WaitForSeconds(.5)];
                                case 10:
                                    return t.sent(), [3, 9];
                                case 11:
                                    return this.IsWaitInitJpValue ? [4, SS.Common.WaitForSeconds(.5)] : [3, 13];
                                case 12:
                                    return t.sent(), [3, 11];
                                case 13:
                                    return B.LoadingMgr.Instance.SetProgress(100), B.LoadingMgr.Instance.CloseLoading(),window.parent.postMessage(JSON.stringify({event: 'loadProgress', value: 1}, "*")), "magiccity" == window.gd_nowLOGO && (H.LobbyCommon.Instance.SetMaskActive(!1), this.scheduleOnce(this.FishCommonRoot.JoinGameAutoJPShrink.bind(this.FishCommonRoot), 5)), "playgd" == window.gd_nowLOGO && (this.schedule(this.CallCheckQuest, 5), this.UpdatePuzzleQuestInfo()), [2]
                            }
                        })
                    })
                }, t.prototype.CheckPlayingState = function(e, t) {
                    return s(this, void 0, void 0, function() {
                        var n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return n = b.PlayerManager.getPlayer(b.PlayerManager.MainSeat), b.PlayerManager.Instance.MaxBalance && n.entries + n.winning >= b.PlayerManager.Instance.MaxBalance ? (L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Info, "C29", this.title, "MaxBalance", null), [2]) : (P.default.Instance.AutoShoot = !1, b.PlayerManager.Instance.BulletCount > 0 ? (t(), [2]) : (R.ConnectPanelMgr.Instance.ShowConnectPanel(0), [4, new Promise(function(e) {
                                        setTimeout(e, 500)
                                    }.bind(this))]));
                                case 1:
                                    if (i.sent(), b.PlayerManager.Instance.BulletCount > 0) return t(), [2];
                                    switch (t(!1), e) {
                                        case "purchase":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickPurchase.bind(this);
                                            break;
                                        case "profile":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickProfile.bind(this);
                                            break;
                                        case "avatar":
                                            this.playerSystem.UpdateBalanceEvent = this.onUpdateBalanceByClickAvatarEditor.bind(this)
                                    }
                                    return this.playerSystem.SendUpdateBalance(), [2]
                            }
                        })
                    })
                }, t.prototype.onPurchaseSuccessByProfile = function(e, t) {
                    n.FishUIMgr.SetWinningNow(e, !1, !0), n.FishUIMgr.SetEntriesNow(t, !1), this.onPurchaseSuccess(e, t)
                }, t.prototype.onPurchaseSuccess = function(e, t) {
                    var i = b.PlayerManager.getPlayer(b.PlayerManager.MainSeat);
                    i.entries = t, i.winning = e, R.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.playerSystem.RefreshBalanceEvent = this.onRefreshBalance.bind(this), this.playerSystem.SendRefreshBalance(), n.FishUIMgr.ShowPurchaseHint(i.entries < i.bet_value), "playgd" == window.gd_nowLOGO && this.playerSystem.SendSyncAsset()
                }, t.prototype.onUpdateBalanceByClickPurchase = function() {
                    this.playerSystem.UpdateBalanceEvent = null, R.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenPurchase()
                }, t.prototype.onUpdateBalanceByClickProfile = function() {
                    this.playerSystem.UpdateBalanceEvent = null, R.ConnectPanelMgr.Instance.DisableConnectPanel(0)//, this.fishUIMgr.OpenPlayerProfile()
                }, t.prototype.onUpdateBalanceByClickAvatarEditor = function() {
                    this.playerSystem.UpdateBalanceEvent = null, R.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenMainPlayerAvatarEditor()
                }, t.prototype.onUpdateBalance = function() {
                    this.playerSystem.UpdateBalanceEvent = null, R.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.fishUIMgr.OpenPurchase()
                }, t.prototype.onRefreshBalance = function() {
                    this.playerSystem.RefreshBalanceEvent = null, R.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                }, t.prototype.OnClickedSound = function(e) {
                    D.AudioMgr.Instance.SetMute(e)
                }, t.prototype.OnClickedInfo = function() {
                    k.CommonRoot.Instance.GetInfoMgr.OpenScrollViewInfoPage(this.title)
                }, t.prototype.HideTimeOut = function() {
                    this.NetworkClear(), this.CallOnError("C31", "ClientKickOut_HideTimeOut")
                }, t.prototype.HideEventReload = function() {
                    var e = this;
                    L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Disconnected, "C31", this.title, "ClientKickOut_HideTimeOut", function() {
                        var t, n;
                        R.ConnectPanelMgr.Instance.ShowConnectPanel(), t = SS.Common.GameEnvironment.UserID, n = SS.Common.GameEnvironment.UserPW, O.LobbyClient.Instance.DoLogin(window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST, t, n, e.DoLoginSuccess.bind(e), e.DoLoginFail.bind(e))
                    })
                }, t.prototype.MissionDataError = function(e) {
                    this.NetworkClear(), this.CallOnError(e, "ClientKickOut_MissionDataError")
                }, t.prototype.SendMissionBonusInfoCmd = function() {
                    this.SendCommEventInfo(), this.SendPuzzleQuest()
                }, t.prototype.SendCommEventInfo = function() {
                    this.m_EventInfoState = c.SEND_CMD, O.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this))
                }, t.prototype.SendPuzzleQuest = function() {
                    this.m_EventInfoState = c.SEND_CMD, O.LobbyClient.Instance.GetUserClient.getPuzzleQuestInfo(this.recPuzzleQuestInfo.bind(this))
                }, t.prototype.recMissionInfo = function(e, t) {
                    this.m_iRecQuestNum++, e == ArkSDK.HttpResult.OK && t && t.cmd_data ? (this.m_EventInfoState = c.GET_RECV, null == this.m_tempQuestData && (this.m_tempQuestData = {}), this.m_tempQuestData[900004] = t) : this.GetQuestError(e, t, "getPuzzleQuestInfo")
                }, t.prototype.recPuzzleQuestInfo = function(e, t) {
                    if (this.m_iRecQuestNum++, e == ArkSDK.HttpResult.OK && t && t.cmd_data)
                        if (this.m_EventInfoState = c.GET_RECV, this.CheckPuzzle(t.cmd_data[900005]))
                            if (null == this.m_tempQuestData && (this.m_tempQuestData = {}), this.m_tempQuestData[900005] = t, console.log("\u60e1\u9748 \u6536\u5230\u5f69\u86cb\u62fc\u5716\u8cc7\u8a0a %s", JSON.stringify(this.m_tempQuestData[900005].cmd_data[900005])), null == O.LobbyClient.Instance.m_CommonEventInfo_900005_Rank)
                                for (var n = t.cmd_data[900005].data.QuestList, i = 0; i < n.length; i++) {
                                    var o = n[i];
                                    if ("Puzzle" == o.GameThemeID[0]) {
                                        var a = o.RankListID,
                                            s = o.CustomInfo.RankLimit;
                                        O.LobbyClient.Instance.GetUserClient.getPuzzleRank(a, s, this.RecvPuzzleRank.bind(this));
                                        break
                                    }
                                } else this.m_bIsRecvPuzzleQuestRank = !0;
                            else console.log("\u60e1\u9748 \u62fc\u5716\u6c92\u958b, result.cmd_data = " + t.cmd_data);
                    else this.GetQuestError(e, t, "getPuzzleQuestInfo")
                }, t.prototype.CheckPuzzle = function(e) {
                    var t = !1,
                        n = [];
                    if ((e = e.data).hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0) {
                        for (var i = e.QuestList, o = 0; o < i.length; o++)
                            for (var a = i[o].GameThemeID, s = 0; s < a.length; s++) "Puzzle" != a[s] && -1 == n.indexOf(a[s]) && n.push(a[s]);
                        if (n.length > 0) {
                            for (o = 0; o < n.length; o++)
                                if (164001 == Number(n[o])) {
                                    t = !0;
                                    break
                                }
                            n.length > 0 && !t && (this.m_bPuzzleButNoThisGame = !0, console.error("\u62fc\u5716\u6709\u958b\u4f46\u672c\u9b5a\u6a5f\u6c92\u958b~"))
                        }
                    }
                    return t
                }, t.prototype.RecvPuzzleRank = function(e, t) {
                    console.warn("\u904a\u6232\u5167\u6536\u5230\u62fc\u5716\u6392\u884c :" + e), console.warn(t), e == ArkSDK.HttpResult.OK && t && t.cmd_data ? 0 == t.cmd_data.result && (console.warn(t.cmd_data), O.LobbyClient.Instance.m_CommonEventInfo_900005_Rank = t.cmd_data) : this.GetQuestError(e, t, "getPuzzleQuestRankInfo"), this.m_bIsRecvPuzzleQuestRank = !0
                }, t.prototype.GetQuestError = function(e, t, n) {
                    var i;
                    i = e == ArkSDK.HttpResult.Abort ? "S176" : e == ArkSDK.HttpResult.Condition ? "S177" : e == ArkSDK.HttpResult.Error ? "S180" : e == ArkSDK.HttpResult.NotReset ? "S178" : e == ArkSDK.HttpResult.Status ? "S179" : e == ArkSDK.HttpResult.Timeout ? "S181" : "S182";
                    var o = t + ", Cme = " + n;
                    this.CallOnError(i, "recMissionInfo error_" + o)
                }, t.prototype.ParseMissionInfo = function(e) {
                    if (void 0 === e && (e = !0), null != this.m_tempQuestData) {
                        var t = !1;
                        if (this.m_tempQuestData[900004] && this.m_tempQuestData[900004].cmd_data) {
                            var n = this.m_tempQuestData[900004].cmd_data[900004];
                            if (n && 0 == n.result) {
                                var i = JSON.stringify(n.data);
                                O.LobbyClient.Instance.m_CommonEventInfo_900004 = i;
                                var o = JSON.parse(i);
                                if (o.hasOwnProperty("Enable") && o.Enable && o.hasOwnProperty("QuestList") && o.QuestList.length > 0 && o.hasOwnProperty("UserQuestData")) {
                                    var a = o.QuestList;
                                    if (0 == a.length) t = !1;
                                    else
                                        for (var s = 0; s < a.length; s++) {
                                            var r = a[s];
                                            301 == r.TitleType || 302 == r.TitleType ? this.m_bOceanHeart = !0 : 200 == r.TitleType && r.GameThemeID == this.GetThemeIDByGameName(this.GameName) && (t = !0)
                                        }
                                }
                            }
                            this.m_isEnableMission = t
                        }
                    }
                    e && this.OnFishStart(), this.m_bOceanHeart && this.OnOceanHeartOpen()
                }, t.prototype.UpdatePuzzleQuestInfo = function() {
                    this.m_tempQuestData[900005] && (O.LobbyClient.Instance.m_CommonEventInfo_900005 = this.m_tempQuestData[900005].cmd_data[900005], null == this.m_FishPuzzleEggMgr ? this.OnPuzzleEggOpen() : this.m_FishPuzzleEggMgr.CallInitState())
                }, t.prototype.OnFishStart = function() {
                    if (this.CheckShowTeachPanel()) {
                        var e = "";
                        switch (this.GameName) {
                            case E.FishGame.TD:
                                e = "THUNDER DRAGON";
                                break;
                            case E.FishGame.ALD:
                                e = "ALADDIN ADVENTURE";
                                break;
                            case E.FishGame.ZB:
                                e = "ZOMBIE AWAKEN";
                                break;
                            case E.FishGame.KK:
                                e = "KING KONG'S RAMPAGE";
                                break;
                            case E.FishGame.LS:
                                e = "GOLDEN LEGEND PLUS"
                        }
                        this.fishUIMgr.ShowTeachPanel(this.m_isEnableMission, this.m_strEventTime, !0, e)
                    } else this.fishUIMgr.m_DelCloseTeachPanel.Notify()
                }, t.prototype.ShowMenuEffectAndMission = function() {
                    this.m_EventInfoState != c.SEND_CMD && (this.m_isEnableItem && null != this.m_FishMenuMgr && this.m_FishMenuMgr.MenuShowEffect(), null != this.m_FishMissionSystem && (this.m_tempQuestData && this.m_tempQuestData[900004] ? this.m_FishMissionSystem.RecMissionInfo(ArkSDK.HttpResult.OK, this.m_tempQuestData[900004]) : this.m_FishMissionSystem.SendGetMissionInfoCmd(), this.gameSystem.UpdateMissionProgressEvent = this.m_FishMissionSystem.onGetFishMissionProgress.bind(this.m_FishMissionSystem), this.itemSystem.UpdateMissionProgressEvent = this.m_FishMissionSystem.onGetFishMissionProgress.bind(this.m_FishMissionSystem)), null != this.m_OceanHeartMgr && (this.m_OceanHeartMgr.node.opacity = 255, this.m_OceanHeartMgr.m_MissionBtnCtrl.node.opacity = 255), null != this.m_FishPuzzleEggMgr && (this.m_FishPuzzleEggMgr.node.opacity = 255, this.m_FishPuzzleEggMgr.m_IconMgr.node.opacity = 255))
                }, t.prototype.CheckShowTeachPanel = function() {
                    if (!this.m_isEnableItem) return !1;
                    var e = "",
                        t = !1,
                        n = (new Date).toLocaleDateString(),
                        i = "TEACH_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_" + this.GameName;
                    return JSUtility.IsSupportLocalStorage() ? null == (e = localStorage.getItem(i)) || "" == e ? (localStorage.setItem(i, n), t = !0) : n != e && (localStorage.setItem(i, n), t = !0) : JSUtility.IsSupportCookie() && (null == (e = JSUtility.GetCookie(i)) || "" == e ? (document.cookie = i + "=" + n + ";", t = !0) : n != e && (document.cookie = i + "=" + n + ";", t = !0)), t
                }, t.prototype.GetSaveLockSetting = function() {
                    var e = "",
                        t = "LOCKSETTING_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_ALD";
                    if (JSUtility.IsSupportLocalStorage() ? e = localStorage.getItem(t) : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie(t)), null != e && "" != e) {
                        var n = [];
                        e.split(",").forEach(function(e) {
                            n.push(Number(e))
                        }), E.default.playerLockSetting = n, E.default.LockSetting = E.default.TransFishTypeList(n), this.fishUIMgr.SwitchLockSettingButton(!0)
                    }
                }, t.prototype.OnOceanHeartOpen = function() {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return console.log("OnOceanHeartOpen "), this.m_OceanHeartMgr ? [2] : [4, K.default.Instance.Download({
                                        OceanHeart: function(t) {
                                            if (null !== t) {
                                                if (!e.m_OceanHeartMgr) {
                                                    t.parent = e.BarRoot, t.setPosition(cc.Vec2.ZERO);
                                                    var n = P.default.Instance.GetWeaponPosition(b.PlayerManager.MainSeat);
                                                    e.m_OceanHeartMgr = t.getComponent(G.default), e.m_OceanHeartMgr.setCurGameName(b.PlayerManager.MainSeat, e.GameName, n), e.m_OceanHeartMgr.EVENT_OPEN_UI = e.EventStopAuto.bind(e), e.m_OceanHeartMgr.EVENT_GET_MISSION_REWARD = e.OceanHeartEventGetAward.bind(e), e.m_OceanHeartMgr.EVENT_SEND_COLLECT_CMD = e.SentQuestCollect.bind(e), e.m_OceanHeartMgr.EVENT_REFLASH_UI_BALANCE = e.SendReflashAwardBalance.bind(e), e.m_OceanHeartMgr.EVENT_GAME_CLOSE = e.OnOceanHeartGameError.bind(e), e.m_OceanHeartMgr.EVENT_COLLECT_CLOSE = e.OnOceanHeartCloseCollectAward.bind(e), e.m_OceanHeartMgr.EVENT_ERROR = e.CallOnError.bind(e), e.m_OceanHeartMgr.EVENT_GET_COST_PER_SECOND = e.GetCurCostPerSecond.bind(e), e.m_OceanHeartMgr.m_MissionBtnCtrl.node.setParent(e.FishCommonRoot.EventIconRoot), e.playerSystem.GetFishQuestUpdate = e.m_OceanHeartMgr.parsetFishQuestUpdateData.bind(e.m_OceanHeartMgr), e.playerSystem.GetFishQuestInfo = e.m_OceanHeartMgr.parseFishQuestInfoData.bind(e.m_OceanHeartMgr), e.playerSystem.FishQuestCollectEvent = e.OnCollectQuest.bind(e), e.playerSystem.FishQuestUpdateBalanceEvent = e.UpdateFishQuestBalance.bind(e), e.fishUIMgr.CheckTeachPanelActive() && (e.m_OceanHeartMgr.node.opacity = 0, e.m_OceanHeartMgr.m_MissionBtnCtrl.node.opacity = 0)
                                                }
                                            } else e.ErrorHandler("C03", "OceanHeart Download Failed!")
                                        }
                                    }, ["OceanHeart"])];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.EventStopAuto = function() {
                    P.default.Instance.AutoShoot && (P.default.Instance.AutoShoot = !1)
                }, t.prototype.OceanHeartEventGetAward = function(e) {
                    0 != e.AwardEntries || 0 != e.AwardWinnings ? this.playerSystem.SendUpdateBalance() : null != e.AwardItem && e.ItemAmount > 0 && w.default.Instance.ModifyItemQty(b.PlayerManager.MainSeat, e.ItemID, e.ItemAmount)
                }, t.prototype.SentQuestCollect = function(e, t) {
                    return s(this, void 0, void 0, function() {
                        var n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return R.ConnectPanelMgr.Instance.ShowConnectPanel(0), P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto(), [4, new Promise(function(e) {
                                        setTimeout(e, 500)
                                    }.bind(this))];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return b.PlayerManager.Instance.BulletCount > 0 ? (console.warn("\u8981\u958b\u7d50\u7b97 \u6709\u5b50\u5f48\u4e0d\u540c\u6b65 BulletCount = " + b.PlayerManager.Instance.BulletCount), [4, SS.Common.WaitForSeconds(1)]) : [3, 4];
                                case 3:
                                    return i.sent(), [3, 2];
                                case 4:
                                    return this.playerSystem.RefreshBalanceEvent = function() {
                                        n.playerSystem.RefreshBalanceEvent = null, n.playerSystem.SendCollectQueat(e, t)
                                    }, this.playerSystem.SendRefreshBalance(), [2]
                            }
                        })
                    })
                }, t.prototype.CallErrorClose = function() {
                    this.CallOnError("C47", "OceanHeart_GetCollectAward 15s Timeout")
                }, t.prototype.OnCollectQuest = function(e) {
                    this.unschedule(this.CallErrorClose);
                    var t = e.data.ExtraInfo;
                    if (console.warn("\u6536\u5230\u9818\u734e\u5c01\u5305 extraInfo : ", t), null == t) return R.ConnectPanelMgr.Instance.DisableConnectPanel(0), void this.CallErrorClose();
                    this.m_OceanHeartMgr && (A.default.CloseWindow(A.Windows.WeaponChose), A.default.CloseWindow(A.Windows.LockSetting), this.m_OceanHeartMgr.OnCollectQuest(e))
                }, t.prototype.SendReflashAwardBalance = function() {
                    console.warn("\u540c\u6b65\u9818\u53d6\u7684\u734e\u91d1\u56deDB SendReflashAwardBalance "), this.playerSystem.SendRefreshBalance()
                }, t.prototype.SetBalance = function(t, e) {
                    b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries = e;
                    n.FishUIMgr.SetEntriesNow(b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries);
                }, t.prototype.UpdateFishQuestBalance = function(e, t) {
                    console.log("UpdateFishQuestBalance !! \u540c\u6b65\u9322 = winning = " + e + ", entries = " + t), SS.Common.GameEnvironment.IsUseScoreBox ? (b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].winning = e, n.FishUIMgr.SetWinningNow(e, !0, !0)) : (b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries = t, n.FishUIMgr.SetEntriesNow(b.PlayerManager.Instance.players[b.PlayerManager.MainSeat].entries))
                }, t.prototype.CallCheckQuest = function() {
                    var e = !1;
                    this.m_OceanHeartMgr && (e = this.m_OceanHeartMgr.CheckQuestIsActive()), e || this.playerSystem.SendCheckQueat();
                    var t = !1;
                    this.m_FishPuzzleEggMgr && (t = this.m_FishPuzzleEggMgr.CheckQuestIsActive()), t || this.m_bPuzzleButNoThisGame || this.playerSystem.SendCheckPuzzleQueat(), this.unschedule(this.CallCheckQuest), this.schedule(this.CallCheckQuest, 5)
                }, t.prototype.FishQuestCheckEvent = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    if (!e) return [3, 5];
                                    if (null != this.m_OceanHeartMgr) return [3, 4];
                                    this.SendCommEventInfo(), t.label = 1;
                                case 1:
                                    return this.m_EventInfoState != c.SEND_CMD ? [3, 3] : [4, SS.Common.WaitForSeconds(.5)];
                                case 2:
                                    return t.sent(), [3, 1];
                                case 3:
                                    return this.ParseMissionInfo(!1), [3, 5];
                                case 4:
                                    this.m_OceanHeartMgr.CallSendCmd(), t.label = 5;
                                case 5:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.OnOceanHeartCloseCollectAward = function() {
                    P.default.Instance.bulletLimit = 20
                }, t.prototype.OnOceanHeartGameError = function() {
                    this.CallOnError("C46", "CurGameClose")
                }, t.prototype.OnPuzzleEggOpen = function() {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return console.log("OnPuzzleEggOpen "), this.m_FishPuzzleEggMgr ? [2] : [4, K.default.Instance.Download({
                                        PuzzleEgg: function(t) {
                                            null !== t ? e.m_FishPuzzleEggMgr || (t.parent = e.BarRoot, t.setPosition(cc.Vec2.ZERO), e.m_FishPuzzleEggMgr = t.getComponent(x.FishPuzzleEggMgr), e.m_FishPuzzleEggMgr.EVENT_OPEN_UI = e.EventOpenPuzzlePage.bind(e), e.m_FishPuzzleEggMgr.EVENT_CLOSE_UI = e.EventClosePuzzlePage.bind(e), e.m_FishPuzzleEggMgr.EVENT_SEND_COLLECT_CMD = e.SentPuzzleQuestCollect.bind(e), e.m_FishPuzzleEggMgr.EVENT_GET_AWARD_FIN = e.OnPuzzleGetAwardFin.bind(e), e.m_FishPuzzleEggMgr.EVENT_ERROR = e.CallOnError.bind(e), e.m_FishPuzzleEggMgr.m_IconMgr.node.setParent(e.FishCommonRoot.EventIconRoot), T.default.Instance.m_funDropPuzzleEgg = e.m_FishPuzzleEggMgr.DropPuzzleEgg.bind(e.m_FishPuzzleEggMgr), T.default.Instance.m_funPuzzlePieceFlyStartCB = e.m_FishPuzzleEggMgr.ShowPuzzleIconPanel.bind(e.m_FishPuzzleEggMgr), T.default.Instance.m_funPuzzlePieceFlyFinCB = e.m_FishPuzzleEggMgr.GetPuzzleItemCB.bind(e.m_FishPuzzleEggMgr), T.default.Instance.m_funGetPuzzleIconPos = e.m_FishPuzzleEggMgr.m_IconMgr.GetSmallIconPos.bind(e.m_FishPuzzleEggMgr.m_IconMgr), T.default.Instance.m_funGetEnableShow = e.m_FishPuzzleEggMgr.CheckDropEggEnable.bind(e.m_FishPuzzleEggMgr), e.playerSystem.FishPuzzleQuestCollectEvent = e.OnCollectPuzzleQuest.bind(e), e.fishUIMgr.CheckTeachPanelActive() && (e.m_FishPuzzleEggMgr.node.opacity = 0, e.m_FishPuzzleEggMgr.m_IconMgr.node.opacity = 0), e.CheckPuzzleTips()) : e.ErrorHandler("C03", "PuzzleEgg Download Failed!")
                                        }
                                    }, ["PuzzleEgg"])];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.FishPuzzleQuestCheckEvent = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    if (console.warn("GameClientALD !! FishPuzzleQuestCheckEvent, isOpen = " + e), !e) return [3, 4];
                                    console.warn("GameClientALD !! Fthis.m_FishPuzzleEggMgr"), this.SendPuzzleQuest(), t.label = 1;
                                case 1:
                                    return this.m_EventInfoState == c.SEND_CMD && this.m_bIsRecvPuzzleQuestRank ? (console.log("while \u7b49\u5f85\u4efb\u52d9\u8cc7\u8a0aing"), [4, SS.Common.WaitForSeconds(.5)]) : [3, 3];
                                case 2:
                                    return t.sent(), [3, 1];
                                case 3:
                                    this.UpdatePuzzleQuestInfo(), t.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.EventOpenPuzzlePage = function() {
                    P.default.Instance.bulletLimit = 0, this.EventStopAuto(), A.default.CloseWindow(A.Windows.WeaponChose), A.default.CloseWindow(A.Windows.LockSetting)
                }, t.prototype.EventClosePuzzlePage = function() {
                    P.default.Instance.bulletLimit = 20
                }, t.prototype.CheckPuzzleTips = function() {
                    var e = this;
                    b.PlayerManager.Instance.CheckPlayerBetMax() || this.fishUIMgr.ShowBetTips(5, F.FishEventType.PuzzleEgg), this.schedule(function() {
                        console.log("\u6aa2\u67e5 bet = " + b.PlayerManager.Instance.CheckPlayerBetMax()), b.PlayerManager.Instance.CheckPlayerBetMax() || e.fishUIMgr.ShowBetTips(5, F.FishEventType.PuzzleEgg)
                    }, 300, cc.macro.REPEAT_FOREVER, 0)
                }, t.prototype.SentPuzzleQuestCollect = function(e, t, n) {
                    return s(this, void 0, void 0, function() {
                        var i = this;
                        return r(this, function() {
                            return P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto(), console.warn("\u9001\u51fa SendRefreshBalance \u66f4\u65b0DB\u9322"), this.playerSystem.RefreshBalanceEvent = function() {
                                i.playerSystem.RefreshBalanceEvent = null, i.schedule(i.CallErrorClose, 15), console.warn("\u9001\u51fa SentPuzzleQuestCollect questName = " + e + ", questSerialNo = " + t + ", questLv = " + n), i.playerSystem.SendFishPuzzleQuestCollect(e, t, n)
                            }, this.playerSystem.SendRefreshBalance(), [2]
                        })
                    })
                }, t.prototype.OnCollectPuzzleQuest = function(e) {
                    this.unschedule(this.CallErrorClose), console.warn("\u6536\u5230\u9818\u734e\u5c01\u5305 result = " + e.result + ", cmd_data = ", e), 0 == e.result ? (b.PlayerManager.BulletSync(1, e.playerInfo.winnings), this.m_FishPuzzleEggMgr && this.m_FishPuzzleEggMgr.GetAwardState.OnCollectQuest(b.PlayerManager.MainSeat, e)) : this.CallOnError("S354", "OnCollectPuzzleQuest error", !0)
                }, t.prototype.OnPuzzleGetAwardFin = function(e, t) {
                    var n = this;
                    this.playerSystem.FishPuzzleUpdateBalanceEvent = function(i) {
                        n.playerSystem.FishPuzzleUpdateBalanceEvent = null, t == W.ShowType.ENTRIES ? (b.PlayerManager.Instance.ModifyPlayerEntries(b.PlayerManager.MainSeat, e, null, !1), b.PlayerManager.BulletSync(-1, null)) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, e, i), P.default.Instance.bulletLimit = 20
                    }, this.playerSystem.SendRefreshBalance()
                }, t.prototype.CallOnError = function(e, t, n) {
                    void 0 === t && (t = ""), void 0 === n && (n = !0), n ? (P.default.Instance && P.default.Instance.ForceStopAuto(), console.error("CallOnError, code = " + e + ", reason = " + t), L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Warning, e, this.title, t, this.ReturnToLobby.bind(this))) : L.PopupMsgMgr.Instance.ShowPopMsg(L.PopupPriority.Warning, e, this.title, t, null)
                }, t.prototype.RecordErrorLog = function(e, t) {
                    void 0 === t && (t = ""), O.LobbyClient.Instance && "maintain" != t && "updateVersion" != t && O.LobbyClient.Instance.CollectErrorLog(L.PopupPriority.Warning, e, this.GameName, t)
                }, t.prototype.RecordClickLog = function(e) {
                    O.LobbyClient.Instance && null != this.RecordingSkillID && O.LobbyClient.Instance.GetUserClient.recordClickLog("FishShootInSkill", this.RecordingSkillID + (e ? 0 : 1e4))
                }, t.prototype.ReciveCmdTime = function(e) {
                    A.default.EnableNetUnstable(e > 5, 2), e > .25 ? this.fishUIMgr.SetNetSignal(1) : e > .1 ? this.fishUIMgr.SetNetSignal(2) : this.fishUIMgr.SetNetSignal(3)
                }, t.prototype.UpdateBetData = function(e, t, n) {
                    this.m_CurBet = e, this.m_CurBetScale = t || this.m_CurBetScale, this.m_CurShootPerSecond = n || this.m_CurShootPerSecond, this.m_CurCostPerSecond = this.m_CurBet * this.m_CurBetScale * this.m_CurShootPerSecond, this.m_OceanHeartMgr && this.m_OceanHeartMgr.CheckOpenShellSpeed(this.m_CurCostPerSecond)
                }, t.prototype.GetThemeIDByGameName = function(e) {
                    try {
                        var t = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var n in t)
                            if (t[n].GameName == e) return n
                    } catch (Z) {}
                    return ""
                }, t.prototype.loadJson = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = {}, [4, new Promise(function(n, i) {
                                        var o = e.indexOf("/"),
                                            a = e.substring(0, o),
                                            s = e.substring(o + 1, e.length),
                                            r = cc.assetManager.getBundle(a);
                                        r ? r.load(s, function(o, a) {
                                            if (o) return cc.error(o), i(), void this.LoadResError(e);
                                            t = a.json, cc.assetManager.releaseAsset(a), n(null)
                                        }) : console.error("Get bundle failed, bundlename = " + a)
                                    })];
                                case 1:
                                    return n.sent(), [2, t]
                            }
                        })
                    })
                }, t.prototype.CheckJson = function(e) {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, new Promise(function(t, n) {
                                        var i = e.indexOf("/"),
                                            o = e.substring(0, i),
                                            a = e.substring(i + 1, e.length),
                                            s = cc.assetManager.getBundle(o);
                                        s ? s.load(a, function(e, i) {
                                            e ? n() : (cc.assetManager.releaseAsset(i), t(null))
                                        }) : console.error("Get bundle failed, bundlename = " + o)
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.OnDownloadBundleFinished = function() {
                    this.HasJP && O.LobbyClient.Instance.GetJPSystem.SendGetJPValCmd("Fish", this.RecvJPValCmd.bind(this)), "playgd" == window.gd_nowLOGO && V.EventSystem.Event(V.FishHunter.OnShipOccupiedShow).Insert(this.SetShipOccupieUICloseEvent, this), this.DownloadBundleFinished = !0
                }, t.prototype.GetPlayerByArkId = function(e) {
                    return b.PlayerManager.getPlayerById(e)
                }, t.prototype.GetPlayerArkId = function(e) {
                    return b.PlayerManager.getPlayer(e).id
                }, t.prototype.GetPlayerAsset = function(e) {
                    var t = {};
                    return t.entries = b.PlayerManager.getPlayer(e).entries, t.winning = b.PlayerManager.getPlayer(e).winning, t
                }, t.prototype.UpdateOtherPlayerAsset = function(e) {
                    for (var t = 0; t < e.length; t++)
                        if (e[t].seat != b.PlayerManager.MainSeat) {
                            var n = b.PlayerManager.getPlayer(e[t].seat);
                            n.entries = e[t].entries, n.winning = e[t].winnings
                        }
                    this.fishUIMgr.UpdateOtherPlayerAsset && this.fishUIMgr.UpdateOtherPlayerAsset(e)
                }, t.prototype.OnBackToLogin = function() {
                    console.warn("OnBackToLogin"), this.topBar.SetTopBarStatus(U.TopbarStatus.InGameDisabled), R.ConnectPanelMgr.Instance.ShowConnectPanel(), location.replace(window.location.href)
                }, t.prototype.GetMainPlayerLeaderBoardInfo = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return e.is_new_record ? [4, SS.Common.WaitForSeconds(5)] : [2];
                                case 1:
                                    return n.sent(), t = -1, 1 == e.record_type ? t = 1 : 3 == e.record_type && (t = 0), V.EventSystem.Event(V.NoticedArrived.OnReceiveReward).Notify(t), V.EventSystem.Event(V.NoticedArrived.ShowRewardNotice).Notify(), [2]
                            }
                        })
                    })
                }, t.prototype.GetMainPlayerItem = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            if (0 == e.length) return [2];
                            for (t = 0; t < e.length; t++) V.EventSystem.Event(V.NoticedArrived.OnReceiveAvatar).Notify(e[t]), V.EventSystem.Event(V.NoticedArrived.ShowAvatarNotice).Notify();
                            return [2]
                        })
                    })
                }, t.prototype.RecvPlayerInfo = function(e) {
                    V.EventSystem.Event(V.FishHunter.UpdatePlayerSetting).Length > 0 && (this.m_tempPlayerInfoData.ArkID = e.ark_id, this.m_tempPlayerInfoData.FaceID = e.avatar_id, this.m_tempPlayerInfoData.FaceFrameID = e.avatar_frame_id, this.m_tempPlayerInfoData.NickName = e.nickname, V.EventSystem.Event(V.FishHunter.UpdatePlayerSetting).Notify(this.m_tempPlayerInfoData))
                }, t.prototype.SetShipOccupieUICloseEvent = function(e) {
                    var t = this;
                    P.default.Instance.bulletLimit = 0, P.default.Instance.ForceStopAuto();
                    var n = {};
                    n.collect_amount = e.collect_amount, V.EventSystem.Event(V.FishHunter.SetShipOccupieUICloseEvent).Notify(function() {
                        b.PlayerManager.BulletSync(1, null), t.playerSystem.RefreshBalanceEvent = function(e) {
                            t.playerSystem.RefreshBalanceEvent = null, SS.Common.GameEnvironment.IsUseScoreBox ? b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, n.collect_amount, e.winnings, !0) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, n.collect_amount, e.entries, !0), P.default.Instance.bulletLimit = 20, t.playerSystem.SendSyncAsset()
                        }, t.playerSystem.SendRefreshBalance()
                    }, this)
                }, t.prototype.RecvJPValCmd = function(e, t, n, i, o, a) {
                    "Fish" == a && (this.FishCommonRoot.GetJPMgr.ChangeJPVal(e, t, n, i, this.IsWaitInitJpValue), SS.Common.GameEnvironment.exchange_rate = o, this.IsWaitInitJpValue && (this.JPBarRoot = V.EventSystem.Function(V.TopBar.GetRoot)(), this.JPBarRoot && (this.JPBarRoot.active = !0, this.IsWaitInitJpValue = !1)))
                }, t.prototype.RecvJPCandidateCmd = function(e) {
                    e.group && O.LobbyClient.Instance.GetJPSystem.CheckJPRequest(this.GameName, e.group, this.m_CurBet * this.m_CurBetScale)
                }, t.prototype.onWinJpVaule = function(e, t) {
                    var n = this;
                    b.PlayerManager.BulletSync(1, null), this.playerSystem.RefreshBalanceByWinJPEvent = function(e) {
                        n.playerSystem.RefreshBalanceByWinJPEvent = null, SS.Common.GameEnvironment.IsUseScoreBox ? b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, t, e.winnings, !0) : b.PlayerManager.Instance.ModifyPlayerWinning(b.PlayerManager.MainSeat, t, e.entries, !0)
                    }, this.playerSystem.SendRefreshBalance()
                }, t.prototype.OnLobbyCommonReady = function() {
                    H.LobbyCommon.Instance.OnSetupCompletedEvent = null, H.LobbyCommon.Instance.UpdateRootScale()
                }, t.prototype.sendGameEventLog = function() {
                    if ("" != Q.SceneName) {
                        Q.setDataBeforeSend();
                        var e = Math.floor(Date.now() / 1e3),
                            t = e - Q.lastPlayerTime;
                        Q.lastPlayerTime = e;
                        var n = Q.playerBeginTime.toString(),
                            i = "playgd" == window.gd_nowLOGO ? "GD" : "MC";
                        Q.FishList.forEach(function(t) {
                            var n = {
                                Name: "FishShow"
                            };
                            n.SceneID = Q.SceneName, n.Type = t.FishType, n.Count = t.FishTime, n.ExtraData = {
                                SessionTs: e
                            }, z.ClickLog.recordMainPlayerLog("FishSessionLog", n)
                        }), Q.HitList.forEach(function(t) {
                            var n = {
                                Name: "FishHit"
                            };
                            n.SceneID = Q.SceneName, n.Type = t.FishType, n.Count = t.Count, n.ExtraData = {
                                SessionTs: e,
                                Weapon: t.Weapon,
                                WinCount: [t.Medal, t.Kill],
                                Win: [t.MedalTotalWin, t.KillTotalWin],
                                BetValue: t.Bet
                            }, z.ClickLog.recordMainPlayerLog("FishSessionLog", n)
                        });
                        var o = {
                            Name: "FishPlayTime"
                        };
                        o.SceneID = Q.SceneName, o.Count = t, o.ExtraData = {
                            SessionTs: e,
                            LoginTs: n,
                            Logo: i
                        }, z.ClickLog.recordMainPlayerLog("FishSessionLog", o), Q.initAfterSend()
                    }
                }, t.prototype.CheatKey = function(e, t) {
                    var n = {};
                    switch (t) {
                        case "show":
                            break;
                        case "changeSrage":
                            this.playerSystem.SendCustomCmd("CheatChangeScript");
                            break;
                        case "kill":
                            n.state = 1, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "normalkill":
                            n.state = 0, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "cantkill":
                            n.state = 2, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "Esmall":
                            n.state = 3, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "Emiddle":
                            n.state = 4, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "Ebig":
                            n.state = 5, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n);
                            break;
                        case "Ekill":
                            n.state = 6, this.playerSystem.SendCustomCmd("CheatShunGokuSatsu", n)
                    }
                }, t.instance = null, a([Y(cc.Prefab)], t.prototype, "CommonRootPrefab", void 0), a([Y(cc.Prefab)], t.prototype, "FishMenuRootPrefab", void 0), a([Y(cc.Prefab)], t.prototype, "PopupWindowPrefab", void 0), a([Y(cc.Node)], t.prototype, "BarRoot", void 0), a([Y({
                    displayName: "\u904a\u6232\u4e2d\u662f\u5426\u6709JP"
                })], t.prototype, "HasJP", void 0), a([Y({
                    displayName: "\u904a\u6232\u4e2d\u662f\u5426\u8981\u8f09Bundle"
                })], t.prototype, "HasBundle", void 0), a([Y(cc.Node)], t.prototype, "cheatBtn", void 0), n = a([J], t)
            }(cc.Component);
        n.default = X, cc._RF.pop()
    }, {
        "../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../FishCommon/Script/FishCommonRoot": void 0,
        "../../../FishCommon/Script/FishUIMgr": void 0,
        "../../../GameCommon/CommonRoot/Script/CommonRoot": void 0,
        "../../../LobbyCommon/Component/AudioMgr": void 0,
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": void 0,
        "../../../LobbyCommon/EventModule/FishOceanHeart/Script/FishOceanHeartMgr": void 0,
        "../../../LobbyCommon/EventModule/FishPuzzleEgg/Script/FishPuzzleEggMgr": void 0,
        "../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl": void 0,
        "../../../LobbyCommon/Helper/EventSystem": void 0,
        "../../../LobbyCommon/Loading/Script/LoadingMgr": void 0,
        "../../../LobbyCommon/LobbyCommon": void 0,
        "../../../LobbyCommon/Net/ClickLog": void 0,
        "../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../../LobbyCommon/Skin/Skin": void 0,
        "../../../LobbyCommon/TopBar/Script/TopbarMgr": void 0,
        "./Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "./MainGame/Common/EnumFilter": "EnumFilter",
        "./MainGame/Common/FishMenuMgr": "FishMenuMgr",
        "./MainGame/Common/MultiLangSystem": "MultiLangSystem",
        "./MainGame/Common/PreloadManager": "PreloadManager",
        "./MainGame/Common/ResourceManager": "ResourceManager",
        "./MainGame/Fish/FishManager": "FishManager",
        "./MainGame/Game/GameManager": "GameManager",
        "./MainGame/Item/ItemManager": "ItemManager",
        "./MainGame/Player/PlayerManager": "PlayerManager",
        "./MainGame/Player/PopupWindowCtrl": "PopupWindowCtrl",
        "./MainGame/Skill/BaseSkill": "BaseSkill",
        "./MainGame/Weapon/WeaponManager": "WeaponManager",
        "./System/FishSystem": "FishSystem",
        "./System/GameSystem": "GameSystem",
        "./System/ItemSystem": "ItemSystem",
        "./System/KioskSystem": "KioskSystem",
        "./System/MissionSystem": "MissionSystem",
        "./System/PlayerSystem": "PlayerSystem",
        "./System/SkillSystem": "SkillSystem",
        "./System/WeaponSystem": "WeaponSystem"
    }],
    GameManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "7f54adHQMBGRIcq3Mt99tit", "GameManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../Common/ResourceManager"),
            l = e("../Fish/FishManager"),
            h = e("../Background/BaseBackGround"),
            u = e("../Common/AudioManager"),
            p = e("../Weapon/WeaponManager"),
            d = e("../../GameClient"),
            f = e("../Common/PreloadManager"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = e("../Common/EnumFilter"),
            g = e("../../GameClient"),
            S = cc._decorator.ccclass,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.BackgroundNow = null, t.sceneInit = !1, t.StagePass = null, t.bgIndex = null, t.tempIndex = null, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this, this.sceneInit = !1, cc.director.getCollisionManager().enabled = !0;
                    var e = cc.director.getPhysicsManager();
                    e.enabled = !0, e.enabledAccumulator = !0, e.FIXED_TIME_STEP = .1, e.VELOCITY_ITERATIONS = 1, e.POSITION_ITERATIONS = 1
                }, t.prototype.start = function() {
                    f.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), cc.game.on(cc.game.EVENT_HIDE, this.HideEvent, this), cc.game.on(cc.game.EVENT_SHOW, this.ShowEvent, this)
                }, t.prototype.HideEvent = function() {
                    n.HideTimeOutID = setTimeout(function() {
                        d.default.Instance && d.default.Instance.HideTimeOut()
                    }, 15e3)
                }, t.prototype.ShowEvent = function() {
                    clearTimeout(n.HideTimeOutID)
                }, t.prototype.onInitScriptEvent = function(e, t) {
                    this.InitBackground(e, t)
                }, t.prototype.InitBackground = function(e, t) {
                    return s(this, void 0, void 0, function() {
                        var n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    switch (e) {
                                        case 0:
                                        case 17:
                                        case 2501:
                                        case 2503:
                                        case 2505:
                                        case 2506:
                                        case 2507:
                                        case 2508:
                                        case 2509:
                                        case 2510:
                                            return (n = c.default.LoadBackground(0)) && (this.BackgroundNow = n.getComponent(h.default)), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), u.default.Instance.Play("13_bgswitch"), p.default.Instance.bulletLimit = 0, [2];
                                        case 1001:
                                        case 1002:
                                        case 2001:
                                            this.bgIndex = 1, u.default.Instance.PlayBGM("11_bg3", 1, !0);
                                            break;
                                        case 1003:
                                        case 1004:
                                        case 2002:
                                            this.bgIndex = 2, u.default.Instance.PlayBGM("10_bg2", 1, !0);
                                            break;
                                        case 1005:
                                        case 1006:
                                        case 2003:
                                            switch (this.bgIndex = 3, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                                            }
                                            break;
                                        case 1007:
                                        case 1008:
                                        case 2004:
                                            this.bgIndex = 4, u.default.Instance.PlayBGM("12_bg4", 1, !0);
                                            break;
                                        case 1009:
                                        case 1010:
                                        case 2005:
                                            switch (this.bgIndex = 5, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_Dragon_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("BGM_Buffalo_01", 1, !0)
                                            }
                                            break;
                                        case 1011:
                                        case 1012:
                                        case 2006:
                                            switch (this.bgIndex = 6, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                                    break;
                                                case y.FishGame.ZB:
                                                    u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                                    break;
                                                case y.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0);
                                                    break;
                                                case y.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Patrick_01", 1, !0)
                                            }
                                            break;
                                        case 1013:
                                        case 1014:
                                        case 2007:
                                            switch (this.bgIndex = 7, SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.MTY:
                                                    u.default.Instance.PlayBGM("BGM_Turtle_01", 1, !0);
                                                    break;
                                                default:
                                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                                            }
                                            break;
                                        case 1015:
                                        case 1016:
                                        case 2008:
                                            this.bgIndex = 8, u.default.Instance.PlayBGM("BGM_Lion_01", 1, !0);
                                            break;
                                        case 1017:
                                        case 1018:
                                        case 2009:
                                            this.bgIndex = 9, u.default.Instance.PlayBGM("BGM_Pig_01", 1, !0);
                                            break;
                                        case 1019:
                                        case 1020:
                                        case 2010:
                                            this.bgIndex = 10, u.default.Instance.PlayBGM("BGM_Tiger_01", 1, !0);
                                            break;
                                        case 4011:
                                            this.bgIndex = 11, u.default.Instance.PlayBGM("BGM_Slotcrab_01", 1, !0);
                                            break;
                                        case 4012:
                                        case 4013:
                                        case 4014:
                                            this.bgIndex = e - 4011, t ? u.default.Instance.PlayBGM("BGM_BOSS_0" + (t - 4200).toString(), 1, !0) : u.default.Instance.PlayBGM("BGM_BOSS_01", 1, !0);
                                            break;
                                        case 4201:
                                        case 4202:
                                        case 4203:
                                            u.default.Instance.PlayBGM("BGM_BOSS_0" + (e - 4200).toString(), 1, !0);
                                            break;
                                        default:
                                            return [2]
                                    }
                                    return [4, c.default.Instance.ChangeResource(this.bgIndex)];
                                case 1:
                                    if (s.sent(), this.BackgroundNow ? ((i = this.BackgroundNow).node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                            i.Recycle(), p.default.Instance.bulletLimit = 20
                                        }))), this.RecycleStagePass()) : p.default.Instance.bulletLimit = 20, (o = c.default.LoadBackground(this.bgIndex)) && (this.BackgroundNow = o.getComponent(h.default), o.runAction(cc.fadeIn(2))), !o || !this.BackgroundNow) return a = "ResourcePoolError_InitBackground_", o || (a += "!newBG"), this.BackgroundNow || (a += "!BackgroundNow"), this.ResourcePoolError(a), [2];
                                    switch (t) {
                                        case 1001:
                                        case 1003:
                                        case 1005:
                                        case 1007:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("bg_king", 1, !0);
                                            break;
                                        case 1009:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_Dragon_02", 1, !0);
                                                    break;
                                                case y.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Buffalo_02", 1, !0)
                                            }
                                            break;
                                        case 1011:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.ALD:
                                                    u.default.Instance.PlayBGM("BGM_Genie_02", 1, !0);
                                                    break;
                                                case y.FishGame.ZB:
                                                    u.default.Instance.PlayBGM("BGM_Skeleton_02", 1, !0);
                                                    break;
                                                case y.FishGame.KK:
                                                    u.default.Instance.PlayBGM("BGM_KingKong_04", 1, !0);
                                                    break;
                                                case y.FishGame.LS:
                                                    u.default.Instance.PlayBGM("BGM_Patrick_02", 1, !0)
                                            }
                                            break;
                                        case 1013:
                                            switch (this.BackgroundNow.BossEnter(), SS.Common.GameEnvironment.CurrentGameNow) {
                                                case y.FishGame.MTY:
                                                    u.default.Instance.PlayBGM("BGM_Turtle_02", 1, !0)
                                            }
                                            break;
                                        case 1015:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Lion_02", 1, !0);
                                            break;
                                        case 1017:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Pig_02", 1, !0);
                                            break;
                                        case 1019:
                                            this.BackgroundNow.BossEnter(), u.default.Instance.PlayBGM("BGM_Tiger_02", 1, !0)
                                    }
                                    return this.sceneInit = !0, d.default.Instance.DelayCloseLoading(), [2]
                            }
                        })
                    })
                }, t.prototype.onScriptEvent = function(e) {
                    var t = this;
                    if (this.sceneInit) switch (e) {
                        case 2:
                        case 3:
                            var n = c.default.SpawnTitle(e);
                            n || (n = c.default.LoadBackground(e)), n ? n.angle = m.default.isReverse ? 180 : 0 : cc.error(" Load fishcoming fail! event_type = " + e);
                            break;
                        case 17:
                            l.default.Instance.FishSpeedUp(0, 3.5, 3), l.default.Instance.FishFadeOut();
                            break;
                        case 1001:
                        case 1003:
                        case 1005:
                        case 1007:
                            this.BossComming(e), u.default.Instance.PlayBGM("bg_king", 1, !0);
                            break;
                        case 1009:
                            switch (this.BossComming(e), SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_Dragon_02", 1, !0), u.default.Instance.Play("Dragon_banner_01"), u.default.Instance.Play("voice_dragon_banner_01");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Buffalo_02", 1, !0), u.default.Instance.Play("Buffalo_banner_01"), u.default.Instance.Play("voice_Buffalo_banner_01")
                            }
                            break;
                        case 1011:
                            switch (this.BossComming(e), SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_KingKong_04", 1, !0), u.default.Instance.Play("KingKong_banner_01"), u.default.Instance.Play("voice_KingKong_banner_01");
                                    break;
                                case y.FishGame.ZB:
                                    u.default.Instance.PlayBGM("BGM_Skeleton_02", 1, !0), u.default.Instance.Play("Skeleton_banner_01"), u.default.Instance.Play("voice_Skeleton_up_01");
                                    break;
                                case y.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_02", 1, !0), u.default.Instance.Play("Genie_banner_01"), u.default.Instance.Play("voice_Genie_come_01");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Patrick_02", 1, !0), u.default.Instance.Play("Patrick_banner_01"), u.default.Instance.Play("voice_Patrick_banner_01")
                            }
                            break;
                        case 1013:
                            switch (this.BossComming(e), SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.WCF:
                                    u.default.Instance.Play("LuckyCat_Announce");
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("BGM_Turtle_02", 1, !0), u.default.Instance.Play("Genie_banner_01"), u.default.Instance.Play("voice_turtle_come_01")
                            }
                        case 1015:
                            this.BossComming(e), u.default.Instance.PlayBGM("BGM_Lion_02", 1, !0), u.default.Instance.Play("Lion_banner_01"), u.default.Instance.Play("voice_lion_come_01");
                            break;
                        case 1017:
                            this.BossComming(e), u.default.Instance.PlayBGM("BGM_Pig_02", 1, !0), u.default.Instance.Play("Pig_banner_01"), u.default.Instance.Play("voice_pig_come_01");
                            break;
                        case 1019:
                            this.BossComming(e), u.default.Instance.PlayBGM("BGM_Tiger_02", 1, !0), u.default.Instance.Play("Tiger_banner_01"), u.default.Instance.Play("voice_tiger_come_01");
                            break;
                        case 1002:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.MF:
                                    u.default.Instance.PlayBGM("11_bg3", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1004:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.MF:
                                    u.default.Instance.PlayBGM("10_bg2", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1006:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.MF:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.BackgroundNow.BossLeave();
                            break;
                        case 1008:
                            u.default.Instance.PlayBGM("12_bg4", 1, !0), this.BackgroundNow.BossLeave();
                            break;
                        case 1010:
                        case 1012:
                        case 1014:
                        case 1016:
                        case 1018:
                        case 1020:
                            this.BackgroundNow.BossLeave();
                            break;
                        case 2001:
                            this.tempIndex = 1, u.default.Instance.PlayBGM("11_bg3", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2002:
                            this.tempIndex = 2, u.default.Instance.PlayBGM("10_bg2", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2003:
                            switch (this.tempIndex = 3, SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2004:
                            this.tempIndex = 4, u.default.Instance.PlayBGM("12_bg4", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2005:
                            switch (this.tempIndex = 5, SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_Dragon_01", 1, !0);
                                    break;
                                case y.FishGame.LS:
                                    u.default.Instance.PlayBGM("BGM_Buffalo_01", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2006:
                            switch (this.tempIndex = 6, SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.ALD:
                                    u.default.Instance.PlayBGM("BGM_Genie_01", 1, !0);
                                    break;
                                case y.FishGame.LS:
                                    u.default.Instance.PlayBGM("BGM_Patrick_01", 1, !0);
                                    break;
                                case y.FishGame.ZB:
                                    u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                    break;
                                case y.FishGame.KK:
                                    u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2007:
                            switch (this.tempIndex = 7, SS.Common.GameEnvironment.CurrentGameNow) {
                                case y.FishGame.MTY:
                                    u.default.Instance.PlayBGM("BGM_Turtle_01", 1, !0);
                                    break;
                                default:
                                    u.default.Instance.PlayBGM("09_bg1", 1, !0)
                            }
                            this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2008:
                            this.tempIndex = 8, u.default.Instance.PlayBGM("BGM_Lion_01", 1, !0), this.scheduleOnce(this.BossPassed, 10);
                            break;
                        case 2009:
                            this.tempIndex = 9, u.default.Instance.PlayBGM("BGM_Pig_01", 1, !0);
                            break;
                        case 2010:
                            this.tempIndex = 10, u.default.Instance.PlayBGM("BGM_Tiger_01", 1, !0);
                            break;
                        case 2501:
                        case 2502:
                        case 2503:
                        case 2504:
                        case 2505:
                        case 2506:
                        case 2507:
                        case 2508:
                        case 2509:
                        case 2510:
                            var i = null;
                            if (this.bgIndex) {
                                switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                    case y.FishGame.MF:
                                    case y.FishGame.TD:
                                        i = this.bgIndex + 4;
                                        break;
                                    case y.FishGame.LS:
                                        i = this.bgIndex + 6;
                                        break;
                                    case y.FishGame.ZB:
                                        u.default.Instance.PlayBGM("BGM_Skeleton_01", 1, !0);
                                        break;
                                    case y.FishGame.KK:
                                        u.default.Instance.PlayBGM("BGM_KingKong_01", 1, !0)
                                }
                                this.bgIndex = null
                            }
                            this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
                                i && c.default.LoadBackground(i)
                            }), cc.delayTime(4.2), cc.callFunc(function() {
                                t.BossPassed()
                            })));
                            var o = this.BackgroundNow;
                            o && o.node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                o.Recycle()
                            })));
                            var a = c.default.LoadBackground(0);
                            a && (this.BackgroundNow = a.getComponent(h.default), a.runAction(cc.fadeIn(2))), this.StagePass || (this.StagePass = c.default.LoadBackground("logo"), this.StagePass.angle = m.default.isReverse ? 180 : 0), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), u.default.Instance.Play("13_bgswitch"), p.default.Instance.bulletLimit = 0;
                            break;
                        case 4011:
                            g.GameLogMainPlayer.setScene(e), this.bgIndex = 11;
                            var s = this.BackgroundNow;
                            s.node.runAction(cc.sequence(cc.fadeOut(.5), cc.delayTime(5.5), cc.callFunc(function() {
                                s.Recycle(), p.default.Instance.bulletLimit = 20
                            })));
                            var r = c.default.LoadBackground(this.bgIndex);
                            r && (this.BackgroundNow = r.getComponent(h.default), this.BackgroundNow.node.opacity = 0, this.BackgroundNow.node.runAction(cc.sequence(cc.delayTime(5.5), cc.fadeIn(.5), cc.callFunc(function() {}))));
                            var d = c.default.SpawnTitle(e, !0);
                            d ? d.angle = m.default.isReverse ? 180 : 0 : cc.error(" Load bosscoming fail! event_type = " + e), l.default.Instance.FishSpeedUp(0, 3.5, 3), l.default.Instance.FishFadeOut(), u.default.Instance.Play("Effect_crabtitle_01"), u.default.Instance.PlayBGM("BGM_crabtitle_01"), this.scheduleOnce(function() {
                                u.default.Instance.PlayBGM("BGM_Slotcrab_01", 1, !0), u.default.Instance.Play("Effect_crabtitle_02")
                            }, 5.5), p.default.Instance.bulletLimit = 0;
                            break;
                        case 4111:
                            this.bgIndex = null;
                            var f = this.BackgroundNow;
                            f && (f.node.runAction(cc.sequence(cc.fadeOut(3), cc.callFunc(function() {
                                f.Recycle()
                            }))), c.default.LoadBackground(5));
                            var S = c.default.LoadBackground(0);
                            S && (this.BackgroundNow = S.getComponent(h.default), S.opacity = 0, S.runAction(cc.fadeIn(3))), this.StagePass || (this.StagePass = c.default.LoadBackground("logo"), this.StagePass.angle = m.default.isReverse ? 180 : 0), p.default.Instance.bulletLimit = 0;
                            break;
                        case 4012:
                        case 4013:
                        case 4014:
                            if (this.bgIndex = e - 4011, this.BackgroundNow) {
                                var _ = this.BackgroundNow;
                                _.node.runAction(cc.sequence(cc.fadeOut(3), cc.callFunc(function() {
                                    _.Recycle()
                                })))
                            }
                            var v = c.default.LoadBackground(this.bgIndex);
                            v.opacity = 0, v.runAction(cc.fadeIn(3)), this.BackgroundNow = v.getComponent(h.default), this.RecycleStagePass(), p.default.Instance.bulletLimit = 20;
                            break;
                        case 4201:
                        case 4202:
                        case 4203:
                            g.GameLogMainPlayer.setScene(e);
                            var b = c.default.SpawnTitle(e);
                            b ? (u.default.Instance.Play("Effect_title_01"), b.angle = m.default.isReverse ? 180 : 0, this.scheduleOnce(function() {
                                u.default.Instance.Play("Effect_title_02")
                            }, 4.83)) : cc.error(" Load bosscoming fail! event_type = " + e), u.default.Instance.PlayBGM("BGM_BOSS_0" + (e - 4200).toString(), 1, !0)
                    } else this.InitBackground(e)
                }, t.prototype.BossComming = function(e) {
                    var t = c.default.SpawnTitle(e);
                    t || (t = c.default.LoadBackground(e)), t ? t.angle = m.default.isReverse ? 180 : 0 : cc.error(" Load bosscoming fail! event_type = " + e), l.default.Instance.FishSpeedUp(0, 3.5, 3), l.default.Instance.FishFadeOut(), this.BackgroundNow.BossEnter()
                }, t.prototype.RecycleStagePass = function() {
                    var e = this;
                    this.StagePass && this.StagePass.runAction(cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        c.default.UnLoadBackground("logo", e.StagePass), e.StagePass = null
                    })))
                }, t.prototype.BossPassed = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.tempIndex ? [4, c.default.Instance.ChangeResource(this.tempIndex)] : [3, 2];
                                case 1:
                                    if (i.sent(), this.BackgroundNow ? ((e = this.BackgroundNow).node.runAction(cc.sequence(cc.fadeOut(2), cc.callFunc(function() {
                                            e.Recycle(), p.default.Instance.bulletLimit = 20
                                        }))), this.RecycleStagePass()) : p.default.Instance.bulletLimit = 20, (t = c.default.LoadBackground(this.tempIndex)) && (this.BackgroundNow = t.getComponent(h.default), this.BackgroundNow.node.runAction(cc.fadeIn(2))), !t || !this.BackgroundNow) return n = "ResourcePoolError_BossPassed_", t || (n += "!newBG"), this.BackgroundNow || (n += "!BackgroundNow"), this.ResourcePoolError(n), [2];
                                    this.bgIndex = this.tempIndex, this.tempIndex = null, i.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.ResourcePoolError = function(e) {
                    d.default.Instance.CallOnError("C35", e)
                }, t.prototype.Clear = function() {
                    cc.game.targetOff(this), clearTimeout(n.HideTimeOutID), n.instance = null
                }, t.TimeHide = null, t.instance = null, t.HideTimeOutID = -1, n = a([S], t)
            }(cc.Component);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Background/BaseBackGround": "BaseBackGround",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    GameSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2bfa7L2ly9Erqsl5AuaV8VT", "GameSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var a = function(e) {
            function t(t) {
                var n = e.call(this, t, "game") || this;
                return n.TableJoinEvent = null, n.InitGameEvent = null, n.PlayerLeaveEvent = null, n.KickOutEvent = null, n.UpdateMissionProgressEvent = null, n.GetLeaderBoardInfoEvent = null, n.GetItemInfoEvent = null, n.RegisterCmdCallback("join_table", n.onTableJoin.bind(n)), n.RegisterCmdCallback("init_game", n.onInitGame.bind(n)), n.RegisterCmdCallback("leave_table", n.onPlayerLeave.bind(n)), n.RegisterCmdCallback("KICK_OUT", n.onKickOut.bind(n)), n.RegisterCmdCallback("killFishInfo", n.onGetFishMissionProgress.bind(n)), n.RegisterCmdCallback("leaderBoardInfo", n.onGetLeaderBoardInfo.bind(n)), n.RegisterCmdCallback("ItemInfo", n.onGetItemInfo.bind(n)), n
            }
            return o(t, e), t.prototype.InitGame = function(e) {
                var t = {};
                t.game_id = e, this.SendCmd("init_game", t)
            }, t.prototype.onTableJoin = function(e, t) {
                if (this.TableJoinEvent) {
                    var n = t.game_id;
                    this.TableJoinEvent(n)
                }
            }, t.prototype.onInitGame = function(e, t) {
                if (this.InitGameEvent) {
                    var n = t.bg,
                        i = t.event;
                    this.InitGameEvent(n, i)
                }
            }, t.prototype.onPlayerLeave = function(e, t) {
                var n = t.seat;
                this.PlayerLeaveEvent && this.PlayerLeaveEvent(n)
            }, t.prototype.onKickOut = function(e, t) {
                if (this.KickOutEvent) {
                    var n = t.status.id;
                    this.KickOutEvent(n)
                }
            }, t.prototype.onGetFishMissionProgress = function(e, t) {
                cc.log("[onGetFishMissionProgress]data...: " + JSON.stringify(t)), this.UpdateMissionProgressEvent && this.UpdateMissionProgressEvent(t)
            }, t.prototype.sendTestPower = function(e, t, n) {
                void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0);
                var i = {};
                i.power = e, i.rocket = t, i.fire_storm = n, this.SendCmd("test", i)
            }, t.prototype.sendTestOption = function(e, t, n) {
                void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null);
                var i = {};
                null != e && (i.fire_storm = e), null != t && (i.awake = t), null != n && (i.rocket = n), this.SendCmd("test", i)
            }, t.prototype.onGetLeaderBoardInfo = function(e, t) {
                cc.error("onGetLeaderBoardInfo  data: " + JSON.stringify(t)), this.GetLeaderBoardInfoEvent && this.GetLeaderBoardInfoEvent(t)
            }, t.prototype.onGetItemInfo = function(e, t) {
                cc.error("onGetItemInfo  data: " + JSON.stringify(t)), this.GetItemInfoEvent && this.GetItemInfoEvent(t)
            }, t
        }(e("./baseSystem").default);
        n.default = a, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    GoldenSlot: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "d46ae8JIcZJlpx5xfh0JIMh", "GoldenSlot");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/ResourceManager"),
            r = e("./AwardManager"),
            c = e("../Weapon/WeaponManager"),
            l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = e("../Player/PlayerManager"),
            u = e("../Common/AudioManager"),
            p = e("../Skill/BaseSkill"),
            d = e("../../GameClient"),
            f = e("./AwardManager"),
            m = cc._decorator,
            y = m.ccclass,
            g = m.property,
            S = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.slotResource = null, t.slotMachine = null, t.slotSymbol = [], t.slotSymbolTop = [], t.effectBox = null, t.warningLight = null, t.bufferUI = null, t.bufferLabel = null, t.youWin = null, t.bigWin = null, t.megaWin = null, t.WintypeSpriteNode = null, t.oddBar = null, t.winLabel = null, t.framework = null, t.betLabel = null, t.slotBuffer = [], t.slotState = [0, 0, 0], t.effectFrame = 0, t.curTime = 0, t.isListening = !1, t.curSymbol = [1, 1, 1], t.stopCountDown = [0, 0, 0], t.isSlotRunning = !1, t.fakeSlotBufferCount = 0, t.turnAudio = -1, t.lineData = null, t.drops = [], t
                }
                return o(t, e), t.prototype.update = function(e) {
                    this.isListening && (this.curTime += e, this.effectFrame = Math.floor(30 * this.curTime), this.effectBox.fillRange = this.effectFrame / 30, this.effectBox.fillRange > 1 && (this.effectBox.fillRange = 1))
                }, t.prototype.getSlotBufferLength = function() {
                    return this.slotBuffer.length
                }, t.prototype.addSlotBuffer = function() {
                    this.fakeSlotBufferCount += 1, this.fakeSlotBufferCount > 1 && (this.bufferUI.active = !0, this.bufferLabel.string = (this.fakeSlotBufferCount - 1).toString(), this.bufferUI.stopAllActions(), this.bufferUI.runAction(cc.sequence(cc.scaleTo(.1, 1.6), cc.scaleTo(.1, 1.3)))), 0 == this.isSlotRunning && (this.isSlotRunning = !0, this.node.active = !0, this.playSlotAward())
                }, t.prototype.Init = function(e, t) {
                    void 0 === t && (t = null), this.node.active = !1, this.node.angle = l.default.isReverse ? 180 : 0;
                    var n = c.default.WeaponPosition(e);
                    l.default.isReverse ? n.y = e > 1 ? n.y - 70 : n.y + 140 : n.y = e > 1 ? n.y - 140 : n.y + 70, this.node.setPosition(n), this.bufferUI.setPosition(150, 0), l.default.isReverse ? 0 != e && 3 != e || this.bufferUI.setPosition(-150, 0) : 1 != e && 2 != e || this.bufferUI.setPosition(-150, 0), this.playerSeat = e, this.effectBox.fillRange = 0, this.effectBox.node.active = !1, this.effectFrame = 0, this.warningLight.opacity = 0, this.curTime = 0;
                    for (var i = 0; i < 3; i++) this.slotSymbol[i].getComponent(cc.Sprite).spriteFrame = this.slotResource.getSpriteFrame("slot_0000"), this.slotState[i] = 1;
                    this.isListening = !1, this.bufferUI.active = !1, this.bufferUI.scale = 1.3, this.slotBuffer = [], this.bufferLabel.string = " ", this.fakeSlotBufferCount = 0, this.WintypeSpriteNode.active = !1, this.oddBar.active = !1, this.winLabel.active = !1, this.framework.active = !1, this.isSlotRunning = !1, this.lineData = new f.LineData([], l.default.isRoofSeat(this.playerSeat) ? 120 : 150, 0), r.default.Instance.AwardLineUp(e, this.lineData, 0)
                }, t.prototype.playNextSlot = function() {
                    cc.log("playNextSlot"), this.node.active = !0, this.slotBuffer.splice(0, 1), this.fakeSlotBufferCount -= 1, this.slotBuffer.length > 1 ? this.bufferLabel.string = (this.fakeSlotBufferCount - 1).toString() : this.bufferUI.active = !1, this.slotBuffer.length > 0 ? this.playSlotAward() : this.UnUseSkill()
                }, t.prototype.initForNewSlot = function() {
                    this.slotMachine.getComponent(cc.Animation).play("normalSlot"), this.isListening = !1, this.isSlotRunning = !0, this.effectBox.fillRange = 0, this.effectBox.node.active = !1, this.effectFrame = 0, this.warningLight.opacity = 0, this.curTime = 0;
                    for (var e = 0; e < 3; e++) this.slotSymbol[e].position.y = -15, this.slotSymbolTop[e].position.y = 15, this.slotSymbol[e].scaleY = .8, this.slotSymbolTop[e].scaleY = .15, this.curSymbol[e] = Math.floor(5 * Math.random());
                    for (e = 0; e < this.slotSymbol.length; e++) this.slotSymbol[e].stopAllActions(), this.slotSymbolTop[e].stopAllActions();
                    this.WintypeSpriteNode.active = !1, this.oddBar.active = !1, this.winLabel.active = !1, this.framework.active = !1
                }, t.prototype.endOfSlot = function() {
                    var e = this,
                        t = this.slotBuffer[0],
                        n = (t.symbols, t.win_type);
                    this.isListening = !1, this.effectBox.node.active = !1, u.default.Instance.Stop(this.turnAudio);
                    var i = cc.sequence(cc.scaleTo(0, 0), cc.scaleTo(.2, 1)),
                        o = 0;
                    if (n < 3) o = 2, this.WintypeSpriteNode.getComponent(cc.Sprite).spriteFrame = this.youWin, u.default.Instance.Play("BGM_Youwin_01", 1, !1);
                    else if (n < 6) {
                        o = 7;
                        var a = u.default.Instance.Play("Voice_BigWin_01", 1, !1);
                        this.WintypeSpriteNode.getComponent(cc.Sprite).spriteFrame = this.bigWin, this.createCoinLoop(7), u.default.Instance.SetNextSound(a, "BGM_Bigwin_01", 1, !1)
                    } else o = 14, a = u.default.Instance.Play("Voice_MegaWin_01", 1, !1), this.WintypeSpriteNode.getComponent(cc.Sprite).spriteFrame = this.megaWin, this.framework.active = !0, this.createCoinLoop(14), u.default.Instance.SetNextSound(a, "BGM_Megawin_01", 1, !1);
                    this.WintypeSpriteNode.active = !0, this.WintypeSpriteNode.runAction(i), this.oddBar.active = !0, this.oddBar.opacity = 0, this.oddBar.runAction(cc.fadeIn(.2)), this.oddBar.getComponent(cc.Sprite).spriteFrame = this.slotResource.getSpriteFrame("Odds_000" + (n + 1).toString()), this.winLabel.active = !0, this.winLabel.scale = 0, this.winLabel.runAction(i), this.winLabel.getComponent(cc.Label).string = t.win.toString();
                    var r = s.default.SpawnEffect("CoinBlast");
                    r.setPosition(this.node.position), r.scale = 1.5, this.scheduleOnce(function() {
                        h.PlayerManager.Instance.ModifyPlayerWinning(e.playerSeat, t.win, null, !0, !0), e.unscheduleAllCallbacks(), e.playNextSlot()
                    }, o)
                }, t.prototype.playListeningEffect = function() {
                    this.isListening = !0, this.effectBox.fillRange = 0, this.effectBox.node.active = !0, this.warningLight.runAction(cc.repeat(cc.sequence(cc.fadeIn(.5), cc.fadeOut(.5)), 3)), s.default.SpawnEffect("SlotSmoke", h.PlayerManager.isMainSeat(this.playerSeat)).setParent(this.node), u.default.Instance.Play("Effect_slot_listen_01")
                }, t.prototype.playSlotAward = function() {
                    var e = this,
                        t = this.slotBuffer[0],
                        n = t.symbols;
                    this.initForNewSlot(), this.betLabel.string = t.bet.toString();
                    var i = [5, 10, 15];
                    n[0] == n[1] ? (i = [5, 10, 25], this.scheduleOnce(this.playListeningEffect, 1)) : i = [5, 10, 15], this.scheduleOnce(function() {
                        e.endOfSlot()
                    }, .1 * i[2] + .4);
                    for (var o = function(t) {
                            a.stopCountDown[t] = 2 * i[t];
                            var n = cc.sequence(cc.spawn(cc.moveTo(.05, 48 * (t - 1), -45), cc.scaleTo(.05, .8, .15).easing(cc.easeSineOut())), cc.spawn(cc.moveTo(0, 48 * (t - 1), 20), cc.callFunc(function() {
                                e.setNextSymbol(t, e.slotSymbol[t])
                            })), cc.spawn(cc.moveTo(.05, 48 * (t - 1), -15), cc.scaleTo(.05, .8, .8).easing(cc.easeSineIn()))).repeat(i[t]);
                            a.slotSymbol[t].runAction(n);
                            var o = cc.sequence(cc.spawn(cc.moveTo(.05, 48 * (t - 1), -15), cc.scaleTo(.05, .8, .8).easing(cc.easeSineIn())), cc.spawn(cc.moveTo(.05, 48 * (t - 1), -45), cc.scaleTo(.05, .8, .15).easing(cc.easeSineOut())), cc.spawn(cc.moveTo(0, 48 * (t - 1), 20), cc.callFunc(function() {
                                e.setNextSymbol(t, e.slotSymbolTop[t])
                            }))).repeat(i[t]);
                            a.slotSymbolTop[t].runAction(o)
                        }, a = this, s = 0; s < 3; s++) o(s);
                    u.default.Instance.Play("Effect_slot_start_01"), this.scheduleOnce(function() {
                        e.turnAudio = u.default.Instance.Play("Effect_slot_turn_01", 1, !0)
                    }, .5), n[0] > 2 ? this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop7_01")
                    }, .1 * i[0]) : this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop_01")
                    }, .1 * i[0]), n[1] > 2 ? this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop7_02")
                    }, .1 * i[1]) : this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop_01")
                    }, .1 * i[1]), n[2] > 2 ? this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop7_03")
                    }, .1 * i[2]) : this.scheduleOnce(function() {
                        u.default.Instance.Play("Effect_slot_stop_01")
                    }, .1 * i[2])
                }, t.prototype.setNextSymbol = function(e, t) {
                    if (2 == this.stopCountDown[e]) {
                        var n = this.slotBuffer[0].symbols[e];
                        n = 4 - n, t.getComponent(cc.Sprite).spriteFrame = this.slotResource.getSpriteFrame("slot_000" + n.toString())
                    } else {
                        var i = this.curSymbol[e] + 1;
                        i > 4 && (i -= 5), t.getComponent(cc.Sprite).spriteFrame = this.slotResource.getSpriteFrame("slot_Blur_000" + i.toString()), this.curSymbol[e] = i, this.stopCountDown[e] = this.stopCountDown[e] - 1
                    }
                }, t.prototype.createCoinLoop = function(e) {
                    this.schedule(this.createCoin.bind(this), .025, (e - 1.5) / .025)
                }, t.prototype.createCoin = function() {
                    var e = s.default.SpawnAward(r.AwardType.DropCoin);
                    e.scale = .2 * Math.random() + .7, e.getComponent(cc.Animation).play("DropCoin", 1.2 * Math.random());
                    var t = this.node.getPosition(),
                        n = new cc.Vec2(150 * Math.random() - 75, 50 * Math.random() + 100);
                    l.default.isRoofSeat(this.playerSeat) ? (n = new cc.Vec2(150 * Math.random() - 75, 50 * Math.random() - 100), l.default.isReverse && (n.y += 100)) : (n = new cc.Vec2(150 * Math.random() - 75, 50 * Math.random() + 100), l.default.isReverse && (n.y = -n.y)), n = n.add(t), e.setPosition(n);
                    var i = 300 * (Math.random() - .5),
                        o = this.playerSeat > 1 ? -(100 + 20 * Math.random()) : 100 + 20 * Math.random(),
                        a = cc.sequence(cc.spawn(cc.sequence(cc.moveBy(.25, 0, o).easing(cc.easeQuadraticActionOut()), cc.moveBy(.35, 0, this.playerSeat > 1 ? 300 : -300).easing(cc.easeQuadraticActionIn()), cc.callFunc(function() {
                            e.destroy()
                        })), cc.moveBy(.6, i, 0)), cc.delayTime(1), cc.callFunc(function() {
                            s.default.DespawnAward(r.AwardType.DropCoin, e)
                        }));
                    e.stopAllActions(), e.runAction(a)
                }, t.prototype.ReceiveSkillData = function(e, t) {
                    var n = this;
                    void 0 === e && (e = null), void 0 === t && (t = null);
                    var i = {
                        symbols: e.symbol,
                        win_type: e.win_type,
                        win: e.win,
                        bet: e.bet
                    };
                    u.default.Instance.Play("Effect_slot_hit_01");
                    var o = s.default.SpawnEffect("DropSlot", h.PlayerManager.isMainSeat(this.playerSeat)),
                        a = 360 * Math.random(),
                        r = cc.v2(220 * Math.cos(a), 220 * Math.sin(a));
                    o.setPosition(r), o.angle = l.default.isReverse ? 180 : 0, o.getComponent(cc.Animation).play();
                    var c = 0,
                        p = this.node.getPosition();
                    this.slotBuffer.length > 0 && (c = .2, p = this.bufferUI.convertToWorldSpaceAR(cc.v2(0, 0)), p = o.parent.convertToNodeSpaceAR(p)), this.slotBuffer.push(i);
                    var d = cc.sequence(cc.delayTime(.8), cc.moveTo(.5, p).easing(cc.easeQuadraticActionOut()), cc.scaleTo(c, 0), cc.callFunc(function() {
                        s.default.DespawnEffect("DropSlot", o), n && n.node && (n.addSlotBuffer(i), n.node.active = !0)
                    }));
                    o.runAction(d)
                }, t.prototype.UnUseSkill = function() {
                    this.isSlotRunning = !1, r.default.Instance.AwardLineOff(this.lineData, this.playerSeat), this.node && this.node.stopAllActions(), this.unscheduleAllCallbacks(), d.default.SkillSystem && d.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), s.default.DespawnSkill(this.skillType, this.node)
                }, a([g(cc.SpriteAtlas)], t.prototype, "slotResource", void 0), a([g(cc.Node)], t.prototype, "slotMachine", void 0), a([g([cc.Node])], t.prototype, "slotSymbol", void 0), a([g([cc.Node])], t.prototype, "slotSymbolTop", void 0), a([g(cc.Sprite)], t.prototype, "effectBox", void 0), a([g(cc.Node)], t.prototype, "warningLight", void 0), a([g(cc.Node)], t.prototype, "bufferUI", void 0), a([g(cc.Label)], t.prototype, "bufferLabel", void 0), a([g(cc.SpriteFrame)], t.prototype, "youWin", void 0), a([g(cc.SpriteFrame)], t.prototype, "bigWin", void 0), a([g(cc.SpriteFrame)], t.prototype, "megaWin", void 0), a([g(cc.Node)], t.prototype, "WintypeSpriteNode", void 0), a([g(cc.Node)], t.prototype, "oddBar", void 0), a([g(cc.Node)], t.prototype, "winLabel", void 0), a([g(cc.Node)], t.prototype, "framework", void 0), a([g(cc.Label)], t.prototype, "betLabel", void 0), a([y], t)
            }(p.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Skill/BaseSkill": "BaseSkill",
        "../Weapon/WeaponManager": "WeaponManager",
        "./AwardManager": "AwardManager"
    }],
    HUMPBACK_WHALE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ef9c7PQGatMZqhexIAna8zn", "HUMPBACK_WHALE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../Common/ResourceManager"),
            l = e("./BaseFish"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.ShapeSkeleton = null, t.splashCoin = [], t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.o < 30 && (this.o += 30), this.o > 150 && this.o < 180 && (this.o -= 30), this.o >= 180 && this.o < 210 && (this.o += 30), this.o > 330 && this.o < 360 && (this.o -= 30), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode.opacity = 255, this.ShapeSkeleton.timeScale = 1, this.ShapeSkeleton.setAnimation(0, "SWIM", !0)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function() {
                            return this.aliveStatus = l.FishState.DEAD, this.canCollision = !1, this.StopAction(), e = cc.spawn(cc.rotateBy(4, 360), cc.callFunc(function() {
                                t.shapeNode.runAction(cc.fadeOut(4))
                            }), cc.sequence(cc.callFunc(function() {
                                for (var e = function(e) {
                                        var n = e % t.splashCoin.length;
                                        t.node.runAction(cc.sequence(cc.delayTime(.3 * e), cc.callFunc(function() {
                                            var e = c.default.SpawnEffect("CoinBlast");
                                            e.setScale(t.splashCoin[n].scale);
                                            var i = t.node.convertToWorldSpaceAR(t.splashCoin[n].getPosition());
                                            e.setPosition(e.parent.convertToNodeSpaceAR(i))
                                        })))
                                    }, n = 0; n < 8; n++) e(n)
                            }), cc.delayTime(5), cc.callFunc(function() {
                                t.RemoveSelf()
                            }))), this.node.runAction(e), [2]
                        })
                    })
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.ShapeSkeleton.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.ShapeSkeleton.paused = !1
                }, t.prototype.RemoveSelf = function() {
                    this.ShapeSkeleton.setEventListener(null), this.ShapeSkeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, a([p(sp.Skeleton)], t.prototype, "ShapeSkeleton", void 0), a([p([cc.Node])], t.prototype, "splashCoin", void 0), a([u], t)
            }(l.default);
        n.default = d, cc._RF.pop()
    }, {
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish"
    }],
    ItemButton: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "1c44auVl/9Ke4p+oCv32d58", "ItemButton");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../System/ItemSystem"),
            r = e("../Common/SystemTip"),
            c = e("../Weapon/WeaponManager"),
            l = e("../Fish/FishManager"),
            h = e("../../GameClient"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemID = "", t.btn = null, t.btnMask = null, t.tip = null, t.mask = null, t.amountStr = null, t.itemAmount = 0, t.tip_flag = !1, t.cdTime = 0, t.cdCounter = 0, t.timeOutCounter = 0, t.timeOutTime = 10, t.btnEvent = null, t
                }
                return o(t, e), Object.defineProperty(t.prototype, "ItemCanUse", {
                    get: function() {
                        return !(!this.btn.interactable || (this.cdCounter > 0 ? (r.default.Open(r.SYSTEM_TIP_TYPE.COOLDOWN, 1.5, !1), 1) : this.itemAmount < 1 ? (r.default.Open(r.SYSTEM_TIP_TYPE.QTY_LACK, 1.5, !1), 1) : 0 == c.default.Instance.bulletLimit ? (r.default.Open(r.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), 1) : this.itemID == s.ITEM_ID.FREEZE && !l.default.Instance.CheckAnyFishInScreen() && (r.default.Open(r.SYSTEM_TIP_TYPE.FREEZE_WAIT, 1.5, !1), 1)))
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    this.btn = this.getComponent(cc.Button), this.btnMask = cc.find("MaskBtn", this.node).getComponent(cc.Button), this.tip = cc.find("Tip", this.node), this.mask = cc.find("Mask", this.node).getComponent(cc.Sprite), this.amountStr = cc.find("Amount", this.node).getComponent(cc.RichText), this.btnMask.interactable = !1                    
                }, t.prototype.start = function() {}, t.prototype.update = function(e) {
                    this.cdCounter > 0 && (this.cdCounter -= e, this.mask.fillRange = this.cdCounter / this.cdTime, this.cdCounter <= 0 && (this.cdCounter = 0, this.checkBtnStatus())), this.timeOutCounter > 0 && (this.timeOutCounter -= e, this.timeOutCounter <= 0 && (this.timeOutCounter = 0, this.btn.interactable = !0, this.checkBtnStatus()))
                }, t.prototype.Init = function(e, t, n) {
                    var i = this;
                    this.itemID = e, this.cdTime = t, this.btnEvent = n, this.btnMask.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        h.default.FishUIMgr.switchMouseMark(!0)
                    }), this.btnMask.node.on(cc.Node.EventType.MOUSE_LEAVE, function() {
                        h.default.FishUIMgr.switchMouseMark(!1)
                    }), this.btn.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        h.default.FishUIMgr.switchMouseMark(!0)
                    }), this.btn.node.on(cc.Node.EventType.MOUSE_LEAVE, function() {
                        h.default.FishUIMgr.switchMouseMark(!1)
                    }), this.node.on(cc.Node.EventType.TOUCH_START, function() {
                        i.scheduleOnce(i.openTip, .25)
                    }), this.node.on(cc.Node.EventType.TOUCH_START, function() {
                        i.scheduleOnce(i.openTip, .25)
                    }), this.node.on(cc.Node.EventType.TOUCH_END, function() {
                        i.unschedule(i.openTip), i.tip.active = !1, i.scheduleOnce(function() {
                            i.tip_flag = !1
                        }, .1)
                    }), this.node.on(cc.Node.EventType.TOUCH_CANCEL, function() {
                        i.unschedule(i.openTip), i.tip.active = !1, i.scheduleOnce(function() {
                            i.tip_flag = !1
                        }, .1)
                    })
                }, t.prototype.onClick = function() {
                    this.ItemCanUse && this.btn.interactable && (this.btn.interactable = !1, this.OpenMask(), this.transition(this.node, 1.1), this.timeOutCounter = this.timeOutTime, this.btnEvent && this.btnEvent())
                }, t.prototype.onMaskClick = function() {}, t.prototype.SetItemQty = function(e) {
                    var t = e > 999 ? "999+" : e.toString();
                    this.amountStr.string = "<outline color=#000000 width=3><b>" + t + "</b><outline>", this.itemAmount = e, this.transition(this.amountStr.node, 1.2), this.checkBtnStatus()
                }, t.prototype.SetCoolDown = function() {
                    this.CloseMask(), this.checkBtnStatus()
                }, t.prototype.checkBtnStatus = function() {
                    !this.btn.interactable || this.itemAmount < 1 ? (this.mask.fillRange = 1, this.mask.node.active = !0) : this.cdCounter > 0 ? (this.mask.fillRange = this.cdCounter / this.cdTime, this.mask.node.active = !0) : (this.mask.fillRange = 0, this.mask.node.active = !1, this.btnMask.interactable = !1)
                }, t.prototype.resetCoolDown = function() {
                    this.mask.fillRange = 0, this.mask.node.active = !1
                }, t.prototype.transition = function(e, t) {
                    e.runAction(cc.sequence(cc.scaleTo(.1, t), cc.delayTime(.15), cc.scaleTo(.15, 1)))
                }, t.prototype.openTip = function() {
                    this.tip.active = !0, this.tip_flag = !0
                }, t.prototype.OpenMask = function() {
                    this.mask.fillRange = 1, this.mask.node.active = !0, this.btnMask.interactable = !0
                }, t.prototype.CloseMask = function() {
                    this.mask.fillRange = 0, this.mask.node.active = !1, this.btnMask.interactable = !1, this.btn.interactable = !0, this.timeOutCounter = 0, this.cdCounter = this.cdTime
                }, a([p], t)
            }(cc.Component));
        n.default = d, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../../System/ItemSystem": "ItemSystem",
        "../Common/SystemTip": "SystemTip",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    ItemManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a7e06YltGlC1LOWg6RMZhZt", "ItemManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../System/ItemSystem"),
            r = e("../Weapon/WeaponManager"),
            c = e("../Common/ResourceManager"),
            l = e("./DropItem"),
            h = e("../Player/PlayerManager"),
            u = e("./ItemButton"),
            p = e("./ItemTitle"),
            d = e("../Fish/BaseFish"),
            f = e("../Fish/FishManager"),
            m = e("./FreezeEffect"),
            y = e("../Common/AudioManager"),
            g = e("../Common/SystemTip"),
            S = e("../../../../../FishCommon/Script/CanvasHandler"),
            _ = e("../Common/EnumFilter"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            I = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemBtnList = [], t.itemData = null, t.itemSystem = null, t.itemBtnDict = {}, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.itemBtn = function(e) {
                    return this.itemBtnDict[e]
                }, t.prototype.onLoad = function() {
                    n.instance = this
                }, t.prototype.Init = function(e) {
                    this.itemData = new s.ItemData, this.itemSystem = e, this.itemSystem.GetItemInfoEvent = this.onGetItemInfo.bind(this), this.itemSystem.FreezeEvent = this.onFreeze.bind(this), this.itemSystem.SummonEvent = this.onSummon.bind(this), this.itemSystem.GetItemInfo()
                }, t.prototype.AddItemBtn = function(e, t) {
                    var n = Object.keys(s.ITEM_CFG);
                    e >= n.length || (this.itemBtnDict[n[e]] = t)
                }, t.prototype.DropItemEffectByMission = function(e, t, n, i, o, a) {
                    var s = this;
                    void 0 === a && (a = null);
                    var h = r.default.WeaponPosition(t),
                        u = c.default.LoadGUI("DropItem");
                    if (u) {
                        var p = u.getComponent(l.default);
                        u.angle = 0, p.ShowIcon(!0), p.Init(n, i, o, h, function() {
                            c.default.UnloadGUI("DropItem", u), s.ModifyItemQty(e, n, i), a && a()
                        })
                    }
                }, t.prototype.DropItemEffect = function(e, t, n, i, o, a, s, h) {
                    var u = this;
                    void 0 === a && (a = null);
                    var p = r.default.WeaponPosition(e),
                        d = r.default.WeaponGUIRotation(e),
                        f = c.default.SpawnEffect("DropItem");
                    if (f) {
                        var m = f.getComponent(l.default);
                        if (o) {
                            var y = 100 * (Math.random() - .5);
                            i.addSelf(cc.v2(y, y))
                        }
                        f.angle = d, m.ShowIcon(!0), m.Init(t, n, i, p, function() {
                            c.default.DespawnEffect("DropItem", f), u.ModifyItemQty(e, t, n, s, h), a && a()
                        })
                    }
                }, t.prototype.ModifyItemQty = function(e, t, n, i, o) {
                    if (void 0 === i && (i = -1), void 0 === o && (o = -1), h.PlayerManager.isMainSeat(e)) {
                        var a = this.itemData.IncItemQty(t, n),
                            s = ""; - 1 != i || -1 != o ? (n > 0 ? s = "\u6b7b\u9b5a\u6389\u843d \u589e\u52a0\u9053\u5177\u6578\u91cf " : 0 == n && (s = "\u9053\u5177\u4f7f\u7528\u6210\u529f "), cc.log(s + ", item_id = " + t + ", amount = " + n + ", ser\u51b0\u51cd\u6578\u91cf = " + i + ", ser\u53ec\u559a\u6578\u91cf = " + o), this.itemData.CheckItemQty(t, i, o)) : (n > 0 ? s = "\u4efb\u52d9\u7372\u5f97\u6216\u4f7f\u7528\u5931\u6557 \u589e\u52a0\u9053\u5177\u6578\u91cf " : n < 0 && (s = "\u9053\u5177\u4f7f\u7528 "), cc.log(s + ", item_id = " + t + ", amount = " + n));
                        var r = this.itemBtnDict[t];
                        r ? r.SetItemQty(a) : cc.error("ModifyItemQty error, !btn, item_id = " + t)
                    }
                }, t.prototype.registerItemBtn = function(e, t) {
                    this.itemBtn(e).Init(e, this.itemData.GetCDTime(e), t.bind(this.itemSystem))
                }, t.prototype.onGetItemInfo = function(e) {
                    var t = this;
                    cc.log("[ItemManager][onGetItemInfo \u53d6\u5f97\u9053\u5177\u8cc7\u8a0a]data: ", JSON.stringify(e)), this.itemData.SetData(e), Object.keys(this.itemData.ItemQty).forEach(function(e) {
                        var n = t.itemBtn(e);
                        n && n.SetItemQty(t.itemData.GetItemQty(e))
                    }), this.registerItemBtn(s.ITEM_ID.FREEZE, function() {
                        return t.useItem(s.ITEM_ID.FREEZE)
                    }), this.registerItemBtn(s.ITEM_ID.SUMMON, function() {
                        return t.useItem(s.ITEM_ID.SUMMON)
                    })
                }, t.prototype.useItem = function(e) {
                    this.ModifyItemQty(h.PlayerManager.MainSeat, e, -1), e == s.ITEM_ID.FREEZE ? this.itemSystem.Freeze() : e == s.ITEM_ID.SUMMON && this.itemSystem.Summon()
                }, t.prototype.onFreeze = function(e, t, n, i, o, a) {
                    var r = this;
                    cc.log("[ItemManager][onFreeze]seat: %s, status: %s, freeze_time: %s, freeze_amount: %s, summon_amount: %s, fish_ids: ", e, t, n, o, a, i);
                    var c = s.ITEM_ID.FREEZE,
                        l = this.itemBtn(c);
                    if (h.PlayerManager.isMainSeat(e) && l.SetCoolDown(), 0 != t ? (this.ModifyItemQty(h.PlayerManager.MainSeat, c, 1, o, a), cc.warn("[ItemManager][onFreeze]\u4f7f\u7528\u5931\u6557")) : this.ModifyItemQty(e, c, 0, o, a), 1 != t) return 2 == t ? (l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), !1) : 3 == t ? (l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.ITEM_CLOSE, 1.5, !1), !1) : void(0 == t && (this.showItemTitle(e, c), f.default.Instance.GetFishByID(i).forEach(function(e) {
                        null != e && e.AliveStatus != d.FishState.DEAD && e.AliveStatus != d.FishState.OUT && (r.freezeEffect(e), e.PauseBehavior(n, r.resetFreezeIce.bind(r)))
                    }), h.PlayerManager.isMainSeat(e) && y.default.Instance.Play("Skill_Freeze")));
                    l.CloseMask()
                }, t.prototype.freezeEffect = function(e) {
                    for (var t = e.node.getPosition(), n = Math.floor(2 * Math.random()) + 1, i = 0; i < n; i++) {
                        var o = c.default.SpawnEffect("freeze_effect").getComponent(m.default);
                        o && (o.node.setPosition(t), o.Play())
                    }
                    if (!(this.getFreezeIceGruop(e).length > 0)) {
                        var a = this.getFreezeIceType(f.default.Instance.ToBaseType(e.Type), e),
                            s = this.getFreezeIceScale(f.default.Instance.ToBaseType(e.Type), e),
                            r = this.getFreezeIcePos(f.default.Instance.ToBaseType(e.Type), e);
                        "" !== a && this.spwanIce(a, e, null, -90, s, r)
                    }
                }, t.prototype.resetFreezeIce = function(e) {
                    var t = this.getFreezeIceGruop(e);
                    if (t.length > 0)
                        for (var n = t.length - 1; n > -1; n--) {
                            var i = t[n];
                            c.default.DespawnEffect(i.name, i)
                        }
                }, t.prototype.getFreezeIceGruop = function(e) {
                    var t = e.node.getChildByName("IceRoot");
                    return t ? t.children : []
                }, t.prototype.getFreezeIceType = function(e, t) {
                    if (116 == e) switch (this.getWeathGodFishLevel(t)) {
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                            return "FreezeIceM";
                        case 5:
                        case 6:
                            return "FreezeIceXL";
                        default:
                            return
                    } else switch (e) {
                        case 0:
                        case 1:
                        case 2:
                        case 47:
                        case 48:
                        case 3:
                            return "FreezeIceS";
                        case 4:
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                        case 9:
                        case 10:
                            return "FreezeIceM";
                        case 11:
                        case 12:
                        case 22:
                        case 23:
                        case 34:
                        case 76:
                        case 77:
                        case 79:
                            return "FreezeIceL";
                        case 13:
                        case 14:
                        case 15:
                        case 16:
                        case 17:
                        case 18:
                        case 24:
                        case 26:
                        case 128:
                            return "FreezeIceXL";
                        case 20:
                        case 123:
                            return "FreezeIceKingLacoste";
                        case 35:
                        case 124:
                            return "FreezeIceKingAngler";
                        case 80:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.CIR:
                                case _.FishGame.ZB:
                                case _.FishGame.KK:
                                case _.FishGame.WCF:
                                case _.FishGame.KC:
                                    return "FreezeIceParitShip";
                                default:
                                    return ""
                            }
                        case 81:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.LS:
                                    return "FreezeIceKingBuffalo";
                                default:
                                    return "FreezeIceKingRagingDragon"
                            }
                        case 82:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.KK:
                                    return "FreezeIceKingKingKong";
                                case _.FishGame.LS:
                                    return "FreezeIceKingShamrock"
                            }
                        case 111:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.KC:
                                    return "FreezeIceXL"
                            }
                        case 114:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case _.FishGame.KC:
                                    return "FreezeIceXL"
                            }
                        default:
                            return ""
                    }
                }, t.prototype.getFreezeIceScale = function(e, t) {
                    switch (e) {
                        case 116:
                            switch (this.getWeathGodFishLevel(t)) {
                                case 1:
                                    return cc.v2(1.6, 1.5);
                                case 2:
                                    return cc.v2(2, 2);
                                case 3:
                                case 4:
                                    return cc.v2(2.3, 2.3);
                                case 5:
                                case 6:
                                    return cc.v2(1.65, 1);
                                default:
                                    return cc.v2(1.5, 1.5)
                            }
                        case 111:
                            return cc.v2(2.2, 2.2);
                        case 114:
                            switch (t.LEVEL) {
                                case 0:
                                    return cc.v2(1, 1);
                                case 1:
                                    return cc.v2(1.2, 1.2);
                                case 2:
                                    return cc.v2(1.5, 1.5)
                            }
                        default:
                            return cc.Vec2.ONE
                    }
                }, t.prototype.getFreezeIcePos = function(e, t) {
                    switch (e) {
                        case 116:
                            switch (this.getWeathGodFishLevel(t)) {
                                case 1:
                                case 2:
                                    return cc.v2(0, 20);
                                case 3:
                                case 4:
                                    return cc.v2(0, 15);
                                case 5:
                                case 6:
                                    return cc.v2(10, 10);
                                default:
                                    return
                            }
                        case 111:
                            return cc.v2(90, 0);
                        default:
                            return cc.Vec2.ZERO
                    }
                }, t.prototype.getWeathGodFishLevel = function(e) {
                    return e.CurrentLevel
                }, t.prototype.spwanIce = function(e, t, n, i, o, a) {
                    void 0 === i && (i = -90), void 0 === o && (o = cc.Vec2.ONE), void 0 === a && (a = cc.Vec2.ZERO);
                    var s = c.default.SpawnEffect(e);
                    if (s) {
                        var r = t.node.getChildByName("IceRoot");
                        if (r || (r = new cc.Node("IceRoot")).setParent(t.node), s.setParent(r), n) {
                            var l = n.offset;
                            a = cc.v2(n.node.getPosition().x + l.x, n.node.getPosition().y + l.y)
                        }
                        s.setPosition(a), s.angle = i, s.setScale(o)
                    }
                }, t.prototype.onSummon = function(e, t, n, i, o) {
                    cc.log("[ItemManager][onSummon]seat: %s, status: %s, freeze_amount: %s, summon_amount: %s, fish_data:", e, t, i, o, n);
                    var a = s.ITEM_ID.SUMMON,
                        l = this.itemBtn(a);
                    if (h.PlayerManager.isMainSeat(e) && l.SetCoolDown(), 0 != t ? (this.ModifyItemQty(h.PlayerManager.MainSeat, a, 1, i, o), cc.warn("[ItemManager][onSummon]\u4f7f\u7528\u5931\u6557")) : this.ModifyItemQty(e, a, 0, i, o), 1 != t) {
                        if (2 == t) return l.CloseMask(), void g.default.Open(g.SYSTEM_TIP_TYPE.SUMMON_MAX, 1.5, !1);
                        if (3 == t) return l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.CHANGE_SCENE, 1.5, !1), !1;
                        if (4 == t) return l.CloseMask(), g.default.Open(g.SYSTEM_TIP_TYPE.ITEM_CLOSE, 1.5, !1), !1;
                        if (0 == t) {
                            if (n.length < 1) return;
                            this.showItemTitle(e, a);
                            var u = c.default.SpawnEffect("summon_effect").getComponent(cc.Animation);
                            if (!u) return;
                            u.node.parent = c.default.Instance.Background;
                            var p = r.default.WeaponPosition(e);
                            u.node.setPosition(p), u.hasEventListener("finished") || u.on("finished", function() {
                                c.default.DespawnEffect("summon_effect", u.node)
                            }), u.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, cc.v2(n[0].x, n[0].y)), cc.callFunc(function() {
                                u.play("A_Skill_Summon")
                            })), cc.delayTime(1.5), cc.callFunc(function() {
                                f.default.Instance.SummonFish(n)
                            }))), h.PlayerManager.isMainSeat(e) && y.default.Instance.Play("Skill_CallFish")
                        }
                    } else l.CloseMask()
                }, t.prototype.showItemTitle = function(e, t, n) {
                    var i = c.default.SpawnTitle("item_title", h.PlayerManager.isMainSeat(e)).getComponent(p.default),
                        o = !S.default.isReverse && e > 1 || S.default.isReverse && e < 2 ? p.ANIM_CLIP.DOWN : p.ANIM_CLIP.UP;
                    i.node.angle = r.default.WeaponGUIRotation(e), i.node.setPosition(r.default.WeaponPosition(e, cc.v2(0, n === p.ANIM_CLIP.SCALE ? 150 : 0))), i.Play(t, function() {
                        c.default.DespawnTitle("item_title", i.node)
                    }, n || o)
                }, t.instance = null, a([P([u.default])], t.prototype, "itemBtnList", void 0), n = a([b], t)
            }(cc.Component);
        n.default = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/ItemSystem": "ItemSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/SystemTip": "SystemTip",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./DropItem": "DropItem",
        "./FreezeEffect": "FreezeEffect",
        "./ItemButton": "ItemButton",
        "./ItemTitle": "ItemTitle"
    }],
    ItemSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8f57688HvJJmIvOq/YrJS0f", "ItemSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ItemData = n.ITEM_CFG = n.ITEM_ID = void 0;
        var a = e("./baseSystem");
        n.ITEM_ID = {
            SUMMON: "MF100002",
            FREEZE: "MF100001"
        }, n.ITEM_CFG = {
            MF100002: {
                index: 1,
                name: "M105"
            },
            MF100001: {
                index: 0,
                name: "M104"
            }
        };
        var s = {
                GET_ITEM_INFO: "get_item_info",
                FREEZE: "freeze",
                SUMMON: "summon",
                GET_FREE_ITEM: "get_free_item",
                USE_ITEM_INFO: "UseItemInfo"
            },
            r = function(e) {
                function t(t) {
                    var n = e.call(this, t, "item") || this;
                    return n.GetItemInfoEvent = null, n.FreezeEvent = null, n.SummonEvent = null, n.CollectNewbieGift = null, n.UpdateMissionProgressEvent = null, n.RegisterCmdCallback(s.GET_ITEM_INFO, n.onGetItemInfo.bind(n)), n.RegisterCmdCallback(s.FREEZE, n.onFreeze.bind(n), s.FREEZE), n.RegisterCmdCallback(s.SUMMON, n.onSummon.bind(n), s.SUMMON), n.RegisterCmdCallback(s.GET_FREE_ITEM, n.onCollectNewbieGift.bind(n)), n.RegisterCmdCallback(s.USE_ITEM_INFO, n.onGetFishMissionProgress.bind(n)), n
                }
                return o(t, e), t.prototype.GetItemInfo = function() {
                    this.SendCmd(s.GET_ITEM_INFO)
                }, t.prototype.Freeze = function() {
                    this.SendCmd(s.FREEZE)
                }, t.prototype.Summon = function() {
                    this.SendCmd(s.SUMMON)
                }, t.prototype.onGetItemInfo = function(e, t) {
                    e == ArkSDK.SocketResult.OK && this.GetItemInfoEvent && this.GetItemInfoEvent(t)
                }, t.prototype.onFreeze = function(e, t) {
                    if (e == ArkSDK.SocketResult.OK) {
                        var n = t.seat,
                            i = t.status,
                            o = t.freeze_time,
                            a = t.fish,
                            s = t.freeze_amount,
                            r = t.summon_amount;
                        this.FreezeEvent && this.FreezeEvent(n, i, o, a, s, r)
                    }
                }, t.prototype.onSummon = function(e, t) {
                    if (e == ArkSDK.SocketResult.OK) {
                        var n = t.seat,
                            i = t.status,
                            o = t.fish_data,
                            a = t.freeze_amount,
                            s = t.summon_amount;
                        this.SummonEvent && this.SummonEvent(n, i, o, a, s)
                    }
                }, t.prototype.SendCollectNewbieGift = function(e, t) {
                    cc.log("SendCollectNewbieGift, questID = " + e + ", questLevel = " + t + "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~");
                    var n = {};
                    n.quest_id = e, n.quest_level = t, this.SendCmd(s.GET_FREE_ITEM, n)
                }, t.prototype.onCollectNewbieGift = function(e, t) {
                    cc.log(" ~~~~~~~~~~~~~~~~onCollectNewbieGift: %s, data: ", e, t), this.CollectNewbieGift && this.CollectNewbieGift(e, t)
                }, t.prototype.onGetFishMissionProgress = function(e, t) {
                    cc.log("[ItemSystem][onGetFishMissionProgress]data...: " + JSON.stringify(t)), this.UpdateMissionProgressEvent && this.UpdateMissionProgressEvent(t)
                }, t
            }(a.default);
        n.default = r;
        var c = function() {
            function e() {
                this.itemIDList = [], this.itemQty = {}, this.itemCooldown = {}
            }
            return Object.defineProperty(e.prototype, "ItemQty", {
                get: function() {
                    return this.itemQty
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.SetData = function(e) {
                this.itemIDList = Object.keys(n.ITEM_CFG);
                for (var t = Object.keys(e), i = t.length, o = 0; o < i; o++) {
                    var a = t[o]; - 1 != this.itemIDList.indexOf(a) && (this.itemQty[a] = e[a].amount, this.itemCooldown[a] = e[a].cd)
                }
            }, e.prototype.GetItemQty = function(e) {
                return !this.itemQty[e] || this.itemQty[e] < 0 ? 0 : this.itemQty[e]
            }, e.prototype.IncItemQty = function(e, t) {
                var n = this.itemQty[e];
                if ("number" == typeof n) return n += t, this.itemQty[e] = n, n
            }, e.prototype.GetCDTime = function(e) {
                return !this.itemCooldown[e] || this.itemCooldown[e] < 0 ? -1 : this.itemCooldown[e]
            }, e.prototype.CheckItemQty = function(e, t, i) {
                var o = this.itemQty[n.ITEM_ID.FREEZE],
                    a = this.itemQty[n.ITEM_ID.SUMMON];
                cc.warn("\u9053\u5177\u6578\u91cf\u6aa2\u67e5, client / server \u51b0\u51cd\u6578\u91cf = " + o + " / " + t + ", client / server \u53ec\u559a\u6578\u91cf = " + a + " / " + i), -1 != t && -1 != i && (o != t && cc.error("CheckItemQty \u51b0\u51cd\u6578\u91cf\u932f\u8aa4!, client = " + o + ", server = " + t), a != i && cc.error("CheckItemQty \u53ec\u559a\u6578\u91cf\u932f\u8aa4!, client = " + a + ", server = " + i))
            }, e
        }();
        n.ItemData = c, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    ItemTitle: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2227fFLXCJMSJtWNQR78VvF", "ItemTitle");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.ANIM_CLIP = void 0;
        var s = e("../../System/ItemSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = r.executeInEditMode,
            u = function() {
                function e() {
                    this.title_type = 0, this.sprite_frame = null, this.color = cc.Color.WHITE
                }
                return a([l(cc.SpriteFrame)], e.prototype, "sprite_frame", void 0), a([l(cc.Color)], e.prototype, "color", void 0), a([c("ItemTitleConfig")], e)
            }(),
            p = cc.Enum({
                FREEZE: 0,
                SUMMON: 1
            });
        n.ANIM_CLIP = {
            UP: "TitleUp",
            DOWN: "TitleDown",
            SCALE: "TitleScale"
        };
        var d = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.title_type = p.FREEZE, t.title_sprite_config = [], t.title_sprite = null, t.root = null, t.Light1 = null, t.Light2 = null, t.anim = null, t.anim_finished_event = null, t
            }
            return o(t, e), Object.defineProperty(t.prototype, "PreviewTitleType", {
                get: function() {
                    return this.title_type
                },
                set: function(e) {
                    if (!(e >= this.title_sprite_config.length)) {
                        this.title_type = e;
                        var t = this.title_sprite_config[this.title_type];
                        this.Light1.color = t.color, this.title_sprite.spriteFrame = t.sprite_frame
                    }
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.onLoad = function() {
                this.anim.on("finished", this.onFinished.bind(this))
            }, t.prototype.Play = function(e, t, n) {
                void 0 === n && (n = "TitleDown");
                var i = null;
                switch (e) {
                    case s.ITEM_ID.FREEZE:
                        i = this.title_sprite_config[0];
                        break;
                    case s.ITEM_ID.SUMMON:
                        i = this.title_sprite_config[1]
                }
                i && (this.Light1.color = i.color, this.title_sprite.spriteFrame = i.sprite_frame, t && (this.anim_finished_event = t), this.anim.play(n))
            }, t.prototype.onFinished = function() {
                this.anim_finished_event && (this.anim_finished_event(this), this.anim_finished_event = null, this._nodeResrt(this.title_sprite.node), this._nodeResrt(this.Light1), this._nodeResrt(this.Light2), this._nodeResrt(this.root), this._nodeResrt(this.node))
            }, t.prototype._nodeResrt = function(e) {
                e.setPosition(cc.Vec2.ZERO), e.angle = 0, e.setScale(1), e.opacity = 255
            }, a([l({
                type: cc.Enum(p)
            })], t.prototype, "PreviewTitleType", null), a([l([u])], t.prototype, "title_sprite_config", void 0), a([l(cc.Sprite)], t.prototype, "title_sprite", void 0), a([l(cc.Node)], t.prototype, "root", void 0), a([l(cc.Node)], t.prototype, "Light1", void 0), a([l(cc.Node)], t.prototype, "Light2", void 0), a([l(cc.Animation)], t.prototype, "anim", void 0), a([c, h], t)
        }(cc.Component);
        n.default = d, cc._RF.pop()
    }, {
        "../../System/ItemSystem": "ItemSystem"
    }],
    JELLY_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "80790NEUgNGzaBAcesFHX/8", "JELLY_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/EnumFilter"),
            r = e("./BaseFish"),
            c = e("./FishManager"),
            l = cc._decorator,
            h = l.ccclass,
            u = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.Init = function(t, n, i, o, a) {
                    e.prototype.Init.call(this, t, n, i, o, a), this.o = parseInt(n) % 5 * 72
                }, t.prototype.InitNormalBehavior = function(e, t) {
                    void 0 === t && (t = 0);
                    var n = c.default.Instance.GetFishByType(s.FishType.KingJellyFish);
                    null != n ? (this.moveToScreenOut(), this.startPos = n.node.getPosition(), this.syncTime = t, this.getPosArray(e)) : this.FishOut()
                }, a([h], t)
            }(r.default));
        n.default = u, cc._RF.pop()
    }, {
        "../Common/EnumFilter": "EnumFilter",
        "./BaseFish": "BaseFish",
        "./FishManager": "FishManager"
    }],
    KILLER_WHALE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b6c06hpb+9KEYRPJAGxxgAp", "KILLER_WHALE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseFish"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.ColliderList = [], t.BonesName = [], t.boneNum = 5, t.bone = null, t.LinkPointCount = 0, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.shapeNode = this.node.getChildByName("Shape"), this.bone = new Array(this.boneNum);
                    for (var i = 0; i < this.boneNum; i++) this.bone[i] = this.skeleton.findBone(this.BonesName[i]);
                    this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0)
                }, t.prototype.InitPath = function(t, n, i, o, a, c, l, h, u, p) {
                    return void 0 === a && (a = 0), void 0 === c && (c = 0), void 0 === l && (l = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), void 0 === p && (p = 0), s(this, void 0, void 0, function() {
                        var s;
                        return r(this, function() {
                            for (e.prototype.InitPath.call(this, t, n, i, o, a, c, l, h, u, p), this.shapeNode = this.node.getChildByName("Shape"), this.bone = new Array(this.boneNum), s = 0; s < this.boneNum; s++) this.bone[s] = this.skeleton.findBone(this.BonesName[s]);
                            return this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), [2]
                        })
                    })
                }, t.prototype.FishDie = function(t, n, i) {
                    return void 0 === n && (n = !0), s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.skeleton.setAnimation(0, "CATCH", !0), e.prototype.FishDie.call(this, t, n, i), [2]
                        })
                    })
                }, t.prototype.update = function(t) {
                    if (e.prototype.update.call(this, t), this.LinkPointCount < 5) this.LinkPointCount++;
                    else {
                        this.LinkPointCount = 0, this.skeleton.updateWorldTransform();
                        for (var n = 0; n < this.boneNum; n++) this.ColliderList[n].node.setPosition(new cc.Vec2(-this.bone[n].worldX, -this.bone[n].worldY))
                    }
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, t.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, a([u(sp.Skeleton)], t.prototype, "skeleton", void 0), a([u([cc.Collider])], t.prototype, "ColliderList", void 0), a([u([cc.String])], t.prototype, "BonesName", void 0), a([h], t)
            }(c.default);
        n.default = p, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    KING_ANGLER_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2ab390wyEJKS41wz2Svv9PR", "KING_ANGLER_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("../Common/ResourceManager"),
            u = e("../Game/GameManager"),
            p = e("./BaseFish"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.ColliderList = new Array, t.BonesName = new Array, t.skeleton = null, t.bone = null, t.Top_Mask = null, t.Bottom_Mask = null, t.BackGround = null, t.FishPool = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.o = 0, this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.opacity = 255), this.bone = new Array(this.BonesName.length);
                    for (var i = 0; i < this.BonesName.length; i++) this.bone[i] = this.skeleton.findBone(this.BonesName[i]);
                    this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), this.BackGround = u.default.Instance.BackgroundNow, this.Top_Mask = this.BackGround.Top_Mask, this.Bottom_Mask = this.BackGround.Bottom_Mask, this.Top_Mask && (this.Top_Mask.setParent(this.ColliderList[0].node), this.Top_Mask.setPosition(cc.Vec2.ZERO)), this.FishPool = h.default.Instance.Fishes
                }, t.prototype.InitSeek = function(e, t, n) {
                    if (this.behaviorType = p.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        t = t || this.o % this.AISeek.GetPathCount(e);
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(e, t, this.node, this.id, 0, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.bone = new Array(this.BonesName.length);
                    for (var n = 0; n < this.BonesName.length; n++) this.bone[n] = this.skeleton.findBone(this.BonesName[n]);
                    for (this.skeleton.updateWorldTransform(), n = 0; n < this.bone.length; n++) this.ColliderList[n].node.setPosition(new cc.Vec2(this.bone[n].worldX, this.bone[n].worldY));
                    if (this.Top_Mask && this.Top_Mask.activeInHierarchy && this.Bottom_Mask && this.Bottom_Mask.activeInHierarchy) {
                        var i = this.Top_Mask.convertToWorldSpaceAR(cc.Vec2.ZERO);
                        this.Bottom_Mask.setPosition(this.BackGround.node.convertToNodeSpaceAR(i))
                    }
                }, t.prototype.FishOut = function(t) {
                    this.DropMask(), e.prototype.FishOut.call(this, t)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.aliveStatus = p.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, this.StopAction(), l.default.Instance.Play("catch_lantern"), e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect(), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.DropMask(), t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.DropMask = function() {
                    this.Top_Mask && this.Top_Mask.activeInHierarchy && (this.Top_Mask.setParent(this.FishPool), this.Top_Mask.zIndex = 50, this.Top_Mask.setPosition(new cc.Vec2(-1350, 1600))), this.Bottom_Mask && this.Bottom_Mask.activeInHierarchy && this.Bottom_Mask.setPosition(new cc.Vec2(-1350, 1600)), this.Top_Mask = null, this.Bottom_Mask = null
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, t.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, t.prototype.getFishPos = function() {
                    return this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)
                }, a([m([cc.Collider])], t.prototype, "ColliderList", void 0), a([m([cc.String])], t.prototype, "BonesName", void 0), a([m(sp.Skeleton)], t.prototype, "skeleton", void 0), a([f], t)
            }(p.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "./BaseFish": "BaseFish"
    }],
    KING_JELLY_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "79583sHhPdJE4G3b00pwgzR", "KING_JELLY_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.ice_group = [], t.size = 0, t
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.parameter && this.parameter.hasOwnProperty("size") && this.changeLevel(this.parameter.size), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.opacity = 255), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "Swim", !0)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect(2), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.changeLevel = function(e) {
                    this.size = e;
                    var t = .01 * e;
                    e < .8 && (e = .8), e > 1.8 && (e = 1.8), this.node.scale = t
                }, t.prototype.moveToScreenOut = function() {
                    var e = cc.v2(c.default.WinSize.width, c.default.WinSize.height);
                    this.x -= 45, this.y -= 45, this.y *= -1, this.o += 90;
                    for (var t = .004 * e.x * this.x, n = .004 * e.y * this.y, i = Math.tan(-cc.misc.degreesToRadians(this.o)), o = -i * t + n, a = 400 + 2 * this.size, s = .5 * -e.x - a, r = .5 * e.x + a, l = .5 * e.y + a, h = .5 * -e.y - a, u = [cc.v2(s, i * s + o), cc.v2((o - h) / -i, h), cc.v2(r, i * r + o), cc.v2((o - l) / -i, l)], p = [0, 1], d = [cc.v2(cc.Vec2.ZERO.sub(u[0])).mag(), cc.v2(cc.Vec2.ZERO.sub(u[1])).mag()], f = 1; f < u.length; f++) {
                        var m = cc.v2(cc.Vec2.ZERO.sub(u[f])).mag();
                        m <= d[0] ? (d[1] = d[0], d[0] = m, p[1] = p[0], p[0] = f) : m <= d[1] && (d[1] = m, p[1] = f)
                    }
                    var y = u[p[0]].y,
                        g = u[p[1]].y;
                    this.o > 180 && this.o < 360 ? y < g ? (this.startPos = u[p[0]], this.targetPos = u[p[1]]) : (this.startPos = u[p[1]], this.targetPos = u[p[0]]) : y < g ? (this.startPos = u[p[1]], this.targetPos = u[p[0]]) : (this.startPos = u[p[0]], this.targetPos = u[p[1]])
                }, t.prototype.PauseBehavior = function(t, n) {
                    this.aliveStatus == h.FishState.ALIVE && (e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0, this.ice_group.forEach(function(e) {
                        e.active = !0
                    }))
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, a([d(sp.Skeleton)], t.prototype, "skeleton", void 0), a([d([cc.Node])], t.prototype, "ice_group", void 0), a([p], t)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    KING_LACOSTE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "d5283ArJz5FGqhz77WOlqkU", "KING_LACOSTE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseFish"),
            l = e("../Common/ResourceManager"),
            h = e("../Weapon/WeaponManager"),
            u = e("../Game/GameManager"),
            p = e("../Common/AudioManager"),
            d = e("../../../../../FishCommon/Script/CanvasHandler"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.FishPool = null, t.HidePool = null, t.TargetSeat = -1, t.TargetPos = null, t.Attack = !1, t.isFreeze = !1, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    var i = this;
                    e.prototype.Init.call(this, t, n), this.TargetSeat = -1, this.TargetPos = null, this.Attack = !1, this.isFreeze = !1, this.shapeNode = this.node.getChildByName("Shape"), this.skeleton.node.opacity = 255, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !0), this.FishPool = this.node.parent;
                    var o = u.default.Instance.BackgroundNow;
                    o && (this.HidePool = o.node.getChildByName("LacosteHide")), this.HidePool && (this.node.parent = this.HidePool), this.scheduleOnce(function() {
                        var e = -i.node.angle < 0 ? 360 - i.node.angle : -i.node.angle;
                        switch (Math.floor(e / 90)) {
                            case 0:
                                i.TargetSeat = 1;
                                break;
                            case 1:
                                i.TargetSeat = 0;
                                break;
                            case 2:
                                i.TargetSeat = 3;
                                break;
                            case 3:
                                i.TargetSeat = 2
                        }
                        i.TargetPos = h.default.WeaponPosition(i.TargetSeat)
                    }, 1)
                }, t.prototype.InitSeek = function(e, t, n) {
                    if (this.behaviorType = c.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        t = t || this.o % this.AISeek.GetPathCount(e);
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(e, t, this.node, this.id, 0, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, t.prototype.update = function(t) {
                    if (e.prototype.update.call(this, t), !this.Attack && this.aliveStatus == c.FishState.ALIVE && this.TargetPos && this.node.getPosition().sub(this.TargetPos).mag() <= 650 && !this.isFreeze) {
                        if (this.Attack = !0, !h.default.Instance.getWeapon(this.TargetSeat)) return;
                        this.StartAttack()
                    }
                }, t.prototype.StartAttack = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a = this;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return e = h.default.Instance.getWeapon(this.TargetSeat).node, t = e.getPosition(), this.skeleton.setCompleteListener(function() {
                                        a.skeleton.setCompleteListener(null), a.skeleton.setAnimation(0, "SWIM", !0)
                                    }), this.skeleton.setAnimation(0, "BITE", !1), p.default.Instance.Play("cavial_bite"), this.FishPool && this.HidePool && (this.node.parent = this.FishPool, this.node.zIndex = 50), n = e.opacity, [4, this.delay(1300)];
                                case 1:
                                    return s.sent(), this.isFreeze ? [2] : (e.opacity = 0, [4, this.delay(250)]);
                                case 2:
                                    return s.sent(), e.opacity = n, (i = l.default.SpawnEffect("WeaponBreak")) && (i.setPosition(e.getPosition()), i.angle = e.angle), p.default.Instance.Play("frog_crocodile"), o = 3, e.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(o, -o))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-o, o)))), 10), cc.callFunc(function() {
                                        e.setPosition(t), o = 1
                                    }), cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-o, o))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(o, -o)))), 5), cc.callFunc(function() {
                                        e.setPosition(t), o = .1
                                    }), cc.repeat(cc.sequence(cc.moveTo(.05, e.getPosition().add(new cc.Vec2(o, o))), cc.moveTo(.05, e.getPosition().add(new cc.Vec2(-o, -o)))), 5), cc.callFunc(function() {
                                        e.setPosition(t)
                                    }))), [2]
                            }
                        })
                    })
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0, t > 0 && (this.isFreeze = !0)
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(200, 1e3)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.FishPool && this.HidePool && (this.node.parent = this.FishPool, this.node.zIndex = 50), p.default.Instance.Play("catch_cavial"), this.aliveStatus = c.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, this.StopAction(), e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        d.default.CameraShakeEffect(1.5, 3), t.CoinEffect(), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), p.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.onMove = function(e) {
                    e.AddSpeed(220, 1e3)
                }, t.prototype.RemoveSelf = function() {
                    this.skeleton.setEventListener(null), this.skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, a([y(sp.Skeleton)], t.prototype, "skeleton", void 0), a([m], t)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Game/GameManager": "GameManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseFish": "BaseFish"
    }],
    KING_SPIDER_CRAB: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c6c4abcjXVDFYMU52TB3Mdv", "KING_SPIDER_CRAB");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("../Common/ResourceManager"),
            u = e("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = (p.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hitEffect = [], t.path_index = 0, t.turning_array = [], t.speed_array = [], t.step = 0, t.speed_time = 0, t.last_turning = !1, t
                }
                return o(t, e), t.prototype.Init = function(t, n, i, o, a) {
                    e.prototype.Init.call(this, t, n, i, o, a), this.o = 0, this.node.setPosition(cc.Vec2.ZERO), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode.runAction(cc.fadeIn(.5)), this.path_index = a.init, this.turning_array = a.turning, this.speed_array = a.speed
                }, t.prototype.InitSeek = function(e, t, n) {
                    if (this.AISeek) {
                        this.path_index = t || this.path_index;
                        var i, o = this.getOffset(this.o % 4);
                        i = 0 == this.path_index ? 0 : 180, n.angle = i, this.AISeek.SetSeek(e, this.path_index, this.node, this.id, this.o, o, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.speed_time <= 0 || (this.speed_time -= t, this.speed_time <= 0 && this.mSeek.ResetSpeedScale())
                }, t.prototype.onMove = function(e) {
                    var t = Boolean(this.turning_array[this.step]);
                    this.step++, this.step >= 5 && (this.step = 0), !t || this.speed_time > 0 || (this.last_turning = e.IsReverse, this.speed_time = this.speed_array[this.step], e.SetSpeedScale(2, this.speed_time), e.Reverse(!this.last_turning), e.SetOriginAngle(e.OriginAngle + (this.last_turning ? 180 : -180), 1.25))
                }, t.prototype.onEnd = function() {
                    var e = this,
                        t = cc.sequence(cc.fadeOut(.5), cc.callFunc(function() {
                            e.FishOut(u.FishOutType.FISH_PATH_FINISH)
                        }));
                    this.node.runAction(t)
                }, t.prototype.FishFadeOut = function(t, n) {
                    void 0 === t && (t = .5), this.mSeek.Pause(), e.prototype.FishFadeOut.call(this, t, n)
                }, t.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (e = this.shapeNode.children, t = 0; t < e.length; t++) this.hitEffect[t] && (this.hitEffect[t].isDone || (e[t].stopAction(this.hitEffect[t]), this.hitEffect = null, e[t].color = cc.Color.WHITE));
                                    t = 0, i.label = 1;
                                case 1:
                                    return t < e.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, e[t].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return t++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.PlayDieAnim(), this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.StopAction(), l.default.Instance.Play("catch_crab"), e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3);
                                        var e = h.default.SpawnEffect("CoinBlast");
                                        e && (e.setPosition(t.node.getPosition()), e.scale = 2), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, a([d], t)
            }(u.default));
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish"
    }],
    KING_SQUID: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "f9991EMVxJGFZdW0XqB57ww", "KING_SQUID");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.ice_group = [], t.size = 0, t
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.parameter && this.parameter.hasOwnProperty("size") && this.changeLevel(this.parameter.size), this.shapeNode = this.node.getChildByName("Shape"), this.shapeNode && (this.shapeNode.opacity = 255), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "swim", !0)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.skeleton.timeScale = 0, e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect(2), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.changeLevel = function(e) {
                    this.size = e;
                    var t = .01 * e;
                    e < .8 && (e = .8), e > 1.8 && (e = 1.8), this.node.scale = t
                }, t.prototype.moveToScreenOut = function() {
                    var e = cc.v2(c.default.WinSize.width, c.default.WinSize.height);
                    this.x -= 45, this.y -= 45, this.y *= -1, this.o += 90;
                    for (var t = .004 * e.x * this.x, n = .004 * e.y * this.y, i = Math.tan(-cc.misc.degreesToRadians(this.o)), o = -i * t + n, a = 400 + 2 * this.size, s = .5 * -e.x - a, r = .5 * e.x + a, l = .5 * e.y + a, h = .5 * -e.y - a, u = [cc.v2(s, i * s + o), cc.v2((o - h) / -i, h), cc.v2(r, i * r + o), cc.v2((o - l) / -i, l)], p = [0, 1], d = [cc.v2(cc.Vec2.ZERO.sub(u[0])).mag(), cc.v2(cc.Vec2.ZERO.sub(u[1])).mag()], f = 1; f < u.length; f++) {
                        var m = cc.v2(cc.Vec2.ZERO.sub(u[f])).mag();
                        m <= d[0] ? (d[1] = d[0], d[0] = m, p[1] = p[0], p[0] = f) : m <= d[1] && (d[1] = m, p[1] = f)
                    }
                    var y = u[p[0]].y,
                        g = u[p[1]].y;
                    this.o > 180 && this.o < 360 ? y < g ? (this.startPos = u[p[0]], this.targetPos = u[p[1]]) : (this.startPos = u[p[1]], this.targetPos = u[p[0]]) : y < g ? (this.startPos = u[p[1]], this.targetPos = u[p[0]]) : (this.startPos = u[p[0]], this.targetPos = u[p[1]])
                }, t.prototype.PauseBehavior = function(t, n) {
                    this.aliveStatus == h.FishState.ALIVE && (e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0, this.ice_group.forEach(function(e) {
                        e.active = !0
                    }))
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1, this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, a([d(sp.Skeleton)], t.prototype, "skeleton", void 0), a([d([cc.Node])], t.prototype, "ice_group", void 0), a([p], t)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    KING_TACO: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "6a504DOXX5GMpFuMVo12iYT", "KING_TACO");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../System/FishSystem"),
            h = e("../Background/TacoBackground"),
            u = e("../Common/AudioManager"),
            p = e("../Game/GameManager"),
            d = e("./BaseFish"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Skeleton = null, t.Collider = null, t.BonesName = "", t.GreenSight = null, t.ice_group = [], t.boneNum = 1, t.bone = null, t.Life = null, t.HoldUp = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n, i, o) {
                    var a = this;
                    e.prototype.Init.call(this, t, n, i, o), this.Life = function() {
                        a.FishFadeOut(.5, d.FishOutType.FISH_PATH_FINISH)
                    }, this.scheduleOnce(this.Life, 15), this.getTacoParent(t[l.FishData.type]) ? this.ShowUp() : (this.shapeNode.opacity = 0, this.GreenSight.opacity = 0, this.CanCollision = !1, this.HoldUp = function() {
                        a.getTacoParent(t[l.FishData.type]) ? a.ShowUp() : a.FishOut(d.FishOutType.FISH_OUT)
                    }, this.scheduleOnce(this.HoldUp, 5))
                }, t.prototype.getTacoParent = function(e) {
                    var t = null;
                    if (p.default.Instance.BackgroundNow) {
                        var n = p.default.Instance.BackgroundNow.getComponent(h.default);
                        n && (t = n.getParent(e))
                    }
                    return t ? (this.node.setParent(t), !0) : (cc.warn("Can't find Taco parent"), !1)
                }, t.prototype.ShowUp = function() {
                    var e = this;
                    this.CanCollision = !0, this.bone = this.Skeleton.findBone(this.BonesName), this.shapeNode.opacity = 255, this.Skeleton.timeScale = 1, this.Skeleton.setCompleteListener(function() {
                        e.Skeleton.setCompleteListener(null), e.Skeleton.setAnimation(0, "SWIM", !0)
                    }), this.Skeleton.setAnimation(0, "INTO", !1), this.GreenSight.opacity = 0, this.GreenSight.active = !0, this.GreenSight.runAction(cc.fadeIn(1)), this.GreenSight.runAction(cc.repeatForever(cc.rotateBy(2, 360)))
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return u.default.Instance.Play("catch_octopus"), this.aliveStatus = d.FishState.DEAD, this.canCollision = !1, this.Skeleton.timeScale = 0, this.GreenSight.active = !1, this.unschedule(this.Life), this.Life = null, e = cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(10, 10))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-10, -10)))), 15), cc.delayTime(.4), cc.callFunc(function() {
                                        c.default.CameraShakeEffect(1.5, 3), t.CoinEffect(2), t.shapeNode.runAction(cc.fadeOut(.5))
                                    }), cc.delayTime(2.5), cc.callFunc(function() {
                                        t.RemoveSelf()
                                    })), this.node.runAction(e), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), u.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.Skeleton.updateWorldTransform(), this.bone && this.Collider.node.setPosition(new cc.Vec2(this.bone.worldX, this.bone.worldY)), this.GreenSight.setPosition(this.Collider.node.getPosition())
                }, t.prototype.FishFadeOut = function(e, t) {
                    var n = this;
                    void 0 === e && (e = .5), this.canCollision = !1, this.GreenSight.active = !1, this.unschedule(this.Life), this.Life = null, this.unschedule(this.HoldUp), this.HoldUp = null, this.Skeleton.timeScale = 1, this.Skeleton.setCompleteListener(function() {
                        n.Skeleton.setCompleteListener(null), n.Skeleton.timeScale = 0, n.FishOut(t)
                    }), this.Skeleton.setAnimation(0, "LEAVE", !1)
                }, t.prototype.PauseBehavior = function(t, n) {
                    this.aliveStatus == d.FishState.ALIVE && (e.prototype.PauseBehavior.call(this, t, n), this.Skeleton.paused = !0, this.GreenSight.active = !1, this.ice_group.forEach(function(e) {
                        e.active = !0
                    }))
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.Skeleton.paused = !1, this.Life && (this.GreenSight.active = !0), this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, t.prototype.RemoveSelf = function() {
                    this.Skeleton.setEventListener(null), this.Skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, a([y(sp.Skeleton)], t.prototype, "Skeleton", void 0), a([y(cc.Collider)], t.prototype, "Collider", void 0), a([y(cc.String)], t.prototype, "BonesName", void 0), a([y(cc.Node)], t.prototype, "GreenSight", void 0), a([y([cc.Node])], t.prototype, "ice_group", void 0), a([m], t)
            }(d.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/FishSystem": "FishSystem",
        "../Background/TacoBackground": "TacoBackground",
        "../Common/AudioManager": "AudioManager",
        "../Game/GameManager": "GameManager",
        "./BaseFish": "BaseFish"
    }],
    KioskSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a4f01FfCaBGorw61EXEnedh", "KioskSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./baseSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(e) {
                function t() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    var i = this,
                        o = t[0];
                    return (i = e.call(this, o, "kiosk") || this).UpdateKioskSetting = null, i.UpdateSubmarineOccupyInfo = null, i.SubmarineOccupyEvent = null, i.RegisterCmdCallback("BroadCastSetting", i.onBroadCastSetting.bind(i)), i.RegisterCmdCallback("BroadCastSubmarineOccupyInfo", i.onBroadSubmarineOccupyInfo.bind(i)), i
                }
                return o(t, e), t.prototype.onBroadCastSetting = function(e, t) {
                    cc.log("[onBroadCastSetting]data...: " + JSON.stringify(t)), this.UpdateKioskSetting && this.UpdateKioskSetting(t)
                }, t.prototype.onBroadSubmarineOccupyInfo = function(e, t) {
                    this.UpdateSubmarineOccupyInfo && this.UpdateSubmarineOccupyInfo(t)
                }, t.prototype.onSubmarineOccupyByOther = function(e, t) {
                    this.SubmarineOccupyEvent && this.SubmarineOccupyEvent(t)
                }, a([c], t)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./baseSystem": "baseSystem"
    }],
    LockSettingWindow: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a0176c4ADpGvKVL10P/smsE", "LockSettingWindow");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./WindowCtrl"),
            r = e("../Common/EnumFilter"),
            c = e("../../../../../LobbyCommon/Net/LobbyClient"),
            l = e("../Common/AudioManager"),
            h = e("../../../../../FishCommon/Script/CanvasHandler"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.TogglesParent = null, t.LabelsParent = null, t.TouchZone = null, t.lockTarget = null, t.oddsList = null, t.unhitList = null, t.triggering = !1, t.changeList = null, t.togglePosX = null, t.togglePosY = null, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    if (!this.lockTarget && (this.lockTarget = this.TogglesParent.getComponentsInChildren(cc.Toggle), this.TouchZone)) {
                        this.togglePosX = new Array, this.togglePosY = new Array;
                        for (var t = 0; t < 7; t++) this.togglePosX.push(this.lockTarget[t].node.getPosition().x - this.lockTarget[t].node.width / 2), this.togglePosX.push(this.lockTarget[t].node.getPosition().x + this.lockTarget[t].node.width / 2);
                        for (t = 0; t < 5; t++) this.togglePosY.push(this.lockTarget[7 * t].node.getPosition().y + this.lockTarget[7 * t].node.height / 2), this.togglePosY.push(this.lockTarget[7 * t].node.getPosition().y - this.lockTarget[7 * t].node.height / 2);
                        this.TouchZone.on(cc.Node.EventType.TOUCH_START, this.startTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_CANCEL, this.endTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_END, this.endTrigger.bind(this)), this.TouchZone.on(cc.Node.EventType.TOUCH_MOVE, this.onTrigger.bind(this))
                    }
                    for (this.oddsList || (this.oddsList = this.LabelsParent.getComponentsInChildren(cc.Label)), e && (this.unhitList = e.UnhitList), t = 0; t < r.default.LockOrder.length; t++) this.unhitList && -1 != this.unhitList.indexOf(r.default.LockOrder[t]) ? (this.lockTarget[t].node.opacity = 125, this.oddsList[t].node.opacity = 125) : (this.lockTarget[t].node.opacity = 255, this.oddsList[t].node.opacity = 255), this.lockTarget[t].isChecked = r.default.playerLockSetting && -1 != r.default.playerLockSetting.indexOf(r.default.LockOrder[t])
                }, t.prototype.confirmClick = function() {
                    l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_OK_BTN");
                    for (var e = [], t = 0; t < this.lockTarget.length; t++) this.lockTarget[t].isChecked && (e.push(r.default.LockOrder[t]), c.LobbyClient.Instance.GetUserClient.recordClickLog("FishLockSetting", r.default.LockOrder[t]));
                    if (0 == e.length) r.default.playerLockSetting = null, r.default.LockSetting = null;
                    else {
                        r.default.playerLockSetting = e;
                        var n = Array.from(e);
                        if (this.unhitList)
                            for (t = 0; t < this.unhitList.length; t++) {
                                var i = n.indexOf(this.unhitList[t]); - 1 != i && n.splice(i, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(n)
                    }
                    this.SaveLockSetting(), null != this.BtnEvent[0] && this.BtnEvent[0]()
                }, t.prototype.SaveLockSetting = function() {
                    var e = "";
                    null != r.default.playerLockSetting && (e = r.default.playerLockSetting.toString());
                    var t = "LOCKSETTING_DATA_" + SS.Network.LoginModel.LoginInfo.pin_ark_id + "_ALD";
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, t.prototype.DefaultClick = function() {
                    l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_CLEAR_BTN");
                    for (var e = 0; e < this.lockTarget.length; e++) this.lockTarget[e].isChecked = !1
                }, t.prototype.startTrigger = function(e) {
                    this.triggering = !0, this.changeList = new Array(this.lockTarget.length), this.isOnToggle(h.default.ConvMousePos(e.getLocation()))
                }, t.prototype.endTrigger = function() {
                    this.triggering = !1, this.changeList = null
                }, t.prototype.onTrigger = function(e) {
                    this.triggering && this.isOnToggle(h.default.ConvMousePos(e.getLocation()))
                }, t.prototype.isOnToggle = function(e) {
                    h.default.isReverse && e.mulSelf(-1);
                    for (var t = -1, n = 0; n < this.togglePosX.length; n++) e.x > this.togglePosX[n] && (t = n);
                    if (t % 2 == 0) {
                        var i = -1;
                        for (n = 0; n < this.togglePosY.length; n++) e.y < this.togglePosY[n] && (i = n);
                        if (i % 2 == 0) {
                            var o = i / 2 * 7 + t / 2;
                            this.changeList[o] || (this.changeList[o] = !0, this.lockTarget[o].isChecked = !this.lockTarget[o].isChecked, this.lockTarget[o].isChecked ? l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_SELECTED") : l.default.Instance.PlayByAudioClipTable("LOCK_SETTING_CANCEL"), cc.tween(this.lockTarget[o].node).to(.1, {
                                scale: 1.1
                            }).to(.1, {
                                scale: 1
                            }).start())
                        }
                    }
                }, a([d(cc.Node)], t.prototype, "TogglesParent", void 0), a([d(cc.Node)], t.prototype, "LabelsParent", void 0), a([d(cc.Node)], t.prototype, "TouchZone", void 0), a([p], t)
            }(s.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "./WindowCtrl": "WindowCtrl"
    }],
    LockWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ebd705zvnFP6Lpt42jl09Hw", "LockWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseWeapon"),
            r = e("./WeaponManager"),
            c = e("../../GameClient"),
            l = e("../Skill/BaseSkill"),
            h = e("../Common/EnumFilter"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.fishIconImg = null, t.fishIconAnim = null, t.IconAtlas = null, t.currentAnimStr = "", t.skill = null, t.addSkill = !0, t.GetFishIconIndex = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.Type = r.WeaponType.Lock, this.addSkill && (this.skill = c.default.SkillSystem.AddSkill(l.skillEnum.Lock, t), this.skill.setWeapon(this, n))
                }, t.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0)
                }, t.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1)
                }, t.prototype.SetFishIcon = function(e) {
                    if (this.fishIconImg) {
                        var t = this.getFishIcon(e);
                        t ? (this.fishIconImg.spriteFrame = t, this.fishIconImg.node.active = !0) : this.fishIconImg.node.active = !1
                    }
                }, t.prototype.SetFishIconAnim = function(e) {
                    this.fishIconAnim && this.currentAnimStr != (e ? "LockIconAnim_Loop" : "LockIconAnim_Idel") && (this.currentAnimStr = e ? "LockIconAnim_Loop" : "LockIconAnim_Idel", this.fishIconAnim.play(this.currentAnimStr))
                }, t.prototype.ShootState = function() {
                    return 0
                }, t.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, this.fishIconAnim.stop(), e.prototype.UnloadWeapon.call(this)
                }, t.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, t.prototype.getFishIcon = function(e) {
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case h.FishGame.ALD:
                            switch (e) {
                                case 0:
                                case 47:
                                    return this.IconAtlas.getSpriteFrame("LI_Scarab");
                                case 25:
                                    return this.IconAtlas.getSpriteFrame("LI_Poseidon");
                                case 82:
                                    return this.IconAtlas.getSpriteFrame("LI_Genie");
                                case 83:
                                    return this.IconAtlas.getSpriteFrame("LI_Aladdin")
                            }
                            break;
                        case h.FishGame.ZB:
                            switch (e) {
                                case 0:
                                case 47:
                                    return this.IconAtlas.getSpriteFrame("LI_bat");
                                case 80:
                                    return this.IconAtlas.getSpriteFrame("LI_Pariteship");
                                case 82:
                                    return this.IconAtlas.getSpriteFrame("LI_skeleton")
                            }
                            break;
                        case h.FishGame.KK:
                            switch (e) {
                                case 25:
                                    return this.IconAtlas.getSpriteFrame("LI_Poseidon");
                                case 80:
                                    return this.IconAtlas.getSpriteFrame("LI_Pariteship");
                                case 81:
                                    return this.IconAtlas.getSpriteFrame("LI_Ragingdragon");
                                case 82:
                                    return this.IconAtlas.getSpriteFrame("LI_Kingkong")
                            }
                            break;
                        case h.FishGame.MTY:
                            switch (e) {
                                case 0:
                                case 47:
                                    return this.IconAtlas.getSpriteFrame("LI_redbat");
                                case 2:
                                    return this.IconAtlas.getSpriteFrame("LI_carp")
                            }
                            break;
                        case h.FishGame.CIR:
                            switch (e) {
                                case 13:
                                    return this.IconAtlas.getSpriteFrame("LI_JokerFish");
                                case 80:
                                    return this.IconAtlas.getSpriteFrame("LI_Pariteship")
                            }
                            break;
                        case h.FishGame.TD:
                            switch (e) {
                                case 18:
                                    return this.IconAtlas.getSpriteFrame("LI_HumpbackWhale_TD");
                                case 20:
                                    return this.IconAtlas.getSpriteFrame("LI_Klacoste_TD");
                                case 22:
                                    return this.IconAtlas.getSpriteFrame("LI_eletriccrab_TD");
                                case 23:
                                    return this.IconAtlas.getSpriteFrame("LI_eledrillcrab_TD");
                                case 24:
                                    return this.IconAtlas.getSpriteFrame("LI_Crab_TD");
                                case 34:
                                    return this.IconAtlas.getSpriteFrame("LI_bombcrab_TD");
                                case 35:
                                    return this.IconAtlas.getSpriteFrame("LI_Klanternfish_TD");
                                case 61:
                                case 62:
                                case 63:
                                case 64:
                                case 65:
                                case 66:
                                    return this.IconAtlas.getSpriteFrame("LI_Ktaco_TD");
                                case 77:
                                    return this.IconAtlas.getSpriteFrame("LI_runnercrab_TD")
                            }
                            break;
                        case h.FishGame.WCF:
                            switch (e) {
                                case 4:
                                    return this.IconAtlas.getSpriteFrame("LI_Lionfish");
                                case 7:
                                    return this.IconAtlas.getSpriteFrame("LI_Swordfish");
                                case 9:
                                    return this.IconAtlas.getSpriteFrame("LI_Jellyfish");
                                case 12:
                                    return this.IconAtlas.getSpriteFrame("LI_Stingray_MC");
                                case 13:
                                    return this.IconAtlas.getSpriteFrame("LI_JokerFish");
                                case 18:
                                    return this.IconAtlas.getSpriteFrame("LI_ClumsyCat");
                                case 25:
                                    return this.IconAtlas.getSpriteFrame("LI_Wondermaid");
                                case 80:
                                    return this.IconAtlas.getSpriteFrame("LI_MightyBomb")
                            }
                    }
                    switch (e) {
                        case 0:
                        case 47:
                            return this.IconAtlas.getSpriteFrame("LI_gurnard");
                        case 1:
                        case 48:
                            return this.IconAtlas.getSpriteFrame("LI_Snemo");
                        case 2:
                            return this.IconAtlas.getSpriteFrame("LI_Sbutterfly");
                        case 3:
                            return this.IconAtlas.getSpriteFrame("LI_Spufferfish");
                        case 4:
                            return this.IconAtlas.getSpriteFrame("LI_snailfish");
                        case 5:
                            return this.IconAtlas.getSpriteFrame("LI_flatfish");
                        case 6:
                            return this.IconAtlas.getSpriteFrame("LI_lobster");
                        case 7:
                            return this.IconAtlas.getSpriteFrame("LI_sailfish");
                        case 8:
                            return this.IconAtlas.getSpriteFrame("LI_octopus");
                        case 9:
                            return this.IconAtlas.getSpriteFrame("LI_lantern");
                        case 10:
                            return this.IconAtlas.getSpriteFrame("LI_turtles");
                        case 11:
                            return this.IconAtlas.getSpriteFrame("LI_serrateshark");
                        case 12:
                            return this.IconAtlas.getSpriteFrame("LI_stingray");
                        case 13:
                            return this.IconAtlas.getSpriteFrame("LI_Lnemo_EN");
                        case 14:
                            return this.IconAtlas.getSpriteFrame("LI_Lbutterflyfish_EN");
                        case 15:
                            return this.IconAtlas.getSpriteFrame("LI_Lpufferfish_EN");
                        case 16:
                            return this.IconAtlas.getSpriteFrame("LI_shark");
                        case 17:
                            return this.IconAtlas.getSpriteFrame("LI_killerwhale");
                        case 18:
                            return this.IconAtlas.getSpriteFrame("LI_HumpbackWhale");
                        case 19:
                            return this.IconAtlas.getSpriteFrame("LI_FireDragon");
                        case 20:
                            return this.IconAtlas.getSpriteFrame("LI_Klacoste");
                        case 22:
                            return this.IconAtlas.getSpriteFrame("LI_eletriccrab");
                        case 23:
                            return this.IconAtlas.getSpriteFrame("LI_eledrillcrab");
                        case 24:
                            return this.IconAtlas.getSpriteFrame("LI_Crab");
                        case 25:
                            return this.IconAtlas.getSpriteFrame("LI_Mermaid");
                        case 29:
                            return this.IconAtlas.getSpriteFrame("LI_TreasureCrab");
                        case 32:
                            return this.IconAtlas.getSpriteFrame("LI_dragonturtle_TD");
                        case 34:
                            return this.IconAtlas.getSpriteFrame("LI_bombcrab");
                        case 35:
                            return this.IconAtlas.getSpriteFrame("LI_Klanternfish");
                        case 61:
                        case 62:
                        case 63:
                        case 64:
                        case 65:
                        case 66:
                            return this.IconAtlas.getSpriteFrame("LI_Ktaco");
                        case 77:
                            return this.IconAtlas.getSpriteFrame("LI_runnercrab");
                        case 78:
                            return this.IconAtlas.getSpriteFrame("LI_Brontosaurus");
                        case 79:
                            return this.IconAtlas.getSpriteFrame("LI_hammercrab");
                        case 80:
                            return this.IconAtlas.getSpriteFrame("LI_Phoenix");
                        case 81:
                            return this.IconAtlas.getSpriteFrame("LI_Buffalo");
                        case 82:
                            return this.IconAtlas.getSpriteFrame("LI_Patrick");
                        case 83:
                            return this.IconAtlas.getSpriteFrame("LI_vampire");
                        case 84:
                            return this.IconAtlas.getSpriteFrame("LI_buddha");
                        case 85:
                            return this.IconAtlas.getSpriteFrame("LI_dragonturtle");
                        case 86:
                            return this.IconAtlas.getSpriteFrame("LI_liondragon");
                        case 87:
                            return this.IconAtlas.getSpriteFrame("LI_IceDragon");
                        case 88:
                            return this.IconAtlas.getSpriteFrame("LI_RedDragon");
                        case 89:
                            return this.IconAtlas.getSpriteFrame("LI_ship_R");
                        case 90:
                            return this.IconAtlas.getSpriteFrame("LI_ship_G");
                        case 91:
                            return this.IconAtlas.getSpriteFrame("LI_ship_B");
                        case 92:
                            return this.IconAtlas.getSpriteFrame("LI_FortuneCat");
                        case 93:
                            return this.IconAtlas.getSpriteFrame("LI_clown");
                        case 94:
                            return this.IconAtlas.getSpriteFrame("LI_pig");
                        case 95:
                            return this.IconAtlas.getSpriteFrame("LI_tiger");
                        case 96:
                            return this.IconAtlas.getSpriteFrame("LI_blazingTiger");
                        case 128:
                            return this.IconAtlas.getSpriteFrame("LI_GKarmorCrab");
                        case 117:
                        case 118:
                        case 119:
                        case 120:
                        case 121:
                        case 122:
                            return this.IconAtlas.getSpriteFrame("LI_GKtaco");
                        case 123:
                            return this.IconAtlas.getSpriteFrame("LI_GKlacoste");
                        case 124:
                            return this.IconAtlas.getSpriteFrame("LI_GKlanternfish");
                        case 125:
                            return this.IconAtlas.getSpriteFrame("LI_GKsquid");
                        case 126:
                            return this.IconAtlas.getSpriteFrame("LI_GKjelly");
                        case 127:
                            return this.IconAtlas.getSpriteFrame("LI_jellyfishG");
                        case 111:
                            return this.IconAtlas.getSpriteFrame("LI_KingSquid");
                        case 112:
                            return this.IconAtlas.getSpriteFrame("LI_BluePhoenix");
                        case 113:
                            return this.IconAtlas.getSpriteFrame("LI_GreenDragon");
                        case 114:
                            return this.IconAtlas.getSpriteFrame("LI_GeneralLobster");
                        case 115:
                            return this.IconAtlas.getSpriteFrame("LI_SlotCrab");
                        case 116:
                            return this.IconAtlas.getSpriteFrame("LI_wealthGod");
                        case 55:
                        case 200:
                        case 201:
                        case 202:
                        case 203:
                        case 204:
                        case 205:
                        case 206:
                        case 207:
                        case 208:
                        case 209:
                        case 210:
                            return this.IconAtlas.getSpriteFrame("LI_windfish");
                        case 300:
                        case 301:
                        case 302:
                        case 303:
                        case 304:
                        case 305:
                        case 306:
                        case 307:
                        case 308:
                        case 309:
                            return this.IconAtlas.getSpriteFrame("LI_flashfish")
                    }
                    return null
                }, a([d(cc.Sprite)], t.prototype, "fishIconImg", void 0), a([d(cc.Animation)], t.prototype, "fishIconAnim", void 0), a([d(cc.SpriteAtlas)], t.prototype, "IconAtlas", void 0), a([p], t)
            }(s.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    MERMAID: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b0f69LV0pZL0a1EtDSBloha", "MERMAID");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSpineFish"),
            l = e("../Common/ResourceManager"),
            h = e("../Common/AudioManager"),
            u = e("./BaseFish"),
            p = e("../Common/EnumFilter"),
            d = cc._decorator,
            f = d.ccclass,
            m = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.eventIndex = 0, t
                }
                return o(t, e), t.prototype.onInit = function() {
                    var e = this;
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case p.FishGame.WCF:
                            this.offsetPos = cc.v2(990, -250), this.skeleton.timeScale = 1;
                            break;
                        default:
                            this.offsetPos = cc.v2(500, -225), this.skeleton.timeScale = .5
                    }
                    this.node.angle = -this.o, this.skeleton.setAnimation(0, "SWIM", !1), this.eventIndex = 0, this.skeleton.setEventListener(function() {
                        e.aliveStatus != u.FishState.ALIVE || e.isSummon || (0 == e.eventIndex ? (l.default.SpawnEffect("MH").angle = e.node.angle, e.eventIndex++) : 1 == e.eventIndex && (l.default.SpawnEffect("MH2").angle = e.node.angle, e.eventIndex++))
                    })
                }, t.prototype.PlayDieAnim = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return e.prototype.PlayDieAnim.call(this), h.default.Instance.Play("effect_mer_die1"), [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), h.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, a([f], t)
            }(c.default));
        n.default = m, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "./BaseFish": "BaseFish",
        "./BaseSpineFish": "BaseSpineFish"
    }],
    MarqueeCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "aa7f7CfD6BGba6cPbV2gg8B", "MarqueeCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e, t) {
                this.Text = "", this.Time = 5, this.Text = e, this.Time = t
            },
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Text = null, t.Marquees = [], t.MarqueeSchedule = null, t.fadeAction = null, t.MarqueeActive = !1, t
                }
                return o(t, e), t.prototype.setMarquee = function(e, t, n) {
                    void 0 === t && (t = 5), void 0 === n && (n = !1);
                    var i = new l(e, t);
                    n ? this.Marquees.unshift(i) : this.Marquees.push(i), this.MarqueeActive || this.NextMaquee()
                }, t.prototype.NextMaquee = function() {
                    var e = this;
                    if (this.Marquees.length > 0) {
                        var t = this.Marquees.shift();
                        this.MarqueeActive ? (this.Text.node.opacity = 255, this.fadeAction = cc.sequence(cc.fadeOut(.5), cc.delayTime(.5), cc.callFunc(function() {
                            t.Text.length > 80 ? e.Text.fontSize = 21 : t.Text.length > 70 ? e.Text.fontSize = 23 : e.Text.fontSize = 25, e.Text.string = t.Text
                        }), cc.fadeIn(.5)), this.Text.node.runAction(this.fadeAction)) : (this.node.stopAction(this.fadeAction), this.node.opacity = 0, this.node.active = !0, this.MarqueeActive = !0, this.Text.string = t.Text, this.fadeAction = cc.fadeIn(1), this.node.runAction(this.fadeAction)), this.MarqueeSchedule = this.scheduleOnce(function() {
                            e.NextMaquee()
                        }, t.Time + 1)
                    } else this.MarqueeActive = !1, this.node.opacity = 255, this.fadeAction = cc.sequence(cc.fadeOut(1), cc.callFunc(function() {
                        e.node.active = !1, e.MarqueeSchedule = null
                    })), this.node.runAction(this.fadeAction)
                }, a([c(cc.RichText)], t.prototype, "Text", void 0), a([r], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {}],
    MedalRoot: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "99b52eLHs5FYJ+aIteQyCDF", "MedalRoot");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.posRoot = [], t.Medals = [null, null, null], t.Order = [], t
                }
                return o(t, e), t.prototype.bindMedal = function(e) {
                    var t = this;
                    e.recycleEvent = function() {
                        cc.Tween.stopAllByTarget(e.node);
                        var n = t.Medals.indexOf(e);
                        t.Medals[n] = null, t.Order.shift(), null == t.Medals[0] && null == t.Medals[1] && null == t.Medals[2] && t.Recycle()
                    };
                    var n = -1;
                    if (null != this.Medals[0] && null != this.Medals[1] && null != this.Medals[2]) n = this.Order[0], this.Medals[n].ForceEnd();
                    else
                        for (var i = 0; i < this.posRoot.length; i++)
                            if (null == this.Medals[i]) {
                                n = i;
                                break
                            } return this.Medals[n] = e, this.Order.push(n), this.posRoot[n]
                }, t.prototype.Recycle = function() {
                    for (var t = 0; t < this.Medals.length; t++) null != this.Medals[t] && this.Medals[t].ForceEnd();
                    e.prototype.Recycle.call(this)
                }, a([l([cc.Node])], t.prototype, "posRoot", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    MissionCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8e681jkCRdJYrf4ZABgznFM", "MissionCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.MisProcStates = n.AwardIndex = void 0;
        var s, r = e("../System/ItemSystem"),
            c = e("../MainGame/Item/ItemManager"),
            l = e("../MainGame/Player/PlayerManager"),
            h = e("./FishMissionData"),
            u = e("./MissionNodeDrag"),
            p = e("../MainGame/Common/EnumFilter"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function() {
                function e() {
                    this.Name = "", this.SpriteFrame = null
                }
                return a([m(String)], e.prototype, "Name", void 0), a([m(cc.SpriteFrame)], e.prototype, "SpriteFrame", void 0), a([f("TargetIcon")], e)
            }();
        (function(e) {
            e[e.ITEM_SUMMON = 0] = "ITEM_SUMMON", e[e.ITEM_FREEZE = 1] = "ITEM_FREEZE", e[e.COIN = 2] = "COIN"
        })(n.AwardIndex || (n.AwardIndex = {})),
        function(e) {
            e[e.INIT = 0] = "INIT", e[e.UPDATE_DATA = 1] = "UPDATE_DATA", e[e.GETTING_AWARD = 2] = "GETTING_AWARD", e[e.WAIT_UPDATE = 3] = "WAIT_UPDATE"
        }(s = n.MisProcStates || (n.MisProcStates = {}));
        var g = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.EVENT_MISSION_COMPLETED = null, t.EVENT_GETAWARD_COMPLETED = null, t.EVENT_TOUCH_CHANGE_LAYOUT = null, t.EVENT_ERROR_RETURN_LOBBY = null, t.m_nodeRoot = null, t.m_nodeArrow = null, t.m_nodeCompleteEffect = null, t.m_NodeDrag = null, t.m_labTarget = null, t.m_labCurProgress = null, t.m_spTargetIcon = null, t.m_aryTargetIconCommon = [], t.m_aryTargetIconTD = [], t.m_aryTargetIconMTY = [], t.m_aryTargetIconALD = [], t.m_aryTargetIconZB = [], t.m_aryTargetIconKK = [], t.m_aryTargetIconKC = [], t.m_aryTargetIconCIR = [], t.m_aryTargetIcon = {}, t.m_aryAwardIcon = [], t.m_spAwardIcon = null, t.m_labAwardCount = null, t.m_TargetCount = 0, t.m_CurCount = 0, t.m_FishMissionAward = null, t.m_FishMissionData = null, t.m_BaseParentNode = null, t.m_iCurQuestLevel = -1, t.m_iState = s.INIT, t
            }
            return o(t, e), t.prototype.Init = function(e) {
                switch (this.m_BaseParentNode = e, this.m_FishMissionAward = null, this.m_labTarget.string = "", this.m_labCurProgress.string = "", this.m_labAwardCount.string = "", this.m_CurCount = 0, this.m_TargetCount = 0, this.m_nodeArrow.active = !0, this.m_iCurQuestLevel = -1, this.m_nodeCompleteEffect.opacity = 0, this.m_spTargetIcon.node.active = !1, this.m_spAwardIcon.node.active = !1, SS.Common.GameEnvironment.CurrentGameNow) {
                    case p.FishGame.TD:
                        this.InitTargetIcon(this.m_aryTargetIconTD);
                        break;
                    case p.FishGame.MTY:
                        this.InitTargetIcon(this.m_aryTargetIconMTY);
                        break;
                    case p.FishGame.ALD:
                        this.InitTargetIcon(this.m_aryTargetIconALD);
                        break;
                    case p.FishGame.ZB:
                        this.InitTargetIcon(this.m_aryTargetIconZB);
                        break;
                    case p.FishGame.KK:
                        this.InitTargetIcon(this.m_aryTargetIconKK);
                        break;
                    case p.FishGame.LS:
                    case p.FishGame.MF:
                    case p.FishGame.BS:
                        this.InitTargetIcon();
                        break;
                    case p.FishGame.CIR:
                        this.InitTargetIcon(this.m_aryTargetIconCIR);
                        break;
                    case p.FishGame.KC:
                        this.InitTargetIcon(this.m_aryTargetIconKC)
                }
            }, t.prototype.UpdateMissionData = function(e) {
                if (this.m_iState != s.GETTING_AWARD) {
                    this.m_iState = s.UPDATE_DATA, this.m_FishMissionData = e, this.m_iCurQuestLevel = e.QuestLevel, this.SetTargetData(e);
                    var t = this.GetAwardIconIndex(e.Award.ItemID[0]); - 1 != t ? (this.m_FishMissionAward = e.Award, this.m_spAwardIcon.node.active = !0, this.m_spAwardIcon.spriteFrame = this.m_aryAwardIcon[t], this.m_labAwardCount.string = e.Award.ItemAmount.toString()) : (this.m_spAwardIcon.node.active = !1, console.error("awardID = %s, can not find index", e.Award.ItemID[0]))
                }
            }, t.prototype.UpdateCurrentProgress = function(e, t) {
                if (this.m_iState == s.UPDATE_DATA) {
                    if (this.m_FishMissionData.Status != h.FishUserQuestDataStatus.AWARD_AVAILAALDE && this.m_FishMissionData.QuestLevel > this.m_iCurQuestLevel) return console.error("UpdateCurrentProgress error, curProgress = " + e + ", targetCount = " + t + ", this.m_iCurQuestLevel = " + this.m_iCurQuestLevel + ", this.m_FishMissionData.QuestLevel = " + this.m_FishMissionData.QuestLevel), void(null != this.EVENT_ERROR_RETURN_LOBBY && this.EVENT_ERROR_RETURN_LOBBY("C43"));
                    this.m_CurCount = e, this.m_TargetCount = t, this.m_labCurProgress.string = this.m_CurCount + " / " + this.m_TargetCount, this.m_nodeArrow.active = !0, this.m_nodeCompleteEffect.opacity = 0, this.m_CurCount == this.m_TargetCount && (this.m_iState = s.GETTING_AWARD, null != this.EVENT_MISSION_COMPLETED && this.EVENT_MISSION_COMPLETED(this.m_FishMissionData.QuestID, this.m_FishMissionData.QuestLevel), this.OnCompleteMission())
                }
            }, t.prototype.OnCompleteMission = function() {
                var e = this;
                this.m_FishMissionData.Status = h.FishUserQuestDataStatus.AWARD_CLAIMED, this.m_labTarget.string = "Congratulations!", this.m_labCurProgress.string = "A Goal Completed", this.m_nodeArrow.active = !1, this.m_spAwardIcon.node.active = !1, this.m_labAwardCount.string = "", this.m_nodeCompleteEffect.opacity = 0, this.m_nodeCompleteEffect.runAction(cc.fadeIn(.3));
                var t = cc.sequence(cc.scaleTo(.5, 1.5).easing(cc.easeBackOut()), cc.scaleTo(.5, 1).easing(cc.easeBackIn()));
                this.m_spTargetIcon.node.runAction(t);
                var n = this.m_FishMissionAward.ItemID[0],
                    i = this.m_FishMissionAward.ItemAmount[0],
                    o = this.m_BaseParentNode.getPosition().add(this.node.getPosition().add(this.m_spAwardIcon.node.getPosition())),
                    a = l.PlayerManager.MainSeat > 1 ? l.PlayerManager.MainSeat - 2 : l.PlayerManager.MainSeat;
                c.default.Instance.DropItemEffectByMission(l.PlayerManager.MainSeat, a, n, i, o, function() {
                    var t = cc.sequence(cc.fadeOut(.3), cc.callFunc(function() {
                        e.m_iState = s.WAIT_UPDATE, null != e.EVENT_GETAWARD_COMPLETED && e.EVENT_GETAWARD_COMPLETED()
                    }));
                    e.m_nodeCompleteEffect.runAction(t)
                })
            }, t.prototype.OnTouchBaord = function() {
                null != this.EVENT_TOUCH_CHANGE_LAYOUT && this.EVENT_TOUCH_CHANGE_LAYOUT()
            }, t.prototype.Clear = function() {
                this.m_FishMissionAward = null, this.m_FishMissionData = null, this.m_labTarget.string = "", this.m_labCurProgress.string = "", this.m_labAwardCount.string = "", this.m_CurCount = 0, this.m_TargetCount = 0, this.m_nodeArrow.active = !0, this.m_spTargetIcon.node.active = !1, this.m_spAwardIcon.node.active = !1, this.m_iCurQuestLevel = -1, this.m_iState = s.INIT
            }, t.prototype.GetAwardIconIndex = function(e) {
                switch (e) {
                    case r.ITEM_ID.SUMMON:
                        return 0;
                    case r.ITEM_ID.FREEZE:
                        return 1;
                    default:
                        return -1
                }
            }, t.prototype.SetTargetData = function(e) {
                var t = "";
                switch (e.CustomerType) {
                    case h.FishQustObjectiveType.GET_ANY_FISH:
                        t = "Catch any fish", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.GET_ANY_FISH;
                        break;
                    case h.FishQustObjectiveType.USE_ANY_ITEM:
                        t = "Use any item", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.USE_ANY_ITEM;
                        break;
                    case h.FishQustObjectiveType.ANY_CRAB:
                        t = "Catch any feature crab", this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon.ANY_CRAB;
                        break;
                    case h.FishQustObjectiveType.GET_FISH:
                        t = "Catch the target";
                        var n = e.CustomerInfo.FishName;
                        this.m_spTargetIcon.spriteFrame = this.m_aryTargetIcon[n]
                }
                this.m_spTargetIcon.spriteFrame ? (this.m_labTarget.string = t, this.m_spTargetIcon.node.active = !0, this.UpdateCurrentProgress(e.CustomerAmount, e.CustomerGate)) : (this.m_spTargetIcon.node.active = !1, console.error("fishType = %s, can not find index", e.CustomerInfo.FishName))
            }, t.prototype.InitTargetIcon = function(e) {
                if (e)
                    for (var t = 0; t < e.length; t++) this.m_aryTargetIcon[e[t].Name] = e[t].SpriteFrame;
                for (t = 0; t < this.m_aryTargetIconCommon.length; t++) this.m_aryTargetIcon.hasOwnProperty(this.m_aryTargetIconCommon[t].Name) || (this.m_aryTargetIcon[this.m_aryTargetIconCommon[t].Name] = this.m_aryTargetIconCommon[t].SpriteFrame)
            }, a([m(cc.Node)], t.prototype, "m_nodeRoot", void 0), a([m(cc.Node)], t.prototype, "m_nodeArrow", void 0), a([m(cc.Node)], t.prototype, "m_nodeCompleteEffect", void 0), a([m(u.MissionNodeDrag)], t.prototype, "m_NodeDrag", void 0), a([m(cc.Label)], t.prototype, "m_labTarget", void 0), a([m(cc.Label)], t.prototype, "m_labCurProgress", void 0), a([m(cc.Sprite)], t.prototype, "m_spTargetIcon", void 0), a([m([y])], t.prototype, "m_aryTargetIconCommon", void 0), a([m([y])], t.prototype, "m_aryTargetIconTD", void 0), a([m([y])], t.prototype, "m_aryTargetIconMTY", void 0), a([m([y])], t.prototype, "m_aryTargetIconALD", void 0), a([m([y])], t.prototype, "m_aryTargetIconZB", void 0), a([m([y])], t.prototype, "m_aryTargetIconKK", void 0), a([m([y])], t.prototype, "m_aryTargetIconKC", void 0), a([m([y])], t.prototype, "m_aryTargetIconCIR", void 0), a([m([cc.SpriteFrame])], t.prototype, "m_aryAwardIcon", void 0), a([m(cc.Sprite)], t.prototype, "m_spAwardIcon", void 0), a([m(cc.Label)], t.prototype, "m_labAwardCount", void 0), a([f], t)
        }(cc.Component);
        n.default = g, cc._RF.pop()
    }, {
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Item/ItemManager": "ItemManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../System/ItemSystem": "ItemSystem",
        "./FishMissionData": "FishMissionData",
        "./MissionNodeDrag": "MissionNodeDrag"
    }],
    MissionInfoPageCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "bf7b1LoIrFHEoPAYtfizUBR", "MissionInfoPageCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = (s.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.EVENT_CLOSE = null, t
                }
                return o(t, e), t.prototype.OnClose = function() {
                    null != this.EVENT_CLOSE && this.EVENT_CLOSE()
                }, a([r], t)
            }(cc.Component));
        n.default = c, cc._RF.pop()
    }, {}],
    MissionManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "23074GzAVhO2LBqIAVBezyx", "MissionManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.FishMissionLayout = void 0;
        var c, l = e("../../../../FishCommon/Script/ClickLogDef"),
            h = e("../../../../LobbyCommon/Net/LobbyClient"),
            u = e("../MainGame/Common/ResourceManager"),
            p = e("./FishMissionData"),
            d = e("./MissionCtrl"),
            f = e("./MissionInfoPageCtrl"),
            m = cc._decorator,
            y = m.ccclass,
            g = m.property;
        (function(e) {
            e[e.Layout1 = 0] = "Layout1", e[e.Layout2 = 1] = "Layout2"
        })(c = n.FishMissionLayout || (n.FishMissionLayout = {}));
        var S = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.NODE_POS_WIDTH_MIN = -410, t.NODE_POS_WIDTH_MAX = 310, t.NODE_POS_HEIGHT_MIN = -130, t.NODE_POS_HEIGHT_MAX = 100, t.m_nodeRoot = null, t.m_nodeLayoutRoot = null, t.m_nodeL1Root = null, t.m_nodeL2Root = null, t.m_nodeAllMissionsComplete = null, t.m_pfMission = null, t.m_nodeBtnMinimize = null, t.m_nodeBtnMaxminize = null, t.m_nodeL2BtnSwiechLayout = null, t.m_btnL1PageNexp = null, t.m_btnL1PagePre = null, t.m_aryTimerAnchor = [], t.m_labTimer = null, t.m_nodeTimerBg = null, t.m_aryMissionCtrl = [], t.m_isMissionEnd = [], t.m_LayoutStyle = c.Layout1, t.m_iShowL1Index = 0, t.m_EndTimer = null, t.m_isFirstJoinGame = !0, t.m_MissionSystem = null, t.m_nodeInfo = null, t.m_MissionInfoPageCtrlALD = null, t
            }
            return o(t, e), t.prototype.Init = function(e, t) {
                this.m_MissionSystem = e, this.m_MissionSystem.EVENT_UPDATE_MISSION_DATA = this.UpdateMissionData.bind(this), this.m_MissionSystem.EVENT_UPDATE_TIMER = this.UpdateTimer.bind(this), this.m_MissionSystem.EVENT_TIME_UP = this.OnTimeUp.bind(this), this.m_MissionSystem.EVENT_UPDATE_MISSION_PROGRESS = this.UpaateMissionProgress.bind(this), this.m_nodeAllMissionsComplete.active = !1, this.m_nodeRoot.active = !1, this.m_nodeTimerBg.active = !1, this.m_labTimer.node.active = !1, this.m_nodeBtnMinimize.active = !0, this.m_nodeBtnMaxminize.active = !1, this.m_iShowL1Index = 0, this.InitMission(t), this.OnShowLayout1()
            }, t.prototype.UpdateTimer = function(e, t) {
                var n = e % 60,
                    i = Math.floor(e / 60) % 60,
                    o = Math.floor(e / 3600),
                    a = Math.floor(o / 24);
                o %= 24, t = (t = (t = (t = t.replace("{sec}", this.AddZero(n))).replace("{min}", this.AddZero(i))).replace("{hr}", this.AddZero(o))).replace("{day}", a.toString()), this.m_labTimer && (this.m_labTimer.string = t, this.m_labTimer.node.color = 0 == o ? cc.Color.RED : cc.Color.WHITE)
            }, t.prototype.AddZero = function(e) {
                return e < 10 ? "0" + e.toString() : e.toString()
            }, t.prototype.OnTimeUp = function() {
                this.CloseMission()
            }, t.prototype.InitMission = function(e) {
                if (this.m_nodeRoot.active = !0, 0 == this.m_aryMissionCtrl.length)
                    for (var t = 0; t < e; t++) {
                        this.m_isMissionEnd[t] = !1;
                        var n = cc.instantiate(this.m_pfMission);
                        n.parent = this.m_nodeL1Root, this.m_aryMissionCtrl[t] = n.getComponent(d.default), this.m_aryMissionCtrl[t].Init(this.node), this.m_aryMissionCtrl[t].EVENT_MISSION_COMPLETED = this.OnMissionCompeted.bind(this), this.m_aryMissionCtrl[t].EVENT_GETAWARD_COMPLETED = this.OnGetAwardComplete.bind(this), this.m_aryMissionCtrl[t].EVENT_TOUCH_CHANGE_LAYOUT = this.OnSwitchLayout.bind(this), this.m_aryMissionCtrl[t].EVENT_ERROR_RETURN_LOBBY = this.OnGetDataError.bind(this)
                    }
            }, t.prototype.UpdateMissionData = function(e) {
                !e || this.m_nodeRoot.activeInHierarchy || this.CheckMissionIsAllCompleted() || (this.m_nodeRoot.active = !0), e.sort(this.cmpPriority);
                for (var t = 0; t < e.length; t++) null != this.m_aryMissionCtrl[t] && (e[t].Status == p.FishUserQuestDataStatus.AWARD_CLAIMED ? (this.m_isMissionEnd[t] = !0, this.m_aryMissionCtrl[t].m_FishMissionData = e[t], this.m_aryMissionCtrl[t].node.active = !1, this.SetTimerPosition(), this.m_LayoutStyle == c.Layout1 && this.m_iShowL1Index == t && this.OnClickNextPage()) : (this.m_aryMissionCtrl[t].node.activeInHierarchy || (this.m_aryMissionCtrl[t].node.active = !0), this.m_aryMissionCtrl[t].UpdateMissionData(e[t])));
                this.CheckMissionIsAllCompleted() ? this.m_isFirstJoinGame ? this.CloseMission() : this.AllMissionsCompleted() : this.UpdateLayout()
            }, t.prototype.UpaateMissionProgress = function(e) {
                this.m_isFirstJoinGame = !1;
                for (var t = 0, n = 0; n < e.length; n++) e[n].Status == p.FishUserQuestDataStatus.AWARD_AVAILAALDE && t++;
                if (t > 1 && this.m_LayoutStyle == c.Layout1) this.UpaateMissionProgressDelay(e);
                else
                    for (n = 0; n < e.length; n++) {
                        var i = this.FindCtrlByQuestID(e[n].QuestID);
                        null != i && i.m_FishMissionData.Status != p.FishUserQuestDataStatus.AWARD_CLAIMED && i.UpdateCurrentProgress(i.m_FishMissionData.CustomerAmount, i.m_FishMissionData.CustomerGate)
                    }
            }, t.prototype.UpaateMissionProgressDelay = function(e) {
                return s(this, void 0, void 0, function() {
                    var t, n, i, o;
                    return r(this, function(a) {
                        switch (a.label) {
                            case 0:
                                t = 0, n = !1, a.label = 1;
                            case 1:
                                return t < e.length ? null == (i = this.FindCtrlByQuestID(e[t].QuestID)) ? [3, 5] : (o = i.m_FishMissionData.Status) != p.FishUserQuestDataStatus.AWARD_CLAIMED ? [3, 2] : [3, 1] : [3, 6];
                            case 2:
                                return o != p.FishUserQuestDataStatus.AWARD_AVAILAALDE || n ? [3, 4] : [4, SS.Common.WaitForSeconds(1.5)];
                            case 3:
                                a.sent(), a.label = 4;
                            case 4:
                                i.UpdateCurrentProgress(i.m_FishMissionData.CustomerAmount, i.m_FishMissionData.CustomerGate), a.label = 5;
                            case 5:
                                return t++, [3, 1];
                            case 6:
                                return [2]
                        }
                    })
                })
            }, t.prototype.FindCtrlByQuestID = function(e) {
                for (var t = 0; t < this.m_aryMissionCtrl.length; t++)
                    if (null != this.m_aryMissionCtrl[t].m_FishMissionData && this.m_aryMissionCtrl[t].m_FishMissionData.QuestID == e) return this.m_aryMissionCtrl[t];
                return null
            }, t.prototype.cmpPriority = function(e, t) {
                return e.Priority - t.Priority
            }, t.prototype.CheckMissionIsAllCompleted = function() {
                for (var e = !0, t = 0; t < this.m_isMissionEnd.length; t++) this.m_isMissionEnd[t] || (e = !1);
                return e
            }, t.prototype.GetTimerShowPos = function() {
                return this.CheckMissionIsAllCompleted() ? 0 : this.m_LayoutStyle == c.Layout1 ? 1 : this.GetAliveQuestID()
            }, t.prototype.GetAliveQuestID = function() {
                for (var e = 0, t = 0; t < this.m_isMissionEnd.length; t++) this.m_isMissionEnd[t] || e++;
                return e
            }, t.prototype.UpdateLayout = function() {
                this.m_LayoutStyle == c.Layout1 ? (this.SwitchLayer1Page(this.m_iShowL1Index), this.SetTimerPosition()) : this.OnShowLayout2()
            }, t.prototype.OnShowLayout1 = function() {
                this.m_LayoutStyle = c.Layout1, this.m_nodeL1Root.active = !0, this.m_nodeL2Root.active = !1;
                for (var e = 0; e < this.m_aryMissionCtrl.length; e++) this.m_isMissionEnd[e] || (this.m_aryMissionCtrl[e].node.parent = this.m_nodeL1Root, this.m_aryMissionCtrl[e].node.setPosition(cc.Vec2.ZERO));
                this.SwitchLayer1Page(this.m_iShowL1Index), this.SetTimerPosition()
            }, t.prototype.OnShowLayout2 = function() {
                this.m_LayoutStyle = c.Layout2, this.m_nodeL1Root.active = !1, this.m_nodeL2Root.active = !0;
                for (var e = 0; e < this.m_aryMissionCtrl.length; e++) this.m_isMissionEnd[e] || (this.m_aryMissionCtrl[e].node.active = !0, this.m_aryMissionCtrl[e].node.parent = this.m_nodeL2Root);
                this.SetTimerPosition()
            }, t.prototype.SwitchLayer1Page = function(e) {
                if (!this.CheckMissionIsAllCompleted())
                    if (1 == this.GetAliveQuestID() ? (this.m_btnL1PageNexp.node.active = !1, this.m_btnL1PagePre.node.active = !1) : (this.m_btnL1PageNexp.node.activeInHierarchy || (this.m_btnL1PageNexp.node.active = !0), this.m_btnL1PagePre.node.activeInHierarchy || (this.m_btnL1PagePre.node.active = !0)), this.m_isMissionEnd[e]) this.OnClickNextPage();
                    else
                        for (var t = 0; t < this.m_aryMissionCtrl.length; t++) this.m_aryMissionCtrl[t].node.active = t == e
            }, t.prototype.SetTimerPosition = function() {
                var e = this.GetTimerShowPos();
                if (e <= 0) return this.m_nodeTimerBg.active = !1, void(this.m_labTimer.node.active = !1);
                var t = e - 1;
                t < 0 && (t = 0), this.m_nodeTimerBg.active = !0, this.m_labTimer.node.active = !0, this.m_nodeTimerBg.parent = this.m_aryTimerAnchor[t], this.m_labTimer.node.parent = this.m_aryTimerAnchor[t], this.m_nodeTimerBg.setPosition(cc.Vec2.ZERO), this.m_labTimer.node.setPosition(new cc.Vec2(0, -1)), this.m_LayoutStyle == c.Layout2 && e > 1 ? (this.m_nodeL2BtnSwiechLayout.active = !0, this.m_nodeL2BtnSwiechLayout.parent = this.m_aryTimerAnchor[t], this.m_nodeL2BtnSwiechLayout.setPosition(new cc.Vec2(0, -35))) : this.m_nodeL2BtnSwiechLayout.active = !1
            }, t.prototype.OnMissionCompeted = function(e) {
                if (this.m_nodeBtnMaxminize.activeInHierarchy) this.OnMaximizeLayout(), this.OnShowLayout1(), this.scheduleOnce(this.OnMinimizeLayout.bind(this), 5);
                else if (this.m_LayoutStyle != c.Layout1) return;
                for (var t = 0; t < this.m_aryMissionCtrl.length; t++)
                    if (this.m_aryMissionCtrl[t].m_FishMissionData.QuestID == e) {
                        this.m_iShowL1Index = t, this.SwitchLayer1Page(this.m_iShowL1Index);
                        break
                    }
            }, t.prototype.OnGetAwardComplete = function() {
                null != this.m_MissionSystem && this.m_MissionSystem.SendGetMissionInfoCmd()
            }, t.prototype.OnGetDataError = function(e) {
                null != this.m_MissionSystem && this.m_MissionSystem.OnGetDataError(e)
            }, t.prototype.AllMissionsCompleted = function() {
                var e = this;
                this.OnCloseInfo(), this.m_nodeLayoutRoot.active = !1, this.m_nodeBtnMinimize.active = !1, this.m_nodeBtnMaxminize.active = !1, this.m_nodeAllMissionsComplete.active = !0, this.m_nodeAllMissionsComplete.opacity = 0;
                var t = cc.spawn(cc.scaleTo(1, 1).easing(cc.easeBackIn()), cc.fadeIn(.5));
                this.m_nodeAllMissionsComplete.runAction(t), clearTimeout(this.m_EndTimer), this.m_EndTimer = setTimeout(function() {
                    var t = cc.sequence(cc.delayTime(.1), cc.spawn(cc.scaleTo(1, 0).easing(cc.easeBackIn()), cc.fadeOut(.5)), cc.callFunc(function() {
                        e.OnCloseMissionCompleteTitle()
                    }));
                    e.m_nodeAllMissionsComplete.runAction(t)
                }, 18e4)
            }, t.prototype.CloseMission = function() {
                this.m_iShowL1Index = 0, this.m_nodeRoot.active = !1, this.m_nodeAllMissionsComplete.active = !1, this.m_nodeAllMissionsComplete.opacity = 0;
                for (var e = 0; e < this.m_aryMissionCtrl.length; e++) this.m_isMissionEnd[e] = !1, this.m_aryMissionCtrl[e].Clear(), this.m_aryMissionCtrl[e].node.active = !1, this.m_aryMissionCtrl[e].node.parent = this.m_nodeL1Root;
                this.OnMaximizeLayout()
            }, t.prototype.OnMinimizeLayoutCallByPlayer = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.MINI_LAYOUT), this.OnMinimizeLayout()
            }, t.prototype.OnMinimizeLayout = function() {
                this.m_nodeLayoutRoot.active = !1, this.m_nodeBtnMinimize.active = !1, this.m_nodeBtnMaxminize.active = !0
            }, t.prototype.OnMaximizeLayoutCallByPlayer = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.MAX_LAYOUT), this.OnMaximizeLayout()
            }, t.prototype.OnMaximizeLayout = function() {
                this.m_nodeLayoutRoot.active = !0, this.m_nodeBtnMinimize.active = !0, this.m_nodeBtnMaxminize.active = !1, this.unschedule(this.OnMinimizeLayout.bind(this))
            }, t.prototype.OnCloseMissionCompleteTitle = function() {
                clearTimeout(this.m_EndTimer), this.CloseMission()
            }, t.prototype.OnSwitchLayout = function() {
                this.m_LayoutStyle == c.Layout1 ? (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SWITCH_LAYOUT_STRAIGHT), this.OnShowLayout2()) : (this.m_iShowL1Index = 0, h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SWITCH_LAYOUT_HORIZONTAL), this.OnShowLayout1())
            }, t.prototype.OnClickNextPage = function() {
                this.m_LayoutStyle == c.Layout1 && (this.CheckMissionIsAllCompleted() || (this.m_iShowL1Index++, this.m_iShowL1Index > this.m_aryMissionCtrl.length - 1 && (this.m_iShowL1Index = 0), this.m_isMissionEnd[this.m_iShowL1Index] ? this.OnClickNextPage() : (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.NEXT_PAGE), this.SwitchLayer1Page(this.m_iShowL1Index))))
            }, t.prototype.OnClickPrePage = function() {
                this.m_LayoutStyle == c.Layout1 && (this.CheckMissionIsAllCompleted() || (this.m_iShowL1Index--, this.m_iShowL1Index < 0 && (this.m_iShowL1Index = this.m_aryMissionCtrl.length - 1), this.m_isMissionEnd[this.m_iShowL1Index] ? this.OnClickPrePage() : (h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.PRE_PAGE), this.SwitchLayer1Page(this.m_iShowL1Index))))
            }, t.prototype.OnShowInfo = function() {
                h.LobbyClient.Instance.GetUserClient.recordClickLog("FishItemMission", l.ItemMissionClickLogID.SHOW_INFO), null == this.m_nodeInfo ? (this.m_nodeInfo = u.default.LoadGUI("FishMissionInfo"), this.m_nodeInfo.setPosition(cc.Vec2.ZERO), this.m_MissionInfoPageCtrlALD = this.m_nodeInfo.getComponent(f.default), this.m_MissionInfoPageCtrlALD.EVENT_CLOSE = this.OnCloseInfo.bind(this)) : this.m_nodeInfo.active = !0
            }, t.prototype.OnCloseInfo = function() {
                null != this.m_nodeInfo && (this.m_nodeInfo.active = !1)
            }, a([g(cc.Node)], t.prototype, "m_nodeRoot", void 0), a([g(cc.Node)], t.prototype, "m_nodeLayoutRoot", void 0), a([g(cc.Node)], t.prototype, "m_nodeL1Root", void 0), a([g(cc.Node)], t.prototype, "m_nodeL2Root", void 0), a([g(cc.Node)], t.prototype, "m_nodeAllMissionsComplete", void 0), a([g(cc.Prefab)], t.prototype, "m_pfMission", void 0), a([g(cc.Node)], t.prototype, "m_nodeBtnMinimize", void 0), a([g(cc.Node)], t.prototype, "m_nodeBtnMaxminize", void 0), a([g(cc.Node)], t.prototype, "m_nodeL2BtnSwiechLayout", void 0), a([g(cc.Button)], t.prototype, "m_btnL1PageNexp", void 0), a([g(cc.Button)], t.prototype, "m_btnL1PagePre", void 0), a([g([cc.Node])], t.prototype, "m_aryTimerAnchor", void 0), a([g(cc.Label)], t.prototype, "m_labTimer", void 0), a([g(cc.Node)], t.prototype, "m_nodeTimerBg", void 0), a([y], t)
        }(cc.Component);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/ClickLogDef": void 0,
        "../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "./FishMissionData": "FishMissionData",
        "./MissionCtrl": "MissionCtrl",
        "./MissionInfoPageCtrl": "MissionInfoPageCtrl"
    }],
    MissionNodeDrag: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c1ab8GGrbJH4o1Sep3lAzR+", "MissionNodeDrag");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.MissionNodeDrag = void 0;
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.m_nodeMoveRoot = null, t.m_fMinWidth = -410, t.m_fMaxWidth = 410, t.m_fMinHeight = -210, t.m_fMaxHeight = 275, t.dragMovePos = cc.Vec2.ZERO, t.m_bIsLocked = !1, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    this.m_nodeMoveRoot = e, this.screenSize = cc.view.getVisibleSize(), this.node.on(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.on(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, t.prototype.onDestroy = function() {
                    this.node.off(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.off(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, t.prototype.OnDragInit = function() {
                    this.m_bIsLocked || (this.dragMovePos = cc.Vec2.ZERO, this.isDraging = !1, null != this.Event_DragStart && this.Event_DragStart())
                }, t.prototype.OnDragItem = function(e) {
                    if (!this.m_bIsLocked && (this.dragMovePos = e.getDelta(), !(this.dragMovePos.mag() < 1.5) || this.isDraging)) {
                        this.isDraging = !0;
                        var t = this.m_nodeMoveRoot.getPosition(),
                            n = new cc.Vec2(t.x + this.dragMovePos.x, t.y + this.dragMovePos.y);
                        n.x = SS.Common.BaseFunction.Clamp(this.m_fMinWidth, this.m_fMaxWidth, n.x), n.y = SS.Common.BaseFunction.Clamp(this.m_fMinHeight, this.m_fMaxHeight, n.y), this.m_nodeMoveRoot.setPosition(n)
                    }
                }, t.prototype.OnDragEnd = function() {
                    this.isDraging ? null != this.Event_DragEnd && this.Event_DragEnd() : null != this.Event_ClickItem && this.Event_ClickItem()
                }, t.prototype.setLocked = function(e) {
                    this.m_bIsLocked = e
                }, a([c(cc.Float)], t.prototype, "m_fMinWidth", void 0), a([c(cc.Float)], t.prototype, "m_fMaxWidth", void 0), a([c(cc.Float)], t.prototype, "m_fMinHeight", void 0), a([c(cc.Float)], t.prototype, "m_fMaxHeight", void 0), a([r], t)
            }(cc.Component);
        n.MissionNodeDrag = l, cc._RF.pop()
    }, {}],
    MissionSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "69f7fzorB9Lt4mAfxtx95ui", "MissionSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../LobbyCommon/Net/LobbyClient"),
            r = e("../GameClient"),
            c = e("../MainGame/Common/EnumFilter"),
            l = e("../MainGame/Common/ResourceManager"),
            h = e("../Mission/FishMissionData"),
            u = e("../Mission/MissionManager"),
            p = cc._decorator,
            d = p.ccclass,
            f = (p.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.EVENT_ERROR_RETURN_LOBBY = null, t.m_aryMissionData = [], t.EVENT_UPDATE_MISSION_DATA = null, t.EVENT_UPDATE_TIMER = null, t.EVENT_TIME_UP = null, t.EVENT_UPDATE_MISSION_PROGRESS = null, t.m_TimerIntervalID = -1, t.m_iBeginTime = -1, t.m_iEndTime = -1, t.m_iNowTime = -1, t.m_iCountDownTime = 0, t.m_MissionManager = null, t.GAME_THEME_ID = -1, t
                }
                return o(t, e), t.prototype.onGetFishMissionProgress = function(e) {
                    cc.log("onGetFishMissionProgressdata: " + JSON.stringify(e));
                    var t = e[900004].UserQuestData;
                    this.ParseFishMissionQuestData(t)
                }, t.prototype.SendGetMissionInfoCmd = function() {
                    cc.log("SendCmd GetMissionBonusInfo"), null != s.LobbyClient.Instance.m_CommonEventInfo_900004 && s.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.RecMissionInfo.bind(this))
                }, t.prototype.RecMissionInfo = function(e, t) {
                    if (e == ArkSDK.HttpResult.OK && t && t.cmd_data) {
                        var n = t.cmd_data[900004];
                        if (n && 0 == n.result) {
                            var i = JSON.stringify(n.data);
                            if (this.ParseMisInfo(i)) {
                                if (null == this.m_MissionManager) {
                                    var o = l.default.LoadGUI("FishMission");
                                    o.setPosition(new cc.Vec2(0, 180)), this.m_MissionManager = o.getComponent(u.default), this.m_MissionManager.Init(this, this.m_aryMissionData.length), r.default.FishUIMgr.RegisterMouseEvent(o)
                                }
                                this.InitTimer(), null != this.EVENT_UPDATE_MISSION_DATA && this.EVENT_UPDATE_MISSION_DATA(this.m_aryMissionData)
                            }
                        }
                    } else {
                        var a;
                        a = e == ArkSDK.HttpResult.Abort ? "S176" : e == ArkSDK.HttpResult.Condition ? "S177" : e == ArkSDK.HttpResult.Error ? "S180" : e == ArkSDK.HttpResult.NotReset ? "S178" : e == ArkSDK.HttpResult.Status ? "S179" : e == ArkSDK.HttpResult.Timeout ? "S181" : "S182", this.OnGetDataError(a)
                    }
                }, t.prototype.OnGetDataError = function(e) {
                    cc.warn("\u6536\u5230\u9b5a\u6a5f\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 \u56de\u5927\u5ef3"), null != this.EVENT_ERROR_RETURN_LOBBY && this.EVENT_ERROR_RETURN_LOBBY(e)
                }, t.prototype.ParseMisInfo = function(e) {
                    cc.log("\u6536\u5230\u9b5a\u6a5f\u4efb\u52d9 ParseMisInfo = " + e);
                    try {
                        var t = JSON.parse(e);
                        if (t.hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0 && t.hasOwnProperty("UserQuestData")) {
                            var n = t.QuestList,
                                i = t.UserQuestData;
                            if (this.m_aryMissionData = [], 0 == n.length) return !1;
                            this.m_iBeginTime = t.BeginTimeUTC, this.m_iEndTime = t.EndTimeUTC, this.m_iNowTime = t.NowTimeUTC;
                            for (var o = !1, a = 0; a < n.length; a++) {
                                var s = new h.FishMissionData,
                                    r = n[a],
                                    c = r.TitleType,
                                    l = r.GameThemeID;
                                if (this.GAME_THEME_ID < 0 && this.SetGameThemeID(), 200 == c && l == this.GAME_THEME_ID) {
                                    cc.log("\u91d1\u525b\u4efb\u52d9\u8cc7\u8a0a %s", JSON.stringify(r)), o = !0, s.QuestID = r.QuestID, s.QuestLevel = r.QuestLevel, s.ThemeID = r.GameThemeID, s.CustomerGate = r.CustomGate, s.CustomerType = r.CustomType, s.CustomerInfo = r.CustomInfo, s.Priority = r.Priority, s.CycleSeconds = r.CycleSeconds, s.ExpireTimeUTC = r.ExpireTimeUTC;
                                    var u = r.Award;
                                    s.Award = new h.FishMissionAward, s.Award.AwardType = u.Type, s.Award.AwardEntries = u.AwardEntries, s.Award.AwardWinnings = u.AwardWinnings;
                                    for (var d = u.AwardItem, f = 0; f < d.length; f++) {
                                        var m = d[f],
                                            y = m.ItemID,
                                            g = m.Amount;
                                        g > 0 && (s.Award.ItemID[f] = y, s.Award.ItemAmount[f] = g)
                                    }
                                    for (var S = 0; S < i.length; S++) {
                                        var _ = i[S];
                                        if (s.QuestID == _.QuestID && s.QuestLevel == _.QuestLevel && s.ThemeID == _.GameThemeID) {
                                            s.CustomerAmount = _.CustomAmount, s.Status = _.Status;
                                            break
                                        }
                                    }
                                    this.m_aryMissionData.push(s)
                                }
                            }
                            return o
                        }
                        return !1
                    } catch (p) {
                        return cc.error("parseMisInfo"), !1
                    }
                }, t.prototype.ParseFishMissionQuestData = function(e) {
                    for (var t = function(t) {
                            var i = e[t],
                                o = n.m_aryMissionData.find(function(e) {
                                    return e.QuestID == i.QuestID
                                });
                            if (null == o) return "continue";
                            o.ThemeID == i.GameThemeID && o.QuestID == i.QuestID && o.QuestLevel == i.QuestLevel && (o.Status = i.Status, o.CustomerAmount = i.CustomAmount), o.QuestLevel = i.QuestLevel
                        }, n = this, i = 0; i < e.length; i++) t(i);
                    null != this.EVENT_UPDATE_MISSION_PROGRESS && this.EVENT_UPDATE_MISSION_PROGRESS(this.m_aryMissionData)
                }, t.prototype.InitTimer = function() {
                    var e = this.m_iEndTime - this.m_iNowTime;
                    if (!(e < 0)) {
                        for (var t = 0; t < this.m_aryMissionData.length; t++) {
                            var n = this.m_aryMissionData[t].ExpireTimeUTC - this.m_iNowTime;
                            n > 0 && n < e && (e = n)
                        }
                        cc.log("InitTimer " + e), this.ForceSetTime(e)
                    }
                }, t.prototype.ForceSetTime = function(e) {
                    cc.warn("ForceSetTime" + e), this.PauseTimer(), this.m_iCountDownTime = e, this.UpdateUI(this.m_iCountDownTime), this.StartConutDownTimer()
                }, t.prototype.UpdateUI = function(e) {
                    var t = e >= 86400 ? "ENDS IN: {day} days {hr}:{min}:{sec}" : "ENDS IN: {hr}:{min}:{sec}";
                    null != this.EVENT_UPDATE_TIMER && this.EVENT_UPDATE_TIMER(e, t)
                }, t.prototype.StartConutDownTimer = function() {
                    var e = this; - 1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID), this.m_TimerIntervalID = setInterval(function() {
                        return e.Timer(e)
                    }, 1e3)
                }, t.prototype.PauseTimer = function() {
                    clearInterval(this.m_TimerIntervalID)
                }, t.prototype.Timer = function(e) {
                    --e.m_iCountDownTime, e.m_iCountDownTime <= 0 && (e.m_iCountDownTime = 0, e.PauseTimer(), null != e.EVENT_TIME_UP && (e.EVENT_TIME_UP(), cc.log("\u6642\u9593\u5230\uff0c\u518d\u8981\u4e00\u6b21\u66f4\u65b0\u8cc7\u6599"), this.SendGetMissionInfoCmd())), e.UpdateUI(e.m_iCountDownTime)
                }, t.prototype.ClearTimer = function() {
                    -1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID)
                }, t.prototype.CallMinimizeLayout = function() {
                    this.m_MissionManager && this.m_MissionManager.OnMinimizeLayout()
                }, t.prototype.SetGameThemeID = function() {
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case c.FishGame.BS:
                            this.GAME_THEME_ID = 179001;
                            break;
                        case c.FishGame.TD:
                            this.GAME_THEME_ID = 178001;
                            break;
                        case c.FishGame.MTY:
                            this.GAME_THEME_ID = 171001;
                            break;
                        case c.FishGame.ALD:
                            this.GAME_THEME_ID = 164001;
                            break;
                        case c.FishGame.ZB:
                            this.GAME_THEME_ID = 158001;
                            break;
                        case c.FishGame.KK:
                            this.GAME_THEME_ID = 152001;
                            break;
                        case c.FishGame.LS:
                            this.GAME_THEME_ID = 149001;
                            break;
                        case c.FishGame.MF:
                            this.GAME_THEME_ID = 148001;
                            break;
                        case c.FishGame.KC:
                            this.GAME_THEME_ID = 197001;
                            break;
                        case c.FishGame.CIR:
                            this.GAME_THEME_ID = 188001
                    }
                }, a([d], t)
            }(cc.Component));
        n.default = f, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../GameClient": "GameClient",
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../Mission/FishMissionData": "FishMissionData",
        "../Mission/MissionManager": "MissionManager"
    }],
    MultiLangObjCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "0c7eaBB4WNHgYEvKCbN9sxN", "MultiLangObjCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./MultiLangSystem"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function() {
                function e() {
                    this.Lang = s.Language.CHT, this.Obj = []
                }
                return a([l(cc.Enum)], e.prototype, "Lang", void 0), a([l([cc.Node])], e.prototype, "Obj", void 0), a([c("ObjData")], e)
            }(),
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.MultiLangObjs = [], t
                }
                return o(t, e), t.prototype.onEnable = function() {
                    for (var e = null, t = 0; t < this.MultiLangObjs.length; t++)
                        if (this.MultiLangObjs[t].Lang == s.default.UsingLang) e = this.MultiLangObjs[t];
                        else
                            for (var n = 0; n < this.MultiLangObjs[t].Obj.length; n++) this.MultiLangObjs[t].Obj[t].active = !1;
                    for (t = 0; t < e.Obj.length; t++) e.Obj[t].active = !0
                }, a([l([h])], t.prototype, "MultiLangObjs", void 0), a([c], t)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "./MultiLangSystem": "MultiLangSystem"
    }],
    MultiLangSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "01e23bNVwVNz6gj82ZLQvcZ", "MultiLangSystem");
        var i = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            o = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            a = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Language = void 0;
        var s, r = e("../../GameClient"),
            c = cc._decorator.ccclass;
        (function(e) {
            e.CHT = "CHT", e.CHS = "CHS", e.EN = "EN", e.KM = "KM"
        })(s = n.Language || (n.Language = {}));
        var l = function() {
            function e() {}
            return Object.defineProperty(e, "UsingLang", {
                get: function() {
                    return this._usingLang
                },
                enumerable: !1,
                configurable: !0
            }), e.isUsingLang = function(e) {
                return e == this._usingLang
            }, e.Init = function(e, t) {
                return o(this, void 0, void 0, function() {
                    var n, i;
                    return a(this, function(o) {
                        switch (o.label) {
                            case 0:
                                switch (e) {
                                    case "zh-tw":
                                        this._usingLang = s.CHT;
                                        break;
                                    case "zh-cn":
                                        this._usingLang = s.CHS;
                                        break;
                                    case "en-us":
                                    default:
                                        this._usingLang = s.EN
                                }
                                return n = this.getMultiLangUrl("FishHunter/Res/data/#ML#/TextList"), i = this, [4, r.default.Instance.loadJson(n)];
                            case 1:
                                return i.textList = o.sent(), t && t(), [2]
                        }
                    })
                })
            }, e.getMultiLangText = function(e) {
                return this.textList[e] ? this.textList[e] : ""
            }, e.getMultiLangUrl = function(e) {
                return e.replace("#ML#", this._usingLang)
            }, e._usingLang = null, e.textList = null, i([c], e)
        }();
        n.default = l, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient"
    }],
    NormalWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "327d9SWkxNErYnxD4jaBgLr", "NormalWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseWeapon"),
            r = e("./WeaponManager"),
            c = e("../Player/PlayerManager"),
            l = cc._decorator,
            h = l.ccclass,
            u = (l.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.mainPlayer = null, t.lastShootTime = (new Date).getTime(), t.shootGap = 100, t.autoShootGap = 170, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.Type = r.WeaponType.Normal, this.mainPlayer = c.PlayerManager.isMainSeat(t) ? c.PlayerManager.getPlayer(t) : null
                }, t.prototype.ShootState = function(e) {
                    if (!this.isGunReady) return 0;
                    if (this.mainPlayer && this.mainPlayer.entries < this.mainPlayer.bet_value) return 2;
                    if (c.PlayerManager.Instance.MaxBalance && this.mainPlayer.entries + this.mainPlayer.winning >= c.PlayerManager.Instance.MaxBalance) return 3;
                    var t = (new Date).getTime() - this.lastShootTime;
                    return t < this.shootGap ? 0 : !e && t < this.autoShootGap ? 0 : 1
                }, t.prototype.ShootFunction = function(t) {
                    e.prototype.ShootFunction.call(this, t), this.mainPlayer && (this.lastShootTime = (new Date).getTime(), c.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.mainPlayer.bet_value))
                }, a([h], t)
            }(s.default));
        n.default = u, cc._RF.pop()
    }, {
        "../Player/PlayerManager": "PlayerManager",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    OCTOPUS: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c486fcP9ktG8aUhUNLCiwtv", "OCTOPUS");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    PARITE_SHIP: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8febe4F4N5ALLGIMghoFmKZ", "PARITE_SHIP");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../Common/AudioManager"),
            l = e("./BaseFish"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.moveSound = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "animation", !0), this.moveSound = c.default.Instance.Play("Ghostship_move_01", .3, !0)
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function() {
                            return this.aliveStatus = l.FishState.DEAD, this.canCollision = !1, this.StopAction(), this.skeleton.timeScale = 0, this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), c.default.Instance.Play("Ghostship_die_01"), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(3, 3))), cc.moveTo(.05, this.node.getPosition().add(new cc.Vec2(-3, -3)))), 10), cc.moveTo(.1, this.node.getPosition()), cc.callFunc(function() {
                                e.CoinEffect(3)
                            }), cc.fadeOut(1), cc.callFunc(function() {
                                c.default.Instance.Play("41_catch_bigfish"), e.RemoveSelf()
                            }))), [2]
                        })
                    })
                }, t.prototype.FishOut = function(t) {
                    this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), e.prototype.FishOut.call(this, t)
                }, t.prototype.RemoveSelf = function() {
                    this.moveSound && (c.default.Instance.Stop(this.moveSound), this.moveSound = null), this.skeleton.setEventListener(null), this.skeleton.clearTracks(), e.prototype.RemoveSelf.call(this)
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, a([p(sp.Skeleton)], t.prototype, "skeleton", void 0), a([u], t)
            }(l.default);
        n.default = d, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    POSEIDON: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "60af6u2udlN6aLT7wRMYYMD", "POSEIDON");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("./BaseFish"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.ModelAni = null, t.SMR = null, t.ModelMat = null, t.ccAni = null, t.bubble = null, t.ice_group = [], t.color = cc.Color.WHITE, t.tween = null, t.newMat = null, t
                }
                return o(t, e), t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.tween && this.newMat.setProperty("diffuseColor", this.color)
                }, t.prototype.InitParameter = function() {
                    var t = this;
                    e.prototype.InitParameter.call(this), this.node.setPosition(cc.Vec2.ZERO), this.o < 90 || this.o > 270 ? this.node.setScale(1, -1) : this.node.setScale(cc.Vec2.ONE), this.node.angle = this.o > 180 ? 180 : 0, this.newMat = cc.MaterialVariant.create(this.ModelMat, this.SMR), this.SMR.setMaterial(0, this.newMat), this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color), this.ModelAni.stop(), this.ModelAni.play("swim"), this.ccAni.stop(), this.ccAni.play("Swim"), this.bubble.node.active = !0, this.bubble.resetSystem(), this.ice_group.forEach(function(e) {
                        e.active = !1
                    }), this.ModelAni.once("lastframe", function() {
                        t.FishOut(h.FishOutType.FISH_PATH_FINISH)
                    })
                }, t.prototype.FishDie = function() {
                    return s(this, void 0, void 0, function() {
                        var e = this;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.aliveStatus = h.FishState.DEAD, this.canCollision = !1, this.isInit = !1, this.Event_FishLeave && this.Event_FishLeave(this, 6), l.default.Instance.Play("effect_PO_die2"), this.ModelAni.pause(), this.ccAni.pause(), this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.1, 10, 10), cc.moveBy(.1, -10, -10)), 5), cc.callFunc(function() {
                                        e.CoinEffect(2)
                                    }), cc.fadeOut(1), cc.callFunc(function() {
                                        e.RemoveSelf()
                                    }))), [4, this.delay(1e3)];
                                case 1:
                                    return t.sent(), l.default.Instance.Play("41_catch_bigfish"), [2]
                            }
                        })
                    })
                }, t.prototype.RemoveSelf = function() {
                    this.ModelAni.stop(), this.ccAni.stop(), this.bubble.node.active = !1, e.prototype.RemoveSelf.call(this)
                }, t.prototype.OnHitFish = function() {
                    var e = this;
                    this.tween && (this.tween.stop(), this.tween = null, this.color = cc.Color.WHITE, this.newMat.setProperty("diffuseColor", this.color)), this.tween = cc.tween(this.color).repeat(2, cc.tween(this.color).to(.1, {
                        r: 200,
                        g: 0,
                        b: 0
                    }).to(.1, {
                        r: 255,
                        g: 255,
                        b: 255
                    })).call(function() {
                        e.tween = null, e.color = cc.Color.WHITE, e.newMat.setProperty("diffuseColor", e.color)
                    }).start()
                }, t.prototype.isLockInScreen = function(e) {
                    if (e) {
                        var t;
                        if ((t = this.mainFishNode ? this.mainFishNode.convertToWorldSpaceAR(e.getPosition()) : this.node.convertToWorldSpaceAR(e.getPosition())).x >= -100 && t.x < c.default.WinSize.width - -100 && t.y >= -100 && t.y < c.default.WinSize.height - -100) return t
                    }
                    return null
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.ModelAni.pause(), this.ccAni.pause(), this.ice_group.forEach(function(e) {
                        e.active = !0
                    })
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.ModelAni.resume(), this.ccAni.resume(), this.ice_group.forEach(function(e) {
                        e.active = !1
                    })
                }, t.prototype.getPosArray = function() {
                    e.prototype.getPosArray.call(this), 330 == this.startPos.x && 125 == this.startPos.y ? this.offsetPos = cc.v2(0, 100) : 330 == this.startPos.x && -125 == this.startPos.y ? this.offsetPos = cc.v2(0, 150) : -330 == this.startPos.x && 125 == this.startPos.y ? this.offsetPos = cc.v2(0, -100) : -330 == this.startPos.x && -125 == this.startPos.y && (this.offsetPos = cc.v2(100, -100)), this.node.setPosition(this.offsetPos)
                }, a([d(cc.SkeletonAnimation)], t.prototype, "ModelAni", void 0), a([d(cc.SkinnedMeshRenderer)], t.prototype, "SMR", void 0), a([d(cc.Material)], t.prototype, "ModelMat", void 0), a([d(cc.Animation)], t.prototype, "ccAni", void 0), a([d(cc.ParticleSystem)], t.prototype, "bubble", void 0), a([d([cc.Node])], t.prototype, "ice_group", void 0), a([p], t)
            }(h.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    PlayerManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "91abf7bjG5DCJ3oBIXmbZCQ", "PlayerManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.Player = n.PlayerManager = n.PlayerUIType = void 0;
        var s, r = e("../Common/ResourceManager"),
            c = e("../Weapon/WeaponManager"),
            l = e("../Weapon/BetController"),
            h = e("../../GameClient"),
            u = e("../Fish/FishManager"),
            p = e("../Common/AudioManager"),
            d = e("../Common/MultiLangSystem"),
            f = e("../Common/PreloadManager"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = e("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            g = e("../../../../../LobbyCommon/Net/LobbyClient"),
            S = e("../../System/SkillSystem"),
            _ = e("../../../../../LobbyCommon/Helper/EventSystem");
        (function(e) {
            e.BetCtrl = "0"
        })(s = n.PlayerUIType || (n.PlayerUIType = {}));
        var v = cc._decorator,
            b = v.ccclass,
            P = (v.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.maxPlayer = 4, t.players = null, t.playerMainSeat = null, t.flipSeat = new Array(2, 3, 0, 1), t.betCtrl = null, t.bulletCount = 0, t.PlayerEntries = 0, t.PlayerWinning = 0, t.MaxBalance = null, t.isLockChangeBet = !1, t.tempBet = 5, t.betChange = !1, t.betList = null, t.tempBetList = null, t.m_aryWeaponLvData = null, t.m_isUIInitFinish = !1, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.getPlayer = function(e) {
                    return null == this.instance.players && this.instance.Init(), this.instance.players[e]
                }, t.getPlayerById = function(e) {
                    for (var t in this.instance.players)
                        if (this.instance.players[t].id == e) return this.instance.players[t];
                    return null
                }, Object.defineProperty(t, "MainSeat", {
                    get: function() {
                        return this.instance.playerMainSeat
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.isMainSeat = function(e) {
                    return e == this.instance.playerMainSeat
                }, t.getBetCtrl = function(e) {
                    return m.default.isReverse ? this.instance.betCtrl[this.instance.flipSeat[e]] : this.instance.betCtrl[e]
                }, Object.defineProperty(t.prototype, "BulletCount", {
                    get: function() {
                        return this.bulletCount
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this
                }, t.prototype.Init = function() {
                    f.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), this.players = new Array(null, null, null, null);
                    for (var e = 0; e < this.maxPlayer; e++) {
                        var t = new I;
                        this.players[e] = t
                    }
                    "playgd" == window.gd_nowLOGO && (g.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.remove(this.OnUpdatePlayerInfo, this), g.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.add(this.OnUpdatePlayerInfo, this))
                }, t.prototype.onDestroy = function() {
                    "playgd" == window.gd_nowLOGO && g.LobbyClient.Instance && g.LobbyClient.Instance.GetJPSystem && g.LobbyClient.Instance.GetJPSystem.OnUpdatePlayerInfoSignal.remove(this.OnUpdatePlayerInfo, this)
                }, t.prototype.InitUI = function() {
                    this.betCtrl = new Array(null, null, null, null);
                    for (var e = 0; e < this.maxPlayer; e++) this.betCtrl[e] = r.default.LoadGUI(s.BetCtrl).getComponent(l.default), this.betCtrl[e].Init(e);
                    this.m_isUIInitFinish = !0
                }, t.prototype.ModifyPlayerEntries = function(e, t, i, o) {
                    void 0 === o && (o = !0);
                    var a = this.players[e];
                    a && a.isMain && (this.players[e].entries += t, this.players[e].entries < 0 ? h.default.FishUIMgr.SetEntriesNow(0) : h.default.FishUIMgr.SetEntriesNow(this.players[e].entries, t > 0), o && n.BulletSync(1, null))
                }, t.prototype.ModifyPlayerWinning = function(e, t, i, o, a) {
                    void 0 === o && (o = !0), void 0 === a && (a = !1);
                    var s = this.players[e];
                    if (s && s.isMain) {
                        SS.Common.GameEnvironment.IsUseScoreBox ? this.players[e].winning += t : this.players[e].entries += t;
                        var r = !1;
                        o && (r = n.BulletSync(-1, i)), r || (SS.Common.GameEnvironment.IsUseScoreBox ? (this.players[e].winning < 0 ? h.default.FishUIMgr.SetWinningNow(0, !1, !0) : h.default.FishUIMgr.SetWinningNow(this.players[e].winning), cc.log("Win\u5206\u8b8a\u52d5: " + this.players[e].winning)) : this.players[e].entries < 0 ? h.default.FishUIMgr.SetEntriesNow(0) : h.default.FishUIMgr.SetWinningNow(this.players[e].entries))
                    }
                }, t.prototype.onInitPlayer = function(e) {
                    null == this.players && this.Init(), this.playerMainSeat = e.seat;
                    var t = this.players[this.playerMainSeat];
                    t.id = e.id, t.name = e.name, t.seat = e.seat, t.entries = e.entries, t.winning = e.winning, t.isMain = !0, this.betList = e.bet_list, t.bet_value = e.bet_value;
                    var i = !1;
                    t.bet_value > this.betList[this.betList.length - 1] && (t.bet_value = this.betList[this.betList.length - 1], i = !0), t.bet_value < this.betList[0] && (t.bet_value = this.betList[0], i = !0), this.RotateBackGround(t.seat), c.default.Instance.Init(this.playerMainSeat), this.InitUI(), n.getBetCtrl(t.seat).PlayerEnter(t), h.default.FishUIMgr.Init(), h.default.FishUIMgr.SetUserName(SS.Network.LoginModel.LoginInfo.user_id), h.default.FishUIMgr.SetGameVersion(SS.Common.GameEnvironment.CurrentGameVersion), h.default.FishUIMgr.SetEntriesNow(t.entries), h.default.FishUIMgr.SetWinningNow(t.winning), h.default.FishUIMgr.SetPurchaseBlockingMsg(d.default.getMultiLangText(SS.Common.GameEnvironment.IsShowDonate ? "DBH" : "PBH")), h.default.FishUIMgr.SetProfileBlockingMsg && h.default.FishUIMgr.SetProfileBlockingMsg(d.default.getMultiLangText("ProfileBlockHint")), h.default.FishUIMgr.SetUserInfoPosition(this.playerMainSeat);
                    var o = 1280 / m.default.WinSize.width,
                        a = c.default.WeaponUIPosition(this.playerMainSeat);
                    h.default.FishUIMgr.SetWeaponChangeAreaPosition(a.x * o, a.y * o), h.default.FishUIMgr.SetWeaponChangeHintPosition(a.x * o, a.y * o);
                    var s = n.getBetCtrl(this.playerMainSeat).node.getPosition();
                    h.default.FishUIMgr.SetBetBtnPosition(s.x * o, s.y * o), h.default.FishUIMgr.ShowPurchaseHint(t.entries < t.bet_value);
                    var l = e.weapon;
                    if (l && 0 != l || (l = 50001), this.m_aryWeaponLvData) {
                        for (var u = {}, p = 0; p < this.m_aryWeaponLvData.length; p++) u[this.betList[p]] = this.m_aryWeaponLvData[p];
                        c.default.Instance.SetWeaponSkinData(u)
                    }
                    if (c.default.Instance.ChangeWeapon(t.seat, l), e.hasOwnProperty("BuddhaPalm")) {
                        var f = r.default.LoadGUI("BuddhaPalmUI"),
                            y = e.BuddhaPalm;
                        y.bet = t.bet_value, f.getComponent("BuddhaPalmUI").Init(y, function(e) {
                            var t = {};
                            t.energy_bet = e, h.default.SkillSystem.SendCustomCmd(S.SKILL_CMD_NAME.BUDDHA_PALM, t)
                        })
                    }
                    t.isPlaying = !0, "playgd" == window.gd_nowLOGO && (t.nickName = e.nick_name, t.equipAvatar = e.equip_avatar, t.equipAvatarFrame = e.equip_avatar_frame, h.default.FishUIMgr.SetMainPlayerAvatarInfo && h.default.FishUIMgr.SetMainPlayerAvatarInfo(e)), h.default.PlayerSystem.SendUpdatePlayer(), i && h.default.PlayerSystem.UpdateBetValue(t)
                }, t.prototype.RotateBackGround = function(e) {
                    e > 1 ? (u.default.Instance.ai_seek.SetFlip(!0), m.default.Instance.setReverse(!0)) : (u.default.Instance.ai_seek.SetFlip(!1), m.default.Instance.setReverse(!1))
                }, t.prototype.onInitOtherPlayer = function(e) {
                    var t = e.seat,
                        i = this.players[t];
                    if (!i.isPlaying) {
                        i.id = e.id, i.seat = t, i.entries = e.entries, i.winning = e.winning, i.bet_value = e.bet_value, n.getBetCtrl(t).PlayerEnter(i);
                        var o = e.weapon;
                        o && 0 != o || (o = 50001), c.default.Instance.ChangeWeapon(t, o), i.isPlaying = !0;
                        var a = e.skillData;
                        if (a && "fire_storm" == a.skill_id) {
                            var s = a.skill_info,
                                r = s.score,
                                l = s.multiple_all,
                                u = s.time_left;
                            h.default.SkillSystem && h.default.SkillSystem.CreateFlameStorm(i.seat, i.bet_value, u, r, l)
                        }
                        "playgd" == window.gd_nowLOGO && (i.nickName = e.nick_name, i.equipAvatar = e.equip_avatar, i.equipAvatarFrame = e.equip_avatar_frame, h.default.FishUIMgr.SetOtherPlayerInfo && h.default.FishUIMgr.SetOtherPlayerInfo(e))
                    }
                }, t.prototype.onUpdateBet = function(e, t, i, o) {
                    i != this.playerMainSeat && (n.getBetCtrl(i).UpdateBet(e, !1), null != t && (c.default.Instance.ChangeWeapon(i, t), c.default.Instance.AutoState(i, o)))
                }, t.prototype.CheckBetListOnSkillEnd = function(e) {
                    null != this.tempBetList && this.CheckBetList(e, this.tempBetList)
                }, t.prototype.CheckBetList = function(e, t, i, o) {
                    if (void 0 === i && (i = 0), void 0 === o && (o = 0), null != this.betList && e == this.playerMainSeat) {
                        this.tempBetList = null;
                        var a = !1;
                        if (-1 == i && (n.BulletSync(-1), n.Instance.ModifyPlayerEntries(this.playerMainSeat, o, null, !1), cc.warn("CheckBetList, \u5b50\u5f48 onBlast bet \u932f\u8aa4\u6536\u5230 -1 \u76ee\u524d\u5b50\u5f48\u6578 = " + n.Instance.bulletCount + ", \u52a0\u56de bet = " + o), c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), a = !0), a || this.betList.toString() != t.toString()) {
                            cc.warn("ChangeBetList, \u6536\u5230\u65b0 bet \u6bb5 = ", t.toString() + ", \u76ee\u524d bet \u6bb5 = ", this.betList.toString() + ", \u76ee\u524d bet_value =" + this.players[this.playerMainSeat].bet_value + ", \u662f\u5426\u5b50\u5f48 bet \u932f\u8aa4 = " + a), this.betList = t;
                            var s = this.betList[this.betList.length - 1];
                            this.players[this.playerMainSeat].bet_value > s && (c.default.Instance.bulletLimit = 0, c.default.Instance.AutoShoot = !1, this.tempBet = s, this.betChange = !0, this.updateBet(s, !0), this.SendUpdateBet(), y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Warning, "C51", h.default.Instance.title, "BetListChange", function() {
                                c.default.Instance.bulletLimit = 20
                            }, s.toString()))
                        }
                    }
                }, t.prototype.onReflash = function(e, t, n, i, o) {
                    this.players[t].isPlaying && this.players[t].id == e && n && (this.ModifyPlayerEntries(t, n, i, !1), this.ModifyPlayerWinning(t, -n, o, !1))
                }, t.prototype.onPlayerLeave = function(e) {
                    if (null != this.players) {
                        var t = this.players[e];
                        t.isPlaying && (h.default.SkillSystem && h.default.SkillSystem.RemovePlayerSkill(e), n.getBetCtrl(e).PlayerLeave(), c.default.Instance.PlayerLeave(e), h.default.FishUIMgr.SetOtherPlayerInfo && h.default.FishUIMgr.SetOtherPlayerInfo(null, e), t.id = "", t.name = "", t.isPlaying = !1)
                    }
                }, t.BulletSync = function(e, t) {
                    if (void 0 === t && (t = null), null != t && (this.Instance.PlayerWinning = t), null == e) return !1;
                    this.Instance.bulletCount += e;
                    var n = 0 == this.Instance.bulletCount;
                    return n && (SS.Common.GameEnvironment.IsUseScoreBox ? (this.Instance.players[this.Instance.playerMainSeat].winning = this.Instance.PlayerWinning, this.updateWinningWindow()) : (this.Instance.players[this.Instance.playerMainSeat].entries += this.Instance.PlayerWinning, h.default.FishUIMgr.SetEntriesNow(this.Instance.players[this.Instance.playerMainSeat].entries))), this.Instance.bulletCount < 0 && (this.Instance.bulletCount = 0), n
                }, t.updateWinningWindow = function() {
                    h.default.FishUIMgr.SetWinningNow(this.Instance.PlayerWinning, !1, !0)
                }, t.prototype.SendUpdateBet = function() {
                    this.betChange && (this.betChange = !1, this.players[this.playerMainSeat].bet_value = this.tempBet, h.default.PlayerSystem.UpdateBetValue(this.players[this.playerMainSeat]))
                }, t.prototype.AddBet = function(e) {
                    if (void 0 === e && (e = !0), p.default.Instance.PlayByAudioClipTable("PLUS_BET_BTN"), n.Instance.MaxBalance && this.players[this.playerMainSeat].entries + this.players[this.playerMainSeat].winning >= n.Instance.MaxBalance) y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, "C29", h.default.Instance.title, "MaxBalance", null);
                    else if (!this.isLockChangeBet) {
                        if (c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), this.tempBet == this.betList[this.betList.length - 1]) return e ? void 0 : (this.tempBet = this.betList[0], this.betChange = !0, void this.updateBet(this.tempBet, !1));
                        var t = this.betList.indexOf(this.tempBet);
                        this.tempBet = this.betList[t + 1], this.betChange = !0, this.updateBet(this.tempBet, this.tempBet == this.betList[this.betList.length - 1])
                    }
                }, t.prototype.MinusBet = function(e) {
                    if (void 0 === e && (e = !1), p.default.Instance.PlayByAudioClipTable("MINUS_BET_BTN"), n.Instance.MaxBalance && this.players[this.playerMainSeat].entries + this.players[this.playerMainSeat].winning >= n.Instance.MaxBalance) y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, "C29", h.default.Instance.title, "MaxBalance", null);
                    else if (!this.isLockChangeBet) {
                        if (c.default.Instance.AutoShoot && (c.default.Instance.AutoShoot = !1), this.tempBet == this.betList[0]) return e ? void 0 : (this.tempBet = this.betList[this.betList.length - 1], this.betChange = !0, void this.updateBet(this.tempBet, !0));
                        var t = this.betList.indexOf(this.tempBet);
                        this.tempBet = -1 != t ? this.betList[t - 1] : this.betList[this.betList.length - 1], this.betChange = !0, this.updateBet(this.tempBet, !1)
                    }
                }, t.prototype.updateBet = function(e, t) {
                    n.getBetCtrl(this.playerMainSeat).UpdateBet(e, t), c.default.Instance.OnBetChange(this.playerMainSeat), t && p.default.Instance.Play("02_maxbet"), h.default.FishUIMgr.ShowPurchaseHint(this.players[this.playerMainSeat].entries < e * c.default.Instance.getBetScale), h.default.FishUIMgr.SetBet(e), h.default.Instance.UpdateBetData(e);
                    var i = {};
                    i.bet = e, i.auto = c.default.Instance.AutoShoot, _.EventSystem.Event(_.FishHunter.UpdateBuddhaPalm).Notify(i)
                }, t.prototype.Clear = function() {
                    this.betList.length = 0, n.instance = null
                }, t.prototype.CheckPlayerBetMax = function() {
                    return n.getPlayer(this.playerMainSeat).bet_value == this.betList[this.betList.length - 1]
                }, t.prototype.OnUpdatePlayerInfo = function(e) {
                    h.default.Instance.RecvPlayerInfo(e);
                    var t = n.getPlayerById(e.ark_id);
                    null != t && (t.nickName = e.nickname, t.equipAvatar = e.avatar_id, t.equipAvatarFrame = e.avatar_frame_id, h.default.FishUIMgr.UpdatePlayerInfo && h.default.FishUIMgr.UpdatePlayerInfo(t.seat, e))
                }, t.instance = null, n = a([b], t)
            }(cc.Component));
        n.PlayerManager = P;
        var I = function() {
            this.id = "", this.seat = 0, this.entries = 0, this.winning = 0, this.bet_value = 0, this.lv = 0, this.name = "", this.isMain = !1, this.isPlaying = !1, this.nickName = "", this.equipAvatar = "", this.equipAvatarFrame = ""
        };
        n.Player = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Helper/EventSystem": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Weapon/BetController": "BetController",
        "../Weapon/WeaponManager": "WeaponManager"
    }],
    PlayerSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "41aa6geNCZMK4VJW+hdAYvC", "PlayerSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var a = e("../MainGame/Weapon/WeaponManager"),
            s = function(e) {
                function t(t) {
                    var n = e.call(this, t, "fish_player") || this;
                    return n.InitPlayerEvent = null, n.UpdatePlayerEvent = null, n.UpdateBetEvent = null, n.ReflashEvent = null, n.UpdateBalanceEvent = null, n.RefreshBalanceEvent = null, n.RefreshBalanceByWinJPEvent = null, n.GetFishQuestInfo = null, n.GetFishQuestUpdate = null, n.FishQuestUpdateBalanceEvent = null, n.FishQuestCollectEvent = null, n.FishQuestCheckEvent = null, n.FishPuzzleQuestCheckEvent = null, n.FishPuzzleQuestCollectEvent = null, n.FishPuzzleUpdateBalanceEvent = null, n.UpdateAssetEvent = null, n.tempSN = 0, n.RegisterCmdCallback("init_player", n.onInitPlayer.bind(n)), n.RegisterCmdCallback("update_player", n.onUpdatePlayer.bind(n)), n.RegisterCmdCallback("update_bet", n.onUpdateBet.bind(n)), n.RegisterCmdCallback("reflash", n.onReflash.bind(n)), n.RegisterCmdCallback("current_credit", n.onUpdateBalance.bind(n), "current_credit"), n.RegisterCmdCallback("refresh_credit", n.onRefreshEntries.bind(n), "refresh_credit"), n.RegisterCmdCallback("FishQuestInfo", n.onFishQuestInfo.bind(n)), n.RegisterCmdCallback("FishQuestUpdate", n.onGetFishQuestUpdate.bind(n)), n.RegisterCmdCallback("collect_quest", n.onGetFishQuestCollect.bind(n), "collect_quest"), n.RegisterCmdCallback("check_quest", n.onGetFishCheckllect.bind(n)), n.RegisterCmdCallback("puzzle_check", n.onGetFishCheckPuzzle.bind(n)), n.RegisterCmdCallback("puzzle_collect", n.onGetFishPuzzleQuestCollect.bind(n)), n.RegisterCmdCallback("synchronize_property", n.onGetSyncProperty.bind(n)), n
                }
                return o(t, e), t.prototype.InitPlayer = function(e) {
                    var t = {
                        lang: e
                    };
                    this.SendCmd("init_player", t)
                }, t.prototype.onInitPlayer = function(e, t) {
                    cc.log("[onInitPlayer]data: ", t), this.InitPlayerEvent && this.InitPlayerEvent(t)
                }, t.prototype.SendUpdatePlayer = function() {
                    this.SendCmd("update_player")
                }, t.prototype.onUpdatePlayer = function(e, t) {
                    var n = this;
                    this.UpdatePlayerEvent && Object.keys(t.players).forEach(function(e) {
                        n.UpdatePlayerEvent(t.players[e])
                    })
                }, t.prototype.UpdateBetValue = function(e) {
                    var t = {};
                    t.seat = e.seat, t.bet_value = e.bet_value, t.weapon = a.default.Instance.getWeaponType(e.seat), t.auto = a.default.Instance.AutoShoot, this.SendCmd("update_bet", t)
                }, t.prototype.onUpdateBet = function(e, t) {
                    if (this.UpdateBetEvent) {
                        var n = t.bet_value,
                            i = t.weapon,
                            o = t.seat,
                            a = t.auto;
                        this.UpdateBetEvent(n, i, o, a)
                    }
                }, t.prototype.onReflash = function(e, t) {
                    if (this.ReflashEvent) {
                        if (t.trans_id <= this.tempSN) return;
                        this.tempSN = t.trans_id;
                        var n = t.player_id,
                            i = t.seat,
                            o = t.change_coin,
                            a = t.balance;
                        this.ReflashEvent(n, i, o, a)
                    }
                }, t.prototype.SendUpdateBalance = function() {
                    this.SendCmd("current_credit")
                }, t.prototype.SendRefreshBalance = function() {
                    this.SendCmd("refresh_credit")
                }, t.prototype.onUpdateBalance = function(e, t) {
                    this.SetCurrentCreditEvent(t.winnings, t.entries);
                    this.UpdateBalanceEvent && this.UpdateBalanceEvent(), this.FishQuestUpdateBalanceEvent && this.FishQuestUpdateBalanceEvent(t.winnings, t.entries)
                }, t.prototype.onRefreshEntries = function(e, t) {
                    this.RefreshBalanceEvent && this.RefreshBalanceEvent(t), this.RefreshBalanceByWinJPEvent && this.RefreshBalanceByWinJPEvent(t), this.FishPuzzleUpdateBalanceEvent && this.FishPuzzleUpdateBalanceEvent(t.winnings, t.entries), this.FishQuestUpdateBalanceEvent && this.FishQuestUpdateBalanceEvent(t.winnings, t.entries)
                }, t.prototype.SendCollectQueat = function(e, t) {
                    var n = {};
                    n.quest_id = e, n.quest_level = t, this.SendCmd("collect_quest", n)
                }, t.prototype.onGetFishQuestUpdate = function(e, t) {
                    this.GetFishQuestUpdate && this.GetFishQuestUpdate(t)
                }, t.prototype.onFishQuestInfo = function(e, t) {
                    this.GetFishQuestInfo && this.GetFishQuestInfo(t)
                }, t.prototype.onGetFishQuestCollect = function(e, t) {
                    this.FishQuestCollectEvent && this.FishQuestCollectEvent(t)
                }, t.prototype.SendCheckQueat = function() {
                    this.SendCmd("check_quest")
                }, t.prototype.onGetFishCheckllect = function(e, t) {
                    this.FishQuestCheckEvent && this.FishQuestCheckEvent(t.check_result)
                }, t.prototype.SendCheckPuzzleQueat = function() {
                    this.SendCmd("puzzle_check")
                }, t.prototype.onGetFishCheckPuzzle = function(e, t) {
                    this.FishPuzzleQuestCheckEvent && this.FishPuzzleQuestCheckEvent(t.check_result)
                }, t.prototype.SendFishPuzzleQuestCollect = function(e, t, n) {
                    var i = {};
                    i.name = e, i.serial_no = t, i.quest_level = n, this.SendCmd("puzzle_collect", i)
                }, t.prototype.onGetFishPuzzleQuestCollect = function(e, t) {
                    this.FishPuzzleQuestCollectEvent && this.FishPuzzleQuestCollectEvent(t)
                }, t.prototype.SendCollectAward = function(e, t) {
                    this.RegisterCmdCallback("collect_award", t), this.SendCmd("collect_award", e)
                }, t.prototype.SendSyncAsset = function() {
                    this.SendCmd("synchronize_property")
                }, t.prototype.onGetSyncProperty = function(e, t) {
                    var n = t.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(n)
                }, t.prototype.SendCustomCmd = function(e, t) {
                    this.SendCmd(e, t)
                }, t
            }(e("./baseSystem").default);
        n.default = s, cc._RF.pop()
    }, {
        "../MainGame/Weapon/WeaponManager": "WeaponManager",
        "./baseSystem": "baseSystem"
    }],
    PoolObj: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ab29cfI18NAsbMxgD9cW3iT", "PoolObj");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./EnumFilter"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.pool = "Effect", t.type = "", t.ani = null, t.recycleEvent = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.ani = this.getComponent(cc.Animation)
                }, t.prototype.reuse = function() {
                    this.ani && (this.ani.stop(), this.ani.play())
                }, t.prototype.Recycle = function() {
                    this.recycleEvent && (this.recycleEvent(), this.recycleEvent = null), this.ani && this.ani.stop(), s.default.DespawnObj(this.pool, this.type, this.node)
                }, t.prototype.setCustomData = function() {}, a([l(cc.String)], t.prototype, "pool", void 0), a([l(cc.String)], t.prototype, "type", void 0), a([c], t)
            }(cc.Component);
        n.default = h, cc._RF.pop()
    }, {
        "./EnumFilter": "EnumFilter"
    }],
    PopupWindowCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4ea5dcGK91La4VOEcrqNStY", "PopupWindowCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WindowsData = n.Windows = void 0;
        var s = e("../../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            r = e("./WindowCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property;
        (function(e) {
            e[e.None = 0] = "None", e[e.LockSetting = 1] = "LockSetting", e[e.WeaponChose = 2] = "WeaponChose", e[e.BattleShipInfo = 3] = "BattleShipInfo"
        })(n.Windows || (n.Windows = {}));
        var u = function(e, t, n, i) {
            void 0 === t && (t = null), void 0 === n && (n = null), this.type = e, this.events = t, this.texts = n, this.exData = i
        };
        n.WindowsData = u;
        var p = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.mWindows = [], t.mBlackBG = null, t.mTouchBlock = null, t.mUnstableMsg = null, t.mUnstabletext = null, t.mUnstableSprite = [], t
            }
            var n;
            return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                get: function() {
                    if (null == this.mPopupWindowCtrl) try {
                        "playgd" == window.gd_nowLOGO ? this.mPopupWindowCtrl = cc.find("Canvas/PopupWindow").getComponent(n) : "magiccity" == window.gd_nowLOGO && (this.mPopupWindowCtrl = s.CommonRoot.Instance.getComponentInChildren(n))
                    } catch (c) {
                        return null
                    }
                    return this.mPopupWindowCtrl
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.onLoad = function() {
                n.mPopupWindowCtrl = null
            }, t.ShowWindow = function(e, t, n) {
                void 0 === t && (t = !0), void 0 === n && (n = !1);
                var i = new u(e);
                this.EnableWindow(i, t, n)
            }, t.EnableWindow = function(e, t, n, i) {
                var o = this;
                if (void 0 === t && (t = !0), void 0 === n && (n = !1), void 0 === i && (i = 0), this.OpeList.length > 0)
                    for (var a = 0; a < this.OpeList.length; a++) this.Instance.mWindows[this.OpeList[a].type - 1].closeWindow(), n || this.OpeList.pop();
                this.Instance.mBlackBG && (this.Instance.mBlackBG.active = t), this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = !0), this.Instance.mWindows[e.type - 1].showWindow(e.events, e.texts, e.exData), this.OpeList.push(e), i > 0 && (this.closeCD = !0, cc.tween(this).delay(i).call(function() {
                    o.closeCD = !1
                }).start())
            }, t.CloseWindow = function(e) {
                if (!this.closeCD) {
                    var t = !1;
                    if (this.OpeList.length > 0)
                        if (e && "number" == typeof e)
                            for (var n = 0; n < this.OpeList.length; n++) this.OpeList[n].type == e && (this.OpeList.splice(n, 1), this.Instance.mWindows[e - 1].closeWindow(), t = !0);
                        else if (this.Instance.mWindows[this.OpeList.pop().type - 1].closeWindow(), this.OpeList.length > 0) {
                        var i = this.OpeList.pop();
                        this.Instance.mWindows[i.type - 1].showWindow(i.events, i.texts)
                    }
                    return this.OpeList.length <= 0 && (this.Instance.mBlackBG && (this.Instance.mBlackBG.active = !1), this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = !1)), t
                }
            }, t.EnableTouchBlock = function(e) {
                this.Instance.mTouchBlock && (this.Instance.mTouchBlock.active = e)
            }, t.prototype.TouchBlock = function() {
                n.CloseWindow()
            }, t.EnableNetUnstable = function(e, t) {
                switch (t) {
                    case 1:
                        this.Instance.mUnstabletext.spriteFrame = this.Instance.mUnstableSprite[0];
                        break;
                    case 2:
                        this.Instance.mUnstabletext.spriteFrame = this.Instance.mUnstableSprite[1]
                }
                if (this.Instance.mUnstableMsg.active != e)
                    if (this.Instance.mUnstableMsg.active = e, e) {
                        var n = cc.repeatForever(cc.sequence(cc.fadeIn(1), cc.delayTime(.4), cc.fadeOut(1), cc.delayTime(.4)));
                        this.Instance.mUnstableMsg.runAction(n)
                    } else this.Instance.mUnstableMsg.stopAllActions()
            }, t.OpeList = [], t.closeCD = !1, a([h([r.default])], t.prototype, "mWindows", void 0), a([h(cc.Node)], t.prototype, "mBlackBG", void 0), a([h(cc.Node)], t.prototype, "mTouchBlock", void 0), a([h(cc.Node)], t.prototype, "mUnstableMsg", void 0), a([h(cc.Sprite)], t.prototype, "mUnstabletext", void 0), a([h([cc.SpriteFrame])], t.prototype, "mUnstableSprite", void 0), n = a([l], t)
        }(cc.Component);
        n.default = p, cc._RF.pop()
    }, {
        "../../../../../GameCommon/CommonRoot/Script/CommonRoot": void 0,
        "./WindowCtrl": "WindowCtrl"
    }],
    PreloadManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "3117bJ4U31D65v+arAI7Xqv", "PreloadManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.SCENE_NAME = void 0;
        var c = e("./ArkGameUtility"),
            l = e("../../GameClient"),
            h = e("./MultiLangSystem"),
            u = cc._decorator,
            p = u.ccclass,
            d = (u.property, cc.Enum({
                NONE: 0,
                READY: 1,
                RELEASE: 2,
                LOAD_RES: 3,
                LOAD_DONE: 4,
                LOAD_SCENE: 5
            }));
        n.SCENE_NAME = {
            PRELOAD: "Preload",
            MAIN_LOBBY: "MainLobby",
            MAIN_GAME: "MainGame",
            RELEASE: "Lobby"
        };
        var f = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.secneName = n.SCENE_NAME.MAIN_LOBBY, t.nextSecneName = n.SCENE_NAME.MAIN_LOBBY, t.themeName = "", t.loadedLaunch = !0, t.sceneCompletedCount = 0, t.sceneTotalCount = 0, t.resCompletedCount = 0, t.resTotalCount = 0, t.commonResTotalCount = 0, t.waitloadCommonRes = !1, t.commonResLoaded = !1, t.waitloadThemeRes = !1, t.curConcurrent = 1, t.waitLoadingSec = 10, t.progressPercent = 0, t.statusQueue = [], t.nowStatus = d.NONE, t._loadResEvent = function() {}, t.loadStuckCount = 0, t.onReleaseSceneEvent = null, t.onLoadDone = null, t
            }
            var i;
            return o(t, e), i = t, Object.defineProperty(t, "Instance", {
                get: function() {
                    return this.instance
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "completedCount", {
                get: function() {
                    return this.sceneCompletedCount + this.resCompletedCount
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "totalCount", {
                get: function() {
                    return this.sceneTotalCount + this.resTotalCount
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "nowSceneName", {
                get: function() {
                    return cc.director.getScene().name
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "nowThemeName", {
                get: function() {
                    return this.themeName
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "nowProgressPercent", {
                set: function(e) {
                    var t = this;
                    this.progressPercent = e, this.scheduleOnce(function() {
                        -1 == [d.LOAD_RES, d.LOAD_SCENE].indexOf(t.nowStatus) || t.progressPercent != e || t.progressPercent >= 100 || (t.loadStuckCount = 25, t.loadResErrorHandler("PercentTimeOut"))
                    }, this.waitLoadingSec)
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.onLoad = function() {
                i.instance = this, i.loaderGroup = [], i.loadTaskDict = new c.Dictionary, i.permanentRes = new c.Dictionary, i.impermanentRes = new c.Dictionary, this.onReleaseSceneEvent = new c.EventDelegate
            }, t.prototype.update = function() {
                if (this.nowStatus == d.READY) switch (this.nowStatus = this.statusQueue.shift(), this.nowStatus) {
                    case d.RELEASE:
                        this._releaseScene();
                        break;
                    case d.LOAD_RES:
                        this._loadResEvent();
                        break;
                    case d.LOAD_DONE:
                        this._loadResDone();
                        break;
                    case d.LOAD_SCENE:
                        this._loadScene(this.nextSecneName);
                        break;
                    default:
                        this.resetStatusQueue()
                }
            }, t.prototype.PreloadGameCommonRes = function() {
                return s(this, void 0, void 0, function() {
                    var e, t = this;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                if (this.waitloadCommonRes) return [2];
                                this.waitloadCommonRes = !0, this.commonResLoaded = !1, e = "MainGame", n.label = 1;
                            case 1:
                                return n.trys.push([1, 3, , 4]), [4, l.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload/" + window.gd_nowLOGO + "_MainGame").then(function() {
                                    e = window.gd_nowLOGO + "_MainGame"
                                })];
                            case 2:
                            case 3:
                                return n.sent(), [3, 4];
                            case 4:
                                return cc.log("PreloadManager json name = " + e), i.LoadRes(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload", e, cc.Asset, function(e, n) {
                                    var o = n.json;
                                    if (!o) return t.waitloadCommonRes = !1, void t.PreloadGameCommonRes();
                                    if (!o.COMMON) return t.waitloadCommonRes = !1, void cc.error("[loadThemeRes]COMMON is not exist");
                                    t._resetProgress();
                                    var a = Object.keys(o.COMMON);
                                    t.commonResTotalCount = t.resTotalCount = a.length, a.forEach(function(e) {
                                        var n = o.COMMON,
                                            a = n[e].file,
                                            s = t._getAssetType(n[e].type);
                                        i.LoadRes(a, e, s, function() {
                                            t.completedCount < t.totalCount || (t.waitloadCommonRes = !1, t.commonResLoaded = !0, t.waitloadThemeRes ? t.loadThemeRes(t.themeName) : t.nowStatus = d.READY)
                                        }, !0)
                                    })
                                }), [2]
                        }
                    })
                })
            }, t.prototype.LoadMainGame = function(e, t) {
                var n = this;
                this.statusQueue = [d.RELEASE, d.LOAD_RES, d.LOAD_DONE, d.NONE], this._loadResEvent = function() {
                    n.commonResLoaded || n.PreloadGameCommonRes(), n.loadThemeRes(e)
                }, this.themeName = e, this.onLoadDone = t
            }, t.LoadRes = function(e, t, n, o, a) {
                void 0 === a && (a = !1);
                var s = i.Instance,
                    r = s.GetRes(t);
                if (r) return s.resCompletedCount += 1, s._progress(), void(o && o(null, r));
                n = n || cc.Asset;
                var c = new y(e, t, n, o, a);
                if (!i.loadTaskDict.ContainsKey(t)) {
                    i.loadTaskDict.Add(t, c);
                    var l = s.getLoader();
                    l && (c.Loading = !0, e.includes("resources") ? l.LoadRes(e, t, n, s.progressCallback.bind(s), s.onComplete.bind(s)) : l.LoadBundle(e, t, n, s.progressCallback.bind(s), s.onComplete.bind(s)))
                }
            }, t.prototype.GetRes = function(e) {
                var t = null;
                return (t = i.permanentRes.GetValue(e)) || (t = i.impermanentRes.GetValue(e)), t ? t.Resource : t
            }, t.prototype.loadResErrorHandler = function(e) {
                l.default.Instance && l.default.Instance.LoadResError(e)
            }, t.prototype.resetStatusQueue = function() {
                this.statusQueue = [], this.onLoadDone = null, this.nowStatus = d.NONE, i.loadTaskDict.Clear()
            }, t.prototype.loadThemeRes = function(e) {
                return s(this, void 0, void 0, function() {
                    var t, n = this;
                    return r(this, function(o) {
                        switch (o.label) {
                            case 0:
                                if (this.waitloadCommonRes) return this.waitloadThemeRes = !0, [2];
                                this.waitloadThemeRes = !1, t = "MainGame", o.label = 1;
                            case 1:
                                return o.trys.push([1, 3, , 4]), [4, l.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload/" + window.gd_nowLOGO + "_MainGame").then(function() {
                                    t = window.gd_nowLOGO + "_MainGame"
                                })];
                            case 2:
                            case 3:
                                return o.sent(), [3, 4];
                            case 4:
                                return i.LoadRes(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/preload", t, cc.Asset, function(t, o) {
                                    var a = o.json;
                                    if (a)
                                        if (a[e]) {
                                            n._resetProgress();
                                            var s = Object.keys(a[e]);
                                            s.length < 1 ? n.nowStatus = d.READY : (n.resCompletedCount = n.commonResTotalCount, n.resTotalCount = s.length + n.commonResTotalCount, i.loaderGroup = [], s.forEach(function(t) {
                                                var o = a[e],
                                                    s = o[t].file,
                                                    r = n._getAssetType(o[t].type);
                                                i.LoadRes(s, t, r, function() {
                                                    n.completedCount < n.totalCount || (n.nowStatus = d.READY)
                                                })
                                            }))
                                        } else cc.error("[loadThemeRes]theme_name: %s is not exist", e);
                                    else n.loadThemeRes(e)
                                }), [2]
                        }
                    })
                })
            }, t.prototype.onProgress = function(e, t) {
                this.sceneCompletedCount = e, this.sceneTotalCount = t, this._progress()
            }, t.prototype.onSceneLoaded = function(e) {
                if (e) return cc.error("[onSceneLoaded]error: ", e), this.loadStuckCount += 1, void this.loadResErrorHandler("LoadScene");
                (this.secneName == n.SCENE_NAME.PRELOAD || this.loadedLaunch) && (this.onReleaseSceneEvent.Broadcast(), this.onReleaseSceneEvent.RemoveAllListener(), cc.director.loadScene(this.secneName, this.onLaunched.bind(this)))
            }, t.prototype.onLaunched = function() {
                this.nowSceneName, this._resetProgress(), this.nowStatus = d.READY
            }, t.prototype.progressCallback = function() {}, t.prototype.onComplete = function(e, t, n) {
                if (t) {
                    cc.error("[onComplete]error: ", t), this.loadStuckCount += 1;
                    var o = e.ResName;
                    this.loadResErrorHandler(o)
                } else {
                    this.resCompletedCount += 1, this._progress();
                    var a = e.ResName,
                        s = i.loadTaskDict.PopValue(a);
                    if (s) {
                        t || (s.Resource = n, s.Permanent ? i.permanentRes.Add(a, s) : i.impermanentRes.ContainsKey(a) || i.impermanentRes.Add(a, s));
                        var r = s.OnComplete;
                        r && (i.loadTaskDict.Remove(a), r(t, n))
                    }
                    s = null;
                    for (var c = i.loadTaskDict.Values(), l = 0; l < c.length; l++) {
                        var h = c[l];
                        if (!h.Loading) {
                            s = h;
                            break
                        }
                    }
                    s && (s.Loading = !0, e.LoadBundle(s.File, s.Name, s.Type, this.progressCallback.bind(this), this.onComplete.bind(this)))
                }
            }, t.prototype.getLoader = function() {
                var e = i.Instance,
                    t = null;
                if (i.loaderGroup.forEach(function(e) {
                        e.Idle && (t = e)
                    }), !t && e.curConcurrent < cc.macro.DOWNLOAD_MAX_CONCURRENT) {
                    e.curConcurrent *= 2;
                    for (var n = 0; n < e.curConcurrent; n++) i.loaderGroup.push(new m)
                }
                return i.loaderGroup.forEach(function(e) {
                    e.Idle && (t = e)
                }), t
            }, t.prototype._resetProgress = function() {
                this.sceneCompletedCount = 0, this.sceneTotalCount = 0, this.resCompletedCount = 0, this.resTotalCount = 0, this._progress()
            }, t.prototype._progress = function() {
                if (!(this.totalCount < 1 || this.totalCount < this.completedCount)) {
                    var e = this.completedCount / this.totalCount * 10;
                    l.default.Instance && l.default.Instance.SetLoadingProgress(this.completedCount, 155), this.nowProgressPercent = e
                }
            }, t.prototype._getAssetType = function(e) {
                switch (e) {
                    case 1:
                        return cc.SpriteAtlas;
                    default:
                        return cc.Asset
                }
            }, t.prototype._loadResDone = function() {
                this.onLoadDone && this.onLoadDone(), this.nowStatus = d.READY
            }, t.prototype._loadScene = function(e) {
                this.secneName = e, cc.director.preloadScene(e, this.onProgress.bind(this), this.onSceneLoaded.bind(this))
            }, t.prototype._releaseScene = function() {
                var e = i.impermanentRes.Values();
                e.length < 1 && (this.nowStatus = d.READY);
                for (var t = e.length - 1; t > -1; t--) {
                    var n = e[t];
                    cc.resources.release(i.impermanentRes.PopValue(n.Name).Url), 0 == t && (this.nowStatus = d.READY)
                }
                cc.sys.garbageCollect()
            }, t.prototype.Release = function() {
                this._releaseScene(), this.onReleaseSceneEvent.Broadcast(), this.onReleaseSceneEvent.RemoveAllListener(), this.onReleaseSceneEvent = null, i.instance = null, this.statusQueue = null, this._loadResEvent = null, i.loaderGroup = null, i.loadTaskDict.Clear(), i.loadTaskDict = null, i.permanentRes.Clear(), i.permanentRes = null, i.impermanentRes.Clear(), i.impermanentRes = null, this.onLoadDone = null, this.node.destroy()
            }, t.instance = null, t.loaderGroup = null, t.loadTaskDict = null, t.permanentRes = null, t.impermanentRes = null, i = a([p], t)
        }(cc.Component);
        n.default = f;
        var m = function() {
                function e() {
                    this.idle = !0, this.startUnixTime = 0, this.resName = "", this.progressEvent = null, this.completeEvent = null
                }
                return Object.defineProperty(e.prototype, "Idle", {
                    get: function() {
                        return this.idle
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "StartUnixTime", {
                    get: function() {
                        return this.startUnixTime
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "ResName", {
                    get: function() {
                        return this.resName
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.LoadRes = function(e, t, n, i, o) {
                    this.idle = !1, this.progressEvent = i, this.completeEvent = o, this.startUnixTime = (new Date).getTime(), this.resName = t;
                    var a = h.default.getMultiLangUrl("" != e ? e + "/" + t : t);
                    cc.resources.load(a, n, this.onProgress.bind(this), this.onComplete.bind(this))
                }, e.prototype.LoadBundle = function(e, t, n, i, o) {
                    this.idle = !1, this.progressEvent = i, this.completeEvent = o, this.startUnixTime = (new Date).getTime(), this.resName = t;
                    var a = e.indexOf("/"),
                        s = e.substring(0, a),
                        r = "" != e ? e.substring(a + 1, e.length) : "";
                    r = h.default.getMultiLangUrl("" != r ? r + "/" + t : t), cc.assetManager.getBundle(s).load(r, n, this.onProgress.bind(this), this.onComplete.bind(this))
                }, e.prototype.Release = function(e, t) {
                    var n = e + "/" + t;
                    cc.resources.release(n)
                }, e.prototype.onProgress = function(e, t, n) {
                    this.progressEvent && this.progressEvent(e, t, n)
                }, e.prototype.onComplete = function(e, t) {
                    this.completeEvent && this.completeEvent(this, e, t), this.idle = !0
                }, e
            }(),
            y = function() {
                function e(e, t, n, i, o) {
                    this.file = "", this.name = "", this.type = cc.Asset, this.resource = null, this.onComplete = null, this.loading = !1, this.permanent = !1, this.file = e, this.name = t, this.type = n, this.onComplete = i, this.permanent = o
                }
                return Object.defineProperty(e.prototype, "File", {
                    get: function() {
                        return this.file
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Name", {
                    get: function() {
                        return this.name
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Url", {
                    get: function() {
                        return this.file + "/" + this.name
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Type", {
                    get: function() {
                        return this.type
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Resource", {
                    get: function() {
                        return this.resource
                    },
                    set: function(e) {
                        this.resource = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "OnComplete", {
                    get: function() {
                        return this.onComplete
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Loading", {
                    get: function() {
                        return this.loading
                    },
                    set: function(e) {
                        this.loading = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "Permanent", {
                    get: function() {
                        return this.permanent
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }();
        cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "./ArkGameUtility": "ArkGameUtility",
        "./MultiLangSystem": "MultiLangSystem"
    }],
    RED_DRAGON: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "9e1735LfwZMI4n3EiCVvQzi", "RED_DRAGON");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/AudioManager"),
            r = e("../Fish/BaseSpineFish"),
            c = cc._decorator,
            l = c.ccclass,
            h = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.onInit = function() {
                    this.offsetPos = cc.v2(1245, -70), this.node.angle = -this.o, this.skeleton.timeScale = 1, this.skeleton.setAnimation(0, "SWIM", !1), s.default.Instance.Play("RedDragon_Announce")
                }, t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0
                }, t.prototype.PlayDieAnim = function() {
                    var e = this;
                    this.skeleton.timeScale = 0, this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.moveBy(.1, 10, 10), cc.moveBy(.1, -10, -10)), 5), cc.callFunc(function() {
                        e.CoinEffect(2.5 * e.shapeNode.scale)
                    }), cc.fadeOut(1), cc.callFunc(function() {
                        e.RemoveSelf()
                    }))), s.default.Instance.Play("RedDragon_Roar")
                }, a([l], t)
            }(r.default));
        n.default = h, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseSpineFish": "BaseSpineFish"
    }],
    RedDragonReward: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ba6acvHwdVChZ2PG0eUlbJX", "RedDragonReward");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/PoolObj"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.label = null, t.spine = null, t.smoke = null, t.coinBack = null, t.coinFront_node1 = null, t.coinFront_node2 = null, t.coinFront1 = null, t.coinFront2 = null, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    var t = this;
                    this.label.string = e.toString(), null == this.coinFront1 && (this.coinFront1 = this.coinFront_node1.getComponentsInChildren(cc.Animation)), null == this.coinFront2 && (this.coinFront2 = this.coinFront_node2.getComponentsInChildren(cc.Animation)), this.spine.setAnimation(0, "RedDragonReward", !1), this.label.node.scale = 0, cc.tween(this.label.node).to(.2, {
                        scale: 1
                    }).delay(.3).call(function() {
                        t.smoke.resetSystem(), t.coinBack.emissionRate = 50, t.DropCoins(t.coinFront1)
                    }).to(.65, {
                        scale: 1.3
                    }).call(function() {
                        t.coinBack.emissionRate = 0
                    }).to(.65, {
                        scale: 1
                    }).call(function() {
                        t.coinBack.emissionRate = 50, t.DropCoins(t.coinFront2)
                    }).to(.65, {
                        scale: 1.5
                    }).call(function() {
                        t.coinBack.emissionRate = 0
                    }).to(.65, {
                        scale: 1
                    }).delay(.65).to(.3, {
                        scale: 0
                    }).delay(5).call(function() {}).start()
                }, t.prototype.DropCoins = function(e) {
                    for (var t = function(t) {
                            e[t].node.setPosition(cc.v3(800 * Math.random() - 400, 640 + 100 * Math.random())), e[t].node.angle = 360 * Math.random(), e[t].node.scale = .5 * Math.random() + 1, e[t].node.active = !0, e[t].play(null, Math.random()), cc.tween(e[t].node).by(Math.random() + 1.5, {
                                position: cc.v3(100 * Math.random() - 50, -1280)
                            }).call(function() {
                                e[t].node.active = !1, e[t].stop()
                            }).start()
                        }, n = 0; n < e.length; n++) t(n)
                }, a([l(cc.Label)], t.prototype, "label", void 0), a([l(sp.Skeleton)], t.prototype, "spine", void 0), a([l(cc.ParticleSystem)], t.prototype, "smoke", void 0), a([l(cc.ParticleSystem)], t.prototype, "coinBack", void 0), a([l(cc.Node)], t.prototype, "coinFront_node1", void 0), a([l(cc.Node)], t.prototype, "coinFront_node2", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj"
    }],
    ResourceManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8b4d7BoK3ZEA5OkQWxZUqd6", "ResourceManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./PoolObj"),
            l = e("./AudioManager"),
            h = e("./PreloadManager"),
            u = e("../../GameClient"),
            p = e("../../../../../LobbyCommon/Skin/Skin"),
            d = e("../../../../../LobbyCommon/Component/SpawnPool"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.FlipObjects = null, t.Background = null, t.Fishes = null, t.Bullets = null, t.Award = null, t.Weapon = null, t.GUI = null, t.Effects = null, t.Skills = null, t.Titles = null, t.Bullets_own = null, t.Award_own = null, t.Weapon_own = null, t.Effects_own = null, t.Skills_own = null, t.Titles_own = null, t.TopRoot = null, t.FishPools = {}, t.BulletPools = {}, t.WeaponPools = {}, t.GUIPools = {}, t.EffectPools = {}, t.SkillPools = {}, t.AwardPools = {}, t.TitlePools = {}, t.BackgroundPools = {}, t.TopRootPools = {}, t.ParentManager = {}, t.isLoadDone = !1, t.stackKey = -1, t.lastStageData = {}, t.spawnpool = null, t.dropEggAry = [], t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    n.instance = this, this.spawnpool = this.addComponent(d.SpawnPool)
                }, t.prototype.Init = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    this.stackKey = h.default.Instance.onReleaseSceneEvent.AddListener(function() {
                                        n.ClearAllPool()
                                    }), e = "resource_common", i.label = 1;
                                case 1:
                                    return i.trys.push([1, 3, , 4]), [4, u.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_common/" + window.gd_nowLOGO + "_resource_common").then(function() {
                                        e = window.gd_nowLOGO + "_resource_common"
                                    })];
                                case 2:
                                case 3:
                                    return i.sent(), [3, 4];
                                case 4:
                                    return [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_common/" + e)];
                                case 5:
                                    return t = i.sent(), this.initPool(t.Bullet, this.BulletPools, this.Bullets), this.initPool(t.Effect, this.EffectPools, this.Effects), this.initPool(t.Skill, this.SkillPools, this.Skills), this.initPool(t.Award, this.AwardPools, this.Award), this.initPool(t.Title, this.TitlePools, this.Titles), this.initPool(t.Background, this.BackgroundPools, this.Background), this.initPool(t.Fish, this.FishPools, this.Fishes), this.initPool(t.Weapon, this.WeaponPools, this.Weapon), this.initPool(t.GUI, this.GUIPools, this.GUI), this.initPool(t.TopRoot, this.TopRootPools, this.TopRoot), this.isLoadDone = !0, [4, p.default.Instance.Download({
                                        DropEggNormal: function(e) {
                                            e.active = !1, n.dropEggAry[0] = e
                                        }
                                    }, ["DropEggNormal"])];
                                case 6:
                                    return i.sent(), [4, p.default.Instance.Download({
                                        DropEggClassic: function(e) {
                                            e.active = !1, n.dropEggAry[1] = e
                                        }
                                    }, ["DropEggClassic"])];
                                case 7:
                                    return i.sent(), [4, p.default.Instance.Download({
                                        DropEggLegend: function(e) {
                                            e.active = !1, n.dropEggAry[2] = e
                                        }
                                    }, ["DropEggLegend"])];
                                case 8:
                                    return i.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.ClearAllPool = function() {
                    var e = this;
                    this.spawnpool.DespawnAll(), h.default.Instance.onReleaseSceneEvent.RemoveListenerByID(this.stackKey), this.ClearParentManager(), this.ClearPool(this.FishPools, this.Fishes), this.ClearPool(this.BulletPools, this.Bullets), this.ClearPool(this.WeaponPools, this.Weapon), this.ClearPool(this.GUIPools, this.GUI), this.ClearPool(this.EffectPools, this.Effects), this.ClearPool(this.SkillPools, this.Skills), this.ClearPool(this.AwardPools, this.Award), this.ClearPool(this.TitlePools, this.Titles), this.ClearPool(this.BackgroundPools, this.Background), this.ClearPool(this.TopRootPools, this.TopRoot), Object.keys(this.FishPools).forEach(function(t) {
                        var n = e.FishPools[t].pool;
                        n.size() > 10 && console.log("[FishPools]id: %s, size: %s", t, n.size())
                    }), n.instance = null
                }, t.prototype.ClearParentManager = function() {
                    var e = this;
                    Object.keys(this.ParentManager).forEach(function(t) {
                        e.ParentManager[t].children.forEach(function(e) {
                            e.destroy()
                        })
                    }), this.ParentManager = {}
                }, t.prototype.ClearPool = function(e, t) {
                    Object.keys(e).forEach(function(t) {
                        var n = e[t];
                        n.pool.clear(), delete n.pool, delete n.prefab, delete e[t]
                    }), t.removeAllChildren(), e = {}
                }, t.prototype.ChangeResource = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, u.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/resource_stage" + e.toString())];
                                case 1:
                                    return (t = n.sent()) ? (this.refreshPool(t, "Background", this.BackgroundPools, this.Background), this.refreshPool(t, "Fish", this.FishPools, this.Fishes), this.refreshPool(t, "Skill", this.SkillPools, this.Skills), this.refreshPool(t, "Effect", this.EffectPools, this.Effects), this.refreshPool(t, "Award", this.AwardPools, this.Award), this.refreshPool(t, "Title", this.TitlePools, this.Titles), this.refreshPool(t, "GUI", this.GUIPools, this.GUI), this.lastStageData = t, cc.sys.garbageCollect(), [2, !0]) : (console.error("Can't load stage config:" + e.toString()), [2])
                            }
                        })
                    })
                }, t.SpawnFish = function(e) {
                    var t = this.instance.getObject(this.instance.FishPools, e, this.instance.Fishes);
                    return null == t ? (console.error("[SpawnFish]fish type: " + e + " is null"), null) : t
                }, t.DespawnFish = function(e, t) {
                    this.instance.putObject(this.instance.FishPools, e, t)
                }, t.LoadBackground = function(e) {
                    return this.instance.getObject(this.instance.BackgroundPools, e, this.instance.Background)
                }, t.UnLoadBackground = function(e, t) {
                    this.instance.putObject(this.instance.BackgroundPools, e, t)
                }, t.SpawnBullet = function(e, t) {
                    return t ? this.instance.getObject(this.instance.BulletPools, e, this.instance.Bullets_own) : this.instance.getObject(this.instance.BulletPools, e, this.instance.Bullets)
                }, t.DespawnBullet = function(e, t) {
                    this.instance.putObject(this.instance.BulletPools, e, t)
                }, t.LoadWeapon = function(e, t) {
                    return t ? this.instance.getObject(this.instance.WeaponPools, e, this.instance.Weapon_own) : this.instance.getObject(this.instance.WeaponPools, e, this.instance.Weapon)
                }, t.UnloadWeapon = function(e, t) {
                    this.instance.putObject(this.instance.WeaponPools, e, t)
                }, t.LoadGUI = function(e) {
                    return this.instance.getObject(this.instance.GUIPools, e, this.instance.GUI)
                }, t.UnloadGUI = function(e, t) {
                    this.instance.putObject(this.instance.GUIPools, e, t)
                }, t.SpawnAward = function(e, t) {
                    return t ? this.instance.getObject(this.instance.AwardPools, e, this.instance.Award_own) : this.instance.getObject(this.instance.AwardPools, e, this.instance.Award)
                }, t.DespawnAward = function(e, t) {
                    this.instance.putObject(this.instance.AwardPools, e, t)
                }, t.SpawnEffect = function(e, t) {
                    return t ? this.instance.getObject(this.instance.EffectPools, e, this.instance.Effects_own) : this.instance.getObject(this.instance.EffectPools, e, this.instance.Effects)
                }, t.DespawnEffect = function(e, t) {
                    this.instance.putObject(this.instance.EffectPools, e, t)
                }, t.SpawnSkill = function(e, t) {
                    return t ? this.instance.getObject(this.instance.SkillPools, e, this.instance.Skills_own) : this.instance.getObject(this.instance.SkillPools, e, this.instance.Skills)
                }, t.DespawnSkill = function(e, t) {
                    this.instance.putObject(this.instance.SkillPools, e, t)
                }, t.SpawnTitle = function(e, t) {
                    return t ? this.instance.getObject(this.instance.TitlePools, e, this.instance.Titles_own) : this.instance.getObject(this.instance.TitlePools, e, this.instance.Titles)
                }, t.DespawnTitle = function(e, t) {
                    this.instance.putObject(this.instance.TitlePools, e, t)
                }, t.LoadTopRoot = function(e) {
                    return this.instance.getObject(this.instance.TopRootPools, e, this.instance.TopRoot)
                }, t.UnloadTopRoot = function(e, t) {
                    this.instance.putObject(this.instance.TopRootPools, e, t)
                }, t.SpawnPuzzleEggDropEgg = function(e) {
                    var t = null;
                    switch (e) {
                        case "DropEggNormal":
                            t = this.instance.dropEggAry[0];
                            break;
                        case "DropEggClassic":
                            t = this.instance.dropEggAry[1];
                            break;
                        case "DropEggLegend":
                            t = this.instance.dropEggAry[2]
                    }
                    if (t) {
                        var n = this.instance.spawnpool.Spawn(t, this.instance.TopRoot);
                        return n.active = !0, n
                    }
                    return null
                }, t.DespawnPuzzleEggDropEgg = function(e) {
                    this.instance.spawnpool.Despawn(e)
                }, t.prototype.initPool = function(e, t, n) {
                    for (var i = Object.keys(e), o = 0; o < i.length; o++) {
                        var a = i[o],
                            s = e[a].name;
                        if (s) {
                            var r = e[a].layer || 0,
                                l = e[a].sound,
                                u = e[a].keep || 0,
                                p = h.default.Instance.GetRes(s);
                            if (p && p.data) {
                                var d = this.getParentNode(n, r),
                                    f = null;
                                u > 0 && (f = new cc.NodePool(c.default)), this.ParentManager[n.name + r] = d, t[a] = {
                                    pool: f,
                                    layer: r,
                                    prefab: p,
                                    sound: l,
                                    name: s,
                                    keep: u
                                }
                            } else console.error("[InitPool]name: %s, is not find prefab", s)
                        }
                    }
                }, t.prototype.refreshPool = function(e, t, n, i) {
                    for (var o = Object.keys(e[t]), a = this.lastStageData && this.lastStageData[t] ? Object.keys(this.lastStageData[t]) : [], s = Math.max(o.length, a.length), r = 0; r < s; r++) {
                        var l = o[r],
                            u = a[r];
                        if (l && -1 == a.indexOf(l)) {
                            var p = e[t][l],
                                d = p.name,
                                f = p.layer || 0,
                                m = p.sound,
                                y = p.keep || 0,
                                g = h.default.Instance.GetRes(d);
                            if (!g || !g.data) {
                                cc.error("[RefreshPool]name: %s not found prefab: %s", d, g);
                                continue
                            }
                            var S = this.getParentNode(i, f),
                                _ = null;
                            y > 0 && (_ = new cc.NodePool(c.default)), this.ParentManager[i.name + f] = S, n[l] = {
                                pool: _,
                                layer: f,
                                prefab: g,
                                sound: m,
                                name: d,
                                keep: y
                            }
                        }
                        if (u && -1 == o.indexOf(u) && n[u]) {
                            if (_ = n[u].pool) {
                                for (var v = _.size(); v > 0; v--) _.get().destroy();
                                _.clear(), _ = null
                            }
                            n[u] = null, delete n[u]
                        }
                    }
                }, t.prototype.getParentNode = function(e, t) {
                    void 0 === t && (t = 0);
                    var n = this.ParentManager[e.name + t];
                    return null == n && (n = new cc.Node, e.addChild(n, t), n.setPosition(cc.Vec2.ZERO)), n
                }, t.prototype.getObject = function(e, t, n) {
                    var i = null;
                    if (e.hasOwnProperty(t)) {
                        var o = e[t].pool,
                            a = e[t].layer,
                            s = e[t].sound;
                        if (o && (i = o.get()), null == i) {
                            var r = e[t].prefab;
                            if (!r || !r.data) return cc.error("[getObject] not found prefab: %s", r), i;
                            var h = null;
                            (i = cc.instantiate(r)) && (h = i.getComponent(c.default)), h && h.reuse()
                        }
                        if (i) {
                            var u = this.getParentNode(n, a);
                            try {
                                u.addChild(i, a)
                            } catch (p) {
                                cc.error("[getObject] type: %s addChildError: %s", t, p)
                            }
                            i.setPosition(cc.Vec2.ZERO), this.ParentManager[n.name + a] = u, s && l.default.Instance.Play(s)
                        } else console.error("[getObject]Obj: %s spawn fail!", t)
                    }
                    return i
                }, t.prototype.putObject = function(e, t, n) {
                    try {
                        if (n && null != n.parent) {
                            if (e.hasOwnProperty(t)) {
                                var i = e[t].pool,
                                    o = e[t].keep;
                                if (i && i.size() < o) return n.removeFromParent(), void i.put(n)
                            }
                            n.destroy()
                        }
                    } catch (f) {
                        console.error("[putObject]Obj: %s put fail!", t)
                    }
                }, t.instance = null, a([y(cc.Node)], t.prototype, "FlipObjects", void 0), a([y(cc.Node)], t.prototype, "Background", void 0), a([y(cc.Node)], t.prototype, "Fishes", void 0), a([y(cc.Node)], t.prototype, "Bullets", void 0), a([y(cc.Node)], t.prototype, "Award", void 0), a([y(cc.Node)], t.prototype, "Weapon", void 0), a([y(cc.Node)], t.prototype, "GUI", void 0), a([y(cc.Node)], t.prototype, "Effects", void 0), a([y(cc.Node)], t.prototype, "Skills", void 0), a([y(cc.Node)], t.prototype, "Titles", void 0), a([y(cc.Node)], t.prototype, "Bullets_own", void 0), a([y(cc.Node)], t.prototype, "Award_own", void 0), a([y(cc.Node)], t.prototype, "Weapon_own", void 0), a([y(cc.Node)], t.prototype, "Effects_own", void 0), a([y(cc.Node)], t.prototype, "Skills_own", void 0), a([y(cc.Node)], t.prototype, "Titles_own", void 0), a([y(cc.Node)], t.prototype, "TopRoot", void 0), n = a([m], t)
            }(cc.Component);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../LobbyCommon/Component/SpawnPool": void 0,
        "../../../../../LobbyCommon/Skin/Skin": void 0,
        "../../GameClient": "GameClient",
        "./AudioManager": "AudioManager",
        "./PoolObj": "PoolObj",
        "./PreloadManager": "PreloadManager"
    }],
    SEA_TURTLE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "63145tFBQ5O7ol6zCC1sQyR", "SEA_TURTLE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseFish"),
            l = cc._decorator.ccclass,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hitEffect = [], t
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(80, 500)
                }, t.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (e = this.shapeNode.children, t = 0; t < e.length; t++) this.hitEffect[t] && (this.hitEffect[t].isDone || (e[t].stopAction(this.hitEffect[t]), this.hitEffect = null, e[t].color = cc.Color.WHITE));
                                    t = 0, i.label = 1;
                                case 1:
                                    return t < e.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, e[t].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return t++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, a([l], t)
            }(c.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish"
    }],
    ShadowCamera: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "3dd6dB8+FNF4JfjhjJ46Oci", "ShadowCamera");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.camera = null, t.sprite = null, t
                }
                return o(t, e), t.prototype.start = function() {
                    var e = new cc.RenderTexture;
                    e.initWithSize(cc.winSize.width, cc.winSize.height);
                    var t = new cc.SpriteFrame;
                    t.setTexture(e), this.sprite.spriteFrame = t, this.camera.targetTexture = e
                }, a([c(cc.Camera)], t.prototype, "camera", void 0), a([c(cc.Sprite)], t.prototype, "sprite", void 0), a([r], t)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    SkillBuddhaPalm: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "cce33BvIdFBhoQ+m0qFe+vq", "SkillBuddhaPalm");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../Common/AudioManager"),
            h = e("../Common/ResourceManager"),
            u = e("../Fish/FishManager"),
            p = e("./BaseSkill"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Root = null, t.sekeleton = [], t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = p.skillEnum.BuddhaPalm, this.limitTime = 12
                }, t.prototype.InitProperties = function(t) {
                    if (void 0 === t && (t = null), e.prototype.InitProperties.call(this), 0 == t.Code) {
                        this.totalWin = t.win, this.playerBet = t.bet;
                        var n = t.fish_type_list,
                            i = t.odds_list;
                        if (this.totalOdds = 0, n)
                            for (var o = 0; o < n.length; o++) {
                                this.oddsList.push(i[o]), this.totalOdds += i[o], this.winList.push(i[o] * this.playerBet);
                                var a = u.default.Instance.CreateFakeFish(u.default.Instance.getNextFakeID(), n[o], null, 0);
                                this.dieFishList.push(a)
                            }
                        this.node.angle = c.default.isReverse ? 180 : 0, this.node.opacity = this.isMainPlayer ? 255 : 120, l.default.Instance.Play("Hand_use")
                    } else this.UnUseSkill()
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.isGaveAward = !0, [4, this.delay(1250)];
                                case 1:
                                    return t.sent(), this.CreateSkillTitle(), this.sekeleton[0].node.active = !0, this.sekeleton[0].setAnimation(0, "BuddhaPalm", !1), [4, this.delay(1066)];
                                case 2:
                                    return t.sent(), this.sekeleton[1].node.setParent(h.default.Instance.Background), this.sekeleton[1].node.active = !0, this.sekeleton[1].setAnimation(0, "animation", !1), e = this.KillFishesAndShowAward(), l.default.Instance.Play("Hand01"), [4, this.delay(1e3 + 1e3 * e)];
                                case 3:
                                    return t.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 4:
                                    return t.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    if (null != this.dieFishList) {
                        for (var t = 0; t < this.dieFishList.length; t++) this.dieFishList[t] && this.dieFishList[t].RemoveSelf();
                        this.dieFishList = null
                    }
                    this.sekeleton.forEach(function(e) {
                        e.clearTracks(), e.node.active = !1
                    }), this.sekeleton[1].node.setParent(this.Root), e.prototype.UnUseSkill.call(this)
                }, a([m(cc.Node)], t.prototype, "Root", void 0), a([m([sp.Skeleton])], t.prototype, "sekeleton", void 0), a([f], t)
            }(p.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillDragonWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c1a4faeSJhKxZbOzVATz5Eg", "SkillDragonWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../../../../LobbyCommon/Net/LobbyClient"),
            h = e("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = e("../../GameClient"),
            p = e("../Common/EnumFilter"),
            d = e("../Common/ResourceManager"),
            f = e("../Fish/FishManager"),
            m = e("../Player/PlayerManager"),
            y = e("../Weapon/WeaponManager"),
            g = e("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Line = null, t.LockAiming = null, t.player = null, t.targetFish = null, t.targetType = -1, t.lastType = null, t.touchFishID = "", t.mWeapon = null, t.ShootPos = null, t.betScale = 2, t.unhitList = null, t.splitAmount = 5, t.splitList = null, t.attackRate = .3333334, t.attackTimer = 0, t.isTouchHold = !1, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = g.skillEnum.DragonWeapon, this.limitTime = 0
                }, t.prototype.onEnable = function() {
                    this.isMainPlayer && (this.lastType && (this.targetType = this.lastType, this.lastType = null), this.RegisterTouchEvent(), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this))
                }, t.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType, f.default.Instance.Event_FishInit = null), this.setLocking(null), this.isTouchHold = !1
                }, t.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), this.isUnuse = !1, this.attackTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", e && e.targetType && (this.targetType = e.targetType), this.player = m.PlayerManager.getPlayer(this.playerSeat)
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.isMainPlayer && (this.RegisterTouchEvent(), this.enableLockAiming(!1), f.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this)), this.node.setPosition(y.default.WeaponPosition(this.playerSeat)), [2]
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.Line.stop(), this.LockAiming.stop(), this.Line.node.active = !1, this.unhitList = null, this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.enableLockAiming(!1), this.CanelRegisterTouchEvent(), f.default.Instance.Event_FishEnter = null, f.default.Instance.Event_FishInit = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), u.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), d.default.DespawnSkill(this.skillType, this.node)
                }, t.prototype.setWeapon = function(e, t) {
                    this.mWeapon = e, this.attackRate = 1 / t["1secShoot"], this.betScale = t.betScale, this.isMainPlayer && (this.unhitList = p.default.TransFishTypeList(t.UnhitList), this.splitAmount = t.SplitAmount, this.splitList = p.default.TransFishTypeList(t.SplitList))
                }, t.prototype.onHitFish = function(e, t, n) {
                    if (!this.isMainPlayer) {
                        m.PlayerManager.Instance.ModifyPlayerEntries(t, -e);
                        var i = f.default.Instance.GetFishByID(n.toString());
                        if (i) {
                            var o = i.GetLockLinkPoint(this.node.getPosition());
                            if (o) {
                                this.ShootPos = c.default.ConvMousePos(o), this.mWeapon.ShootFunction(this.ShootPos);
                                var a = d.default.SpawnBullet("DragonBlastOther", !1);
                                a && (a.setPosition(this.ShootPos), a.angle = c.default.isReverse ? 180 : 0)
                            } else cc.warn("[SkillDragonWeapon] OnBlast TargetPos is null!")
                        }
                    }
                    this.mWeapon.autoAnim || u.default.Instance.RecordClickLog(this.isMainPlayer)
                }, t.prototype.update = function(t) {
                    this.isUnuse || (e.prototype.update.call(this, t), this.attackTimer < this.attackRate && (this.attackTimer += t), this.isMainPlayer && this.MainPlayerUpdate(t))
                }, t.prototype.setLocking = function(e) {
                    this.isMainPlayer && this.targetFish && e != this.targetFish && (this.targetFish.Event_FishLeave = null, this.touchFishID = ""), this.targetFish = e || null, this.targetType = e ? e.Type : -1, this.isMainPlayer && this.targetFish ? this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this) : this.enableLockAiming(!1)
                }, t.prototype.MainPlayerUpdate = function() {
                    if (!y.default.Instance.getWeapon(this.playerSeat).isGunReady) return this.enableLockAiming(!1), void(this.isTouchHold = !1);
                    if (this.checkTargetHitPos) {
                        if (this.enableLockAiming(!0), this.attackTimer >= this.attackRate) {
                            if (this.attackTimer = 0, this.player.entries < this.player.bet_value * this.betScale) {
                                var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, e, u.default.Instance.title, "Insufficient balance", null), this.setLocking(null), y.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void u.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            if (m.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= m.PlayerManager.Instance.MaxBalance) return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null), this.setLocking(null), y.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                            if (u.default.FishUIMgr.IsPurchaseOpen()) return;
                            if (0 == y.default.Instance.bulletLimit) return;
                            var t = d.default.SpawnBullet("DragonBlast", this.isMainPlayer);
                            t && (t.setPosition(this.ShootPos), t.angle = c.default.isReverse ? 180 : 0), this.targetFish.OnHitFish(), this.mWeapon.ShootFunction(this.ShootPos);
                            for (var n = f.default.Instance.GetRangeAttackableID(this.ShootPos, 200, 10), i = [], o = 0; o < n.length; o++) {
                                var a = f.default.Instance.GetFishByID(n[o]);
                                if (n[o] != this.targetFish.ID && -1 != this.splitList.indexOf(a.Type)) {
                                    var s = d.default.SpawnFish("DragonSplit");
                                    s && s.setPosition(a.node.getPosition()), a.twitch(.3), i.push(n[o])
                                }
                                if (i.length >= this.splitAmount) break
                            }
                            i.unshift(this.targetFish.ID), this.targetFish.twitch(.4), u.default.SkillSystem.SendDragonHit(this.playerSeat, this.player.bet_value, null, i, this.targetFish.ID), m.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value * this.betScale), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN), l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || y.default.Instance.AutoShoot || this.setLocking(null)
                        }
                    } else y.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, Object.defineProperty(t.prototype, "checkTargetHitPos", {
                    get: function() {
                        if (-1 == this.targetType) return !1;
                        if (!this.targetFish) return !1;
                        if (!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)) return !1;
                        var e = this.node.getPosition(),
                            t = this.targetFish.GetLockLinkPoint(e);
                        if (!t) return this.isMainPlayer && (y.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1;
                        t = c.default.ConvMousePos(t), this.mWeapon.SetGunRotateUsePos(t), this.ShootPos = t, this.node.angle = 57.29578 * -Math.atan2(Math.floor(t.x - e.x), Math.floor(t.y - e.y));
                        var n = t.sub(e).mag() / 360;
                        return this.Line.node.scaleY = n, this.Line.node.scaleX = 1 + n / 2, this.LockAiming.node.scaleY = 1 / n, this.LockAiming.node.scaleX = 1 / (1 + n / 2), !0
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.OnTouchStart = function(e) {
                    if (y.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value * this.betScale) {
                            var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, t, u.default.Instance.title, "Insufficient balance", null), void u.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (m.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= m.PlayerManager.Instance.MaxBalance) h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = f.default.Instance.InFishRange(e.getLocation());
                            n && (null == p.default.playerLockSetting && p.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, t.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1, y.default.Instance.AutoShoot || this.setLocking(null)
                }, t.prototype.OnFishEnter = function(e) {
                    if (y.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == p.default.LockSetting);
                        else {
                            if (e.Type == this.targetType) return;
                            for (var t = 0; t < p.default.LockSetting.length; t++) {
                                if (p.default.LockSetting[t] == this.targetType) return;
                                if (e.Type == p.default.LockSetting[t]) return void this.setLocking(e)
                            }
                        }
                }, t.prototype.OnFishInit = function(e) {
                    -1 != this.unhitList.indexOf(e.Type) && e.SetShapeColor(cc.Color.GRAY)
                }, t.prototype.OnTargetChange = function(e) {
                    e && (e.Event_FishLeave = null), y.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, t.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var e = this.targetFish ? this.targetFish.ID : "",
                            t = null;
                        f.default.Instance && (t = f.default.Instance.GetNextLockFish(this.targetType, e)), t ? this.setLocking(t) : this.enableLockAiming(!1)
                    }
                }, t.prototype.enableLockAiming = function(e) {
                    this.Line.node.active != e && (this.Line.node.active = e, e ? (this.Line.play(), this.LockAiming.play()) : (this.Line.stop(), this.LockAiming.stop()))
                }, a([v(cc.Animation)], t.prototype, "Line", void 0), a([v(cc.Animation)], t.prototype, "LockAiming", void 0), a([_], t)
            }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillDrill: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ca325w5vrBBCIUxOhTC9dY6", "SkillDrill");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Player/PlayerManager"),
            h = e("../Fish/FishManager"),
            u = e("../Fish/BaseFish"),
            p = e("../../System/SkillSystem"),
            d = e("../Weapon/WeaponManager"),
            f = e("../../GameClient"),
            m = e("../Common/AudioManager"),
            y = e("../../../../../FishCommon/Script/CanvasHandler"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property,
            v = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.drillGunIconNode = null, t.drillWeapon = null, t.drillBullet = null, t.shootReady = !1, t.isReceiveServerShoot = !1, t.isTouchIng = !1, t.isShootEnd = !1, t.shootPos = cc.Vec2.ZERO, t.fishID = null, t.ScoreUIName = "ScoreUI_Drill", t.limitShootTime = 15, t.shootTimer = 0, t.fishAwardTime = 0, t.readySound = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Drill, this.limitTime = 80, this.forceTime = 25
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.isShootEnd || (this.isMainPlayer && this.shootTimer > 0 && (this.shootTimer -= t, this.shootTimer <= 10 && this.drillWeapon.setLimitTime(this.shootTimer), this.shootTimer <= 0 && (this.shootTimer = 0, this.MainPlayerShoot())), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.forceTimer = 0, this.isGaveAward = !0, this.isForceShowAward = !0, this.ShowExplodeAndAward(cc.Vec2.ZERO, !0))))
                }, t.prototype.InitProperties = function(t) {
                    e.prototype.InitProperties.call(this), this.drillWeapon = null, this.isReceiveServerShoot = !1, this.drillBullet = null, this.shootReady = !1, this.isShootEnd = !1, this.isTouchIng = !1, this.shootPos = cc.Vec2.ZERO, this.playerBet = t.bet, this.fishID = t.crab
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return e = h.default.Instance.GetFishByID(this.fishID.toString()), m.default.Instance.Play("drill_hit_2"), t = 700 + 50 * Math.random(), n = 310 + 100 * Math.random(), i = new cc.Vec2(t, n), this.drillWeapon = d.default.Instance.GetSkillWeapon(this.playerSeat, d.WeaponType.Dirll), this.shootPos = this.drillWeapon.shootPos, null != e && (e.AliveStatus = u.FishState.DEAD, e.CanCollision = !1, e.StopAction(), e.PlayDieAnim(), i = e.node.getPosition(), e.node.runAction(cc.rotateBy(3, 360))), this.node.setPosition(i), this.node.scale = 1.5, null != this.drillGunIconNode && (this.drillGunIconNode.angle = this.playerSeat > 1 ? 180 : 0, o = y.default.isReverse ? -100 : 100, this.drillGunIconNode.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, o)).easing(cc.easeCubicActionOut()), cc.moveTo(.5, cc.Vec2.ZERO)))), [4, this.delay(1e3)];
                                case 1:
                                    return s.sent(), null != e && e.RemoveSelf(), a = d.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(1.2, a).easing(cc.easeSineOut()), cc.scaleTo(1.2, 1, 1)), cc.scaleTo(.5, 0, 0).easing(cc.easeCubicActionOut()))), m.default.Instance.Play("drill_addgun"), [4, this.delay(1e3)];
                                case 2:
                                    return s.sent(), this.CreateSkillTitle(), this.CreateScoreUI(), this.drillWeapon.ChangeGunAnim(), this.OnChangeGunEnd(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    m.default.Instance.Stop(this.readySound), this.readySound = null, d.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.drillBullet && (this.drillBullet.Recycle(), this.drillBullet.Event_OnBulletHit = null, this.drillBullet.Event_OnBulletReady = null, this.drillBullet.Event_OnBulletExplode = null, this.drillBullet = null), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e, t) {
                    switch (t) {
                        case p.SKILL_CMD_NAME.DRILL_SHOOT:
                            this.SetOtherShootData(e.x, e.y);
                            break;
                        case p.SKILL_CMD_NAME.DRILL_HIT:
                            for (var n = e.fish_dead_dict, i = Object.keys(n), o = 0; o < i.length; o++) {
                                var a = h.default.Instance.GetFishByID(i[o].toString());
                                if (null != a) {
                                    if (a.Feature) continue;
                                    var s = n[i[o]],
                                        r = s.coin,
                                        c = s.odds;
                                    this.BulletHitFish(a, r, c)
                                }
                            }
                            break;
                        case p.SKILL_CMD_NAME.DRILL_BOMB:
                            var l = e.fish,
                                u = e.odds,
                                d = e.total_win,
                                f = e.total_odds,
                                m = new Array,
                                y = new Array;
                            if (null != l && null != u && this.playerBet > 0)
                                for (o = 0; o < l.length && (m.push(h.default.Instance.GetFishByID(l[o])), !(o >= u.length)); o++) y.push(u[o] * this.playerBet);
                            this.SetExplodeData(m, y, u, d, f)
                    }
                }, t.prototype.SetOtherShootData = function(e, t) {
                    this.isReceiveServerShoot = !0, this.shootPos = new cc.Vec2(e, t), this.CheckShoot()
                }, t.prototype.SetExplodeData = function(e, t, n, i, o) {
                    this.dieFishList = e, this.winList = t, this.oddsList = n, this.totalWin = this.currentWin + i, this.totalOdds = this.currentOdds + o, this.totalOdds = o, this.isGaveAward = !0, this.drillBullet && this.drillBullet.BulletExplode(), this.isShootEnd || this.drillWeapon && this.drillWeapon.SwitchGunObj(!1)
                }, t.prototype.OnChangeGunEnd = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), this.shootReady = !0, this.shootTimer = this.limitShootTime, this.forceTimer = this.forceTime, this.isMainPlayer ? (this.RegisterTouchEvent(), y.default.Instance.IsLockChangeWeapon = !0) : this.CheckShoot(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckShoot = function() {
                    this.isMainPlayer || this.shootReady && this.isReceiveServerShoot && this.OtherPlayerShoot()
                }, t.prototype.MainPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.drillWeapon && this.drillWeapon.isGunReady && this.isMainPlayer ? this.isShootEnd ? [2] : (this.isShootEnd = !0, this.CanelRegisterTouchEvent(), y.default.Instance.IsLockChangeWeapon = !1, f.default.SkillSystem.SendSkillShoot(p.SKILL_CMD_NAME.DRILL_SHOOT, this.playerSeat, this.shootPos.x, this.shootPos.y), this.shootTimer = 999, this.drillWeapon.setLimitTime(null), this.drillWeapon.SwitchGunObj(!1), l.PlayerManager.Instance.players[this.playerSeat] && (this.drillBullet = d.default.Instance.CreateBullet(this.playerSeat, this.shootPos, this.playerBet), this.drillBullet && (this.drillBullet.Event_OnBulletHit = this.OnBulletHit.bind(this), this.drillBullet.Event_OnBulletReady = this.OnBulletExplodeReady.bind(this), this.drillBullet.Event_OnBulletExplode = this.OnBulletExple.bind(this))), m.default.Instance.Stop(this.readySound), this.readySound = null, m.default.Instance.Play("drill_shoot"), [2]) : [2]
                        })
                    })
                }, t.prototype.OtherPlayerShoot = function() {
                    this.isShootEnd || this.drillWeapon && this.drillWeapon.isGunReady && (this.isShootEnd = !0, this.drillWeapon.SwitchGunObj(!1), l.PlayerManager.Instance.players[this.playerSeat] && (this.drillBullet = d.default.Instance.CreateBullet(this.playerSeat, this.shootPos), this.drillBullet && (this.drillBullet.Event_OnBulletExplode = this.OnBulletExple.bind(this))), m.default.Instance.Stop(this.readySound), this.readySound = null, m.default.Instance.Play("drill_shoot"))
                }, t.prototype.ShowExplodeAndAward = function(e, t) {
                    return void 0 === t && (t = !1), s(this, void 0, void 0, function() {
                        var n, i;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return t || this.CreateExplodeEffect(e), n = (new Date).getTime(), this.fishAwardTime = n < this.fishAwardTime ? this.fishAwardTime - n : 0, i = this.KillFishesAndShowAward(), this.SetScoreUICount(this.totalWin), this.fishAwardTime = i > this.fishAwardTime ? i : this.fishAwardTime, [4, this.delay(1500)];
                                case 1:
                                    return o.sent(), this.fishAwardTime = this.fishAwardTime >= 1.5 ? this.fishAwardTime - 1.5 : 0, [4, this.delay(1e3 * this.fishAwardTime)];
                                case 2:
                                    return o.sent(), this.HideSkillScoreUI(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return o.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.BulletHitFish = function(e, t, n) {
                    var i = this;
                    e && h.default.Instance.KillFish(this.playerSeat, e, t, this.playerBet, !1, !0, function(e) {
                        var t = e + (new Date).getTime();
                        i.fishAwardTime = t > i.fishAwardTime ? t : i.fishAwardTime
                    }), this.currentWin += t, this.currentOdds += n, this.SetScoreUICount(this.currentWin)
                }, t.prototype.OnBulletHit = function(e) {
                    this.isMainPlayer && f.default.SkillSystem.SendHitFish(p.SKILL_CMD_NAME.DRILL_HIT, e)
                }, t.prototype.OnBulletExplodeReady = function(e) {
                    this.isMainPlayer && f.default.SkillSystem.SendRangeFish(p.SKILL_CMD_NAME.DRILL_BOMB, e)
                }, t.prototype.OnBulletExple = function(e, t) {
                    this.isForceShowAward = e, this.ShowExplodeAndAward(t), this.drillBullet && (this.drillBullet.Event_OnBulletHit = null, this.drillBullet.Event_OnBulletReady = null, this.drillBullet.Event_OnBulletExplode = null, this.drillBullet = null)
                }, t.prototype.CreateExplodeEffect = function(e) {
                    this.AddSkillEffect("Bomb_Explode", e, 0, null), m.default.Instance.Play("drill_bomb"), this.CameraShakeEffect(1, 3)
                }, t.prototype.OnTouchStart = function(e) {
                    this.isTouchIng = !0, this.shootPos = y.default.ConvMousePos(e.getLocation()), null != this.drillWeapon && (this.drillWeapon.SetGunRotateUsePos(this.shootPos), null == this.readySound && (this.readySound = m.default.Instance.Play("drill_ready", 1, !0)))
                }, t.prototype.OnTouchMove = function(e) {
                    this.isTouchIng && this.drillWeapon && (this.shootPos = y.default.ConvMousePos(e.getLocation()), this.drillWeapon.SetGunRotateUsePos(this.shootPos))
                }, t.prototype.OnTouchEnd = function(e) {
                    this.isTouchIng && (this.isTouchIng = !1, this.shootPos = y.default.ConvMousePos(e.getLocation()), this.MainPlayerShoot())
                }, a([_(cc.Node)], t.prototype, "drillGunIconNode", void 0), a([S], t)
            }(c.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillElazingPhoneix: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "6cda6MDb7tGzJ1EidYIGpH6", "SkillElazingPhoneix");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("./BaseSkill"),
            h = e("../Fish/BaseFish"),
            u = e("../Fish/FishManager"),
            p = e("../Common/ResourceManager"),
            d = e("../Common/AudioManager"),
            f = e("../../../../../FishCommon/Script/CanvasHandler"),
            m = e("../../GameClient"),
            y = cc._decorator,
            g = y.ccclass,
            S = y.property;
        (function(e) {
            e[e.stay = 0] = "stay", e[e.move = 1] = "move"
        })(c || (c = {}));
        var _ = function(e) {
                this.node = null, this.state = c.stay, this.oriPosition = null, this.oriScale = 0, this.node = e, this.oriPosition = e.getPosition(), this.oriScale = e.scale
            },
            v = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.BirdsNode = [], t.Totem = null, t.Explosion = null, t.FrameFire = null, t.CountObj = null, t.label_number = null, t.Birds = [], t.isContinue = !0, t.currentBombNumber = 0, t.HitCount = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t.fishAwardTime = 0, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = l.skillEnum.AwakenPhoenix, this.limitTime = 120;
                    for (var e = 0; e < this.BirdsNode.length; e++) this.Birds.push(new _(this.BirdsNode[e]))
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.node.scale = 0, this.isContinue = !0, this.currentBombNumber = 0, this.label_number.string = "1", this.forceTime = 7.5, this.playerBet = t.bet, this.FrameFire.node.opacity = 0, this.CountObj.opacity = 255, this.CountObj.angle = f.default.isReverse ? 180 : 0, this.fishID = t.bomb_fish_id
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return (e = u.default.Instance.GetFishByID(this.fishID.toString())) && (e.AliveStatus = h.FishState.DEAD, e.CanCollision = !1, e.StopAction(), e.PlayDieAnim(), d.default.Instance.Play("Phoenix_die_01", .5)), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(e ? this.node.parent.convertToNodeSpaceAR(e.getFishPos()) : cc.Vec2.ZERO), (t = p.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, t.setPosition(this.node.getPosition()), this.Totem.node.angle = f.default.isReverse ? 180 : 0, this.Totem.node.opacity = 255, this.Totem.node.active = !0, this.Totem.playAdditive("TotemBurn"), [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO), cc.callFunc(function() {
                                        n.Totem.playAdditive("TotemLoop"), d.default.Instance.Play("storm_shoot")
                                    }), cc.delayTime(.8), cc.callFunc(function() {
                                        n.Explosion.node.active = !0, n.Explosion.play("Explosion"), n.Totem.node.active = !1, d.default.Instance.Play("bomb_ex03")
                                    }), cc.delayTime(1.4), cc.callFunc(function() {
                                        n.Explosion.node.active = !1, n.FrameFire.node.active = !0, n.FrameFire.play("FrameFire"), n.FrameFire.node.runAction(cc.fadeIn(1)), d.default.Instance.Fade(d.default.Instance.GetBGMID(), 1, 0), n.bgmID = d.default.Instance.Play("Phoenix_out_01", .7, !0), d.default.Instance.Fade(n.bgmID, 0, 1);
                                        for (var e = 0; e < n.Birds.length; e++) n.Birds[e].node.active = !0;
                                        n.schedule(n.StartBirdAttack, .2), f.default.CameraShake(2)
                                    }))), this.CreateSkillTitle(), this.CreateScoreUI(), this.forceTimer = this.forceTime, [4, this.delay(5e3)];
                                case 3:
                                    return i.sent(), this.schedule(this.UpdateHit, .1), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.Totem.stop(), this.Totem.node.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1, this.FrameFire.stop(), this.FrameFire.node.active = !1;
                    for (var t = 0; t < this.Birds.length; t++) this.Birds[t].node.stopAllActions(), this.Birds[t].node.setPosition(this.Birds[t].oriPosition), this.Birds[t].node.scale = this.Birds[t].oriScale, this.Birds[t].state = c.stay, this.Birds[t].node.active = !1;
                    f.default.CameraShake(-2), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, this.delay(3e3)];
                                case 1:
                                    if (s.sent(), this.dieFishList = new Array, this.winList = new Array, t = e.fish_dead_dict, n = Object.keys(t))
                                        for (i = 0; i < n.length; i++) o = n[i], (a = u.default.Instance.GetFishByID(o)) && (a.AliveStatus = h.FishState.DEAD, a.CanCollision = !1, a.StopAction(), this.dieFishList.push(a), this.winList.push(t[o].coin));
                                    return this.totalWin = e.total_wins, this.HitCount = e.hit_count, this.isContinue = e.continues, this.isContinue ? (m.GameLogMainPlayer.pushWinning(this.fishID, e.bet, e.seat, e.total_wins, !0), this.KillFish()) : (this.isGaveAward = !0, this.ShowExplode()), [2]
                            }
                        })
                    })
                }, t.prototype.SetExplodeEndData = function() {
                    this.isContinue && (this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode())
                }, t.prototype.KillFish = function() {
                    var e = 0;
                    this.forceTimer = 0, e = this.KillFishesAndShowAward(), e += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < e ? e : this.fishAwardTime, this.currentWin = this.totalWin, this.SetScoreUICount(this.currentWin), this.forceTimer = this.forceTime
                }, t.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return p.default.SpawnEffect("Effect_Phoneix", this.isMainPlayer), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), f.default.CameraShake(-2), this.unschedule(this.StartBirdAttack), this.unschedule(this.UpdateHit), this.currentBombNumber < this.HitCount && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)), d.default.Instance.Play("Phoenix_count_02")), [4, this.delay(1800)];
                                case 2:
                                    return n.sent(), e = function() {
                                        t.currentBombNumber++, t.label_number.string = t.currentBombNumber.toString(), d.default.Instance.Play("Phoenix_count_01"), t.currentBombNumber >= t.HitCount && (d.default.Instance.Play("Phoenix_count_03"), t.CountObj.scale = 1.5, t.CountObj.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1))), t.unschedule(e))
                                    }, this.Explosion.node.active = !0, this.Explosion.play("Explosion"), d.default.Instance.Play("Phoenix_attackend_01"), d.default.Instance.SetNextSound(this.bgmID, "Phoenix_out_02", .7), d.default.Instance.Fade(d.default.Instance.GetBGMID(), 0, 1), [4, this.delay(800)];
                                case 3:
                                    return n.sent(), d.default.Instance.Play("drill_bomb_1"), this.KillFish(), this.fishAwardTime -= (new Date).getTime(), this.CameraShakeEffect(2, 1.5), this.CountObj.scale = 1.2, this.schedule(e, 0), this.FrameFire.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3 * this.fishAwardTime)];
                                case 4:
                                    return n.sent(), this.HideSkillScoreUI(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.StartBirdAttack = function() {
                    for (var e = 0; e < 5; e++) {
                        var t = Math.floor(Math.random() * this.Birds.length);
                        this.Birds[t].state == c.stay && this.BirdAttack(t)
                    }
                    var n = function() {
                            var e = p.default.SpawnEffect("Red_Blast");
                            if (!e) return "continue";
                            var t = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                n = 1.5 * Math.random() + 1,
                                o = Math.random() + 1;
                            e.parent = i.node.parent, e.zIndex = 0, e.active = !1, e.setPosition(t), e.scale = n, i.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                e.active = !0, e.getComponent(cc.Animation).play("Blast"), d.default.Instance.Play("Phoenix_attack_01", .3)
                            })))
                        },
                        i = this;
                    for (e = 0; e < 2; e++) n()
                }, t.prototype.BirdAttack = function(e) {
                    var t = this;
                    if (this.Birds[e].state != c.move) {
                        this.Birds[e].state = c.move;
                        var n = 50 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            i = .2 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            o = .9 * Math.random() + .1,
                            a = Math.random() + 1;
                        this.Birds[e].node.setPosition(this.Birds[e].node.getPosition().add(new cc.Vec2(0, n))), this.Birds[e].node.scale += i, this.Birds[e].node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                            var n = t.Birds[e].node.getComponent(cc.Animation),
                                i = a > 1.5 ? 2 : 1;
                            n && n.play("BirdFly0" + i.toString())
                        }), cc.moveTo(a, new cc.Vec2(750, this.Birds[e].node.getPosition().y)), cc.callFunc(function() {
                            t.Birds[e].node.setPosition(t.Birds[e].oriPosition), t.Birds[e].node.scale = t.Birds[e].oriScale, t.Birds[e].state = c.stay
                        })))
                    }
                }, t.prototype.UpdateHit = function() {
                    this.currentBombNumber >= this.HitCount || Math.random() >= .7 || (this.CountObj.active || (this.CountObj.active = !0), this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)), d.default.Instance.Play("Phoenix_count_01"))
                }, a([S([cc.Node])], t.prototype, "BirdsNode", void 0), a([S(cc.Animation)], t.prototype, "Totem", void 0), a([S(cc.Animation)], t.prototype, "Explosion", void 0), a([S(cc.Animation)], t.prototype, "FrameFire", void 0), a([S(cc.Node)], t.prototype, "CountObj", void 0), a([S(cc.Label)], t.prototype, "label_number", void 0), a([g], t)
            }(l.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillElectric: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "779c4t+/itMroOlbl7rKHIO", "SkillElectric");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Weapon/WeaponManager"),
            h = e("../Fish/BaseFish"),
            u = e("../../System/SkillSystem"),
            p = e("../Fish/FishManager"),
            d = e("../../GameClient"),
            f = e("../Common/AudioManager"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = cc._decorator,
            g = y.ccclass,
            S = y.property,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.electricGunIconNode = null, t.electricWeapon = null, t.shootReady = !1, t.isReceiveServerShoot = !1, t.isTouchIng = !1, t.isShootEnd = !1, t.shootPos = cc.Vec2.ZERO, t.fishID = null, t.limitShootTime = 15, t.shootTimer = 0, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Electric, this.limitTime = 80, this.forceTime = 25
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.isShootEnd || (this.isMainPlayer && this.shootTimer > 0 && (this.shootTimer -= t, this.shootTimer <= 10 && this.electricWeapon.setLimitTime(this.shootTimer), this.shootTimer <= 0 && (this.shootTimer = 0, this.MainPlayerShoot())), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.forceTimer = 0, this.isGaveAward = !0, this.isForceShowAward = !0, this.OtherPlayerShoot())))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.electricWeapon = null, this.shootReady = !1, this.isReceiveServerShoot = !1, this.isShootEnd = !1, this.isTouchIng = !1, this.shootPos = cc.Vec2.ZERO, this.playerBet = t.bet, this.fishID = t.crab
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return e = p.default.Instance.GetFishByID(this.fishID.toString()), f.default.Instance.Play("drill_hit_2"), t = 700 + 50 * Math.random(), n = 310 + 100 * Math.random(), i = new cc.Vec2(t, n), this.electricWeapon = l.default.Instance.GetSkillWeapon(this.playerSeat, l.WeaponType.Electric), this.shootPos = this.electricWeapon.shootPos, null != e && (e.AliveStatus = h.FishState.DEAD, e.CanCollision = !1, e.StopAction(), e.PlayDieAnim(), i = e.node.getPosition(), e.node.runAction(cc.rotateBy(3, 360))), this.node.setPosition(i), this.node.scale = 1.5, null != this.electricGunIconNode && (this.electricGunIconNode.angle = this.playerSeat > 1 ? 180 : 0, o = m.default.isReverse ? -100 : 100, this.electricGunIconNode.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, o)).easing(cc.easeCubicActionOut()), cc.moveTo(.5, cc.Vec2.ZERO)))), [4, this.delay(1e3)];
                                case 1:
                                    return s.sent(), null != e && e.RemoveSelf(), a = l.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(1.2, a).easing(cc.easeSineOut()), cc.scaleTo(1.2, 1, 1)), cc.scaleTo(.5, 0, 0).easing(cc.easeCubicActionOut()))), f.default.Instance.Play("drill_addgun"), [4, this.delay(1700)];
                                case 2:
                                    return s.sent(), this.CreateSkillTitle(), this.electricWeapon.ChangeGunAnim(), this.OnChangeGunEnd(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.node.scale = 0, l.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.CanelRegisterTouchEvent(), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e, t) {
                    switch (t) {
                        case u.SKILL_CMD_NAME.ELECTRIC_SHOOT:
                            this.SetOtherShootData(e.x, e.y);
                            break;
                        case u.SKILL_CMD_NAME.ELECTRIC_HIT:
                            var n = e.fish,
                                i = e.odds,
                                o = e.total_win,
                                a = e.total_odds,
                                s = new Array,
                                r = new Array;
                            if (null != n && null != i && this.playerBet > 0)
                                for (var c = 0; c < n.length && (s.push(p.default.Instance.GetFishByID(n[c])), !(c >= i.length)); c++) r.push(i[c] * this.playerBet);
                            this.SetExplodeData(s, r, i, o, a)
                    }
                }, t.prototype.SetOtherShootData = function(e, t) {
                    this.isReceiveServerShoot = !0, this.shootPos = new cc.Vec2(e, t), this.CheckShoot()
                }, t.prototype.SetExplodeData = function(e, t, n, i, o) {
                    if (this.dieFishList = e, this.winList = t, this.oddsList = n, this.totalWin = i, this.totalOdds = o, this.isGaveAward = !0, !this.isMainPlayer && !this.isReceiveServerShoot) return this.isReceiveServerShoot = !0, this.shootPos = cc.Vec2.ZERO, void this.CheckShoot();
                    this.ShowExplodeAndAward()
                }, t.prototype.OnChangeGunEnd = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.delay(1e3)];
                                case 1:
                                    return e.sent(), this.shootReady = !0, this.shootTimer = this.limitShootTime, this.forceTimer = this.forceTime, this.isMainPlayer ? (this.RegisterTouchEvent(), m.default.Instance.IsLockChangeWeapon = !0) : this.CheckShoot(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckShoot = function() {
                    this.isMainPlayer || this.shootReady && this.isReceiveServerShoot && this.OtherPlayerShoot()
                }, t.prototype.MainPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.electricWeapon && this.electricWeapon.isGunReady && this.isMainPlayer ? this.isShootEnd ? [2] : (this.isShootEnd = !0, this.CanelRegisterTouchEvent(), m.default.Instance.IsLockChangeWeapon = !1, f.default.Instance.Play("CannonShoot"), d.default.SkillSystem.SendSkillShoot(u.SKILL_CMD_NAME.ELECTRIC_SHOOT, this.playerSeat, this.shootPos.x, this.shootPos.y), this.electricWeapon.ShootFunction(this.shootPos), this.shootTimer = 999, this.electricWeapon.setLimitTime(null), this.electricWeapon.SwitchCollision(!0), [4, this.delay(1500)]) : [2];
                                case 1:
                                    return t.sent(), new Array, e = Array.from(this.electricWeapon.GetFishIDList()), d.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.ELECTRIC_HIT, e), this.electricWeapon.SwitchCollision(!1), [2]
                            }
                        })
                    })
                }, t.prototype.OtherPlayerShoot = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.isShootEnd ? [2] : this.electricWeapon && this.electricWeapon.isGunReady ? (this.isShootEnd = !0, f.default.Instance.Play("CannonShoot"), this.electricWeapon.ShootFunction(this.shootPos), this.isGaveAward ? [4, this.delay(1500)] : [3, 2]) : [2];
                                case 1:
                                    e.sent(), this.ShowExplodeAndAward(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.ShowExplodeAndAward = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return e = this.KillFishesAndShowAward(), [4, this.delay(1500)];
                                case 1:
                                    return t.sent(), e = e > 1.5 ? e - 1.5 : 0, [4, this.delay(1e3 * e)];
                                case 2:
                                    return t.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return t.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.OnTouchStart = function(e) {
                    this.isTouchIng = !0, this.shootPos = m.default.ConvMousePos(new cc.Vec2(e.getLocation().x, e.getLocation().y)), null != this.electricWeapon && this.electricWeapon.SetGunRotateUsePos(this.shootPos)
                }, t.prototype.OnTouchMove = function(e) {
                    this.isTouchIng && this.electricWeapon && (this.shootPos = m.default.ConvMousePos(new cc.Vec2(e.getLocation().x, e.getLocation().y)), this.electricWeapon.SetGunRotateUsePos(this.shootPos))
                }, t.prototype.OnTouchEnd = function(e) {
                    this.isTouchIng && (this.isTouchIng = !1, this.shootPos = m.default.ConvMousePos(new cc.Vec2(e.getLocation().x, e.getLocation().y)), this.MainPlayerShoot(), this.CameraShakeEffect(2.5, 2))
                }, a([S(cc.Node)], t.prototype, "electricGunIconNode", void 0), a([g], t)
            }(c.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillFlameStorm: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "3e0147sPwtCsIYNVPI8Jczi", "SkillFlameStorm");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Player/PlayerManager"),
            h = e("../Common/ResourceManager"),
            u = e("../Fish/FishManager"),
            p = e("../Weapon/WeaponManager"),
            d = e("../Common/AudioManager"),
            f = e("../Common/Utility"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = e("../../System/SkillSystem"),
            g = cc._decorator,
            S = g.ccclass,
            _ = g.property,
            v = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.titleEffect = null, t.explanationAnim = null, t.award_light = null, t.ScoreUIName = "ScoreUI_FlameStrom", t.SkillScoreUI = null, t.weapon = null, t.isShootState = !1, t.hintTimer = 0, t.currentMulti = 1, t.fishAwardTime = 0, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.FlameStorm, this.limitTime = 180
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.isShootState && (this.duration > 0 && (this.duration -= t), this.StartPlayHimtSound(t), this.duration < 0 && (this.duration = 0, this.isShootState = !1, this.weapon.isGunReady = !1, this.ShowAwardFunction(), d.default.Instance.Play("a010")), this.SkillScoreUI && this.SkillScoreUI.SetTimeText(this.duration))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), l.PlayerManager.isMainSeat(this.playerSeat) && l.PlayerManager.BulletSync(1), this.currentMulti = 1, this.node.angle = 0, this.titleEffect.node.active = !0, this.titleEffect.resume(), this.explanationAnim.node.active = !1, this.explanationAnim.node.angle = this.playerSeat < 2 ? 0 : 180, this.award_light.active = !1, this.playerBet = t[9], this.duration = Math.floor(t[15]), this.hintTimer = 0
                }, t.prototype.UseSkill = function() {
                    this.isShootState || this.OnUseSkill()
                }, t.prototype.OnUseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function() {
                            return this.weapon = p.default.Instance.GetSkillWeapon(this.playerSeat, p.WeaponType.FlameStorm), this.titleEffect.play("FlameStorm_TitleAnim"), d.default.Instance.Play("storm_title2"), e = p.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.spawn(cc.repeat(cc.rotateBy(1, 90), 100), cc.sequence(cc.delayTime(3), cc.callFunc(function() {
                                d.default.Instance.Play("storm_addgun")
                            }), cc.moveTo(1, e), cc.delayTime(.25), cc.callFunc(function() {
                                t.titleEffect.stop(), t.InitFlameStorm(), t.titleEffect.node.active = !1, t.node.stopAllActions()
                            })))), [2]
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.isShootState = !1, p.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.explanationAnim && this.explanationAnim.stop(), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e, t) {
                    switch (t) {
                        case y.SKILL_CMD_NAME.FLAMES_TORM_SHOOT:
                            var n = e[1],
                                i = cc.v2(e[4], e[5]);
                            this.onShoot(n, i);
                            break;
                        case y.SKILL_CMD_NAME.FLAMES_TORM_CHECK:
                            var o = e[9],
                                a = e[15];
                            this.onCheckSkill(o, a);
                            break;
                        case y.SKILL_CMD_NAME.FLAMES_TORM_HIT:
                            var s = e[2];
                            if (l.PlayerManager.isMainSeat(s)) {
                                var r = e[3];
                                l.PlayerManager.BulletSync(null, r)
                            }
                            var c = e[8],
                                h = e[13],
                                u = e[15];
                            this.onHit(c, h, u);
                            break;
                        case y.SKILL_CMD_NAME.FLAMES_TORM_END:
                            var p = e.seat;
                            l.PlayerManager.isMainSeat(p) && (r = e.credits, l.PlayerManager.BulletSync(null, r)), this.totalWin = e.total_win
                    }
                }, t.prototype.onCheckSkill = function(e, t) {
                    this.playerBet = e, this.duration = Math.floor(t), this.hintTimer = 0, this.isShootState || this.OnUseSkill()
                }, t.prototype.StartPlayHimtSound = function(e) {
                    this.hintTimer += e, this.hintTimer >= 1 && (this.hintTimer = 0, d.default.Instance.Play("a008"), 10 != Math.floor(this.duration) && 5 != Math.floor(this.duration) || d.default.Instance.Play("hurryup"))
                }, t.prototype.onShoot = function(e, t) {
                    u.default.Instance.currect_fps < 20 || p.default.Instance.bulletCount[this.playerSeat] >= p.default.Instance.bulletLimit || (p.default.Instance.CreateBullet(this.playerSeat, t), p.default.Instance.getWeapon(this.playerSeat).ShootFunction(t))
                }, t.prototype.onHit = function(e, t) {
                    var n = this,
                        i = Object.keys(e),
                        o = cc.Vec2.ZERO;
                    i.forEach(function(t) {
                        var i = e[t].coin,
                            a = u.default.Instance.GetFishByID(t.toString());
                        a && (o = a.node.getPosition(), u.default.Instance.KillFish(n.playerSeat, a, i, n.playerBet, !1, !0, function(e) {
                            var t = e + (new Date).getTime();
                            n.fishAwardTime = n.fishAwardTime < t ? t : n.fishAwardTime
                        }), n.currentWin += i, n.SetScoreUICount(n.currentWin))
                    }), Object.keys(t).forEach(function(e) {
                        n.create_item(e, o, t[e])
                    })
                }, t.prototype.create_item = function(e, t, n) {
                    var i = this,
                        o = this.playerSeat > 1 ? new cc.Vec2(-100, -50) : new cc.Vec2(60, 50),
                        a = p.default.WeaponPosition(this.playerSeat).add(o);
                    d.default.Instance.Play("storm_add");
                    for (var s = function() {
                            var n = 100 * Math.random() - 50,
                                o = 100 * Math.random() - 50,
                                s = (t.add(new cc.Vec2(n, o)), "");
                            if ("13001" == e ? s = "FlameStorm_TimeItem" : "13002" == e && (s = "FlameStorm_MultiItem"), s) {
                                var c = h.default.SpawnEffect(s, r.isMainPlayer);
                                c.runAction(cc.sequence(cc.delayTime(.7), cc.moveTo(.5, a).easing(cc.easeSineOut()), cc.callFunc(function() {
                                    "13001" == e ? i.AddTime() : "13002" == e && i.AddMulti(), d.default.Instance.Play("add_get"), h.default.DespawnEffect(s, c)
                                })))
                            }
                        }, r = this, c = 0; c < n; c++) s()
                }, t.prototype.AddTime = function() {
                    this.isShootState && (this.duration++, this.SkillScoreUI && this.SkillScoreUI.SetTimeText(this.duration))
                }, t.prototype.AddMulti = function() {
                    this.currentMulti++, this.SkillScoreUI && this.SkillScoreUI.SetMultiText(this.currentMulti)
                }, t.prototype.ShowAwardFunction = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return e = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > e ? this.fishAwardTime - e : 0, [4, this.delay(1e3 * this.fishAwardTime)];
                                case 1:
                                    return t.sent(), this.award_light.active = !0, this.award_light.opacity = 255, 0 != this.totalWin ? [3, 3] : [4, this.delay(2e3)];
                                case 2:
                                    t.sent(), t.label = 3;
                                case 3:
                                    return this.SkillTitle ? [2] : (this.ShowSkillScore(), this.PlayAwardSound(), [4, this.delay(6e3)]);
                                case 4:
                                    return t.sent(), this.award_light.runAction(cc.fadeOut(.5)), [4, this.delay(500)];
                                case 5:
                                    return t.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.ShowSkillScore = function() {
                    var e = this,
                        t = h.default.SpawnEffect("GN", this.isMainPlayer);
                    t && (t.setScale(1), t.angle = m.default.isReverse ? 180 : 0, t.setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -100 : 100))));
                    var n = t.getComponentInChildren(cc.Label),
                        i = 0,
                        o = (this.totalWin - i) / 40;
                    t.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                        i += o, n.string = f.default.NumberformatBet(i, e.playerBet)
                    }), cc.delayTime(.05)), 40), cc.delayTime(4), cc.callFunc(function() {
                        e.HideSkillScoreUI()
                    }), cc.fadeOut(.5), cc.callFunc(function() {
                        t.opacity = 255, h.default.DespawnEffect("GN", t)
                    })))
                }, t.prototype.InitFlameStorm = function() {
                    return s(this, void 0, void 0, function() {
                        var e;
                        return r(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.node.angle = m.default.isReverse ? 180 : 0, this.explanationAnim && (this.explanationAnim.node.active = !0, this.explanationAnim.play("FlameStorm_ExplanationShowUp"), d.default.Instance.Play("storm_title")), this.weapon.ChangeGunAnim(), this.CreateScoreUI(), (e = h.default.SpawnEffect("FlameStorm_Description", this.isMainPlayer)).setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -80 : 80))), e.angle = this.node.angle, d.default.Instance.Play("ready"), [4, this.delay(2e3)];
                                case 1:
                                    return t.sent(), d.default.Instance.Play("go"), this.isShootState = !0, this.weapon.isGunReady = !0, [2]
                            }
                        })
                    })
                }, t.prototype.CreateScoreUI = function() {
                    e.prototype.CreateScoreUI.call(this), this.SkillScoreUI && (this.SkillScoreUI.SetScore(this.currentWin), this.SkillScoreUI.SetMultiText(this.currentMulti), this.SkillScoreUI.SetTimeText(this.duration))
                }, a([_(cc.Animation)], t.prototype, "titleEffect", void 0), a([_(cc.Animation)], t.prototype, "explanationAnim", void 0), a([_(cc.Node)], t.prototype, "award_light", void 0), a([S], t)
            }(c.default);
        n.default = v, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillFlash: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ceb87jqcthK9o7Dc13FFpOD", "SkillFlash");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Fish/FishManager"),
            h = e("../Fish/BaseFish"),
            u = e("../Weapon/WeaponManager"),
            p = e("../Common/AudioManager"),
            d = e("../../../../../FishCommon/Script/CanvasHandler"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.CountObj = null, t.CountLabel = null, t.BlastAnim = null, t.flashFish = null, t.ShockFishIDList = null, t.ShockFishList = null, t.NowNode = null, t.NowBallSize = null, t.ShockCount = null, t.waitNextFishTime = null, t.IsContinue = null, t.IsWaiting = null, t.WAIT_NEXT_MAX_TIME = null, t.UpDateFunc = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Flash, this.limitTime = 100
                }, t.prototype.InitProperties = function(t) {
                    e.prototype.InitProperties.call(this), this.ShockFishIDList = [], this.ShockFishList = [], this.UpDateFunc = [], this.NowNode = this.node, this.IsContinue = !0, this.IsWaiting = !1, this.WAIT_NEXT_MAX_TIME = 5, this.waitNextFishTime = 0, this.ShockCount = 0, this.NowBallSize = 0, this.CountLabel.string = "0", this.CountObj.active = !1, this.CountObj.setPosition(cc.Vec2.ZERO), this.BlastAnim.node.active = !1;
                    var n = t.id;
                    this.playerBet = t.bet;
                    var i = t.type;
                    this.totalWin = l.default.Instance.fish_info[i].odds * this.playerBet, this.flashFish = l.default.Instance.GetFishByID(n.toString()), null != this.flashFish ? (this.dieFishList.push(this.flashFish), this.winList.push(this.flashFish.GetFishScore(this.playerBet)), this.flashFish.CanCollision = !1, this.flashFish.AliveStatus = h.FishState.DEAD, this.flashFish.StopAction(), l.default.Instance.RemoveFishByID(n.toString()), this.NowNode.setPosition(u.default.WeaponPosition(this.playerSeat))) : this.UnUseSkill()
                }, t.prototype.UseSkill = function() {
                    this.schedule(this.WaitingNextFish, 1), this.flashFish && this.flashFish.flashAnim && this.flashFish.flashAnim.node && (this.flashFish.flashAnim.node.active = !1), this.CreateSkillTitle(), this.ShockFish(this.flashFish, this.NowNode, !0)
                }, t.prototype.UnUseSkill = function() {
                    null != this.flashFish && (this.flashFish.RemoveSelf(), this.flashFish = null), this.flashFish = null, this.ShockFishIDList = null, this.ShockFishList = null, this.NowNode = null, this.NowBallSize = null, this.ShockCount = null, this.waitNextFishTime = null, this.IsContinue = null, this.IsWaiting = null, this.WAIT_NEXT_MAX_TIME = null, this.UpDateFunc = null, this.BlastAnim && this.BlastAnim.stop(), this.BlastAnim.node.active = !1, e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    this.totalWin = e.total_win, this.IsContinue = e.continue;
                    var t = e.fish_dead_dict,
                        n = Object.keys(t);
                    this.IsContinue || (this.isGaveAward = !0);
                    for (var i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = l.default.Instance.GetFishByID(o);
                        l.default.Instance.RemoveFishByID(o), a || (a = this.CreateFakeFish(o)) || this.ShowAward(), a.AliveStatus = h.FishState.DEAD, a.CanCollision = !1, a.StopAction(), a.node.stopAllActions(), a.node.opacity = 255, this.dieFishList.push(a), this.winList.push(t[o].coin), this.ShockFishList.push(a), this.ShockFishIDList.push(o)
                    }
                }, t.prototype.ShockFish = function(e, t, n) {
                    void 0 === n && (n = !1), this.IsWaiting = !1, this.ShockCount++, this.IsContinue && (this.waitNextFishTime = 0), this.CreateLingtningLineEffect(t, e.node, n)
                }, t.prototype.CheckNextShockFish = function(e) {
                    if (this.NowNode = e, this.ShockFishList.length > 0) {
                        var t = this.ShockFishList.shift(),
                            n = this.ShockFishIDList.shift();
                        t || (t = this.CreateFakeFish(n)), this.ShockFish(t, e)
                    } else this.IsContinue ? this.IsWaiting = !0 : this.ShowAward()
                }, t.prototype.ShowAward = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.ShockFishList.length > 0 ? [2] : (this.unschedule(this.WaitingNextFish), [4, this.delay(200)]);
                                case 1:
                                    return n.sent(), p.default.Instance.Play("24_flashend_main"), [4, this.delay(600)];
                                case 2:
                                    for (n.sent(), e = 0; e < this.UpDateFunc.length; e++) this.unschedule(this.UpDateFunc[e]);
                                    return [4, this.delay(200)];
                                case 3:
                                    for (n.sent(), this.BlastAnim.node.setPosition(this.NowNode.getPosition().sub(this.node.getPosition())), this.BlastAnim.node.active = !0, this.BlastAnim.play("Blast"), e = 0; e < this.dieFishList.length; e++) this.dieFishList[e].StopAction(), this.dieFishList[e].PlayDieAnim();
                                    return this.RemoveSkillEffect(), this.CountObj.parent = this.node, this.CountLabel.string = "0", this.CountObj.setPosition(cc.Vec2.ZERO), this.CountObj.active = !1, t = this.KillFishesAndShowAward(), [4, this.delay(1e3 * t)];
                                case 4:
                                    return n.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.CreateLingtningLineEffect = function(e, t, n) {
                    var i = this;
                    void 0 === n && (n = !1);
                    var o = this.NowBallSize,
                        a = t.getPosition().sub(e.getPosition()),
                        s = 57.29578 * Math.atan2(a.y, a.x),
                        r = (Math.sqrt(a.x * a.x + a.y * a.y) - 125 * o) / 534,
                        c = 0,
                        l = .5,
                        f = null,
                        m = !1,
                        y = t.getChildByName("Shape"),
                        g = null == y ? .5 : (y.width > y.height ? y.width : y.height) / 280;
                    r <= 0 && (r = 0), this.AddSkillEffect("Flash_LightnIngLine", e.getPosition(), -s - 90, function(S) {
                        p.default.Instance.Play("22_flashline_main2");
                        var _ = null,
                            v = null,
                            b = null,
                            P = [],
                            I = null;
                        null != f && i.unschedule(f), S.stopAllActions(), S.opacity = 255, (_ = S.getChildByName("LightningLineImg")).setPosition(0, -125 * o), i.AddSkillEffect("Flash_LightnIngHead", e.getPosition(), S.angle, function(e) {
                            v = e, b = e.getChildByName("head"), P = v.getComponentsInChildren(cc.Sprite), b.getComponent(cc.Sprite).enabled = !0;
                            for (var t = 0; t < P.length; t++) P[t].enabled = !0;
                            i.CountObj.parent = b, i.CountObj.setPosition(0, 50), i.CountObj.angle = -e.angle + (d.default.isReverse ? 180 : 0), i.CountObj.active = !0, i.CountObj.getComponent(cc.Sprite).enabled = !0
                        }), _.setScale(l, c), v.angle = S.angle, b.setPosition(0, -1 * c * 534 - 125 * o);
                        var C = 0;
                        f = function(f) {
                            if (C += f, a = new cc.Vec2(t.x - e.x, t.y - e.y), s = 57.29578 * Math.atan2(a.y, a.x), (r = (Math.sqrt(a.x * a.x + a.y * a.y) - 125 * g - 125 * o) / 534) <= 0 && (r = 0), S.setPosition(e.getPosition()), S.angle = s + 90, c >= r) {
                                if (c = r, !m) {
                                    m = !0;
                                    for (var w = 0; w < P.length; w++) P[w].enabled = !1;
                                    S.runAction(cc.fadeOut(5)), i.AddSkillEffect("Flash_LightnIngBall", t.getPosition(), 0, function(e) {
                                        p.default.Instance.Play("22_flashline_main3"), I = e;
                                        var t = e.getChildByName("LightningBallImg");
                                        g = null == y ? .5 : (y.width > y.height ? y.width : y.height) / t.height, i.NowBallSize = g, t.stopAllActions(), t.color = cc.color(130, 255, 70, 255), t.scale = 1, t.runAction(cc.spawn(cc.scaleTo(.5, g), cc.tintTo(.5, 70, 158, 255)))
                                    }), i.CountLabel.string = i.ShockCount.toString();
                                    var M = cc.Vec2.ZERO;
                                    M = i.playerSeat > 1 ? new cc.Vec2(0, -200) : new cc.Vec2(0, 200);
                                    var E = t.getComponent(h.default);
                                    null != E && i.PullFishFunction(E, u.default.WeaponPosition(i.playerSeat).add(M)), i.scheduleOnce(function() {
                                        i.CheckNextShockFish(t)
                                    }, 1.2 - C)
                                }
                            } else n || m ? c = r : c += r / 15;
                            m && (l -= .1 / 30), l <= 0 && (l = 0), _.setScale(l, c), v.setPosition(e.getPosition()), v.angle = S.angle, b.setPosition(0, -1 * c * 534 - 125 * o), I && I.setPosition(t.getPosition()), i.CountObj.angle = -v.angle + (d.default.isReverse ? 180 : 0)
                        }, i.UpDateFunc.push(f), i.schedule(f, 0)
                    })
                }, t.prototype.PullFishFunction = function(e, t) {
                    var n = t.sub(e.node.getPosition());
                    new cc.Vec2(n.x, n.y), n.normalizeSelf();
                    var i = 50 + 100 * Math.random();
                    t.addSelf(n.mul(i)), e.node.runAction(cc.rotateBy(5, 360).repeatForever()), e.node.runAction(cc.sequence(cc.delayTime(.5), cc.moveTo(4, t).easing(cc.easeQuadraticActionOut())))
                }, t.prototype.CreateFakeFish = function(e) {
                    var t = Math.random(),
                        n = 0,
                        i = 0;
                    return t < .25 ? (n = 590 + 50 * Math.random(), i = 340 + 50 * Math.random()) : t < .5 ? (n = 50 * Math.random() - 590, i = 50 * Math.random() - 340) : t < .75 ? (n = 590 + 50 * Math.random(), i = 50 * Math.random() - 340) : (n = 50 * Math.random() - 590, i = 340 + 50 * Math.random()), l.default.Instance.CreateFakeFish(e, 1, new cc.Vec2(n, i))
                }, t.prototype.WaitingNextFish = function() {
                    this.IsWaiting && (this.CheckNextShockFish(this.NowNode), this.waitNextFishTime++, this.waitNextFishTime >= this.WAIT_NEXT_MAX_TIME && (this.waitNextFishTime = 0, this.ShowAward()))
                }, a([y(cc.Node)], t.prototype, "CountObj", void 0), a([y(cc.Label)], t.prototype, "CountLabel", void 0), a([y(cc.Animation)], t.prototype, "BlastAnim", void 0), a([m], t)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillHammer: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "18fe3FyTcpI4JaMslTTWh/q", "SkillHammer");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Fish/BaseFish"),
            h = e("../Fish/FishManager"),
            u = e("../Common/AudioManager"),
            p = e("../../../../../FishCommon/Script/CanvasHandler"),
            d = cc._decorator,
            f = d.ccclass,
            m = d.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hammer = null, t.hammer_effect = null, t.explode = null, t.particle = null, t.fishID = null, t.hammerStandbySound = -1, t
                }
                return o(t, e), t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.node.setPosition(cc.Vec2.ZERO), this.node.angle = p.default.isReverse ? 180 : 0, this.hammer.node.active = !1, this.hammer_effect.node.active = !1, this.fishID = t.id, this.playerBet = t.bet, this.particle.node.active = !1
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return e = h.default.Instance.GetFishByID(this.fishID.toString()), t = -1, e && (e.AliveStatus = l.FishState.DEAD, e.CanCollision = !1, e.StopAction(), e.node.runAction(cc.repeat(cc.rotateBy(1, 360), 2)), t = u.default.Instance.Play("smash_turn_01"), this.scheduleOnce(function() {
                                        e.RemoveSelf(), u.default.Instance.Stop(t)
                                    }, 1.5)), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), this.CreateSkillTitle(), this.createHammer(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.hammer.stop(), this.hammer_effect.stop(), this.explode.stop(), this.particle.node.active = !1, this.hammerStandbySound > 0 && u.default.Instance.Stop(this.hammerStandbySound), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    void 0 === e && (e = null), this.totalWin = e.total_win;
                    for (var t = e.fish_dead_dict, n = Object.keys(t), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = h.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(t[o].coin))
                    }
                }, t.prototype.createHammer = function() {
                    var e = this,
                        t = 0;
                    this.hammer.node.active = !0, this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, this.hammer_effect.node.getPosition()), cc.callFunc(function() {
                        e.hammer.play("hammer_reset"), e.hammerStandbySound = u.default.Instance.SetNextSound(u.default.Instance.Play("smash_standby_01"), "smash_standby_02", 1, !0)
                    })), cc.delayTime(.35), cc.callFunc(function() {
                        e.hammer.play("hammer_idle"), e.hammer_effect.node.active = !0, e.hammer_effect.play("thunder_effect_normal")
                    }), cc.delayTime(3.5), cc.callFunc(function() {
                        e.hammer.play("hammer_attack"), u.default.Instance.Stop(e.hammerStandbySound), u.default.Instance.SetNextSound(u.default.Instance.Play("smash_attack_01"), "smash_wave_01")
                    }), cc.delayTime(2.1), cc.callFunc(function() {
                        e.CameraShakeEffect(2, 4), e.explode.stop(), e.explode.play("background_explode"), e.particle.resetSystem(), e.particle.node.active = !0, t = e.KillFishesAndShowAward(), u.default.Instance.Play("bomb_ex03")
                    }), cc.delayTime(2), cc.callFunc(function() {
                        e.hammer.node.active = !1, e.particle.stopSystem(), e.CameraShakeEffect(4, 2), e.node.runAction(cc.sequence(cc.delayTime(t - 2 > 0 ? t - 2 : 0), cc.callFunc(function() {
                            e.ShowSkillScore(e.totalWin), e.PlayAwardSound()
                        }), cc.delayTime(4), cc.callFunc(function() {
                            e.UnUseSkill()
                        })))
                    })))
                }, a([m(cc.Animation)], t.prototype, "hammer", void 0), a([m(cc.Animation)], t.prototype, "hammer_effect", void 0), a([m(cc.Animation)], t.prototype, "explode", void 0), a([m(cc.ParticleSystem)], t.prototype, "particle", void 0), a([f], t)
            }(c.default);
        n.default = y, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingAngler: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b7138XYCq1FD7oiSPvTJ1DQ", "SkillKingAngler");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../GameClient"),
            h = e("../../System/SkillSystem"),
            u = e("../Common/AudioManager"),
            p = e("../Fish/FishManager"),
            d = e("./BaseSkill"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Vortex = null, t.Totem = null, t.Explosion = null, t.Bullets = [], t.CountObj = null, t.label_number = null, t.kingAnglerFish = null, t.isContinue = !0, t.currentBombNumber = 1, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t.fishAwardTime = 0, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = d.skillEnum.AwakenKingAnglerFish, this.limitTime = 120
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.playerBet = t.bet, this.isContinue = !0, this.currentBombNumber = 1, this.label_number.string = "1", this.forceTime = 7.5, this.node.setPosition(cc.Vec2.ZERO), this.fishID = t.bomb_fish_id
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.kingAnglerFish = p.default.Instance.GetFishByID(this.fishID.toString()), this.kingAnglerFish && this.kingAnglerFish.FishDie(this.playerSeat), [4, this.delay(3e3)];
                                case 1:
                                    return n.sent(), this.CreateSkillTitle(), this.CreateScoreUI(), this.Vortex.opacity = 255, this.Vortex.scale = .5, this.Vortex.active = !0, this.Vortex.runAction(cc.scaleTo(.5, 4.03)), this.Totem.opacity = 255, this.Totem.setPosition(new cc.Vec2(-820, 10)), this.Totem.active = !0, this.Totem.runAction(cc.moveTo(1, new cc.Vec2(0, 10))), u.default.Instance.Play("41_catch_bigfish"), e = c.default.isReverse ? -80 : 90, this.CountObj.setPosition(new cc.Vec2(-820, e)), this.CountObj.angle = c.default.isReverse ? 180 : 0, this.CountObj.opacity = 255, this.CountObj.active = !0, this.CountObj.runAction(cc.moveTo(1, new cc.Vec2(0, e))), [4, this.delay(500)];
                                case 2:
                                    return n.sent(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("BOSS_out01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), [4, this.delay(1e3)];
                                case 3:
                                    return n.sent(), this.isMainPlayer && (t = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.KING_ANGLER_BOMB, t)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.Vortex.active = !1, this.Totem.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1;
                    for (var t = 1; t < this.Bullets.length; t++) this.Bullets[t].stop(), this.Bullets[t].node.active = !1;
                    e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var t = e.fish;
                    this.oddsList = e.odds;
                    for (var n = 0; n < t.length; n++) this.dieFishList.push(p.default.Instance.GetFishByID(t[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.isContinue = e.continue, this.totalWin = e.total_win, this.isContinue || (this.isGaveAward = !0), this.ShowExplode()
                }, t.prototype.SetExplodeEndData = function() {
                    this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode()
                }, t.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a, s, c = this;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.forceTimer = 0, [4, this.delay(1e3)];
                                case 1:
                                    return r.sent(), this.Explosion.node.active = !0, this.Explosion.play("Explosion"), [4, this.delay(1166)];
                                case 2:
                                    for (r.sent(), this.Bullets[0].node.active = !0, this.Bullets[0].play("Shoot"), e = function(e) {
                                            t.scheduleOnce(function() {
                                                c.Bullets[e].node.active = !0, c.Bullets[e].play("Shoot")
                                            }, .7 * Math.random())
                                        }, t = this, a = 1; a < this.Bullets.length; a++) e(a);
                                    return [4, this.delay(1500)];
                                case 3:
                                    return r.sent(), n = Math.random() >= .5 ? "bomb_ex01" : "bomb_ex02", u.default.Instance.Play(n), this.CameraShakeEffect(2, 3), this.isContinue && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString()), this.CountObj.scale = 1.5, this.CountObj.runAction(cc.scaleTo(.5, 1)), i = 1e3 * this.KillFishesAndShowAward(), i += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < i ? i : this.fishAwardTime, this.currentWin = this.totalWin, this.SetScoreUICount(this.currentWin), this.isContinue ? [3, 6] : (u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("BOSS_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), o = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > o ? this.fishAwardTime - o : 0, [4, this.delay(this.fishAwardTime < 5e3 ? 5e3 : this.fishAwardTime)]);
                                case 4:
                                    return r.sent(), this.Vortex.runAction(cc.fadeOut(.5)), this.Totem.runAction(cc.fadeOut(.5)), this.CountObj.runAction(cc.fadeOut(.5)), this.HideSkillScoreUI(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return r.sent(), this.UnUseSkill(), [2];
                                case 6:
                                    return [4, this.delay(3e3)];
                                case 7:
                                    for (r.sent(), this.Explosion.node.active = !1, a = 1; a < this.Bullets.length; a++) this.Bullets[a].node.active = !1;
                                    return this.isMainPlayer && (s = p.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.KING_ANGLER_BOMB, s)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, a([y(cc.Node)], t.prototype, "Vortex", void 0), a([y(cc.Node)], t.prototype, "Totem", void 0), a([y(cc.Animation)], t.prototype, "Explosion", void 0), a([y(cc.Animation)], t.prototype, "Bullets", void 0), a([y(cc.Node)], t.prototype, "CountObj", void 0), a([y(cc.Label)], t.prototype, "label_number", void 0), a([m], t)
            }(d.default);
        n.default = g, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingCrab: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "db4edeBq8VCFJgmuRTSIICu", "SkillKingCrab");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = e("../Common/AudioManager"),
            u = e("../Common/ResourceManager"),
            p = e("../Fish/FishManager"),
            d = e("../Player/PlayerManager"),
            f = e("../Weapon/WeaponManager"),
            m = e("./BaseSkill"),
            y = cc._decorator,
            g = y.ccclass,
            S = y.property;
        (function(e) {
            e[e.None = 0] = "None", e[e.Explosion = 1] = "Explosion", e[e.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var _ = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.explosion_anim = null, t.burst_anim = null, t.number_anim = null, t.number_label = null, t.totem_node = null, t.crab01_Anim = null, t.crab02_Anim = null, t.multi_index = 0, t.id = "", t.kingCrab = null, t.swimTime = .8, t.delayTime = 1e3 * (t.swimTime + 1.07), t.multi_list = [], t.SkillState = c.None, t.isGetKillFish = !1, t.Timer = 0, t
            }
            return o(t, e), t.prototype.onLoad = function() {
                this.skillType = m.skillEnum.AwakenKingSpiderCrab, this.limitTime = 100
            }, t.prototype.update = function(e) {
                this.ChackExplodeData(e)
            }, t.prototype.InitProperties = function(t) {
                void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.multi_index = 0, this.totem_node.active = !1, this.explosion_anim.node.active = !1, this.burst_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.crab01_Anim.node.setPosition(new cc.Vec2(900, 0)), this.crab02_Anim.node.setPosition(new cc.Vec2(-900, 0)), this.crab01_Anim.node.active = !1, this.crab02_Anim.node.active = !1, this.id = "", this.playerBet = 0, this.Timer = 0, this.isGetKillFish = !1, this.SkillState = c.None, this.id = t.id, this.playerBet = t.bet, this.multi_list = t.multi
            }, t.prototype.UseSkill = function() {
                this.kingCrab = p.default.Instance.GetFishByID(this.id), this.kingCrab ? this.SkillProcess(this.kingCrab.node.getPosition(), this.playerSeat) : cc.warn("[InitInfo] Crab is Null!")
            }, t.prototype.UnUseSkill = function() {
                e.prototype.UnUseSkill.call(this), this.number_anim.node.parent = this.node, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.kingCrab = null, this.crab01_Anim.node.stopAllActions(), this.crab01_Anim.node.setPosition(new cc.Vec2(900, 0)), this.crab02_Anim.node.stopAllActions(), this.crab02_Anim.node.setPosition(new cc.Vec2(-900, 0)), this.explosion_anim.stop(), this.burst_anim.stop(), this.number_anim.stop(), this.crab01_Anim.stop(), this.crab02_Anim.stop()
            }, t.prototype.ReceiveSkillData = function(e) {
                if (this.id == e.id) {
                    this.totalWin = e.total_win;
                    for (var t = e.fish_dead_dict, n = Object.keys(t), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = p.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(t[o].coin))
                    }
                    this.isGetKillFish = !0
                } else cc.warn("[InitExplosion] ID isn't current!")
            }, t.prototype.SkillProcess = function(e, t) {
                var n, i = this;
                this.kingCrab && this.kingCrab.FishDie(t), this.node.setPosition(e), this.node.angle = l.default.isReverse ? 180 : 0, this.node.runAction(cc.sequence(cc.fadeOut(.1), cc.delayTime(2), cc.callFunc(function() {
                    (n = u.default.SpawnEffect("7")).setPosition(i.node.getPosition()), n.scale = 2
                }), cc.fadeIn(1), cc.callFunc(function() {
                    i.totem_node.active = !0, i.CreateSkillTitle()
                }), cc.moveTo(2, cc.v2(0, 0)), cc.delayTime(1), cc.callFunc(function() {
                    i.crab01_Anim.node.active = !0, i.crab02_Anim.node.active = !0, i.explosion_anim.node.active = !0, h.default.Instance.Fade(h.default.Instance.GetBGMID(), 1, 0), i.bgmID = h.default.Instance.Play("BOSS_out01", 1, !0), h.default.Instance.Fade(i.bgmID, 0, 1)
                }), cc.callFunc(function() {
                    h.default.Instance.Play("jump_01"), i.number_anim.node.active = !0, i.number_anim.node.runAction(cc.sequence(cc.callFunc(function() {
                        i.multi_index++, i.number_label.string = "x" + i.multi_list[i.multi_index]
                    }), cc.scaleTo(0, 2), cc.scaleTo(1, 1))), i.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2.5), cc.scaleTo(1, 1.3)))
                }), cc.delayTime(1), cc.callFunc(function() {
                    i.CrabAttackShow(t)
                })))
            }, t.prototype.CrabAttackShow = function() {
                return s(this, void 0, void 0, function() {
                    var e, t, n = this;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return e = cc.sequence(cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(310, 0)), cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(900, 0))), t = cc.sequence(cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-310, 0)), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-900, 0))), this.crab01_Anim.node.runAction(e), [4, this.delay(this.delayTime)];
                            case 1:
                                return i.sent(), this.crab02_Anim.node.runAction(t), [4, this.delay(this.delayTime)];
                            case 2:
                                return i.sent(), this.crab01_Anim.node.runAction(e), [4, this.delay(this.delayTime)];
                            case 3:
                                return i.sent(), this.crab02_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-310, 0)), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    n.TotemHurtShow(n.multi_list, 2)
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    n.crab02_Anim.play("Skill_Swim")
                                }))), [4, this.delay(940)];
                            case 4:
                                return i.sent(), this.crab01_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    n.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(1.07, cc.v2(310, 0)), cc.callFunc(function() {
                                    n.SkillState = c.Explosion
                                }))), [2]
                        }
                    })
                })
            }, t.prototype.ExplodeShow = function() {
                return s(this, void 0, void 0, function() {
                    var e, t = this;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                return e = 0, this.crab01_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    t.crab01_Anim.play("Skill_Attack01")
                                }), cc.delayTime(.7), cc.callFunc(function() {
                                    t.TotemHurtShow(t.multi_list, 1, !0), t.number_anim.play("Number"), t.totem_node.active = !1, e = t.KillFishesAndShowAward()
                                }), cc.delayTime(.37), cc.callFunc(function() {
                                    t.crab01_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(900, 0)))), this.crab02_Anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                    t.crab02_Anim.play("Skill_Attack01")
                                }), cc.delayTime(1.07), cc.callFunc(function() {
                                    t.crab02_Anim.play("Skill_Swim")
                                }), cc.moveTo(this.swimTime, cc.v2(-900, 0)))), e < 1 && (e = 1), [4, this.delay(1e3 * e)];
                            case 1:
                                return n.sent(), this.ShowScore(), [2]
                        }
                    })
                })
            }, t.prototype.ShowScore = function() {
                return s(this, void 0, void 0, function() {
                    var e, t, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return e = 0, e = l.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(this.totalWin / this.multi_list[this.multi_index]), [4, this.delay(2130)];
                            case 1:
                                return i.sent(), this.number_anim.node.parent = u.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = d.PlayerManager.MainSeat > 1 ? 180 : 0, t = d.PlayerManager.MainSeat > 1 ? -1 : 1, n = f.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, e)).scale(new cc.Vec2(t, t)), this.number_anim.stop(), this.number_anim.node.runAction(cc.moveTo(1.5, n)), [4, this.delay(1500)];
                            case 2:
                                return i.sent(), this.number_label.string = "", this.multi_list[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 4];
                            case 3:
                                return i.sent(), this.PlayAwardSound(), [3, 5];
                            case 4:
                                this.PlayAwardSound(), i.label = 5;
                            case 5:
                                return [4, this.delay(1e3)];
                            case 6:
                                return i.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, t.prototype.TotemHurtShow = function(e, t, n) {
                var i = this;
                if (void 0 === n && (n = !1), n) return this.burst_anim.node.active = !0, this.burst_anim.play("Burst"), h.default.Instance.Play("TD_Explode"), h.default.Instance.Stop(this.bgmID), this.bgmID = null, h.default.Instance.Play("BOSS_out02"), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 0, 1), void this.CameraShakeEffect(3, 2);
                this.explosion_anim.play("Explosion"), this.CameraShakeEffect(1, 3), this.number_anim.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    i.multi_index++, i.multi_index >= e.length && (i.multi_index = e.length - 1), i.number_label.string = "x" + e[i.multi_index]
                }), cc.scaleTo(0, 2), cc.scaleTo(.5, 1)), t)), this.totem_node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    if (!n) {
                        var e = i.multi_index > 9 ? 9 : i.multi_index;
                        h.default.Instance.Play("jump_0" + e.toString())
                    }
                }), cc.scaleTo(0, 2.5), cc.scaleTo(.5, 1.3)), t))
            }, t.prototype.ChackExplodeData = function(e) {
                if (this.SkillState != c.None)
                    if (this.Timer += e, this.isGetKillFish) {
                        switch (this.SkillState) {
                            case c.Explosion:
                                this.ExplodeShow();
                                break;
                            case c.ShowScore:
                                this.ShowScore()
                        }
                        this.SkillState = c.None
                    } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
            }, a([S(cc.Animation)], t.prototype, "explosion_anim", void 0), a([S(cc.Animation)], t.prototype, "burst_anim", void 0), a([S(cc.Animation)], t.prototype, "number_anim", void 0), a([S(cc.Label)], t.prototype, "number_label", void 0), a([S(cc.Node)], t.prototype, "totem_node", void 0), a([S(cc.Animation)], t.prototype, "crab01_Anim", void 0), a([S(cc.Animation)], t.prototype, "crab02_Anim", void 0), a([g], t)
        }(m.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillKingLacoste: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "dd267UUXC5DE7DkA8GaZOYG", "SkillKingLacoste");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../../System/SkillSystem"),
            h = e("../Game/GameManager"),
            u = e("../Fish/FishManager"),
            p = e("../Common/ResourceManager"),
            d = e("../../GameClient"),
            f = e("../Common/AudioManager"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = cc._decorator,
            g = y.ccclass,
            S = y.property,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.Totem = null, t.LacosteBite = null, t.LacosteSpine = new Array(2), t.Explosion = null, t.CountObj = null, t.label_number = null, t.KingLacoste = null, t.HidePool = null, t.isContinue = !0, t.currentBombNumber = 1, t.LacosteAnimNum = 1, t.fishAwardTime = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.AwakenKingLacoste, this.limitTime = 120
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.node.scale = 0, e.prototype.UseSkill.call(this), this.isContinue = !0, this.currentBombNumber = 1, this.label_number.string = "1", this.forceTime = 7.5, this.LacosteAnimNum = 1, this.HidePool = h.default.Instance.BackgroundNow.node.getChildByName("LacosteHide"), this.playerBet = t.bet, this.fishID = t.bomb_fish_id
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.KingLacoste = u.default.Instance.GetFishByID(this.fishID.toString()), this.KingLacoste && this.KingLacoste.FishDie(this.playerSeat), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(this.KingLacoste.node.getPosition()), (e = p.default.SpawnEffect("7")).scale = 2, e.setPosition(this.node.getPosition()), this.Totem.opacity = 255, this.Totem.active = !0, t = m.default.isReverse ? -75 : 75, this.CountObj.setPosition(new cc.Vec2(0, t)), this.CountObj.angle = m.default.isReverse ? 180 : 0, this.CountObj.opacity = 255, this.CountObj.active = !0, [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO))), [4, this.delay(500)];
                                case 3:
                                    return i.sent(), f.default.Instance.Fade(f.default.Instance.GetBGMID(), 1, 0), this.bgmID = f.default.Instance.Play("BOSS_out01", 1, !0), f.default.Instance.Fade(this.bgmID, 0, 1), this.CreateSkillTitle(), this.CreateScoreUI(), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), this.isMainPlayer && (n = u.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), d.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.KING_LACOSTE_BOMB, n)), this.forceTimer = this.forceTime, this.LacosteBite.node.active = !0, [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.Totem.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1;
                    for (var t = 0; t < this.LacosteSpine.length; t++) this.LacosteSpine[t].node && (this.LacosteSpine[t].node.parent = this.LacosteBite.node);
                    this.LacosteBite.stop(), this.LacosteBite.node && (this.LacosteBite.node.active = !1), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var t = e.fish;
                    this.oddsList = e.odds;
                    for (var n = 0; n < t.length; n++) this.dieFishList.push(u.default.Instance.GetFishByID(t[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.totalWin = e.total_win, this.isContinue = e.continue, this.ShowExplode(), this.isContinue || (this.isGaveAward = !0)
                }, t.prototype.SetExplodeEndData = function() {
                    this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode(), this.isGaveAward = !0
                }, t.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a, s = this;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.isGaveAward ? [2] : (this.forceTimer = 0, e = this.LacosteAnimNum > 0 ? "Left" : "Right", t = this.LacosteAnimNum > 0 ? 0 : 1, [4, this.delay(1e3)]);
                                case 1:
                                    return r.sent(), this.LacosteBite.play("Bite_" + e), this.LacosteSpine[t].setCompleteListener(function() {
                                        s.LacosteSpine[t].setCompleteListener(null), s.LacosteSpine[t].setAnimation(0, "SWIM", !0)
                                    }), this.LacosteSpine[t].setAnimation(0, "BITE_SKILL", !1), [4, this.delay(1e3)];
                                case 2:
                                    return r.sent(), this.Explosion.node.active = !0, this.Explosion.play("Burst"), n = Math.random() >= .5 ? "bomb_ex01" : "bomb_ex02", f.default.Instance.Play(n), this.CameraShakeEffect(3, 2), this.isContinue && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString()), this.CountObj.scale = 1.5, this.CountObj.runAction(cc.scaleTo(.5, 1)), this.HidePool && (this.LacosteSpine[t].node.parent = this.HidePool), i = 1e3 * this.KillFishesAndShowAward(), i += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < i ? i : this.fishAwardTime, this.currentWin = this.totalWin, this.SetScoreUICount(this.currentWin), this.isContinue ? [3, 5] : (f.default.Instance.Stop(this.bgmID), this.bgmID = null, f.default.Instance.Play("BOSS_out02"), f.default.Instance.Fade(f.default.Instance.GetBGMID(), 0, 1), o = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > o ? this.fishAwardTime - o : 0, [4, this.delay(this.fishAwardTime < 5e3 ? 5e3 : this.fishAwardTime)]);
                                case 3:
                                    return r.sent(), this.Totem.runAction(cc.fadeOut(.5)), this.CountObj.runAction(cc.fadeOut(.5)), this.HideSkillScoreUI(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 4:
                                    return r.sent(), this.UnUseSkill(), [2];
                                case 5:
                                    return [4, this.delay(2e3)];
                                case 6:
                                    return r.sent(), this.Explosion.node.active = !1, this.LacosteSpine[t].node.parent = this.LacosteBite.node, this.isMainPlayer && (a = u.default.Instance.GetRangeAttackableID(this.node.getPosition(), 1e3, 100), d.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.KING_LACOSTE_BOMB, a)), this.forceTimer = this.forceTime, this.LacosteAnimNum *= -1, [2]
                            }
                        })
                    })
                }, a([S(cc.Node)], t.prototype, "Totem", void 0), a([S(cc.Animation)], t.prototype, "LacosteBite", void 0), a([S([sp.Skeleton])], t.prototype, "LacosteSpine", void 0), a([S(cc.Animation)], t.prototype, "Explosion", void 0), a([S(cc.Node)], t.prototype, "CountObj", void 0), a([S(cc.Label)], t.prototype, "label_number", void 0), a([g], t)
            }(c.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Game/GameManager": "GameManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillLock: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "e068dHpAFRIn4f49TTd2X0t", "SkillLock");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Player/PlayerManager"),
            h = e("../Fish/FishManager"),
            u = e("../Weapon/WeaponManager"),
            p = e("../../GameClient"),
            d = e("../Common/AudioManager"),
            f = e("../Common/EnumFilter"),
            m = e("../Common/ResourceManager"),
            y = e("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            g = e("../../../../../LobbyCommon/Net/LobbyClient"),
            S = e("../../../../../FishCommon/Script/CanvasHandler"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.lightningNode = null, t.lightningEndAnim = null, t.lightningLineAnim = null, t.player = null, t.targetFish = null, t.targetType = -1, t.lastType = null, t.touchFishID = "", t.lockGunWeapon = null, t.attackRate = .1666667, t.attackTimer = 0, t.maxWaitShootTime = 1, t.maxWaitShootTimer = 0, t.sound = -1, t.isTouchHold = !1, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Lock, this.limitTime = 0
                }, t.prototype.onEnable = function() {
                    this.isMainPlayer && this.lastType && (this.targetType = this.lastType, this.lastType = null, this.RegisterTouchEvent())
                }, t.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType), this.setLocking(null), this.isTouchHold = !1
                }, t.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), this.dieFishList = new Array, this.winList = new Array, this.oddsList = new Array, this.currentWin = 0, this.totalWin = 0, this.totalOdds = 0, this.limitTimer = this.limitTime, this.forceTimer = 0, this.isGaveAward = !1, this.isUnuse = !1, this.isForceShowAward = !1, this.attackTimer = 0, this.maxWaitShootTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", e && e.targetType && (this.targetType = e.targetType), this.player = l.PlayerManager.getPlayer(this.playerSeat)
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function() {
                            return this.switchLightningObj(!1), this.isMainPlayer && (this.RegisterTouchEvent(), h.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this)), e = new cc.Vec2(0, 0), SS.Common.GameEnvironment.CurrentGameNow == f.FishGame.MTY ? e = this.playerSeat > 1 ? new cc.Vec2(0, -105) : new cc.Vec2(0, 105) : SS.Common.GameEnvironment.CurrentGameNow !== f.FishGame.MF && (e = this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80)), t = u.default.WeaponPosition(this.playerSeat).addSelf(e), this.node.setPosition(t), d.default.Instance.Play("lacer_fuel"), [2]
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.lightningEndAnim.stop(), this.lightningLineAnim.stop(), this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.CanelRegisterTouchEvent(), h.default.Instance.Event_FishEnter = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), p.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), m.default.DespawnSkill(this.skillType, this.node)
                }, t.prototype.setWeapon = function(e, t) {
                    this.lockGunWeapon = e, this.attackRate = 1 / t["1secShoot"]
                }, t.prototype.onHitFish = function(e, t, n) {
                    if (!this.isMainPlayer) {
                        l.PlayerManager.Instance.ModifyPlayerEntries(t, -e);
                        var i = h.default.Instance.GetFishByID(n.toString());
                        i && (this.targetFish = i, this.targetType = i.Type, this.maxWaitShootTimer = this.maxWaitShootTime, this.setLocking(i))
                    }
                }, t.prototype.update = function(t) {
                    this.isUnuse || (e.prototype.update.call(this, t), this.isMainPlayer ? this.MainPlayerUpdate(t) : (this.OtherPlayerUpdate(t), this.maxWaitShootTimer > 0 && (this.maxWaitShootTimer -= t, this.maxWaitShootTimer <= 0 && (this.maxWaitShootTimer = 0, this.setLocking(null)))))
                }, t.prototype.setLocking = function(e) {
                    e ? (this.isMainPlayer && (this.targetFish && (this.targetFish.Event_FishLeave = null), e.ID != this.touchFishID && (this.touchFishID = "")), this.targetFish = e, this.targetType = e.Type, this.isMainPlayer && (this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this)), this.lockGunWeapon && this.lockGunWeapon.SetFishIcon(e.Type)) : (this.switchLightningObj(!1), this.targetFish && this.isMainPlayer && (this.targetFish.Event_FishLeave = null), this.targetFish = null, this.targetType = -1, this.touchFishID = "", this.lockGunWeapon && this.lockGunWeapon.SetFishIcon(this.targetType))
                }, t.prototype.switchLightningObj = function(e) {
                    this.lightningNode && (this.lightningNode.active = e), this.lockGunWeapon && this.lockGunWeapon.SetFishIconAnim(e), this.sound && -1 != this.sound && d.default.Instance.Stop(this.sound), e ? (this.sound = d.default.Instance.Play("lacer_shoot", 1, !0), this.lightningEndAnim.play(), this.lightningLineAnim.play()) : (this.lightningEndAnim.stop(), this.lightningLineAnim.stop())
                }, Object.defineProperty(t.prototype, "checkLightning", {
                    get: function() {
                        return -1 != this.targetType && !!this.targetFish && !!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.MainPlayerUpdate = function(e) {
                    if (!u.default.Instance.getWeapon(this.playerSeat).isGunReady || 0 == u.default.Instance.bulletLimit) return this.setLocking(null), void(this.isTouchHold = !1);
                    if (this.checkLightning) {
                        if (this.player.entries < this.player.bet_value) {
                            var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, t, p.default.Instance.title, "Insufficient balance", null), this.setLocking(null), u.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void p.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (l.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= l.PlayerManager.Instance.MaxBalance) return y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, "C29", p.default.Instance.title, "MaxBalance", null), this.setLocking(null), u.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                        if (!this.UpdateLightningPos()) return;
                        if (this.lightningNode.active) {
                            if (this.attackTimer > 0 && (this.attackTimer -= e), this.attackTimer <= 0) {
                                if (this.attackTimer = this.attackRate, p.default.FishUIMgr.IsPurchaseOpen()) return;
                                this.targetFish.OnHitFish(), l.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value), p.default.SkillSystem.SendLockHit(this.playerSeat, this.player.bet_value, "", Number(this.targetFish.ID)), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + g.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + g.GAME_STATUS.FIRST_SPIN), g.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, g.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || u.default.Instance.AutoShoot || this.setLocking(null)
                            }
                        } else this.attackTimer = this.attackRate, this.switchLightningObj(!0)
                    } else u.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, t.prototype.OtherPlayerUpdate = function() {
                    this.checkLightning ? (this.lightningNode.active || this.switchLightningObj(!0), this.UpdateLightningPos()) : this.lightningNode.active && this.setLocking(null)
                }, t.prototype.UpdateLightningPos = function() {
                    if (!this.targetFish) return !1;
                    var e = this.node.getPosition(),
                        t = this.targetFish.GetLockLinkPoint(e);
                    if (!t) return this.isMainPlayer && (u.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1;
                    t = S.default.ConvMousePos(t), SS.Common.GameEnvironment.CurrentGameNow == f.FishGame.MF && this.lockGunWeapon.SetGunRotateUsePos(t), this.node.angle = 57.29578 * -Math.atan2(Math.floor(t.x - e.x), Math.floor(t.y - e.y));
                    var n, i = t.sub(e);
                    switch (SS.Common.GameEnvironment.CurrentGameNow) {
                        case f.FishGame.MF:
                            n = Math.sqrt(i.x * i.x + i.y * i.y) / 350, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1 / n);
                            break;
                        case f.FishGame.ALD:
                            n = i.mag() / 550, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = -n, this.lightningLineAnim.node.scaleX = .5 + n / 2), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1.5 / n, this.lightningEndAnim.node.scaleX = 1.5 / (.5 + n / 2));
                            break;
                        case f.FishGame.ZB:
                            n = i.mag() / 300, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n, this.lightningLineAnim.node.scaleX = .5 + n / 2), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1.5 / n, this.lightningEndAnim.node.scaleX = 1.5 / (.5 + n / 2));
                            break;
                        case f.FishGame.LS:
                        case f.FishGame.KK:
                        default:
                            n = i.mag() / 300, this.lightningLineAnim && this.lightningLineAnim.node && (this.lightningLineAnim.node.scaleY = n), this.lightningEndAnim && this.lightningEndAnim.node && (this.lightningEndAnim.node.scaleY = 1 / n)
                    }
                    return !0
                }, t.prototype.OnTouchStart = function(e) {
                    if (u.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value) {
                            var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, t, p.default.Instance.title, "Insufficient balance", null), void p.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (l.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= l.PlayerManager.Instance.MaxBalance) y.PopupMsgMgr.Instance.ShowPopMsg(y.PopupPriority.Info, "C29", p.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = h.default.Instance.InFishRange(e.getLocation());
                            n && (null == f.default.playerLockSetting && f.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, t.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1
                }, t.prototype.OnFishEnter = function(e) {
                    if (u.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == f.default.LockSetting);
                        else {
                            if (e.Type == this.targetType) return;
                            for (var t = 0; t < f.default.LockSetting.length; t++) {
                                if (f.default.LockSetting[t] == this.targetType) return;
                                if (e.Type == f.default.LockSetting[t]) return void this.setLocking(e)
                            }
                        }
                }, t.prototype.OnTargetChange = function(e) {
                    e && (e.Event_FishLeave = null), u.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, t.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var e = this.targetFish ? this.targetFish.ID : "",
                            t = null;
                        h.default.Instance && (t = h.default.Instance.GetNextLockFish(this.targetType, e)), t ? this.setLocking(t) : this.switchLightningObj(!1)
                    }
                }, t.prototype.SetLockLvType = function(e) {
                    this.skillType = e
                }, a([b(cc.Node)], t.prototype, "lightningNode", void 0), a([b(cc.Animation)], t.prototype, "lightningEndAnim", void 0), a([b(cc.Animation)], t.prototype, "lightningLineAnim", void 0), a([v], t)
            }(c.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillMermaid: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "c8f51UN82tDd6KTpCltVHew", "SkillMermaid");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../../System/SkillSystem"),
            h = e("../Fish/BaseFish"),
            u = e("../Common/AudioManager"),
            p = e("../Fish/FishManager"),
            d = e("../Common/ResourceManager"),
            f = e("../../GameClient"),
            m = e("../../../../../FishCommon/Script/CanvasHandler"),
            y = cc._decorator,
            g = y.ccclass,
            S = y.property,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.heart_anim = null, t.radiance_anim = null, t.laber_count = null, t.explode_node = null, t.heart_particle = null, t.backe_particle = new Array, t.explode_count = null, t.spine_list = new Array, t.fishAwardTime = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.limitTime = 120, this.spine_list = this.explode_node.getComponentsInChildren(sp.Skeleton)
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.laber_count.string = "1", this.currentWin = 0, this.heart_anim.node.opacity = 255, this.heart_anim.node.active = !1, this.heart_anim.node.setPosition(cc.Vec2.ZERO), this.explode_count = 1, this.heart_anim.node.angle = this.playerSeat > 1 ? 180 : 0, this.fishID = t.bomb_fish_id, this.playerBet = t.bet
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return e = cc.Vec2.ZERO, (t = p.default.Instance.GetFishByID("" + this.fishID)) && (t.AliveStatus = h.FishState.DEAD, t.CanCollision = !1, e = this.node.parent.convertToNodeSpaceAR(t.getFishPos()), t.PlayDieAnim(), u.default.Instance.Play("effect_mer_die1")), u.default.Instance.Play("41_catch_bigfish"), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), (n = d.default.SpawnEffect("7")).scale = 2, n ? (n.setPosition(e), [4, this.delay(500)]) : [3, 3];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return this.heart_anim.node.setPosition(e), this.heart_anim.node.angle = m.default.isReverse ? 180 : 0, this.heart_anim.node.active = !0, this.heart_anim.play("heart_init"), this.heart_particle.resetSystem(), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), this.heart_anim.node.runAction(cc.moveTo(1, cc.Vec2.ZERO)), this.CreateSkillTitle(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("FD_out01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), this.CreateScoreUI(), [4, this.delay(2e3)];
                                case 5:
                                    return i.sent(), this.SendBombRange(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    var t = this;
                    this.heart_anim.stop(), this.radiance_anim.stop(), this.backe_particle.forEach(function(e) {
                        return s(t, void 0, void 0, function() {
                            return r(this, function() {
                                return e.stop(), [2]
                            })
                        })
                    }), this.explode_count = null, e.prototype.UnUseSkill.call(this)
                }, t.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var e = p.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        f.default.SkillSystem.SendRangeFish(l.SKILL_CMD_NAME.MERMAID_BOMB, e)
                    }
                }, t.prototype.ReceiveSkillData = function(e) {
                    return void 0 === e && (e = null), s(this, void 0, void 0, function() {
                        var t, n, i, o, a, s, c, l;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (this.dieFishList.length = 0, this.winList.length = 0, t = e.fish, o = 0; o < t.length; o++) n = p.default.Instance.GetFishByID("" + t[o]), this.dieFishList.push(n);
                                    for (i = e.odds, o = 0; o < i.length; o++) this.winList.push(this.playerBet * i[o]);
                                    return this.ShowExplode(), u.default.Instance.Play("effect_mer_attack1"), [4, this.delay(1800)];
                                case 1:
                                    return r.sent(), this.initBackeParticle(), a = e.continue, this.explode_count = e.bomb_times_cnt + (a ? 1 : 0), this.onAddExplodeCount(), [4, this.delay(500)];
                                case 2:
                                    return r.sent(), this.CameraShakeEffect(3, 1.5), s = 1e3 * this.KillFishesAndShowAward(), s += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < s ? s : this.fishAwardTime, u.default.Instance.Play("drill_bomb_1"), c = e.win, this.currentWin += c, [4, this.delay(2e3)];
                                case 3:
                                    return r.sent(), a ? (this.SendBombRange(), [3, 7]) : [3, 4];
                                case 4:
                                    return u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("FD_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), this.heart_particle.stopSystem(), this.explode_node.active = !1, this.heart_anim.play("heart_over"), l = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > l ? this.fishAwardTime - l : 0, this.fishAwardTime -= 1500, [4, this.delay(this.fishAwardTime > 0 ? this.fishAwardTime : 0)];
                                case 5:
                                    return r.sent(), this.HideSkillScoreUI(), this.ShowSkillScore(this.currentWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 6:
                                    r.sent(), this.totalWin = e.total_win, this.UnUseSkill(), r.label = 7;
                                case 7:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.ShowExplode = function() {
                    this.explode_node.active = !0, this.spine_list.forEach(function(e) {
                        e.setAnimation(0, "ATK", !1)
                    })
                }, t.prototype.onAddExplodeCount = function() {
                    this.laber_count.string = "" + this.explode_count, this.heart_anim.node.scale = 2, this.heart_anim.node.runAction(cc.scaleTo(1, 1)), this.radiance_anim.play("radiance"), this.SetScoreUICount(this.currentWin)
                }, t.prototype.initBackeParticle = function() {
                    var e = this;
                    this.backe_particle.forEach(function(t) {
                        return s(e, void 0, void 0, function() {
                            return r(this, function() {
                                return t.node.active = !0, t.play("ExplodeHeartInit"), [2]
                            })
                        })
                    })
                }, a([S(cc.Animation)], t.prototype, "heart_anim", void 0), a([S(cc.Animation)], t.prototype, "radiance_anim", void 0), a([S(cc.Label)], t.prototype, "laber_count", void 0), a([S(cc.Node)], t.prototype, "explode_node", void 0), a([S(cc.ParticleSystem)], t.prototype, "heart_particle", void 0), a([S([cc.Animation])], t.prototype, "backe_particle", void 0), a([g], t)
            }(c.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillMultiBomb: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "4f047B8OPxLjrH6Fs8r9rvV", "SkillMultiBomb");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Fish/BaseFish"),
            h = e("../../GameClient"),
            u = e("../../System/SkillSystem"),
            p = e("../Common/ResourceManager"),
            d = e("../Award/SkillTitle"),
            f = e("../Weapon/WeaponManager"),
            m = e("../Fish/FishManager"),
            y = e("../Common/AudioManager"),
            g = e("../../../../../FishCommon/Script/CanvasHandler"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bombRangeNode = null, t.bombRangeAnim = new Array, t.label_number = null, t.CrabParent = null, t.multiBombCrab = null, t.isContinue = !0, t.currentBombNumber = 0, t.army_name = "", t.army_id = 0, t.rangeSound = -1, t.fishAwardTime = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Bomb", t
                }
                return o(t, e), Object.defineProperty(t.prototype, "bombPosList", {
                    get: function() {
                        var e = .5 * g.default.WinSize.width,
                            t = .5 * g.default.WinSize.height;
                        return [cc.v2(.616 * e, .625 * -t), cc.v2(.625 * -e, .468 * -t), cc.v2(.616 * e, .625 * t), cc.v2(.625 * -e, .468 * -t)]
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.MultiBomb, this.limitTime = 120
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.isContinue = !0, this.currentBombNumber = 0, this.forceTime = 7.5, this.playerBet = t.bet, this.fishID = t.crab
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.multiBombCrab = m.default.Instance.GetFishByID(this.fishID.toString()), this.multiBombCrab || this.isMainPlayer && (this.multiBombCrab = m.default.Instance.CreateFakeFish(this.fishID.toString(), 34, new cc.Vec2(700, 360))), this.multiBombCrab ? (this.CreateSkillTitle(), this.label_number.node.parent.active = !0, this.label_number.node.angle = g.default.isReverse ? 180 : 0, this.label_number.string = (this.currentBombNumber + 1).toString(), this.CreateScoreUI(), e = this.multiBombCrab.node.getPosition(), this.label_number.node.parent.setPosition(e), this.multiBombCrab.AliveStatus = l.FishState.DEAD, this.multiBombCrab.CanCollision = !1, this.multiBombCrab.StopAction(), this.multiBombCrab.PlayReadyExplode(), this.multiBombCrab.SetAnimationTimeScale(1.2), this.multiBombCrab.node.parent = this.CrabParent, this.multiBombCrab.node.runAction(cc.rotateBy(1, 360).repeatForever()), this.multiBombCrab.node.runAction(cc.moveTo(.88, cc.Vec2.ZERO)), this.label_number.node.parent.runAction(cc.moveTo(.88, cc.Vec2.ZERO)), [4, this.delay(1e3)]) : [3, 3];
                                case 1:
                                    return n.sent(), this.SwitchBombRange(!0), [4, this.delay(2900)];
                                case 2:
                                    n.sent(), this.isMainPlayer && (t = m.default.Instance.GetRangeAttackableID(this.multiBombCrab.node.getPosition(), 1e3, 100), h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.MULTI_BOMB_BOMB, t)), this.forceTimer = this.forceTime, n.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.multiBombCrab && (this.multiBombCrab.RemoveSelf(), this.multiBombCrab = null), this.SwitchBombRange(!1), this.bombRangeAnim[0].stop(), this.bombRangeAnim[1].stop(), e.prototype.UnUseSkill.call(this)
                }, t.prototype.CreateSkillTitle = function() {
                    this.SkillTitle && this.HideSkillTitle(!1);
                    var e = p.default.SpawnTitle(this.skillType, this.isMainPlayer);
                    if (e) {
                        e.angle = g.default.isReverse ? 180 : 0, e.opacity = 255, this.SkillTitle = e.getComponent(d.default), this.SkillTitle.SetBet(this.playerBet, this.isMainPlayer);
                        var t = this.multiBombCrab.node.getPosition();
                        e.setPosition(t);
                        var n = this.playerSeat > 1 ? new cc.Vec2(0, -180) : new cc.Vec2(0, 180),
                            i = f.default.WeaponPosition(this.playerSeat).add(n);
                        e.runAction(cc.sequence(cc.delayTime(1), cc.moveTo(.75, i)))
                    }
                }, t.prototype.ReceiveSkillData = function(e) {
                    this.dieFishList.length = 0, this.winList.length = 0;
                    var t = e.fish;
                    this.oddsList = e.odds;
                    for (var n = 0; n < t.length; n++) this.dieFishList.push(m.default.Instance.GetFishByID(t[n])), this.winList.push(this.oddsList[n] * this.playerBet);
                    this.isContinue = e.continue, this.isContinue || (this.isGaveAward = !0), this.totalWin = e.total_win;
                    var i = e.army_info;
                    i && (this.army_name = i.army_name, this.army_id = i.army_id), this.ShowExplode()
                }, t.prototype.SetExplodeEndData = function() {
                    this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode()
                }, t.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o;
                        return r(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    return this.forceTimer = 0, this.SwitchBombRange(!1), e = this.currentBombNumber % this.bombPosList.length, this.army_name && this.army_id && this.isContinue && m.default.Instance.GenerateArmy(this.army_name, this.army_id, 0, 0, this.bombPosList[e]), [4, this.delay(300)];
                                case 1:
                                    return a.sent(), this.CreateExplodeEffect(), this.isContinue ? (this.currentBombNumber++, t = new cc.Vec2(this.bombPosList[e].x / 2, this.bombPosList[e].y / 2).scale(new cc.Vec2(.5, .5)), this.label_number.node.parent.runAction(cc.sequence(cc.moveTo(e % 2 == 1 ? .66 : .4875, t), cc.moveTo(e % 2 == 1 ? .66 : .4875, this.bombPosList[e]))), this.multiBombCrab.node.runAction(cc.sequence(cc.moveTo(e % 2 == 1 ? .66 : .4875, t), cc.moveTo(e % 2 == 1 ? .66 : .4875, this.bombPosList[e]))), this.multiBombCrab.node.runAction(cc.sequence(cc.scaleTo(e % 2 == 1 ? .66 : .4875, 1.5), cc.scaleTo(e % 2 == 1 ? .66 : .4875, 1))), this.label_number.string = (this.currentBombNumber + 1).toString()) : (this.multiBombCrab.RemoveSelf(), this.multiBombCrab = null, this.label_number.node.parent.active = !1), n = 1e3 * this.KillFishesAndShowAward(), n += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < n ? n : this.fishAwardTime, this.SetScoreUICount(this.currentWin), this.isContinue ? [3, 5] : (i = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > i ? this.fishAwardTime - i : 0, [4, this.delay(this.fishAwardTime < 1500 ? 1500 : this.fishAwardTime)]);
                                case 2:
                                    return a.sent(), this.SetScoreUICount(this.totalWin), this.ShowSkillScore(1), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)];
                                case 3:
                                    return a.sent(), this.HideSkillScoreUI(), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 4:
                                    return a.sent(), this.UnUseSkill(), [2];
                                case 5:
                                    return [4, this.delay(450 + (e % 2 == 1 ? 870 : 525))];
                                case 6:
                                    return a.sent(), this.currentWin = this.totalWin, this.SwitchBombRange(!0), [4, this.delay(2e3)];
                                case 7:
                                    return a.sent(), this.isMainPlayer && (new Array, o = m.default.Instance.GetRangeAttackableID(this.multiBombCrab ? this.multiBombCrab.node.getPosition() : cc.Vec2.ZERO, 1e3, 100), h.default.SkillSystem.SendRangeFish(u.SKILL_CMD_NAME.MULTI_BOMB_BOMB, o)), this.forceTimer = this.forceTime, [2]
                            }
                        })
                    })
                }, t.prototype.SwitchBombRange = function(e) {
                    void 0 === e && (e = !0), this.bombRangeNode && (this.bombRangeNode.active = e, e ? (this.multiBombCrab && this.bombRangeNode.setPosition(this.multiBombCrab.node.getPosition()), this.bombRangeAnim[0].play(), this.bombRangeAnim[1].play(), this.rangeSound = y.default.Instance.Play("18_bomba_main")) : y.default.Instance.Stop(this.rangeSound))
                }, t.prototype.CreateExplodeEffect = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function() {
                            return (e = p.default.SpawnEffect("Bomb_Explode", this.isMainPlayer)) && (e.setParent(p.default.Instance.Award), e.setPosition(this.multiBombCrab ? this.multiBombCrab.node.getPosition() : cc.Vec2.ZERO)), (t = Math.random()) < .25 ? y.default.Instance.Play("19_bomba_main") : t < .5 ? y.default.Instance.Play("bomb_ex01") : t < .75 ? y.default.Instance.Play("bomb_ex02") : y.default.Instance.Play("bomb_ex03"), this.CameraShakeEffect(1, 3), [2]
                        })
                    })
                }, a([v(cc.Node)], t.prototype, "bombRangeNode", void 0), a([v([cc.Animation])], t.prototype, "bombRangeAnim", void 0), a([v(cc.Label)], t.prototype, "label_number", void 0), a([v(cc.Node)], t.prototype, "CrabParent", void 0), a([_], t)
            }(c.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Award/SkillTitle": "SkillTitle",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillPariteShip: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "41ef3ikwxhG5YycyK5z2fI2", "SkillPariteShip");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = e("../Common/AudioManager"),
            u = e("../Common/ResourceManager"),
            p = e("../Fish/BaseFish"),
            d = e("../Fish/FishManager"),
            f = e("./BaseSkill"),
            m = cc._decorator,
            y = m.ccclass,
            g = m.property;
        (function(e) {
            e[e.stay = 0] = "stay", e[e.move = 1] = "move"
        })(c || (c = {}));
        var S = function(e) {
                this.node = null, this.anim = null, this.state = c.stay, this.oriPosition = null, this.oriScale = 0, this.node = e, this.anim = e.getComponent(cc.Animation), this.oriPosition = e.getPosition(), this.oriScale = e.scale
            },
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.SmallShip = null, t.Totem = null, t.Explosion = null, t.FrameFire = null, t.CountObj = null, t.label_number = null, t.ships = [], t.isContinue = !0, t.currentBombNumber = 0, t.HitCount = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t.fishAwardTime = 0, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = f.skillEnum.AwakenPhoenix, this.limitTime = 120;
                    for (var e = 0; e < this.SmallShip.childrenCount; e++) this.ships.push(new S(this.SmallShip.children[e]))
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.forceTimer > 0 && (this.forceTimer -= t, this.forceTimer <= 0 && (this.SetExplodeEndData(), this.forceTimer = 0))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.node.scale = 0, this.isContinue = !0, this.currentBombNumber = 0, this.label_number.string = "1", this.forceTime = 7.5, this.playerBet = t.bet, this.FrameFire.node.opacity = 0, this.CountObj.opacity = 255, this.CountObj.angle = l.default.isReverse ? 180 : 0, this.fishID = t.bomb_fish_id
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n = this;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return (e = d.default.Instance.GetFishByID(this.fishID.toString())) && e.FishDie(this.playerSeat, !1), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), this.node.setPosition(e ? this.node.parent.convertToNodeSpaceAR(e.getFishPos()) : cc.Vec2.ZERO), (t = u.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, t.setPosition(this.node.getPosition()), this.Totem.node.angle = l.default.isReverse ? 180 : 0, this.Totem.node.opacity = 255, this.Totem.node.active = !0, this.Totem.play("TotemLoop"), [4, this.delay(500)];
                                case 2:
                                    return i.sent(), this.node.runAction(cc.sequence(cc.scaleTo(1, 1), cc.moveTo(1, cc.Vec2.ZERO), cc.callFunc(function() {
                                        h.default.Instance.Play("storm_shoot")
                                    }), cc.delayTime(.8), cc.callFunc(function() {
                                        n.Explosion.node.active = !0, n.Explosion.play("Explosion"), n.Totem.node.active = !1, h.default.Instance.Play("bomb_ex03")
                                    }), cc.delayTime(1.4), cc.callFunc(function() {
                                        n.Explosion.node.active = !1, n.FrameFire.node.active = !0, n.FrameFire.play("FrameFire"), n.FrameFire.node.runAction(cc.fadeIn(1)), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 1, 0), n.bgmID = h.default.Instance.Play("Ghostship_out_01", .7, !0), h.default.Instance.Fade(n.bgmID, 0, 1);
                                        for (var e = 0; e < n.ships.length; e++) n.ships[e].node.active = !0;
                                        n.schedule(n.StartBirdAttack, .2), l.default.CameraShake(2)
                                    }))), this.CreateSkillTitle(), this.CreateScoreUI(), this.forceTimer = this.forceTime, [4, this.delay(5e3)];
                                case 3:
                                    return i.sent(), this.schedule(this.UpdateHit, .1), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.Totem.stop(), this.Totem.node.active = !1, this.CountObj.active = !1, this.Explosion.stop(), this.Explosion.node.active = !1, this.FrameFire.stop(), this.FrameFire.node.active = !1;
                    for (var t = 0; t < this.ships.length; t++) this.ships[t].anim.stop(), this.ships[t].node.stopAllActions(), this.ships[t].node.setPosition(this.ships[t].oriPosition), this.ships[t].node.scale = this.ships[t].oriScale, this.ships[t].state = c.stay, this.ships[t].node.active = !1;
                    l.default.CameraShake(-2), e.prototype.UnUseSkill.call(this)
                }, t.prototype.ReceiveSkillData = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t, n, i, o, a;
                        return r(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, this.delay(3e3)];
                                case 1:
                                    if (s.sent(), this.dieFishList = new Array, this.winList = new Array, t = e.fish_dead_dict, n = Object.keys(t))
                                        for (i = 0; i < n.length; i++) o = n[i], (a = d.default.Instance.GetFishByID(o)) && (a.AliveStatus = p.FishState.DEAD, a.CanCollision = !1, a.StopAction(), this.dieFishList.push(a), this.winList.push(t[o].coin));
                                    return this.totalWin = e.total_wins, this.HitCount = e.hit_count, this.isContinue = e.continues, this.isContinue ? this.KillFish() : (this.isGaveAward = !0, this.ShowExplode()), [2]
                            }
                        })
                    })
                }, t.prototype.SetExplodeEndData = function() {
                    this.isContinue && (this.isGaveAward = !0, this.isForceShowAward = !0, this.isContinue = !1, this.ShowExplode())
                }, t.prototype.KillFish = function() {
                    var e = 0;
                    this.forceTimer = 0, e = this.KillFishesAndShowAward(), e += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < e ? e : this.fishAwardTime, this.currentWin = this.totalWin, this.SetScoreUICount(this.currentWin), this.forceTimer = this.forceTime
                }, t.prototype.ShowExplode = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return u.default.SpawnEffect("FinalShip", this.isMainPlayer), [4, this.delay(1e3)];
                                case 1:
                                    return n.sent(), l.default.CameraShake(-2), this.unschedule(this.StartBirdAttack), this.unschedule(this.UpdateHit), this.currentBombNumber < this.HitCount && (this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1))), h.default.Instance.Play("Ghostship_attackend_01"), [4, this.delay(1800)];
                                case 2:
                                    return n.sent(), e = function() {
                                        t.currentBombNumber++, t.label_number.string = t.currentBombNumber.toString(), t.currentBombNumber >= t.HitCount && (t.CountObj.scale = 1.5, t.CountObj.runAction(cc.sequence(cc.scaleTo(1, 1), cc.delayTime(2), cc.fadeOut(1))), t.unschedule(e))
                                    }, this.Explosion.node.active = !0, this.Explosion.play("Explosion"), h.default.Instance.SetNextSound(this.bgmID, "Ghostship_out_02", .7), h.default.Instance.Fade(h.default.Instance.GetBGMID(), 0, 1), [4, this.delay(800)];
                                case 3:
                                    return n.sent(), h.default.Instance.Play("drill_bomb_1"), this.KillFish(), this.fishAwardTime -= (new Date).getTime(), this.CameraShakeEffect(2, 1.5), this.CountObj.scale = 1.2, this.schedule(e, 0), this.FrameFire.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3 * this.fishAwardTime)];
                                case 4:
                                    return n.sent(), this.HideSkillScoreUI(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 5:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.StartBirdAttack = function() {
                    for (var e = 0; e < 5; e++) {
                        var t = Math.floor(Math.random() * this.ships.length);
                        this.ships[t].state == c.stay && this.BirdAttack(t)
                    }
                    var n = function() {
                            var e = u.default.SpawnEffect("Green_Blast", i.isMainPlayer);
                            if (!e) return "continue";
                            var t = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                n = 1.5 * Math.random() + 1,
                                o = Math.random() + 1;
                            e.parent = i.node.parent, e.zIndex = 0, e.active = !1, e.setPosition(t), e.scale = n, i.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                e.active = !0, e.getComponent(cc.Animation).play("Blast")
                            })))
                        },
                        i = this;
                    for (e = 0; e < 2; e++) n()
                }, t.prototype.BirdAttack = function(e) {
                    var t = this;
                    if (this.ships[e].state != c.move) {
                        this.ships[e].state = c.move;
                        var n = 50 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            i = .2 * Math.random() * (Math.random() >= .5 ? 1 : -1),
                            o = .9 * Math.random() + .1,
                            a = Math.random() + 1.5;
                        this.ships[e].node.setPosition(this.ships[e].node.getPosition().add(new cc.Vec2(0, n))), this.ships[e].node.scale += i, this.ships[e].node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                            var n = a > 1.5 ? 2 : 1;
                            t.ships[e].anim.play("SmallShip0" + n.toString())
                        }), cc.moveTo(a, new cc.Vec2(750, this.ships[e].node.position.y)), cc.callFunc(function() {
                            t.ships[e].anim.stop(), t.ships[e].node.setPosition(t.ships[e].oriPosition), t.ships[e].node.scale = t.ships[e].oriScale, t.ships[e].state = c.stay
                        })))
                    }
                }, t.prototype.UpdateHit = function() {
                    this.currentBombNumber >= this.HitCount || Math.random() >= .7 || (this.CountObj.active || (this.CountObj.active = !0), this.currentBombNumber++, this.label_number.string = this.currentBombNumber.toString(), this.CountObj.scale = 1.2, this.CountObj.runAction(cc.scaleTo(.07, 1)))
                }, a([g(cc.Node)], t.prototype, "SmallShip", void 0), a([g(cc.Animation)], t.prototype, "Totem", void 0), a([g(cc.Animation)], t.prototype, "Explosion", void 0), a([g(cc.Animation)], t.prototype, "FrameFire", void 0), a([g(cc.Node)], t.prototype, "CountObj", void 0), a([g(cc.Label)], t.prototype, "label_number", void 0), a([y], t)
            }(f.default);
        n.default = _, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillPoseidon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "032abWecR9NhYuhJEVqAjyP", "SkillPoseidon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../GameClient"),
            h = e("../../System/SkillSystem"),
            u = e("../Common/AudioManager"),
            p = e("../Common/ResourceManager"),
            d = e("../Fish/FishManager"),
            f = e("./BaseSkill"),
            m = cc._decorator,
            y = m.ccclass,
            g = m.property,
            S = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.jew_anim = null, t.lighting = null, t.laber_count = null, t.skeletons = null, t.Atk_anim = null, t.explode_count = null, t.skeleton_list = new Array, t.fishAwardTime = 0, t.fishID = null, t.ScoreUIName = "ScoreUI_Awake", t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.limitTime = 120, this.skeleton_list = this.skeletons.getComponentsInChildren(cc.SkeletonAnimation)
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.laber_count.string = "1", this.currentWin = 0, this.jew_anim.node.opacity = 255, this.jew_anim.node.active = !1, this.jew_anim.node.setPosition(cc.Vec2.ZERO), this.explode_count = 1, this.lighting.node.active = !1, this.jew_anim.node.angle = this.playerSeat > 1 ? 180 : 0, this.fishID = t.bomb_fish_id, this.playerBet = t.bet
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return e = cc.Vec2.ZERO, (t = d.default.Instance.GetFishByID("" + this.fishID)) && (e = this.node.parent.convertToNodeSpaceAR(t.getFishPos()), t.FishDie(this.playerSeat)), [4, this.delay(2e3)];
                                case 1:
                                    return i.sent(), (n = p.default.SpawnEffect("7", this.isMainPlayer)).scale = 2, n ? (n.setPosition(e), [4, this.delay(500)]) : [3, 3];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return this.jew_anim.node.setPosition(e), this.jew_anim.node.angle = c.default.isReverse ? 180 : 0, this.jew_anim.node.active = !0, this.jew_anim.play("jew_init"), [4, this.delay(1e3)];
                                case 4:
                                    return i.sent(), u.default.Instance.Play("effect_PO_die"), this.jew_anim.node.runAction(cc.moveTo(1, cc.Vec2.ZERO)), this.CreateSkillTitle(), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), this.bgmID = u.default.Instance.Play("FD_out01", 1, !0), u.default.Instance.Fade(this.bgmID, 0, 1), this.CreateScoreUI(), [4, this.delay(2e3)];
                                case 5:
                                    return i.sent(), this.SendBombRange(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.jew_anim.stop(), this.lighting.stop(), this.explode_count = null, e.prototype.UnUseSkill.call(this)
                }, t.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var e = d.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.MERMAID_BOMB, e)
                    }
                }, t.prototype.ReceiveSkillData = function(e) {
                    return void 0 === e && (e = null), s(this, void 0, void 0, function() {
                        var t, n, i, o, a, s, c, l;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (this.dieFishList.length = 0, this.winList.length = 0, t = e.fish, o = 0; o < t.length; o++) n = d.default.Instance.GetFishByID("" + t[o]), this.dieFishList.push(n);
                                    for (i = e.odds, o = 0; o < i.length; o++) this.winList.push(this.playerBet * i[o]);
                                    return this.skeletons.active = !0, this.skeleton_list.forEach(function(e) {
                                        e.play("attack"), e.once("lastframe", function() {
                                            e.stop()
                                        })
                                    }), this.Atk_anim.play(), [4, this.delay(800)];
                                case 1:
                                    return r.sent(), u.default.Instance.Play("effect_PO_wave1"), [4, this.delay(1800)];
                                case 2:
                                    return r.sent(), u.default.Instance.Play("effect_PO_wave2"), [4, this.delay(200)];
                                case 3:
                                    return r.sent(), a = e.continue, this.explode_count = e.bomb_times_cnt + (a ? 1 : 0), s = e.win, this.currentWin += s, this.onAddExplodeCount(), this.lighting.node.active = !0, this.lighting.play("Explosion"), this.CameraShakeEffect(3, 1), this.CameraShakeEffect(1.5, 4), c = 1e3 * this.KillFishesAndShowAward(), c += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < c ? c : this.fishAwardTime, u.default.Instance.Play("effect_PO_wave3"), [4, this.delay(2e3)];
                                case 4:
                                    return r.sent(), a ? (this.SendBombRange(), [3, 8]) : [3, 5];
                                case 5:
                                    return u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("FD_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), this.skeletons.active = !1, this.jew_anim.play("jew_over"), l = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > l ? this.fishAwardTime - l : 0, this.fishAwardTime -= 1500, [4, this.delay(this.fishAwardTime > 0 ? this.fishAwardTime : 0)];
                                case 6:
                                    return r.sent(), this.HideSkillScoreUI(), this.totalWin = e.total_win, this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 7:
                                    r.sent(), this.UnUseSkill(), r.label = 8;
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.onAddExplodeCount = function() {
                    this.laber_count.string = "" + this.explode_count, this.jew_anim.node.runAction(cc.sequence(cc.scaleTo(.4, .7), cc.scaleTo(0, 1.6), cc.scaleTo(1, .8))), this.SetScoreUICount(this.currentWin)
                }, a([g(cc.Animation)], t.prototype, "jew_anim", void 0), a([g(cc.Animation)], t.prototype, "lighting", void 0), a([g(cc.Label)], t.prototype, "laber_count", void 0), a([g(cc.Node)], t.prototype, "skeletons", void 0), a([g(cc.Animation)], t.prototype, "Atk_anim", void 0), a([y], t)
            }(f.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillRedDragon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "e4e2ewCsE1CEK8+0LilNj6m", "SkillRedDragon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../GameClient"),
            h = e("../../System/SkillSystem"),
            u = e("../Common/AudioManager"),
            p = e("../Common/EnumFilter"),
            d = e("../Common/ResourceManager"),
            f = e("../Common/Utility"),
            m = e("../Fish/FishManager"),
            y = e("../Player/PlayerManager"),
            g = e("../Skill/BaseSkill"),
            S = e("../Weapon/WeaponManager"),
            _ = e("./RedDragonReward"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            I = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.number_label = null, t.score_label = null, t.totem = null, t.spine_node = null, t.lightBall_node = null, t.lighting_node = null, t.finalFire_node = null, t.fish_id = 0, t.current_bomb = 0, t.smallBombTimes = 0, t.bigBombTimes = 0, t.fishAwardTime = 0, t.showingScore = 0, t.spineEventStep = 0, t.cmdTimer = 0, t.lightBall = null, t.lighting = null, t.finalFire = null, t.spine_list = null, t.index_pair = [
                        [0, 2],
                        [1, 3],
                        [0, 1, 2, 3],
                        [4, 5, 6, 7]
                    ], t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    var e = this;
                    this.limitTime = 180, this.spine_list = this.spine_node.getComponentsInChildren(sp.Skeleton);
                    for (var t = function(t) {
                            n.spine_list[t].setCompleteListener(function() {
                                e.spine_list[t].node.active = !1
                            }), n.spine_list[t].setEventListener(n.spineEventListener.bind(n, t))
                        }, n = this, i = 0; i < this.spine_list.length; i++) t(i);
                    this.lightBall = this.lightBall_node.getComponentsInChildren(cc.Animation), this.lighting = this.lighting_node.getComponentsInChildren(cc.Animation), this.finalFire = this.finalFire_node.getComponentsInChildren(cc.ParticleSystem)
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.cmdTimer > 0 && (this.cmdTimer -= t, this.cmdTimer <= 0 && (this.cmdTimer = 0, this.SkillOver()))
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.current_bomb = 0, this.node.opacity = 0, this.cmdTimer = 0, this.lightBall.forEach(function(e) {
                        e.node.active = !1
                    }), this.lighting.forEach(function(e) {
                        e.node.active = !1
                    }), this.number_label.node.parent.opacity = 0, this.number_label.string = "1", this.showingScore = 0, this.score_label.node.parent.opacity = 0, this.score_label.string = "0", this.fish_id = t.id, this.playerBet = t.bet, this.bigBombTimes = t.big_bomb_times_target, this.smallBombTimes = t.small_bomb_times_target
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return u.default.Instance.Play("42_dragon_blow"), (e = m.default.Instance.GetFishByID(this.fish_id)) ? (e.CanCollision = !1, e.PlayDieAnim(), [4, this.delay(2e3)]) : (cc.warn("[InitInfo] Dragon is Null!"), [2]);
                                case 1:
                                    return o.sent(), t = this.node.parent.convertToNodeSpaceAR(e.getFishPos()), u.default.Instance.Play("41_catch_bigfish"), (n = d.default.SpawnEffect("7", this.isMainPlayer)) && (n.scale = 2, n.setPosition(t)), this.InitTotem(t), (i = {}).time = 18e4, i.callback = function() {
                                        m.default.Instance.recycleUniqueFishData(p.FishType.RedDragon)
                                    }, m.default.Instance.getUniqueFishData(p.FishType.RedDragon).setTimeEvent(i), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.lightBall.forEach(function(e) {
                        e.stop()
                    }), this.lighting.forEach(function(e) {
                        e.stop()
                    });
                    var t = {
                        time: 1e3,
                        callback: function() {
                            m.default.Instance.recycleUniqueFishData(p.FishType.RedDragon)
                        }
                    };
                    m.default.Instance.getUniqueFishData(p.FishType.RedDragon).setTimeEvent(t), e.prototype.UnUseSkill.call(this)
                }, t.prototype.InitTotem = function(e) {
                    var t = this;
                    this.node.setPosition(e), this.node.angle = c.default.isReverse ? 180 : 0, cc.tween(this.node).to(.75, {
                        opacity: 255
                    }).call(function() {
                        u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), t.bgmID = u.default.Instance.Play("RedDragon_StartBGM", 1, !0), u.default.Instance.Fade(t.bgmID, 0, 1)
                    }).to(1.5, {
                        position: cc.Vec3.ZERO
                    }).call(function() {
                        cc.tween(t.score_label.node.parent).to(.5, {
                            opacity: 255
                        }).start(), cc.tween(t.number_label.node.parent).to(.5, {
                            opacity: 255
                        }).start()
                    }).delay(.5).call(function() {
                        t.SendBombRange()
                    }).start()
                }, t.prototype.SendBombRange = function() {
                    if (this.isMainPlayer) {
                        var e = m.default.Instance.GetRangeAttackableID(cc.Vec2.ZERO, 1e3, 100);
                        l.default.SkillSystem.SendRangeFish(h.SKILL_CMD_NAME.RED_DRAGON_BOMB, e)
                    }
                    this.cmdTimer = 10
                }, t.prototype.ReceiveSkillData = function(e) {
                    this.cmdTimer = 0;
                    var t = e.small_bomb_times_cnt,
                        n = e.big_bomb_times_cnt;
                    if (this.current_bomb >= t + n) cc.error("RedDragonSkill \u5c01\u5305\u932f\u4e82");
                    else {
                        this.current_bomb < t + n - 1 && (cc.error("RedDragonSkill \u6f0f\u5c01\u5305"), this.current_bomb = t + n - 1), this.dieFishList.length = 0, this.winList.length = 0, this.totalWin = e.total_win, this.bigBombTimes = e.big_bomb_times_target, this.smallBombTimes = e.small_bomb_times_target;
                        var i = e.win;
                        if (this.currentWin += i, e.fish) {
                            for (var o = e.fish, a = 0; a < o.length; a++) {
                                var s = m.default.Instance.GetFishByID("" + o[a]);
                                this.dieFishList.push(s)
                            }
                            var r = e.odds;
                            for (a = 0; a < r.length; a++) this.winList.push(this.playerBet * r[a])
                        }
                        this.NextExplosion()
                    }
                }, t.prototype.NextExplosion = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (e = null, !(this.current_bomb < this.smallBombTimes)) return [3, 2];
                                    if (this.current_bomb < 8) t = this.current_bomb % 4, this.spine_list[t].node.active = !0, this.spine_list[t].setAnimation(0, "ATTACK_A", !1), u.default.Instance.Play("RedDragon_BreatheFire");
                                    else {
                                        for (e = this.index_pair[this.current_bomb % 2], n = 0; n < e.length; n++) this.spine_list[e[n]].node.active = !0, this.spine_list[e[n]].setAnimation(0, "ATTACK_A", !1);
                                        u.default.Instance.Play("RedDragon_BreatheFire")
                                    }
                                    return this.spineEventStep = 1, this.current_bomb++, [4, this.delay(3500)];
                                case 1:
                                    return i.sent(), this.SendBombRange(), [3, 6];
                                case 2:
                                    if (this.current_bomb != this.smallBombTimes) return [3, 4];
                                    for (e = this.index_pair[2], n = 0; n < e.length; n++) this.spine_list[e[n]].node.active = !0, this.spine_list[e[n]].setAnimation(0, "ATTACK_A", !1);
                                    return u.default.Instance.Play("RedDragon_BreatheFire"), this.spineEventStep = 1, this.current_bomb++, [4, this.delay(3500)];
                                case 3:
                                    return i.sent(), this.SendBombRange(), [3, 6];
                                case 4:
                                    for (e = this.index_pair[3], n = 0; n < e.length; n++) this.spine_list[e[n]].node.active = !0, this.spine_list[e[n]].setAnimation(0, "ATTACK_B", !1);
                                    return u.default.Instance.Play("RedDragon_FinalAttack"), this.spineEventStep = 2, this.current_bomb++, [4, this.delay(5e3)];
                                case 5:
                                    i.sent(), this.SkillOver(), i.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.spineEventListener = function(e, t, n) {
                    return s(this, void 0, void 0, function() {
                        var t, i, o;
                        return r(this, function() {
                            if (n) switch (n.data.name) {
                                case "stanby":
                                    break;
                                case "fiire_spurt":
                                    this.lightBall[e].node.active = !0, this.lightBall[e].play(), this.lighting[e].node.active = !0, this.lighting[e].play(), 1 == this.spineEventStep && (this.spineEventStep = 0, this.DragonBallHit(), u.default.Instance.Play("RedDragon_DragonBall_Scale"), this.CameraShakeEffect(.5, 4), (i = {}).CoinEndPos = cc.Vec2.ZERO, i.AllTypeNormal = !0, t = 1e3 * this.KillFishesAndShowAward(i), t += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < t ? t : this.fishAwardTime, this.CountScore());
                                    break;
                                case "fire_end":
                                    this.lightBall[e].stop(), this.lightBall[e].node.active = !1, this.lighting[e].stop(), this.lighting[e].node.active = !1;
                                    break;
                                case "Hit_1":
                                    2 == this.spineEventStep && (this.spineEventStep = 1, this.DragonBallHit(), u.default.Instance.Play("RedDragon_DragonBall_Scale"), this.finalFire.forEach(function(e) {
                                        e.resetSystem()
                                    }), u.default.Instance.Play("RedDragon_FinalAttack_Explode"), u.default.Instance.Fade(this.bgmID, 1, 0), this.bgmID = u.default.Instance.Play("RedDragon_EndBGM", 1, !1), u.default.Instance.Fade(this.bgmID, 0, 1));
                                    break;
                                case "Hit_2":
                                    1 == this.spineEventStep && (this.spineEventStep = 0, u.default.Instance.Play("TD_Explode"), this.DragonBallHit(), this.CameraShakeEffect(1, 6), (i = {}).CoinEndPos = cc.Vec2.ZERO, i.AllTypeNormal = !0, o = 1e3 * this.KillFishesAndShowAward(i), o += (new Date).getTime(), this.fishAwardTime = this.fishAwardTime < o ? o : this.fishAwardTime, this.CountScore())
                            }
                            return [2]
                        })
                    })
                }, t.prototype.DragonBallHit = function() {
                    this.number_label.string = this.current_bomb.toString(), cc.tween(this.number_label.node.parent).to(.2, {
                        scale: 1.3
                    }).to(.65, {
                        scale: 1
                    }).start(), this.totem.playAdditive("TotemHit")
                }, t.prototype.CountScore = function() {
                    var e = this;
                    cc.tween(this.score_label.node.parent).delay(2.5).call(function() {
                        var t = e.currentWin,
                            n = (t - e.showingScore) / (.5 / .03);
                        cc.tween(e.node).repeat(.5 / .03, cc.tween(e.node).call(function() {
                            e.showingScore += n, e.score_label.string = f.default.NumberformatBet(e.showingScore, e.playerBet)
                        }).delay(.03)).call(function() {
                            e.showingScore = t, e.score_label.string = f.default.NumberformatBet(e.showingScore, e.playerBet)
                        }).start()
                    }).to(.2, {
                        scale: 1.2
                    }).to(.65, {
                        scale: 1
                    }).start()
                }, t.prototype.SkillOver = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o = this;
                        return r(this, function() {
                            return this.isMainPlayer && 0 == this.totalWin ? (l.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (this.isGaveAward = !0, e = (new Date).getTime(), this.fishAwardTime = this.fishAwardTime > e ? this.fishAwardTime - e : 0, 0, t = c.default.isReverse ? this.playerSeat > 1 ? 220 : -170 : this.playerSeat > 1 ? -220 : 170, n = y.PlayerManager.MainSeat > 1 ? -1 : 1, i = S.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, t)).scale(new cc.Vec2(n, n)), cc.tween(this.node).delay(this.fishAwardTime / 1e3 < 2 ? 2 : this.fishAwardTime / 1e3).call(function() {
                                o.node.setParent(o.isMainPlayer ? d.default.Instance.Effects_own : d.default.Instance.Effects)
                            }).to(1.5, {
                                position: cc.v3(i)
                            }).call(function() {
                                o.PlayAwardSound()
                            }).delay(1.5).to(.5, {
                                opacity: 0
                            }).call(function() {
                                o.CreateSkillTitle(), o.ShowSkillScore(o.totalWin)
                            }).delay(4).call(function() {
                                if (o.isMainPlayer) {
                                    var e = d.default.SpawnEffect("RedDragonReward", o.isMainPlayer);
                                    e && (e.angle = c.default.isReverse ? 180 : 0, e.getComponent(_.default).Init(o.totalWin), u.default.Instance.Play("RedDragon_Result"))
                                }
                                o.UnUseSkill()
                            }).start(), [2])
                        })
                    })
                }, a([P(cc.Label)], t.prototype, "number_label", void 0), a([P(cc.Label)], t.prototype, "score_label", void 0), a([P(cc.Animation)], t.prototype, "totem", void 0), a([P(cc.Node)], t.prototype, "spine_node", void 0), a([P(cc.Node)], t.prototype, "lightBall_node", void 0), a([P(cc.Node)], t.prototype, "lighting_node", void 0), a([P(cc.Node)], t.prototype, "finalFire_node", void 0), a([b], t)
            }(g.default);
        n.default = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../../System/SkillSystem": "SkillSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Skill/BaseSkill": "BaseSkill",
        "../Weapon/WeaponManager": "WeaponManager",
        "./RedDragonReward": "RedDragonReward"
    }],
    SkillRocket: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "3a2f1VN/SZNGrC9N4wvwsP7", "SkillRocket");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Common/Utility"),
            h = e("../Fish/FishManager"),
            u = e("../Player/PlayerManager"),
            p = e("../Common/ResourceManager"),
            d = e("../Weapon/WeaponManager"),
            f = e("../Common/PoolObj"),
            m = e("../Common/AudioManager"),
            y = e("../../../../../FishCommon/Script/CanvasHandler"),
            g = cc._decorator.ccclass,
            S = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.weaponAnim = !1, t.fish_dead_dict = null, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Rocket
                }, t.prototype.InitProperties = function(t) {
                    if (void 0 === t && (t = null), e.prototype.InitProperties.call(this), u.PlayerManager.isMainSeat(this.playerSeat)) {
                        var n = t.credits;
                        u.PlayerManager.BulletSync(1, n)
                    }
                    this.weaponAnim = !1, this.playerBet = t.bet, this.totalWin = t.total_win, this.fish_dead_dict = t.fish_dead_dict
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i, o, a, s, c, u, g = this;
                        return r(this, function(S) {
                            switch (S.label) {
                                case 0:
                                    if (!(e = Object.keys(this.fish_dead_dict)) || e.length <= 0) return [2];
                                    t = 0, n = d.default.WeaponUIPosition(this.playerSeat).add(cc.v2(-70, 60)), n = y.default.isReverse ? l.default.ConvertWorldPosition(n) : n, i = d.default.Instance.getWeapon(this.playerSeat), o = function(o) {
                                        var s, c, u, d, y, S, _;
                                        return r(this, function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return s = e[o], c = a.fish_dead_dict[s].coin, u = a.playerSeat, d = a.playerBet, (y = h.default.Instance.GetFishByID(s)) ? l.default.GetLengthFrom2Point(n, y.node.getPosition()) > 640 ? [2, "continue"] : (i && !a.weaponAnim && (i.PlayRocketShoot(), a.weaponAnim = !0), (S = p.default.SpawnEffect(a.skillType, a.isMainPlayer)) ? (S.setPosition(n), S.angle = a.playerSeat > 1 ? 180 : 0, S.getComponent(f.default).recycleEvent = function() {
                                                        var n = p.default.SpawnEffect("Red_Blast", g.isMainPlayer);
                                                        n.setPosition(S.getPosition()), n.setScale(1.5), m.default.Instance.Play("04_boom"), h.default.Instance.KillFish(u, y, c, d, !1, !0, function(n) {
                                                            t < n - .25 * (e.length - 1 - o) && (t = n - .25 * (e.length - 1 - o))
                                                        })
                                                    }, _ = l.default.GetPointWithVector(y.node.getPosition(), 120, y.node.angle), S.angle = 90 - l.default.GetAngleFrom2Point(S.getPosition(), y.node.getPosition()), S.runAction(cc.moveTo(1.24, _).easing(cc.easeIn(1.5))), [4, a.delay(250)]) : [2, "continue"]) : [2, "continue"];
                                                case 1:
                                                    return r.sent(), [2]
                                            }
                                        })
                                    }, a = this, s = 0, S.label = 1;
                                case 1:
                                    return s < e.length ? [5, o(s)] : [3, 4];
                                case 2:
                                    S.sent(), S.label = 3;
                                case 3:
                                    return s++, [3, 1];
                                case 4:
                                    return [4, this.delay(1500)];
                                case 5:
                                    return S.sent(), [4, this.delay(1e3 * t)];
                                case 6:
                                    return S.sent(), (c = p.default.SpawnEffect("RN", this.isMainPlayer)) && (c.angle = y.default.isReverse ? 180 : 0, u = this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80), c.setPosition(d.default.WeaponPosition(this.playerSeat).add(u)), c.getComponentInChildren(cc.Label).string = l.default.NumberformatBet(this.totalWin, this.playerBet), c.runAction(cc.sequence(cc.fadeIn(.5), cc.delayTime(1), cc.fadeOut(.5), cc.callFunc(function() {
                                        p.default.DespawnEffect("RN", c)
                                    })))), this.PlayAwardSound(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.fish_dead_dict = null, e.prototype.UnUseSkill.call(this)
                }, a([g], t)
            }(c.default);
        n.default = S, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/AudioManager": "AudioManager",
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8cef922g1pMLJmijlJxc0AU", "SkillSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.SKILL_CMD_NAME = void 0;
        var a, s = e("../../../../FishCommon/Script/CanvasHandler"),
            r = e("../Event/EventPuzzleDropEggMgr"),
            c = e("../MainGame/Award/AwardManager"),
            l = e("../MainGame/Common/EnumFilter"),
            h = e("../MainGame/Common/ResourceManager"),
            u = e("../MainGame/Fish/FishManager"),
            p = e("../MainGame/Item/ItemManager"),
            d = e("../MainGame/Player/PlayerManager"),
            f = e("../MainGame/Skill/BaseSkill"),
            m = e("../MainGame/Weapon/WeaponManager"),
            y = e("./baseSystem"),
            g = e("./ItemSystem"),
            S = e("./WeaponSystem"),
            _ = e("../GameClient"),
            v = e("../../../../LobbyCommon/Helper/EventSystem");
        (function(e) {
            e.DRILL_GET = "sk_drill", e.DRILL_SHOOT = "sk_drill_shoot", e.DRILL_HIT = "sk_drill_hit", e.DRILL_BOMB = "sk_drill_bomb", e.ELECTRIC_GET = "sk_electric", e.ELECTRIC_SHOOT = "sk_electric_use", e.ELECTRIC_HIT = "sk_electric_hit", e.MULTI_BOMB_GET = "sk_bomb", e.MULTI_BOMB_BOMB = "sk_bomb_range", e.FLAME_STORM_GET = "sk15", e.FLAMES_TORM_SHOOT = "sk16", e.FLAMES_TORM_HIT = "sk17", e.FLAMES_TORM_END = "sk18", e.FLAMES_TORM_CHECK = "sk19", e.WHEEL_GET = "sk_12", e.WHEEL_CLICK = "sk_13", e.WIND_GET = "sk_wind", e.LOCK_HIT = "sk24", e.TIGER_HIT = "sk_scale_lock_blast", e.DRAGON_HIT = "sk_multi_lock_blast", e.THUNDER_DRAGON_GET = "sk_25", e.THUNDER_DRAGON_BOMB = "sk_26", e.KING_CRAB_GET = "sk_25_kp", e.KING_CRAB_BOMB = "sk_26_kp", e.KING_TACO_GET = "sk_25_kt", e.KING_TACO_BOMB = "sk_26_kt", e.KING_ANGLER_GET = "sk_af_bomb", e.KING_ANGLER_BOMB = "sk_af_bomb_range", e.KING_LACOSTE_GET = "sk_kl_bomb", e.KING_LACOSTE_BOMB = "sk_kl_bomb_range", e.ROCKET_GET = "sk_88", e.FLASH_GET = "sk_flash", e.FLASH_NEXT = "sk_3", e.HAMMER_GET = "sk_flash_hammer", e.HAMMER_BOMB = "sk_flash_hammer_explore", e.MERMAID_GET = "sk_km_bomb", e.MERMAID_BOMB = "sk_km_bomb_range", e.PHOENIX_GET = "sk_kp_ph", e.PHOENIX_BOMB = "sk_kp_ph_explore", e.BUFFALO_GET = "sk_buffalo_bomb", e.BUFFALO_BOMB = "sk_buffalo_bomb_range", e.LUCKY_SHAMROCK_GET = "sk_lucky_shamrock_bomb", e.LUCKY_SHAMROCK_BOMB = "sk_lucky_shamrock_bomb_range", e.KINGKONG_GET = "sk_KingKong_bomb", e.KINGKONG_BOMB = "sk_KingKong_bomb_range", e.ROCKSKULL_GET = "sk_RockSkeleton_bomb", e.ROCKSKULL_BOME = "sk_RockSkeleton_bomb_range", e.VAMPIRE_GET = "sk_Vampire", e.VAMPIRE_ODDS = "VampireOdds", e.LIONDANCE_GET = "sk_LionDance", e.LIONDANCE_END = "sk_LionDance_finish", e.BUDDHA_GET = "sk_LuckyBuddha", e.BUDDHA_ODDS = "LuckyBuddhaOdds", e.BUDDHA_END = "sk_LuckyBuddha_finish", e.DRAGON_TURTLE_GET = "sk_TurtleBoss_bomb", e.DRAGON_TURTLE_BOMB = "sk_TurtleBoss_bomb_range", e.RED_DRAGON_GET = "sk_RedDragon_bomb", e.RED_DRAGON_BOMB = "sk_RedDragon_bomb_range", e.TREASURE_CRAB = "sk_TreasureCrab", e.TREASURE_CRAB_INFO = "sk_TreasureCrabInfo", e.SUBMARINE_EVENT = "sk_submarine_event", e.SUBMARINE_END = "sk_submarine_show_over", e.LUCKY_CAT_GET = "sk_LuckyCat", e.LUCKY_CAT_END = "sk_LuckyCat_finish", e.CLOWN_GET = "sk_CircusClown", e.CLOWN_ODDS = "CircusClownOdds", e.CLOWN_END = "sk_CircusClown_finish", e.PIG_GET = "sk_CircusPig_bomb", e.PIG_BOMB = "sk_CircusPig_bomb_range", e.TIGER_GET = "sk_CircusTiger", e.TIGER_END = "sk_CircusTiger_finish", e.BLAZING_TIGER_GET = "sk_FlamingTiger", e.BLAZING_TIGER_ODDS = "FlamingTigerOdds", e.BLAZING_TIGER_END = "sk_FlamingTiger_finish", e.BUDDHA_PALM = "sk_buddha_palm", e.UPDATE_BUDDHA_PALM = "update_energy", e.ETERNAL_BOSS = "sk_eternal", e.GOLDEN_SLOT_CRAB = "sk_king_of_crab", e.FISH_STATUS_SYNC = "sk_fish_status", e.GOLDEN_TACO_GET = "SK_GOLDEN_OCTOPUS", e.GOLDEN_TACO_BOMB = "SK_GOLDEN_OCTOPUS_BOMB", e.GOLDEN_ANGLER_GET = "SK_GOLDEN_MONSTER", e.GOLDEN_ANGLER_BOMB = "SK_GOLDEN_MONSTER_BOMB", e.GOLDEN_LACOSTE_GET = "SK_GOLDEN_CROCODILE", e.GOLDEN_LACOSTE_BOMB = "SK_GOLDEN_CROCODILE_BOMB"
        })(a = n.SKILL_CMD_NAME || (n.SKILL_CMD_NAME = {}));
        var b = function(e) {
            function t(t) {
                var n = e.call(this, t, "skill") || this;
                n.UpdateAssetEvent = null, n.UpdateEnergyEvent = null, n.skillList = new Array, n.RegisterCmdCallback(a.DRILL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.DRILL_SHOOT, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.DRILL_HIT, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.DRILL_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_SHOOT, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.ELECTRIC_HIT, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.FLAME_STORM_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_CHECK, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_END, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_SHOOT, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.FLAMES_TORM_HIT, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.LOCK_HIT, n.OnSkillWeaponHit.bind(n), a.LOCK_HIT, [null, "2"]), n.RegisterCmdCallback(a.TIGER_HIT, n.OnSkillWeaponHit.bind(n), a.TIGER_HIT, [null, "2"]), n.RegisterCmdCallback(a.DRAGON_HIT, n.OnSkillWeaponHit.bind(n), a.DRAGON_HIT, [null, "2"]), n.RegisterCmdCallback(a.ROCKET_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.WHEEL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.WHEEL_CLICK, n.onReceiveSkillData.bind(n)), n.RegisterCmdCallback(a.MULTI_BOMB_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.MULTI_BOMB_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.WIND_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.FLASH_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.FLASH_NEXT, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.THUNDER_DRAGON_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.THUNDER_DRAGON_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_CRAB_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_CRAB_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_TACO_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_TACO_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_ANGLER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_ANGLER_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.HAMMER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.HAMMER_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KING_LACOSTE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KING_LACOSTE_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.MERMAID_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.MERMAID_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.PHOENIX_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.PHOENIX_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.BUFFALO_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUFFALO_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.LUCKY_SHAMROCK_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.LUCKY_SHAMROCK_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.KINGKONG_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.KINGKONG_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.ROCKSKULL_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.ROCKSKULL_BOME, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.VAMPIRE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.VAMPIRE_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.LIONDANCE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUDDHA_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BUDDHA_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.DRAGON_TURTLE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.DRAGON_TURTLE_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.RED_DRAGON_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.RED_DRAGON_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.TREASURE_CRAB, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(a.TREASURE_CRAB_INFO, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(a.SUBMARINE_EVENT, n.onSubmarineEvent.bind(n)), n.RegisterCmdCallback(a.LUCKY_CAT_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.CLOWN_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.CLOWN_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.PIG_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.PIG_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.TIGER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BLAZING_TIGER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.BLAZING_TIGER_ODDS, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(a.BUDDHA_PALM, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.UPDATE_BUDDHA_PALM, n.onUpdateEnergy.bind(n)), n.RegisterCmdCallback(a.ETERNAL_BOSS, n.onGetMedalEvent.bind(n)), n.RegisterCmdCallback(a.GOLDEN_SLOT_CRAB, n.onGetSlotEvent.bind(n)), n.RegisterCmdCallback(a.FISH_STATUS_SYNC, n.onFishStatusSyncEvent.bind(n)), n.RegisterCmdCallback(a.GOLDEN_TACO_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.GOLDEN_TACO_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.GOLDEN_ANGLER_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.GOLDEN_ANGLER_BOMB, n.onSkillExplosion.bind(n)), n.RegisterCmdCallback(a.GOLDEN_LACOSTE_GET, n.onGetSkill.bind(n)), n.RegisterCmdCallback(a.GOLDEN_LACOSTE_BOMB, n.onSkillExplosion.bind(n));
                for (var i = 0; i < 4; i++) n.skillList.push(new Array);
                return n
            }
            return o(t, e), t.prototype.onGetSkill = function(e, t, n, i, o, s) {
                if (e == ArkSDK.HttpConnect.HttpResult.OK)
                    if (t) {
                        var r = t.seat;
                        if (s == a.FLAME_STORM_GET && (r = t[2]), d.PlayerManager.Instance.players[r]) {
                            switch (s) {
                                case a.DRILL_GET:
                                    this.AddSkill(f.skillEnum.Drill, r, t);
                                    break;
                                case a.ELECTRIC_GET:
                                    this.AddSkill(f.skillEnum.Electric, r, t);
                                    break;
                                case a.KING_CRAB_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingSpiderCrab, r, t);
                                    break;
                                case a.FLASH_GET:
                                    this.AddSkill(f.skillEnum.Flash, r, t);
                                    break;
                                case a.WHEEL_GET:
                                    this.AddSkill(f.skillEnum.Wheel, r, t);
                                    break;
                                case a.WIND_GET:
                                    this.AddSkill(f.skillEnum.Wind, r, t);
                                    break;
                                case a.MULTI_BOMB_GET:
                                    this.AddSkill(f.skillEnum.MultiBomb, r, t);
                                    break;
                                case a.KING_TACO_GET:
                                case a.GOLDEN_TACO_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingTaco, r, t);
                                    break;
                                case a.THUNDER_DRAGON_GET:
                                    this.AddSkill(f.skillEnum.ThunderDragon, r, t);
                                    break;
                                case a.ROCKET_GET:
                                    this.AddSkill(f.skillEnum.Rocket, r, t);
                                    break;
                                case a.KING_ANGLER_GET:
                                case a.GOLDEN_ANGLER_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingAnglerFish, r, t);
                                    break;
                                case a.HAMMER_GET:
                                    this.AddSkill(f.skillEnum.Hammer, r, t);
                                    break;
                                case a.KING_LACOSTE_GET:
                                case a.GOLDEN_LACOSTE_GET:
                                    this.AddSkill(f.skillEnum.AwakenKingLacoste, r, t);
                                    break;
                                case a.MERMAID_GET:
                                    this.AddSkill(f.skillEnum.AwakenMermaid, r, t);
                                    break;
                                case a.PHOENIX_GET:
                                    this.AddSkill(f.skillEnum.AwakenPhoenix, r, t);
                                    break;
                                case a.BUFFALO_GET:
                                    if ("FishKingOfCrab" == SS.Common.GameEnvironment.CurrentGameNow) {
                                        this.AddSkill(f.skillEnum.RedDragon, r, t);
                                        break
                                    }
                                    this.AddSkill(f.skillEnum.Buffalo, r, t);
                                    break;
                                case a.LUCKY_SHAMROCK_GET:
                                    this.AddSkill(f.skillEnum.Patrick, r, t);
                                    break;
                                case a.KINGKONG_GET:
                                    this.AddSkill(f.skillEnum.KingKong, r, t);
                                    break;
                                case a.ROCKSKULL_GET:
                                    this.AddSkill(f.skillEnum.RockSkull, r, t);
                                    break;
                                case a.VAMPIRE_GET:
                                    this.AddSkill(f.skillEnum.Vampire, r, t);
                                    break;
                                case a.DRAGON_TURTLE_GET:
                                    this.AddSkill(f.skillEnum.DragonTurtle, r, t);
                                    break;
                                case a.BUDDHA_GET:
                                    this.AddSkill(f.skillEnum.Buddha, r, t);
                                    break;
                                case a.LIONDANCE_GET:
                                    this.AddSkill(f.skillEnum.LionDance, r, t);
                                    break;
                                case a.RED_DRAGON_GET:
                                    this.AddSkill(f.skillEnum.RedDragon, r, t);
                                    break;
                                case a.SUBMARINE_EVENT:
                                    this.AddSkill(f.skillEnum.Submarine, r, t);
                                    break;
                                case a.LUCKY_CAT_GET:
                                    this.AddSkill(f.skillEnum.LuckyCat, r, t);
                                    break;
                                case a.CLOWN_GET:
                                    this.AddSkill(f.skillEnum.Clown, r, t);
                                    break;
                                case a.PIG_GET:
                                    this.AddSkill(f.skillEnum.Pig, r, t);
                                    break;
                                case a.TIGER_GET:
                                    this.AddSkill(f.skillEnum.Tiger, r, t);
                                    break;
                                case a.BLAZING_TIGER_GET:
                                    this.AddSkill(f.skillEnum.BlazingTiger, r, t);
                                    break;
                                case a.BUDDHA_PALM:
                                    this.AddSkill(f.skillEnum.BuddhaPalm, r, t);
                                    break;
                                case a.FLAME_STORM_GET:
                                    this.AddSkill(f.skillEnum.FlameStorm, r, t)
                            }
                            if (t.hasOwnProperty("player_info")) {
                                var c = t.player_info;
                                this.UpdateAssetEvent && this.UpdateAssetEvent(c)
                            }
                        } else cc.warn("Skill can't find player.")
                    } else cc.warn("Get skill data is null.");
                else cc.warn("Get skill Fail.")
            }, t.prototype.AddSkill = function(e, t, n) {
                void 0 === n && (n = null);
                var i = null,
                    o = null;
                if (e != f.skillEnum.RedDragon && (i = this.FindSkill(e, t)), t < this.skillList.length) {
                    var a = h.default.SpawnSkill(e, d.PlayerManager.isMainSeat(t));
                    a ? ((o = a.getComponent(f.default)).SetSkillType(e), o.Init(t, n), this.skillList[t].push(o)) : cc.warn("Can't spawn skill: " + e)
                }
                return i && (cc.warn("\u6280\u80fd\u5df2\u7d93\u5b58\u5728\u4e86"), i.UnUseSkill(), i = null), o
            }, t.prototype.FindSkill = function(e, t) {
                if (t >= this.skillList.length) return null;
                for (var n = 0; n < this.skillList[t].length; n++)
                    if (this.skillList[t][n].GetSkillType() == e && !this.skillList[t][n].IsGaveAward()) return this.skillList[t][n]
            }, t.prototype.RemoveSkill = function(e, t, n) {
                if (!(t >= this.skillList.length))
                    for (var i = 0; i < this.skillList[t].length; i++)
                        if (this.skillList[t][i].GetSkillType() == e && this.skillList[t][i] == n) {
                            this.skillList[t].splice(i, 1);
                            break
                        }
            }, t.prototype.RemovePlayerSkill = function(e) {
                if (!(e >= this.skillList.length))
                    for (var t = this.skillList[e].length - 1; t >= 0; t--) this.skillList[e][t].UnUseSkill()
            }, t.prototype.checkSkill = function(e) {
                for (var t = 0; t < this.skillList[e].length; t++)
                    if (this.skillList[e][t].GetSkillType() != f.skillEnum.Lock) return !0;
                return !1
            }, t.prototype.SendHitFish = function(e, t) {
                var n = {};
                n.fish = t, this.SendCmd(e, n)
            }, t.prototype.SendRangeFish = function(e, t, n) {
                var i = null;
                (i = n || {}).fish = t, this.SendCmd(e, i)
            }, t.prototype.SendSkillShoot = function(e, t, n, i) {
                var o = {};
                o.seat = t, o.x = n, o.y = i, this.SendCmd(e, o)
            }, t.prototype.onSkillExplosion = function(e, t, n, i, o, s) {
                var r = 0,
                    c = 0;
                if (t) {
                    var l = t.seat;
                    if (d.PlayerManager.isMainSeat(l)) {
                        var h = t.credits;
                        d.PlayerManager.BulletSync(null, h)
                    }
                    var u = null;
                    switch (s) {
                        case a.KING_CRAB_BOMB:
                            u = this.FindSkill(f.skillEnum.AwakenKingSpiderCrab, l), c = t.total_win;
                            break;
                        case a.KING_TACO_BOMB:
                        case a.GOLDEN_TACO_BOMB:
                            u = this.FindSkill(f.skillEnum.AwakenKingTaco, l), c = t.total_win;
                            break;
                        case a.MULTI_BOMB_BOMB:
                            u = this.FindSkill(f.skillEnum.MultiBomb, l), r = t.win;
                            break;
                        case a.THUNDER_DRAGON_BOMB:
                            u = this.FindSkill(f.skillEnum.ThunderDragon, l), c = t.total_win;
                            break;
                        case a.KING_ANGLER_BOMB:
                        case a.GOLDEN_ANGLER_BOMB:
                            u = this.FindSkill(f.skillEnum.AwakenKingAnglerFish, l), r = t.win;
                            break;
                        case a.KING_LACOSTE_BOMB:
                        case a.GOLDEN_LACOSTE_BOMB:
                            u = this.FindSkill(f.skillEnum.AwakenKingLacoste, l), r = t.win;
                            break;
                        case a.PHOENIX_BOMB:
                            if (!(u = this.FindSkill(f.skillEnum.AwakenPhoenix, l)))
                                for (var p = t.fish_dead_dict, m = Object.keys(p), y = 0; y < m.length; y++) r += p[m[y]].coin;
                            break;
                        case a.HAMMER_BOMB:
                            u = this.FindSkill(f.skillEnum.Hammer, l), c = t.total_win;
                            break;
                        case a.MERMAID_BOMB:
                            u = this.FindSkill(f.skillEnum.AwakenMermaid, l), r = t.win;
                            break;
                        case a.BUFFALO_BOMB:
                            u = this.FindSkill(f.skillEnum.Buffalo, l), r = t.win;
                            break;
                        case a.LUCKY_SHAMROCK_BOMB:
                            u = this.FindSkill(f.skillEnum.Patrick, l), r = t.win;
                            break;
                        case a.KINGKONG_BOMB:
                            u = this.FindSkill(f.skillEnum.KingKong, l), r = t.win;
                            break;
                        case a.ROCKSKULL_BOME:
                            u = this.FindSkill(f.skillEnum.RockSkull, l), r = t.win;
                            break;
                        case a.DRAGON_TURTLE_BOMB:
                            u = this.FindSkill(f.skillEnum.DragonTurtle, l), r = t.win;
                            break;
                        case a.RED_DRAGON_BOMB:
                            u = this.FindSkill(f.skillEnum.RedDragon, l), r = t.win;
                            break;
                        case a.PIG_BOMB:
                            u = this.FindSkill(f.skillEnum.Pig, l), r = t.win;
                            break;
                        case a.DRILL_HIT:
                            if (!(u = this.FindSkill(f.skillEnum.Drill, l)))
                                for (p = t.fish_dead_dict, m = Object.keys(p), y = 0; y < m.length; y++) r += p[m[y]].coin;
                            break;
                        case a.DRILL_BOMB:
                            u = this.FindSkill(f.skillEnum.Drill, l), c = t.total_win;
                            break;
                        case a.ELECTRIC_HIT:
                            u = this.FindSkill(f.skillEnum.Electric, l), c = t.total_win;
                            break;
                        case a.FLASH_NEXT:
                            if (null == (u = this.FindSkill(f.skillEnum.Flash, l)))
                                for (p = t.fish_dead_dict, m = Object.keys(p), y = 0; y < m.length; y++) r += p[m[y]].coin
                    }
                    if (u ? u.ReceiveSkillData(t, s) : d.PlayerManager.Instance.ModifyPlayerWinning(l, r > 0 ? r : c, null), t.hasOwnProperty("player_info") && (0 == t.continue || 0 == t.continues)) {
                        var g = t.player_info;
                        this.UpdateAssetEvent && this.UpdateAssetEvent(g)
                    }
                } else cc.warn("Skill explosion data is null.")
            }, t.prototype.onReceiveSkillData = function(e, t, n, i, o, s) {
                if (t) {
                    var r = t.seat,
                        c = null,
                        l = 0;
                    switch (s) {
                        case a.DRILL_SHOOT:
                            if (!d.PlayerManager.Instance || d.PlayerManager.isMainSeat(r)) return;
                            c = this.FindSkill(f.skillEnum.Drill, r);
                            break;
                        case a.ELECTRIC_SHOOT:
                            if (!d.PlayerManager.Instance || d.PlayerManager.isMainSeat(r)) return;
                            c = this.FindSkill(f.skillEnum.Electric, r);
                            break;
                        case a.FLAMES_TORM_SHOOT:
                            if (!d.PlayerManager.Instance || d.PlayerManager.isMainSeat(r)) return;
                        case a.FLAMES_TORM_END:
                            c = this.FindSkill(f.skillEnum.FlameStorm, r);
                            break;
                        case a.FLAMES_TORM_CHECK:
                            r = t[2], c = this.FindSkill(f.skillEnum.FlameStorm, r);
                            break;
                        case a.FLAMES_TORM_HIT:
                            if (r = t[2], null == (c = this.FindSkill(f.skillEnum.FlameStorm, r)))
                                for (var h = t[8], u = Object.keys(h), p = 0; p < u.length; p++) l += h[u[p]].coin;
                            break;
                        case a.WHEEL_CLICK:
                            c = this.FindSkill(f.skillEnum.Wheel, r)
                    }
                    if (t.hasOwnProperty("player_info")) {
                        var m = t.player_info;
                        this.UpdateAssetEvent && this.UpdateAssetEvent(m)
                    }
                    c ? c.ReceiveSkillData(t, s) : l > 0 && d.PlayerManager.Instance.ModifyPlayerWinning(r, l, null)
                } else cc.warn("Skill data is null.")
            }, t.prototype.CreateFlameStorm = function(e, t, n, i, o) {
                void 0 === i && (i = 0), void 0 === o && (o = 1)
            }, t.prototype.FlameStormShoot = function(e, t) {
                var n = {
                    1: e,
                    4: t.x,
                    5: t.y
                };
                this.SendCmd(a.FLAMES_TORM_SHOOT, n)
            }, t.prototype.FlameStormBlast = function(e, t, n) {
                var i = {
                    1: e,
                    2: t,
                    6: n
                };
                this.SendCmd(a.FLAMES_TORM_HIT, i)
            }, t.prototype.OnSkillWeaponHit = function(e, t, n, i, o, s) {
                if (t) {
                    var r = t[S.WeaponData.seat];
                    if (!this.CheckBetList(r, t)) {
                        var c = t[S.WeaponData.bet],
                            h = t[S.WeaponData.credits];
                        d.PlayerManager.isMainSeat(r) && d.PlayerManager.BulletSync(null, h), this.ParsePuzzelDropEgg(r, t);
                        var p = null;
                        switch (s) {
                            case a.LOCK_HIT:
                                var y = SS.Common.GameEnvironment.CurrentGameNow == l.FishGame.MF ? m.default.Instance.GetSkillLockLv(r) : f.skillEnum.Lock;
                                p = this.FindSkill(y, r);
                                break;
                            case a.TIGER_HIT:
                                p = this.FindSkill(f.skillEnum.TigerWeapon, r);
                                break;
                            case a.DRAGON_HIT:
                                p = this.FindSkill(f.skillEnum.DragonWeapon, r)
                        }
                        var g = t[S.WeaponData.fish_id];
                        if (!g) {
                            var v = Object.keys(t[S.WeaponData.fish_dead_dict]);
                            g = parseInt(v[0])
                        }
                        if (p && p.onHitFish(c, r, g), t.hasOwnProperty("player_info")) {
                            var b = t.player_info;
                            this.UpdateAssetEvent && this.UpdateAssetEvent(b)
                        }
                        var P = t[S.WeaponData.feature],
                            I = t.hit_fish_id_list[0];
                        _.GameLogMainPlayer.pushHit(I, c, r);
                        var C = t[S.WeaponData.fish_dead_dict];
                        null == C || C.length <= 0 ? u.default.Instance.IsEternalFish(t.hit_fish_id_list) ? d.PlayerManager.isMainSeat(r) && setTimeout(function() {
                            d.PlayerManager.BulletSync(-1)
                        }, 1e3) : d.PlayerManager.isMainSeat(r) && d.PlayerManager.BulletSync(-1) : (Object.keys(C).length > 1 && d.PlayerManager.isMainSeat(r) && d.PlayerManager.BulletSync(Object.keys(C).length - 1), this.SolveDieFish(r, c, P, C))
                    }
                } else console.warn("[OnSkillWeaponHit] Data is NULL.")
            }, t.prototype.CheckBetList = function(e, t) {
                if (t.hasOwnProperty("result")) {
                    var n = t.result;
                    if (t.hasOwnProperty("betRange") && t.hasOwnProperty("bet")) {
                        var i = t.betRange,
                            o = 0;
                        t.hasOwnProperty("bet") && (o = t.bet), d.PlayerManager.isMainSeat(e) && d.PlayerManager.Instance.CheckBetList(e, i, n, o)
                    }
                    if (-1 == n) return !0
                }
                return !1
            }, t.prototype.ParsePuzzelDropEgg = function(e, t) {
                if (t.hasOwnProperty("puzzle_ack") && t.hasOwnProperty("hit_fish_id_list")) {
                    var n = t.puzzle_ack,
                        i = t.hit_fish_id_list[0];
                    n.hasOwnProperty("900005") && r.default.Instance.ParsePuzzelDropEgg(e, d.PlayerManager.isMainSeat(e), n, i)
                }
            }, t.prototype.SolveDieFish = function(e, t, n, i) {
                for (var o = this, a = Object.keys(i), r = function(r) {
                        var h = i[a[r]],
                            p = h[S.WeaponData.fs_item_dict],
                            f = h[S.WeaponData.coin],
                            m = h.hasOwnProperty(S.WeaponData.feature) ? h[S.WeaponData.feature] : n,
                            y = cc.Vec2.ZERO,
                            g = u.default.Instance.GetFishByID(a[r].toString());
                        if (g) g.IsFeatureFish && (m = !0), m && !l.default.KillableFeatureFish(g.Type) || u.default.Instance.KillFish(e, g, f, t, null, null, null, h), l.default.getFishType(g.Type) == l.FishType.WealthGod ? (y = s.default.isReverse ? cc.v2(0, -100) : cc.v2(0, 100), setTimeout(function() {
                            o.CallDropItem(e, p, y, !1)
                        }, 5e3)) : c.CallDropItem(e, p, y, !1);
                        else if (f > 0 && d.PlayerManager.Instance.ModifyPlayerWinning(e, f), d.PlayerManager.isMainSeat(e)) {
                            var _ = void 0,
                                v = void 0;
                            Math.random() > .5 ? (_ = Math.floor(1136 * Math.random() - 568), v = Math.random() > .5 ? 350 : -320) : (_ = Math.random() > .5 ? 600 : -600, v = Math.floor(660 * Math.random() - 320)), y = cc.v2(_, v), c.CallDropItem(e, p, y)
                        }
                    }, c = this, h = 0; h < a.length; h++) r(h)
            }, t.prototype.CallDropItem = function(e, t, n, i) {
                if (void 0 === i && (i = !0), null != t) {
                    var o = t.freeze_amount,
                        a = t.summon_amount;
                    Object.keys(t).forEach(function(i) {
                        if (i == g.ITEM_ID.FREEZE || i == g.ITEM_ID.SUMMON) {
                            var s = t[i];
                            s > 0 && p.default.Instance.DropItemEffect(e, i, s, n, !0, null, o, a)
                        }
                    })
                }
            }, t.prototype.SendLockHit = function(e, t, n, i) {
                var o = {};
                o[S.WeaponData.id] = n, o[S.WeaponData.seat] = e, o[S.WeaponData.bet] = t, o[S.WeaponData.fish_id] = i, this.SendCmd(a.LOCK_HIT, o, !1, e)
            }, t.prototype.SendTigerHit = function(e, t, n, i) {
                var o = {};
                o[S.WeaponData.id] = n, o[S.WeaponData.seat] = e, o[S.WeaponData.bet] = t, o[S.WeaponData.fish_id] = i, this.SendCmd(a.TIGER_HIT, o, !1, e)
            }, t.prototype.SendDragonHit = function(e, t, n, i, o) {
                var s = {};
                s[S.WeaponData.id] = n, s[S.WeaponData.seat] = e, s[S.WeaponData.bet] = t, s[S.WeaponData.fish_id] = o, s[S.WeaponData.fish_id_list] = i, this.SendCmd(a.DRAGON_HIT, s, !1, e)
            }, t.prototype.SendStopWheel = function(e) {
                var t = {};
                t.click = e, this.SendCmd(a.WHEEL_CLICK, t)
            }, t.prototype.onSyncFishOdds = function(e, t) {
                if (t.hasOwnProperty("Vampire_odds")) {
                    var n = t.Vampire_odds;
                    u.default.Instance.UniqueFishOddsEvent(n, l.FishType.Vampire)
                }
                t.hasOwnProperty("LuckyBuddha_odds") && (n = t.LuckyBuddha_odds, u.default.Instance.UniqueFishOddsEvent(n, l.FishType.Buddha)), t.hasOwnProperty("CircusClown_odds") && (n = t.CircusClown_odds, u.default.Instance.UniqueFishOddsEvent(n, l.FishType.CircusClown)), t.hasOwnProperty("FlamingTiger_odds") && (n = t.FlamingTiger_odds, u.default.Instance.UniqueFishOddsEvent(n, l.FishType.BlazingTiger))
            }, t.prototype.SendCustomCmd = function(e, t) {
                this.SendCmd(e, t)
            }, t.prototype.onTreasureCrabEvent = function(e, t) {
                if (t.hasOwnProperty("treasure_score") && u.default.Instance.getUniqueFishData(l.FishType.TreasureCrab).setTargetNumber(t.treasure_score), t.hasOwnProperty("win_type")) {
                    var n = t.seat;
                    switch (t.win_type) {
                        case "capture":
                            var i = t.id,
                                o = u.default.Instance.GetFishByID(i),
                                a = t.win,
                                s = t.bet;
                            u.default.Instance.KillFish(n, o, a, s);
                            break;
                        case "upgrade":
                            d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(1), u.default.Instance.getUniqueFishData(l.FishType.TreasureCrab).TreasureCrabLevelUp(t)
                    }
                }
            }, t.prototype.onSubmarineEvent = function(e, t) {
                if (t.hasOwnProperty("win_type")) {
                    var n = t.seat,
                        i = t.win_type,
                        o = t.bet;
                    switch (i) {
                        case "small":
                            var s = t.win_odds_list[0],
                                r = t.id,
                                l = u.default.Instance.GetFishByID(r);
                            c.default.Instance.SmallTreasure(l ? l.node : null, s, o, n);
                            break;
                        case "big":
                            var h = t.win_odds_list[0],
                                p = t.id,
                                d = u.default.Instance.GetFishByID(p);
                            c.default.Instance.BigTreasure(d ? d.node : null, h, o, n);
                            break;
                        case "versus1":
                        case "versus2":
                        case "capture":
                            this.onGetSkill(0, t, null, null, null, a.SUBMARINE_EVENT)
                    }
                }
            }, t.prototype.onGetMedalEvent = function(e, t) {
                var n = u.default.Instance.GetFishByID(t.fish),
                    i = t.win_type;
                if ("kill" == i) switch (l.default.getFishType(n.Type)) {
                    case l.FishType.EternalSquid:
                        return _.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !0), void c.default.Instance.EternalSquidAward(n, t.win, t.bet, t.seat, !0);
                    case l.FishType.GeneralLobster:
                        if (2 == t.old_level) return _.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !0), void c.default.Instance.GeneralLobsterAward(n, t.win, t.bet, t.seat, !0);
                        break;
                    case l.FishType.ArmorKingCrab:
                        return _.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !0), n.FishDie(t.seat), c.default.Instance.BossAward(n, t.win, t.bet, t.seat, !0), void u.default.Instance.recycleUniqueFishData(l.FishType.ArmorKingCrab);
                    case l.FishType.KingJellyFish:
                    case l.FishType.KingSquid:
                        return _.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !0), void c.default.Instance.BossAward(n, t.win, t.bet, t.seat, !0)
                }
                var o = t.win_type;
                "kill" != o && "big" != o || (o = "middle");
                var a = t.win,
                    s = t.bet,
                    r = t.seat;
                if (d.PlayerManager.isMainSeat(r) && d.PlayerManager.BulletSync(1), n) {
                    var p = null;
                    switch (l.default.getFishType(n.Type)) {
                        case l.FishType.GeneralLobster:
                            if (_.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !1), p = c.default.Instance.MedalAward(o, n, a, s, r, !0), t.hasOwnProperty("new_level") && t.hasOwnProperty("old_level") && t.new_level > t.old_level) {
                                n.changeLevel(t.new_level);
                                var f = h.default.SpawnAward("LevelUpMedal", d.PlayerManager.isMainSeat(r));
                                f.setParent(p.node), f.getComponent(cc.Animation).play()
                            }
                            break;
                        case l.FishType.ArmorKingCrab:
                            if (_.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !1), "big" == i) {
                                var m = !!t.hasOwnProperty("multiple") && t.multiple > 1;
                                c.default.Instance.ArmorCrabBigMedal(n, a, s, r, m)
                            } else c.default.Instance.MedalAward(o, n, a, s, r, !0);
                            var y = {};
                            t.hasOwnProperty("hp") && (y.hp = t.hp), t.hasOwnProperty("new_level") && (y.level = t.new_level), u.default.Instance.getUniqueFishData(l.FishType.ArmorKingCrab).setCustomData(y);
                            break;
                        case l.FishType.KingSquid:
                        case l.FishType.KingJellyFish:
                            t.hasOwnProperty("size") && n.changeLevel(t.size);
                        default:
                            _.GameLogMainPlayer.pushWinning(n.Type, t.bet, t.seat, t.win, !1), p = c.default.Instance.MedalAward(o, n, a, s, r, !0)
                    }
                }
            }, t.prototype.onGetSlotEvent = function(e, t) {
                _.GameLogMainPlayer.pushWinning(115, t.bet, t.seat, t.win, !1);
                var n = t.seat;
                d.PlayerManager.isMainSeat(n) && d.PlayerManager.BulletSync(1);
                var i = f.skillEnum.GoldenSlot,
                    o = this.FindSkill(i, n);
                if (o) o.ReceiveSkillData(t);
                else {
                    var a = h.default.SpawnSkill(i, d.PlayerManager.isMainSeat(n));
                    d.PlayerManager.isMainSeat(n) ? a.setParent(h.default.Instance.Effects_own) : a.setParent(h.default.Instance.Effects), a ? ((o = a.getComponent(f.default)).SetSkillType(i), o.Init(n, t), this.skillList[n].push(o), o.ReceiveSkillData(t)) : cc.warn("Can't spawn skill: " + i)
                }
            }, t.prototype.onFishStatusSyncEvent = function(e, t) {
                switch (SS.Common.GameEnvironment.CurrentGameNow) {
                    case l.FishGame.KC:
                        var n = u.default.Instance.GetFishByType(l.FishType.GeneralLobster);
                        n && n.setExdata(t);
                        break;
                    case l.FishGame.GO:
                        if (t.hasOwnProperty("ARMOR_KING_SPIDER_CRAB")) {
                            var i = t.ARMOR_KING_SPIDER_CRAB;
                            u.default.Instance.getUniqueFishData(l.FishType.ArmorKingCrab).setCustomData(i)
                        }
                        if (t.hasOwnProperty("GOLDEN_MEDUSA")) {
                            var o = u.default.Instance.GetFishByID(t.GOLDEN_MEDUSA.fish_id);
                            o && o.changeLevel(t.GOLDEN_MEDUSA.size)
                        }
                        if (t.hasOwnProperty("GOLDEN_SQUID")) {
                            var a = u.default.Instance.GetFishByID(t.GOLDEN_SQUID.fish_id);
                            a && a.changeLevel(t.GOLDEN_SQUID.size)
                        }
                }
            }, t.prototype.onUpdateEnergy = function(e, t) {
                t.hasOwnProperty("BuddhaPalm") && v.EventSystem.Event(v.FishHunter.UpdateBuddhaPalm).Notify(t.BuddhaPalm)
            }, t
        }(y.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../LobbyCommon/Helper/EventSystem": void 0,
        "../Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "../GameClient": "GameClient",
        "../MainGame/Award/AwardManager": "AwardManager",
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Common/ResourceManager": "ResourceManager",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Item/ItemManager": "ItemManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "../MainGame/Skill/BaseSkill": "BaseSkill",
        "../MainGame/Weapon/WeaponManager": "WeaponManager",
        "./ItemSystem": "ItemSystem",
        "./WeaponSystem": "WeaponSystem",
        "./baseSystem": "baseSystem"
    }],
    SkillTaco: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a2a5bVyv4FMGpvivkGQv7zj", "SkillTaco");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = e("../../GameClient"),
            u = e("../Common/AudioManager"),
            p = e("../Common/EnumFilter"),
            d = e("../Common/ResourceManager"),
            f = e("../Fish/FishManager"),
            m = e("../Player/PlayerManager"),
            y = e("../Weapon/WeaponManager"),
            g = e("./BaseSkill"),
            S = cc._decorator,
            _ = S.ccclass,
            v = S.property;
        (function(e) {
            e[e.None = 0] = "None", e[e.Explosion = 1] = "Explosion", e[e.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var b = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.explosion_anim = null, t.burst_anim = null, t.number_anim = null, t.number_label = null, t.totem_node = null, t.Tacos = [], t.multi_List = [], t.multi_index = 0, t.id = "", t.Taco = null, t.SkillState = c.None, t.isGetKillFish = !1, t.Timer = 0, t
            }
            return o(t, e), t.prototype.onLoad = function() {
                this.skillType = g.skillEnum.AwakenKingTaco, this.limitTime = 100
            }, t.prototype.update = function(e) {
                this.ChackExplodeData(e)
            }, t.prototype.InitProperties = function(t) {
                void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.multi_index = 0, this.totem_node.active = !1, this.explosion_anim.node.active = !1, this.burst_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.id = "", this.Timer = 0, this.isGetKillFish = !1, this.SkillState = c.None, this.id = t.id, this.playerBet = t.bet, this.multi_List = t.multi
            }, t.prototype.UseSkill = function() {
                this.Taco = f.default.Instance.GetFishByID(this.id), this.Taco ? this.SkillProcess(this.Taco.node.parent.getPosition(), this.playerSeat) : cc.warn("[InitInfo] Crab is Null!")
            }, t.prototype.UnUseSkill = function() {
                e.prototype.UnUseSkill.call(this), this.number_anim.node.parent = this.node, this.Taco = null, this.explosion_anim.stop(), this.burst_anim.stop(), this.number_anim.stop();
                for (var t = 0; t < this.Tacos.length; t++) this.Tacos[t].stop(), this.Tacos[t].node.opacity = 0
            }, t.prototype.ReceiveSkillData = function(e) {
                if (this.id == e.id) {
                    this.totalWin = e.total_win;
                    for (var t = e.fish_dead_dict, n = Object.keys(t), i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = f.default.Instance.GetFishByID(o);
                        a && (this.dieFishList.push(a), this.winList.push(t[o].coin))
                    }
                    this.isGetKillFish = !0
                } else cc.warn("[InitExplosion] ID isn't current!")
            }, t.prototype.SkillProcess = function(e, t) {
                return s(this, void 0, void 0, function() {
                    var n = this;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return this.Taco && this.Taco.FishDie(t), [4, this.delay(2e3)];
                            case 1:
                                return i.sent(), this.node.setPosition(e), this.node.angle = l.default.isReverse ? 180 : 0, this.totem_node.opacity = 0, this.totem_node.active = !0, this.node.runAction(cc.sequence(cc.callFunc(function() {
                                    d.default.SpawnEffect(p.EffectType.BallFire, n.isMainPlayer).setPosition(n.node.getPosition()), n.totem_node.runAction(cc.sequence(cc.delayTime(1), cc.fadeIn(1)))
                                }), cc.delayTime(1), cc.callFunc(function() {
                                    u.default.Instance.Fade(u.default.Instance.GetBGMID(), 1, 0), n.bgmID = u.default.Instance.Play("BOSS_out01", 1, !0), u.default.Instance.Fade(n.bgmID, 0, 1)
                                }), cc.moveTo(2, cc.v2(0, 0)), cc.callFunc(function() {
                                    n.CreateSkillTitle(), u.default.Instance.Play("jump_01"), n.explosion_anim.node.active = !0, n.number_anim.node.active = !0, n.number_anim.node.runAction(cc.sequence(cc.callFunc(function() {
                                        n.number_label.string = "x" + n.multi_List[n.multi_index]
                                    }), cc.scaleTo(0, 2), cc.scaleTo(1, 1))), n.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2.5), cc.scaleTo(1, 1.3)))
                                }), cc.delayTime(1), cc.callFunc(function() {
                                    n.TacoAttackShow(t, n.multi_List)
                                }))), [2]
                        }
                    })
                })
            }, t.prototype.TacoAttackShow = function(e, t) {
                var n = this;
                this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                    n.Tacos[0].node.opacity = 255, n.Tacos[3].node.opacity = 255, n.Tacos[0].play(), n.Tacos[3].play()
                }), cc.delayTime(.233), cc.callFunc(function() {
                    n.TotemHurtShow(t, 2)
                }), cc.delayTime(1.7), cc.callFunc(function() {
                    n.Tacos[2].node.opacity = 255, n.Tacos[5].node.opacity = 255, n.Tacos[2].play(), n.Tacos[5].play()
                }), cc.delayTime(.233), cc.callFunc(function() {
                    n.TotemHurtShow(t, 2)
                }), cc.delayTime(1.7)), 2), cc.callFunc(function() {
                    n.SkillState = c.Explosion
                })))
            }, t.prototype.ExplodeShow = function() {
                return s(this, void 0, void 0, function() {
                    var e, t;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                for (e = 0, t = 0; t < this.Tacos.length; t++) this.Tacos[t].node.opacity = 255, this.Tacos[t].play();
                                return [4, this.delay(233.3)];
                            case 1:
                                return n.sent(), this.TotemHurtShow(this.multi_List, 1, !0), this.number_anim.play("Number"), this.totem_node.active = !1, e = this.KillFishesAndShowAward(), [4, this.delay(1e3 * e)];
                            case 2:
                                return n.sent(), this.ShowScore(), [2]
                        }
                    })
                })
            }, t.prototype.ShowScore = function() {
                return s(this, void 0, void 0, function() {
                    var e, t, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return this.isMainPlayer && 0 == this.totalWin ? (h.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (e = 0, e = l.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(this.totalWin / this.multi_List[this.multi_index]), [4, this.delay(1700)]);
                            case 1:
                                return i.sent(), this.number_anim.node.parent = d.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = m.PlayerManager.MainSeat > 1 ? 180 : 0, t = m.PlayerManager.MainSeat > 1 ? -1 : 1, n = y.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, e)).scale(new cc.Vec2(t, t)), this.number_anim.stop(), this.number_anim.node.runAction(cc.moveTo(1.5, n)), [4, this.delay(1500)];
                            case 2:
                                return i.sent(), this.number_label.string = "", this.multi_List[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 4];
                            case 3:
                                return i.sent(), this.PlayAwardSound(), [3, 5];
                            case 4:
                                this.PlayAwardSound(), i.label = 5;
                            case 5:
                                return [4, this.delay(1e3)];
                            case 6:
                                return i.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, t.prototype.TotemHurtShow = function(e, t, n) {
                var i = this;
                if (void 0 === n && (n = !1), n) return this.burst_anim.node.active = !0, this.burst_anim.play("Burst"), u.default.Instance.Play("TD_Explode"), u.default.Instance.Stop(this.bgmID), this.bgmID = null, u.default.Instance.Play("BOSS_out02"), u.default.Instance.Fade(u.default.Instance.GetBGMID(), 0, 1), void this.CameraShakeEffect(3, 2);
                this.explosion_anim.play("Explosion"), this.CameraShakeEffect(1, 3), this.number_anim.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    i.multi_index++, i.multi_index >= e.length && (i.multi_index = e.length - 1), i.number_label.string = "x" + e[i.multi_index]
                }), cc.scaleTo(0, 2), cc.scaleTo(.5, 1)), t)), this.totem_node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                    if (!n) {
                        var e = i.multi_index > 9 ? 9 : i.multi_index;
                        u.default.Instance.Play("jump_0" + e.toString())
                    }
                }), cc.scaleTo(0, 2.5), cc.scaleTo(.5, 1.3)), t))
            }, t.prototype.ChackExplodeData = function(e) {
                if (this.SkillState != c.None)
                    if (this.Timer += e, this.isGetKillFish) {
                        switch (this.SkillState) {
                            case c.Explosion:
                                this.ExplodeShow();
                                break;
                            case c.ShowScore:
                                this.ShowScore()
                        }
                        this.SkillState = c.None
                    } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
            }, a([v(cc.Animation)], t.prototype, "explosion_anim", void 0), a([v(cc.Animation)], t.prototype, "burst_anim", void 0), a([v(cc.Animation)], t.prototype, "number_anim", void 0), a([v(cc.Label)], t.prototype, "number_label", void 0), a([v(cc.Node)], t.prototype, "totem_node", void 0), a([v([cc.Animation])], t.prototype, "Tacos", void 0), a([_], t)
        }(g.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillThunderDragon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "8dfa2h62zVFU5ow7ehkq1pp", "SkillThunderDragon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("./BaseSkill"),
            h = e("../Player/PlayerManager"),
            u = e("../Fish/FishManager"),
            p = e("../Common/ResourceManager"),
            d = e("../Weapon/WeaponManager"),
            f = e("../Common/AudioManager"),
            m = e("../../GameClient"),
            y = e("../../../../../FishCommon/Script/CanvasHandler"),
            g = e("../../GameClient");
        (function(e) {
            e[e.None = 0] = "None", e[e.Explosion = 1] = "Explosion", e[e.ShowScore = 2] = "ShowScore"
        })(c || (c = {}));
        var S = cc._decorator,
            _ = S.ccclass,
            v = S.property,
            b = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.explosion_anim = null, t.number_anim = null, t.number_label = null, t.totem_node = null, t.spine_node = null, t.SkillState = c.None, t.multi_index = 0, t.multi_list = null, t.id = "", t.isGetKillFish = !1, t.Timer = 0, t.spine_list = null, t.spine_anim_config = [
                        [],
                        [90, -90, 0, 0, 0, 0, 0, 0],
                        [0, 0, 1, -180, 0, 0, 0, 0],
                        [90, 0, 0, 0, -135, 0, 0, -90],
                        [0, 135, -90, 0, 0, -1, -180, 0],
                        [1, 72, 144, 216, 288, 45, 90, 135]
                    ], t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.limitTime = 30, this.spine_list = this.spine_node.getComponentsInChildren(sp.Skeleton), this.spine_list.forEach(function(e) {
                        e.setCompleteListener(function() {
                            e.node.active = !1
                        })
                    })
                }, t.prototype.update = function(e) {
                    this.ChackExplodeData(e)
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.multi_index = 0, this.multi_list = [], this.totem_node.active = !1, this.totem_node.scale = 1, this.explosion_anim.node.active = !1, this.number_anim.node.active = !1, this.number_anim.node.setPosition(cc.Vec2.ZERO), this.number_anim.node.angle = 0, this.id = "", this.SkillState = c.None, this.isGetKillFish = !1, this.Timer = 0, this.id = t.id, this.playerBet = t.bet, this.multi_list = t.multi
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return f.default.Instance.Play("42_dragon_blow"), (e = u.default.Instance.GetFishByID(this.id)) ? (e.CanCollision = !1, e.PlayDieAnim(), [4, this.delay(2e3)]) : (cc.warn("[InitInfo] Dragon is Null!"), [2]);
                                case 1:
                                    return i.sent(), t = this.node.parent.convertToNodeSpaceAR(e.getFishPos()), f.default.Instance.Play("41_catch_bigfish"), (n = p.default.SpawnEffect("7", this.isMainPlayer)) && (n.scale = 2, n.setPosition(t)), [4, this.delay(750)];
                                case 2:
                                    return i.sent(), this.InitTotem(t), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    e.prototype.UnUseSkill.call(this), this.multi_list = null, this.number_anim.node.parent = this.node, this.explosion_anim.stop(), this.number_anim.stop()
                }, t.prototype.ReceiveSkillData = function(e) {
                    if (this.id == e.id) {
                        this.totalWin = e.total_win;
                        for (var t = e.fish_dead_dict, n = Object.keys(t), i = 0; i < n.length; i++) {
                            var o = n[i],
                                a = u.default.Instance.GetFishByID(o);
                            a && (this.dieFishList.push(a), this.winList.push(t[o].coin))
                        }
                        this.isGetKillFish = !0, cc.error(e), g.GameLogMainPlayer.pushWinning(this.id, this.playerBet, this.playerSeat, e.total_win, !0)
                    } else cc.warn("[InitExplosion] ID isn't current!")
                }, t.prototype.InitTotem = function(e) {
                    var t = this;
                    this.node.setPosition(e), this.node.angle = y.default.isReverse ? 180 : 0, this.node.runAction(cc.sequence(cc.callFunc(function() {
                        t.totem_node.active = !0
                    }), cc.callFunc(function() {
                        f.default.Instance.Fade(f.default.Instance.GetBGMID(), 1, 0), t.bgmID = f.default.Instance.Play("TD_Out01_1", .8), cc.audioEngine.setFinishCallback(t.bgmID, function() {
                            t.bgmID = null, f.default.Instance.Fade(f.default.Instance.GetBGMID(), 0, 1)
                        }), f.default.Instance.Fade(t.bgmID, 0, 1)
                    }), cc.moveTo(1.5, cc.v2(0, 0)), cc.delayTime(.5), cc.callFunc(function() {
                        t.explosion_anim.node.active = !0, t.explosion_anim.play("Explosion"), t.number_anim.node.active = !0, t.DragonBallHit(), t.CreateSkillTitle(), t.SetMainAnim()
                    })))
                }, t.prototype.SetMainAnim = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return e = 1, this.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(1.5), cc.callFunc(function() {
                                        e <= 4 && t.SetSpineAnimByConfig(e), e++
                                    })), 4), cc.repeat(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                                        t.SetSpineAnimByRandom(4)
                                    })), 4))), [4, this.delay(8e3)];
                                case 1:
                                    return n.sent(), this.SkillState = c.Explosion, [2]
                            }
                        })
                    })
                }, t.prototype.ExplodeShow = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t = this;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.explosion_anim.play("Explosion"), this.number_anim.play("Number"), this.totem_node.active = !1, f.default.Instance.Play("TD_Explode"), e = this.KillFishesAndShowAward(), this.CameraShakeEffect(1, 4), this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function() {
                                        t.SmallBlast()
                                    }), cc.delayTime(1.5)), 2)), [4, this.delay(1e3 * e)];
                                case 1:
                                    return n.sent(), this.ShowScore(), [2]
                            }
                        })
                    })
                }, t.prototype.ShowScore = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n, i = this;
                        return r(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.isMainPlayer && 0 == this.totalWin ? (m.default.Instance.CallOnError("C44", "SkillZeroWin"), [2]) : (e = 0, e = y.default.isReverse ? this.playerSeat > 1 ? 120 : -120 : this.playerSeat > 1 ? -120 : 120, this.ShowSkillScore(Math.ceil(this.totalWin / this.multi_list[this.multi_index])), [4, this.delay(3e3)]);
                                case 1:
                                    return o.sent(), this.number_anim.node.parent = p.default.Instance.Effects, this.number_anim.node.zIndex = 50, this.number_anim.node.angle = h.PlayerManager.MainSeat > 1 ? 180 : 0, t = h.PlayerManager.MainSeat > 1 ? -1 : 1, n = d.default.WeaponUIPosition(this.playerSeat).add(new cc.Vec2(0, e)).scale(new cc.Vec2(t, t)), this.number_anim.stop(), this.number_anim.node.runAction(cc.sequence(cc.moveTo(1.5, n), cc.callFunc(function() {
                                        return s(i, void 0, void 0, function() {
                                            return r(this, function(e) {
                                                switch (e.label) {
                                                    case 0:
                                                        return this.number_label.string = "", this.multi_list[this.multi_index] > 1 ? (this.number_anim.node.stopAllActions(), this.SetSkillScore(this.totalWin, 3), [4, this.delay(3e3)]) : [3, 2];
                                                    case 1:
                                                        return e.sent(), this.PlayAwardSound(), [3, 3];
                                                    case 2:
                                                        this.PlayAwardSound(), e.label = 3;
                                                    case 3:
                                                        return [4, this.delay(1e3)];
                                                    case 4:
                                                        return e.sent(), this.UnUseSkill(), [2]
                                                }
                                            })
                                        })
                                    }))), [2]
                            }
                        })
                    })
                }, t.prototype.SmallBlast = function() {
                    for (var e = function() {
                            var e = p.default.SpawnEffect("Blue_Blast", t.isMainPlayer);
                            if (!e) return "continue";
                            var n = new cc.Vec2(568 * Math.random() * (Math.random() >= .5 ? 1 : -1), 320 * Math.random() * (Math.random() >= .5 ? 1 : -1)),
                                i = 1.5 * Math.random() + 1,
                                o = Math.random();
                            e.active = !1, e.setPosition(n), e.scale = i, t.node.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                                e.active = !0, e.getComponent(cc.Animation).play("Blast")
                            })))
                        }, t = this, n = 0; n < 15; n++) e()
                }, t.prototype.SetSpineAnimByConfig = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t, n, i, o;
                        return r(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    if (e >= this.spine_anim_config.length) return [2];
                                    for (t = this.spine_anim_config[e], n = 0; n < this.spine_list.length; n++) 0 != (i = t[n]) && ((o = this.spine_list[n]).node.active = !0, o.node.angle = -i, o.setAnimation(0, "SWIM", !1));
                                    return [4, this.delay(500)];
                                case 1:
                                    return a.sent(), this.multi_index++, this.DragonBallHit(), [4, this.delay(200)];
                                case 2:
                                    return a.sent(), this.multi_list[this.multi_index] != this.multi_list[this.multi_index + 1] && (this.multi_index++, this.DragonBallHit(!0)), [2]
                            }
                        })
                    })
                }, t.prototype.SetSpineAnimByRandom = function(e) {
                    return s(this, void 0, void 0, function() {
                        var t, n, i, o, a, s;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    t = this.spine_anim_config[5], n = !1, i = this.spine_list.length - 1, r.label = 1;
                                case 1:
                                    return i >= 0 ? (o = t[i], !(a = this.spine_list[i]).node.active && (a.node.active = !0, a.node.angle = -o, a.setAnimation(0, "SWIM", !1), n = !0, --e <= 0) ? [3, 4] : [4, this.delay(100)]) : [3, 4];
                                case 2:
                                    r.sent(), r.label = 3;
                                case 3:
                                    return i--, [3, 1];
                                case 4:
                                    if (!n) return [2];
                                    s = 0, r.label = 5;
                                case 5:
                                    return s < 1 ? (this.multi_index++, this.DragonBallHit(), [4, this.delay(350)]) : [3, 8];
                                case 6:
                                    r.sent(), r.label = 7;
                                case 7:
                                    return s++, [3, 5];
                                case 8:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.DragonBallHit = function(e) {
                    return void 0 === e && (e = !1), s(this, void 0, void 0, function() {
                        var t;
                        return r(this, function() {
                            return this.CameraShakeEffect(1, 3), this.multi_index == this.multi_list.length && (this.multi_index = this.multi_list.length - 1), this.number_label.string = "x" + this.multi_list[this.multi_index], 0 == (t = this.multi_index > 9 ? 9 : this.multi_index) && (t = 1), f.default.Instance.Play("jump_0" + t.toString()), e || this.totem_node.runAction(cc.sequence(cc.scaleTo(0, 2), cc.scaleTo(.25, 1))), this.number_anim.node.runAction(cc.sequence(cc.scaleTo(0, 1.5), cc.scaleTo(.25, 1))), [2]
                        })
                    })
                }, t.prototype.ChackExplodeData = function(e) {
                    if (this.SkillState != c.None)
                        if (this.Timer += e, this.isGetKillFish) {
                            switch (this.SkillState) {
                                case c.Explosion:
                                    this.ExplodeShow();
                                    break;
                                case c.ShowScore:
                                    this.ShowScore()
                            }
                            this.SkillState = c.None
                        } else this.Timer >= 10 ? this.UnUseSkill() : this.Timer >= 5 && (this.SkillState = c.ShowScore)
                }, a([v(cc.Animation)], t.prototype, "explosion_anim", void 0), a([v(cc.Animation)], t.prototype, "number_anim", void 0), a([v(cc.Label)], t.prototype, "number_label", void 0), a([v(cc.Node)], t.prototype, "totem_node", void 0), a([v(cc.Node)], t.prototype, "spine_node", void 0), a([_], t)
            }(l.default);
        n.default = b, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillTigerWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "59c01u5tx1P7bExM+i6twUb", "SkillTigerWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../../../../LobbyCommon/Net/LobbyClient"),
            h = e("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = e("../../GameClient"),
            p = e("../Common/EnumFilter"),
            d = e("../Common/ResourceManager"),
            f = e("../Fish/FishManager"),
            m = e("../Player/PlayerManager"),
            y = e("../Weapon/TigerBullet"),
            g = e("../Weapon/WeaponManager"),
            S = e("./BaseSkill"),
            _ = cc._decorator,
            v = _.ccclass,
            b = _.property,
            P = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.LockAiming = null, t.player = null, t.targetFish = null, t.targetType = -1, t.lastType = null, t.touchFishID = "", t.mWeapon = null, t.betScale = 2, t.unhitList = null, t.StartPos = cc.Vec2.ZERO, t.ShootPos = cc.Vec2.ZERO, t.attackRate = .1666667, t.attackTimer = 0, t.isTouchHold = !1, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = S.skillEnum.TigerWeapon, this.limitTime = 0
                }, t.prototype.onEnable = function() {
                    this.isMainPlayer && (this.lastType && (this.targetType = this.lastType, this.lastType = null), this.RegisterTouchEvent(), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this))
                }, t.prototype.onDisable = function() {
                    this.isMainPlayer && (this.CanelRegisterTouchEvent(), this.lastType = this.targetType, f.default.Instance.Event_FishInit = null), this.setLocking(null), this.isTouchHold = !1
                }, t.prototype.InitProperties = function(e) {
                    void 0 === e && (e = null), this.isUnuse = !1, this.attackTimer = 0, this.targetType = -1, this.targetFish = null, this.touchFishID = "", e && e.targetType && (this.targetType = e.targetType), this.player = m.PlayerManager.getPlayer(this.playerSeat)
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this.isMainPlayer && (this.RegisterTouchEvent(), this.enableLockAiming(!1), f.default.Instance.Event_FishEnter = this.OnFishEnter.bind(this), f.default.Instance.Event_FishInit = this.OnFishInit.bind(this)), this.StartPos = g.default.WeaponPosition(this.playerSeat).addSelf(this.playerSeat > 1 ? new cc.Vec2(0, -80) : new cc.Vec2(0, 80)), [2]
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    this.attackTimer = 0, this.targetType = -1, this.unhitList = null, this.LockAiming.node.active = !1, this.isMainPlayer ? (this.targetFish && (this.targetFish.Event_FishLeave = null, this.targetFish = null, this.touchFishID = ""), this.enableLockAiming(!1), this.CanelRegisterTouchEvent(), f.default.Instance.Event_FishEnter = null, f.default.Instance.Event_FishInit = null) : this.targetFish && (this.targetFish = null), this.isMainPlayer = !1, this.isUnuse = !0, this.RemoveSkillEffect(), u.default.SkillSystem.RemoveSkill(this.skillType, this.playerSeat, this), d.default.DespawnSkill(this.skillType, this.node)
                }, t.prototype.setWeapon = function(e, t) {
                    this.mWeapon = e, this.attackRate = 1 / t["1secShoot"], this.betScale = t.betScale, this.isMainPlayer && (this.unhitList = p.default.TransFishTypeList(t.UnhitList))
                }, t.prototype.onHitFish = function(e, t, n) {
                    if (!this.isMainPlayer) {
                        m.PlayerManager.Instance.ModifyPlayerEntries(t, -e * this.betScale);
                        var i = f.default.Instance.GetFishByID(n.toString());
                        if (i) {
                            var o = d.default.SpawnBullet("56001", this.isMainPlayer).getComponent(y.default);
                            o && (o.node.setPosition(this.mWeapon.node.getPosition()), o.skillInit(i, this.playerSeat, this.player.bet_value, this.betScale));
                            var a = i.GetLockLinkPoint(this.node.getPosition());
                            a && (this.ShootPos = c.default.ConvMousePos(a)), this.mWeapon.ShootFunction(this.ShootPos)
                        }
                    }
                    this.mWeapon.autoAnim || u.default.Instance.RecordClickLog(this.isMainPlayer)
                }, t.prototype.update = function(t) {
                    this.isUnuse || (e.prototype.update.call(this, t), this.attackTimer < this.attackRate && (this.attackTimer += t), this.isMainPlayer && this.MainPlayerUpdate(t))
                }, t.prototype.setLocking = function(e) {
                    this.isMainPlayer && this.targetFish && e != this.targetFish && (this.targetFish.Event_FishLeave = null, this.touchFishID = ""), this.targetFish = e || null, this.targetType = e ? e.Type : -1, this.isMainPlayer && this.targetFish ? this.targetFish.Event_FishLeave = this.OnTargetChange.bind(this) : this.enableLockAiming(!1)
                }, t.prototype.MainPlayerUpdate = function() {
                    if (!g.default.Instance.getWeapon(this.playerSeat).isGunReady || 0 == g.default.Instance.bulletLimit) return this.enableLockAiming(!1), void(this.isTouchHold = !1);
                    if (this.checkTargetHitPos) {
                        if (this.enableLockAiming(!0), this.LockAiming.node.setPosition(this.ShootPos), this.attackTimer >= this.attackRate) {
                            if (this.attackTimer = 0, this.player.entries < this.player.bet_value * this.betScale) {
                                var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, e, u.default.Instance.title, "Insufficient balance", null), this.setLocking(null), g.default.Instance.AutoShoot = !1, this.isTouchHold = !1, void u.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            if (m.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= m.PlayerManager.Instance.MaxBalance) return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null), this.setLocking(null), g.default.Instance.AutoShoot = !1, void(this.isTouchHold = !1);
                            if (u.default.FishUIMgr.IsPurchaseOpen()) return;
                            var t = d.default.SpawnBullet("56001", this.isMainPlayer).getComponent(y.default);
                            t && (t.node.setPosition(this.mWeapon.node.getPosition()), t.skillInit(this.targetFish, this.playerSeat, this.player.bet_value, this.betScale)), this.mWeapon.ShootFunction(this.ShootPos), m.PlayerManager.Instance.ModifyPlayerEntries(this.playerSeat, -this.player.bet_value * this.betScale), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.FIRST_SPIN), l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.FIRST_SPIN)), this.isTouchHold || g.default.Instance.AutoShoot || this.setLocking(null)
                        }
                    } else g.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, Object.defineProperty(t.prototype, "checkTargetHitPos", {
                    get: function() {
                        if (-1 == this.targetType) return !1;
                        if (!this.targetFish) return !1;
                        if (!this.targetFish.CanCollisionByMainSeat(this.isMainPlayer)) return !1;
                        var e = this.targetFish.GetLockLinkPoint(this.StartPos);
                        return e ? (this.ShootPos = c.default.ConvMousePos(e), !0) : (this.isMainPlayer && (g.default.Instance.AutoShoot || this.isTouchHold) ? this.FindNextFish() : this.setLocking(null), !1)
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.OnTouchStart = function(e) {
                    if (g.default.Instance.getWeapon(this.playerSeat).isGunReady) {
                        if (this.player.entries < this.player.bet_value * this.betScale) {
                            var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                            return h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, t, u.default.Instance.title, "Insufficient balance", null), void u.default.FishUIMgr.ShowPurchaseHint(!0)
                        }
                        if (m.PlayerManager.Instance.MaxBalance && this.player.entries + this.player.winning >= m.PlayerManager.Instance.MaxBalance) h.PopupMsgMgr.Instance.ShowPopMsg(h.PopupPriority.Info, "C29", u.default.Instance.title, "MaxBalance", null);
                        else {
                            var n = f.default.Instance.InFishRange(e.getLocation());
                            n && (null == p.default.playerLockSetting && p.default.UseDefaultLockSetting(n.Type), this.setLocking(n), this.touchFishID = n.ID), this.isTouchHold = !0
                        }
                    }
                }, t.prototype.OnTouchEnd = function() {
                    this.isTouchHold = !1, g.default.Instance.AutoShoot || this.setLocking(null)
                }, t.prototype.OnFishEnter = function(e) {
                    if (-1 != this.unhitList.indexOf(e.Type) && e.SetShapeColor(cc.Color.GRAY), g.default.Instance.AutoShoot && "" == this.touchFishID)
                        if (null == p.default.LockSetting);
                        else {
                            if (e.Type == this.targetType) return;
                            for (var t = 0; t < p.default.LockSetting.length; t++) {
                                if (p.default.LockSetting[t] == this.targetType) return;
                                if (e.Type == p.default.LockSetting[t]) return void this.setLocking(e)
                            }
                        }
                }, t.prototype.OnFishInit = function(e) {
                    -1 != this.unhitList.indexOf(e.Type) && e.SetShapeColor(cc.Color.GRAY)
                }, t.prototype.OnTargetChange = function(e) {
                    e && (e.Event_FishLeave = null), g.default.Instance.AutoShoot || this.isTouchHold ? this.FindNextFish() : this.setLocking(null)
                }, t.prototype.FindNextFish = function() {
                    if (this.isMainPlayer) {
                        var e = this.targetFish ? this.targetFish.ID : "",
                            t = null;
                        f.default.Instance && (t = f.default.Instance.GetNextLockFish(this.targetType, e)), t ? this.setLocking(t) : this.enableLockAiming(!1)
                    }
                }, t.prototype.enableLockAiming = function(e) {
                    this.LockAiming.node.active != e && (this.LockAiming.node.active = e, e ? this.LockAiming.play() : this.LockAiming.stop())
                }, a([b(cc.Animation)], t.prototype, "LockAiming", void 0), a([v], t)
            }(S.default);
        n.default = P, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/TigerBullet": "TigerBullet",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SkillTitle: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "37bf6WkOVxEyK69qXfGHbd+", "SkillTitle");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/Utility"),
            r = e("../Common/PoolObj"),
            c = e("../Common/ResourceManager"),
            l = e("../../../../../FishCommon/Script/CanvasHandler"),
            h = cc._decorator,
            u = h.ccclass,
            p = h.property,
            d = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.BetLabel = null, t.Bet = 0, t.isScoreShowing = !1, t.ShowingScore = 0, t.CountingAct = null, t.ScoreNode = null, t.ScoreLabel = null, t.owned = !1, t
                }
                return o(t, e), t.prototype.SetBet = function(e, t) {
                    this.Bet = e, this.owned = t, this.BetLabel && (this.BetLabel.string = s.default.NumberformatBet(e, e))
                }, t.prototype.ShowScore = function(e) {
                    this.isScoreShowing || (this.ScoreNode = c.default.SpawnEffect("SN", this.owned), this.ScoreNode && (this.ScoreLabel = this.ScoreNode.getComponentInChildren(cc.Label)), this.ScoreLabel && (this.ScoreNode.setPosition(this.node.getPosition().sub(cc.v2(0, l.default.isReverse ? -55 : 55))), this.ScoreNode.angle = this.node.angle, this.ScoreNode.runAction(cc.fadeIn(.5)), this.ScoreNode.runAction(cc.repeat(cc.sequence(cc.moveBy(.5, cc.v2(0, 20)), cc.moveBy(.5, cc.v2(0, -20))), cc.macro.REPEAT_FOREVER)), this.ShowingScore = e, this.ScoreLabel.string = s.default.NumberformatBet(e, this.Bet), this.ani.play("SkillTitleShowScore"), this.isScoreShowing = !0))
                }, t.prototype.SetScore = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = .5), this.ScoreLabel)
                        if (this.CountingAct && (this.ScoreLabel.node.stopAction(this.CountingAct), this.CountingAct = null), t > 0) {
                            var i = t / .05,
                                o = (e - this.ShowingScore) / i;
                            this.CountingAct = cc.repeat(cc.sequence(cc.callFunc(function() {
                                n.ShowingScore += o, n.ScoreLabel.string = s.default.NumberformatBet(n.ShowingScore, n.Bet)
                            }), cc.delayTime(.05)), i), this.ScoreLabel.node.runAction(this.CountingAct)
                        } else this.ShowingScore = e, this.ScoreLabel.string = s.default.NumberformatBet(this.ShowingScore, this.Bet)
                }, t.prototype.Hide = function(e) {
                    void 0 === e && (e = !0), e ? (this.ani.play("SkillTitleFadeOut"), this.ScoreNode && this.ScoreNode.runAction(cc.fadeOut(.5))) : this.Recycle()
                }, t.prototype.Recycle = function() {
                    this.ScoreNode && (this.ScoreNode.stopAllActions(), this.ScoreNode.setScale(1), this.ScoreNode.opacity = 255, c.default.DespawnEffect("SN", this.ScoreNode), this.ScoreNode = null), this.ScoreLabel && (this.ScoreLabel.string = "0", this.ScoreLabel = null), this.isScoreShowing = !1, this.ShowingScore = 0, e.prototype.Recycle.call(this)
                }, a([p(cc.Label)], t.prototype, "BetLabel", void 0), a([u], t)
            }(r.default);
        n.default = d, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../Common/PoolObj": "PoolObj",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility"
    }],
    SkillWheel: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "084a1E980lEHIf9WxKMjO0l", "SkillWheel");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c, l = e("./BaseSkill"),
            h = e("./WheelItem"),
            u = e("../Player/PlayerManager"),
            p = e("../Fish/BaseFish"),
            d = e("../Fish/FishManager"),
            f = e("../Weapon/WeaponManager"),
            m = e("../../GameClient"),
            y = e("../Common/AudioManager"),
            g = e("../Common/ResourceManager"),
            S = e("../Common/Utility"),
            _ = e("../../../../../FishCommon/Script/CanvasHandler"),
            v = cc._decorator,
            b = v.ccclass,
            P = v.property;
        (function(e) {
            e[e.NONE = 0] = "NONE", e[e.READY_TO_SPIN = 1] = "READY_TO_SPIN", e[e.RUNNING = 2] = "RUNNING", e[e.SLOW = 3] = "SLOW", e[e.RESULT = 4] = "RESULT", e[e.WAIT_SPIN = 5] = "WAIT_SPIN", e[e.END = 6] = "END"
        })(c || (c = {}));
        var I = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.WheelObj = null, t.AwardTitleAnim = null, t.BullionAnim = null, t.WheelSpinObjList = [], t.WheelItemAnimList_Out = [], t.WheelItemAnimList_Mid = [], t.WheelItemAnimList_In = [], t.PointerObj = null, t.PointerAnim_Out = null, t.PointerAnim_Mid = null, t.PointerAnim_In = null, t.PointerAnim_Head = null, t.Timelimit = null, t.TimeScore = null, t.OutFrameEffect = null, t.HitBullionEffect = null, t.TapHint = null, t.ClickStopEffect = null, t.fixedUpdateTime = .033, t.fixedUpdateTimer = 0, t.maxUpdateTimes = 5, t.SingleGridAngles = [45, 60, 120], t.PointerInitAngles = [2.5, 33, -60], t.wheelState = c.NONE, t.wheelCircleIndex = 0, t.isFlip = !1, t.isHitBullion = !1, t.isWhellAllRotate = !1, t.currentAngle = 0, t.maxSpeed = 435, t.currentSpeed = 0, t.addSpeed = 0, t.waitStopTime = 15, t.waitStopTimer = 0, t.addSpeedTime = 1, t.LeftOffset = 10, t.RightOffset = -10, t.slowDownStage = 0, t.slowDownSpeedList = [150, 50, 20, 0], t.slowDownTimeList = [2, 1.1, .5, 1], t.decreaseTimer = 0, t.m_OutCircle_OddsList = null, t.m_MidCircle_OddsList = null, t.m_InCircle_OddsList = null, t.m_PassList = null, t.OffsetAngle = 2.860545, t.rollSound = -1, t.stopEvent = null, t.fishID = null, t
            }
            return o(t, e), t.prototype.onLoad = function() {
                this.skillType = l.skillEnum.Wheel, this.limitTime = 90
            }, t.prototype.update = function(t) {
                e.prototype.update.call(this, t), this.fixedUpdateTimer += t;
                for (var n = 0; n < this.maxUpdateTimes && this.fixedUpdateTimer > this.fixedUpdateTime; n++) this.fixedUpdateTimer -= this.fixedUpdateTime, this.UpdateWheelState(this.fixedUpdateTime), this.RotateWheel(this.fixedUpdateTime)
            }, t.prototype.onDestroy = function() {
                y.default.Instance && y.default.Instance.Stop(this.rollSound)
            }, t.prototype.InitProperties = function(t) {
                void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.wheelState = c.NONE, this.isFlip = !1, this.node.angle = 0, this.wheelCircleIndex = 0, this.fixedUpdateTimer = 0, this.decreaseTimer = 0, this.waitStopTimer = 0, this.stopEvent = null, this.ClickStopEffect.totalParticles = 0, this.ClickStopEffect.node.active = !1, this.fishID = t.id, this.playerBet = t.bet, this.totalWin = t.win, this.totalOdds = t.odds, this.m_OutCircle_OddsList = t.c0, this.m_MidCircle_OddsList = t.c1, this.m_InCircle_OddsList = t.c2, this.m_PassList = t.ci
            }, t.prototype.UseSkill = function() {
                var e = d.default.Instance.GetFishByID(this.fishID.toString());
                if (e || this.isMainPlayer)
                    if (!m.default.SkillSystem.FindSkill(this.skillType, this.playerSeat) || this.isMainPlayer) {
                        y.default.Instance.Play("50_shell_info_j");
                        var t = u.PlayerManager.MainSeat;
                        (t > 1 && this.playerSeat < 2 || t < 2 && this.playerSeat > 1) && (this.isFlip = !0), this.playerSeat > 1 && (this.node.angle = 180), f.default.Instance.GetSkillWeapon(this.playerSeat, null);
                        var n = null;
                        null != e ? (e.AliveStatus = p.FishState.DEAD, e.CanCollision = !1, e.StopAction(), e.PlayDieAnim(), n = e.node.getPosition(), e.RemoveSelf()) : n = cc.v2(700 + 50 * Math.random(), 310 + 100 * Math.random()), g.default.SpawnEffect("CoinBlast").setPosition(n), this.InitWheel(n)
                    } else this.UnUseSkill();
                else this.UnUseSkill()
            }, t.prototype.UnUseSkill = function() {
                e.prototype.UnUseSkill.call(this), this.tapHintActive(!1), this.wheelState = c.NONE, y.default.Instance.Stop(this.rollSound), this.PointerAnim_Head.node.stopAllActions(), this.OutFrameEffect.node.active = !1, this.OutFrameEffect.stop(), this.HitBullionEffect.node.active = !1, this.HitBullionEffect.stop(), this.AwardTitleAnim.stop(), this.BullionAnim.stop(), this.PointerAnim_Out.stop(), this.PointerAnim_Mid.stop(), this.PointerAnim_In.stop(), this.PointerAnim_Head.stop(), this.node.opacity = 255, this.m_OutCircle_OddsList = null, this.m_MidCircle_OddsList = null, this.m_InCircle_OddsList = null, this.m_PassList = null, this.stopEvent = null, this.ClickStopEffect.totalParticles = 0, this.ClickStopEffect.node.active = !1, f.default.Instance.ReturnToBaseWeapon(this.playerSeat), this.isMainPlayer && (_.default.CanelTouchEvent(cc.Node.EventType.TOUCH_START, this.WheelTouchEvent, this), _.default.Instance.IsLockChangeWeapon = !1, u.PlayerManager.Instance.CheckBetListOnSkillEnd(this.playerSeat))
            }, t.prototype.ReceiveSkillData = function(e) {
                var t = e.click;
                this.OnStopWheelReceive(t)
            }, t.prototype.OnStopWheelReceive = function(e) {
                var t = this;
                this.isMainPlayer || (this.stopEvent = null, this.stopEvent = function() {
                    e < t.wheelCircleIndex || (t.waitStopTimer = 0, t.Timelimit.active = !1)
                })
            }, t.prototype.InitWheel = function(e) {
                if (this.InitWheelItemData(), this.node.setPosition(e), this.PointerAnim_Head && this.PointerAnim_Head.node.setPosition(0, 150), this.WheelObj) {
                    this.WheelObj.scale = 0;
                    var t = cc.sequence(cc.spawn(cc.moveTo(.3, cc.v2(0, 100)).easing(cc.easeCubicActionOut()), cc.scaleTo(.3, 1, 1).easing(cc.easeSineInOut())), cc.moveTo(.5, cc.Vec2.ZERO), cc.delayTime(.2), cc.callFunc(this.AppearWheelItem.bind(this)));
                    this.WheelObj.runAction(t)
                }
            }, t.prototype.InitWheelItemData = function() {
                this.isWhellAllRotate = !1, this.isHitBullion = !1, this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.currentSpeed = 0;
                for (var e = 0; e < this.WheelSpinObjList.length; e++) this.WheelSpinObjList[e].angle = 0 == e ? 2.5 : 0;
                var t = 0;
                for (e = 0; e < this.WheelItemAnimList_Out.length; e++) this.WheelItemAnimList_Out[e].Init(this.m_OutCircle_OddsList[t]), t++;
                for (t = 0, e = 0; e < this.WheelItemAnimList_Mid.length; e++) this.WheelItemAnimList_Mid[e].Init(this.m_MidCircle_OddsList[t]), t++;
                for (t = 0, e = 0; e < this.WheelItemAnimList_In.length; e++) this.WheelItemAnimList_In[e].Init(this.m_InCircle_OddsList[t]), t++;
                this.BullionAnim.node.angle = this.isFlip ? 180 : 0, this.BullionAnim.node.opacity = 0, this.PointerObj.opacity = 0, this.PointerAnim_Out.node.active = !1, this.PointerAnim_Mid.node.active = !1, this.PointerAnim_In.node.active = !1, this.OutFrameEffect.node.active = !1, this.HitBullionEffect.node.active = !1
            }, t.prototype.AppearWheelItem = function() {
                return s(this, void 0, void 0, function() {
                    var e, t, n;
                    return r(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return e = f.default.WeaponPosition(this.playerSeat), this.node.runAction(cc.moveTo(1.2, e).easing(cc.easeSineOut())), [4, this.delay(1300)];
                            case 1:
                                for (i.sent(), t = 0; t < this.WheelItemAnimList_Out.length; t++) this.WheelItemAnimList_Out[t].AppearFunction();
                                for (t = 0; t < this.WheelItemAnimList_Mid.length; t++) this.WheelItemAnimList_Mid[t].AppearFunction();
                                for (t = 0; t < this.WheelItemAnimList_In.length; t++) this.WheelItemAnimList_In[t].AppearFunction();
                                return this.BullionAnim.node.runAction(cc.fadeIn(.5)), this.BullionAnim.play(), this.PointerAnim_Out.node.active = !0, this.PointerAnim_Out.play(), this.PointerAnim_Head.play(), this.PointerObj.runAction(cc.fadeIn(.5)), this.PointerAnim_Head.node.runAction(cc.sequence(cc.moveTo(.7, 0, 180).easing(cc.easeSineOut()), cc.callFunc(this.PointerHeadLoop.bind(this, !1)))), [4, this.delay(1e3)];
                            case 2:
                                return i.sent(), this.AwardTitleAnim.node.angle = this.isFlip ? 180 : 0, this.AwardTitleAnim.node.active = !0, this.AwardTitleAnim.play(), y.default.Instance.Play("wheel_max"), [4, this.delay(2e3)];
                            case 3:
                                return i.sent(), this.AwardTitleAnim && (this.AwardTitleAnim.node.active = !1), this.node.setPosition(e), n = this.node.parent.convertToWorldSpaceAR(cc.Vec2.ZERO), this.TapHint.node.setPosition(this.node.convertToNodeSpaceAR(n)), this.InitWheelSpin(), [2]
                        }
                    })
                })
            }, t.prototype.PointerHeadLoop = function(e) {
                this.PointerAnim_Head.node.stopAllActions(), e ? this.PointerAnim_Head.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.7, 5, 190), cc.moveTo(.7, 5, 210)))) : this.PointerAnim_Head.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.7, 0, 170), cc.moveTo(.7, 0, 190))))
            }, t.prototype.InitWheelSpin = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function() {
                        return this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.currentSpeed = 0, this.addSpeed = this.maxSpeed / this.addSpeedTime, this.wheelState = c.READY_TO_SPIN, this.rollSound = y.default.Instance.SetNextSound(y.default.Instance.Play("wheel_roll1"), "wheel_roll2", 1, !0), this.tapHintActive(!0), this.RightOffset = -10 - Math.random() * (this.SingleGridAngles[this.wheelCircleIndex] - 25), this.isMainPlayer && (_.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.WheelTouchEvent, this), _.default.Instance.IsLockChangeWeapon = !0), [2]
                    })
                })
            }, t.prototype.DelayWheelSpin = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return this.currentAngle = 0 == this.wheelCircleIndex ? -2.5 : 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(1e3)];
                            case 1:
                                return e.sent(), this.InitWheelSpin(), [2]
                        }
                    })
                })
            }, t.prototype.UpdateWheelState = function(e) {
                switch (this.wheelState) {
                    case c.NONE:
                        break;
                    case c.READY_TO_SPIN:
                        this.ReadySpin(e);
                        break;
                    case c.RUNNING:
                        this.SpinRun(e);
                        break;
                    case c.SLOW:
                        this.SpinSlow(e);
                        break;
                    case c.RESULT:
                        this.SpinResult(e);
                        break;
                    case c.END:
                        this.SpinEnd(e)
                }
            }, t.prototype.RotateWheel = function(e) {
                if (this.isWhellAllRotate)
                    for (var t = 0; t < this.WheelSpinObjList.length; t++) {
                        var n = this.WheelSpinObjList[t].angle;
                        n += t % 2 == 0 ? 100 * e : -100 * e, this.WheelSpinObjList[t].angle = n
                    } else this.wheelCircleIndex < this.WheelSpinObjList.length && (this.WheelSpinObjList[this.wheelCircleIndex].angle = this.currentAngle)
            }, t.prototype.ReadySpin = function(e) {
                this.currentSpeed += e * this.addSpeed, this.currentSpeed >= this.maxSpeed && (this.waitStopTimer = this.waitStopTime, this.wheelState = c.RUNNING, this.currentSpeed = this.maxSpeed, this.addSpeed = 0), this.currentAngle -= e * this.currentSpeed
            }, t.prototype.SpinRun = function(e) {
                if (this.waitStopTimer > 0 && (this.waitStopTimer -= e), this.currentAngle -= e * this.currentSpeed, this.isMainPlayer && this.waitStopTimer <= 10 && this.waitStopTimer > 0 && (this.Timelimit.active || (this.Timelimit.active = !0), this.TimeScore.string = this.waitStopTimer.toFixed(0)), null != this.stopEvent && (this.stopEvent(), this.stopEvent = null), this.waitStopTimer <= 0) {
                    this.stopEvent = null, this.Timelimit.active = !1, this.tapHintActive(!1);
                    for (var t = this.SingleGridAngles[this.wheelCircleIndex], n = t * this.m_PassList[this.wheelCircleIndex], i = this.PointerInitAngles[this.wheelCircleIndex] + n + this.LeftOffset, o = this.PointerInitAngles[this.wheelCircleIndex] + n + t + this.RightOffset, a = this.currentAngle + this.OffsetAngle; a < i;) a += 360;
                    a > i && a < o && (this.wheelState = c.SLOW, this.slowDownStage = 0, this.decreaseTimer = this.slowDownTimeList[this.slowDownStage], this.PointerObj.runAction(cc.sequence(cc.moveTo(.15, 0, 25), cc.moveTo(.25, 0, 0))), y.default.Instance.Play("wheel_press"), y.default.Instance.SetNextSound(this.rollSound, "wheel_stop"), this.isMainPlayer && m.default.SkillSystem.SendStopWheel(this.wheelCircleIndex))
                }
            }, t.prototype.SpinSlow = function(e) {
                if (this.decreaseTimer <= 0) {
                    if (this.slowDownStage += 1, !(this.slowDownStage < this.slowDownTimeList.length)) return void(this.wheelState = c.RESULT);
                    this.decreaseTimer = this.slowDownTimeList[this.slowDownStage]
                }
                this.currentSpeed <= 0 ? this.wheelState = c.RESULT : (this.decreaseTimer -= e, 0 == this.slowDownStage ? (this.currentSpeed -= e * (this.maxSpeed - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.decreaseTimer < 0 && (this.currentSpeed += -this.decreaseTimer * (this.maxSpeed - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.slowDownStage + 1 < this.slowDownSpeedList.length && (this.currentSpeed -= this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage] - this.slowDownSpeedList[this.slowDownStage + 1]) / this.slowDownTimeList[this.slowDownStage]))) : this.slowDownStage > 0 && (this.currentSpeed -= e * (this.slowDownSpeedList[this.slowDownStage - 1] - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.decreaseTimer < 0 && (this.currentSpeed += -this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage - 1] - this.slowDownSpeedList[this.slowDownStage]) / this.slowDownTimeList[this.slowDownStage], this.slowDownStage + 1 < this.slowDownSpeedList.length && (this.currentSpeed -= this.decreaseTimer * (this.slowDownSpeedList[this.slowDownStage] - this.slowDownSpeedList[this.slowDownStage + 1]) / this.slowDownTimeList[this.slowDownStage]))), this.currentAngle -= e * this.currentSpeed)
            }, t.prototype.SpinResult = function() {
                return s(this, void 0, void 0, function() {
                    var e;
                    return r(this, function(t) {
                        switch (t.label) {
                            case 0:
                                return 0 != this.wheelCircleIndex ? [3, 3] : (e = this.WheelItemAnimList_Out[this.m_PassList[this.wheelCircleIndex]]) ? (e.HitFunction(), y.default.Instance.Play("wheel_forward"), e.IsArrow() ? (this.wheelCircleIndex++, this.currentAngle = 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(500)]) : [3, 2]) : [2];
                            case 1:
                                return t.sent(), this.PointerAnim_Out.node.active = !1, this.PointerAnim_Mid.node.active = !0, this.PointerAnim_Mid.play(), this.OutFrameEffect.node.active = !0, this.OutFrameEffect.play(), this.DelayWheelSpin(), [2];
                            case 2:
                                return [3, 7];
                            case 3:
                                return 1 != this.wheelCircleIndex ? [3, 6] : (e = this.WheelItemAnimList_Mid[this.m_PassList[this.wheelCircleIndex]]) ? (e.HitFunction(), y.default.Instance.Play("wheel_forward"), e.IsArrow() ? (this.wheelCircleIndex++, this.currentAngle = 0, this.wheelState = c.WAIT_SPIN, [4, this.delay(500)]) : [3, 5]) : [2];
                            case 4:
                                return t.sent(), this.PointerAnim_Mid.node.active = !1, this.PointerAnim_In.node.active = !0, this.PointerAnim_In.play(), this.PointerAnim_Head.play("WheelPointerAnim_FireHead"), this.PointerHeadLoop(!0), this.DelayWheelSpin(), [2];
                            case 5:
                                return [3, 7];
                            case 6:
                                if (2 == this.wheelCircleIndex) {
                                    if (!(e = this.WheelItemAnimList_In[this.m_PassList[this.wheelCircleIndex]])) return [2];
                                    e.HitFunction(), e.IsArrow() ? (this.isHitBullion = !0, y.default.Instance.Play("wheel_golden")) : y.default.Instance.Play("wheel_forward")
                                }
                                t.label = 7;
                            case 7:
                                return this.wheelState = c.END, [2]
                        }
                    })
                })
            }, t.prototype.SpinEnd = function() {
                return s(this, void 0, void 0, function() {
                    return r(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return this.isGaveAward = !0, this.wheelState = c.NONE, [4, this.delay(500)];
                            case 1:
                                return e.sent(), this.isHitBullion ? (this.BullionAnim.play("BullionAnim_Hit"), [4, this.delay(800)]) : [3, 5];
                            case 2:
                                return e.sent(), this.HitBullionEffect.node.active = !0, this.HitBullionEffect.play(), [4, this.delay(2e3)];
                            case 3:
                                return e.sent(), this.ShowSkillScore(), [4, this.delay(1e3)];
                            case 4:
                                return e.sent(), this.isWhellAllRotate = !0, [3, 6];
                            case 5:
                                this.ShowSkillScore(), e.label = 6;
                            case 6:
                                return [4, this.delay(this.isHitBullion ? 4e3 : 3e3)];
                            case 7:
                                return e.sent(), this.node.runAction(cc.fadeOut(1)), [4, this.delay(1e3)];
                            case 8:
                                return e.sent(), this.UnUseSkill(), [2]
                        }
                    })
                })
            }, t.prototype.ShowSkillScore = function() {
                var e = this;
                if (this.isMainPlayer && 0 == this.totalWin) m.default.Instance.CallOnError("C44", "SkillZeroWin");
                else {
                    var t = g.default.SpawnEffect("GN", this.isMainPlayer);
                    t && (t.setScale(1), t.angle = _.default.isReverse ? 180 : 0, t.setPosition(this.node.getPosition().add(cc.v2(0, this.playerSeat > 1 ? -80 : 80))));
                    var n = t.getComponentInChildren(cc.Label),
                        i = 0,
                        o = (this.totalWin - i) / 40;
                    t.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function() {
                        i += o, n.string = S.default.NumberformatBet(i, e.playerBet)
                    }), cc.delayTime(.05)), 40), cc.delayTime(2), cc.fadeOut(.5), cc.callFunc(function() {
                        t.opacity = 255, g.default.DespawnEffect("GN", t)
                    }))), this.PlayAwardSound()
                }
            }, t.prototype.WheelTouchEvent = function() {
                var e = this;
                this.wheelState == c.READY_TO_SPIN && (this.wheelState = c.RUNNING, this.currentSpeed = this.maxSpeed, this.addSpeed = 0, this.waitStopTimer = -1), this.wheelState == c.RUNNING && (this.waitStopTimer = 0, this.Timelimit.active = !1, this.tapHintActive(!1), this.ClickStopEffect.node.active = !0, this.ClickStopEffect.totalParticles = 200, this.scheduleOnce(function() {
                    e.ClickStopEffect.totalParticles = 0
                }, .5))
            }, t.prototype.tapHintActive = function(e) {
                e && !this.TapHint.node.active && this.isMainPlayer && (this.TapHint.node.active = !0, this.TapHint.play(), this.TapHint.node.setScale(0), this.TapHint.node.runAction(cc.scaleTo(.5, 1).easing(cc.easeBounceOut()))), !e && this.TapHint.node.active && (this.TapHint.node.active = !1, this.TapHint.stop())
            }, a([P(cc.Node)], t.prototype, "WheelObj", void 0), a([P(cc.Animation)], t.prototype, "AwardTitleAnim", void 0), a([P(cc.Animation)], t.prototype, "BullionAnim", void 0), a([P([cc.Node])], t.prototype, "WheelSpinObjList", void 0), a([P([h.default])], t.prototype, "WheelItemAnimList_Out", void 0), a([P([h.default])], t.prototype, "WheelItemAnimList_Mid", void 0), a([P([h.default])], t.prototype, "WheelItemAnimList_In", void 0), a([P(cc.Node)], t.prototype, "PointerObj", void 0), a([P(cc.Animation)], t.prototype, "PointerAnim_Out", void 0), a([P(cc.Animation)], t.prototype, "PointerAnim_Mid", void 0), a([P(cc.Animation)], t.prototype, "PointerAnim_In", void 0), a([P(cc.Animation)], t.prototype, "PointerAnim_Head", void 0), a([P(cc.Node)], t.prototype, "Timelimit", void 0), a([P(cc.Label)], t.prototype, "TimeScore", void 0), a([P(cc.Animation)], t.prototype, "OutFrameEffect", void 0), a([P(cc.Animation)], t.prototype, "HitBullionEffect", void 0), a([P(cc.Animation)], t.prototype, "TapHint", void 0), a([P(cc.ParticleSystem)], t.prototype, "ClickStopEffect", void 0), a([b], t)
        }(l.default);
        n.default = I, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Common/Utility": "Utility",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill",
        "./WheelItem": "WheelItem"
    }],
    SkillWind: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "34c5b27HVVOhIaJiIe9LJXW", "SkillWind");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseSkill"),
            l = e("../Fish/BaseFish"),
            h = e("../Fish/FishManager"),
            u = e("../Common/ResourceManager"),
            p = e("../Weapon/WeaponManager"),
            d = e("../Common/AudioManager"),
            f = cc._decorator,
            m = f.ccclass,
            y = f.property,
            g = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.windAnim = null, t.twisterFish = null, t.dieFishIDList = null, t.fishType = -1, t
                }
                return o(t, e), t.prototype.onLoad = function() {
                    this.skillType = c.skillEnum.Wind, this.limitTime = 12
                }, t.prototype.InitProperties = function(t) {
                    void 0 === t && (t = null), e.prototype.InitProperties.call(this), this.dieFishIDList = t.fish, this.totalWin = t.win, this.totalOdds = t.odds;
                    var n = this.totalOdds / this.dieFishIDList.length;
                    if (this.playerBet = t.bet, null != this.dieFishIDList && this.playerBet > 0)
                        for (var i = 0; i < this.dieFishIDList.length; i++) this.dieFishList.push(h.default.Instance.GetFishByID(this.dieFishIDList[i])), this.oddsList.push(n), this.winList.push(n * this.playerBet), h.default.Instance.RemoveFishByID(this.dieFishIDList[i]);
                    this.node.parent = u.default.Instance.Background, this.fishType = this.GetFishType()
                }, t.prototype.UseSkill = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.isGaveAward = !0, this.dieFishList.length > 0 && (this.twisterFish = this.dieFishList[this.dieFishList.length - 1]), null != this.twisterFish && (this.twisterFish.CanCollision = !1, this.twisterFish.switchWindEffect(!1), this.twisterFish.ShakeCoinEffect(this.playerSeat, 1)), this.CreateSkillTitle(), e = this.playerSeat > 1 ? new cc.Vec2(0, -200) : new cc.Vec2(0, 200), t = p.default.WeaponPosition(this.playerSeat).addSelf(e), this.node.setPosition(t), this.windAnim && this.windAnim.play(), d.default.Instance.Play("15_wind_main"), this.PullFishFunction(this.node.getPosition()), [4, this.delay(2500)];
                                case 1:
                                    return n.sent(), this.KillFishesAndShowAward(), [4, this.delay(1500)];
                                case 2:
                                    return n.sent(), this.ShowSkillScore(this.totalWin), this.PlayAwardSound(), [4, this.delay(4e3)];
                                case 3:
                                    return n.sent(), this.UnUseSkill(), [2]
                            }
                        })
                    })
                }, t.prototype.UnUseSkill = function() {
                    if (null != this.dieFishList) {
                        for (var t = 0; t < this.dieFishList.length; t++) this.dieFishList[t] && this.dieFishList[t].RemoveSelf();
                        this.dieFishList = null
                    }
                    this.node.parent = u.default.Instance.Skills, this.windAnim.stop(), e.prototype.UnUseSkill.call(this)
                }, t.prototype.GetFishType = function() {
                    for (var e = 0; e < this.dieFishList.length; e++) {
                        var t = this.dieFishList[e];
                        if (t) return t.Type
                    }
                    return -1
                }, t.prototype.PullFishFunction = function(e) {
                    for (var t = 0; t < this.dieFishList.length; t++) {
                        var n = this.dieFishList[t];
                        if (null == n) {
                            if (-1 != this.fishType) {
                                var i = 50 * Math.random(),
                                    o = 100 * Math.random() - 50;
                                n = h.default.Instance.CreateFakeFish(this.dieFishIDList[t], this.fishType, new cc.Vec2(700 + i, 360 + o)), this.dieFishList[t] = n
                            }
                            if (null == n) continue
                        }
                        n.AliveStatus = l.FishState.DEAD, n.CanCollision = !1, n.StopAction(), n.PlayDieAnim();
                        var a = e.sub(n.node.getPosition());
                        a.normalizeSelf();
                        var s = 40 * Math.random() - 20;
                        e.addSelf(a.mul(s)), n.node.runAction(cc.rotateBy(3, 360).repeatForever()), n.node.runAction(cc.moveTo(2, e).easing(cc.easeInOut(4)))
                    }
                }, a([y(cc.Animation)], t.prototype, "windAnim", void 0), a([m], t)
            }(c.default);
        n.default = g, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/BaseFish": "BaseFish",
        "../Fish/FishManager": "FishManager",
        "../Weapon/WeaponManager": "WeaponManager",
        "./BaseSkill": "BaseSkill"
    }],
    SlotCrabMedal: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "b34a2HKElBCy7SJqhRnwO9g", "SlotCrabMedal");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseMedal"),
            r = e("../Common/PoolObj"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.silverMedalIcon = null, t.goldenMedalIcon = null, t.medalSprite = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n, i, o) {
                    "small" == t ? this.medalSprite.spriteFrame = this.silverMedalIcon : "middle" == t ? this.medalSprite.spriteFrame = this.goldenMedalIcon : cc.error("SlotCrabMedal Init error"), e.prototype.Init.call(this, t, n, i, o)
                }, t.prototype.Recycle = function() {
                    var t = this.node.getChildByName("LevelUpMedal");
                    t && t.getComponent(r.default).Recycle(), e.prototype.Recycle.call(this)
                }, a([h(cc.SpriteFrame)], t.prototype, "silverMedalIcon", void 0), a([h(cc.SpriteFrame)], t.prototype, "goldenMedalIcon", void 0), a([h(cc.Sprite)], t.prototype, "medalSprite", void 0), a([l], t)
            }(s.default);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/PoolObj": "PoolObj",
        "./BaseMedal": "BaseMedal"
    }],
    SystemTip: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "82df8nrkyNPyps22jJV6dHn", "SystemTip");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.TIP_CLIP_TYPE = n.SYSTEM_TIP_TYPE = void 0, n.SYSTEM_TIP_TYPE = {
            SUMMON_MAX: "M102",
            QTY_LACK: "",
            BULLET_MAX: "",
            COOLDOWN: "M101",
            CHANGE_SCENE: "M103",
            ITEM_WAIT: "",
            FREEZE_WAIT: "M106",
            ITEM_CLOSE: "M107"
        }, n.TIP_CLIP_TYPE = {
            FADE_IN: "SystemTip_FadeIn",
            FADE_OUT: "SystemTip_FadeOut"
        };
        var s = cc._decorator.ccclass,
            r = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._anim = null, t._backGround = null, t._top = null, t._bottom = null, t._word = null, t.close_flag = !1, t.use_flag = !1, t
                }
                var i;
                return o(t, e), i = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.onLoad = function() {
                    var e = this;
                    this._anim = this.getComponent(cc.Animation), this._backGround = this.node.getChildByName("BackGround"), this._top = this._backGround.getChildByName("Top"), this._bottom = this._backGround.getChildByName("Bottom"), this._word = this._backGround.getChildByName("Word").getComponent(cc.RichText), this._anim.on("finished", function() {
                        e.close_flag && (e._backGround.active = e.use_flag = e.close_flag = !1)
                    }, this), i.instance = this
                }, t.Open = function(e, t, o) {
                    if (void 0 === t && (t = 1), void 0 === o && (o = !0), null != (e = SS.Common.GameEnvironment.GameMsg[e])) {
                        var a = i.instance;
                        if (!o) {
                            if (a.use_flag) return;
                            a.use_flag = !0
                        }
                        a._word.string = "<outline color=white width=0.2>" + e + "</outline>";
                        var s = a._word.node.width;
                        a._backGround.width = s + 100, a._top.width = a._bottom.width = s + 120, a._backGround.active = !0, a._anim.play(n.TIP_CLIP_TYPE.FADE_IN), a.unscheduleAllCallbacks(), t > 0 && a.scheduleOnce(function() {
                            i.Close()
                        }, t)
                    }
                }, t.Close = function() {
                    i.instance._anim.play(n.TIP_CLIP_TYPE.FADE_OUT), i.instance.close_flag = !0
                }, t.instance = null, i = a([s], t)
            }(cc.Component);
        n.default = r, cc._RF.pop()
    }, {}],
    THUNDER_DRAGON: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "a48bcOz87NCeLBoH8l764qX", "THUNDER_DRAGON");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseSpineFish"),
            r = cc._decorator,
            c = r.ccclass,
            l = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.onInit = function() {
                    this.offsetPos = cc.v2(940, -70), this.node.angle = -this.o, this.skeleton.timeScale = .5, this.skeleton.setAnimation(0, "SWIM", !1)
                }, t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0
                }, a([c], t)
            }(s.default));
        n.default = l, cc._RF.pop()
    }, {
        "./BaseSpineFish": "BaseSpineFish"
    }],
    TWISTER_GURNARD: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "025809EEJtPZ7/aICt1QwuX", "TWISTER_GURNARD");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = e("./BaseTwisterFish"),
            c = cc._decorator.ccclass,
            l = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(50, 1e3)
                }, a([c], t)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWISTER_OCTOPUS: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "683045+Zc5O5K6asFLNnAk9", "TWISTER_OCTOPUS");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseFish"),
            r = e("./BaseTwisterFish"),
            c = cc._decorator.ccclass,
            l = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == s.FishState.ALIVE && this.mSeek.AddSpeed(80, 750)
                }, a([c], t)
            }(r.default);
        n.default = l, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWIST_FLAT_FISH: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "07769uy4LBIRqM1cRieOHCi", "TWIST_FLAT_FISH");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseTwisterFish"),
            r = cc._decorator.ccclass,
            c = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(t, e), t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.shapeNode.angle = 90
                }, t.prototype.onMove = function(e) {
                    var t = this;
                    e.AddSpeed(-70, 500);
                    var n = e.PonitIndex,
                        i = e.GetTargetPoint(n),
                        o = e.GetTargetPoint(n + 1);
                    if (o) {
                        var a = 180 - cc.misc.radiansToDegrees(Math.atan2(i.y - o.y, i.x - o.x));
                        this.shapeNode.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
                            e.Rotate(a, .4)
                        }), cc.delayTime(.4), cc.callFunc(function() {
                            t.mAnim.play("Swim"), e.AddSpeed(70, 500)
                        }), cc.repeat(cc.sequence(cc.rotateBy(.1, 5), cc.rotateBy(.1, -5)), 2)))
                    }
                }, a([r], t)
            }(s.default);
        n.default = c, cc._RF.pop()
    }, {
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TWIST_SEA_TURTLE: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "43aa6wPQCZHGJMVIM7Z6sdV", "TWIST_SEA_TURTLE");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("./BaseFish"),
            l = e("./BaseTwisterFish"),
            h = cc._decorator.ccclass,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hitEffect = [], t
                }
                return o(t, e), t.prototype.SpeedUp = function() {
                    this.mSeek && this.aliveStatus == c.FishState.ALIVE && this.mSeek.AddSpeed(80, 500)
                }, t.prototype.OnHitFish = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t, n;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!this.shapeNode && (this.shapeNode = this.node.getChildByName("Shape"), !this.shapeNode)) return [2];
                                    for (e = this.shapeNode.children, t = 0; t < e.length; t++) this.hitEffect[t] && (this.hitEffect[t].isDone || (e[t].stopAction(this.hitEffect[t]), this.hitEffect = null, e[t].color = cc.Color.WHITE));
                                    t = 0, i.label = 1;
                                case 1:
                                    return t < e.length ? (n = cc.repeat(cc.sequence(cc.tintTo(.1, 200, 0, 0), cc.tintTo(.1, 255, 255, 255)), 2), this.hitEffect.push(n), [4, e[t].runAction(n)]) : [3, 4];
                                case 2:
                                    i.sent(), i.label = 3;
                                case 3:
                                    return t++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, a([h], t)
            }(l.default);
        n.default = u, cc._RF.pop()
    }, {
        "./BaseFish": "BaseFish",
        "./BaseTwisterFish": "BaseTwisterFish"
    }],
    TacoBackground: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2690fee/OtEyLks1pgMV2iH", "TacoBackground");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("./BaseBackGround"),
            r = cc._decorator,
            c = r.ccclass,
            l = r.property,
            h = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.BG_Blue = null, t.BG_Red = null, t.TacoParent = [], t
                }
                return o(t, e), t.prototype.BossEnter = function() {
                    var e = this;
                    this.bossEnter || (this.node.runAction(cc.sequence(cc.rotateTo(2, 0), cc.delayTime(2), cc.callFunc(function() {
                        e.ani.play("Boss_Loop"), e.BG_Blue && (e.BG_Blue.active = !1)
                    }))), this.BG_Red && (this.BG_Red.opacity = 0, this.BG_Red.active = !0, this.BG_Red.runAction(cc.sequence(cc.delayTime(2), cc.fadeIn(2)))), this.bossEnter = !0)
                }, t.prototype.getParent = function(e) {
                    switch (e) {
                        case 61:
                        case 117:
                            return this.TacoParent[0];
                        case 62:
                        case 118:
                            return this.TacoParent[1];
                        case 63:
                        case 119:
                            return this.TacoParent[2];
                        case 64:
                        case 120:
                            return this.TacoParent[3];
                        case 65:
                        case 121:
                            return this.TacoParent[4];
                        case 66:
                        case 122:
                            return this.TacoParent[5]
                    }
                    return null
                }, a([l(cc.Node)], t.prototype, "BG_Blue", void 0), a([l(cc.Node)], t.prototype, "BG_Red", void 0), a([l([cc.Node])], t.prototype, "TacoParent", void 0), a([c], t)
            }(s.default);
        n.default = h, cc._RF.pop()
    }, {
        "./BaseBackGround": "BaseBackGround"
    }],
    TigerBullet: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ac599BfjxdCmZ3iA2DbxzIW", "TigerBullet");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../../../../FishCommon/Script/CanvasHandler"),
            r = e("../../GameClient"),
            c = e("../Common/AudioManager"),
            l = e("../Common/MultiLangSystem"),
            h = e("../Common/ResourceManager"),
            u = e("../Player/PlayerManager"),
            p = e("./BaseBullet"),
            d = cc._decorator,
            f = d.ccclass,
            m = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.targetFish = null, t.targetNode = null, t.betScale = 2, t.EndPos = null, t.dis = Number.MAX_SAFE_INTEGER, t
                }
                return o(t, e), t.prototype.BulletMove = function(e) {
                    this.bulletVec && this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(this.bulletSpeed * e))), this.bulletSpeed *= 1.05, this.updateTargetPos()
                }, t.prototype.updateTargetPos = function() {
                    var e = this;
                    if (this.targetFish && this.targetFish.enabled && this.targetFish.CanCollision && (this.targetNode || this.targetFish.GetLockLinkPoint(this.node.getPosition(), function(t) {
                            e.targetNode = t
                        }), this.targetNode)) {
                        var t = this.targetNode.convertToWorldSpaceAR(cc.Vec2.ZERO);
                        this.EndPos = this.node.parent.convertToNodeSpaceAR(t);
                        var n = this.EndPos.sub(this.node.getPosition()),
                            i = n.len();
                        if (i <= 20 || i > this.dis + 10) return void this.onBlast();
                        this.dis = i, this.bulletVec = n.normalizeSelf(), this.node.angle = cc.misc.radiansToDegrees(Math.atan2(this.bulletVec.y, this.bulletVec.x))
                    }
                }, t.prototype.skillInit = function(e, t, n, i) {
                    this.targetFish = e, this.seat = t, this.bulletBet = n, this.betScale = i, this.bulletSpeed = 400, this.targetNode = null, this.dis = Number.MAX_SAFE_INTEGER, this.updateTargetPos(), this.bulletVec && this.node.setPosition(this.node.getPosition().add(this.bulletVec.mul(120))), this.node.setScale(0), cc.tween(this.node).to(.1, {
                        scale: 1.3
                    }, {
                        easing: function(e) {
                            return cc.easeOut(.3).easing(e)
                        }
                    }).to(.15, {
                        scale: .9
                    }, {
                        easing: function(e) {
                            return cc.easeInOut(.3).easing(e)
                        }
                    }).delay(.5).call(this.onBlast.bind(this)).start();
                    var o = h.default.LoadWeapon("TigerWeaponFire", u.PlayerManager.isMainSeat(this.seat));
                    o.setPosition(this.node.getPosition()), o.angle = this.node.angle
                }, t.prototype.onBlast = function() {
                    if (cc.Tween.stopAllByTarget(this.node), this.targetFish && this.targetFish.enabled && this.targetFish.CanCollision) {
                        u.PlayerManager.isMainSeat(this.seat) && this.targetFish.OnHitFish(), this.CreateExplodeEffect(this.node.getPosition());
                        var e = this.seat;
                        u.PlayerManager.isMainSeat(e) && r.default.SkillSystem.SendTigerHit(e, this.bulletBet, "", Number(this.targetFish.ID))
                    } else if (u.PlayerManager.isMainSeat(this.seat)) {
                        var t = h.default.SpawnEffect("RefundLabel", !0);
                        t.angle = s.default.isReverse ? 180 : 0;
                        var n = cc.v2(-450, -180);
                        s.default.isReverse ? n.scaleSelf(cc.v2(this.seat % 2 == 0 ? -1 : 1, -1)) : n.scaleSelf(cc.v2(this.seat % 2 == 0 ? 1 : -1, 1)), t.setPosition(n), t.getComponentInChildren(cc.Label).string = l.default.getMultiLangText("Refund") + (this.bulletBet * this.betScale).toString(), u.PlayerManager.Instance.ModifyPlayerEntries(this.seat, this.bulletBet * this.betScale, null, !1), u.PlayerManager.BulletSync(-1, null)
                    }
                    this.Recycle()
                }, t.prototype.CreateExplodeEffect = function(e) {
                    var t = h.default.SpawnSkill("TigerBulletBlast", u.PlayerManager.isMainSeat(this.seat));
                    t && (t.setPosition(e), t.angle = 360 * Math.random()), u.PlayerManager.isMainSeat(this.seat) && c.default.Instance.Play("TigerBulletBlast")
                }, a([f], t)
            }(p.default));
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../GameClient": "GameClient",
        "../Common/AudioManager": "AudioManager",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/ResourceManager": "ResourceManager",
        "../Player/PlayerManager": "PlayerManager",
        "./BaseBullet": "BaseBullet"
    }],
    TigerWeapon: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "bf81aA7es1IF48SXfLmXPhu", "TigerWeapon");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../../GameClient"),
            r = e("../Common/EnumFilter"),
            c = e("../Skill/BaseSkill"),
            l = e("./BaseWeapon"),
            h = e("./WeaponManager"),
            u = cc._decorator,
            p = u.ccclass,
            d = u.property,
            f = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skill = null, t.ShowUpEffect = null, t
                }
                return o(t, e), t.prototype.Init = function(t, n) {
                    if (e.prototype.Init.call(this, t, n), this.Type = h.WeaponType.Tiger, this.ShowUpEffect.play(), this.skill = s.default.SkillSystem.AddSkill(c.skillEnum.TigerWeapon, t), this.skill.setWeapon(this, n), r.default.playerLockSetting) {
                        var i = Array.from(r.default.playerLockSetting),
                            o = n.UnhitList;
                        if (o)
                            for (var a = 0; a < o.length; a++) {
                                var l = i.indexOf(o[a]); - 1 != l && i.splice(l, 1)
                            }
                        r.default.LockSetting = r.default.TransFishTypeList(i)
                    }
                }, t.prototype.onEnable = function() {
                    this.skill && (this.skill.enabled = !0)
                }, t.prototype.onDisable = function() {
                    this.skill && (this.skill.enabled = !1)
                }, t.prototype.ShootState = function() {
                    return 0
                }, t.prototype.ShootFunction = function(e) {
                    this.SetGunRotateUsePos(e), this.FortAni && this.FortAni.play("Shoot")
                }, t.prototype.UnloadWeapon = function() {
                    this.skill && this.skill.UnUseSkill(), this.skill = null, e.prototype.UnloadWeapon.call(this)
                }, t.prototype.stopLock = function() {
                    this.skill && this.skill.setLocking(null)
                }, a([d(cc.Animation)], t.prototype, "ShowUpEffect", void 0), a([p], t)
            }(l.default);
        n.default = f, cc._RF.pop()
    }, {
        "../../GameClient": "GameClient",
        "../Common/EnumFilter": "EnumFilter",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseWeapon": "BaseWeapon",
        "./WeaponManager": "WeaponManager"
    }],
    UniqueFishData: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "364b8c/dOdNfI6x+NdsGA8D", "UniqueFishData");
        var i = this && this.__decorate || function(e, t, n, i) {
            var o, a = arguments.length,
                s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
            else
                for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
            return a > 3 && s && Object.defineProperty(t, n, s), s
        };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var o = e("../Common/EnumFilter"),
            a = e("../Common/ResourceManager"),
            s = cc._decorator.ccclass,
            r = function() {
                function e() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    this.com = null, this.tween = null;
                    var n = null;
                    switch (e[0]) {
                        case o.FishType.Vampire:
                            switch (SS.Common.GameEnvironment.CurrentGameNow) {
                                case o.FishGame.ZB:
                                    (n = a.default.SpawnSkill("VampireOdds")) && (this.com = n.getComponent("BaseSkillOddsUI"));
                                    break;
                                case o.FishGame.ALD:
                                    (n = a.default.SpawnSkill("AladdinOdds")) && (this.com = n.getComponent("BaseSkillOddsUI"))
                            }
                            break;
                        case o.FishType.Buddha:
                            (n = a.default.SpawnSkill("BuddhaOdds")) && (this.com = n.getComponent("BaseSkillOddsUI"));
                            break;
                        case o.FishType.RedDragon:
                            (n = a.default.LoadBackground("PurpleFrameFire")) && (this.com = n.getComponent("PoolObj"));
                            break;
                        case o.FishType.EternalFlamingDragon:
                            (n = a.default.LoadBackground("YellowFrameFire")) && (this.com = n.getComponent("PoolObj"));
                            break;
                        case o.FishType.BattleShip:
                            (n = a.default.LoadGUI("ShipInfo")) && (this.com = n.getComponent("ShipInfo"));
                            break;
                        case o.FishType.CircusClown:
                            (n = a.default.SpawnSkill("ClownOdds")) && (this.com = n.getComponent("BaseSkillOddsUI"));
                            break;
                        case o.FishType.BlazingTiger:
                            (n = a.default.SpawnSkill("BlazingTigerOdds")) && (this.com = n.getComponent("BaseSkillOddsUI"));
                            break;
                        case o.FishType.ArmorKingCrab:
                            (n = a.default.LoadGUI("ArmorCrabInfo")) && (this.com = n.getComponent("ArmorCrabInfo"))
                    }
                }
                return Object.defineProperty(e.prototype, "getComponent", {
                    get: function() {
                        return this.com
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.setTargetNumber = function(e) {
                    this.com && this.com.setTargetNumber(e)
                }, e.prototype.getTargetNumber = function() {
                    if (this.com) return this.com.getTargetNumber
                }, e.prototype.bindFish = function(e) {
                    this.com && this.com.bindFish(e)
                }, e.prototype.Hide = function(e, t) {
                    void 0 === e && (e = !0), void 0 === t && (t = !0), this.com && this.com.Hide && this.com.Hide(e, t)
                }, e.prototype.TreasureCrabInit = function(e, t, n) {
                    this.com && this.com.node != e.node && this.com.FishFadeOut(.5, 1), this.com = e.getComponent("TREASURE_CRAB"), this.com.InitScore(t, n)
                }, e.prototype.TreasureCrabLevelUp = function(e) {
                    if (e) {
                        var t = e.seat,
                            n = e.bet,
                            i = e.win;
                        this.com.upgrade(t, n, i)
                    }
                }, Object.defineProperty(e.prototype, "getLevel", {
                    get: function() {
                        return this.com ? this.com.Level : 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.setTimeEvent = function(e) {
                    var t = this;
                    if (e && e.hasOwnProperty("time") && e.hasOwnProperty("callback")) {
                        var n = e.time;
                        this.tween && this.tween.stop();
                        var i = e.callback;
                        this.tween = cc.tween(this).delay(n / 1e3).call(function() {
                            i(), t.tween = null
                        }).start()
                    }
                }, e.prototype.setCustomData = function(e) {
                    this.com && this.com.setCustomData(e)
                }, i([s], e)
            }();
        n.default = r, cc._RF.pop()
    }, {
        "../Common/EnumFilter": "EnumFilter",
        "../Common/ResourceManager": "ResourceManager"
    }],
    Utility: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "3d66eTYz/1No7ngyTdMIW6j", "Utility"), Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var i = function() {
            function e() {}
            return Object.defineProperty(e, "config", {
                get: function() {
                    return this._config || (this._config = new GameConfig), this._config
                },
                enumerable: !1,
                configurable: !0
            }), e.NormalitionFloat = function(e) {
                var t = this.config.magnify;
                return Math.round(e / t * t) / t
            }, e.Numberformat = function(e, t, n) {
                void 0 === n && (n = !1);
                var i = (e / this.config.magnify).toFixed(t);
                return n && (i = i.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,")), i
            }, e.NumberformatBet = function(e, t, n) {
                return void 0 === n && (n = !1), t < this.config.magnify ? this.Numberformat(e, 1, n) : this.Numberformat(e, 0, n)
            }, e.IsOpposite = function(e, t) {
                return e <= 1 ? !(t <= 1) : t <= 1
            }, e.ConvertWorldPosition = function(e) {
                return e.neg()
            }, e.GetAngleFrom2Point = function(e, t) {
                var n = cc.v2(e.sub(t));
                return -cc.misc.radiansToDegrees(Math.atan2(n.y, n.x))
            }, e.GetLengthFrom2Point = function(e, t) {
                return cc.v2(e.sub(t)).mag()
            }, e.GetPointWithVector = function(e, t, n) {
                n = 2 * Math.PI / 360 * (n + 90);
                var i = cc.v2(Math.sin(n), Math.cos(n)).mul(t);
                return e.add(i)
            }, e._config = null, e
        }();
        n.default = i, cc._RF.pop()
    }, {}],
    WEALTH_GOD: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "0e97b86lSJHNa+H2MX6XrBu", "WEALTH_GOD");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var c = e("../../../../../FishCommon/Script/CanvasHandler"),
            l = e("../../System/WeaponSystem"),
            h = e("../Common/AudioManager"),
            u = e("./BaseFish"),
            p = cc._decorator,
            d = p.ccclass,
            f = p.property,
            m = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skeleton = null, t.InitLockPos = new cc.Vec2, t.ColliderList = new Array, t.InitOddsPos = new cc.Vec2, t.OddsNode = null, t.OddsLabel = null, t.oddsBone = null, t.boardOddsBone = null, t.catchOddsBone = null, t.swimSfx = -1, t.currentOdds = 0, t.rollingOdds = 0, t.currentLevel = 0, t.isDisplay = !1, t.isSyncData = !1, t.config = {
                        MAX_ODDS: 9999,
                        MAX_LEVEL: 6,
                        SYNC_INTERVAL: 1,
                        SWIM_STATE: "SWIM",
                        CHANGE_STATE: "CHANGE",
                        CATCH_STATE: "CATCH",
                        ODDS_CHANGE_COLOR: 1,
                        ODDS_COUNT_UP: 2,
                        ODDS_ZOOM: 3,
                        FISH_OFFSET: 4
                    }, t
                }
                return o(t, e), Object.defineProperty(t.prototype, "CurrentLevel", {
                    get: function() {
                        return this.currentLevel
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.Init = function(t, n) {
                    e.prototype.Init.call(this, t, n), this.shapeNode = this.node.getChildByName("Shape"), this.o = 180 * Math.floor(Number(this.id) % 4 * .5), this.mainCoillder.setPosition(this.InitLockPos.x, this.InitLockPos.y), this.OddsNode.setPosition(this.InitOddsPos.x, this.InitOddsPos.y), this.OddsLabel.node.stopAllActions(), this.OddsLabel.node.setScale(1, 1), this.oddsBone = null, this.boardOddsBone = null, this.catchOddsBone = null, this.SetOdds(1), this.SetLevel(1), cc.log("[Wealth God]%cFish: %s %cInit %cSetDisplay: false", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.SetDisplay(!1), this.isSyncData = !0
                }, t.prototype.InitParameter = function() {
                    e.prototype.InitParameter.call(this), this.isFeature = !0
                }, t.prototype.update = function(t) {
                    e.prototype.update.call(this, t), this.node.angle = c.default.isReverse ? 180 : 0, this.isDisplay && (null != this.oddsBone && this.isDisplay && this.OddsNode.setPosition(this.shapeNode.x + this.oddsBone.worldX, this.shapeNode.y + this.oddsBone.worldY), null != this.boardOddsBone && this.OddsNode.setScale(this.boardOddsBone.scaleX, this.boardOddsBone.scaleY), null != this.catchOddsBone && this.OddsNode.setScale(this.catchOddsBone.scaleX, this.catchOddsBone.scaleY))
                }, t.prototype.InitSeek = function(e, t, n) {
                    if (this.behaviorType = u.BEHAVIOR_TYPE.SEEK, this.AISeek) {
                        t = Number(this.id) % 12;
                        var i = this.getOffset(this.o % 4);
                        this.AISeek.SetSeek(e, t, this.node, this.id, this.o, i, this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this), n)
                    }
                }, t.prototype.FishOut = function(t) {
                    e.prototype.FishOut.call(this, t), -1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), this.swimSfx = -1, this.SetDisplay(!1)
                }, t.prototype.GetLockLinkPoint = function(e) {
                    if (!this.node || !this.node.active || !this.isInScreen) return null;
                    var t = this.node.convertToWorldSpaceAR(this.mainCoillder.getPosition()),
                        n = this.isLockInScreen(this.mainCoillder);
                    if (n) return t;
                    if (n = this.isLockInScreen(this.lockNode)) return t;
                    if (this.lockNode = null, this.subColliderList || (this.subColliderList = this.node.getComponentsInChildren(cc.Collider)), this.subColliderList.length <= 0) return t;
                    for (var i = Number.MAX_VALUE, o = 0; o < this.subColliderList.length; o++) {
                        var a = this.isLockInScreen(this.subColliderList[o].node);
                        if (a) {
                            var s = e.sub(a).mag();
                            s < i && (i = s, n = t, this.lockNode = this.subColliderList[o].node)
                        }
                    }
                    return n
                }, t.prototype.isLockInScreen = function(e) {
                    var t = -this.fishRadius;
                    if (e) {
                        var n = this.node.convertToWorldSpaceAR(e.getPosition());
                        if (this.isSummon && this.mainFishNode && (n = this.mainFishNode.convertToWorldSpaceAR(e.getPosition())), n.x >= t && n.x < c.default.WinSize.width - t && n.y >= t && n.y < c.default.WinSize.height - t) return n
                    }
                    return null
                }, t.prototype.SyncData = function(e, t) {
                    null != e && null != t && this.isSyncData && (e != this.currentOdds && this.SetOdds(e, this.isDisplay), t != this.currentLevel && this.SetLevel(t, this.isDisplay), this.isDisplay || (cc.log("[Wealth God]%cFish: %s %cSyncData %cSetDisplay: true", "color:green;font-size:14px;font-weight:bold", this.id, "color:orange", "color:white"), this.SetDisplay(!0, !0)))
                }, t.prototype.SetDisplay = function(e, t) {
                    void 0 === t && (t = !1), this.isDisplay = e, this.canCollision = this.isDisplay, this.node.stopAllActions(), this.isDisplay ? t ? this.node.runAction(cc.fadeIn(.5)) : this.node.opacity = 255 : t ? this.node.runAction(cc.fadeOut(.5)) : this.node.opacity = 0
                }, t.prototype.SetOdds = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = !1), !(e < 0 || e > 9999))
                        if (this.currentOdds = e, this.OddsLabel.node.stopActionByTag(this.config.ODDS_COUNT_UP), t && this.rollingOdds != this.currentOdds) {
                            var i = this.rollingOdds,
                                o = e - i,
                                a = Date.now(),
                                s = 0,
                                r = 0;
                            this.OddsLabel.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.001), cc.callFunc(function() {
                                s = .001 * (Date.now() - a), r = n.rollingOdds, n.rollingOdds = i + Math.round(o * (s / n.config.SYNC_INTERVAL)), n.rollingOdds >= i + o && (n.rollingOdds = i + o, n.OddsLabel.node.stopActionByTag(n.config.ODDS_COUNT_UP)), n.OddsLabel.string = "x" + n.rollingOdds, r != n.rollingOdds && null == n.OddsNode.getActionByTag(n.config.ODDS_ZOOM) && n.OddsNode.runAction(cc.sequence(cc.scaleTo(.133, 1.33, 1.33), cc.scaleTo(.133, 1, 1)).easing(cc.easeSineInOut())).setTag(n.config.ODDS_ZOOM)
                            }, this)))).setTag(this.config.ODDS_COUNT_UP)
                        } else this.rollingOdds = this.currentOdds, this.OddsLabel.string = "x" + this.currentOdds, this.OddsNode.stopActionByTag(this.config.ODDS_ZOOM), this.OddsNode.setScale(1, 1)
                }, t.prototype.SetLevel = function(e, t, n) {
                    if (void 0 === t && (t = !1), !(e < 1 || e > this.config.MAX_LEVEL))
                        if (this.OddsLabel.node.setScale(1, 1), t && 0 != this.currentLevel && e == this.currentLevel + 1) this.NextLevel(n);
                        else {
                            switch (this.currentLevel = e, this.SetAnimation(this.currentLevel, this.config.SWIM_STATE, !0), this.SetColliderPosition(), this.SetOddsColor(), this.currentLevel) {
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.boardOddsBone = this.skeleton.findBone("LV10");
                                    break;
                                default:
                                    this.boardOddsBone = null
                            }
                            if (-1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), this.isDisplay) switch (this.currentLevel) {
                                case 1:
                                    this.swimSfx = h.default.Instance.Play("01_wg_copperup", .6, !1);
                                    break;
                                case 2:
                                    this.swimSfx = h.default.Instance.Play("03_wg_silver", .6, !1);
                                    break;
                                case 3:
                                case 4:
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.swimSfx = h.default.Instance.Play("05_wg_gold", .6, !1)
                            }
                            n && n(), n = null
                        }
                }, t.prototype.NextLevel = function(e) {
                    var t = this;
                    if (!(this.currentLevel >= this.config.MAX_LEVEL)) {
                        var n = ++this.currentLevel;
                        if (this.SetAnimation(this.currentLevel - 1, this.config.CHANGE_STATE, !1, function() {
                                t.SetLevel(n, !1, e), e = null
                            }), this.SetColliderPosition(!0), this.SetOddsColor(!0), this.isDisplay) switch (this.currentLevel - 1) {
                            case 1:
                                h.default.Instance.Play("02_wg_level up_1");
                                break;
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 7:
                                h.default.Instance.Play("04_wg_level up_2")
                        }
                    }
                }, t.prototype.SetOddsColor = function(e) {
                    void 0 === e && (e = !1), this.OddsLabel.node.stopActionByTag(this.config.ODDS_CHANGE_COLOR);
                    var t = null;
                    switch (this.currentLevel) {
                        case 1:
                            t = cc.color(255, 192, 160);
                            break;
                        case 2:
                            t = cc.color(223, 223, 223);
                            break;
                        case 3:
                        case 4:
                            t = cc.color(255, 223, 160);
                            break;
                        case 5:
                        case 6:
                        case 7:
                        case 8:
                            t = cc.color(160, 255, 255);
                            break;
                        default:
                            return
                    }
                    this.OddsLabel.node.color.equals(t) || (e ? this.OddsLabel.node.runAction(cc.tintTo(.33, t.getR(), t.getG(), t.getB())).setTag(this.config.ODDS_CHANGE_COLOR) : this.OddsLabel.node.color = t)
                }, t.prototype.SetAnimation = function(e, t, n, i) {
                    this.skeleton.setCompleteListener(null), this.skeleton.setAnimation(0, "LV" + e + "_" + t, n), i && this.skeleton.setCompleteListener(i), i = null
                }, t.prototype.SetColliderPosition = function(e) {
                    var t = this;
                    void 0 === e && (e = !1);
                    try {
                        this.mainCoillder.stopActionByTag(this.config.FISH_OFFSET), this.ColliderList.forEach(function(e) {
                            e.node.stopActionByTag(t.config.FISH_OFFSET)
                        }), this.shapeNode.stopActionByTag(this.config.FISH_OFFSET), this.OddsNode.stopActionByTag(this.config.FISH_OFFSET);
                        for (var n = this.node.getChildByName("CollidersLevelPosition").getChildByName("LV" + this.currentLevel), i = n.children[0].getPosition(), o = n.children[n.childrenCount - 1].getPosition(), a = i.add(o).scaleSelf(new cc.Vec2(-.5, -.5)), s = 0; s < this.ColliderList.length; s++) {
                            var r = n.children[s];
                            null != r ? e ? this.ColliderList[s].node.runAction(cc.moveTo(.3, r.getPosition().add(a))).setTag(this.config.FISH_OFFSET) : this.ColliderList[s].node.setPosition(r.getPosition().add(a)) : this.ColliderList[s].node.setPosition(n.children[0].getPosition().add(a))
                        }
                        e ? (this.mainCoillder.runAction(cc.moveTo(.3, this.InitLockPos.add(a))).setTag(this.config.FISH_OFFSET), this.shapeNode.runAction(cc.moveTo(.3, a)).setTag(this.config.FISH_OFFSET), this.OddsNode.runAction(cc.moveTo(.3, this.InitOddsPos.add(a))).setTag(this.config.FISH_OFFSET)) : (this.mainCoillder.setPosition(this.InitLockPos.add(a)), this.shapeNode.setPosition(a), this.OddsNode.setPosition(this.InitOddsPos.add(a)))
                    } catch (c) {
                        cc.error(c)
                    }
                }, t.prototype.FishDie = function(e, t, n) {
                    return void 0 === t && (t = !0), s(this, void 0, void 0, function() {
                        var i, o, a, s, c = this;
                        return r(this, function() {
                            if (i = n[l.WeaponData.coin], o = n[l.WeaponData.bet], a = i / o, s = n.level, this.isDisplay = !0, this.node.stopAllActions(), this.node.opacity = 255, this.isSyncData = !1, this.aliveStatus = u.FishState.DEAD, this.canCollision = !1, this.StopAction(), null != i && null != o && null != s && (a != this.currentOdds || s != this.currentLevel) && a >= 1 && a <= this.config.MAX_ODDS && s >= 1 && s <= this.config.MAX_LEVEL) return this.SetOdds(i / o), this.SetLevel(s, !0, function() {
                                c.FishDie(e, t, n)
                            }), [2];
                            switch (this.ShakeCoinEffect(e), this.CoinEffect(), this.SetAnimation(this.currentLevel, this.config.CATCH_STATE, !1, function() {
                                c.skeleton.setCompleteListener(null), cc.log("[Wealth God]%cFish: %s %cFishDie %cSetDisplay: false", "color:green;font-size:14px;font-weight:bold", c.id, "color:orange", "color:white"), c.SetDisplay(!1), c.RemoveSelf()
                            }), this.boardOddsBone = null, this.currentLevel) {
                                case 1:
                                    this.oddsBone = this.skeleton.findBone("Text_LV1"), this.catchOddsBone = this.skeleton.findBone("LV1");
                                    break;
                                case 2:
                                    this.oddsBone = this.skeleton.findBone("Text_LV2"), this.catchOddsBone = this.skeleton.findBone("LV2");
                                    break;
                                case 3:
                                case 4:
                                    this.oddsBone = this.skeleton.findBone("Text_LV3"), this.catchOddsBone = this.skeleton.findBone("LV3");
                                    break;
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                    this.oddsBone = this.skeleton.findBone("Text_LV4"), this.catchOddsBone = this.skeleton.findBone("LV4")
                            }
                            return -1 != this.swimSfx && h.default.Instance.Stop(this.swimSfx), h.default.Instance.Play("06_wg_get"), [2]
                        })
                    })
                }, t.prototype.PauseBehavior = function(t, n) {
                    e.prototype.PauseBehavior.call(this, t, n), this.skeleton.paused = !0
                }, t.prototype.ResumeBehavior = function() {
                    e.prototype.ResumeBehavior.call(this), this.skeleton.paused = !1
                }, a([f(sp.Skeleton)], t.prototype, "skeleton", void 0), a([f(cc.Vec2)], t.prototype, "InitLockPos", void 0), a([f([cc.Collider])], t.prototype, "ColliderList", void 0), a([f(cc.Vec2)], t.prototype, "InitOddsPos", void 0), a([f(cc.Node)], t.prototype, "OddsNode", void 0), a([f(cc.Label)], t.prototype, "OddsLabel", void 0), a([d], t)
            }(u.default);
        n.default = m, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../System/WeaponSystem": "WeaponSystem",
        "../Common/AudioManager": "AudioManager",
        "./BaseFish": "BaseFish"
    }],
    WeaponChoseWindow: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "ba819nszVNKZJc9dayl1jGR", "WeaponChoseWindow");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Weapon/WeaponManager"),
            r = e("./PopupWindowCtrl"),
            c = e("./WindowCtrl"),
            l = cc._decorator,
            h = l.ccclass,
            u = l.property,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.toggleParent = null, t.WeaponBtnList = null, t.WeaponBtnType = [s.WeaponType.Normal, s.WeaponType.Lock, s.WeaponType.Tiger, s.WeaponType.Dragon], t.RichTextList = null, t
                }
                return o(t, e), t.prototype.showWindow = function(t, n, i) {
                    if (void 0 === t && (t = null), void 0 === n && (n = null), e.prototype.showWindow.call(this, t, n, i), this.RichTextList = this.toggleParent.getComponentsInChildren(cc.RichText), null != n && this.RichTextList.length >= n.length)
                        for (var o = 0; o < n.length; o++) this.RichTextList[o].string = n[o]
                }, t.prototype.Init = function(e) {
                    if (e) {
                        var t = e.WeaponList,
                            n = e.currentType;
                        this.WeaponBtnList = this.toggleParent.toggleItems, this.toggleParent.enabled = !1;
                        for (var i = 0; i < this.WeaponBtnList.length; i++) this.WeaponBtnList[i].node.active = -1 != t.indexOf(this.WeaponBtnType[i]), this.WeaponBtnList[i].isChecked = !1;
                        this.toggleParent.enabled = !0, this.WeaponBtnList[this.WeaponBtnType.indexOf(n)].isChecked = !0
                    } else r.default.CloseWindow()
                }, t.prototype.WeaponBtnClick = function(e, t) {
                    null != this.BtnEvent[0] ? this.BtnEvent[0](parseInt(t)) : r.default.CloseWindow()
                }, a([u(cc.ToggleContainer)], t.prototype, "toggleParent", void 0), a([h], t)
            }(c.default);
        n.default = p, cc._RF.pop()
    }, {
        "../Weapon/WeaponManager": "WeaponManager",
        "./PopupWindowCtrl": "PopupWindowCtrl",
        "./WindowCtrl": "WindowCtrl"
    }],
    WeaponManager: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "fc86b0jlGZD3qC9rUArPalI", "WeaponManager");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            },
            s = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            r = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WeaponType = void 0;
        var c, l = e("../Common/ResourceManager"),
            h = e("../Player/PlayerManager"),
            u = e("../Fish/FishManager"),
            p = e("./BaseBullet"),
            d = e("../../GameClient"),
            f = e("../../System/WeaponSystem"),
            m = e("./BaseWeapon"),
            y = e("../Skill/BaseSkill"),
            g = e("../Common/EnumFilter"),
            S = e("../Common/AudioManager"),
            _ = e("../Common/MultiLangSystem"),
            v = e("../Player/PopupWindowCtrl"),
            b = e("../Common/PreloadManager"),
            P = e("../Item/ItemManager"),
            I = e("../../System/ItemSystem"),
            C = e("../../Event/EventPuzzleDropEggMgr"),
            w = e("../../../../../FishCommon/Script/CanvasHandler"),
            M = e("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            E = e("../../../../../LobbyCommon/Net/LobbyClient"),
            T = e("../../GameClient");
        (function(e) {
            e[e.None = -1] = "None", e[e.Normal = 50001] = "Normal", e[e.Lock = 51001] = "Lock", e[e.Dirll = 54001] = "Dirll", e[e.FlameStorm = 54002] = "FlameStorm", e[e.Electric = 55001] = "Electric", e[e.Tiger = 56001] = "Tiger", e[e.Dragon = 57001] = "Dragon"
        })(c = n.WeaponType || (n.WeaponType = {}));
        var A = cc._decorator.ccclass,
            F = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.playerShoot = !1, t.firstTouch = !1, t.autoShoot = !1, t.weaponNow = [null, null, null, null], t.weaponLast = [null, null, null, null], t.bulletCount = [0, 0, 0, 0], t.weaponAuto = [!1, !1, !1, !1], t.mousePositionNow = cc.Vec2.ZERO, t.bulletLimit = 20, t.bulletSN = 0, t.bullet_manager = {}, t.MainSeat = 0, t.m_weaponSkinData = {}, t.m_weaponSkinNow = [0, 0, 0, 0], t.m_weaponLvNow = [0, 0, 0, 0], t.m_curWeaponType = c.Normal, t.m_isPopupShow = !1, t.weapon_setting = {}, t.baseWeaponList = [], t.cooldownCW = !1, t.cooldownWA = !1, t
                }
                var n;
                return o(t, e), n = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "AutoShoot", {
                    get: function() {
                        return this.autoShoot
                    },
                    set: function(e) {
                        this.autoShoot = e, this.AutoState(this.MainSeat, e), d.default.PlayerSystem && d.default.PlayerSystem.UpdateBetValue(h.PlayerManager.getPlayer(this.MainSeat)), d.default.FishUIMgr.SwitchAutoButton(this.autoShoot)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "IsPopupShow", {
                    set: function(e) {
                        this.m_isPopupShow = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.BaseWeaponList = function() {
                    return this.baseWeaponList
                }, t.prototype.onLoad = function() {
                    return s(this, void 0, void 0, function() {
                        var e, t;
                        return r(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    n.instance = this, e = "weapon_setting", i.label = 1;
                                case 1:
                                    return i.trys.push([1, 3, , 4]), [4, d.default.Instance.CheckJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/weapon_setting/" + window.gd_nowLOGO + "_weapon_setting").then(function() {
                                        e = window.gd_nowLOGO + "_weapon_setting"
                                    })];
                                case 2:
                                case 3:
                                    return i.sent(), [3, 4];
                                case 4:
                                    return t = this, [4, d.default.Instance.loadJson(SS.Common.GameEnvironment.CurrentGameNow + "/Res/data/weapon_setting/" + e)];
                                case 5:
                                    return t.weapon_setting = i.sent(), 0 == this.baseWeaponList.length && (this.baseWeaponList = this.weapon_setting.BaseWeaponList), [2]
                            }
                        })
                    })
                }, t.prototype.Init = function(e) {
                    b.default.Instance.onReleaseSceneEvent.AddListener(this.Clear.bind(this)), this.weaponPosition = new Array(4);
                    var t = w.default.WinSize;
                    this.weaponPosition[0] = cc.v2(-.25 * t.width, -.44 * t.height), this.weaponPosition[1] = cc.v2(.25 * t.width, -.44 * t.height), this.weaponPosition[2] = cc.v2(.25 * t.width, .44 * t.height), this.weaponPosition[3] = cc.v2(-.25 * t.width, .44 * t.height), w.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_START, this.touchStart, this), w.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this), w.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_END, this.touchEnd, this), w.default.RegisterTouchEvent(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this), this.MainSeat = e;
                    for (var n = 0; n < this.weaponPosition.length; n++) n != this.MainSeat && this.LoadWeapon(n, c.Normal, !0)
                }, t.prototype.touchStart = function(e) {
                    this.playerShoot = !0, this.firstTouch = !0, this.mousePositionNow = w.default.ConvMousePos(e.getLocation())
                }, t.prototype.touchMove = function(e) {
                    this.playerShoot && (this.mousePositionNow = w.default.ConvMousePos(e.getLocation()))
                }, t.prototype.touchEnd = function() {
                    this.playerShoot = !1
                }, t.prototype.touchCancel = function() {
                    this.playerShoot = !1
                }, t.prototype.SwitchWeapon = function() {
                    if (this.checkChangeWeaponState && !this.cooldownCW && this.weaponNow[this.MainSeat]) {
                        v.default.CloseWindow(v.Windows.WeaponChose);
                        var e = this.baseWeaponList.indexOf(this.weaponNow[this.MainSeat].Type); - 1 == e && cc.error("SwitchWeapon error unknow weapon"), (e += 1) >= this.baseWeaponList.length && (e -= this.baseWeaponList.length), this.mainPlayerChangeWeapon(this.baseWeaponList[e])
                    }
                }, Object.defineProperty(t.prototype, "checkChangeWeaponState", {
                    get: function() {
                        return h.PlayerManager.Instance.MaxBalance && h.PlayerManager.getPlayer(this.MainSeat).entries + h.PlayerManager.getPlayer(this.MainSeat).winning >= h.PlayerManager.Instance.MaxBalance ? (M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Info, "C29", d.default.Instance.title, "MaxBalance", null), !1) : !h.PlayerManager.Instance.isLockChangeBet
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.mainPlayerChangeWeapon = function(e) {
                    var t = this;
                    switch (this.weaponNow[this.MainSeat].Type) {
                        case c.Lock:
                            var i = d.default.SkillSystem.FindSkill(y.skillEnum.Lock, this.MainSeat);
                            i && i.UnUseSkill();
                            break;
                        case c.Tiger:
                            var o = d.default.SkillSystem.FindSkill(y.skillEnum.TigerWeapon, this.MainSeat);
                            o && o.UnUseSkill();
                            break;
                        case c.Dragon:
                            var a = d.default.SkillSystem.FindSkill(y.skillEnum.DragonWeapon, this.MainSeat);
                            a && a.UnUseSkill()
                    }
                    switch (this.RecycleWeapon(this.MainSeat), this.LoadWeapon(this.MainSeat, e), this.AutoShoot = !1, e) {
                        case c.Normal:
                        case c.Lock:
                            S.default.Instance.Play("gunswitch_on");
                            break;
                        case c.Tiger:
                            S.default.Instance.Play("13_wild_tiger");
                            break;
                        case c.Dragon:
                            S.default.Instance.Play("canon_dragon_05")
                    }
                    this.m_curWeaponType = e;
                    var s = this.weapon_setting[e].UnhitList;
                    s ? u.default.Instance.SetUnhitableFishColor(g.default.TransFishTypeList(s), cc.Color.GRAY) : u.default.Instance.SetUnhitableFishColor([], cc.Color.WHITE), d.default.FishUIMgr.ChangeWeaponButton(e, this.baseWeaponList);
                    var r = 1,
                        l = 6;
                    this.weapon_setting[e].betScale && (r = this.weapon_setting[e].betScale), this.weapon_setting[e]["1secShoot"] && (l = this.weapon_setting[e]["1secShoot"]);
                    var p = h.PlayerManager.getPlayer(this.MainSeat);
                    d.default.FishUIMgr.ShowPurchaseHint(p.entries < p.bet_value * n.Instance.getBetScale), d.default.FishUIMgr.SetBet(p.bet_value, r), d.default.Instance.UpdateBetData(p.bet_value, r, l), this.cooldownCW = !0, this.scheduleOnce(function() {
                        t.cooldownCW = !1, d.default.FishUIMgr.ResetWeaponToggle && d.default.FishUIMgr.ResetWeaponToggle()
                    }, .3), this.CheckWeaponChangeHint()
                }, t.prototype.SwitchAuto = function() {
                    var e = this;
                    if (this.checkChangeWeaponState && !this.cooldownWA) {
                        if (v.default.CloseWindow(v.Windows.WeaponChose), n.Instance.AutoShoot = !n.Instance.AutoShoot, S.default.Instance.Play("common01"), n.Instance.AutoShoot && g.default.playerLockSetting) {
                            var t = Array.from(g.default.playerLockSetting),
                                i = this.weapon_setting[this.getWeaponType(this.MainSeat)].UnhitList;
                            if (i)
                                for (var o = 0; o < i.length; o++) {
                                    var a = t.indexOf(i[o]); - 1 != a && t.splice(a, 1)
                                }
                            g.default.LockSetting = g.default.TransFishTypeList(t)
                        }
                        this.cooldownWA = !0, this.scheduleOnce(function() {
                            e.cooldownWA = !1
                        }, .3)
                    }
                }, t.prototype.ForceStopAuto = function() {
                    switch (this.AutoShoot = !1, this.playerShoot = !1, this.getWeaponType(h.PlayerManager.MainSeat)) {
                        case c.Lock:
                            var e = d.default.SkillSystem.FindSkill(y.skillEnum.Lock, h.PlayerManager.MainSeat);
                            e && (cc.warn("setLocking null"), e.setLocking(null));
                            break;
                        case c.Tiger:
                            var t = d.default.SkillSystem.FindSkill(y.skillEnum.TigerWeapon, h.PlayerManager.MainSeat);
                            t && (cc.warn("setLocking null"), t.setLocking(null));
                            break;
                        case c.Dragon:
                            var n = d.default.SkillSystem.FindSkill(y.skillEnum.DragonWeapon, h.PlayerManager.MainSeat);
                            n && (cc.warn("setLocking null"), n.setLocking(null))
                    }
                }, t.prototype.GetSkillWeapon = function(e, t) {
                    if (this.weaponNow[e] && (this.weaponNow[e].enabled = !1, this.weaponNow[e].node.active = !1), this.weaponLast[e] || (this.weaponLast[e] = this.weaponNow[e]), e == this.MainSeat) {
                        h.PlayerManager.Instance.isLockChangeBet = !0;
                        var n = null;
                        this.weaponLast[e] && (n = this.weapon_setting[this.weaponLast[e].Type].UnhitList), n && u.default.Instance.SetUnhitableFishColor([], cc.Color.WHITE)
                    }
                    if (t) return this.LoadWeapon(e, t), this.weaponNow[e];
                    this.weaponNow[e] = null
                }, t.prototype.ReturnToBaseWeapon = function(e) {
                    if (this.weaponLast[e]) {
                        this.RecycleWeapon(e), this.weaponNow[e] = this.weaponLast[e], this.weaponLast[e] = null;
                        var t = null;
                        this.weaponNow[e] && (t = this.weapon_setting[this.weaponNow[e].Type].UnhitList), t && u.default.Instance.SetUnhitableFishColor(t, cc.Color.GRAY)
                    }
                    this.weaponNow[e].node.active = !0, this.weaponNow[e].enabled = !0, this.AutoState(e, this.weaponAuto[e]), e == this.MainSeat && (h.PlayerManager.Instance.isLockChangeBet = !1)
                }, t.prototype.ChangeWeapon = function(e, t, n) {
                    void 0 === n && (n = !1), this.getWeaponType(e) != t ? (this.RecycleWeapon(e), this.LoadWeapon(e, t, n)) : this.weaponNow[e].GunAlpha(n), SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && this.LoadWeapon(e, t, n)
                }, t.prototype.OnBetChange = function(e) {
                    SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && this.LoadWeapon(e, this.m_curWeaponType)
                }, t.prototype.SetWeaponSkinData = function(e) {
                    this.m_weaponSkinData = e
                }, t.prototype.GetWeaponSkipID = function(e, t, n) {
                    void 0 === n && (n = !1);
                    var i = t.toString(),
                        o = h.PlayerManager.getPlayer(e).bet_value;
                    h.PlayerManager.Instance.m_isUIInitFinish && (o = Number.parseInt(h.PlayerManager.getBetCtrl(e).betLabel.string));
                    var a = this.m_weaponSkinData[o];
                    (null == a || n) && (a = 11, cc.warn("weaponLv == undefined || alpha"), o > 300 && (a = 32)), this.m_weaponLvNow[e] = a;
                    var s = i + a.toString();
                    return Number.parseInt(s)
                }, t.prototype.LoadWeapon = function(e, t, n) {
                    if (void 0 === n && (n = !1), SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF) {
                        var i = t;
                        if (i == c.Normal || i == c.Lock) {
                            if ((i = this.GetWeaponSkipID(e, t)) == this.m_weaponSkinNow[e]) return;
                            this.m_weaponSkinNow[e] = i, this.RecycleWeapon(e), t = i
                        }
                    }
                    var o = l.default.LoadWeapon(t, this.MainSeat == e);
                    o && (o.setPosition(this.weaponPosition[e]), this.weaponNow[e] = o.getComponent(m.default), this.weaponNow[e].Init(e, this.weapon_setting[t]), this.weaponNow[e].GunAlpha(n))
                }, t.prototype.RecycleWeapon = function(e) {
                    this.weaponNow[e] && (this.weaponNow[e].UnloadWeapon(), l.default.UnloadWeapon(this.weaponNow[e].Type, this.weaponNow[e].node), this.weaponNow[e] = null)
                }, t.prototype.getWeapon = function(e) {
                    if (this.weaponNow[e]) return this.weaponNow[e]
                }, t.prototype.getWeaponType = function(e) {
                    if (this.weaponNow[e]) return this.weaponNow[e].Type
                }, t.prototype.GetWeaponPosition = function(e) {
                    return this.weaponNow[e].node.parent.convertToWorldSpaceAR(this.weaponPosition[e])
                }, t.WeaponPosition = function(e, t, n) {
                    if (void 0 === t && (t = cc.Vec2.ZERO), void 0 === n && (n = 1), this.instance) {
                        var i = cc.v2(this.instance.weaponPosition[e]);
                        return (e > 1 ? i.sub(t) : i.add(t)).scale(cc.v2(n, n))
                    }
                }, t.WeaponUIPosition = function(e) {
                    return w.default.isReverse ? e < 2 ? cc.v2(this.instance.weaponPosition[e + 2]) : cc.v2(this.instance.weaponPosition[e - 2]) : cc.v2(this.instance.weaponPosition[e])
                }, t.WeaponGUIRotation = function(e, t) {
                    return void 0 === t && (t = !1), t ? w.default.isReverse && e > 1 ? 180 : 0 : w.default.isReverse ? 180 : 0
                }, t.prototype.update = function() {
                    this.PlayerShoot()
                }, t.prototype.PlayerShoot = function() {
                    if (!this.m_isPopupShow && (this.playerShoot || this.AutoShoot)) {
                        if (!this.weaponNow[this.MainSeat]) return;
                        switch (this.weaponNow[this.MainSeat].ShootState(this.firstTouch)) {
                            case 0:
                                return;
                            case 1:
                                this.firstTouch = !1;
                                break;
                            case 2:
                                var e = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Info, e, d.default.Instance.title, "Insufficient balance", null), this.AutoShoot = !1, this.playerShoot = !1, void d.default.FishUIMgr.ShowPurchaseHint(!0);
                            case 3:
                                return M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Info, "C29", d.default.Instance.title, "MaxBalance", null), this.AutoShoot = !1, void(this.playerShoot = !1)
                        }
                        if (d.default.FishUIMgr.IsPurchaseOpen()) return;
                        if (this.bulletCount[this.MainSeat] >= this.bulletLimit) return;
                        var t = this.mousePositionNow;
                        !w.default.isReverse && t.y < -250 && (t.y = -250), w.default.isReverse && t.y > 250 && (t.y = 250);
                        var n = h.PlayerManager.getPlayer(this.MainSeat),
                            i = this.CreateBullet(this.MainSeat, t, n.bet_value);
                        this.SendShootCmd(i.bulletID, n.bet_value), this.weaponNow[this.MainSeat].ShootFunction(t), this.AutoShoot || d.default.Instance.RecordClickLog(!0), "playgd" == window.gd_nowLOGO && -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + E.GAME_STATUS.FIRST_SPIN) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + E.GAME_STATUS.FIRST_SPIN), E.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, E.GAME_STATUS.FIRST_SPIN)), this.CheckWeaponChangeHint()
                    }
                }, t.prototype.SendShootCmd = function(e, t) {
                    switch (this.weaponNow[this.MainSeat].Type) {
                        case c.Normal:
                            d.default.WeaponSystem && d.default.WeaponSystem.Shoot(this.MainSeat, this.mousePositionNow, e, t);
                            break;
                        case c.FlameStorm:
                            d.default.SkillSystem.FlameStormShoot(e, this.mousePositionNow)
                    }
                }, t.prototype.OtherPlayerShoot = function(e, t, n, i) {
                    if (!h.PlayerManager.isMainSeat(e) && !(u.default.Instance.currect_fps < 20 || this.bulletCount[e] >= this.bulletLimit) && this.weaponNow[e] && this.weaponNow[e].Type == c.Normal) {
                        var o = new cc.Vec2(n, i);
                        this.CreateBullet(e, o), this.weaponNow[e].ShootFunction(o), this.weaponNow[e].autoAnim || d.default.Instance.RecordClickLog(!1)
                    }
                }, t.prototype.CreateBullet = function(e, t, n) {
                    var i = e + "_" + this.bulletSN;
                    this.bulletSN >= Number.MAX_VALUE ? this.bulletSN = 0 : this.bulletSN++;
                    var o = this.weaponNow[e].Type;
                    SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && (o = o == c.Normal ? this.m_weaponSkinNow[e] : o);
                    var a = l.default.SpawnBullet(o, this.MainSeat == e).getComponent(p.default);
                    return t && a.Init(i, e, this.weaponNow[e].Type, t, n), this.bulletCount[e]++, this.bullet_manager[a.bulletID] = a, a
                }, t.prototype.HitFishRequest = function(e, t) {
                    var n = e.bulletID;
                    if (this.bullet_manager.hasOwnProperty(n)) {
                        delete this.bullet_manager[n];
                        var i = e.seat;
                        e.Recycle(), this.bulletCount[i]--;
                        var o = g.EffectType.Blast;
                        this.weaponNow[i] && SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF && (o = this.weaponNow[i].Type == c.Normal ? this.m_weaponSkinNow[i] : g.EffectType.Blast), l.default.SpawnEffect(o, i == this.MainSeat).setPosition(e.node.getPosition()), i == this.MainSeat && 0 != t.length && null != t && d.default.WeaponSystem && d.default.WeaponSystem.Blast(i, n, e.bulletBet, t)
                    }
                }, t.prototype.getMainPlayerWeaponType = function() {
                    return this.weaponNow[this.MainSeat] ? this.weaponNow[this.MainSeat].Type : this.weaponLast[this.MainSeat] ? this.weaponLast[this.MainSeat].Type : -1
                }, t.prototype.HitFishRequestCallback = function(e, t, n, i, o, a, s, r) {
                    var c = this;
                    if (o == this.MainSeat ? h.PlayerManager.BulletSync(null, e) : this.bulletCount[o]--, "playgd" == window.gd_nowLOGO && s && s.hasOwnProperty("900005") && C.default.Instance.ParsePuzzelDropEgg(o, o == this.MainSeat, s, r), null == n || n.length <= 0) o == this.MainSeat && (u.default.Instance.IsEternalFish(r) ? setTimeout(function() {
                        h.PlayerManager.BulletSync(-1)
                    }, 1e3) : h.PlayerManager.BulletSync(-1));
                    else
                        for (var l, p, d = 0, m = cc.Vec2.ZERO, y = Object.keys(n), S = 0; S < y.length; S++) {
                            d = (l = n[y[S]])[f.WeaponData.coin], p = l[f.WeaponData.fs_item_dict];
                            var _ = u.default.Instance.GetFishByID(y[S].toString());
                            if (_) T.GameLogMainPlayer.pushWinning(_.Type, i, o, d, !0), _.IsFeatureFish && (a = !0), a && !g.default.KillableFeatureFish(_.Type) || u.default.Instance.KillFish(o, _, d, i, null, null, null, l), m = w.default.ConvMousePos(_.getFishPos()), g.default.getFishType(_.Type) == g.FishType.WealthGod ? (m = w.default.isReverse ? cc.v2(0, -100) : cc.v2(0, 100), setTimeout(function() {
                                c.CallDropItem(o, p, m, !1)
                            }, 5e3)) : this.CallDropItem(o, p, m, !1);
                            else if (d > 0 && h.PlayerManager.Instance.ModifyPlayerWinning(o, d, e), o == this.MainSeat) {
                                var v = void 0,
                                    b = void 0;
                                Math.random() > .5 ? (v = Math.floor(1136 * Math.random() - 568), b = Math.random() > .5 ? 350 : -320) : (v = Math.random() > .5 ? 600 : -600, b = Math.floor(660 * Math.random() - 320)), m = cc.v2(v, b), this.CallDropItem(o, p, m)
                            }
                        }
                }, t.prototype.CallDropItem = function(e, t, n, i) {
                    if (void 0 === i && (i = !0), null != t) {
                        var o = t.freeze_amount,
                            a = t.summon_amount;
                        Object.keys(t).forEach(function(s) {
                            if (s == I.ITEM_ID.FREEZE || s == I.ITEM_ID.SUMMON) {
                                var r = t[s];
                                r > 0 && P.default.Instance.DropItemEffect(e, s, r, n, i, null, o, a)
                            }
                        })
                    }
                }, t.prototype.AutoState = function(e, t) {
                    this.weaponNow && this.weaponNow[e] && (this.weaponAuto[e] = t, this.weaponNow[e].AutoState(t))
                }, t.prototype.PlayerLeave = function(e) {
                    this.AutoState(e, !1), this.ChangeWeapon(e, c.Normal, !0)
                }, t.prototype.WeaponChose = function() {
                    switch (window.gd_nowLOGO) {
                        case "magiccity":
                            break;
                        default:
                            if (v.default.CloseWindow(v.Windows.WeaponChose)) return
                    }
                    if (this.checkChangeWeaponState && this.weaponNow[this.MainSeat])
                        if (2 != this.baseWeaponList.length) {
                            var e = "",
                                t = "";
                            this.baseWeaponList.indexOf(c.Tiger) >= 0 && (e = _.default.getMultiLangText("TigerInfo").replace("#BS#", "x" + this.weapon_setting[c.Tiger].betScale)), this.baseWeaponList.indexOf(c.Dragon) >= 0 && (t = _.default.getMultiLangText("DragonInfo").replace("#BS#", "x" + this.weapon_setting[c.Dragon].betScale));
                            var n = {};
                            switch (n.currentType = this.getWeaponType(this.MainSeat), n.WeaponList = this.baseWeaponList, window.gd_nowLOGO) {
                                case "magiccity":
                                    var i = [_.default.getMultiLangText("SpeedInfo"), _.default.getMultiLangText("LockInfo")];
                                    "" != e && i.push(e), "" != t && i.push(t), d.default.FishUIMgr.showWeaponChosePanel(i, n);
                                    break;
                                default:
                                    var o = new v.WindowsData(v.Windows.WeaponChose, [this.WeaponChoseBtnClick.bind(this)], [_.default.getMultiLangText("SpeedInfo"), _.default.getMultiLangText("LockInfo"), e, t], n);
                                    v.default.EnableWindow(o, !1)
                            }
                        } else this.SwitchWeapon()
                }, t.prototype.WeaponChoseBtnClick = function(e) {
                    e != this.getWeaponType(this.MainSeat) ? this.checkChangeWeaponState && !this.cooldownCW && this.weaponNow[this.MainSeat] && this.mainPlayerChangeWeapon(e) : v.default.CloseWindow(v.Windows.WeaponChose)
                }, t.prototype.LockSetting = function() {
                    if (this.checkChangeWeaponState) {
                        var e = JSON.parse(JSON.stringify(this.weapon_setting[this.getWeaponType(this.MainSeat)]));
                        if (SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.BS)
                            for (var t = SS.Network.LoginModel.LoginInfo.pin_ark_id, n = u.default.Instance.getUniqueFishData(g.FishType.BattleShip).getComponent.getData(), i = 89; i < 92; i++) {
                                var o = "";
                                switch (i) {
                                    case 89:
                                        o = "SUBMARINE_R";
                                        break;
                                    case 90:
                                        o = "SUBMARINE_G";
                                        break;
                                    case 91:
                                        o = "SUBMARINE_B"
                                }
                                if (n[o].ark_id == t) {
                                    var a = e.UnhitList;
                                    a ? a.push(i) : a = [i], e.UnhitList = a
                                }
                            }
                        var s = new v.WindowsData(v.Windows.LockSetting, [this.LockSettingConfirm.bind(this)], [_.default.getMultiLangText("LockSetting"), _.default.getMultiLangText("Ok"), _.default.getMultiLangText("Clear")], e);
                        v.default.EnableWindow(s), S.default.Instance.PlayByAudioClipTable("LOCK_SETTING_BTN")
                    }
                }, t.prototype.LockSettingConfirm = function() {
                    v.default.CloseWindow();
                    var e = null;
                    switch (n.Instance.getWeaponType(h.PlayerManager.MainSeat)) {
                        case c.Lock:
                            e = SS.Common.GameEnvironment.CurrentGameNow == g.FishGame.MF ? d.default.SkillSystem.FindSkill(this.GetSkillLockLv(this.MainSeat), h.PlayerManager.MainSeat) : d.default.SkillSystem.FindSkill(y.skillEnum.Lock, h.PlayerManager.MainSeat);
                            break;
                        case c.Tiger:
                            e = d.default.SkillSystem.FindSkill(y.skillEnum.TigerWeapon, h.PlayerManager.MainSeat);
                            break;
                        case c.Dragon:
                            e = d.default.SkillSystem.FindSkill(y.skillEnum.DragonWeapon, h.PlayerManager.MainSeat)
                    }
                    if (e)
                        if (e.setLocking(null), null != g.default.LockSetting) {
                            if (d.default.FishUIMgr.SwitchLockSettingButton(!0), h.PlayerManager.getPlayer(this.MainSeat).entries < this.getBetScale) {
                                var t = SS.Common.GameEnvironment.IsShowDonate ? "C42" : "C41";
                                return M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Info, t, d.default.Instance.title, "Insufficient balance", null), void d.default.FishUIMgr.ShowPurchaseHint(!0)
                            }
                            e.FindNextFish(), n.Instance.AutoShoot || (n.Instance.AutoShoot = !0)
                        } else d.default.FishUIMgr.SwitchLockSettingButton(!1)
                }, t.prototype.CheckWeaponChangeHint = function() {
                    d.default.FishUIMgr.CloseWeaponActiveHint(), d.default.FishUIMgr.IsWeaponChangeHintActive && d.default.FishUIMgr.CloseWeaponChangeHint()
                }, Object.defineProperty(t.prototype, "getBetScale", {
                    get: function() {
                        var e = 1;
                        return this.weapon_setting[this.getWeaponType(this.MainSeat)] && this.weapon_setting[this.getWeaponType(this.MainSeat)].betScale && (e = this.weapon_setting[this.getWeaponType(this.MainSeat)].betScale), e
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.InitWeaponList = function(e) {
                    var t = [c.Normal, c.Lock];
                    e.hasOwnProperty("Scale") && e.Scale && t.push(c.Tiger), e.hasOwnProperty("MultipleScale") && e.MultipleScale && t.push(c.Dragon), this.baseWeaponList = t
                }, t.prototype.ChangeWeaponList = function(e) {
                    var t = [c.Normal, c.Lock];
                    e.hasOwnProperty("Scale") && e.Scale && t.push(c.Tiger), e.hasOwnProperty("MultipleScale") && e.MultipleScale && t.push(c.Dragon);
                    for (var n = [], i = 0; i < t.length; i++) - 1 == this.baseWeaponList.indexOf(t[i]) && n.push(t[i]);
                    n.length > 0 && (v.default.CloseWindow(v.Windows.WeaponChose), d.default.FishUIMgr.WeaponActiveHint(n));
                    var o = [],
                        a = !1;
                    for (i = 0; i < this.baseWeaponList.length; i++) - 1 == t.indexOf(this.baseWeaponList[i]) && (o.push(this.baseWeaponList[i]), this.weaponNow[this.MainSeat].Type == this.baseWeaponList[i] && (a = !0));
                    if (o.length > 0 && v.default.CloseWindow(v.Windows.WeaponChose), a) {
                        var s = "";
                        o.length > 1 ? s = "C63" : o[0] == c.Tiger ? s = "C61" : o[0] == c.Dragon && (s = "C62"), this.mainPlayerChangeWeapon(c.Lock), M.PopupMsgMgr.Instance.ShowPopMsg(M.PopupPriority.Info, s, d.default.Instance.title, "WeaponOff")
                    } else d.default.FishUIMgr.ChangeWeaponButton(this.getWeaponType(this.MainSeat), this.baseWeaponList);
                    this.baseWeaponList = t
                }, t.prototype.Clear = function() {
                    this.weaponNow = [null, null, null, null], this.weaponLast = [null, null, null, null], this.bulletCount = [0, 0, 0, 0], this.bullet_manager = {}, this.m_weaponSkinData = {}, n.instance = null
                }, t.prototype.GetSkillLockLv = function(e) {
                    h.PlayerManager.getBetCtrl(e).betLabel.string;
                    var t = this.m_weaponLvNow[e],
                        n = y.skillEnum.Lock;
                    switch (t) {
                        case 11:
                        case 12:
                            n = y.skillEnum.Lock;
                            break;
                        case 21:
                        case 22:
                            n = y.skillEnum.LockLv2;
                            break;
                        case 31:
                        case 32:
                            n = y.skillEnum.LockLv3
                    }
                    return n
                }, t.instance = null, n = a([A], t)
            }(cc.Component);
        n.default = F, cc._RF.pop()
    }, {
        "../../../../../FishCommon/Script/CanvasHandler": void 0,
        "../../../../../LobbyCommon/Net/LobbyClient": void 0,
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": void 0,
        "../../Event/EventPuzzleDropEggMgr": "EventPuzzleDropEggMgr",
        "../../GameClient": "GameClient",
        "../../System/ItemSystem": "ItemSystem",
        "../../System/WeaponSystem": "WeaponSystem",
        "../Common/AudioManager": "AudioManager",
        "../Common/EnumFilter": "EnumFilter",
        "../Common/MultiLangSystem": "MultiLangSystem",
        "../Common/PreloadManager": "PreloadManager",
        "../Common/ResourceManager": "ResourceManager",
        "../Fish/FishManager": "FishManager",
        "../Item/ItemManager": "ItemManager",
        "../Player/PlayerManager": "PlayerManager",
        "../Player/PopupWindowCtrl": "PopupWindowCtrl",
        "../Skill/BaseSkill": "BaseSkill",
        "./BaseBullet": "BaseBullet",
        "./BaseWeapon": "BaseWeapon"
    }],
    WeaponSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2b8a3yHuPFKoKONvzZ33amW", "WeaponSystem");
        var i, o = this && this.__extends || (i = function(e, t) {
            return (i = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(e, t)
        }, function(e, t) {
            function n() {
                this.constructor = e
            }
            i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
        });
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.WeaponData = void 0;
        var a = e("../MainGame/Common/EnumFilter"),
            s = e("../MainGame/Fish/FishManager"),
            r = e("../MainGame/Player/PlayerManager"),
            c = e("./baseSystem"),
            l = e("../GameClient"),
            h = {
                shoot: "w1",
                blast: "w2",
                lock_shoot: "w3",
                vampireOdds: "VampireOdds",
                buddhaOdds: "LuckyBuddhaOdds",
                TREASURE_CRAB: "TreasureCrab",
                TREASURE_CRAB_INFO: "TreasureCrabInfo",
                circusClownOdds: "CircusClownOdds",
                blazingTigerodds: "FlamingTigerOdds"
            };
        n.WeaponData = {
            id: "1",
            seat: "2",
            credits: "3",
            x: "4",
            y: "5",
            fish_id: "6",
            fish_id_list: "7",
            fish_dead_dict: "8",
            bet: "9",
            odds: "10",
            coin: "11",
            fs_item_dict: "13",
            time: "15",
            multiple: "16",
            feature: "17",
            item: "18"
        };
        var u = function(e) {
            function t(t) {
                var n = e.call(this, t, "weapon") || this;
                return n.ShootEvent = null, n.UpdateAssetEvent = null, n.BlastEvent = null, n.BlastBetEvent = null, n.UniqueOddsEvent = null, n.RegisterCmdCallback(h.shoot, n.onShoot.bind(n)), n.RegisterCmdCallback(h.blast, n.onBlast.bind(n), h.blast, [null, "2"]), n.RegisterCmdCallback(h.vampireOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(h.buddhaOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(h.circusClownOdds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(h.blazingTigerodds, n.onSyncFishOdds.bind(n)), n.RegisterCmdCallback(h.TREASURE_CRAB, n.onTreasureCrabEvent.bind(n)), n.RegisterCmdCallback(h.TREASURE_CRAB_INFO, n.onTreasureCrabEvent.bind(n)), n
            }
            return o(t, e), t.prototype.Shoot = function(e, t, i, o) {
                var a = {};
                a[n.WeaponData.x] = t.x, a[n.WeaponData.y] = t.y, a[n.WeaponData.id] = i, a[n.WeaponData.seat] = e, a[n.WeaponData.bet] = o, this.SendCmd(h.shoot, a)
            }, t.prototype.Blast = function(e, t, i, o) {
                var a = {};
                a[n.WeaponData.id] = t, a[n.WeaponData.seat] = e, a[n.WeaponData.bet] = i, a[n.WeaponData.fish_id_list] = o, this.SendCmd(h.blast, a, !1, e)
            }, t.prototype.onShoot = function(e, t) {
                if (this.ShootEvent) {
                    var i = t[n.WeaponData.seat],
                        o = t[n.WeaponData.bet],
                        a = t[n.WeaponData.x],
                        s = t[n.WeaponData.y];
                    this.ShootEvent(i, o, a, s)
                }
                if (t.hasOwnProperty("player_info")) {
                    var r = t.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(r)
                }
            }, t.prototype.onBlast = function(e, t) {
                if (t.hasOwnProperty("result")) {
                    var i = t.result,
                        o = t[n.WeaponData.seat];
                    if (t.hasOwnProperty("betRange") && t.hasOwnProperty("bet")) {
                        var a = t.betRange,
                            s = 0;
                        t.hasOwnProperty("bet") && (s = t.bet), this.BlastBetEvent(o, a, i, s)
                    }
                    if (0 == i && this.BlastEvent) {
                        var r = t[n.WeaponData.credits],
                            c = t[n.WeaponData.id],
                            h = t[n.WeaponData.fish_dead_dict],
                            u = t[n.WeaponData.bet],
                            p = t[n.WeaponData.feature],
                            d = t.puzzle_ack,
                            f = t.hit_fish_id_list[0];
                        l.GameLogMainPlayer.pushHit(f, u, o), this.BlastEvent(r, c, h, u, o, p, d, f)
                    }
                }
                if (t.hasOwnProperty("player_info")) {
                    var m = t.player_info;
                    this.UpdateAssetEvent && this.UpdateAssetEvent(m)
                }
            }, t.prototype.onSyncFishOdds = function(e, t) {
                if (this.UniqueOddsEvent) {
                    if (t.hasOwnProperty("Vampire_odds")) {
                        var n = t.Vampire_odds;
                        this.UniqueOddsEvent(n, a.FishType.Vampire)
                    }
                    t.hasOwnProperty("LuckyBuddha_odds") && (n = t.LuckyBuddha_odds, s.default.Instance.UniqueFishOddsEvent(n, a.FishType.Buddha)), t.hasOwnProperty("CircusClown_odds") && (n = t.CircusClown_odds, s.default.Instance.UniqueFishOddsEvent(n, a.FishType.CircusClown)), t.hasOwnProperty("FlamingTiger_odds") && (n = t.FlamingTiger_odds, s.default.Instance.UniqueFishOddsEvent(n, a.FishType.BlazingTiger))
                }
            }, t.prototype.onTreasureCrabEvent = function(e, t) {
                if (t.hasOwnProperty("treasure_score") && s.default.Instance.getUniqueFishData(a.FishType.TreasureCrab).setTargetNumber(t.treasure_score), t.hasOwnProperty("win_type")) {
                    var n = t.seat;
                    switch (t.win_type) {
                        case "capture":
                            var i = t.id,
                                o = s.default.Instance.GetFishByID(i),
                                c = t.win,
                                l = t.bet;
                            s.default.Instance.KillFish(n, o, c, l);
                            break;
                        case "upgrade":
                            r.PlayerManager.isMainSeat(n) && r.PlayerManager.BulletSync(1), s.default.Instance.getUniqueFishData(a.FishType.TreasureCrab).TreasureCrabLevelUp(t)
                    }
                }
            }, t
        }(c.default);
        n.default = u, cc._RF.pop()
    }, {
        "../GameClient": "GameClient",
        "../MainGame/Common/EnumFilter": "EnumFilter",
        "../MainGame/Fish/FishManager": "FishManager",
        "../MainGame/Player/PlayerManager": "PlayerManager",
        "./baseSystem": "baseSystem"
    }],
    WheelItem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "9a377FzYiZHLbYU0oPbYD76", "WheelItem");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = cc._decorator,
            r = s.ccclass,
            c = s.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.arrowAnim = null, t.oddsText = null, t.hitAnim = null, t.spriteList = null, t.itemOdds = 0, t.isArrow = !1, t
                }
                return o(t, e), t.prototype.Init = function(e) {
                    if (this.itemOdds = e, this.SetMultiOddsText(e), this.hitAnim && (this.hitAnim.node.active = !1), this.spriteList || (this.spriteList = this.getComponentsInChildren(cc.Sprite)), this.spriteList)
                        for (var t = 0; t < this.spriteList.length; t++) this.spriteList[t].node.opacity = 0;
                    this.oddsText && (this.oddsText.node.opacity = 0)
                }, t.prototype.SetMultiOddsText = function(e) {
                    e <= 0 ? (this.arrowAnim && (this.arrowAnim.node.active = !0, this.arrowAnim.play()), this.oddsText && (this.oddsText.node.active = !1), this.isArrow = !0) : (this.arrowAnim && (this.arrowAnim.node.active = !1), this.oddsText && (this.oddsText.node.active = !0, this.oddsText.string = e.toString()), this.isArrow = !1)
                }, t.prototype.GetOdds = function() {
                    return this.itemOdds
                }, t.prototype.IsArrow = function() {
                    return this.isArrow
                }, t.prototype.AppearFunction = function() {
                    if (this.spriteList) {
                        for (var e = 0; e < this.spriteList.length; e++) this.spriteList[e].node.runAction(cc.fadeIn(.5));
                        this.oddsText && this.oddsText.node.runAction(cc.fadeIn(.5))
                    }
                }, t.prototype.HitFunction = function() {
                    this.hitAnim && (this.hitAnim.node.active = !0, this.hitAnim.play())
                }, t.prototype.Reset = function() {
                    this.arrowAnim.stop(), this.hitAnim.stop(), this.oddsText.string = null
                }, a([c(cc.Animation)], t.prototype, "arrowAnim", void 0), a([c(cc.Label)], t.prototype, "oddsText", void 0), a([c(cc.Animation)], t.prototype, "hitAnim", void 0), a([r], t)
            }(cc.Component);
        n.default = l, cc._RF.pop()
    }, {}],
    WindowCtrl: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "2ef1e1ks+BKQaYCGC2Pf1wP", "WindowCtrl");
        var i, o = this && this.__extends || (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            a = this && this.__decorate || function(e, t, n, i) {
                var o, a = arguments.length,
                    s = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i);
                else
                    for (var r = e.length - 1; r >= 0; r--)(o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, n, s) : o(t, n)) || s);
                return a > 3 && s && Object.defineProperty(t, n, s), s
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var s = e("../Common/AudioManager"),
            r = e("./PopupWindowCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            h = c.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.BtnList = [], t.LabelList = [], t._BtnEvent = [], t
                }
                return o(t, e), Object.defineProperty(t.prototype, "BtnEvent", {
                    get: function() {
                        return this._BtnEvent
                    },
                    set: function(e) {
                        this._BtnEvent = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.showWindow = function(e, t, n) {
                    if (void 0 === e && (e = null), void 0 === t && (t = null), this.Init(n), this.node.active = !0, null != e && (this.BtnEvent = e), null != t && this.LabelList.length >= t.length)
                        for (var i = 0; i < t.length; i++) this.LabelList[i].string = t[i]
                }, t.prototype.Init = function() {}, t.prototype.closeWindow = function() {
                    this.BtnEvent = null, this.node.active = !1
                }, t.prototype.BtnClick = function(e, t) {
                    null != this.BtnEvent[t] ? this.BtnEvent[t]() : t == this.BtnList.length - 1 && (s.default.Instance.Play("Btn_Select_n_v01"), r.default.CloseWindow())
                }, a([h([cc.Node])], t.prototype, "BtnList", void 0), a([h([cc.Label])], t.prototype, "LabelList", void 0), a([l], t)
            }(cc.Component);
        n.default = u, cc._RF.pop()
    }, {
        "../Common/AudioManager": "AudioManager",
        "./PopupWindowCtrl": "PopupWindowCtrl"
    }],
    baseSystem: [function(e, t, n) {
        "use strict";
        cc._RF.push(t, "0c113Vwkp1BeZ+CKzbrXpwt", "baseSystem");
        var i = this && this.__awaiter || function(e, t, n, i) {
                return new(n || (n = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function r(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            a(t)
                        }
                    }

                    function c(e) {
                        var t;
                        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                            e(t)
                        })).then(s, r)
                    }
                    c((i = i.apply(e, t || [])).next())
                })
            },
            o = this && this.__generator || function(e, t) {
                var n, i, o, a, s = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;

                function r(e) {
                    return function(t) {
                        return c([e, t])
                    }
                }

                function c(a) {
                    if (n) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (n = 1, i && (o = 2 & a[0] ? i.return : a[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, a[1])).done) return o;
                        switch (i = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, i = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        a = t.call(e, s)
                    } catch (r) {
                        a = [6, r], i = 0
                    } finally {
                        n = o = 0
                    }
                    if (5 & a[0]) throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.necessaryCallbackDataALD = void 0;
        var a = e("../GameClient"),
            s = function() {
                function e(e, t) {
                    this.arkSocketClient = null, this.baseSocketSystem = null, this.systemName = null, this.necessaryCallbackList = null, this.necessaryCallbackData = null, this.necessaryCallbackCheck = null, this.arkSocketClient = e, this.systemName = t, this.baseSocketSystem = new ArkSDK.BaseSocketSystem(e, t), null == this.necessaryCallbackList && (this.necessaryCallbackList = new Array), null == this.necessaryCallbackData && (this.necessaryCallbackData = new Array), null == this.necessaryCallbackCheck && (this.necessaryCallbackCheck = new Array)
                }
                return e.prototype.RegisterCmdCallback = function(e, t, n, i) {
                    var o = this;
                    if (n) return this.necessaryCallbackList.push(n), this.necessaryCallbackCheck.push(i), void(this.baseSocketSystem.cmdDict[e] = function(n, i, s, r, c, l, h) {
                        for (var u = 0; u < o.necessaryCallbackData.length; u++)
                            if (o.necessaryCallbackData[u].cmdName == e) {
                                if (null != o.necessaryCallbackData[u].checkData) {
                                    for (var p = i, d = 1; d < o.necessaryCallbackData[u].checkData.length; d++) p.hasOwnProperty([o.necessaryCallbackData[u].checkData[d]]) && (p = p[o.necessaryCallbackData[u].checkData[d]]);
                                    if (p != o.necessaryCallbackData[u].checkData[0]) continue
                                }
                                a.default.Instance.unschedule(o.necessaryCallbackData[u].func), o.necessaryCallbackData[u].Clear(), o.necessaryCallbackData.splice(u, 1);
                                break
                            }
                        t(n, i, s, r, c, l, h)
                    });
                    this.baseSocketSystem.cmdDict[e] = t.bind(this)
                }, e.prototype.SendCmd = function(e, t, n, s) {
                    return i(this, void 0, void 0, function() {
                        var i, c, l, h;
                        return o(this, function() {
                            for (n && (i = this.baseSocketSystem.cmdDict[e]), c = 0; c < this.necessaryCallbackList.length; c++)
                                if (this.necessaryCallbackList[c] == e) {
                                    l = function() {
                                        cc.error("CmdTimeOut  " + e);
                                        var t = "CmdTimeOut_" + e;
                                        a.default.Instance.CallOnError("C35", t)
                                    }, a.default.Instance.scheduleOnce(l, 15), null != this.necessaryCallbackCheck[c] && (this.necessaryCallbackCheck[c][0] = s), h = new r(e, l, this.necessaryCallbackCheck[c]), this.necessaryCallbackData.push(h);
                                    break
                                }
                            return this.arkSocketClient.SendCmd(this.systemName, e, t, i), [2]
                        })
                    })
                }, e
            }();
        n.default = s;
        var r = function() {
            function e(e, t, n) {
                this.cmdName = null, this.func = null, this.checkData = null, this.cmdName = e, this.func = t, this.checkData = n
            }
            return e.prototype.Clear = function() {
                this.cmdName = null, this.func = null, this.checkData = null
            }, e
        }();
        n.necessaryCallbackDataALD = r, cc._RF.pop()
    }, {
        "../GameClient": "GameClient"
    }]
}, {}, ["EventPuzzleDropEggMgr", "GameClient", "AwardManager", "BaseMedal", "GoldenSlot", "MedalRoot", "SkillTitle", "SlotCrabMedal", "AngleBackground", "BaseBackGround", "TacoBackground", "AISeek", "ArkGameUtility", "AudioManager", "EnumFilter", "FishMenu", "FishMenuMgr", "MultiLangObjCtrl", "MultiLangSystem", "PoolObj", "PreloadManager", "ResourceManager", "ShadowCamera", "SystemTip", "Utility", "DebugManager", "BLAZING_PHONEIX", "BaseCrab", "BaseFish", "BaseFlashFish", "BaseSpineFish", "BaseTwisterFish", "DRAGON_TURTLE", "ELAZING_PHONEIX", "FLASH_FLAT_FISH", "FLASH_GURNARD", "FLASH_OCTOPUS", "FLAT_FISH", "FishManager", "GENERAL_LOBSTER", "GIANT_PUFFER_FISH", "GURNARD", "HUMPBACK_WHALE", "JELLY_FISH", "KILLER_WHALE", "KING_ANGLER_FISH", "KING_JELLY_FISH", "KING_LACOSTE", "KING_SPIDER_CRAB", "KING_SQUID", "KING_TACO", "MERMAID", "OCTOPUS", "PARITE_SHIP", "POSEIDON", "RED_DRAGON", "SEA_TURTLE", "THUNDER_DRAGON", "TWISTER_GURNARD", "TWISTER_OCTOPUS", "TWIST_FLAT_FISH", "TWIST_SEA_TURTLE", "UniqueFishData", "WEALTH_GOD", "GameManager", "AwardItem", "DropItem", "FreezeEffect", "ItemButton", "ItemManager", "ItemTitle", "BtnSprite", "BuddhaPalmUI", "FishAvatarIcon", "LockSettingWindow", "MarqueeCtrl", "PlayerManager", "PopupWindowCtrl", "WeaponChoseWindow", "WindowCtrl", "BaseSkill", "BaseSkillAward", "BaseSkillOddsUI", "BaseSkillScoreUI", "BaseSkillTitleUI", "Effect_Phoneix", "FinalShip", "FlameStorm_ScoreUI", "RedDragonReward", "SkillBuddhaPalm", "SkillDragonWeapon", "SkillDrill", "SkillElazingPhoneix", "SkillElectric", "SkillFlameStorm", "SkillFlash", "SkillHammer", "SkillKingAngler", "SkillKingCrab", "SkillKingLacoste", "SkillLock", "SkillMermaid", "SkillMultiBomb", "SkillPariteShip", "SkillPoseidon", "SkillRedDragon", "SkillRocket", "SkillTaco", "SkillThunderDragon", "SkillTigerWeapon", "SkillWheel", "SkillWind", "WheelItem", "BaseBullet", "BaseWeapon", "BetController", "DragonWeapon", "DrillBullet", "DrillWeapon", "ElectricCollider", "ElectricWeapon", "FlameStormBullet", "FlameStormWeapon", "LockWeapon", "NormalWeapon", "TigerBullet", "TigerWeapon", "WeaponManager", "FishMissionData", "MissionCtrl", "MissionInfoPageCtrl", "MissionManager", "MissionNodeDrag", "FishSystem", "GameSystem", "ItemSystem", "KioskSystem", "MissionSystem", "PlayerSystem", "SkillSystem", "WeaponSystem", "baseSystem"]);