var fStart=true;
window.__require = function t(e, o, n) {
    function i(a, s) {
        if (!o[a]) {
            if (!e[a]) {
                var c = a.split("/");
                if (c = c[c.length - 1], !e[c]) {
                    var l = "function" == typeof __require && __require;
                    if (!s && l) return l(c, !0);
                    if (r) return r(c, !0);
                    throw new Error("Cannot find module '" + a + "'")
                }
                a = c
            }
            var u = o[a] = {
                exports: {}
            };
            e[a][0].call(u.exports, function(t) {
                return i(e[a][1][t] || t)
            }, u, u.exports, t, e, o, n)
        }
        return o[a].exports
    }
    for (var r = "function" == typeof __require && __require, a = 0; a < n.length; a++) i(n[a]);
    return i
}({
    AccountPageMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c53a9JhbnpLv4XZwJ1UynFu", "AccountPageMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AccountPageMgr = void 0;
        var a = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            s = t("../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.customeAccountPage = null, e.custom_UserName = null, e.defaultAccountPage = null, e.default_UserName = null, e.root = null, e.accountPageRoot = null, e.msgRoot = null, e.msgToggle = null, e.reCheckPage = null, e.reCheckPageLabel = null, e.popup = null, e.isShowAniNow = !1, e.recvCmdCallBack = null, e.isShowPhoneMsg = !1, e.isSelectPhoneMsgOption = !1, e.checkAndShowPopup = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelClickPWEdit = new SS.Common.Delegate, this.m_DelClickIDEdit = new SS.Common.Delegate, this.m_DelClickClose = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    null != this.m_DelClickPWEdit && (this.m_DelClickPWEdit.Clear(), this.m_DelClickPWEdit = null), null != this.m_DelClickIDEdit && (this.m_DelClickIDEdit.Clear(), this.m_DelClickIDEdit = null), null != this.m_DelClickClose && (this.m_DelClickClose.Clear(), this.m_DelClickClose = null)
                }, e.prototype.ShowPhoneMsgPopupEvent = function() {
                    this.popup.active = !0, this.root.active = !0, this.recvCmdCallBack = function() {
                        this.popup.active = !1, this.root.active = !1, this.recvCmdCallBack = null, this.checkAndShowPopup()
                    }
                }, e.prototype.OnClickPopupBtn = function(t, e) {
                    "true" == e ? this.SendSmsChangeCmd(!0) : this.SendSmsChangeCmd(!1)
                }, e.prototype.ShowAccountPage = function(t) {
                    this.isShowAniNow || (t.includes("m-") || t.includes("M-") ? (this.default_UserName.string = t, this.defaultAccountPage.active = !0, this.customeAccountPage.active = !1) : (this.custom_UserName.string = t, this.defaultAccountPage.active = !1, this.customeAccountPage.active = !0), this.isShowPhoneMsg && (this.msgRoot.parent = this.root, this.msgRoot.active = !0, this.msgToggle.isChecked = this.isSelectPhoneMsgOption), this.accountPageRoot.active = !0, this.root.active = !0)
                }, e.prototype.OnToggleMsgOptions = function() {
                    var t = this.msgToggle.isChecked ? "I would like to receive GD latest news through text messages." : "I don\u2019t want to receive GD latest news through text messages.";
                    this.reCheckPageLabel.string = t, this.reCheckPage.active = !0
                }, e.prototype.OnClickChangeSmsOption = function(t, e) {
                    "true" == e ? this.SendSmsChangeCmd(this.msgToggle.isChecked) : (this.msgToggle.isChecked = !this.msgToggle.isChecked, this.isSelectPhoneMsgOption = this.msgToggle.isChecked, this.reCheckPage.active = !1)
                }, e.prototype.SendSmsChangeCmd = function(t) {
                    a.ConnectPanelMgr.Instance.ShowConnectPanel(), s.LobbyClient.Instance.GetUserClient.SendChangeSmsSetting(t, this.RecvChangeSmsOption.bind(this))
                }, e.prototype.RecvChangeSmsOption = function(t, e) {
                    console.warn("ChangeSmsOption"), console.warn(t), console.warn(e);
                    var o = null,
                        n = "The Internet was lost! Please login again!";
                    t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? 0 == e.cmd_data.result ? (e.cmd_data.data.hasOwnProperty("is_accept_sms") && (this.isSelectPhoneMsgOption = e.cmd_data.data.is_accept_sms, this.msgToggle.isChecked = e.cmd_data.data.is_accept_sms), a.ConnectPanelMgr.Instance.DisableConnectPanel(), this.reCheckPage.active = !1, null != this.recvCmdCallBack && (console.warn("RecvChangeSmsOption CallBack !!"), this.recvCmdCallBack())) : (o = "S338", this.ErrorHandler(o, n)) : (o = t == ArkSDK.HttpResult.Abort ? "S332" : t == ArkSDK.HttpResult.Condition ? "S333" : t == ArkSDK.HttpResult.Error ? "S334" : t == ArkSDK.HttpResult.NotReset ? "S335" : t == ArkSDK.HttpResult.Status ? "S336" : t == ArkSDK.HttpResult.Timeout ? "S337" : "S338", this.ErrorHandler(o, n))
                }, e.prototype.ErrorHandler = function(t, e) {
                    c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Error, t, "Lobby", e, null)
                }, e.prototype.OnClickPWEdit = function() {
                    this.isShowAniNow || (this.m_DelClickPWEdit.Length > 0 && this.m_DelClickPWEdit.Notify(), this.accountPageRoot.active = !1)
                }, e.prototype.OnClickIDEdit = function() {
                    this.isShowAniNow || (this.m_DelClickIDEdit.Length > 0 && this.m_DelClickIDEdit.Notify(), this.accountPageRoot.active = !1)
                }, e.prototype.OnClickClose = function() {
                    this.isShowAniNow || (this.m_DelClickClose.Length > 0 && this.m_DelClickClose.Notify(), this.defaultAccountPage.active ? this.PlayAni(this.defaultAccountPage) : this.customeAccountPage.active && this.PlayAni(this.customeAccountPage))
                }, e.prototype.PlayAni = function(t) {
                    var e = this;
                    this.isShowPhoneMsg && null != this.msgRoot && (this.msgRoot.parent = t);
                    var o = cc.sequence(cc.spawn(cc.scaleTo(.3, .2, .2), cc.fadeOut(.3)), cc.callFunc(function() {
                        e.isShowAniNow = !1, e.accountPageRoot.active = !1, e.root.active = !1, t.setScale(cc.v2(1, 1)), t.opacity = 255
                    }));
                    t.runAction(o)
                }, r([p(cc.Node)], e.prototype, "customeAccountPage", void 0), r([p(cc.Label)], e.prototype, "custom_UserName", void 0), r([p(cc.Node)], e.prototype, "defaultAccountPage", void 0), r([p(cc.Label)], e.prototype, "default_UserName", void 0), r([p(cc.Node)], e.prototype, "root", void 0), r([p(cc.Node)], e.prototype, "accountPageRoot", void 0), r([p(cc.Node)], e.prototype, "msgRoot", void 0), r([p(cc.Toggle)], e.prototype, "msgToggle", void 0), r([p(cc.Node)], e.prototype, "reCheckPage", void 0), r([p(cc.Label)], e.prototype, "reCheckPageLabel", void 0), r([p(cc.Node)], e.prototype, "popup", void 0), r([u], e)
            }(cc.Component);
        o.AccountPageMgr = m, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    AnimationAutoPlay: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e557al70NFER53legSOXhdW", "AnimationAutoPlay");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.animation = null, e.animationName = "", e.completeEventAry = [], e.compelteFunctionAry = [], e
                }
                return i(e, t), e.prototype.onEnable = function() {
                    this.PlayAnim()
                }, e.prototype.onDisable = function() {
                    this.PlayAnim()
                }, e.prototype.PlayAnim = function() {
                    0 == this.animationName.length && (this.animationName = this.animation.defaultClip.name), this.animation.play(this.animationName, 0), this.animation.on(cc.Animation.EventType.FINISHED, this.OnAnimPlayComplete.bind(this))
                }, e.prototype.AddCompelteEvent = function(t) {
                    this.compelteFunctionAry.push(t)
                }, e.prototype.OnAnimPlayComplete = function() {
                    for (var t = 0; t < this.compelteFunctionAry.length; t++) this.compelteFunctionAry[t]();
                    cc.Component.EventHandler.emitEvents(this.completeEventAry)
                }, r([c(cc.Animation)], e.prototype, "animation", void 0), r([c()], e.prototype, "animationName", void 0), r([c([cc.Component.EventHandler])], e.prototype, "completeEventAry", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    AudioList: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e8266P4rfxASoLV2qQy8a2o", "AudioList");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioList = void 0;
        var a = t("../AudioMgr"),
            s = t("./AudioSetting"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_listAudioSetting = [], e.AudioClipList = [], e.AudioNameList = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.AudioClipList = [], this.AudioNameList = [];
                    for (var t = 0, e = this.m_listAudioSetting; t < e.length; t++) {
                        var o = e[t];
                        this.AudioClipList.push(o.m_audioClip), this.AudioNameList.push(o.m_clipName)
                    }
                    a.AudioMgr.Instance.setAudioClip(this.AudioClipList, this.AudioNameList)
                }, e.prototype.Sort = function() {
                    for (var t = new Array, e = 0, o = this.m_listAudioSetting; e < o.length; e++) {
                        var n = o[e];
                        null !== n.m_audioClip && "" !== n.m_clipName && t.push(n)
                    }
                    this.m_listAudioSetting = t
                }, r([u({
                    type: s.AudioSetting,
                    displayName: "\u97f3\u6548\u6a94\u6848"
                })], e.prototype, "m_listAudioSetting", void 0), r([l], e)
            }(cc.Component);
        o.AudioList = p, cc._RF.pop()
    }, {
        "../AudioMgr": "AudioMgr",
        "./AudioSetting": "AudioSetting"
    }],
    AudioMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d6220uRGVxKKLpx3/gNjQJf", "AudioMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioMgr = void 0;
        var c = t("../PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = (l.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.tmpLastAudioJson = null, e.nameMapClip = null, e.audioInfoAry = [], e._update = [], e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (this._update = [], o.Instance = this, this.tmpLastAudioJson = JSON.parse("{}"), cc.game.on(cc.game.EVENT_HIDE, this.onAppPause.bind(this), this), cc.game.on(cc.game.EVENT_SHOW, this.onAppResume.bind(this), this))
                }, e.prototype.update = function(t) {
                    if (null != this.audioInfoAry)
                        for (var e = 0, o = this.audioInfoAry; e < o.length; e++) {
                            var n = o[e];
                            0 !== n.duration && (n.duration -= t, n.duration > 0 ? (n.volume += (n.targetVolume - n.volume) / n.duration * t, SS.Common.GameEnvironment.IsMute || cc.audioEngine.setVolume(n.id, n.volume)) : (n.duration = 0, n.volume = n.targetVolume, SS.Common.GameEnvironment.IsMute || cc.audioEngine.setVolume(n.id, n.volume)))
                        }
                }, e.prototype.onAppResume = function() {
                    this.isPause && (this.isPause = !1, this.SetMute(SS.Common.GameEnvironment.IsMute))
                }, e.prototype.onAppPause = function() {
                    this.isPause = !0;
                    try {
                        this.audioInfoAry && this.audioInfoAry.forEach(function(t) {
                            cc.audioEngine.getState(t.id) == cc.audioEngine.AudioState.PLAYING && cc.audioEngine.setVolume(t.id, 0)
                        })
                    } catch (t) {
                        console.warn("onAppPause sound mute exception ", t)
                    }
                }, e.prototype.onDestroy = function() {
                    o.Instance = null, this.nameMapClip = null, this.audioInfoAry = null, cc.game.targetOff(this)
                }, e.prototype.setAudioClip = function(t, e) {
                    null == this.nameMapClip && (this.nameMapClip = {}), null == this.audioInfoAry && (this.audioInfoAry = []);
                    for (var o = 0; o < t.length; o++) this.nameMapClip[e[o]] = t[o]
                }, e.prototype.LoadAudioClip = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        var o = this;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(e, n) {
                                        cc.loader.loadResDir(t, function(t, i) {
                                            if (t) return console.error(t), void n(t);
                                            console.log(i);
                                            var r = i.length;
                                            null == o.nameMapClip && (o.nameMapClip = {}), null == o.audioInfoAry && (o.audioInfoAry = []);
                                            for (var a = 0; a < r; a++) o.nameMapClip[i[a].name] = i[a];
                                            e(null)
                                        })
                                    }).catch(function(t) {
                                        c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Critical, "C06", e, t), SS.Common.GameEnvironment.Splash && "block" == SS.Common.GameEnvironment.Splash.style.display && (SS.Common.GameEnvironment.Splash.style.display = "none")
                                    })];
                                case 1:
                                    return n.sent(), console.log(" this.nameMapClip", this.nameMapClip), [2]
                            }
                        })
                    })
                }, e.prototype.UncacheAudioClip = function() {
                    try {
                        if (this.audioInfoAry)
                            for (var t = 0; t < this.audioInfoAry.length; t++) try {
                                cc.audioEngine.stop(this.audioInfoAry[t].id)
                            } catch (e) {
                                console.error("UncacheAudioClip stop error", e)
                            }
                        this.nameMapClip = null, this.audioInfoAry = null, cc.audioEngine.uncacheAll()
                    } catch (e) {
                        console.error("UncacheAudioClip error", e)
                    }
                }, e.prototype.ClearTmpAudio = function(t) {
                    this.tmpLastAudioJson[t] = null
                }, e.prototype.Play = function(t, e, o) {
                    var n = this,
                        i = this.tmpLastAudioJson[t];
                    if (null == i || null == i) {
                        this.tmpLastAudioJson[t] = t, this.scheduleOnce(this.ClearTmpAudio.bind(this, t), .01);
                        var r = SS.Common.BaseFunction.Clamp(0, 1, o),
                            a = -1;
                        if (this.nameMapClip && this.nameMapClip[t]) {
                            if (SS.Common.GameEnvironment.IsMute) {
                                if (0 == e) return -1;
                                a = cc.audioEngine.play(this.nameMapClip[t], e, 0)
                            } else a = cc.audioEngine.play(this.nameMapClip[t], e, o);
                            var s = {
                                id: a,
                                volume: r,
                                targetVolume: r,
                                duration: 0
                            };
                            return this.audioInfoAry.push(s), e || cc.audioEngine.setFinishCallback(a, function() {
                                n.audioInfoAry && (n.audioInfoAry = n.audioInfoAry.filter(function(t) {
                                    return !(t.id == a)
                                }))
                            }), a
                        }
                        console.error("Not find clip ! clipName : " + t)
                    } else console.warn("clip continuous Play ! clipName : " + t)
                }, e.prototype.Stop = function(t) {
                    this.audioInfoAry && (this.audioInfoAry = this.audioInfoAry.filter(function(e) {
                        return !(e.id == t)
                    })), cc.audioEngine.stop(t)
                }, e.prototype.SetVolume = function(t, e, o) {
                    return void 0 === o && (o = 0), a(this, void 0, void 0, function() {
                        var n;
                        return s(this, function() {
                            return console.log("Audio: ", t, "\tVolume: ", e, "\tDuration: ", o), null == (n = this.audioInfoAry.find(function(e) {
                                return e.id == t
                            })) ? [2] : (n.duration = o, n.targetVolume = e, o <= 0 && (n.volume = e, SS.Common.GameEnvironment.IsMute || cc.audioEngine.setVolume(t, e)), [2])
                        })
                    })
                }, e.prototype.GetVolume = function(t) {
                    var e = this.audioInfoAry.find(function(e) {
                        return e.id == t
                    });
                    return e ? e.volume : 0
                }, e.prototype.SetMute = function(t) {
                    SS.Common.GameEnvironment.IsMute = t, this.audioInfoAry && this.audioInfoAry.forEach(function(t) {
                        SS.Common.GameEnvironment.IsMute ? cc.audioEngine.setVolume(t.id, 0) : cc.audioEngine.setVolume(t.id, t.volume)
                    })
                }, e.prototype.SetFinishCallback = function(t, e, o) {
                    t < 0 && !SS.Common.GameEnvironment.IsMute && console.error("SetFinishCallback() Exception !! Caller : ", o), cc.audioEngine.setFinishCallback(t, e.bind(o))
                }, e.prototype.GetDuration = function(t) {
                    return cc.audioEngine.getDuration(t)
                }, e.Instance = null, o = r([u], e)
            }(cc.Component));
        o.AudioMgr = p, cc._RF.pop()
    }, {
        "../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    AudioPlaySetting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "22b0eFlGRVCtJOmTWV5Krg9", "AudioPlaySetting");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioPlaySetting = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = i.property,
            s = function() {
                function t() {
                    this.m_name = "", this.m_delay = 0, this.m_duration = 0, this.m_volume = .5, this.m_isLoop = !1
                }
                return n([a({
                    displayName: "\u97f3\u6548\u540d\u5b57"
                })], t.prototype, "m_name", void 0), n([a({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Delay"
                })], t.prototype, "m_delay", void 0), n([a({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Duration"
                })], t.prototype, "m_duration", void 0), n([a({
                    type: cc.Float,
                    displayName: "\u97f3\u6548 Volume"
                })], t.prototype, "m_volume", void 0), n([a({
                    displayName: "\u662f\u5426 Loop"
                })], t.prototype, "m_isLoop", void 0), n([r("AudioPlaySetting")], t)
            }();
        o.AudioPlaySetting = s, cc._RF.pop()
    }, {}],
    AudioSetting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "782cb3B+lVFr7cHMqKOV9Qu", "AudioSetting");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AudioSetting = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = i.property,
            s = function() {
                function t() {
                    this.m_audioClip = null, this.m_clipName = ""
                }
                return n([a({
                    type: cc.AudioClip,
                    displayName: "\u97f3\u6548\u6a94\u6848"
                })], t.prototype, "m_audioClip", void 0), n([a({
                    displayName: "\u97f3\u6548\u540d\u5b57"
                })], t.prototype, "m_clipName", void 0), n([r("AudioSetting")], t)
            }();
        o.AudioSetting = s, cc._RF.pop()
    }, {}],
    AvatarIcon: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "1aae6FIUa1M8Kq5KTgveF5K", "AvatarIcon");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../Helper/EventSystem"),
            l = t("./BundleCtrl"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.isMySelf = !0, e.faceSprite = null, e.frameSprite = null, e.nicknameLabel = null, e.isRegistered = !1, e.lastFaceID = ";", e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.isRegistered = !1, this.isMySelf && this.SetRegister()
                }, e.prototype.onDestroy = function() {
                    this.UnRegister()
                }, e.prototype.SetRegister = function() {
                    this.isRegistered || (this.isRegistered = !0, c.EventSystem.Event(c.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), c.EventSystem.Event(c.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), c.EventSystem.Event(c.Avatar.SetNickname).Insert(this.SetNickname, this), c.EventSystem.Event(c.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this))
                }, e.prototype.UnRegister = function() {
                    this.isRegistered = !1, c.EventSystem.Event(c.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), c.EventSystem.Event(c.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), c.EventSystem.Event(c.Avatar.SetNickname).Remove(this.SetNickname, this), c.EventSystem.Event(c.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.SetByPlayerData = function(t) {
                    this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName)
                }, e.prototype.SetNickname = function(t) {
                    this.nicknameLabel && (this.nicknameLabel.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.faceSprite && (this.faceSprite.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.frameSprite && (this.frameSprite.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return 0 == t.length && (t = "FAC000"), this.lastFaceID = t, [4, l.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = o.sent()) && e.name == this.lastFaceID && this.SetFaceSprite(e), [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return 0 == t.length ? (this.SetFrameSprite(null), [2]) : [4, l.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = o.sent()) && this.SetFrameSprite(e), [2]
                            }
                        })
                    })
                }, r([m({
                    displayName: "\u662f\u73a9\u5bb6\u672c\u4eba\u4f7f\u7528\u55ce"
                })], e.prototype, "isMySelf", void 0), r([m(cc.Sprite)], e.prototype, "faceSprite", void 0), r([m(cc.Sprite)], e.prototype, "frameSprite", void 0), r([m(cc.Label)], e.prototype, "nicknameLabel", void 0), r([p], e)
            }(cc.Component);
        o.default = h, cc._RF.pop()
    }, {
        "../Helper/EventSystem": "EventSystem",
        "./BundleCtrl": "BundleCtrl"
    }],
    AvatarNoticeMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f450c716p1MOptSkOLDRrWq", "AvatarNoticeMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AvatarNoticeMgr = o.AvatarNoticeItem = o.NoticeBuffer = void 0;
        var a, s, c = t("../../LobbyCommon/Component/AudioMgr"),
            l = t("../../LobbyCommon/Component/SpawnPool"),
            u = t("../../LobbyCommon/Helper/EventSystem"),
            p = t("./NoticeInteractive"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property;
        (function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.IN = 1] = "IN", t[t.WAIT_IN = 2] = "WAIT_IN", t[t.LOOP = 3] = "LOOP", t[t.WAIT_LOOP = 4] = "WAIT_LOOP", t[t.OUT = 5] = "OUT", t[t.WAIT_OUT = 6] = "WAIT_OUT", t[t.FINISHED = 7] = "FINISHED"
        })(a || (a = {})),
        function(t) {
            t[t.FACE = 0] = "FACE", t[t.FACE_FRAME = 1] = "FACE_FRAME", t[t.MEDAL = 2] = "MEDAL"
        }(s || (s = {}));
        var _ = function() {
            this.type = s.FACE, this.ID = ""
        };
        o.NoticeBuffer = _;
        var g = function() {
            function t() {
                this.type = s.FACE, this.pfbAvatar = null, this.root = null, this.animIn = null, this.animLoop = null, this.animOut = null
            }
            return r([d({
                type: cc.Enum(s)
            })], t.prototype, "type", void 0), r([d(cc.Prefab)], t.prototype, "pfbAvatar", void 0), r([d(cc.Node)], t.prototype, "root", void 0), r([d(cc.AnimationClip)], t.prototype, "animIn", void 0), r([d(cc.AnimationClip)], t.prototype, "animLoop", void 0), r([d(cc.AnimationClip)], t.prototype, "animOut", void 0), r([h("AvatarNoticeItem")], t)
        }();
        o.AvatarNoticeItem = g;
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_AvatarNoticeItem = [], e.m_SpawnPool = null, e.AudioClipList = [], e.AudioNameList = [], e.m_NoticeBuffer = [], e.m_pfbCurrentNotice = null, e.m_nodeCurrentNotice = null, e.m_numLoopFinishedTime = 5, e.m_numLoopTimer = 0, e.m_nodeCurrentRoot = null, e.m_CurrentNotice = null, e.m_strAnimIn = "", e.m_strAnimLoop = "", e.m_strAnimOut = "", e.m_animCurrNotice = null, e.m_nodeEffectToBar = null, e.m_AvatarNoticeState = a.IDLE, e.m_IsTimeToShow = !1, e
            }
            return i(e, t), e.prototype.start = function() {
                this.m_AvatarNoticeState = a.IDLE, this.m_pfbCurrentNotice = null, this.m_nodeCurrentNotice = null, this.m_numLoopTimer = 0, this.m_animCurrNotice = null, this.m_nodeEffectToBar = null, this.m_nodeCurrentRoot = null, this.m_CurrentNotice = null, this.m_IsTimeToShow = !1, u.EventSystem.Event(u.NoticedArrived.OnReceiveAvatar).Insert(this.OnReceiveAvatar, this), u.EventSystem.Event(u.NoticedArrived.ShowAvatarNotice).Insert(this.OnShowAvatarNotice, this), c.AudioMgr.Instance.setAudioClip(this.AudioClipList, this.AudioNameList)
            }, e.prototype.onDestroy = function() {
                u.EventSystem.Event(u.NoticedArrived.OnReceiveAvatar).Remove(this.OnReceiveAvatar, this), u.EventSystem.Event(u.NoticedArrived.ShowAvatarNotice).Remove(this.OnShowAvatarNotice, this), this.m_pfbCurrentNotice = null, this.m_nodeCurrentNotice = null, this.m_nodeCurrentRoot = null, this.m_CurrentNotice = null, null != this.m_animCurrNotice && null != this.m_animCurrNotice.node && (this.m_animCurrNotice.off("finished", this.onAnimInFinished, this), this.m_animCurrNotice.off("lastframe", this.onAnimLoopLastFrame, this), this.m_animCurrNotice.off("finished", this.onAnimOutFinished, this), this.m_animCurrNotice = null), this.m_nodeEffectToBar && (this.m_SpawnPool.Despawn(this.m_nodeEffectToBar), this.m_nodeEffectToBar = null), this.unscheduleAllCallbacks()
            }, e.prototype.update = function(t) {
                switch (this.m_AvatarNoticeState) {
                    case a.IDLE:
                        1 == this.m_IsTimeToShow && (this.IsGetNewAvatar() ? this.m_AvatarNoticeState = a.IN : this.m_IsTimeToShow = !1);
                        break;
                    case a.IN:
                        this.AvatarNoticeIn(), this.m_AvatarNoticeState = a.WAIT_IN;
                        break;
                    case a.WAIT_IN:
                        break;
                    case a.LOOP:
                        this.AvatarNoticeLoop(), this.m_AvatarNoticeState = a.WAIT_LOOP;
                        break;
                    case a.WAIT_LOOP:
                        this.m_numLoopTimer += t;
                        break;
                    case a.OUT:
                        this.AvatarNoticeOut(), this.m_AvatarNoticeState = a.WAIT_OUT;
                        break;
                    case a.WAIT_OUT:
                        break;
                    case a.FINISHED:
                        this.AvatarNoticeFinished(), this.m_AvatarNoticeState = a.IDLE
                }
            }, e.prototype.IsGetNewAvatar = function() {
                var t = !1;
                if (this.m_NoticeBuffer.length > 0)
                    for (var e = this.m_NoticeBuffer.shift(), o = 0; o < this.m_AvatarNoticeItem.length; o++)
                        if (this.m_AvatarNoticeItem[o].type == e.type) {
                            this.m_pfbCurrentNotice = this.m_AvatarNoticeItem[o].pfbAvatar, this.m_strAnimIn = this.m_AvatarNoticeItem[o].animIn.name, this.m_strAnimLoop = this.m_AvatarNoticeItem[o].animLoop.name, this.m_strAnimOut = this.m_AvatarNoticeItem[o].animOut.name, this.m_nodeCurrentRoot = this.m_AvatarNoticeItem[o].root, this.m_CurrentNotice = e, t = !0;
                            break
                        }
                return t
            }, e.prototype.AvatarNoticeIn = function() {
                this.m_nodeCurrentNotice = this.m_SpawnPool.Spawn(this.m_pfbCurrentNotice.data), this.m_nodeCurrentNotice.active = !0, this.m_nodeCurrentNotice.parent = this.m_nodeCurrentRoot, this.m_nodeCurrentNotice.position = cc.Vec3.ZERO, this.SetAvatar(), u.EventSystem.Event(u.NoticedArrived.SetNewsRedPoint).Length && u.EventSystem.Event(u.NoticedArrived.SetNewsRedPoint).Notify(!0), this.m_animCurrNotice = this.m_nodeCurrentNotice.getComponent(cc.Animation), c.AudioMgr.Instance.Play("PS_Info_Avatar_New", !1, 1), this.m_animCurrNotice && (this.m_animCurrNotice.play(this.m_strAnimIn), this.m_numLoopTimer = 0, this.m_animCurrNotice.on("finished", this.onAnimInFinished, this), u.EventSystem.Event(u.NoticedArrived.OnAvatarShowIn).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnAvatarShowIn).Notify()), u.EventSystem.Event(u.Profile.ClearSelfUpdateCDTime).Length && u.EventSystem.Event(u.Profile.ClearSelfUpdateCDTime).Notify()
            }, e.prototype.AvatarNoticeLoop = function() {
                this.m_animCurrNotice.play(this.m_strAnimLoop), this.m_animCurrNotice.on("lastframe", this.onAnimLoopLastFrame, this)
            }, e.prototype.AvatarNoticeOut = function() {
                this.m_animCurrNotice.play(this.m_strAnimOut), u.EventSystem.Event(u.NoticedArrived.OnAvatarShowOut).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnAvatarShowOut).Notify(), this.m_animCurrNotice.on("finished", this.onAnimOutFinished, this)
            }, e.prototype.AvatarNoticeFinished = function() {
                this.m_SpawnPool.Despawn(this.m_nodeCurrentNotice), u.EventSystem.Event(u.NoticedArrived.OnAvatarShowFinished).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnAvatarShowFinished).Notify(), this.m_NoticeBuffer.length <= 0 && (this.m_IsTimeToShow = !1)
            }, e.prototype.SetAvatar = function() {
                if (this.m_CurrentNotice) {
                    var t = this.m_nodeCurrentNotice.getComponent(p.NoticeInteractive);
                    if (t) switch (this.m_CurrentNotice.type) {
                        case s.FACE:
                            t.SetFaceByID(this.m_CurrentNotice.ID);
                            break;
                        case s.FACE_FRAME:
                            t.SetFrameByID(this.m_CurrentNotice.ID);
                            break;
                        case s.MEDAL:
                    }
                }
            }, e.prototype.onAnimInFinished = function() {
                this.m_animCurrNotice.off("finished", this.onAnimInFinished, this), this.m_AvatarNoticeState = a.LOOP
            }, e.prototype.onAnimLoopLastFrame = function() {
                this.m_numLoopTimer > this.m_numLoopFinishedTime && (this.m_animCurrNotice.off("lastframe", this.onAnimLoopLastFrame, this), this.m_AvatarNoticeState = a.OUT)
            }, e.prototype.onAnimOutFinished = function() {
                this.m_animCurrNotice.off("finished", this.onAnimOutFinished, this), this.m_animCurrNotice = null, this.m_AvatarNoticeState = a.FINISHED
            }, e.prototype.OnReceiveAvatar = function(t) {
                var e = new _;
                switch (e.ID = t, t.slice(0, 3)) {
                    case "FAC":
                        e.type = s.FACE;
                        break;
                    case "FRM":
                        e.type = s.FACE_FRAME
                }
                cc.log("OnReceiveAvatar ", e), this.m_NoticeBuffer.push(e), e = null
            }, e.prototype.OnShowAvatarNotice = function() {
                this.m_IsTimeToShow = !0
            }, r([d([g])], e.prototype, "m_AvatarNoticeItem", void 0), r([d(l.SpawnPool)], e.prototype, "m_SpawnPool", void 0), r([d(cc.AudioClip)], e.prototype, "AudioClipList", void 0), r([d(String)], e.prototype, "AudioNameList", void 0), r([h], e)
        }(cc.Component);
        o.AvatarNoticeMgr = f, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Component/SpawnPool": "SpawnPool",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "./NoticeInteractive": "NoticeInteractive"
    }],
    AvatarTimerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3e7a80p7/dAfpF1Kns9XGMK", "AvatarTimerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../LobbyCommon/Helper/EventSystem"),
            s = t("../../LobbyCommon/Net/LobbyClient"),
            c = t("./AvatarTimer"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.avatarTimer = null, e.avatarFrameTimer = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    a.EventSystem.Event(a.Avatar.CheckExpireTime).Insert(this.OnCheckExpireTime, this)
                }, e.prototype.onDestroy = function() {
                    a.EventSystem.Event(a.Avatar.CheckExpireTime).Remove(this.OnCheckExpireTime, this)
                }, e.prototype.OnCheckExpireTime = function() {
                    console.warn("OnCheckExpireTime"), this.avatarTimer.SetData(SS.Network.UserClient.UserInfo.avatar_id, SS.Network.UserClient.UserInfo.avatar_expired_time, this.OnTimesUp), this.avatarFrameTimer.SetData(SS.Network.UserClient.UserInfo.avatar_frame_id, SS.Network.UserClient.UserInfo.avatar_frame_expired_time, this.OnTimesUp)
                }, e.prototype.OnTimesUp = function(t, e) {
                    var o = {};
                    o.face_id = e == c.AvatarTimerType.FACE ? "" : SS.Network.UserClient.UserInfo.avatar_id, o.frame_id = e == c.AvatarTimerType.FACE_FRAME ? "" : SS.Network.UserClient.UserInfo.avatar_frame_id, o.change_name_status = !1, console.warn("\u982d\u50cf\u982d\u50cf\u6846 ID = " + t + " \u4f7f\u7528\u6642\u9593\u904e\u671f\uff0c\u8cc7\u6599\u66f4\u65b0 = ", o), s.LobbyClient.Instance.GetUserClient.ChangePlayerInfo(SS.Network.LoginModel.LoginInfo.pin_ark_id, SS.Network.UserClient.UserInfo.nickname, o, null), e == c.AvatarTimerType.FACE && (SS.Network.UserClient.UserInfo.avatar_id = "", SS.Network.UserClient.UserInfo.avatar_expired_time = "-1"), e == c.AvatarTimerType.FACE_FRAME && (SS.Network.UserClient.UserInfo.avatar_frame_id = "", SS.Network.UserClient.UserInfo.avatar_frame_expired_time = "-1"), a.EventSystem.Event(a.Avatar.RequestUpdate).Length > 0 && a.EventSystem.Event(a.Avatar.RequestUpdate).Notify()
                }, r([p(c.default)], e.prototype, "avatarTimer", void 0), r([p(c.default)], e.prototype, "avatarFrameTimer", void 0), r([u], e)
            }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "./AvatarTimer": "AvatarTimer"
    }],
    AvatarTimer: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6e494Bn4vtGgZ10G7JYdmEO", "AvatarTimer");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.AvatarTimerType = void 0;
        var a, s = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property;
        (function(t) {
            t[t.FACE = 0] = "FACE", t[t.FACE_FRAME = 1] = "FACE_FRAME"
        })(a = o.AvatarTimerType || (o.AvatarTimerType = {}));
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.itemType = a.FACE, e.expiredTime = 0, e.timeCountDownDuration = 0, e.itemID = "", e.strTime = "", e.timesUpCallback = null, e.tmpTimeLog = "", e
            }
            return i(e, t), e.prototype.Clear = function() {
                this.node.parent = this.node.parent ? this.node.parent.parent : this.node.parent, this.itemID = "", this.expiredTime = 0, this.timeCountDownDuration = 0, this.timesUpCallback = null, this.unscheduleAllCallbacks()
            }, e.prototype.SetData = function(t, e, o) {
                null != t && "" != t && null != e && (this.Clear(), this.itemID = t, this.expiredTime = e, this.timesUpCallback = o, e > -1 && (console.log("%c[AvatarTimer] itemID = " + t + ", \u904e\u671f\u6642\u9593(UTC) = " + e, "font-size:16px;color:#3333bb;font-weight:bold;"), this.FirstSetTimeCountDown()))
            }, e.prototype.FirstSetTimeCountDown = function() {
                var t = this.expiredTime - Date.now(),
                    e = Math.floor(t / 864e5),
                    o = 1;
                if (e > 1) o = t / 1e3 - 86400 * e;
                else {
                    var n = t % 6e4;
                    n > 0 && (o = n - Math.floor(n))
                }
                this.scheduleOnce(this.OnTimeCountDown, o), this.expiredTime = this.expiredTime - 1e3 * (o + .1)
            }, e.prototype.OnTimeCountDown = function() {
                this.SetNextCountDown(), this.schedule(this.SetNextCountDown, this.timeCountDownDuration)
            }, e.prototype.SetNextCountDown = function() {
                this.ResetTimeLabel();
                var t = this.expiredTime - Date.now();
                if (t <= 0) return this.unschedule(this.SetNextCountDown), void this.TimesUp();
                if (this.timeCountDownDuration > 1) {
                    var e = 1;
                    Math.floor(t / 864e5) > 1 && (e = 86400), e < this.timeCountDownDuration && (this.unschedule(this.SetNextCountDown), this.schedule(this.SetNextCountDown, e)), this.timeCountDownDuration = e
                }
                this.expiredTime = this.expiredTime - 1e3 * this.timeCountDownDuration
            }, e.prototype.ResetTimeLabel = function() {
                var t = this.expiredTime - Date.now(),
                    e = Math.floor(t / 864e5);
                if (e < 1) {
                    var o = t % 864e5,
                        n = Math.floor(o / 36e5),
                        i = o % 36e5,
                        r = Math.floor(i / 6e4);
                    if (this.strTime = "", n > 0 && (this.strTime = n + "h"), r > 0 && (this.strTime += r + "m"), 0 == n) {
                        var a = i % 6e4,
                            s = Math.floor(a / 1e3);
                        s > 0 && (this.strTime += s + "s"), this.tmpTimeLog != this.strTime && (this.tmpTimeLog = this.strTime, console.log("[" + this.itemID + "] \u5269\u9918\u6642\u9593 = " + this.tmpTimeLog))
                    }
                } else this.strTime = e + "days"
            }, e.prototype.TimesUp = function() {
                console.log("%c[" + this.itemID + "] \u6642\u9593\u5230 !!!", "font-size:16px;color:#3333bb;font-weight:bold;"), s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Info, "C67", SS.Common.GameEnvironment.CurrentGameNow, "Avatar item times up"), this.timesUpCallback && this.timesUpCallback(this.itemID, this.itemType)
            }, r([u({
                type: cc.Enum(a)
            })], e.prototype, "itemType", void 0), r([l], e)
        }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    BackpackMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "093f8Ld6rZI1qvdUBJVQ/fX", "BackpackMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.BackpackMgr = void 0;
        var a = t("./ItemIconCtrl"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_arrPlayerItem = [], e.m_arrItemData = [], e.m_iUseCount = 1, e.m_nodePool = null, e.m_arrNodeIcon = [], e
                }
                return i(e, t), e.prototype.start = function() {
                    this.setUseNum(1), this.m_nodePool = new cc.NodePool
                }, e.prototype.createIconCtrl = function() {
                    var t = this.m_nodePool.get();
                    null == t && (t = cc.instantiate(this.m_prefabItemIcon)), this.m_arrNodeIcon.push(t), t.parent = this.m_nodeItemLayout, t.getComponent(a.ItemIconCtrl).setIcon(this, null)
                }, e.prototype.setUseNum = function(t) {
                    this.m_iUseCount = t, this.m_iUseCount = this.m_iUseCount > 3 ? 3 : this.m_iUseCount < 1 ? 1 : this.m_iUseCount, this.m_labSelectedItemUseNumber.string = this.m_iUseCount.toString()
                }, e.prototype.addUseNum = function(t) {
                    this.setUseNum(this.m_iUseCount + t)
                }, e.prototype.onClickUseNum = function(t) {
                    var e = t ? 1 : -1;
                    this.addUseNum(e)
                }, e.prototype.onClickUseNumAdd = function() {
                    this.onClickUseNum(!0)
                }, e.prototype.onClickUseNumMinus = function() {
                    this.onClickUseNum(!1)
                }, e.prototype.onClickUse = function() {}, e.prototype.onClickItem = function(t) {
                    this.m_itemSelected = t, this.showItemInfo(t)
                }, e.prototype.showItemInfo = function(t) {
                    this.m_itemSelectedItem = t, this.getItemData(t), this.m_ItemIconCtrlBigOne.setIcon(null, null), this.m_labSelectedItemName.string = t.ItemID, this.m_labSelectedItemInfoTop.string = t.infoTop, this.m_labSelectedItemInfoBot.string = t.infoBot
                }, e.prototype.getItemData = function(t) {
                    for (var e = 0; e < this.m_arrItemData.length; e++)
                        if (t.ItemID == this.m_arrItemData[e].ItemID) return this.m_arrItemData[e]
                }, e.prototype.onClickCate = function() {
                    this.clearAllItem()
                }, e.prototype.clearAllItem = function() {
                    var t = this;
                    this.m_nodeRankedFrameLayer.destroyAllChildren(), this.m_arrNodeIcon.forEach(function(e) {
                        t.m_nodePool.put(e)
                    }), this.m_arrNodeIcon = []
                }, e.prototype.onClickCateAll = function() {
                    this.clearAllItem();
                    for (var t = 0; t < 16; t++) this.createIconCtrl()
                }, e.prototype.onClickCateFish = function() {
                    this.clearAllItem();
                    for (var t = 0; t < 3; t++) this.createIconCtrl()
                }, r([l(cc.Node)], e.prototype, "m_nodeItemLayout", void 0), r([l(cc.Prefab)], e.prototype, "m_prefabLabel", void 0), r([l(cc.Prefab)], e.prototype, "m_prefabItemIcon", void 0), r([l(cc.Node)], e.prototype, "m_nodeBigIconGrid", void 0), r([l(cc.Label)], e.prototype, "m_labSelectedItemName", void 0), r([l(cc.Label)], e.prototype, "m_labSelectedItemInfoTop", void 0), r([l(cc.Label)], e.prototype, "m_labSelectedItemInfoBot", void 0), r([l(cc.Label)], e.prototype, "m_labSelectedItemUseNumber", void 0), r([l(cc.Button)], e.prototype, "m_btnUseItem", void 0), r([l(cc.Node)], e.prototype, "m_nodeGameIconLayer", void 0), r([l(cc.Node)], e.prototype, "m_nodeRankedFrameLayer", void 0), r([l(cc.Node)], e.prototype, "m_nodeTextLayer", void 0), r([l(a.ItemIconCtrl)], e.prototype, "m_ItemIconCtrlBigOne", void 0), r([c], e)
            }(cc.Component);
        o.BackpackMgr = u, cc._RF.pop()
    }, {
        "./ItemIconCtrl": "ItemIconCtrl"
    }],
    BannerController: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "814708fkh1Cm5Qsg1IktNZK", "BannerController");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../GuestLobbyPopupMgr"),
            s = t("../GuestLobbyUiMgr"),
            c = t("../GuestSysMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.spfArray = new Array, e.boardArray = new Array, e.board = null, e.duration = 5, e.guestLobbyUiMgrCache = null, e.currentSpfArray = new Array, e.idx = 0, e.maxSize = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    var t = this;
                    0 != c.default.getInstance().isGuestLogin() ? (this.maxSize = 4, this.idx = 0, this.currentSpfArray = new Array, this.currentSpfArray.splice(this.currentSpfArray.length, 0, this.spfArray[0]), this.currentSpfArray.splice(this.currentSpfArray.length, 0, this.spfArray[1]), this.currentSpfArray.splice(this.currentSpfArray.length, 0, this.spfArray[2]), 1 == c.default.isIpad() ? this.currentSpfArray.splice(this.currentSpfArray.length, 0, this.spfArray[4]) : this.currentSpfArray.splice(this.currentSpfArray.length, 0, this.spfArray[3]), this.scheduleOnce(function() {
                        t.nextFrame()
                    }, this.duration)) : this.node.active = !1
                }, e.prototype.nextFrame = function() {
                    var t = this;
                    this.advanceIdx(), this.setSpriteFrame(), this.board.setPosition(0, 0), this.move(), this.scheduleOnce(function() {
                        t.nextFrame()
                    }, this.duration)
                }, e.prototype.getPreviousIdx = function() {
                    var t = this.idx - 1;
                    return t < 0 && (t = this.maxSize - 1), t
                }, e.prototype.getNextIdx = function() {
                    var t = this.idx + 1;
                    return t >= this.maxSize && (t = 0), t
                }, e.prototype.advanceIdx = function() {
                    this.idx = this.idx + 1, this.idx >= this.maxSize && (this.idx = 0)
                }, e.prototype.setSpriteFrame = function() {
                    this.boardArray[0].spriteFrame = this.currentSpfArray[this.getPreviousIdx()], this.boardArray[1].spriteFrame = this.currentSpfArray[this.idx], this.boardArray[2].spriteFrame = this.currentSpfArray[this.getNextIdx()]
                }, e.prototype.move = function() {
                    var t = cc.sequence(cc.moveTo(.5, 0, -108), cc.moveTo(1, 0, -103).easing(cc.easeElasticOut(.3)));
                    this.board.runAction(t)
                }, e.prototype.onClickBanner = function() {
                    switch (this.idx) {
                        case 0:
                            c.default.getInstance().openFbPage(), c.default.getInstance().logClickFanPage(0);
                            break;
                        case 1:
                            a.GuestLobbyPopupMgr.Instance.ShowPopMsg();
                            break;
                        case 2:
                            c.default.getInstance().logClickMessenger(21), c.default.getInstance().openFbMessenger();
                            break;
                        case 3:
                            c.default.isIpad() ? (c.default.getInstance().logClickMessenger(20), c.default.getInstance().openFbMessenger()) : (c.default.getInstance().logClickWhatsApp(20), c.default.getInstance().openWhatsApp())
                    }
                    c.default.getInstance().logClickBanner(this.idx)
                }, e.prototype.onDestroy = function() {
                    this.unscheduleAllCallbacks()
                }, r([p(cc.SpriteFrame)], e.prototype, "spfArray", void 0), r([p(cc.Sprite)], e.prototype, "boardArray", void 0), r([p(cc.Node)], e.prototype, "board", void 0), r([p(Number)], e.prototype, "duration", void 0), r([p(s.default)], e.prototype, "guestLobbyUiMgrCache", void 0), r([u], e)
            }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {
        "../GuestLobbyPopupMgr": "GuestLobbyPopupMgr",
        "../GuestLobbyUiMgr": "GuestLobbyUiMgr",
        "../GuestSysMgr": "GuestSysMgr"
    }],
    BannerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "07732DkqBZONrE3ll2MUxJC", "BannerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.BannerMgr = void 0;
        var c = t("../../../LobbyCommon/Component/AudioMgr"),
            l = t("../../../LobbyCommon/Net/ClickLog"),
            u = t("../../../LobbyCommon/Net/ClickLogEnum"),
            p = cc._decorator,
            m = p.ccclass,
            h = p.property,
            d = function() {
                this.bannerBgSF = null, this.bannerName = "", this.buttonAction = "", this.buttonCustomEventID = "", this.onClickEvent = null, this.eventData = null
            },
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.defaultBanner = null, e.pagePointMgr = null, e.pagePointPrefab = null, e.bannerPage = null, e.pageView = null, e.pagePointSF_W = null, e.pagePointSF_R = null, e.bannerCmdData = null, e.centerIndex = 2, e.maxPageNum = 5, e.tmpLoopNum = 0, e.showSpriteIndex = 0, e.needDownloadMaxNum = 0, e.imgDownloadFinishNum = 0, e.needShowBannerMaxNum = 0, e.carouselLoadTime = 10, e.isUseDefaultBanner = !1, e.isAllowClickBtnEvent = !0, e.pagePointNodeAry = [], e.tmpBannerResAry = [], e.bannerInfoMembers = [], e.curOpenEventName = [], e.SwitchGameEvent = null, e.OpenBannerWebviewEvent = null, e
                }
                return i(e, t), e.prototype._start = function() {
                    var t = this;
                    this.pageView.node.on("scroll-ended", function() {
                        t.ScrollEndedCallBack()
                    }), this.pageView.node.on("scroll-began", function() {
                        t.ScrollBeganCallBack()
                    }), this.pageView.node.on("page-turning", function() {
                        t.ScrollTurningCallBack()
                    })
                }, e.prototype._onDestroy = function() {
                    if (this.bannerInfoMembers && this.bannerInfoMembers.length > 0)
                        for (var t = 0; t < this.bannerInfoMembers.length; t++) this.bannerInfoMembers[t].bannerBgSF = null;
                    if (this.tmpBannerResAry && this.tmpBannerResAry.length > 0) {
                        for (t = 0; t < this.tmpBannerResAry.length; t++) cc.loader.release(this.tmpBannerResAry[t]);
                        this.tmpBannerResAry = []
                    }
                    if (this.defaultBanner) {
                        var e = this.defaultBanner.getComponent(cc.Sprite);
                        e && e.spriteFrame.decRef()
                    }
                }, e.prototype.SaveBannerCmdData = function(t) {
                    console.log("[banner Data]", t), this.bannerCmdData = t
                }, e.prototype.SetBannerFeature = function(t, e) {
                    this.SwitchGameEvent = t, this.OpenBannerWebviewEvent = e
                }, e.prototype.SetDefaultBanner = function(t) {
                    if (this.defaultBanner) {
                        var e = this.defaultBanner.getComponent(cc.Sprite);
                        e && (e.spriteFrame = t, e.spriteFrame.addRef())
                    }
                }, e.prototype.BannerDataInit = function() {
                    this.bannerCmdData && this.bannerCmdData.hasOwnProperty("banner_info") && this.filterDisableGame()
                }, e.prototype.filterDisableGame = function() {
                    for (var t = this, e = function(e) {
                            for (var n = !0, i = o.bannerCmdData.banner_info[e].mode, r = o.bannerCmdData.banner_info[e].bundle_name, c = o.bannerCmdData.banner_info[e].button_action, p = 0; p < i.length; p++)
                                if (i[p] == window.gd_LogoMode) {
                                    n = !1;
                                    break
                                }
                            if (!n)
                                if (-1 != c.toUpperCase().indexOf("GAME_ID")) {
                                    for (var m = !1, h = c.substring(c.indexOf("=") + 1), d = o.GetThemeIdByGameName(h), _ = 0; _ < SS.Common.GameEnvironment.GameSetting.kioskOpenGameList.length; _++)
                                        if (SS.Common.GameEnvironment.GameSetting.kioskOpenGameList[_] == d) {
                                            m = !0;
                                            break
                                        }
                                    "" != h && m && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(h) && (o.needDownloadMaxNum++, o.AddDownloadBannerInfo(r, c, "", function() {
                                        t.OpenReCheckGameWindow(d)
                                    }))
                                } else if (-1 != c.toUpperCase().indexOf("CUSTOM_ID"))
                                for (_ = 0; _ < o.curOpenEventName.length; _++) {
                                    var g = c.substring(c.indexOf("=") + 1);
                                    if (g == o.curOpenEventName[_]) {
                                        o.needDownloadMaxNum++, o.AddDownloadBannerInfo(r, c, g, null);
                                        break
                                    }
                                } else if (-1 != c.toUpperCase().indexOf("REFRESH_URL")) {
                                    o.needDownloadMaxNum++;
                                    var f = c.substring(c.indexOf("=") + 1);
                                    o.AddDownloadBannerInfo(r, c, "", function() {
                                        return a(t, void 0, void 0, function() {
                                            return s(this, function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return -1 != f.toUpperCase().indexOf("MAGICCITY") && l.ClickLog.recordClickLog(u.LogName.ClickEvent, -1, u.LogType_ClickEvent.MCEntry, u.LogEvent_Click.MC_Banner), [4, l.ClickLog.SendRecordedList(u.LogName.ClickEvent)];
                                                    case 1:
                                                        return t.sent(), window.location.href = f, [2]
                                                }
                                            })
                                        })
                                    })
                                } else if (-1 != c.toUpperCase().indexOf("URL")) {
                                o.needDownloadMaxNum++;
                                var y = c.substring(c.indexOf("=") + 1);
                                o.AddDownloadBannerInfo(r, c, "", function() {
                                    t.OpenBannerWebview(y)
                                })
                            } else o.needDownloadMaxNum++, o.AddDownloadBannerInfo(r, c, "", null)
                        }, o = this, n = 0; n < this.bannerCmdData.banner_info.length; n++) e(n);
                    console.log("[Banner]", this.bannerInfoMembers), this.bannerInfoMembers.length <= 0 && this.SetBannerInit()
                }, e.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, e.prototype.OpenReCheckGameWindow = function(t) {
                    null != this.SwitchGameEvent && this.SwitchGameEvent(t)
                }, e.prototype.OpenBannerWebview = function(t) {
                    null != this.OpenBannerWebviewEvent && this.OpenBannerWebviewEvent(t)
                }, e.prototype.AddDownloadBannerInfo = function(t, e, o, n) {
                    var i = this,
                        r = this,
                        a = this.GetDownloadPath(t),
                        s = new d;
                    s.bannerName = t, s.buttonAction = e, s.buttonCustomEventID = o, s.onClickEvent = n, this.bannerInfoMembers.push(s), console.log("banner image downloadPath = " + a), cc.assetManager.loadRemote(a, function(t, e) {
                        if (t) return r.imgDownloadFinishNum += 1, r.SetBannerInit(), void console.warn("[banner Image Download is notFind !!] ", t);
                        console.log("[banner Image Download is onFinish !!]", e), r.imgDownloadFinishNum += 1, r.tmpBannerResAry.push(e), r.needShowBannerMaxNum += 1, r.SetBannerInit();
                        for (var o = 0; o < i.bannerInfoMembers.length; o++)
                            if (i.bannerInfoMembers[o].bannerName, e.url.substring(e.url.lastIndexOf("/") + 1), e.url.lastIndexOf("?")) {
                                s.bannerBgSF = new cc.SpriteFrame(e);
                                break
                            }
                    })
                }, e.prototype.GetDownloadPath = function(t) {
                    var e, o = SS.Common.GameEnvironment.ProjectSetting;
                    return e = (o.CDN_HOST ? window.location.protocol + "//" + o.CDN_HOST : "../../..") + "/Banner/" + this.bannerCmdData.banner_version + "/" + t + ".png?" + (new Date).getTime(), console.warn("[Download bannerImg Path] = " + e), e
                }, e.prototype.IsCompleteLoadAllBanner = function() {
                    return this.imgDownloadFinishNum >= this.needDownloadMaxNum && (console.warn("[Banner \u6210\u529f\u5b8c\u6210\u6240\u6709\u8f09\u5165]"), !0)
                }, e.prototype.SetBannerInit = function() {
                    this.imgDownloadFinishNum >= this.needDownloadMaxNum && this.needShowBannerMaxNum <= 0 && (this.isUseDefaultBanner = !0)
                }, e.prototype.ShowBanner = function() {
                    if (console.warn("ShowBanner !!"), this.isUseDefaultBanner || null == this.bannerCmdData || this.bannerInfoMembers.length <= 0) console.warn("\u4f7f\u7528\u9810\u8a2dBanner\u5716\u7247 !!"), this.defaultBanner.active = !0, this.pageView.node.active = !1;
                    else if (this.defaultBanner.active = !1, this.pageView.node.active = !0, this.needShowBannerMaxNum > 0) {
                        for (var t = 0; t < this.maxPageNum; t++) {
                            var e = cc.instantiate(this.bannerPage);
                            this.pageView.addPage(e), e.position = cc.Vec3.ZERO
                        }
                        for (var o = 0; o < this.bannerInfoMembers.length; o++) {
                            var n = null;
                            this.checkEventDataVailed(o) && (n = cc.instantiate(this.pagePointPrefab), this.pagePointNodeAry.push(n))
                        }
                        for (var i = 0; i < this.pagePointNodeAry.length; i++) this.pagePointNodeAry[i].parent = this.pagePointMgr;
                        1 == this.pagePointNodeAry.length && (this.pagePointNodeAry[0].active = !1), this.Showing()
                    }
                }, e.prototype.IsNeedCarousel = function() {
                    return this.pagePointNodeAry.length > 1
                }, e.prototype.Showing = function() {
                    this.pageView.setCurrentPageIndex(this.centerIndex), this.pageView.scrollToOffset(new cc.Vec2(628, 0)), this.SetBannerContent(), this.SetPagePoint(this.centerIndex), this.RunAutoCarousel(), this.IsNeedCarousel() || (this.pageView.enabled = !1)
                }, e.prototype.checkEventDataVailed = function(t) {
                    var e = this.bannerInfoMembers[t];
                    return null != e.bannerBgSF && ("" == e.buttonCustomEventID || e.eventData && e.eventData.m_bValid)
                }, e.prototype.SetBannerContent = function() {
                    for (var t = 0, e = !1; t < this.maxPageNum;) {
                        if (this.showSpriteIndex < this.bannerInfoMembers.length) {
                            if (this.checkEventDataVailed(this.showSpriteIndex)) {
                                var o = this.pageView.getPages()[t];
                                if (null != o) {
                                    o.getComponent(cc.Sprite).spriteFrame = this.bannerInfoMembers[this.showSpriteIndex].bannerBgSF;
                                    var n = o.getComponent(cc.Button);
                                    if (n.clickEvents = [], null != this.bannerInfoMembers[this.showSpriteIndex].onClickEvent) {
                                        var i = new cc.Component.EventHandler;
                                        i.target = this.node, i.component = "BannerMgr", i.handler = "RegisteredBtnClickEvent", i.customEventData = this.showSpriteIndex.toString(), n.clickEvents.push(i)
                                    }
                                    e || (e = !0)
                                }
                                t++
                            }
                            this.showSpriteIndex++
                        }
                        if (this.showSpriteIndex >= this.bannerInfoMembers.length && (this.showSpriteIndex = 0, !e)) {
                            console.warn("\u6c92\u6709\u5c0b\u627e\u5230\u4efb\u4f55\u4e00\u5f35Banner\uff0c\u6240\u4ee5\u4f7f\u7528\u9810\u8a2dBanner\u5716\u7247 !!"), this.defaultBanner.active = !0, this.pageView.node.active = !1;
                            break
                        }
                    }
                }, e.prototype.RunAutoCarousel = function() {
                    if (this.IsNeedCarousel()) {
                        var t = this;
                        this.scheduleOnce(function() {
                            t.isAllowClickBtnEvent && (t.pageView.setCurrentPageIndex(3), t.RunAutoCarousel())
                        }, this.carouselLoadTime)
                    }
                }, e.prototype.ScrollBeganCallBack = function() {
                    this.isAllowClickBtnEvent = !1, this.unscheduleAllCallbacks()
                }, e.prototype.ScrollTurningCallBack = function() {}, e.prototype.ScrollEndedCallBack = function() {
                    this.isAllowClickBtnEvent || (this.RunAutoCarousel(), this.isAllowClickBtnEvent = !0);
                    var t = this.pageView.getCurrentPageIndex();
                    if (t != this.centerIndex) {
                        var e = !1;
                        if (t >= 2)
                            for (; !e;) this.tmpLoopNum += 1, this.tmpLoopNum >= this.bannerInfoMembers.length && (this.tmpLoopNum = 0), this.checkEventDataVailed(this.tmpLoopNum) && (e = !0);
                        else
                            for (; !e;) this.tmpLoopNum -= 1, this.tmpLoopNum < 0 && (this.tmpLoopNum = this.bannerInfoMembers.length - 1), this.checkEventDataVailed(this.tmpLoopNum) && (e = !0);
                        this.showSpriteIndex = this.tmpLoopNum, this.SetBannerContent(), this.pageView.scrollToOffset(new cc.Vec2(625, 0)), this.pageView.scrollToPage(this.centerIndex, 0), this.SetPagePoint(this.centerIndex)
                    }
                }, e.prototype.SetPagePoint = function(t) {
                    for (var e = this.pageView.getPages()[t].getComponent(cc.Sprite), o = this.pagePointNodeAry.length - 1, n = 0; n < this.bannerInfoMembers.length; n++) this.checkEventDataVailed(n) && (e.spriteFrame == this.bannerInfoMembers[n].bannerBgSF ? this.pagePointNodeAry[o].getComponent(cc.Sprite).spriteFrame = this.pagePointSF_R : this.pagePointNodeAry[o].getComponent(cc.Sprite).spriteFrame = this.pagePointSF_W, o--)
                }, e.prototype.RegisteredBtnClickEvent = function(t, e) {
                    if (this.isAllowClickBtnEvent) {
                        c.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                        var o = e;
                        null != this.bannerInfoMembers[o].onClickEvent && this.bannerInfoMembers[o].onClickEvent()
                    }
                }, e.prototype.setEventBanner = function(t) {
                    for (var e = t.m_sBannerID, o = t.m_fucClickEvent, n = !1, i = 0; i < this.bannerInfoMembers.length; i++)
                        if (this.bannerInfoMembers[i].buttonCustomEventID == e) {
                            n = !0, this.bannerInfoMembers[i].eventData = t, null != o && (this.bannerInfoMembers[i].onClickEvent = o);
                            break
                        }
                    n || console.warn("[Set MissionBanner ButtonCustomEvent Error] Not find this Key!!", e)
                }, e.prototype.SetBannerCustomEvent = function(t, e) {
                    if (console.warn("SetBannerCustomEvent !!"), !(this.bannerInfoMembers.length <= 0)) {
                        for (var o = !1, n = 0; n < this.bannerInfoMembers.length; n++)
                            if (this.bannerInfoMembers[n].buttonCustomEventID == t) {
                                o = !0, null != e && (this.bannerInfoMembers[n].onClickEvent = e);
                                break
                            }
                        o || console.warn("[Set MissionBanner ButtonCustomEvent Error] Not find this Key!!", t)
                    }
                }, r([h(cc.Node)], e.prototype, "defaultBanner", void 0), r([h(cc.Node)], e.prototype, "pagePointMgr", void 0), r([h(cc.Prefab)], e.prototype, "pagePointPrefab", void 0), r([h(cc.Prefab)], e.prototype, "bannerPage", void 0), r([h(cc.PageView)], e.prototype, "pageView", void 0), r([h(cc.SpriteFrame)], e.prototype, "pagePointSF_W", void 0), r([h(cc.SpriteFrame)], e.prototype, "pagePointSF_R", void 0), r([m], e)
            }(cc.Component);
        o.BannerMgr = _, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum"
    }],
    BaseMachineHost: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4dfe5XA0j5HgbTp2yskcer8", "BaseMachineHost");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.BaseMachineHost = void 0;
        var a = t("../../LobbyCommon/Component/ReturnLobbyHandler"),
            s = t("../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../LobbyCommon/LobbyCommon"),
            l = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../CommonRoot/Script/CommonRoot"),
            p = cc._decorator,
            m = p.ccclass,
            h = (p.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.handler = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.Init()
                }, e.prototype.Init = function() {
                    c.LobbyCommon.Instance.InitWaitForSeconds(), this.RegisgerCommonListener()
                }, e.prototype.Exit = function() {
                    this.UnregisgerCommonListener()
                }, e.prototype.RegisgerCommonListener = function() {
                    u.CommonRoot.Instance.GetTopBarMgr.m_DelClickNews.Insert(this.OnClickNews, this), u.CommonRoot.Instance.m_nodeBulletinBoard && (u.CommonRoot.Instance.m_nodeBulletinBoard.on("call_activity", this.OnCallActivity, this, !0), u.CommonRoot.Instance.m_nodeBulletinBoard.on("call_switch_game", this.OnCallSwitchGame, this, !0), u.CommonRoot.Instance.m_nodeBulletinBoard.on("call_webview", this.OnCallWebview, this, !0), u.CommonRoot.Instance.m_nodeBulletinBoard.on("close_news_board", this.OnBulletinBoardClosed, this, !0))
                }, e.prototype.UnregisgerCommonListener = function() {
                    u.CommonRoot.Instance.GetTopBarMgr.m_DelClickNews.Remove(this.OnClickNews, this), u.CommonRoot.Instance.m_nodeBulletinBoard.targetOff(this)
                }, e.prototype.OnSetBackToLobby = function() {
                    null == this.handler && (this.handler = new a.ReturnLobbyHandler), this.handler.BackToLobby(this.OnLoadCallBack.bind(this), this.OnErrorCallBack.bind(this)), this.handler = null
                }, e.prototype.OnSetBackToLogin = function() {
                    null == this.handler && (this.handler = new a.ReturnLobbyHandler), this.handler.BackToLogin(this.OnLoadCallBack.bind(this), this.OnErrorCallBack.bind(this)), this.handler = null
                }, e.prototype.OnLoadCallBack = function() {
                    this.StartLoadScene(1)
                }, e.prototype.OnErrorCallBack = function() {
                    l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, "C44", "Game", "Load Error", null)
                }, e.prototype.StartLoadScene = function(t) {
                    this.scheduleOnce(function() {
                        SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.display = "block"), s.ConnectPanelMgr.Instance.DisableConnectPanel(), cc.director.loadScene("ReleaseScene")
                    }, t)
                }, e.prototype.OnClickNews = function() {
                    u.CommonRoot.Instance.m_nodeBulletinBoard && !u.CommonRoot.Instance.m_nodeBulletinBoard.active && (u.CommonRoot.Instance.m_nodeBulletinBoard.active = !0)
                }, e.prototype.OnCallActivity = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallActivity: " + e)
                }, e.prototype.OnCallSwitchGame = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallSwitchGame: " + e), u.CommonRoot.Instance.m_switchGameGroup.OnSwitchGameIgnoreWindow(e)
                }, e.prototype.OnCallWebview = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallWebview: " + e), window.location.replace(e), window.location.reload()
                }, e.prototype.OnBulletinBoardClosed = function() {
                    cc.log("OnBulletinBoardClosed")
                }, r([m], e)
            }(cc.Component));
        o.BaseMachineHost = h, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/ReturnLobbyHandler": "ReturnLobbyHandler",
        "../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../LobbyCommon/LobbyCommon": "LobbyCommon",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../CommonRoot/Script/CommonRoot": "CommonRoot"
    }],
    BeginnersGuideMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "040ffZbPg1LtbkxpMsA8wQ2", "BeginnersGuideMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../Component/AudioMgr"),
            s = t("../Helper/EventSystem"),
            c = t("../Net/ClickLog"),
            l = t("../Net/ClickLogEnum"),
            u = t("./BeginnersGuideStepItem"),
            p = cc._decorator,
            m = p.ccclass,
            h = p.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.id = "", e.guideItemRoot = null, e.tipRoot = null, e.nextNode = null, e.nextButton = null, e.cookieSaveName = "", e.guideItemAry = null, e.currentStepIndex = 0, e.isCallOnLoad = !1, e.isFirstShow = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.isCallOnLoad || (this.isCallOnLoad = !0, console.warn("[BeginnersGuideMgr]" + this.node.name + ">> onLoad: "), this.node.active = !1, s.EventSystem.Event(s.BeginnersGuide.Show).Insert(this.OnCallShow, this), s.EventSystem.Event(s.BeginnersGuide.Hide).Insert(this.OnCallExit, this))
                }, e.prototype.onDestroy = function() {
                    this.isCallOnLoad = !1, s.EventSystem.Event(s.BeginnersGuide.Show).Remove(this.OnCallShow, this), s.EventSystem.Event(s.BeginnersGuide.Hide).Remove(this.OnCallExit, this), this.guideItemAry = null
                }, e.prototype.OnCallShow = function(t, e) {
                    if (console.warn("[BeginnersGuideMgr]" + this.node.name + ">> OnCallShow: " + t + " vs " + this.id + "(force: " + e + ")"), t == this.id) return e || this.CheckCookieForShow() ? this.isFirstShow = !1 : (this.isFirstShow = !0, console.error("[BeginnersGuideMgr] id = " + t + ", isFirstShow = " + this.isFirstShow)), (e || !e && this.CheckCookieStatusCanOK()) && this.Init() ? (this.node.active = !0, void this.ShowFirstStep()) : void this.Exit(!1)
                }, e.prototype.CheckCookieStatusCanOK = function() {
                    return !(this.cookieSaveName.length > 0 && this.CheckCookieForShow())
                }, e.prototype.Init = function() {
                    if (this.guideItemRoot && !this.guideItemAry && (this.guideItemAry = this.guideItemRoot.getComponentsInChildren(u.default)), !this.guideItemAry || 0 == this.guideItemAry.length) return console.warn("[BeginnersGuideMgr]\u6c92\u6709\u5f15\u5c0e\u7269\u4ef6"), !1;
                    for (var t = 0; t < this.guideItemAry.length; t++) this.guideItemAry[t].Init();
                    return !0
                }, e.prototype.Exit = function(t) {
                    this.currentStepIndex = 0, this.node.active = !1, s.EventSystem.Event(s.BeginnersGuide.OnExit).Notify(this.id, this.node, t)
                }, e.prototype.OnCallExit = function(t) {
                    t == this.id && this.OnClickExit()
                }, e.prototype.OnClickExit = function() {
                    this.guideItemAry && this.currentStepIndex >= 0 && this.currentStepIndex < this.guideItemAry.length && this.guideItemAry[this.currentStepIndex].End(), this.SetCookieForShow(), this.Exit(!1)
                }, e.prototype.OnClickComplete = function() {
                    this.currentStepIndex >= 0 && this.currentStepIndex < this.guideItemAry.length && this.guideItemAry[this.currentStepIndex].End(), this.SetCookieForShow(), this.Exit(!0)
                }, e.prototype.OnClickNext = function() {
                    if (this.isFirstShow) {
                        var t = this.guideItemAry[this.currentStepIndex].nextClickLogEventID;
                        if (-1 != t) {
                            var e = t;
                            c.ClickLog.recordClickLog(l.LogName.Profile, 0, l.LogType_Profile.Guide, e)
                        }
                    }
                    a.AudioMgr.Instance.Play("PS_Beginner", !1, 1), this.ShowNext()
                }, e.prototype.ShowFirstStep = function() {
                    this.currentStepIndex = 0, this.guideItemAry[this.currentStepIndex].Record(this.tipRoot);
                    var t = this.guideItemAry[this.currentStepIndex].isClickNext;
                    this.nextNode && (this.nextNode.active = t), this.nextButton.active = t, a.AudioMgr.Instance.Play("PS_Beginner", !1, 1), this.ShowNext()
                }, e.prototype.ShowNext = function() {
                    if (!this.guideItemAry[this.currentStepIndex].NextTip()) {
                        if (this.guideItemAry[this.currentStepIndex].End(), this.currentStepIndex++, this.currentStepIndex >= this.guideItemAry.length) return this.SetCookieForShow(), void this.Exit(!0);
                        this.guideItemAry[this.currentStepIndex].Record(this.tipRoot);
                        var t = this.guideItemAry[this.currentStepIndex].isClickNext;
                        this.nextNode && (this.nextNode.active = t), this.nextButton.active = t, this.ShowNext()
                    }
                }, e.prototype.SetCookieForShow = function() {
                    0 != this.cookieSaveName.length && (JSUtility.IsSupportLocalStorage() ? localStorage.setItem(this.cookieSaveName, "1") : JSUtility.IsSupportCookie() && (document.cookie = this.cookieSaveName + "=1;"))
                }, e.prototype.CheckCookieForShow = function() {
                    var t = "";
                    return JSUtility.IsSupportLocalStorage() ? t = localStorage.getItem(this.cookieSaveName) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie(this.cookieSaveName)), null != t
                }, r([h()], e.prototype, "id", void 0), r([h(cc.Node)], e.prototype, "guideItemRoot", void 0), r([h({
                    type: cc.Node,
                    displayName: "\u628a\u5f80\u524d\u79fb\u7684UI\u653e\u54ea"
                })], e.prototype, "tipRoot", void 0), r([h(cc.Node)], e.prototype, "nextNode", void 0), r([h(cc.Node)], e.prototype, "nextButton", void 0), r([h({
                    displayName: "cookie\u5132\u5b58\u540d\u7a31(\u4e0d\u5b58\u7559\u7a7a)"
                })], e.prototype, "cookieSaveName", void 0), r([m], e)
            }(cc.Component);
        o.default = d, cc._RF.pop()
    }, {
        "../Component/AudioMgr": "AudioMgr",
        "../Helper/EventSystem": "EventSystem",
        "../Net/ClickLog": "ClickLog",
        "../Net/ClickLogEnum": "ClickLogEnum",
        "./BeginnersGuideStepItem": "BeginnersGuideStepItem"
    }],
    BeginnersGuideStepItem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "24f5flhMThO1IJEgxhL90QC", "BeginnersGuideStepItem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.isClickNext = !0, e.nextClickLogEventID = -1, e.showNodeAry = [], e.tipStepAry = [], e.startEventAry = [], e.completeEventAry = [], e.recordStatusAry = null, e.currentIndex = -1, e
                }
                return i(e, t), e.prototype.Init = function() {
                    for (var t = 0; t < this.tipStepAry.length; t++) this.tipStepAry[t].active = !1;
                    this.currentIndex = -1, this.node.active = !1
                }, e.prototype.Record = function(t) {
                    cc.Component.EventHandler.emitEvents(this.startEventAry), this.recordStatusAry = [];
                    for (var e = 0; e < this.showNodeAry.length; e++) {
                        var o = this.showNodeAry[e];
                        if (o) {
                            this.recordStatusAry.push(new u(o.parent, o.getSiblingIndex(), o.position, o.active));
                            var n = o.convertToWorldSpaceAR(cc.Vec3.ZERO);
                            o.setParent(t), o.position = t.convertToNodeSpaceAR(n), o.active = !0
                        } else this.recordStatusAry.push(null)
                    }
                }, e.prototype.NextTip = function() {
                    return console.warn("[111]" + this.node.name + ">> NextTip: " + this.currentIndex), this.currentIndex >= 0 && (this.tipStepAry[this.currentIndex].active = !1), this.currentIndex++, this.currentIndex >= this.tipStepAry.length ? (this.node.active = !1, !1) : (this.node.active = !0, this.tipStepAry[this.currentIndex].active = !0, !0)
                }, e.prototype.End = function() {
                    for (var t = 0; t < this.showNodeAry.length; t++) {
                        var e = this.showNodeAry[t];
                        e && (e.parent = this.recordStatusAry[t].parentNode, e.setSiblingIndex(this.recordStatusAry[t].siblingIndex), e.position = this.recordStatusAry[t].position, e.active = this.recordStatusAry[t].originActive)
                    }
                    this.recordStatusAry = null, cc.Component.EventHandler.emitEvents(this.completeEventAry)
                }, r([c({
                    displayName: "\u51fa\u73fe\u9ede\u64ca\u4e0b\u4e00\u6b65\u7684\u6309\u9215"
                })], e.prototype, "isClickNext", void 0), r([c({
                    displayName: "\u7b2c\u4e00\u6b21\u9ede\u64ca\u4e0b\u4e00\u6b65\u6309\u9215\u7684clickLog\u4e8b\u4ef6ID",
                    visible: function() {
                        return this.isClickNext
                    }
                })], e.prototype, "nextClickLogEventID", void 0), r([c({
                    type: [cc.Node],
                    displayName: "\u5230\u6700\u524d\u7aef\u8981\u986f\u793a\u7684UI\u7269\u4ef6"
                })], e.prototype, "showNodeAry", void 0), r([c({
                    type: [cc.Node],
                    displayName: "\u65b0\u624b\u5f15\u5c0e\u7528\u7684\u63d0\u793a\u8a0a\u606f"
                })], e.prototype, "tipStepAry", void 0), r([c({
                    type: [cc.Component.EventHandler],
                    displayName: "\u9019\u6b65\u9a5f\u958b\u59cb\u6642\u8981\u547c\u53eb\u7684\u51fd\u5f0f"
                })], e.prototype, "startEventAry", void 0), r([c({
                    type: [cc.Component.EventHandler],
                    displayName: "\u9019\u6b65\u9a5f\u7d50\u675f\u5f8c\u8981\u547c\u53eb\u7684\u51fd\u5f0f"
                })], e.prototype, "completeEventAry", void 0), r([s], e)
            }(cc.Component);
        o.default = l;
        var u = function(t, e, o, n) {
            this.parentNode = null, this.siblingIndex = 0, this.originActive = !0, this.parentNode = t, this.siblingIndex = e, this.originActive = n, this.position = o
        };
        cc._RF.pop()
    }, {}],
    BlinkEffect: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f845fZE/uFPIprCq+H7EMkN", "BlinkEffect");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.duration = 2, e
                }
                return i(e, t), e.prototype.start = function() {
                    var t = .5 * this.duration;
                    cc.tween(this.node), cc.tween(this.node).then(cc.tween().to(t, {
                        opacity: 255
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(t, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start()
                }, r([c(Number)], e.prototype, "duration", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    BtnState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "65ddeUNTVtO95i/Y7agYqgo", "BtnState");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.enumState = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property;
        (function(t) {
            t[t.STATE_0 = 0] = "STATE_0", t[t.STATE_1 = 1] = "STATE_1", t[t.STATE_2 = 2] = "STATE_2", t[t.STATE_3 = 3] = "STATE_3", t[t.STATE_4 = 4] = "STATE_4", t[t.STATE_5 = 5] = "STATE_5", t[t.STATE_6 = 6] = "STATE_6", t[t.STATE_7 = 7] = "STATE_7", t[t.STATE_8 = 8] = "STATE_8", t[t.STATE_9 = 9] = "STATE_9"
        })(o.enumState || (o.enumState = {}));
        var l = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.BtnSprite = null, e.BtnSpriteFrame = [], e.Icon = null, e.IconSpriteFrame = [], e
            }
            return i(e, t), e.prototype.ChangeState = function(t) {
                this.BtnSprite && (this.BtnSprite.spriteFrame = this.BtnSpriteFrame[t]), this.Icon && (this.Icon.spriteFrame = this.IconSpriteFrame[t])
            }, r([c(cc.Sprite)], e.prototype, "BtnSprite", void 0), r([c([cc.SpriteFrame])], e.prototype, "BtnSpriteFrame", void 0), r([c(cc.Sprite)], e.prototype, "Icon", void 0), r([c([cc.SpriteFrame])], e.prototype, "IconSpriteFrame", void 0), r([s], e)
        }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    BundleCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "14491WqNuZFqrJE+S66wObQ", "BundleCtrl");
        var n = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            i = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../Connect/Script/ConnectPanelMgr"),
            s = t("../Net/Downloader/VersionDownloader"),
            c = t("../PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = (l.property, function() {
                function t() {
                    this.m_configName = "Bundles", this.m_config = null
                }
                var e;
                return e = t, Object.defineProperty(t, "Instance", {
                    get: function() {
                        return null == this.m_instance && (this.m_instance = new e), this.m_instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.DownloadConfig = function() {
                    return i(this, void 0, void 0, function() {
                        var t = this;
                        return r(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new s.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/Bundle/", function(n) {
                                            try {
                                                t.m_config = n, e(n)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadCommonBundles = function() {
                    return i(this, void 0, void 0, function() {
                        var t, e, o;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    if (!this.m_config) return [2];
                                    t = "", e = this.m_config.PreDownload.Common, o = 0, n.label = 1;
                                case 1:
                                    return o < e.length ? [4, this.CheckDependencies(e[o])] : [3, 5];
                                case 2:
                                    return n.sent(), t = this.GetDownloadPath(e[o]), [4, this.DownloadBundle(t)];
                                case 3:
                                    n.sent(), n.label = 4;
                                case 4:
                                    return o++, [3, 1];
                                case 5:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.DownloadLobbyBundles = function() {
                    return i(this, void 0, void 0, function() {
                        var t, e, o;
                        return r(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    if (!this.m_config) return [2];
                                    t = "", e = this.m_config.PreDownload.Lobby, o = 0, n.label = 1;
                                case 1:
                                    return o < e.length ? (t = this.GetDownloadPath(e[o]), [4, this.DownloadBundle(t)]) : [3, 4];
                                case 2:
                                    n.sent(), n.label = 3;
                                case 3:
                                    return o++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.DownloadGameFeatureBundles = function(t, e) {
                    return i(this, void 0, void 0, function() {
                        var o, n, i;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    if (!this.m_config) return [2];
                                    o = "", n = "", i = 0, r.label = 1;
                                case 1:
                                    return i < e.length ? (n = e[i], this.m_config.PreDownload.GameFeature[n] && (t && this.m_config.PreDownload.GameFeature[n].InLobby || !t && this.m_config.PreDownload.GameFeature[n].InGame) ? (o = this.GetDownloadPath(this.m_config.PreDownload.GameFeature[n].BundleName), [4, this.DownloadBundle(o)]) : [3, 3]) : [3, 4];
                                case 2:
                                    r.sent(), r.label = 3;
                                case 3:
                                    return i++, [3, 1];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.GetGameFeatureBundlesName = function(t) {
                    if (this.m_config) return this.m_config.PreDownload.GameFeature[t] ? this.m_config.PreDownload.GameFeature[t].BundleName : void 0
                }, t.prototype.GetBundle = function(t) {
                    var e = this;
                    return new Promise(function(o, n) {
                        var i = cc.assetManager.getBundle(t);
                        i && o(i);
                        var r = e.GetDownloadPath(t);
                        e.DownloadBundle(r).then(function(t) {
                            o(t)
                        }).catch(function(o) {
                            e.ShowDownloadError("Bundle(" + t + ") can't Download"), n(o)
                        })
                    })
                }, t.prototype.GetMainPrefab = function(t) {
                    var e = this;
                    if (this.m_config) return new Promise(function(o, n) {
                        var i = cc.assetManager.getBundle(t);
                        if (!i) {
                            var r = e.GetDownloadPath(t);
                            e.DownloadBundle(r).then(function(t) {
                                i = t
                            }).catch(function() {
                                e.ShowDownloadError("Bundle(" + t + ") can't Download"), n("Bundle(" + t + ") can't Download")
                            })
                        }
                        var a = e.m_config[t].path + e.m_config[t].MainPrefab;
                        i.load(a, cc.Prefab, function(t, i) {
                            t && (e.ShowDownloadError("Prefab(" + a + ") can't Load"), n(t)), o(i)
                        })
                    })
                }, t.prototype.GetOtherPrefab = function(t, e) {
                    var o = this;
                    return new Promise(function(n, i) {
                        var r = cc.assetManager.getBundle(t);
                        if (r) r.load(e, cc.Prefab, function(t, e) {
                            t && i(t), n(e)
                        });
                        else {
                            var a = o.GetDownloadPath(t);
                            o.DownloadBundle(a).then(function(t) {
                                (r = t).load(e, cc.Prefab, function(t, e) {
                                    t && i(t), n(e)
                                })
                            }).catch(function() {
                                i("Bundle(" + t + ") can't Download")
                            })
                        }
                    })
                }, t.prototype.GetSpirte = function(t, e) {
                    var o = this;
                    return new Promise(function(n, i) {
                        var r = cc.assetManager.getBundle(t);
                        if (r) r.load(e, cc.SpriteFrame, function(t, e) {
                            t && i(t), n(e)
                        });
                        else {
                            var a = o.GetDownloadPath(t);
                            o.DownloadBundle(a).then(function(t) {
                                (r = t).load(e, cc.SpriteFrame, function(t, e) {
                                    t && i(t), n(e)
                                })
                            }).catch(function() {
                                i("Bundle(" + t + ") can't Download")
                            })
                        }
                    })
                }, t.prototype.GetTargetBundlePrefabPath = function(t) {
                    return this.m_config ? this.m_config[t].path : null
                }, t.prototype.GetTargetBundlePrefabName = function(t) {
                    return this.m_config ? this.m_config[t].MainPrefab : null
                }, t.prototype.ClearSoFarTimeCacheBundle = function() {
                    cc.assetManager.cacheManager.clearLRU()
                }, t.prototype.ClearAllResources = function() {
                    cc.assetManager.releaseAll()
                }, t.prototype.GetDownloadPath = function(t) {
                    var e = "";
                    if (e = SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST + "/Bundle/" + t : window.location.origin + "/games/FishCircusPGD/Bundle/" + t, this.m_config[t]) {
                        var o = this.m_config[t].Version;
                        SS.Common.GameEnvironment.IgnoreVersionCtrl && this.m_config[t].VersionDEV && (o = this.m_config[t].VersionDEV), e += "/" + o
                    }
                    return console.log("[BundleCtrl]Download Path: " + e), e
                }, t.prototype.DownloadBundle = function(t) {
                    return new Promise(function(e, o) {
                        cc.assetManager.loadBundle(t, function(n, i) {
                            n ? (console.error("[BundleCtrl]Bundle (" + t + ") Download is error !! ", n), o(n)) : e(i)
                        })
                    })
                }, t.prototype.ShowDownloadError = function(t) {
                    console.error("[BundleCtrl]ERROR:" + t), a.ConnectPanelMgr.Instance.DisableConnectPanel(), c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Warning, "C", "Lobby", t)
                }, t.prototype.CheckDependencies = function(t) {
                    return i(this, void 0, Promise, function() {
                        var e, o, n, i;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    if (e = this.m_config[t].Dependency, o = !0, !e) return [3, 4];
                                    console.log("[Download] Check dependency of " + t), n = 0, r.label = 1;
                                case 1:
                                    return n < e.length ? (i = this.GetDownloadPath(e[n]), [4, this.DownloadBundle(i)]) : [3, 4];
                                case 2:
                                    null === r.sent() && (console.warn("[Download] Dependency of " + t + ": " + e[n] + " Download Failed"), o = !1), r.label = 3;
                                case 3:
                                    return n++, [3, 1];
                                case 4:
                                    return [2, new Promise(function(t) {
                                        t(o)
                                    })]
                            }
                        })
                    })
                }, t.m_instance = null, e = n([u], t)
            }());
        o.default = p, cc._RF.pop()
    }, {
        "../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../Net/Downloader/VersionDownloader": "VersionDownloader",
        "../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    ButtonHoverScale: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3020drr715M7JleK8KSiad+", "ButtonHoverScale");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ButtonHoverScale = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.glowNode = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.Enable = !0
                }, Object.defineProperty(e.prototype, "Enable", {
                    set: function(t) {
                        t ? (this.node.on(cc.Node.EventType.MOUSE_ENTER, this.OnHover, this), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.OnLeave, this)) : (this.node.off(cc.Node.EventType.MOUSE_ENTER, this.OnHover, this), this.node.off(cc.Node.EventType.MOUSE_LEAVE, this.OnLeave, this), null != this.glowNode && (this.glowNode.active = !1))
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.OnHover = function() {
                    this.node.scale = 1.1, null != this.glowNode && (this.glowNode.active = !1)
                }, e.prototype.OnLeave = function() {
                    this.node.scale = 1, null != this.glowNode && (this.glowNode.active = !0)
                }, r([c(cc.Node)], e.prototype, "glowNode", void 0), r([s], e)
            }(cc.Component);
        o.ButtonHoverScale = l, cc._RF.pop()
    }, {}],
    1: [function(t, e, o) {
        (function(t) {
            function e(t, e) {
                for (var o = 0, n = t.length - 1; n >= 0; n--) {
                    var i = t[n];
                    "." === i ? t.splice(n, 1) : ".." === i ? (t.splice(n, 1), o++) : o && (t.splice(n, 1), o--)
                }
                if (e)
                    for (; o--; o) t.unshift("..");
                return t
            }

            function n(t) {
                "string" != typeof t && (t += "");
                var e, o = 0,
                    n = -1,
                    i = !0;
                for (e = t.length - 1; e >= 0; --e)
                    if (47 === t.charCodeAt(e)) {
                        if (!i) {
                            o = e + 1;
                            break
                        }
                    } else -1 === n && (i = !1, n = e + 1);
                return -1 === n ? "" : t.slice(o, n)
            }

            function i(t, e) {
                if (t.filter) return t.filter(e);
                for (var o = [], n = 0; n < t.length; n++) e(t[n], n, t) && o.push(t[n]);
                return o
            }
            o.resolve = function() {
                for (var o = "", n = !1, r = arguments.length - 1; r >= -1 && !n; r--) {
                    var a = r >= 0 ? arguments[r] : t.cwd();
                    if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                    a && (o = a + "/" + o, n = "/" === a.charAt(0))
                }
                return (n ? "/" : "") + (o = e(i(o.split("/"), function(t) {
                    return !!t
                }), !n).join("/")) || "."
            }, o.normalize = function(t) {
                var n = o.isAbsolute(t),
                    a = "/" === r(t, -1);
                return (t = e(i(t.split("/"), function(t) {
                    return !!t
                }), !n).join("/")) || n || (t = "."), t && a && (t += "/"), (n ? "/" : "") + t
            }, o.isAbsolute = function(t) {
                return "/" === t.charAt(0)
            }, o.join = function() {
                var t = Array.prototype.slice.call(arguments, 0);
                return o.normalize(i(t, function(t) {
                    if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
                    return t
                }).join("/"))
            }, o.relative = function(t, e) {
                function n(t) {
                    for (var e = 0; e < t.length && "" === t[e]; e++);
                    for (var o = t.length - 1; o >= 0 && "" === t[o]; o--);
                    return e > o ? [] : t.slice(e, o - e + 1)
                }
                t = o.resolve(t).substr(1), e = o.resolve(e).substr(1);
                for (var i = n(t.split("/")), r = n(e.split("/")), a = Math.min(i.length, r.length), s = a, c = 0; c < a; c++)
                    if (i[c] !== r[c]) {
                        s = c;
                        break
                    }
                var l = [];
                for (c = s; c < i.length; c++) l.push("..");
                return (l = l.concat(r.slice(s))).join("/")
            }, o.sep = "/", o.delimiter = ":", o.dirname = function(t) {
                if ("string" != typeof t && (t += ""), 0 === t.length) return ".";
                for (var e = t.charCodeAt(0), o = 47 === e, n = -1, i = !0, r = t.length - 1; r >= 1; --r)
                    if (47 === (e = t.charCodeAt(r))) {
                        if (!i) {
                            n = r;
                            break
                        }
                    } else i = !1;
                return -1 === n ? o ? "/" : "." : o && 1 === n ? "/" : t.slice(0, n)
            }, o.basename = function(t, e) {
                var o = n(t);
                return e && o.substr(-1 * e.length) === e && (o = o.substr(0, o.length - e.length)), o
            }, o.extname = function(t) {
                "string" != typeof t && (t += "");
                for (var e = -1, o = 0, n = -1, i = !0, r = 0, a = t.length - 1; a >= 0; --a) {
                    var s = t.charCodeAt(a);
                    if (47 !== s) - 1 === n && (i = !1, n = a + 1), 46 === s ? -1 === e ? e = a : 1 !== r && (r = 1) : -1 !== e && (r = -1);
                    else if (!i) {
                        o = a + 1;
                        break
                    }
                }
                return -1 === e || -1 === n || 0 === r || 1 === r && e === n - 1 && e === o + 1 ? "" : t.slice(e, n)
            };
            var r = "b" === "ab".substr(-1) ? function(t, e, o) {
                return t.substr(e, o)
            } : function(t, e, o) {
                return e < 0 && (e = t.length + e), t.substr(e, o)
            }
        }).call(this, t("_process"))
    }, {
        _process: 2
    }],
    2: [function(t, e) {
        var o, n, i = e.exports = {};

        function r() {
            throw new Error("setTimeout has not been defined")
        }

        function a() {
            throw new Error("clearTimeout has not been defined")
        }

        function s(t) {
            if (o === setTimeout) return setTimeout(t, 0);
            if ((o === r || !o) && setTimeout) return o = setTimeout, setTimeout(t, 0);
            try {
                return o(t, 0)
            } catch (e) {
                try {
                    return o.call(null, t, 0)
                } catch (e) {
                    return o.call(this, t, 0)
                }
            }
        }

        function c(t) {
            if (n === clearTimeout) return clearTimeout(t);
            if ((n === a || !n) && clearTimeout) return n = clearTimeout, clearTimeout(t);
            try {
                return n(t)
            } catch (e) {
                try {
                    return n.call(null, t)
                } catch (e) {
                    return n.call(this, t)
                }
            }
        }(function() {
            try {
                o = "function" == typeof setTimeout ? setTimeout : r
            } catch (t) {
                o = r
            }
            try {
                n = "function" == typeof clearTimeout ? clearTimeout : a
            } catch (t) {
                n = a
            }
        })();
        var l, u = [],
            p = !1,
            m = -1;

        function h() {
            p && l && (p = !1, l.length ? u = l.concat(u) : m = -1, u.length && d())
        }

        function d() {
            if (!p) {
                var t = s(h);
                p = !0;
                for (var e = u.length; e;) {
                    for (l = u, u = []; ++m < e;) l && l[m].run();
                    m = -1, e = u.length
                }
                l = null, p = !1, c(t)
            }
        }

        function _(t, e) {
            this.fun = t, this.array = e
        }

        function g() {}
        i.nextTick = function(t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var o = 1; o < arguments.length; o++) e[o - 1] = arguments[o];
            u.push(new _(t, e)), 1 !== u.length || p || s(d)
        }, _.prototype.run = function() {
            this.fun.apply(null, this.array)
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = g, i.addListener = g, i.once = g, i.off = g, i.removeListener = g, i.removeAllListeners = g, i.emit = g, i.prependListener = g, i.prependOnceListener = g, i.listeners = function() {
            return []
        }, i.binding = function() {
            throw new Error("process.binding is not supported")
        }, i.cwd = function() {
            return "/"
        }, i.chdir = function() {
            throw new Error("process.chdir is not supported")
        }, i.umask = function() {
            return 0
        }
    }, {}],
    CanvasHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ab13eaKn6ZNJ42AyWfi0wbZ", "CanvasHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Canvas = null, e.winSize = null, e.halfDiagonal = null, e.reverse = null, e.IsLockChangeWeapon = !1, e.FlipObjects = null, e.Screen = null, e.Shadows = null, e
                }
                var o;
                return i(e, t), o = e, Object.defineProperty(e, "Instance", {
                    get: function() {
                        return this.instance
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "CANVAS", {
                    get: function() {
                        return this.instance.Canvas
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "WinSize", {
                    get: function() {
                        return this.instance.winSize
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "isReverse", {
                    get: function() {
                        return this.instance.reverse
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.isRoofSeat = function(t) {
                    if (this.isReverse) {
                        if (t < 2) return !0
                    } else if (t > 1) return !0;
                    return !1
                }, e.prototype.onLoad = function() {
                    o.instance = this, this.Canvas = this.getComponent(cc.Canvas), this.Canvas ? this.winSize = this.Canvas.designResolution : this.winSize = cc.winSize, this.halfDiagonal = new cc.Vec2(.5 * this.winSize.width, .5 * this.winSize.height)
                }, e.prototype.setReverse = function(t) {
                    this.reverse = t, this.FlipObjects.angle = t ? 180 : 0, this.Shadows.setScale(t ? cc.v2(-1.1, 1.1) : cc.v2(1.1, -1.1))
                }, e.CameraShakeEffect = function(t, e, o) {
                    var n = this;
                    void 0 === t && (t = 1), void 0 === e && (e = 1), void 0 === o && (o = 0), this.instance.Screen.runAction(cc.sequence(cc.delayTime(o), cc.callFunc(function() {
                        n.CameraShake(e)
                    }), cc.delayTime(t + o), cc.callFunc(function() {
                        n.CameraShake(-e)
                    })))
                }, e.CameraShake = function(t) {
                    if (void 0 === t && (t = 1), this.shakeAction && (this.instance.Screen.stopAction(this.shakeAction), this.shakeAction = null), this.shakePower += t, this.shakePower > 0) {
                        var e = this.instance.Screen.x > 0 ? -2 * this.shakePower : 2 * this.shakePower,
                            o = this.instance.Screen.y > 0 ? -2 * this.shakePower : 2 * this.shakePower;
                        this.shakeAction = cc.repeat(cc.sequence(cc.moveTo(.0625, new cc.Vec2(e, -o)), cc.moveTo(.0625, new cc.Vec2(-e, o)), cc.moveTo(.0625, new cc.Vec2(-e, -o)), cc.moveTo(.0625, new cc.Vec2(e, o))), cc.macro.REPEAT_FOREVER), this.instance.Screen.runAction(this.shakeAction)
                    } else this.shakePower = 0, this.shakeAction = cc.moveTo(.0625, cc.Vec2.ZERO), this.instance.Screen.runAction(this.shakeAction)
                }, e.UpDownShakeOnce = function(t, e) {
                    var o = this;
                    void 0 === t && (t = 1), void 0 === e && (e = .8), this.instance.Screen.runAction(cc.sequence(cc.moveBy(e, cc.Vec2.UP.mul(t)), cc.moveBy(.1, cc.Vec2.UP.mul(-t)), cc.callFunc(function() {
                        o.shakePower <= 0 && o.instance.Screen.setPosition(cc.Vec2.ZERO)
                    })))
                }, e.Clear = function() {
                    this.instance.Screen.stopAllActions(), this.shakePower = 0
                }, e.RegisterTouchEvent = function(t, e, o, n) {
                    this.instance.Canvas && this.instance.Canvas.node.on(t, e, o, n)
                }, e.CanelTouchEvent = function(t, e, o) {
                    this.instance.Canvas && this.instance.Canvas.node.off(t, e, o)
                }, e.ConvMousePos = function(t) {
                    return this.isReverse ? t.sub(this.instance.halfDiagonal).neg() : t.sub(this.instance.halfDiagonal)
                }, e.ConvMousePosNoReverse = function(t) {
                    return t.sub(this.instance.halfDiagonal)
                }, e.instance = null, e.shakePower = 0, e.shakeAction = null, r([c(cc.Node)], e.prototype, "FlipObjects", void 0), r([c(cc.Node)], e.prototype, "Screen", void 0), r([c(cc.Node)], e.prototype, "Shadows", void 0), o = r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    CheatKeyCustomData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "78eaah3M5xN0YJLAp7OMWgf", "CheatKeyCustomData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.cheatKeyAry = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+"], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    t && (this.cheatKeyAry = t)
                }, e.prototype.GetData = function() {
                    return this.cheatKeyAry
                }, r([c([cc.String])], e.prototype, "cheatKeyAry", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    CheatKeyData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ba789UUJ3FK+qVm1ZKRBWV1", "CheatKeyData");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CheatKeyData = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = (i.property, function() {
                function t() {}
                var e;
                return e = t, t.GetCheatKeyData = function(t) {
                    switch (t) {
                        case "GreenShamrock":
                            return e.m_GreenShamrockList;
                        case "Runaway":
                            return e.m_RunawayList;
                        case "LittleRubberDucky":
                            return e.m_LittleRubberDuckList;
                        case "Crystal7s":
                            return e.m_Crystal7sList;
                        case "DaysOfTheDead":
                            return e.m_DaysOfTheDeadList;
                        case "CashTVShow":
                            return e.m_TVMillionaireList;
                        case "HelloDoggy":
                            return e.m_MrFidoList;
                        case "MerryXmas":
                            return e.m_TisTheSeasonList;
                        case "TheGoodLife":
                            return e.m_TheGoodLifeList;
                        case "LuckyFortune":
                        case "GoldenTreasures":
                            return e.m_LuckyFortuneList;
                        case "LuckyFortune2":
                            return e.m_LuckyFortune2List;
                        case "FirePhoenix":
                            return e.m_FirePhoenixList;
                        case "MidnightCastle":
                            return e.m_MidnightCastleList;
                        case "GoldenDragon":
                            return e.m_GoldenDragonList;
                        case "FiveDragon":
                            return e.m_DragonCityList;
                        case "FireSpin":
                        case "ThunderZeus":
                            return e.m_FireSpinList;
                        case "RainbowLuck":
                            return e.m_RainbowLuckList;
                        case "Fire7":
                            return e.m_Fire7List;
                        case "GoldenRooster":
                            return e.m_GoldenRoosterList;
                        case "HotShot":
                        case "Inferno7":
                            return e.m_HotShotList;
                        case "HighWayKing":
                            return e.m_HighWayKingList;
                        case "LittleRubberDucky":
                            return e.m_LittleRubberDuckyList;
                        case "LuckyDuck":
                            return e.m_LuckyDuckList;
                        case "OceanParty":
                            return e.m_OceanPartyList;
                        case "RobinHood":
                            return e.m_RobinHoodList;
                        case "FaFaFa":
                            return e.m_FaFaFaList;
                        case "MexBingo":
                            return e.m_MexBingoList;
                        case "AtlantisModern":
                        case "ShamrockFortune":
                            return e.m_AtlantisModernList;
                        case "CaptainJack":
                            return e.CaptainJackList;
                        case "AtlantisAncient":
                            return e.m_AtlantisAncientList;
                        case "HappyHour":
                            return e.m_HappyHour;
                        case "BookOfRa":
                        case "EgyptianGold2":
                        case "EgyptianGold3":
                            return e.m_EgyptianGold;
                        case "SuperKeno":
                            return e.m_SuperKeno;
                        case "JPkeno":
                            return e.m_JPKeno;
                        case "SalsaBingo":
                            return e.m_SalsaBingoList;
                        case "SMario":
                            return e.m_SmallMarioList;
                        case "Buffalo":
                            return e.m_BuffaloList;
                        case "SuperAgent":
                            return e.m_SuperAgentList;
                        case "ChickenDinner":
                            return e.m_ChickenDinnerList;
                        case "PyramidAdventure":
                            return e.m_PyramidAdvList;
                        case "FortuneLantern":
                            return e.m_FortuneLanternList;
                        case "Miner":
                            return e.m_CoalManList;
                        case "Witch":
                        case "FireLinkFaFaFa":
                            return e.m_WitchList;
                        case "Blazing777":
                            return e.m_Flaming777List;
                        case "Blazing777Deluxe":
                            return e.m_Flaming777DeluxeList;
                        case "CrazyWheel":
                            return e.m_crazyWheelList;
                        default:
                            return console.error("Can't Find Corresponding CheatKeyData Reference!!"), null
                    }
                }, t.m_DragonCityList = ["NO Cheat", "NoWin", "SMALL", "X10_X20", "X20_X50", "TX50_X100", "MONEYBAG", "MONEYBAG_LINEWIN", "FREEGAME", "FREEGAME_LINEWIN", "FREEGAME_RETRIGER", "FREEGAME_LISTEN", "KILL_WIN"], t.m_GreenShamrockList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_RunawayList = ["NO Cheat", "NO_WIN", "under totalBet * 1", "under totalBet * 10", "totalBet 10~20", "totalBet 20~50", "up totalBet 50", "freeGame"], t.m_LittleRubberDuckList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_Crystal7sList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_MORE", "WIN_TOP3_SYMBOL"], t.m_DaysOfTheDeadList = ["NO Cheat", "NO_WIN", "KILL_WIN", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FREE_GAME", "FREE_GAME_R1", "FREE_GAME_R2", "FREE_GAME_Cl", "FREE_GAME_LINE", "PRE_WIN"], t.m_TVMillionaireList = ["NO Cheat", "NoWin", "Win1x-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeHitFree", "Free+LineWin"], t.m_MrFidoList = ["NO Cheat", "NoWin", "Win1x-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeHitFree", "Free+LineWin", "FreeHitFree2x", "FreeDouble2x"], t.m_TisTheSeasonList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeDoubleWild", "Feature"], t.m_TheGoodLifeList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "PreWin", "FreeGame", "FreeReTriger", "Free+LineWin", "Free+Diamond"], t.m_LuckyFortuneList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameWild", "FreeGameBonus", "FreeGameSpinAdd", "FreeGameLineWin", "FreeGameNoWild", "FreeGameNoWin", "BonusLineWin"], t.m_LuckyFortune2List = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameWild", "FreeGameBonus", "FreeGameSpinAdd", "FreeGameLineWin", "FreeGameNoWild", "FreeGameNoWin", "BonusLineWin"], t.m_FirePhoenixList = ["NO Cheat", "NoWin-", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "MONEYBAG", "MONEYBAG_LINEWIN", "FREEGAME", "FREEGAME_LINEWIN", "FREEGAME_RETRIGER", "FREEGAME_LISTEN"], t.m_MidnightCastleList = ["NO Cheat", "NoWin-", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "FreeGame", "FreeGameBonus1", "FreeGameBonus2", "Scatter2"], t.m_GoldenDragonList = ["NO Cheat", "NoWin", "Under TotalBet * 1", "Under TotalBet * 10", "TotalBet 10~20", "TotalBet 20~50", "Up TotalBet 50", "FreeGame", "FreeGameFeature", "FreeGameWin", "FreeGameRetrigger", "FreeGameUp", "FeatureWild"], t.m_FireSpinList = ["NO Cheat", "L_FEATURE ", "R_FEAUTRE", "LR_FEATURE ", "SC_1 ", "SC_13", "SC_135_NO_GIRL ", "SC_135_GIRL", "ODDS_01_99", "ODDS_100_199", "ODDS_200_499", "ODDS_500_UP ", "LINE_SC_FEATURE", "LINE_SCATTER", "SC_FEATURE ", "MAYBE_WIN", "NOWIN"], t.m_RainbowLuckList = ["NO Cheat", "NO_WIN", "WIN_X10", "WIN_X20", "WIN_X30", "RAINBOW_X1", "RAINBOW_X2", "RAINBOW_X3", "SCATTER", "SCATTER_2", "SMALL"], t.m_Fire7List = ["NO WIN", "10 \u500d\u4ee5\u4e0b", "10~20 \u500d", "20~30 \u500d", "50 UP \u500d", "FreeGame ", "Free + MoreFree", "JP", "Hit JP + Free", "JP + Line + Free + Scatter + MoreFree"], t.m_GoldenRoosterList = ["NO WIN", "Normal_Win", "Normal_Win_2", "Normal_Win_3", "Big_Win", "Mega_Win", "Mega_Win_2", "Super_Win", "Super_Win_2", "3 SCATTER-FreeGame", "4 SCATTER-FreeGame", "5 SCATTER-FreeGame", "wild award", "(WILD+SCATTER) -FreeGame", "(WILD+SCATTER)-FreeGame(Retriger)"], t.m_HotShotList = ["NO WIN", "1 \u500d\u4ee5\u4e0b\u7dda\u734e", "10 \u500d\u4ee5\u4e0b\u7dda\u734e", "10~20 \u500d\u7dda\u734e", "20~50 \u500d\u7dda\u734e", "50 UP \u500d\u7dda\u734e", "1 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE ", "2 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "3 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "4 FEATURE\u642d\u914d\u5176\u4ed6\u5169\u8f2aFEATURE", "5 FEATURE\u642d\u914d\u4efb\u610f\u5169\u8f2aFEATURE\u6c92JP", "5 FEATURE\u642d\u914d\u5169\u8f2a\u4ee5\u4e0aFEATURE\u6709JP"], t.m_HighWayKingList = ["NO WIN", "TotalBet 10 under", "TotalBet 10~20", "TotalBet 20~30", "TotalBet 50 up", "FreeGame", "Free+MoreFree", "Hit Jp", "JP+Line+Free+MoreFree", "ANY WILD", "Free + JP", "Normal"], t.m_LittleRubberDuckyList = ["\u6b63\u5e38\u51fa\u734e", "NO WIN", "Total Bet 1\u500d\u4ee5\u4e0b", "Total Bet 10\u500d\u4ee5\u4e0b", "Total Bet 10~20\u500d\u734e", "Total Bet 20~50\u500d\u734e", "Total Bet 50UP\u500d\u734e", "FreeGame", "Free + MoreFree", "JP", "\u6b63\u5e38\u51fa\u734e"], t.m_LuckyDuckList = ["normal", "no win", "under totalBet *1", "under totalBet *10", "totalBet 10~20", "totalBet 20~50", "up totalBet 50", "MainGameRespin", "MainGameRespinGetFreeGame", "freeGame", "freeGame+lineWin", "freeGame with re-trigger", "freeGameRespin", "free with Respin Get Free", "free last spin Respin No Free", "CHEAT_WILD_X3", "CHEAT_WILD_X4", "CHEAT_WILD_X5", "CHEAT_FREEGAME_X5", "CHEAT_RESPIN_WIN", "RESPIN_LineWin&FG", "ReTrigger*5"], t.m_OceanPartyList = ["NO WIN", "Total Bet 10", "Total Bet 10~20 ", "Total Bet 20~30", "Total Bet 50 UP", "FreeGame", "Free + MoreFree", "Hit JP", "JP+Line+Free+Scatter+MoreFree", "\u6b63\u5e38\u51fa\u734e(\u9810\u8a2d)"], t.m_RobinHoodList = ["normal", "NO WIN", "WIN SMALL", "WIN X10~X20", "WIN X20~X50", "WIN X50~X100", "\u9ec3\u91d1\u7bad", "FREE GAME", "FREE GAME-LINE WIN", "\u6389\u843d + LINE WIN", "\u6389\u843d + \u9ec3\u91d1\u7bad", "\u6389\u843d + FREE GAME", "\u780d\u724c\u7528", "ENDING_LineWin", "FREE_WILD_LV3"], t.m_FaFaFaList = ["NoWin", "YouWin_1", "YouWin_2", "BigWin", "FreeSpins_1x10", "FreeSpins_2x10", "FreeSpinsx20", "FreeSpinsx50", "Featurex2", "Featurex3", "Featurex4", "AllSame_WildGold_1", "AllSame_WildGold_2", "AllSame_Cai_1", "AllSame_Cai_2", "AllSame_Fu_1", "AllSame_Fu_2", "AllSame_Boy_1", "AllSame_Boy_2", "AllSame_Girl_1", "AllSame_Girl_2", "AllSame_Drum_1", "AllSame_Drum_2", "AllSame_Jade_1", "AllSame_Jade_2", "AllSame_Firecracker_1", "AllSame_Firecracker_2", "AllSame_Coins_1", "AllSame_Coins_2", "Caix5", "Fux5", "Boyx5", "Girlx5", "Drumx5", "Jadex5", "Firecrackerx5", "Coinsx5", "Fux3", "Jadex4", "Drumx4_Caix3", "??", "Free * Free"], t.m_MexBingoList = ["NO Cheat", "NO Win", "Kill Win", "Small Win", "Win X10_X20", "Win X20_X50", "Win X50_X100", "Bonus Game", "2 Bonus Game", "Extra Game", "Extra Game Win", "Extra Game No Win", "Extra Game No Bonus"], t.m_AtlantisModernList = ["NO Cheat", "NO_WIN", "WIN_SMALL", "WIN_1-9", "WIN_10-20", "WIN_20-50", "WIN_50_UP", "FEATURE_GAME", "FEATURE_GAME_Get_BonusWin", "Green_Scatter_5", "Green_Scatter_6"], t.CaptainJackList = ["NO Cheat", "NO_WIN", "BIG_WIN_1", "BIG_WIN_2", "BONUS_1", "BONUS_2", "BONUS_3", "FREEGAME_05", "FREEGAME_10", "FREEGAME_15", "FREEGAME_20"], t.m_AtlantisAncientList = ["NoWin", "Under TotalBet * 1", "Under TotalBet * 10", "TotalBet 10~20", "TotalBet 20~50", "Up TotalBet 50", "FreeGame", "NoWin + OneFGSymbol", "MainGameWild+LineWin"], t.m_HappyHour = ["ASSIGN_BONUS", "ASSIGN_JP1", "ASSIGN_JP2", "ASSIGN_JP3", "ASSIGN_FEATURE1", "ASSIGN_FEATURE2", "ASSIGN_SUPER", "ASSIGN_SYM01", "ASSIGN_SYM02", "ASSIGN_SYM03", "ASSIGN_SYM04", "ASSIGN_SYM05", "ASSIGN_SYM06", "ASSIGN_SYM07", "ASSIGN_SYM08", "LINEWIN_JP", "LINEWIN_FEA1", "LINEWIN_FEA2", "LINEWIN_JP_FEA1", "LINEWIN_JP_FEA2", "LINEWIN_FEA_1_2", "LINEWIN_JP_FEA_1_2"], t.m_EgyptianGold = ["normal", "no win", "LineWin", "LineWin * 2", "YouWin", "BigWin", "MegaWin", "freeGame", "freeGame + LineWin", "freeGame Trigger", "freeGame Symbol Show"], t.m_SuperKeno = ["Hit 0", "Hit 1", "Hit 2", "Hit 3", "Hit 4", "Hit 5", "Hit 6", "Hit 7", "Hit 8", "Hit 9", "Hit 10", "Random", "Force Lucky Ball"], t.m_JPKeno = ["Hit 0", "Hit 1", "Hit 2", "Hit 3", "Hit 4", "Hit 5", "Hit 6", "Hit 7", "Hit 8", "Hit 9", "Hit 10", "Random", "Force Lucky Ball"], t.m_SalsaBingoList = ["Random", "no win", "Win1x-", "Win Type1", "Win Type2", "Win Type3", "Win Type4", "Win Type5", "Win Type6", "Win Type7", "Win Type8", "Win Type9", "Win Type10", "Win Type11", "Win Type12", "Win TypeB", "Win TypeO", "Win TypeN", "Win TypeU", "Win TypeS", "ExtraGame", "ExtraGame Win", "ExtraGame NoWin", "ExtraGame TypeB", "ExtraGame TypeO", "ExtraGame TypeN", "ExtraGame TypeU", "ExtraGame TypeS", "WinType TwoWord"], t.m_SmallMarioList = ["Cheat Non", "\u5927 BAR", "\u5927 7", "\u5927 \u661f\u661f", "\u5927 \u897f\u74dc", "\u5927 \u9234\u943a", "\u5927 \u6ab8\u6aac", "\u5927 \u6a58\u5b50", "\u5927 \u860b\u679c", "\u5c0f BAR", "\u5c0f 7", "\u5c0f \u661f\u661f", "\u5c0f \u897f\u74dc", "\u5c0f \u9234\u943a", "\u5c0f \u6ab8\u6aac", "\u5c0f \u6a58\u5b50", "\u5c0f \u860b\u679c", "\u89f8\u767c\u96a8\u6a5f\u9001\u71c8", "XXX", "XXX", "XXX", "XXX", "\u5927\u706b\u8eca", "XXX", "\u5927\u98db\u789f", "XXX", "\u947d\u77f3JP", "XXX", "XXX", "DoubleGame \u8d0f", "DoubleGame \u8f38"], t.m_BuffaloList = ["Random", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Respin/FreeGame", "FullReSpin", "DoubleReSpin", "FreeGameNoCow", "PreWin"], t.m_SuperAgentList = ["NO", "NO_WIN", "BONUS1", "BONUS2", "JP1_3", "JP1_4", "JP1_5", "JP2_3", "JP2_4", "JP2_5", "JP3_3", "JP3_4", "JP3_5", "FREE", "SUPER", "PASS", "KNIFE", "TELESCOPE", "PHONE", "GUN", "CAR", "SUITCASE"], t.m_ChickenDinnerList = ["No Cheat", "No Win", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Bonus Game", "Free Game", "Free Game Retrigger", "Free To Bonus", "Bonus To LV3", "Jackpot Diamond", "Jackpot Sapphire", "Jackpot Emerald", "No Cheat"], t.m_FortuneLanternList = ["no CheatKey", "NO WIN", "Win", "WIN_SMALL", "Win10-20x", "Win20-50x", "Win50-100x", "CHEAT_Wild", "FireWild", "FreeGame", "FreeGame_WIN", "FreeGame_FIRE", "FREEGAME_Wild", "FREEGAME_FIRE_SC", "FREEGAME_WILD_FIRE", "FREEGAME_WILD_LINE", "CHEATKEY_MAX"], t.m_PyramidAdvList = ["No Cheat", "No Win", "Win", "Win Small", "Win10-20x", "Win20-50x", "Win50x+", "All Open", "Jackpot 1", "Jackpot 2", "Jackpot 3", "Free Game"], t.m_CoalManList = ["DISABLE", "NO WIN", "TOTAL BET *1", "TOTAL BET *10", "TOTAL BET *10 ~ 20", "TOTAL BET *20 ~ 50", "TOTAL BET *50 ~", "FEATURE \u724c\u9762\u8b8a WILD", "FEATURE \u5927\u734e\u5ba3\u544a", "BONUS GAME", "BG_\u5fc5\u5b9a\u6536\u96c6\u5230\u85cd\u5bf6\u77f3", "POWER LINK", "PL_20\u9846\u4ee5\u4e0a", "PL_\u5168\u6eff", "PL_JP Diamond", "PL_JP Ruby", "PL_JP Gold", "PL_JP Slver", "PL_JP Diamondx2", "PL_JP Rubyx2", "PL_JP Goldx2", "PL_JP Slverx2", "PL_\u5bb9\u6613\u51fa\u73feJP"], t.m_WitchList = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "\u8b8a\u724cScatter", "\u8b8a\u724c Power\u65b0\u706b\u7403", "\u8b8a\u724cPower \u5206\u6578\u8b8a\u5927", "\u8b8a\u724cPower \u65b0\u706b\u7403+\u5206\u6578\u8b8a\u5927", "Feature \u5927\u734e\u5ba3\u544a", "FreeGame", "PowerLink", "PowerLink 20up\uff0c\u958b\u6700\u5f8c\u4e00\u968e", "PowerLink \u8490\u96c6\u5168\u6eff", "PowerLink jp0", "PowerLink jp1", "PowerLink jp2", "PowerLink jp3", "PowerLink jp0 x2", "PowerLink jp1 x2", "PowerLink jp2 x2", "PowerLink jp3 x2", "PL_\u5bb9\u6613\u51fa\u73feJP"], t.m_Flaming777List = ["DISABLE", "NO_WIN", "KILL_WIN", "WIN_SMALL", "WIN_X10_X20", "WIN_X20_X50", "WIN_X50_X100", "\u706b\u7130 7 x 3", "\u4e00\u822c 7 x 3", "3 BAR x 3", "2 BAR x 3", "1 BAR x 3", "BLANK x 3", "\u4efb\u610f7 x 3", "\u4efb\u610fBAR x 3"], t.m_Flaming777DeluxeList = ["DISABLE", "NO_WIN", "KILL_WIN", "WIN_SMALL", "WIN_X10_X20", "WIN_X20_X50", "WIN_X50_X100", "\u706b\u7130 7 x 3", "\u4e00\u822c 7 x 3", "3 BAR x 3", "2 BAR x 3", "1 BAR x 3", "BLANK x 3", "\u4efb\u610f7 x 3", "\u4efb\u610fBAR x 3"], t.m_crazyWheelList = ["No Cheat", "NO WIN", "Win1x", "Win1-10x", "Win10-20x", "Win20-50x", "Win50x+", "Bonus:Random", "Bonus:w5_Score", "Bonus:w5_Multiple", "Bonus:w5_JP", "Bonus:Exit", "Bonus:w3->w5", "Bonus:w4->w5"], e = n([r], t)
            }());
        o.CheatKeyData = a, cc._RF.pop()
    }, {}],
    CheatKeyManager: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bf6bc1MLZBKHZBD7UQpMjFo", "CheatKeyManager");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CheatKeyManager = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_UIRoot = null, e.m_contentRoot = null, e.m_cheatMenu = null, e.m_cheatBtn = null, e.DelCheatKeyClick = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.DelCheatKeyClick = new SS.Common.Delegate, 1 == SS.Common.GameEnvironment.ProjectSetting.IsUseCheatKey && cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.ToggleCheatkeyData, this)
                }, e.prototype.SetCheatKey = function(t) {
                    if (t) {
                        this.m_UIRoot.active = !0, this.m_contentRoot.removeAllChildren();
                        for (var e = t.length, o = 0; o < e; o++) {
                            var n = cc.instantiate(this.m_cheatBtn),
                                i = new cc.Component.EventHandler,
                                r = n.getComponentInChildren(cc.Label);
                            n.setParent(this.m_contentRoot), r.string = t[o], i.target = this.node, i.component = "CheatKeyManager", i.handler = "OnClickCheatBtn", i.customEventData = o.toString(), n.getComponent(cc.Button).clickEvents.push(i)
                        }
                    }
                }, e.prototype.OnClickRedPoint = function() {
                    console.log("[CheatKeyManager.OnClickRedPoint] click"), this.m_cheatMenu.active = !this.m_cheatMenu.activeInHierarchy
                }, e.prototype.OnClickCheatBtn = function(t, e) {
                    console.log("[CheatKeyManager.OnClickCheatBtn] ", t, e), this.m_cheatMenu.active = !1, this.DelCheatKeyClick.Notify(e)
                }, e.prototype.ToggleCheatkeyData = function(t) {
                    t.keyCode == cc.macro.KEY.f1 && (cc.debug.setDisplayStats(!this.m_UIRoot.active), this.m_UIRoot.active = !this.m_UIRoot.active)
                }, r([c(cc.Node)], e.prototype, "m_UIRoot", void 0), r([c(cc.Node)], e.prototype, "m_contentRoot", void 0), r([c(cc.Node)], e.prototype, "m_cheatMenu", void 0), r([c(cc.Prefab)], e.prototype, "m_cheatBtn", void 0), r([s], e)
            }(cc.Component);
        o.CheatKeyManager = l, cc._RF.pop()
    }, {}],
    ClickLogDef: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b7a523TXMtC2aK+OvMfoZjW", "ClickLogDef"), Object.defineProperty(o, "__esModule", {
                value: !0
            }), o.ItemMissionClickLogID = void 0,
            function(t) {
                t[t.MINI_LAYOUT = 1] = "MINI_LAYOUT", t[t.MAX_LAYOUT = 2] = "MAX_LAYOUT", t[t.NEXT_PAGE = 3] = "NEXT_PAGE", t[t.PRE_PAGE = 4] = "PRE_PAGE", t[t.SWITCH_LAYOUT_HORIZONTAL = 5] = "SWITCH_LAYOUT_HORIZONTAL", t[t.SWITCH_LAYOUT_STRAIGHT = 6] = "SWITCH_LAYOUT_STRAIGHT", t[t.SHOW_INFO = 7] = "SHOW_INFO"
            }(o.ItemMissionClickLogID || (o.ItemMissionClickLogID = {})), cc._RF.pop()
    }, {}],
    ClickLogEnum: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e7c5arIuZZC47DX04z71LtN", "ClickLogEnum"), Object.defineProperty(o, "__esModule", {
                value: !0
            }), o.LogEvent_Click = o.LogType_ClickEvent = o.LogEvent_GameCloseTip = o.LogEvent_OpenOthersPanel = o.LogEvent_ShowRule = o.LogEvent_Button = o.LogEvent_Avatar = o.LogEvent_Nickname = o.LogEvent_OpenPanel = o.LogEvent_Guide = o.LogEvent_Lobby = o.LogType_Profile = o.LogName = void 0,
            function(t) {
                t.Profile = "Profile", t.ClickEvent = "ClickEvent"
            }(o.LogName || (o.LogName = {})),
            function(t) {
                t[t.Lobby = 1] = "Lobby", t[t.Guide = 2] = "Guide", t[t.OpenPanel = 3] = "OpenPanel", t[t.Nickname = 4] = "Nickname", t[t.Avatar = 5] = "Avatar", t[t.Button = 6] = "Button", t[t.ShowRule = 7] = "ShowRule", t[t.OpenOthersPanel = 8] = "OpenOthersPanel", t[t.GameCloseTip = 9] = "GameCloseTip"
            }(o.LogType_Profile || (o.LogType_Profile = {})),
            function(t) {
                t[t.Enter = 1] = "Enter"
            }(o.LogEvent_Lobby || (o.LogEvent_Lobby = {})),
            function(t) {
                t[t.showHandTips = 1] = "showHandTips", t[t.Next1 = 4] = "Next1", t[t.Next2 = 5] = "Next2", t[t.Next3 = 6] = "Next3", t[t.Next4 = 7] = "Next4", t[t.Next5 = 8] = "Next5", t[t.Next6 = 9] = "Next6", t[t.Next7 = 10] = "Next7", t[t.Next8 = 11] = "Next8", t[t.Next9 = 12] = "Next9", t[t.Next10 = 13] = "Next10", t[t.Next11 = 14] = "Next11", t[t.Next12 = 15] = "Next12", t[t.Next13 = 16] = "Next13"
            }(o.LogEvent_Guide || (o.LogEvent_Guide = {})),
            function(t) {
                t[t.InLobby = 1] = "InLobby", t[t.InSlot = 2] = "InSlot", t[t.InKeno = 3] = "InKeno", t[t.InLobbyBattleShipIcon = 4] = "InLobbyBattleShipIcon", t[t.InFishBattleShipInfo = 5] = "InFishBattleShipInfo", t[t.InFishBattleShip = 6] = "InFishBattleShip", t[t.InFishBattleShipPanelInfo = 7] = "InFishBattleShipPanelInfo", t[t.InFishBattleShipPanelSingle = 8] = "InFishBattleShipPanelSingle", t[t.InFish = 9] = "InFish", t[t.InBattleShipBeenOccupy = 10] = "InBattleShipBeenOccupy", t[t.InAvatarNotice = 11] = "InAvatarNotice", t[t.InRewardNotice = 12] = "InRewardNotice", t[t.InBroadcast = 13] = "InBroadcast", t[t.InBanner = 14] = "InBanner", t[t.InPopup = 15] = "InPopup", t[t.InRankBonus = 16] = "InRankBonus", t[t.InFishRankBonus = 17] = "InFishRankBonus", t[t.InPuzzleEgg = 18] = "InPuzzleEgg", t[t.InRankBonusAward = 19] = "InRankBonusAward", t[t.InFishRankBonusAward = 20] = "InFishRankBonusAward", t[t.InRankBonus_1stPlace = 21] = "InRankBonus_1stPlace", t[t.InRankBonus_2ndPlace = 22] = "InRankBonus_2ndPlace", t[t.InRankBonus_3rdPlace = 23] = "InRankBonus_3rdPlace", t[t.InRankBonus_OutsideTop3 = 24] = "InRankBonus_OutsideTop3", t[t.InFishRankBonus_1stPlace = 25] = "InFishRankBonus_1stPlace", t[t.InFishRankBonus_2ndPlace = 26] = "InFishRankBonus_2ndPlace", t[t.InFishRankBonus_3rdPlace = 27] = "InFishRankBonus_3rdPlace", t[t.InFishRankBonus_OutsideTop3 = 28] = "InFishRankBonus_OutsideTop3", t[t.InPuzzleEgg_1stPlace = 29] = "InPuzzleEgg_1stPlace", t[t.InPuzzleEgg_2ndPlace = 30] = "InPuzzleEgg_2ndPlace", t[t.InPuzzleEgg_3rdPlace = 31] = "InPuzzleEgg_3rdPlace", t[t.InPuzzleEgg_OutsideTop3 = 32] = "InPuzzleEgg_OutsideTop3", t[t.InRankBonusAward_1stPlace = 33] = "InRankBonusAward_1stPlace", t[t.InRankBonusAward_2ndPlace = 34] = "InRankBonusAward_2ndPlace", t[t.InRankBonusAward_3rdPlace = 35] = "InRankBonusAward_3rdPlace", t[t.InRankBonusAward_OutsideTop3 = 36] = "InRankBonusAward_OutsideTop3", t[t.InFishRankBonusAward_1stPlace = 37] = "InFishRankBonusAward_1stPlace", t[t.InFishRankBonusAward_2ndPlace = 38] = "InFishRankBonusAward_2ndPlace", t[t.InFishRankBonusAward_3rdPlace = 39] = "InFishRankBonusAward_3rdPlace", t[t.InFishRankBonusAward_OutsideTop3 = 40] = "InFishRankBonusAward_OutsideTop3"
            }(o.LogEvent_OpenPanel || (o.LogEvent_OpenPanel = {})),
            function(t) {
                t[t.ChangeDone = 1] = "ChangeDone", t[t.Failed_SpecialSymbol = 2] = "Failed_SpecialSymbol", t[t.Failed_PrefixM = 3] = "Failed_PrefixM", t[t.Failed_BannedWords = 4] = "Failed_BannedWords", t[t.Failed_TooLong = 5] = "Failed_TooLong", t[t.Failed_TooShort = 6] = "Failed_TooShort", t[t.Failed_Duplicate = 7] = "Failed_Duplicate"
            }(o.LogEvent_Nickname || (o.LogEvent_Nickname = {})),
            function(t) {
                t[t.ChangeDone = 1] = "ChangeDone"
            }(o.LogEvent_Avatar || (o.LogEvent_Avatar = {})),
            function(t) {
                t[t.HotGame = 1] = "HotGame", t[t.TotalWin = 2] = "TotalWin", t[t.MaxJP = 3] = "MaxJP", t[t.MultiSlot = 4] = "MultiSlot", t[t.MultiFish = 5] = "MultiFish", t[t.TotalWin_Value = 6] = "TotalWin_Value", t[t.MaxJP_Value = 7] = "MaxJP_Value", t[t.MultiSlot_Value = 8] = "MultiSlot_Value", t[t.MultiFish_Value = 9] = "MultiFish_Value", t[t.Avatar = 10] = "Avatar", t[t.Guide = 11] = "Guide"
            }(o.LogEvent_Button || (o.LogEvent_Button = {})), o.LogEvent_ShowRule || (o.LogEvent_ShowRule = {}),
            function(t) {
                t[t.InLobbyBattleShipIcon = 1] = "InLobbyBattleShipIcon", t[t.InFishBattleShipInfo = 2] = "InFishBattleShipInfo", t[t.InFishBattleShip = 3] = "InFishBattleShip", t[t.InFishBattleShipPanelInfo = 4] = "InFishBattleShipPanelInfo", t[t.InFishBattleShipPanelSingle = 5] = "InFishBattleShipPanelSingle", t[t.InFish = 6] = "InFish", t[t.InBroadcast_MaxJP = 7] = "InBroadcast_MaxJP", t[t.InBroadcast_MultiSlot = 8] = "InBroadcast_MultiSlot", t[t.InBroadcast_MultiFish = 9] = "InBroadcast_MultiFish", t[t.InProfileNo1_TotalWin = 10] = "InProfileNo1_TotalWin", t[t.InProfileNo1_MaxJP = 11] = "InProfileNo1_MaxJP", t[t.InProfileNo1_MultiSlot = 12] = "InProfileNo1_MultiSlot", t[t.InProfileNo1_MultiFish = 13] = "InProfileNo1_MultiFish", t[t.InRankBonus_1stPlace = 14] = "InRankBonus_1stPlace", t[t.InRankBonus_2ndPlace = 15] = "InRankBonus_2ndPlace", t[t.InRankBonus_3rdPlace = 16] = "InRankBonus_3rdPlace", t[t.InRankBonus_OutsideTop3 = 17] = "InRankBonus_OutsideTop3", t[t.InFishRankBonus_1stPlace = 18] = "InFishRankBonus_1stPlace", t[t.InFishRankBonus_2ndPlace = 19] = "InFishRankBonus_2ndPlace", t[t.InFishRankBonus_3rdPlace = 20] = "InFishRankBonus_3rdPlace", t[t.InFishRankBonus_OutsideTop3 = 21] = "InFishRankBonus_OutsideTop3", t[t.InPuzzleEgg_1stPlace = 22] = "InPuzzleEgg_1stPlace", t[t.InPuzzleEgg_2ndPlace = 23] = "InPuzzleEgg_2ndPlace", t[t.InPuzzleEgg_3rdPlace = 24] = "InPuzzleEgg_3rdPlace", t[t.InPuzzleEgg_OutsideTop3 = 25] = "InPuzzleEgg_OutsideTop3", t[t.InRankBonusAward_1stPlace = 26] = "InRankBonusAward_1stPlace", t[t.InRankBonusAward_2ndPlace = 27] = "InRankBonusAward_2ndPlace", t[t.InRankBonusAward_3rdPlace = 28] = "InRankBonusAward_3rdPlace", t[t.InRankBonusAward_OutsideTop3 = 29] = "InRankBonusAward_OutsideTop3", t[t.InFishRankBonusAward_1stPlace = 30] = "InFishRankBonusAward_1stPlace", t[t.InFishRankBonusAward_2ndPlace = 31] = "InFishRankBonusAward_2ndPlace", t[t.InFishRankBonusAward_3rdPlace = 32] = "InFishRankBonusAward_3rdPlace", t[t.InFishRankBonusAward_OutsideTop3 = 33] = "InFishRankBonusAward_OutsideTop3"
            }(o.LogEvent_OpenOthersPanel || (o.LogEvent_OpenOthersPanel = {})),
            function(t) {
                t[t.FishLuckyShamrockGoMCPre_Ok = 1] = "FishLuckyShamrockGoMCPre_Ok", t[t.FishLuckyShamrockGoMCPre_Close = 2] = "FishLuckyShamrockGoMCPre_Close", t[t.FishLuckyShamrockGoMC_Ok = 3] = "FishLuckyShamrockGoMC_Ok", t[t.FishLuckyShamrockGoMC_Go = 4] = "FishLuckyShamrockGoMC_Go"
            }(o.LogEvent_GameCloseTip || (o.LogEvent_GameCloseTip = {})),
            function(t) {
                t[t.MCEntry = 1] = "MCEntry"
            }(o.LogType_ClickEvent || (o.LogType_ClickEvent = {})),
            function(t) {
                t[t.MC_Icon = 1] = "MC_Icon", t[t.MC_Banner = 2] = "MC_Banner"
            }(o.LogEvent_Click || (o.LogEvent_Click = {})), cc._RF.pop()
    }, {}],
    ClickLog: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "11c52IV1nBIMppeu3ZDuTIM", "ClickLog");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ClickLog = void 0;
        var r = t("./LobbyClient"),
            a = function() {
                function t() {}
                return t.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, t.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, t.recordClickLog = function(t, e, o, n) {
                    console.warn("%c[recordClickLog] logName = " + t + ", type = " + o + ", subType = " + n, "font-size:16px;color:#3333bb;font-weight:bold;"), this.intervalSendLog(), this.m_logMap.has(t) || this.m_logMap.set(t, []);
                    for (var i = this.m_logMap.get(t), r = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow), a = !0, s = 0; s < i.length; s++) {
                        var c = i[s];
                        if (c.GameID == r && c.SceneID == e && c.Type == o && c.SubType == n) {
                            a = !1, c.Count += 1;
                            break
                        }
                    }
                    if (a) {
                        var l = {
                            KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                            PinID: SS.Network.LoginModel.LoginInfo.pin_id,
                            GameID: r,
                            SceneID: e,
                            Type: o,
                            SubType: n,
                            Count: 1,
                            Name: t
                        };
                        i.push(l)
                    }
                    cc.log("ClickLog.recordClickLog  before set cookie", i), this.setCookie(t, JSON.stringify(i))
                }, t.recordClickLogNewVersion = function(t, e) {
                    console.log("%c[recordClickLog] logName = " + t, "font-size:16px;color:#3333bb;font-weight:bold; data = ", e), this.intervalSendLog(), this.m_logMap.has(t) || this.m_logMap.set(t, []);
                    for (var o = this.m_logMap.get(t), n = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow), i = !0, r = 0; r < o.length; r++) {
                        var a = o[r];
                        if (a.GameID == e.GameID && a.SceneID == e.SceneID && a.Type == e.Type && a.SubType == e.SubType && a.TempStr1 == e.TempStr1 && a.TempStr2 == e.TempStr2 && a.TempStr3 == e.TempStr3 && a.TempStr4 == e.TempStr4 && a.TempStr5 == e.TempStr5 && a.TempInt1 == e.TempInt1 && a.TempInt2 == e.TempInt2 && a.TempInt3 == e.TempInt3 && a.TempInt4 == e.TempInt4 && a.TempInt5 == e.TempInt5) {
                            i = !1, a.Count += 1;
                            break
                        }
                    }
                    i && (e.KioskID = SS.Network.LoginModel.LoginInfo.kiosk_id, e.PinID = SS.Network.LoginModel.LoginInfo.pin_id, e.GameID = n, e.Count = 1, e.Name = t, o.push(e)), cc.log("ClickLog.recordClickLog  before set cookie", o), this.setCookie(t, JSON.stringify(o))
                }, t.recordMainPlayerLog = function(t, e) {
                    this.intervalSendLog(), this.m_logMap.has(t) || this.m_logMap.set(t, []);
                    var o = this.m_logMap.get(t),
                        n = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                    e.KioskID = SS.Network.LoginModel.LoginInfo.kiosk_id, e.PinID = SS.Network.LoginModel.LoginInfo.pin_id, e.GameID = n, o.push(e), this.setCookie(t, JSON.stringify(o))
                }, t.DataComplement = function(e) {
                    t.NullCheck(e, "SceneID", -1), t.NullCheck(e, "Type", -1), t.NullCheck(e, "SubType", -1), t.NullCheck(e, "TempStr1", ""), t.NullCheck(e, "TempStr2", ""), t.NullCheck(e, "TempStr3", ""), t.NullCheck(e, "TempStr4", ""), t.NullCheck(e, "TempStr5", ""), t.NullCheck(e, "TempInt1", -1), t.NullCheck(e, "TempInt2", -1), t.NullCheck(e, "TempInt3", -1), t.NullCheck(e, "TempInt4", -1), t.NullCheck(e, "TempInt5", -1)
                }, t.NullCheck = function(t, e, o) {
                    return void 0 === o && (o = null), (void 0 === t[e] || null === t[e]) && (t[e] = o, !0)
                }, t.intervalSendLog = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function() {
                            return null == t.m_intervalSendLog && (t.m_intervalSendLog = setInterval(function() {
                                return t.m_logMap.forEach(t.checkByKey)
                            }, 3e4)), [2]
                        })
                    })
                }, t.CheckDoLogoutSendFinished = function() {
                    return n(this, void 0, void 0, function() {
                        var e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    e = 0, o.label = 1;
                                case 1:
                                    return 0 == t.IsDoLogoutSendFinished && e < 10 ? [4, SS.Common.WaitForSeconds(.5)] : [3, 3];
                                case 2:
                                    return o.sent(), e++, [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, t.SendLogWhenDoLogout = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t.IsDoLogoutSendFinished = !1, console.log("ClickLog.SendLogWhenDoLogout ", t.m_logMap), t.m_logMap.forEach(t.checkByKey), clearInterval(t.m_intervalSendLog), t.m_intervalSendLog = null, [4, this.CheckDoLogoutSendFinished()];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.checkByKey = function(e, o) {
                    t.checkSettingThenSendLog(o)
                }, t.readCookieAndSendLog = function(t) {
                    var e;
                    console.log("ClickLog.readCookieAndSendLog");
                    var o = this.getCookie(t);
                    if (console.log(o), null != o && "" != o) {
                        e = [];
                        var n = JSON.parse(o);
                        for (var i in n) e.push(n[i]);
                        console.log(e), this.m_logMap.set(t, e), this.checkSettingThenSendLog(t)
                    }
                }, t.SendRecordedList = function(e) {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    t.SendFinished = !1, t.checkSettingThenSendLog(e), o.label = 1;
                                case 1:
                                    return t.SendFinished ? [3, 3] : [4, SS.Common.WaitForSeconds(.5)];
                                case 2:
                                    return o.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, t.checkSettingThenSendLog = function(e) {
                    console.log("ClickLog.checkSettingThenSendLog");
                    var o = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                    o = window.location.protocol + "//" + o, console.log(o);
                    var n = new ArkSDK.ArkClient(o);
                    n.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient), n.send_cmd("log", "GetSetting", null, t.sendLog.bind(t, e), null)
                }, t.sendLog = function(e, o, n) {
                    if (console.log("ClickLog.sendLog (" + e), console.log(o), console.log(n), t.SendFinished = !0, t.IsDoLogoutSendFinished = !0, o == ArkSDK.HttpResult.OK && n && n.cmd_data && 1 == n.cmd_data.enable && (null == n.cmd_data.setting_list[e] || 1 == n.cmd_data.setting_list[e])) {
                        this.setCookie(e, "");
                        var i = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                        i = window.location.protocol + "//" + i, console.log(i);
                        var a = new ArkSDK.ArkClient(i);
                        a.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient);
                        var s = {};
                        "FishSessionLog" == e ? (s.SessionList = this.m_logMap.get(e), a.send_cmd("log", "SendClientClickLog", s, null, null)) : (console.log("sendClickLog", s), s.ClickList = this.m_logMap.get(e), a.send_cmd("log", "SendClientClickLog", s, null, null)), this.m_logMap.set(e, [])
                    }
                }, t.directlySendLog = function(t) {
                    console.log("ClickLog.directlysendLog"), console.log(t);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST;
                    e = window.location.protocol + "//" + e, console.log(e);
                    var o = new ArkSDK.ArkClient(e);
                    o.clone(r.LobbyClient.Instance.GetUserClient.GetPinClient);
                    var n = {
                        ClickList: []
                    };
                    n.ClickList[0] = t, console.warn("directlysendLog"), console.warn(n), o.send_cmd("log", "SendClientClickLog", n, null, null)
                }, t.playerChooseSGLog = function(t, e, o, n, i) {
                    console.log("ClickLog.playerChooseSGLog");
                    var r = {
                        KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                        PinID: SS.Network.LoginModel.LoginInfo.pin_id,
                        GameID: SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow),
                        SceneID: e,
                        Type: o,
                        SubType: n,
                        Count: i,
                        Name: t
                    };
                    this.directlySendLog(r)
                }, t.m_logMap = new Map, t.m_intervalSendLog = null, t.m_bInit = !0, t.IsDoLogoutSendFinished = !0, t.SendFinished = !0, t
            }();
        o.ClickLog = a, cc._RF.pop()
    }, {
        "./LobbyClient": "LobbyClient"
    }],
    ColorAssembler2D: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fa06bsabodAuo8vENzgk1Bx", "ColorAssembler2D");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = a.executeInEditMode,
            u = a.requireComponent,
            p = a.menu,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._colors = [], e
                }
                return i(e, t), Object.defineProperty(e.prototype, "colors", {
                    get: function() {
                        return this._colors
                    },
                    set: function(t) {
                        this._colors = t, this._updateColors()
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onEnable = function() {
                    cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this)
                }, e.prototype.onDisable = function() {
                    cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this), this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR
                }, e.prototype._updateColors = function() {
                    var t = this.getComponent(cc.RenderComponent);
                    if (t) {
                        var e = t._assembler;
                        if (e instanceof cc.Assembler2D) {
                            var o = e._renderData.uintVDatas[0];
                            if (o)
                                for (var n = this.node.color, i = e.floatsPerVert, r = 0, a = e.colorOffset, s = o.length; a < s; a += i) o[a] = (this.colors[r++] || n)._val
                        }
                    }
                }, r([c], e.prototype, "_colors", void 0), r([c({
                    type: [cc.Color]
                })], e.prototype, "colors", null), r([s, l, u(cc.RenderComponent), p("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")], e)
            }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {}],
    CommBonusBtnCtrl_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "841b8n2S9NLrLNMVyrnv0Zk", "CommBonusBtnCtrl_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusBtnCtrl_Rank = void 0;
        var a = t("../../../../Component/NodeDrag"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeGreenTag = null, e.m_labGreenTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setNumDot(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setNumDot = function(t, e) {
                    void 0 === t && (t = 0), void 0 === e && (e = 0);
                    var o = 0 != t && e + t < 9;
                    this.m_nodeRedTag.active = o, this.m_labRedTag.node.active = o;
                    var n = e + t >= 9;
                    this.m_nodeGreenTag.active = n, this.m_labGreenTag.node.active = n, o && (this.m_labRedTag.string = t.toString()), n && (this.m_labGreenTag.string = (e + t).toString(), this.m_nodeGreenTag.width = 50 + 18 * this.m_labGreenTag.string.length)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setLocked = function(t) {
                    this.m_nodeDragFloatBtn.setLocked(t)
                }, e.prototype.move = function(t, e) {
                    this.m_nodeDragFloatBtn.move(t, e)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeGreenTag", void 0), r([l(cc.Label)], e.prototype, "m_labGreenTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(a.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusBtnCtrl_Rank = u, cc._RF.pop()
    }, {
        "../../../../Component/NodeDrag": "NodeDrag"
    }],
    CommBonusBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "34d93H3qAVDOK0qHRJBwbK2", "CommBonusBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusBtnCtrl = void 0;
        var a = t("../../../Component/NodeDrag"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setRedTag(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setLocked = function(t) {
                    this.m_nodeDragFloatBtn.setLocked(t)
                }, e.prototype.move = function(t, e) {
                    this.m_nodeDragFloatBtn.move(t, e)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(a.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusBtnCtrl = u, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag"
    }],
    CommBonusCoinCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "40a28IIGKJEpp9aFPiF9YR+", "CommBonusCoinCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusCoinCtrl = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.goldCoin = null, e.coinCount = 0, e.m_nodeTaret = null, e
                }
                return i(e, t), e.prototype.coinMoveToTarget = function(t, e, o) {
                    var n = this;
                    if (void 0 === o && (o = this.node), null != this.m_nodeTaret) {
                        this.m_iFinishedCoid = 0;
                        for (var i = 0; i < this.coinCount; i++) {
                            var r = cc.instantiate(this.goldCoin);
                            r.parent = o.parent, r.setPosition(o.getPosition());
                            var a = cc.hide(),
                                s = cc.delayTime(.25 * i),
                                c = cc.show(),
                                l = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 100)),
                                u = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 0)),
                                p = cc.moveTo(.25, new cc.Vec2(o.getPosition().x + 200 * Math.random() - 100, o.getPosition().y + 100)),
                                m = cc.moveTo(t, new cc.Vec2(this.m_nodeTaret.getPosition().x, this.m_nodeTaret.getPosition().y)),
                                h = cc.removeSelf(),
                                d = cc.callFunc(function() {
                                    n.m_iFinishedCoid++, n.m_iFinishedCoid >= n.coinCount && e && e()
                                }),
                                _ = cc.sequence(a, s, c, l, u, p, m, h, d);
                            r.runAction(_)
                        }
                    }
                }, r([c(cc.Prefab)], e.prototype, "goldCoin", void 0), r([c(Number)], e.prototype, "coinCount", void 0), r([c(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([s], e)
            }(cc.Component);
        o.CommBonusCoinCtrl = l, cc._RF.pop()
    }, {}],
    CommBonusData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "eda81oCZPtGHbNrXfcU5kYl", "CommBonusData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.OceanHeartClickLogID = o.RankClickLogID = o.QustObjectiveType = o.UserQuestDataStatus = o.RankingPlayerData = o.RankAwardData = o.BonusData = o.Award = o.CommBonusData = void 0;
        o.CommBonusData = function() {
            this.CustomInfoMsg = "", this.AwardAry = [], this.Status = -1, this.bonusData = null, this.m_arrRankAwardData = [], this.RankSize = 0, this.CanShow = !1, this.QuestType = n.NONE, this.needRebuff = !1, this.newProgress = 0, this.m_fProgressRate = 0
        };
        o.Award = function() {};
        o.BonusData = function() {};
        o.RankAwardData = function() {};
        var n;
        o.RankingPlayerData = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.UserQuestDataStatus || (o.UserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(n = o.QustObjectiveType || (o.QustObjectiveType = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.MAIN_X_BTN = 1] = "MAIN_X_BTN", t[t.INFO_BTN = 2] = "INFO_BTN", t[t.INFO_X_BTN = 3] = "INFO_X_BTN", t[t.RANKING_ID_X_BTN = 4] = "RANKING_ID_X_BTN", t[t.SWITCH_TO_GAME_PAGE = 5] = "SWITCH_TO_GAME_PAGE", t[t.SWITCH_TO_RANK_PAGE = 6] = "SWITCH_TO_RANK_PAGE", t[t.TOP_PROGRESS = 7] = "TOP_PROGRESS", t[t.AWARD_OK_BTN = 8] = "AWARD_OK_BTN", t[t.AWARD_X_BTN = 9] = "AWARD_X_BTN", t[t.AWARD_RANK_BTN = 10] = "AWARD_RANK_BTN", t[t.AWARD_RANK_X_BTN = 11] = "AWARD_RANK_X_BTN"
            }(o.RankClickLogID || (o.RankClickLogID = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.MAIN_X_BTN = 1] = "MAIN_X_BTN", t[t.INFO_BTN_OPEN_MAIN = 2] = "INFO_BTN_OPEN_MAIN", t[t.INFO_BTN_X_MAIN = 3] = "INFO_BTN_X_MAIN", t[t.RANKING_ID_X_BTN = 4] = "RANKING_ID_X_BTN", t[t.SWITCH_TO_GAME_PAGE = 5] = "SWITCH_TO_GAME_PAGE", t[t.SWITCH_TO_RANK_PAGE = 6] = "SWITCH_TO_RANK_PAGE", t[t.TOP_PROGRESS = 7] = "TOP_PROGRESS", t[t.AWARD_COLLECT_BTN = 8] = "AWARD_COLLECT_BTN", t[t.AWARD_X_BTN = 9] = "AWARD_X_BTN", t[t.AWARD_RANK_BTN = 10] = "AWARD_RANK_BTN", t[t.AWARD_RANK_X_BTN = 11] = "AWARD_RANK_X_BTN", t[t.INFO_BTN_OPEN_RANK = 12] = "INFO_BTN_OPEN_RANK", t[t.INFO_BTN_X_RANK = 13] = "INFO_BTN_X_RANK"
            }(o.OceanHeartClickLogID || (o.OceanHeartClickLogID = {})), cc._RF.pop()
    }, {}],
    CommBonusInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e44b2IMVZNEhLQheF0Z1ocV", "CommBonusInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusInfoCtrl = void 0;
        var a = t("../../MissionMgr/Script/MissionMsgCtrl"),
            s = t("./CommBonusMsgCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strThemeID = "", e.isFinishClaim = !1, e.m_missionMsgCtrl = null, e.m_CommBonusMsgCtrl = null, e.m_numProgressFullWidth = 388, e.m_numProgressSpeed = .02, e.m_bIsProgressUp = !1, e.m_iRedDotNum = 0, e.errorCode = "", e
                }
                return i(e, t), e.prototype.update = function() {}, e.prototype.setGame = function(t, e, o, n) {
                    this.m_nodeMissionMgr = t, this.m_strThemeID = e, this.m_sGameName = o, this.m_sThemeTitle = n
                }, e.prototype.SetMissionToProcessingStatus = function(t, e) {
                    void 0 === t && (t = ""), void 0 === e && (e = "CommBonusMgr"), this.isFinishClaim = !1, this.m_sprProgressBar.node.active = !0, this.m_labProgress.node.active = !0, this.m_nodeToken.active = !0, this.m_CommBonusMsgCtrl.setMsg(t), this.m_labGameName.string = this.m_sThemeTitle, this.m_btnPlay.clickEvents[0] = new cc.Component.EventHandler, this.m_btnPlay.clickEvents[0].target = this.m_nodeMissionMgr, this.m_btnPlay.clickEvents[0].component = e, this.m_btnPlay.clickEvents[0].handler = "OpenSelectOptionPage", this.m_btnPlay.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.setInteract = function(t) {
                    this.m_btnPlay.interactable = t
                }, e.prototype.SetProcessBar = function(t, e) {
                    t >= e && (t = e);
                    var o = t / e;
                    this.setProgress(o)
                }, e.prototype.setProgress = function(t) {
                    t = t > 1 ? 1 : t < 0 ? 0 : t, console.warn("this.m_numProgressFullWidth* num : " + this.m_numProgressFullWidth * t), this.m_sprProgressBar.fillRange = t, this.m_labProgress.string = SS.Common.BaseFunction.addCommas(100 * t, 2, !1) + "%"
                }, e.prototype.setProgressRebuff = function(t) {
                    this.m_numProgressUpTo = t, this.m_numProgressCtr = 0, this.m_bIsProgressUp = !0
                }, e.prototype.setRedDot = function(t) {
                    this.m_iRedDotNum = t;
                    var e = t > 0;
                    this.m_nodeRedDot.active = e, this.m_labRedDot.enabled = e, this.m_labRedDot.string = t.toString()
                }, e.prototype.decrRedDot = function() {
                    this.m_iRedDotNum--, this.setRedDot(this.m_iRedDotNum)
                }, r([u(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([u(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([u(cc.Label)], e.prototype, "m_labGameName", void 0), r([u(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([u(cc.Label)], e.prototype, "m_labProgress", void 0), r([u(cc.Node)], e.prototype, "m_nodeToken", void 0), r([u(cc.Node)], e.prototype, "m_nodeRedDot", void 0), r([u(cc.Label)], e.prototype, "m_labRedDot", void 0), r([u(cc.Button)], e.prototype, "m_btnPlay", void 0), r([u(a.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([u(s.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([l], e)
            }(cc.Component);
        o.CommBonusInfoCtrl = p, cc._RF.pop()
    }, {
        "../../MissionMgr/Script/MissionMsgCtrl": "MissionMsgCtrl",
        "./CommBonusMsgCtrl": "CommBonusMsgCtrl"
    }],
    CommBonusListCtrl_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f936ceXeV9Hwb2t6QAV+Ytz", "CommBonusListCtrl_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusListCtrl_Rank = void 0;
        var c = t("./CommBonusMgr_Rank"),
            l = t("../CommBonusInfoCtrl"),
            u = t("../CommBonusData"),
            p = t("../../../../Component/BundleCtrl"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_sprAtlasGameIcon = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e.m_sSpinAmountGateStr = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.setLang(), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_fucSprDLEndSetIdle = this.m_Mgr.setStatusIdle.bind(this.m_Mgr), this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                a = this.m_nodePoolMissions.get();
                            null == a && (a = cc.instantiate(this.m_prefabMisionInfo)), a.parent = this.m_nodeContent;
                            var s = a.getComponent(l.CommBonusInfoCtrl);
                            this.m_aryInfoCtrlList.push(s);
                            var c = 0,
                                p = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = u.QustObjectiveType.SPIN_TIME, c = r.SpinTimesGate, p = r.SpinTimes, r.CustomInfoMsg = "Complete " + c + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = u.QustObjectiveType.SPIN_AMOUNT, c = r.SpinAmountGate, p = r.SpinAmount, r.CustomInfoMsg = this.m_sSpinAmountGateStr.replace("{0}", r.SpinAmountGate.toString());
                            else if (r.WinAmountGate > 0) r.QuestType = u.QustObjectiveType.WIN_AMOUNT, c = r.WinAmountGate, p = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + c;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = u.QustObjectiveType.CUSTOM, c = r.CustomGate, p = r.CustomAmount
                            }
                            var m = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(m), this.setSprFrameWithAtlas(m, s.m_sprGameIcon), s.setGame(this.m_Mgr.node, r.ThemeID, m, h), s.SetMissionToProcessingStatus(r.CustomInfoMsg, "CommBonusMgr_Rank"), s.SetProcessBar(p, c), s.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var a = e[r].ThemeID,
                                s = n.indexOf(a),
                                c = this.getGameNameByThemeID(a),
                                l = i.indexOf(c),
                                u = i.indexOf("BIGICON_" + c); - 1 == s && (l > -1 || u > -1) && o.push(e[r])
                        }
                        return o
                    } catch (m) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (m) {}
                    if (e) return e;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].FormalName
                    } catch (o) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (m) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (m) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        var o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, p.default.Instance.GetSpirte("SquareGameIcon", t)];
                                case 1:
                                    return (o = n.sent()) ? (e.spriteFrame = o, e.enabled = !0, e.node.active = !0) : e.node.active = !1, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = c.MisMgrStatus.TOKEN_ENLARGE), [2]
                            }
                        })
                    })
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sSpinAmountGateStr = "Complete total entries {0}";
                            break;
                        case "es":
                            this.m_sSpinAmountGateStr = "Completa con {0} cr\xe9ditos"
                    }
                }, r([d(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([d(cc.Node)], e.prototype, "m_nodeContent", void 0), r([d(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([d(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([d(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([h()], e)
            }(cc.Component);
        o.CommBonusListCtrl_Rank = _, cc._RF.pop()
    }, {
        "../../../../Component/BundleCtrl": "BundleCtrl",
        "../CommBonusData": "CommBonusData",
        "../CommBonusInfoCtrl": "CommBonusInfoCtrl",
        "./CommBonusMgr_Rank": "CommBonusMgr_Rank"
    }],
    CommBonusListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7fa06bbt7FEb6wLkaQvHI5J", "CommBonusListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusListCtrl = void 0;
        var c = t("./CommBonusMgr"),
            l = t("./CommBonusInfoCtrl"),
            u = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("./CommBonusData"),
            m = t("../../../Component/BundleCtrl"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_fucSprDLEndSetIdle = this.m_Mgr.setStatusIdle.bind(this.m_Mgr), this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                a = this.m_nodePoolMissions.get();
                            null == a && (a = cc.instantiate(this.m_prefabMisionInfo)), a.parent = this.m_nodeContent;
                            var s = a.getComponent(l.CommBonusInfoCtrl);
                            this.m_aryInfoCtrlList.push(s);
                            var c = 0,
                                u = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = p.QustObjectiveType.SPIN_TIME, c = r.SpinTimesGate, u = r.SpinTimes, r.CustomInfoMsg = "Complete " + c + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = p.QustObjectiveType.SPIN_AMOUNT, c = r.SpinAmountGate, u = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + c;
                            else if (r.WinAmountGate > 0) r.QuestType = p.QustObjectiveType.WIN_AMOUNT, c = r.WinAmountGate, u = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + c;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = p.QustObjectiveType.CUSTOM, c = r.CustomGate, u = r.CustomAmount
                            }
                            var m = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(m), this.setSprFrameWithAtlas(m, s.m_sprGameIcon), s.setGame(this.m_Mgr.node, r.ThemeID, m, h), s.SetMissionToProcessingStatus(r.CustomInfoMsg), s.SetProcessBar(u, c), s.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var a = e[r].ThemeID,
                                s = n.indexOf(a),
                                c = this.getGameNameByThemeID(a),
                                l = i.indexOf(c),
                                u = i.indexOf("BIGICON_" + c); - 1 == s && (l > -1 || u > -1) && o.push(e[r])
                        }
                        return o
                    } catch (h) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (h) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (h) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (h) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        var o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, m.default.Instance.GetSpirte("SquareGameIcon", t)];
                                case 1:
                                    return (o = n.sent()) ? (e.spriteFrame = o, e.enabled = !0, e.node.active = !0) : e.node.active = !1, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = c.MisMgrStatus.TOKEN_ENLARGE), [2]
                            }
                        })
                    })
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    null != this.m_dictDLPic[n] ? this.setSprFrame(n, e, this.m_dictDLPic[n]) : (e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e))
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.assetManager.loadRemote(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r), cc.loader.release(i)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    this.m_dictDLPic[t] = o, e.spriteFrame = o, e.sizeMode = cc.Sprite.SizeMode.RAW, e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = c.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? (this.errorCode = "C38", u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Error, this.errorCode, null, null, null), this.m_Mgr.m_status = c.MisMgrStatus.IDLE) : this.DLSprFrame(t, e)
                }, r([_(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([_(cc.Node)], e.prototype, "m_nodeContent", void 0), r([_(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([_(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([d], e)
            }(cc.Component);
        o.CommBonusListCtrl = g, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/BundleCtrl": "BundleCtrl",
        "./CommBonusData": "CommBonusData",
        "./CommBonusInfoCtrl": "CommBonusInfoCtrl",
        "./CommBonusMgr": "CommBonusMgr"
    }],
    CommBonusMgr_Rank: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fd3f9e6MNxAQa4ToQFZrakW", "CommBonusMgr_Rank");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMgr_Rank = o.MisMgrStatus = void 0;
        var c, l = t("../../../../../LobbyCommon/Net/LobbyClient"),
            u = t("../../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            p = t("../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            m = t("../../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            h = t("../../../../Component/DateTimeCountDown"),
            d = t("../../../../Component/AudioMgr"),
            _ = t("./RankAwardPanelCtrl"),
            g = t("./CommBonusBtnCtrl_Rank"),
            f = t("../CommBonusTopProgress"),
            y = t("./PlayerRankingMgr"),
            S = t("./RankBonusTotalProgress"),
            C = t("../CommBonusTotalProgress"),
            v = t("../CommBonusMoneyMgr"),
            b = t("../CommBonusData"),
            P = t("../CommBonusCoinCtrl"),
            w = t("../../../../EventModule/EventModule"),
            I = t("../../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            M = t("../CommGetTokenShow"),
            E = t("../../../EventBannerData"),
            D = t("./RankingBonusListCtrl"),
            L = t("../../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            T = t("./FinishPageTimer"),
            k = t("../../../EventTipsMask"),
            A = t("./NewPlayerGuideCtrl"),
            O = t("../../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 6] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 7] = "TOKEN_FLY_TOP", t[t.REACH_GATE_POPUP = 8] = "REACH_GATE_POPUP", t[t.RANK_TOKEN_ENLARGE = 9] = "RANK_TOKEN_ENLARGE", t[t.RANK_TOKEN_FLY_TOP = 10] = "RANK_TOKEN_FLY_TOP", t[t.DISABLE = 11] = "DISABLE", t[t.FADE_TO_RANK_PAGE = 12] = "FADE_TO_RANK_PAGE"
        })(c = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var R = cc._decorator,
            N = R.ccclass,
            B = R.property,
            G = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_FinishMission = null, e.m_labFinishMission = null, e.m_FinishPageTimer = null, e.m_nodeMissionListCtrl = null, e.m_MissionListCtrl = null, e.m_PlayerRankingMgr = null, e.m_MissionTopProgress = null, e.m_CommGetTokenShow = null, e.m_CommBonusTotalProgress = null, e.m_RankBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeCountDown = null, e.m_arrAnimateLoginGetAward = [], e.m_FakeScoreBoxCtrl = null, e.m_nodeBlocker = null, e.m_iBlockerCtr = 0, e.m_RankingBonusListCtrl = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.m_sLoginBtnHint = "", e.m_sEndsInTime = "", e.m_sSpinAmountGateStr = "", e.m_sLoginGetAwardMsg = "", e.m_sNumber = "", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = c.NONE, e.m_lastStatus = c.NONE, e.m_iLastProgress = 0, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalProgressMax = 0, e.m_iTotalProgressCur = 0, e.m_TotalPrgressStatus = b.UserQuestDataStatus.NONE, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bFirstClickGetAward = !0, e.m_bTotalPrgressGetFull = !1, e.m_bNoobGuideRanking = !0, e.m_bInRankingPage = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bFishEventRun = !1, e.m_bHaveShow = !1, e.m_sLastSeason = "", e.m_iUpdateRetryCtr = 0, e.m_RankingRefreshTimestamp = 0, e.m_RankingListHash = 0, e.m_isRecvPlayerProfileList = !1, e.m_PlayerProfileList = null, e
                }
                return i(e, t), e.prototype.GetTimestamp = function() {
                    return Math.floor(Date.now() / 1e3)
                }, e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case c.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), u.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.showRankingPage("en" == SS.Common.GameEnvironment.Language || this.m_iTotalProgressCur >= 9), this.m_RankBonusTotalProgress.node.active = this.m_CommBonusTotalProgress.hasGotAllToken(), this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur));
                            break;
                        case c.FADE_TO_RANK_PAGE:
                            t && (console.warn("MisMgrStatus.FADE_TO_RANK_PAGE"), this.m_bHaveShow ? (this.m_bHaveShow = !1, this.fadeToRankingPage()) : this.m_status = c.IDLE);
                            break;
                        case c.INIT:
                            break;
                        case c.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), u.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case c.TOKEN_ENLARGE:
                            t && (console.warn("MisMgrStatus.TOKEN_ENLARGE"), this.m_nodeBlocker.active = !0, u.ConnectPanelMgr.Instance.DisableConnectPanel(0), 0 == this.m_iTotalProgressCur ? this.m_status = c.IDLE : this.m_CommBonusTotalProgress.hasGotAllToken() ? this.m_status = c.RANK_TOKEN_FLY_TOP : this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.showRankingPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress()), this.m_bHaveShow = !0) : this.m_status = c.TOKEN_FLY_TOP);
                            break;
                        case c.TOKEN_FLY_TOP:
                            if (t)
                                if (console.warn("MisMgrStatus.TOKEN_FLY_TOP"), this.m_CommBonusTotalProgress.hasGotAllToken() || 0 == this.getCurGameNewProgress()) this.m_status = c.REACH_GATE_POPUP;
                                else {
                                    this.showRankingPage(!1);
                                    var e = this.m_MissionListCtrl.m_aryInfoCtrlList[0].m_nodeToken;
                                    this.m_CommBonusTotalProgress.showOneByOne(this.m_iTotalProgressCur - this.getCurGameNewProgress(), this.getCurGameNewProgress(), e), this.m_bHaveShow = !0
                                }
                            break;
                        case c.REACH_GATE_POPUP:
                            t && (console.warn("MisMgrStatus.REACH_GATE_POPUP"), this.m_CommBonusTotalProgress.hasGotAllToken() && this.m_iTotalProgressMax > this.m_iTotalProgressCur - this.m_iTotalProgressAddAll ? (this.m_RankBonusTotalProgress.node.active = !0, this.ToggleFinishMissionPage(!0)) : (this.clearAllNewProgress(), this.m_status = "es" == SS.Common.GameEnvironment.Language && this.m_iTotalProgressCur < 9 ? c.IDLE : c.FADE_TO_RANK_PAGE));
                            break;
                        case c.RANK_TOKEN_FLY_TOP:
                            if (t) {
                                console.warn("MisMgrStatus.RANK_TOKEN_FLY_TOP");
                                var o = Math.max(this.m_iTotalProgressMax, this.m_iTotalProgressCur - this.m_iTotalProgressAddAll),
                                    n = Math.min(this.m_iTotalProgressCur - this.m_iTotalProgressMax, this.m_iTotalProgressAddAll);
                                if (n > 0) {
                                    this.showRankingPage(!1), this.m_nodeBlocker.active = !0, this.m_RankBonusTotalProgress.setAllTokenShowEndCB(this.setRankRrogressAndIdle.bind(this, n)), this.m_RankBonusTotalProgress.setProgress(o);
                                    for (var i = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; i >= 0; i--) this.m_MissionListCtrl.m_aryInfoCtrlList[i].m_nodeRedDot.active && (e = this.m_MissionListCtrl.m_aryInfoCtrlList[i].m_nodeToken, this.m_RankBonusTotalProgress.showFlyToken(e), this.m_MissionListCtrl.m_aryInfoCtrlList[i].setRedDot(0));
                                    this.m_bHaveShow = !0
                                } else this.m_status = c.IDLE;
                                this.clearAllNewProgress()
                            }
                            break;
                        case c.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), u.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iLastProgress = 0, this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.onLoad = function() {
                    this.m_strEventID = "RankingBonus", this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1, this.m_RankingRefreshTimestamp = this.GetTimestamp(), this.m_RankingListHash = 0
                }, e.prototype.start = function() {
                    if (this.m_MissionListCtrl = this.m_nodeMissionListCtrl.getComponent("CommBonusListCtrl_Rank"), this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_LobbyMgr && this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this)), this.finishPageTimeCountDown && (this.finishPageTimeCountDown.node.active = !1), this.parseMisInfo(l.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, this.m_curMapData.RankSize), self == top && this.isTheFirstToLobby && this.clearAllNewProgress(), this.getAllNewProgress(!0)), this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.m_MissionBtnCtrl.show(!0), this.SetUserBalance = this.lobbySetUserBalance.bind(this), console.warn("\u6392\u884c\u8a3b\u518a");
                        var t = new L.PriorityCustomEvent(1, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion;
                        var e = new E.EventBannerData(this.m_strEventID, 100, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e), this.SetEventActive()
                    } else "es" == SS.Common.GameEnvironment.Language && this.m_MissionBtnCtrl.move(-30, -550);
                    this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrTokenRedDot.bind(this, 0)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.allTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this), this.m_FinishPageTimer.m_cb = this.closeFinishPage.bind(this), this.setLang(), this.initDone(), O.EventSystem.Event(O.CommunityBonus.ClickGetAwardCollect).Insert(this.onClickGetAwardOK, this), O.EventSystem.Event(O.SwitchGame).Insert(this.onProfileSwitchGame, this)
                }, e.prototype.setBlocker = function(t) {
                    this.m_iBlockerCtr += t ? 1 : -1, this.m_nodeBlocker.active = 0 == this.m_iBlockerCtr
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != c.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("RankingBonus" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                    this.CloseEvent()
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t, e, o, n, i, r, a, s, c, l) {
                    if (void 0 === e && (e = ""), void 0 === o && (o = ""), void 0 === n && (n = ""), void 0 === i && (i = ""), void 0 === r && (r = ""), void 0 === a && (a = 0), void 0 === s && (s = 0), void 0 === c && (c = 0), void 0 === l && (l = []), this.m_nodeLoginGetAward.active = t, t) {
                        console.warn(this.m_curAwardAvaiMapData.bonusData), this.m_arrAnimateLoginGetAward.forEach(function(t) {
                            t.play()
                        });
                        var u = this.m_curAwardAvaiMapData.QuestID.substr(4, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(6, 2),
                            p = this.m_curAwardAvaiMapData.bonusData.people,
                            m = this.m_sLoginGetAwardMsg;
                        m = (m = m.replace("{0}", u)).replace("{1}", p.toString()), this.m_labLoginGetAwardMsg.string = m, this.m_RankAwardPanelCtrl.setDetail(e, o, n, i, r, c, a, s, l, this.m_curAwardAvaiMapData.m_arrRankAwardData, this.m_curAwardAvaiMapData.CustomAmount), this.m_nodeLoginGetAwardOKBtn.active = !0, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    console.warn("loginGetAward()"), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion, this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (u.ConnectPanelMgr.Instance.ShowConnectPanel(0), l.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this))) : this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwardOK = function() {
                    0 != this.m_nodeLoginGetAward.active && (this.m_bFirstClickGetAward = !1, this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 2), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null), this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !0, l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.AWARD_OK_BTN), O.EventSystem.Event(O.CommunityBonus.SetCollected).Length > 0 && O.EventSystem.Event(O.CommunityBonus.SetCollected).Notify("RankBonus"))
                }, e.prototype.onClickGetAwardX = function() {
                    this.m_RankAwardPanelCtrl.Reset(), this.loginGetAward(), this.hideLoginGetAward(), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.AWARD_X_BTN)
                }, e.prototype.popUpClosed = function() {
                    null != this.m_arrMissionData && (null == k.EventTipsMask.Instance || k.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bFishEventRun || this.m_MissionBtnCtrl.setPrompt(this.m_sLoginBtnHint), null != k.EventTipsMask.Instance && null != this.m_curMapData && (k.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), k.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID))), "es" == SS.Common.GameEnvironment.Language && this.m_MissionBtnCtrl.setPrompt(this.m_sLoginBtnHint))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.IDLE)
                }, e.prototype.setRankRrogressAndIdle = function(t) {
                    this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur), this.m_RankBonusTotalProgress.setProgressAdd(t), this.m_status != c.DISABLE && (this.m_status = c.FADE_TO_RANK_PAGE)
                }, e.prototype.allTokenShowEnd = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.REACH_GATE_POPUP)
                }, e.prototype.setStatusFly = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == b.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = this.m_LobbyMgr.downBarMgr,
                        o = t.entries,
                        n = t.winnings;
                    e.SetUserBalance(o, n), this.m_LobbyMgr.UserEntries = o, this.m_LobbyMgr.UserWinnings = n
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID), O.EventSystem.Event(O.CommunityBonus.ClickGetAwardCollect) && O.EventSystem.Event(O.CommunityBonus.ClickGetAwardCollect).Length > 0 && O.EventSystem.Event(O.CommunityBonus.ClickGetAwardCollect).Remove(this.onClickGetAwardOK, this), O.EventSystem.Event(O.SwitchGame) && O.EventSystem.Event(O.SwitchGame).Length > 0 && O.EventSystem.Event(O.SwitchGame).Remove(this.onProfileSwitchGame, this)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != c.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!1), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t) {
                    this.m_sCurGameName = t, this.m_MissionTopProgress.setGameIcon(t), this.getAllNewProgress(!0)
                }, e.prototype.getAllNewProgress = function(t) {
                    void 0 === t && (t = !1);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (e) {
                        for (var o = 0, n = 0; n < this.m_arrMissionData.length; n++) {
                            var i = 0,
                                r = e[this.getGameNameByThemeID(this.m_arrMissionData[n].ThemeID)];
                            null == r ? cc.error("[getAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[n].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : i = r[this.m_curMapData.QuestID], ((i = i || 0) > 0 || this.m_arrMissionData[n].m_fProgressRate > 0) && (o += i, this.m_arrMissionData[n].newProgress = i, this.m_arrMissionData[n].Priority = -(i + this.m_arrMissionData[n].m_fProgressRate))
                        }
                        this.m_iTotalProgressAddAll = o, t && this.m_RankBonusTotalProgress.setProgress(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll);
                        var a = self == top ? this.m_iTotalProgressCur - this.m_iTotalProgressAddAll : this.m_RankBonusTotalProgress.getProgress();
                        this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, a)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    cc.log("clearAllNewProgress");
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            null == o ? cc.error("[ClearAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[e].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress())
                    }
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            var n = o.data.eventInfo[900004].UserQuestData;
                            this.parseUserDataList(n);
                            for (var i = 0; i < n.length; i++) {
                                var r = void 0,
                                    a = void 0,
                                    s = n[i];
                                if (e.ThemeID == s.GameThemeID && e.QuestID == s.QuestID && e.QuestLevel == s.QuestLevel) {
                                    if (e.Status = s.Status, e.Status == b.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == b.QustObjectiveType.SPIN_TIME) a = e.SpinTimesGate, r = s.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == b.QustObjectiveType.SPIN_AMOUNT) a = e.SpinAmountGate, r = s.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == b.QustObjectiveType.WIN_AMOUNT) a = e.WinAmountGate, r = s.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != b.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        a = e.CustomGate, r = s.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / a;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (c >= 1 && (this.m_MissionTopProgress.m_fucFullChargeCB = this.getTokenShow.bind(this)), this.m_MissionTopProgress.show(!0, e.CustomInfoMsg), this.m_iLastProgress = c >= 1 ? 0 : c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (R) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!0), this.m_CommGetTokenShow && this.m_CommGetTokenShow.moveToken(this.gotNewToken.bind(this))
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new b.CommBonusData,
                                    a = o[i];
                                if (100 == a.TitleType || 102 == a.TitleType) {
                                    r.QuestID = a.QuestID, r.QuestLevel = a.QuestLevel, r.ThemeID = a.GameThemeID, r.SpinTimesGate = a.SpinTimesGate, r.SpinAmountGate = a.SpinAmountGate, r.WinAmountGate = a.WinAmountGate, r.CustomGate = a.CustomGate, r.CustomType = a.CustomType, r.CustomInfo = a.CustomInfo, r.Award = a.Award, r.Priority = a.Priority, r.CycleSeconds = a.CycleSeconds, r.ExpireTimeUTC = a.ExpireTimeUTC, null != a.CustomInfo && a.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = a.CustomInfo.Msg);
                                    for (var s = 0; s < n.length; s++) {
                                        var c = n[s];
                                        if (r.QuestID == c.QuestID && r.QuestLevel == c.QuestLevel && r.ThemeID == c.GameThemeID) {
                                            r.SpinTimes = c.SpinTimes, r.SpinAmount = c.SpinAmount, r.WinAmount = c.WinAmount, r.CustomAmount = c.CustomAmount, r.Status = c.Status;
                                            break
                                        }
                                    }
                                    if (100 == a.TitleType && this.checkThemeIsOpen(a.GameThemeID)) this.setGateAndAmount(r), this.m_arrMissionData.push(r), cc.log("[parseMisInfo]Quest: " + r.QuestID + "  Themem: " + r.ThemeID);
                                    else if (102 == a.TitleType) {
                                        if (r.RankSize = a.CustomInfo.RankNum, a.CustomInfo && a.CustomInfo.RankAward)
                                            for (var u = 0; u < a.CustomInfo.RankAward.length; u++) {
                                                var p = a.CustomInfo.RankAward[u],
                                                    m = new b.RankAwardData;
                                                m.Begin = p.Begin, m.End = p.End, m.Award = p.Award, r.m_arrRankAwardData.push(m)
                                            }
                                        if (r.bonusData = this.parseBonusData(a.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_curMapData = r, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_iTotalProgressMax = a.CustomGate, this.parseUserDataList(n), l.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = this.parseAndUpdateBonusData.bind(this)), r.Status == b.UserQuestDataStatus.AWARD_AVAILABLE) this.m_arrAwardAvaiMapData.push(r);
                                        else if (r.Status == b.UserQuestDataStatus.QUEST_NOT_DONE && r.bonusData.jp_end_time <= this.m_iNowTime) {
                                            var h = r.bonusData.ranking_list;
                                            for (u = 0; u < h.length; u++)
                                                if (h[u].ranking_id == r.bonusData.ranking_id) {
                                                    this.m_arrAwardAvaiMapData.push(r);
                                                    break
                                                }
                                        }
                                    }
                                } else 300 == a.TitleType && (this.m_bFishEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (R) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalProgressCur = o.CustomAmount, this.m_TotalPrgressStatus = o.Status;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new b.BonusData;
                    try {
                        if (e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time ? t.jp_begin_time : this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.jp_begin_time ? this.m_curMapData.bonusData.jp_begin_time : "", e.jp_end_time = t.jp_end_time ? t.jp_end_time : this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.jp_end_time ? this.m_curMapData.bonusData.jp_end_time : "", e.ranking_id = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.ranking_id ? this.m_curMapData.bonusData.ranking_id : t.ranking_id ? t.ranking_id : "", e.AvatarID = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.AvatarID ? this.m_curMapData.bonusData.AvatarID : t.equip_avatar ? t.equip_avatar : "", e.AvatarFrameID = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.AvatarFrameID ? this.m_curMapData.bonusData.AvatarFrameID : t.equip_avatar_frame ? t.equip_avatar_frame : "", e.Nickname = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.Nickname ? this.m_curMapData.bonusData.Nickname : t.nick_name ? t.nick_name : "", e.pin_ark_id = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.pin_ark_id ? this.m_curMapData.bonusData.pin_ark_id : t.ark_id ? t.ark_id : "", e.ranking_list, e.ranking_list = [], t.hasOwnProperty("ranking_list")) {
                            var o = t.ranking_list;
                            if (o && o[0])
                                for (var n = 0; n < o.length; n++) {
                                    var i = o[n],
                                        r = new b.RankingPlayerData;
                                    r.amount = i.amount, r.ark_id = i.ark_id, r.ranking_id = i.ranking_id, r.time = i.time, e.ranking_list.push(r)
                                }
                        }
                    } catch (a) {
                        console.error(a), e = null
                    }
                    return e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    var e = this.parseBonusData(t);
                    this.m_curMapData && e && this.m_curMapData.QuestID == e.quest_id && (this.m_curMapData.bonusData = e, this.updateBonusPrize(), this.IsNeedToRefreshRankPage() && this.m_PlayerRankingMgr.showRanking(this.m_curMapData))
                }, e.prototype.IsNeedToRefreshRankPage = function() {
                    var t = !1,
                        e = JSON.stringify(this.m_curMapData.bonusData.ranking_list),
                        o = this.sampleHashCode(e);
                    return (1 == this.m_ActivitiesMgrRoot.activeInHierarchy && this.m_RankingListHash != o || this.GetTimestamp() > this.m_RankingRefreshTimestamp + 600) && (this.m_RankingRefreshTimestamp = this.GetTimestamp(), this.m_RankingListHash = o, t = !0), e = null, t
                }, e.prototype.sampleHashCode = function(t) {
                    for (var e = 0, o = 0, n = t.length; o < n; o++) e = (e << 5) - e + t.charCodeAt(o), e |= 0;
                    return e
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = b.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = b.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = this.m_sSpinAmountGateStr.replace("{0}", t.SpinAmountGate.toString())) : t.WinAmountGate > 0 ? (t.QuestType = b.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = b.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), d.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.setActivityRoot(!1), O.EventSystem.Event(O.CommunityBonus.TimesUp).Length > 0 && O.EventSystem.Event(O.CommunityBonus.TimesUp).Notify(), this.m_status = c.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? ": {day} days {hr}:{min}:{sec}" : ": {hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, this.m_sEndsInTime + e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithFormate(t, e), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.m_iLastProgress = 0, this.clearAllNewProgress(), this.reloadLobby(), this.m_PlayerRankingMgr.Clear(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_sLastSeason = this.m_curMapData.QuestID, this.m_curMapData = null, l.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = null, this.m_status = c.DISABLE
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (R) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (R) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = -1 == o[0].indexOf("es_") ? "" : "es_",
                        a = o.indexOf(r + i),
                        s = o.indexOf(r + "BIGICON_" + i);
                    return -1 == n && (a > -1 || s > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("?\ufffd\u66f3\u7d50\ufffd?")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishPageTimer.show(t), this.m_nodeHint.active = !t && this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = !t && this.m_iTotalProgressCur >= this.m_iTotalProgressMax, this.m_bShowFinish = t
                }, e.prototype.closeFinishPage = function() {
                    this.ToggleFinishMissionPage(!1), this.m_status = c.RANK_TOKEN_FLY_TOP
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.INFO_BTN)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.INFO_X_BTN)
                }, e.prototype.closeRankIDPopup = function() {
                    this.m_nodeRankIDPopup.active = !1, l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.RANKING_ID_X_BTN)
                }, e.prototype.switchRankingPage = function() {
                    this.showRankingPage(!this.m_bInRankingPage), this.m_bInRankingPage && this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_bInRankingPage ? l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.SWITCH_TO_RANK_PAGE) : l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.SWITCH_TO_GAME_PAGE)
                }, e.prototype.fadeToRankingPage = function() {
                    var t = this;
                    this.m_bInRankingPage = !0, this.m_nodeRankingPage.active = !0, this.m_nodeObjList.active = !0, this.m_nodeJPTag.active = !1, this.m_nodeRangTag.active = !0, this.m_nodeJPTagBtn.active = !0, this.m_nodeRangTagBtn.active = !1, this.m_nodeRankingPage.opacity = 0, cc.tween(this.m_nodeRankingPage).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeRangTag.opacity = 0, cc.tween(this.m_nodeRangTag).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeJPTagBtn.opacity = 0, cc.tween(this.m_nodeJPTagBtn).to(1, {
                        opacity: 255
                    }).start(), this.m_nodeObjList.opacity = 255, cc.tween(this.m_nodeObjList).to(1, {
                        opacity: 0
                    }).call(function() {
                        t.showRankingPage(!0), t.m_nodeObjList.opacity = 255, t.m_status = c.IDLE
                    }).start()
                }, e.prototype.showRankingPage = function(t) {
                    this.m_nodeRankingPage.opacity = 255, this.m_nodeObjList.opacity = 255, this.m_bInRankingPage = t, this.m_nodeRankingPage.active = t, this.m_nodeObjList.active = !t, this.m_nodeJPTag.active = !t, this.m_nodeRangTag.active = t, this.m_nodeJPTagBtn.active = t, this.m_nodeRangTagBtn.active = !t, this.showReadMePage(!1, this.m_nodeReadMePage_Rank), this.showReadMePage(!1, this.m_nodeReadMePage)
                }, e.prototype.hideBothPage = function() {
                    this.m_nodeRankingPage.active = !0, this.m_nodeRankingPage.opacity = 0, this.m_nodeObjList.active = !0, this.m_nodeObjList.opacity = 0
                }, e.prototype.showRankingID = function() {
                    this.m_bNoobGuideRanking = !1, this.m_nodeRankIDPopup.active = !1
                }, e.prototype.setReadMePage = function(t) {
                    this.m_nodeDarkerBG.active = t, this.m_bInRankingPage ? (this.m_nodeRankingPage.active = !t, this.showReadMePage(t, this.m_nodeReadMePage_Rank)) : (this.m_nodeObjList.active = !t, this.showReadMePage(t, this.m_nodeReadMePage))
                }, e.prototype.showReadMePage = function(t, e) {
                    if (!(e.getNumberOfRunningActions() > 0))
                        if (e.stopAllActions(), e.scale = 1, e.opacity = 255, t) e.active = !0;
                        else {
                            var o = cc.fadeOut(.25),
                                n = cc.scaleTo(.5, 0),
                                i = cc.callFunc(function() {
                                    return e.active = !1
                                }),
                                r = cc.sequence(cc.spawn(o, n), i);
                            e.runAction(r)
                        }
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress()), this.m_MissionBtnCtrl.show(!t), this.hideBothPage(), d.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t ? (this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll), this.m_RankBonusTotalProgress.node.active = this.m_CommBonusTotalProgress.hasGotAllToken(), this.m_nodeHint.active = this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = this.m_iTotalProgressCur >= this.m_iTotalProgressMax) : this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        var o = this.getThemeIDByGameName(this.m_strChangeToGameName);
                        if (cc.warn("switch to theme id: " + o), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", parseInt(o)), d.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("?\ufffd\ufffd??\ufffd\u6232\uff0c\ufffd??\ufffd\ufffd?\u8df3\ufffd??\ufffd\ufffd? !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1), self == top ? this.m_LobbyMgr.switchGame.OnSwitchGameIgnoreWindow(this.m_strChangeToGameName) : m.CommonRoot.Instance.m_switchGameGroup.OpenSwitchGameWindow(this.m_strChangeToGameName, this.m_sCurGameName)
                    }
                }, e.prototype.onClickTopRankingInfo = function() {
                    this.m_bInRankingPage ? this.m_PlayerRankingMgr.scrollToPlayer() : (this.showRankingPage(!0), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_PlayerRankingMgr.scrollToTop()), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.TOP_PROGRESS)
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != c.COLLECT && (this.setActivityRoot(!1), this.setReadMePage(!1), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.MAIN_X_BTN))
                }, e.prototype.onProfileSwitchGame = function() {
                    this.setActivityRoot(!1), this.setReadMePage(!1)
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), d.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && (this.setOnTop(), k.EventTipsMask.Instance && k.EventTipsMask.Instance.hide(), l.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", b.RankClickLogID.FLOAT_BTN), this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = c.UPDATE_CMD)
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.m_MissionListCtrl.setScrollTop(), this.getAllNewProgress(), this.getCurGameMisData() && (this.getCurGameMisData().Priority = -99), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), 0 == this.m_iTotalProgressCur && (this.m_NewPlayerGuideCtrl ? this.m_NewPlayerGuideCtrl.checkCoockieAndShow(this.showRankingPage.bind(this, !0), this.showRankingPage.bind(this, !1), this.showRankingID.bind(this, !0)) : this.showRankingID(!0))
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), l.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    d.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o), this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e.toString())
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = b.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = c.COLLECT)
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        var o, n, i;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("CommBonusMgr.rcvCollectQuestAck  Success : ", e), 0 != e.cmd_data.result ? [3, 2] : (o = void 0, SS.Common.GameEnvironment.IsUseScoreBox ? (this.m_iAwardNum = e.cmd_data.data.AwardWinnings, this.m_iFinalBalance = e.cmd_data.playerInfo.winnings, o = I.ShowType.WINNING) : (this.m_iFinalBalance = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, this.m_iAwardNum = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = I.ShowType.CREDIT), this.node.setSiblingIndex(100), (n = e.cmd_data.data.ExtraInfo).hasOwnProperty("equip_avatar") || (n.equip_avatar = SS.Network.UserClient.UserInfo.avatar_id), n.hasOwnProperty("equip_avatar_frame") || (n.equip_avatar_frame = SS.Network.UserClient.UserInfo.avatar_frame_id), n.hasOwnProperty("nick_name") || (n.nick_name = SS.Network.UserClient.UserInfo.nickname), n.hasOwnProperty("ark_id") || (n.ark_id = SS.Network.LoginModel.LoginInfo.pin_ark_id), [4, this.CheckPlayerProfileList(n)])) : [3, 4];
                                case 1:
                                    return r.sent(), this.showLoginGetAward(!0, n.ranking_id, n.equip_avatar, n.equip_avatar_frame, n.nick_name, n.ark_id, this.m_iAwardNum, n.ranking_award, n.exchange_rate, n.ranking_list), this.lobbySetUserBalance(e.cmd_data.playerInfo), this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalBalance - this.m_iAwardNum - n.ranking_award), u.ConnectPanelMgr.Instance.DisableConnectPanel(0), [3, 3];
                                case 2:
                                    switch (e.cmd_data.result) {
                                        case 1:
                                            p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), u.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                            break;
                                        case -999:
                                            p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Info, "S175", null, null, null);
                                            break;
                                        default:
                                            p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "S189", null, null, null)
                                    }
                                    r.label = 3;
                                case 3:
                                    return [3, 5];
                                case 4:
                                    "", i = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, i, null, null, null), r.label = 5;
                                case 5:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.recvPlayerProfileList = function(t, e) {
                    null == e || null == e ? cc.error("!!! recvPlayerProfileList is null !!! ", t, e) : e.hasOwnProperty("cmd_data") && e.cmd_data.hasOwnProperty("player_profile_list") && (this.m_PlayerProfileList = e.cmd_data.player_profile_list), this.m_isRecvPlayerProfileList = !0
                }, e.prototype.waitPlayerProfileList = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    t = 0, e = .2, o = 15, n.label = 1;
                                case 1:
                                    return 0 == this.m_isRecvPlayerProfileList && t < o ? (t += e, [4, SS.Common.WaitForSeconds(e)]) : [3, 3];
                                case 2:
                                    return n.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.CheckPlayerProfileList = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n, i;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (e = t.ranking_list, o = [], n = 0; n < e.length; n++) e[n].ark_id && "" != e[n].ark_id && o.push(e[n].ark_id);
                                    return null == o ? (cc.log("CheckPlayerProfileList no data. ", t), [2]) : (this.m_PlayerProfileList = null, this.m_isRecvPlayerProfileList = !1, l.LobbyClient.Instance.GetUserClient.getPlayerProfileList(o, this.recvPlayerProfileList.bind(this)), [4, this.waitPlayerProfileList()]);
                                case 1:
                                    for (r.sent(), n = 0; n < t.ranking_list.length; n++)
                                        if (null != this.m_PlayerProfileList)
                                            for (i = 0; i < this.m_PlayerProfileList.length; i++)
                                                if (this.m_PlayerProfileList[i].hasOwnProperty("ark_id") && this.m_PlayerProfileList[i].ark_id == e[n].ark_id && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar") && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar_frame") && this.m_PlayerProfileList[i].hasOwnProperty("nick_name")) {
                                                    t.ranking_list[n].AvatarID = this.m_PlayerProfileList[i].equip_avatar, t.ranking_list[n].AvatarFrameID = this.m_PlayerProfileList[i].equip_avatar_frame, t.ranking_list[n].Nickname = this.m_PlayerProfileList[i].nick_name;
                                                    break
                                                }
                                    return e = null, o = null, [2]
                            }
                        })
                    })
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    d.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : m.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Length > 0 && m.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    if (this.m_CommBonusMoneyMgr && t) {
                        var e = "es" == SS.Common.GameEnvironment.Language ? 1 : t.exchange_rate;
                        this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * e), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * e, t.people)
                    }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    0 != this.m_arrMissionData.length && null != this.m_curMapData ? this.m_iEndTime < this.m_iNowTime ? setTimeout(function() {
                        t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                    }, 3e3) : (null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = c.IDLE, this.isRequestInfoNow = !1) : this.m_status = c.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("CommBonusMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            if (this.parseMisInfo(n)) {
                                if (l.LobbyClient.Instance.m_CommonEventInfo_900004 = n, "" == this.m_sLastSeason) {
                                    if (this.m_sLastSeason == this.m_curMapData.QuestID) return this.m_iUpdateRetryCtr++, void(this.m_iUpdateRetryCtr < 3 ? l.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)) : this.m_status = c.DISABLE);
                                    this.m_sLastSeason = "", this.m_iUpdateRetryCtr = 0
                                }
                                this.m_sLastSeason = this.m_curMapData.QuestID, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer()
                            }
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = c.DISABLE : (this.errorCode = "S182", p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case b.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case b.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case b.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case b.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("CommBonusMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sSpinAmountGateStr = "Complete total entries {0}", this.m_sLoginBtnHint = "Treasure Map with Rankings\nBonus is NOW available!", this.m_sEndsInTime = "ENDS IN", this.m_sLoginGetAwardMsg = "{0} community jackpot shared by {1} people", this.m_sNumber = "No.";
                            break;
                        case "es":
                            this.m_sSpinAmountGateStr = "Completa con {0} cr\xe9ditos", this.m_sLoginBtnHint = "\xa1Collecta pisadas para ganar gran premios!\nPuedes arrastrar el \xedcono a cualquier lugar", this.m_sEndsInTime = "TERMINAR\xc1 EN", this.m_sLoginGetAwardMsg = "{0} bono comunitario repartido a {1} personas", this.m_sNumber = "N\xfam."
                    }
                }, r([B(cc.Node)], e.prototype, "root", void 0), r([B(g.CommBonusBtnCtrl_Rank)], e.prototype, "m_MissionBtnCtrl", void 0), r([B(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([B(cc.Node)], e.prototype, "m_FinishMission", void 0), r([B(cc.Label)], e.prototype, "m_labFinishMission", void 0), r([B(T.FinishPageTimer)], e.prototype, "m_FinishPageTimer", void 0), r([B(cc.Node)], e.prototype, "m_nodeMissionListCtrl", void 0), r([B(y.PlayerRankingMgr)], e.prototype, "m_PlayerRankingMgr", void 0), r([B(f.CommBonusTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([B(M.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([B(C.CommBonusTotalProgress)], e.prototype, "m_CommBonusTotalProgress", void 0), r([B(S.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([B(v.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([B(P.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([B(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([B(h.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([B(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([B(h.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([B(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([B(h.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([B(_.RankAwardPanelCtrl)], e.prototype, "m_RankAwardPanelCtrl", void 0), r([B(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([B(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([B(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([B(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([B(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([B([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([B(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([B(cc.Node)], e.prototype, "m_nodeRankingPage", void 0), r([B(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([B(cc.Node)], e.prototype, "m_nodeReadMePage_Rank", void 0), r([B(cc.Node)], e.prototype, "m_nodeRankIDPopup", void 0), r([B(cc.Label)], e.prototype, "m_labRankID", void 0), r([B(cc.Node)], e.prototype, "m_nodeDarkerBG", void 0), r([B(I.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([B(cc.Node)], e.prototype, "m_nodeHint", void 0), r([B(cc.Node)], e.prototype, "m_nodeHintRank", void 0), r([B(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([B(D.RankingBonusListCtrl)], e.prototype, "m_RankingBonusListCtrl", void 0), r([B(cc.Node)], e.prototype, "m_nodeRangTag", void 0), r([B(cc.Node)], e.prototype, "m_nodeJPTag", void 0), r([B(cc.Node)], e.prototype, "m_nodeRangTagBtn", void 0), r([B(cc.Node)], e.prototype, "m_nodeJPTagBtn", void 0), r([B(A.NewPlayerGuideCtrl)], e.prototype, "m_NewPlayerGuideCtrl", void 0), r([N], e)
            }(w.EventModule);
        o.CommBonusMgr_Rank = G, cc._RF.pop()
    }, {
        "../../../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../../Component/AudioMgr": "AudioMgr",
        "../../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../../EventModule/EventModule": "EventModule",
        "../../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../EventBannerData": "EventBannerData",
        "../../../EventTipsMask": "EventTipsMask",
        "../CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "../CommBonusData": "CommBonusData",
        "../CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "../CommBonusTopProgress": "CommBonusTopProgress",
        "../CommBonusTotalProgress": "CommBonusTotalProgress",
        "../CommGetTokenShow": "CommGetTokenShow",
        "./CommBonusBtnCtrl_Rank": "CommBonusBtnCtrl_Rank",
        "./FinishPageTimer": "FinishPageTimer",
        "./NewPlayerGuideCtrl": "NewPlayerGuideCtrl",
        "./PlayerRankingMgr": "PlayerRankingMgr",
        "./RankAwardPanelCtrl": "RankAwardPanelCtrl",
        "./RankBonusTotalProgress": "RankBonusTotalProgress",
        "./RankingBonusListCtrl": "RankingBonusListCtrl"
    }],
    CommBonusMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fcd1aPlULZO5rVi9IHuvtqt", "CommBonusMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMgr = o.MisMgrStatus = void 0;
        var a, s = t("../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            p = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Component/AudioMgr"),
            h = t("./CommBonusBtnCtrl"),
            d = t("./CommBonusTopProgress"),
            _ = t("./CommBonusListCtrl"),
            g = t("./CommBonusTotalProgress"),
            f = t("./CommBonusMoneyMgr"),
            y = t("./CommBonusData"),
            S = t("./CommBonusCoinCtrl"),
            C = t("../../../EventModule/EventModule"),
            v = t("./../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            b = t("./CommGetTokenShow"),
            P = t("../../EventBannerData"),
            w = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            I = t("../../EventTipsMask");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 6] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 7] = "TOKEN_FLY_TOP", t[t.DISABLE = 8] = "DISABLE"
        })(a = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var M = cc._decorator,
            E = M.ccclass,
            D = M.property,
            L = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_FinishMission = null, e.m_labFinishMission = null, e.m_MissionListCtrl = null, e.m_MissionTopProgress = null, e.m_CommGetTokenShow = null, e.m_CommBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeCountDown = null, e.m_arrAnimateLoginGetAward = [], e.m_FakeScoreBoxCtrl = null, e.m_nodeBlocker = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "Treasure Map \nis NOW available!", e.tapNewIconContent = "New Bonus are available.", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = a.NONE, e.m_lastStatus = a.NONE, e.m_iLastProgress = 0, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalPrgressMax = 0, e.m_iTotalPrgressCur = 0, e.m_TotalPrgressStatus = y.UserQuestDataStatus.NONE, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bFirstClickGetAward = !0, e.m_bTotalPrgressGetFull = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bFishEventRun = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case a.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.ToggleFinishMissionPage(this.m_CommBonusTotalProgress.hasGotAllToken()));
                            break;
                        case a.INIT:
                            break;
                        case a.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), this.isClickClaimBtn ? (this.isClickClaimBtn = !1, c.ConnectPanelMgr.Instance.DisableConnectPanel(0)) : (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.collectMisData && (this.m_MissionListCtrl.m_strCollectQuestID = this.collectMisData.QuestID)), this.collectMisData = null, this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case a.TOKEN_ENLARGE:
                            t && (console.warn("MisMgrStatus.TOKEN_ENLARGE"), this.m_nodeBlocker.active = !0, c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.ToggleFinishMissionPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress())) : this.m_status = a.TOKEN_FLY_TOP);
                            break;
                        case a.TOKEN_FLY_TOP:
                            if (t)
                                if (console.warn("MisMgrStatus.TOKEN_FLY_TOP"), this.getCurGameNewProgress() > 0) {
                                    this.ToggleFinishMissionPage(!1);
                                    var e = this.m_MissionListCtrl.m_aryInfoCtrlList[0].m_nodeToken;
                                    this.m_CommBonusTotalProgress.showOneByOne(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.getCurGameNewProgress(), this.getCurGameNewProgress(), e), this.clearAllNewProgress()
                                } else this.clearAllNewProgress(), this.m_status = a.IDLE;
                            break;
                        case a.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iLastProgress = 0, this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.onLoad = function() {
                    this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1
                }, e.prototype.start = function() {
                    if (this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_LobbyMgr && this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this)), this.finishPageTimeCountDown && (this.finishPageTimeCountDown.node.active = !1), this.parseMisInfo(s.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (self == top && this.isTheFirstToLobby && this.clearAllNewProgress(), this.getAllNewProgress()), this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.m_MissionBtnCtrl.show(!0), this.SetUserBalance = this.lobbySetUserBalance.bind(this), console.warn("\u5f69\u91d1\u8a3b\u518a");
                        var t = new w.PriorityCustomEvent(0, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion;
                        var e = new P.EventBannerData("TreasureMap", 100, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e)
                    }
                    this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrTokenRedDot.bind(this, 0)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.setStatusIdle.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this), s.LobbyClient.Instance.GetJPSystem.getTreasureMapCB = this.parseAndUpdateBonusData.bind(this), this.initDone()
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != a.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("TreasureMap" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t) {
                    if (this.m_nodeLoginGetAward.active = t, t) {
                        console.warn(this.m_curAwardAvaiMapData.bonusData), this.m_arrAnimateLoginGetAward.forEach(function(t) {
                            t.play()
                        });
                        var e = this.m_curAwardAvaiMapData.QuestID.substr(4, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(6, 2),
                            o = this.m_curAwardAvaiMapData.bonusData.people;
                        this.m_labLoginGetAwardMsg.string = e + " community jackpot shared by " + o + " people";
                        var n = "es" == SS.Common.GameEnvironment.Language ? 1 : this.m_curAwardAvaiMapData.bonusData.exchange_rate,
                            i = "es" == SS.Common.GameEnvironment.Language ? "" : "$",
                            r = this.m_iAwardNum * n;
                        this.m_labLoginGetAwardWinning.string = i + r.toLocaleString("en-US", {
                            minimumFractionDigits: 2
                        }), this.m_nodeLoginGetAwardOKBtn.active = !0, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    console.warn("loginGetAward()"), null == SS.Common.GameEnvironment.CurrentGameVersion || SS.Common.GameEnvironment.CurrentGameVersion, this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), s.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this))) : this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwordOK = function() {
                    this.m_bFirstClickGetAward = !1, this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 2), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null), this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !0
                }, e.prototype.onClickGetAwordX = function() {
                    this.loginGetAward(), this.hideLoginGetAward()
                }, e.prototype.popUpClosed = function() {
                    null != this.m_arrMissionData && (null == I.EventTipsMask.Instance || I.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bFishEventRun || this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent), null != I.EventTipsMask.Instance && null != this.m_curMapData && (I.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), I.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID))))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != a.DISABLE && (this.m_status = a.IDLE)
                }, e.prototype.setStatusFly = function() {
                    this.m_status != a.DISABLE && (this.m_status = a.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == y.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = this.m_LobbyMgr.downBarMgr,
                        o = t.entries,
                        n = t.winnings;
                    e.SetUserBalance(o, n), this.m_LobbyMgr.UserEntries = o, this.m_LobbyMgr.UserWinnings = n
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != a.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!1), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t) {
                    this.m_sCurGameName = t, this.m_MissionTopProgress.setGameIcon(t), this.getAllNewProgress()
                }, e.prototype.getAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0, o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = t[this.getGameNameByThemeID(this.m_arrMissionData[o].ThemeID)][this.m_curMapData.QuestID];
                            ((n = n || 0) > 0 || this.m_arrMissionData[o].m_fProgressRate > 0) && (e += n, this.m_arrMissionData[o].newProgress = n, this.m_arrMissionData[o].Priority = -(n + this.m_arrMissionData[o].m_fProgressRate))
                        }
                        this.m_iTotalProgressAddAll = e, this.m_MissionBtnCtrl.setRedTag(this.m_iTotalProgressAddAll)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setRedTag(this.m_iTotalProgressAddAll)
                    }
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            var n = o.data.eventInfo[900004].UserQuestData;
                            if (this.parseUserDataList(n), this.m_iTotalPrgressCur >= this.m_iTotalPrgressMax) return void console.warn("this.m_iTotalPrgressCur>=this.m_iTotalPrgressMax");
                            for (var i = 0; i < n.length; i++) {
                                var r = void 0,
                                    a = void 0,
                                    s = n[i];
                                if (e.ThemeID == s.GameThemeID && e.QuestID == s.QuestID && e.QuestLevel == s.QuestLevel) {
                                    if (e.Status = s.Status, e.Status == y.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == y.QustObjectiveType.SPIN_TIME) a = e.SpinTimesGate, r = s.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == y.QustObjectiveType.SPIN_AMOUNT) a = e.SpinAmountGate, r = s.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == y.QustObjectiveType.WIN_AMOUNT) a = e.WinAmountGate, r = s.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != y.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        a = e.CustomGate, r = s.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / a;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (c >= 1 && (this.m_MissionTopProgress.m_fucFullChargeCB = this.getTokenShow.bind(this)), this.m_MissionTopProgress.show(!0, e.CustomInfoMsg), this.m_iLastProgress = c >= 1 ? 0 : c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (M) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.m_MissionBtnCtrl.setLocked(!0), this.m_CommGetTokenShow && this.m_CommGetTokenShow.moveToken(this.gotNewToken.bind(this))
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new y.CommBonusData,
                                    a = o[i];
                                if (100 == a.TitleType || 101 == a.TitleType) {
                                    r.QuestID = a.QuestID, r.QuestLevel = a.QuestLevel, r.ThemeID = a.GameThemeID, r.SpinTimesGate = a.SpinTimesGate, r.SpinAmountGate = a.SpinAmountGate, r.WinAmountGate = a.WinAmountGate, r.CustomGate = a.CustomGate, r.CustomType = a.CustomType, r.CustomInfo = a.CustomInfo, r.Award = a.Award, r.Priority = a.Priority, r.CycleSeconds = a.CycleSeconds, r.ExpireTimeUTC = a.ExpireTimeUTC, null != a.CustomInfo && a.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = a.CustomInfo.Msg);
                                    for (var s = 0; s < n.length; s++) {
                                        var c = n[s];
                                        if (r.QuestID == c.QuestID && r.QuestLevel == c.QuestLevel && r.ThemeID == c.GameThemeID) {
                                            r.SpinTimes = c.SpinTimes, r.SpinAmount = c.SpinAmount, r.WinAmount = c.WinAmount, r.CustomAmount = c.CustomAmount, r.Status = c.Status;
                                            break
                                        }
                                    }
                                    100 == a.TitleType && this.checkThemeIsOpen(a.GameThemeID) ? (this.setGateAndAmount(r), this.m_arrMissionData.push(r)) : 101 == a.TitleType && (r.bonusData = this.parseBonusData(a.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_curMapData = r, this.updateBonusPrize(), this.m_iTotalPrgressMax = a.CustomGate, this.parseUserDataList(n)), r.Status == y.UserQuestDataStatus.AWARD_AVAILABLE && this.m_arrAwardAvaiMapData.push(r))
                                } else 300 == a.TitleType && (this.m_bFishEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (M) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalPrgressCur = o.CustomAmount, this.m_TotalPrgressStatus = o.Status;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new y.BonusData;
                    return e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time, e.jp_end_time = t.jp_end_time, e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    try {
                        this.m_curMapData.bonusData = this.parseBonusData(t), this.updateBonusPrize()
                    } catch (M) {}
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = y.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = y.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = "Complete total entries " + t.SpinAmountGate) : t.WinAmountGate > 0 ? (t.QuestType = y.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = y.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), m.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.setActivityRoot(!1), this.m_status = a.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? "ENDS IN: {day} days {hr}:{min}:{sec}" : "ENDS IN: {hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithFormate(t, e), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.m_iLastProgress = 0, this.clearAllNewProgress(), this.reloadLobby(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_status = a.UPDATE_CMD
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (M) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (M) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = o.indexOf(i),
                        a = o.indexOf("BIGICON_" + i);
                    return -1 == n && (r > -1 || a > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("?\ufffd\u66f3\u7d50\ufffd?")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_nodeObjList.active = !t, this.m_labHint.enabled = !t, this.m_bShowFinish = t;
                    var e = "";
                    try {
                        e = "You have reached the goal!!!Please login after the event has ended during the period of time " + this.tsToDateTime(this.m_arrMissionData[0].ExpireTimeUTC) + " - " + this.tsToDateTime(this.m_curMapData.ExpireTimeUTC) + " to receive your portion of the bonus."
                    } catch (M) {
                        e = "You have reached the goal!!!Please login after the event has ended.Please receive the prize in 7 days or it will be expired."
                    }
                    this.m_labFinishMission.string = e
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1)
                }, e.prototype.setReadMePage = function(t) {
                    t ? (this.m_FinishMission.active = !1, this.m_nodeObjList.active = !1, this.m_nodeReadMePage.active = !0) : (this.ToggleFinishMissionPage(this.m_bShowFinish), this.m_nodeReadMePage.active = !1)
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.show(!t), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t ? this.m_CommBonusTotalProgress.setTokens(Math.min(this.m_iTotalPrgressCur, this.m_iTotalPrgressMax) - this.m_iTotalProgressAddAll) : this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        if (m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("?\ufffd\ufffd??\ufffd\u6232\uff0c\ufffd??\ufffd\ufffd?\u8df3\ufffd??\ufffd\ufffd? !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1), self == top ? this.m_LobbyMgr.switchGame.OnSwitchGameIgnoreWindow(this.m_strChangeToGameName) : u.CommonRoot.Instance.m_switchGameGroup.OpenSwitchGameWindow(this.m_strChangeToGameName, this.m_sCurGameName)
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != a.COLLECT && this.setActivityRoot(!1)
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && (this.setOnTop(), I.EventTipsMask.Instance && I.EventTipsMask.Instance.hide(), this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = a.UPDATE_CMD)
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.ToggleFinishMissionPage(this.m_CommBonusTotalProgress.hasGotAllToken()), this.m_MissionListCtrl.setScrollTop(), this.getAllNewProgress(), this.getCurGameMisData() && (this.getCurGameMisData().Priority = -99), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData)
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), s.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickClaimBtn = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var t = this.getCurGameMisData();
                    this.setCollectMisData(t), this.isClickClaimBtn = !0
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o), this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e.toString())
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = y.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = a.COLLECT)
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (console.log("CommBonusMgr.rcvCollectQuestAck  Success : ", e), 0 == e.cmd_data.result) {
                            var o = void 0;
                            SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (this.m_iAwardNum = e.cmd_data.data.AwardWinnings, this.m_iFinalBalance = e.cmd_data.playerInfo.winnings, o = v.ShowType.WINNING) : (this.m_iAwardNum = e.cmd_data.data.AwardEntries, this.m_iFinalBalance = e.cmd_data.playerInfo.entries, o = v.ShowType.ENTRIES) : (this.m_iFinalBalance = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, this.m_iAwardNum = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = v.ShowType.CREDIT), this.node.setSiblingIndex(100), this.showLoginGetAward(!0), this.lobbySetUserBalance(e.cmd_data.playerInfo), this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalBalance - this.m_iAwardNum), c.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                        } else switch (e.cmd_data.result) {
                            case 1:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), c.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                break;
                            case -999:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S189", null, null, null)
                        } else {
                            var n;
                            n = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, n, null, null, null)
                        }
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : u.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Length > 0 && u.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    if (this.m_CommBonusMoneyMgr && t) {
                        var e = "es" == SS.Common.GameEnvironment.Language ? 1 : t.exchange_rate;
                        this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * e), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * e, t.people)
                    }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 != this.m_arrMissionData.length && null != this.m_curMapData)
                        if (this.m_iEndTime < this.m_iNowTime) setTimeout(function() {
                            t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                        }, 3e3);
                        else {
                            null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = a.IDLE;
                            for (var e = !0, o = 0; o < this.m_arrMissionData.length; o++) this.m_arrMissionData[o].Status != y.UserQuestDataStatus.AWARD_CLAIMED && (e = !1);
                            this.isMissionLastDay = this.m_iEndTime == this.m_arrMissionData[0].ExpireTimeUTC, this.ToggleMissionTimeCountDown(!this.isMissionLastDay || !e), this.isRequestInfoNow = !1
                        }
                    else this.m_status = a.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("CommBonusMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (s.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = a.DISABLE : (this.errorCode = "S182", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case y.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case y.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case y.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case y.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("CommBonusMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, r([D(cc.Node)], e.prototype, "root", void 0), r([D(h.CommBonusBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([D(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([D(cc.Node)], e.prototype, "m_FinishMission", void 0), r([D(cc.Label)], e.prototype, "m_labFinishMission", void 0), r([D(_.CommBonusListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([D(d.CommBonusTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([D(b.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([D(g.CommBonusTotalProgress)], e.prototype, "m_CommBonusTotalProgress", void 0), r([D(f.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([D(S.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([D(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([D(p.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([D(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([D(p.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([D(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([D(p.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([D(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([D(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([D(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([D(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([D(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([D([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([D(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([D(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([D(v.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([D(cc.Label)], e.prototype, "m_labHint", void 0), r([D(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([E], e)
            }(C.EventModule);
        o.CommBonusMgr = L, cc._RF.pop()
    }, {
        "../../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../EventModule/EventModule": "EventModule",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../EventBannerData": "EventBannerData",
        "../../EventTipsMask": "EventTipsMask",
        "./../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "./CommBonusBtnCtrl": "CommBonusBtnCtrl",
        "./CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "./CommBonusData": "CommBonusData",
        "./CommBonusListCtrl": "CommBonusListCtrl",
        "./CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "./CommBonusTopProgress": "CommBonusTopProgress",
        "./CommBonusTotalProgress": "CommBonusTotalProgress",
        "./CommGetTokenShow": "CommGetTokenShow"
    }],
    CommBonusMoneyMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "93a27oBIsJPiISUzuR0gw7X", "CommBonusMoneyMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMoneyMgr = void 0;
        var a = t("./../../../Component/NumberCountUp"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_numCountUpMoney = null, e.m_numCountUpPeople = null, e.m_nodeExtra = null, e.m_labExtra = null, e.m_numCountUpMoneyOnBtn = null, e.m_nodeExtraOnBtn = null, e.m_labExtraOnBtn = null, e.m_fucUpdateFloatBtn = null, e.m_fUpdateTime = 10, e.m_bInit = !0, e
                }
                return i(e, t), e.prototype.start = function() {}, e.prototype.setExtra = function(t) {
                    this.m_nodeExtra.active = t > 0, this.m_labExtra.node.active = t > 0, this.m_labExtra.string = "+$" + t, this.m_nodeExtraOnBtn.active = t > 0, this.m_labExtraOnBtn.node.active = t > 0, this.m_labExtraOnBtn.string = "+$" + t
                }, e.prototype.setInfo = function(t, e) {
                    if (this.m_bInit) {
                        var o = "es" == SS.Common.GameEnvironment.Language;
                        this.m_numCountUpMoney.SetNumberFormat(o, !o), this.m_numCountUpMoneyOnBtn.SetNumberFormat(o, !o), this.m_numCountUpMoney.SetNumberNow(t), this.m_numCountUpMoneyOnBtn.SetNumberNow(t), this.m_numCountUpPeople.SetNumberNow(e)
                    } else this.m_numCountUpMoney.CountUp(t, this.m_fUpdateTime), this.m_numCountUpMoneyOnBtn.CountUp(t, this.m_fUpdateTime), this.m_numCountUpPeople.CountUp(e, this.m_fUpdateTime);
                    this.m_bInit = !1
                }, e.prototype.Clear = function() {
                    this.m_bInit = !0, this.setExtra(0), this.setInfo(0, 0)
                }, r([l(a.NumberCountUp)], e.prototype, "m_numCountUpMoney", void 0), r([l(a.NumberCountUp)], e.prototype, "m_numCountUpPeople", void 0), r([l(cc.Node)], e.prototype, "m_nodeExtra", void 0), r([l(cc.Label)], e.prototype, "m_labExtra", void 0), r([l(a.NumberCountUp)], e.prototype, "m_numCountUpMoneyOnBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeExtraOnBtn", void 0), r([l(cc.Label)], e.prototype, "m_labExtraOnBtn", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusMoneyMgr = u, cc._RF.pop()
    }, {
        "./../../../Component/NumberCountUp": "NumberCountUp"
    }],
    CommBonusMsgCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e7965wCxJpBT7f3OZglDokx", "CommBonusMsgCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusMsgCtrl = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_color = null, e.m_colorOutline = null, e.m_fOutlineWidth = null, e.m_richTxtMsg = null, e.m_sPrefix = "", e.m_sPostfix = "", e.m_sNumPrefix = "<outline color=A52A2A width=1><color=#FFD700>", e.m_sNumPostfix = "</color></outline>", e
                }
                return i(e, t), e.prototype.setMsg = function(t) {
                    var e = t.split(" "),
                        o = "",
                        n = 0;
                    this.hide();
                    for (var i = 0; i < e.length; i++) n = n + e[i].length + 1, isNaN(+e[i]) || (e[i] = this.numberFix(e[i])), o = "" == o ? e[i] : o + " " + e[i];
                    this.m_richTxtMsg.string = this.globalFix(o), this.m_richTxtMsg.enabled = !0
                }, e.prototype.numberFix = function(t) {
                    return this.m_sNumPrefix + t + this.m_sNumPostfix
                }, e.prototype.globalFix = function(t) {
                    return this.m_sPrefix + t + this.m_sPostfix
                }, e.prototype.hide = function() {
                    null != this.m_richTxtMsg && (this.m_richTxtMsg.enabled = !1)
                }, r([c(cc.Color)], e.prototype, "m_color", void 0), r([c(cc.Color)], e.prototype, "m_colorOutline", void 0), r([c(cc.Float)], e.prototype, "m_fOutlineWidth", void 0), r([c(cc.RichText)], e.prototype, "m_richTxtMsg", void 0), r([s], e)
            }(cc.Component);
        o.CommBonusMsgCtrl = l, cc._RF.pop()
    }, {}],
    CommBonusTokenCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7ea0bYUCWhIeq65G8/KU/S5", "CommBonusTokenCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTokenCtrl = void 0;
        var a = t("./CommGetTokenShow"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeToken = null, e.m_nodePtr = null, e.m_animShow = null, e.m_labPlusOne = null, e.m_bHidePtr = !1, e.m_fOrgScale = 1, e.m_fucShowStartCB = null, e.m_fucShowEndCB = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    null != this.m_nodePtr && (this.m_nodePtr.active = !this.m_bHidePtr), this.m_fOrgScale = this.m_nodeToken.scale
                }, e.prototype.showFlyToken = function(t, e) {
                    this.m_CommGetTokenShow.moveTokenFromTo(t, this.node, e, this.m_fucShowStartCB, this.showFlyTokenEnd.bind(this))
                }, e.prototype.showFlyTokenEnd = function() {
                    this.setToken(!0), this.m_fucShowEndCB && this.m_fucShowEndCB()
                }, e.prototype.showToken = function() {
                    this.m_nodeToken.active = !0, this.m_labPlusOne.string = "+1";
                    var t = cc.scaleTo(.25, 1.5 * this.m_fOrgScale),
                        e = cc.scaleTo(.125, 1 * this.m_fOrgScale),
                        o = cc.sequence(t, e);
                    this.m_nodeToken.stopAllActions(), this.m_nodeToken.scale = .5 * this.m_fOrgScale, this.m_nodeToken.runAction(o);
                    var n = cc.fadeOut(2);
                    this.m_labPlusOne.node.runAction(n)
                }, e.prototype.setToken = function(t) {
                    this.m_labPlusOne.node.active = !1, this.m_nodeToken.stopAllActions(), this.m_nodeToken.active = t, null != this.m_animShow && (t ? (this.m_animShow.node.opacity = 255, this.m_animShow.play()) : this.m_animShow.node.opacity = 0)
                }, e.prototype.isTokenAct = function() {
                    return this.m_nodeToken.active
                }, r([l(cc.Node)], e.prototype, "m_nodeToken", void 0), r([l(cc.Node)], e.prototype, "m_nodePtr", void 0), r([l(cc.Animation)], e.prototype, "m_animShow", void 0), r([l(cc.Label)], e.prototype, "m_labPlusOne", void 0), r([l(cc.Boolean)], e.prototype, "m_bHidePtr", void 0), r([l(a.CommGetTokenShow)], e.prototype, "m_CommGetTokenShow", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusTokenCtrl = u, cc._RF.pop()
    }, {
        "./CommGetTokenShow": "CommGetTokenShow"
    }],
    CommBonusTopProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9937cLWzu1PMpKssyMRG1Qd", "CommBonusTopProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTopProgress = void 0;
        var c = t("../../../Component/AudioMgr"),
            l = t("../../MissionMgr/Script/MissionMsgCtrl"),
            u = t("./CommBonusMsgCtrl"),
            p = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            m = t("../../../Component/BundleCtrl"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Prompt = null, e.m_animate = null, e.m_sprGameIcon = null, e.m_sprAtlasGameIcon = null, e.promptBar = null, e.m_btn = null, e.promptClaimBtnHand = null, e.promptProcessLabel = null, e.m_labCustomInfo = null, e.m_missionMsgCtrl = null, e.m_CommBonusMsgCtrl = null, e.m_fucFullChargeCB = null, e.hidePromptEventId = null, e.m_numProgressUpTo = 0, e.m_numProgressSpeed = .002, e.m_bIsProgressUp = !1, e.m_bIsShow = !1, e.m_fOrgWidth = 0, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e
                }
                return i(e, t), e.prototype.update = function() {
                    if (this.m_bIsProgressUp) {
                        var t = .1 * (this.m_numProgressUpTo - this.m_numProgressCtr);
                        t = t < this.m_numProgressSpeed ? this.m_numProgressSpeed : t, this.m_numProgressCtr += t, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo, this.m_fucFullChargeCB && 1 == this.m_numProgressUpTo && this.m_fucFullChargeCB()), this.setProgress(this.m_numProgressCtr)
                    }
                }, e.prototype.init = function() {
                    this.m_Prompt.active = !1, this.m_fOrgWidth = this.promptBar.node.width, this.promptBar.enabled = !1, this.m_animate = this.m_Prompt.getComponent(cc.Animation), this.hidePromptEventId = void 0
                }, e.prototype.show = function(t, e, o) {
                    var n = this;
                    if (void 0 === e && (e = ""), void 0 === o && (o = 5e3), null != this.m_Prompt) {
                        window.clearTimeout(this.hidePromptEventId);
                        var i = SS.Common.GameEnvironment.GetCurGameIsVertical();
                        t ? (this.m_bIsShow || (this.m_Prompt.active = t, this.m_labCustomInfo.enabled = !1, this.m_CommBonusMsgCtrl.setMsg(e), i ? this.m_animate.play("VerticalShowPrompt", 0) : this.m_animate.play("ShowPrompt", 0), c.AudioMgr.Instance.Play("Missions_Call", !1, 1)), o >= 0 && (this.hidePromptEventId = setTimeout(function() {
                            n.show(!1)
                        }, o))) : (this.showBtn(!1), i ? this.m_animate.play("VerticalHidePrompt", 0) : this.m_animate.play("HidePrompt", 0), this.hidePromptEventId = setTimeout(function() {
                            n.m_Prompt && (n.m_Prompt.active = !1)
                        }, 2e3)), this.m_bIsShow = t
                    }
                }, e.prototype.showBtn = function(t) {
                    null != this.m_btn && (this.m_btn.node.active = t)
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setProgress = function(t) {
                    this.promptBar.enabled = !0, this.promptBar.node.width = this.m_fOrgWidth * t, this.promptProcessLabel.string = SS.Common.BaseFunction.addCommas(100 * t, 2, !1) + "%"
                }, e.prototype.setProgressCtr = function(t) {
                    this.m_numProgressCtr = t
                }, e.prototype.setProgressChargeTo = function(t) {
                    this.m_fucFullChargeCB && this.m_bIsProgressUp && 1 == this.m_numProgressUpTo && this.m_numProgressCtr > t && this.m_fucFullChargeCB(), this.m_numProgressUpTo = t, this.m_bIsProgressUp = !0
                }, e.prototype.setGameIcon = function(t) {
                    this.setSprFrameWithAtlas(t, this.m_sprGameIcon)
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        var o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, m.default.Instance.GetSpirte("SquareGameIcon", t)];
                                case 1:
                                    return (o = n.sent()) ? (e.spriteFrame = o, e.enabled = !0, e.node.active = !0) : e.node.active = !1, this.m_iDLPicCtr--, this.m_iDLPicCtr, [2]
                            }
                        })
                    })
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e)
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.loader.load(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r), cc.loader.release(i)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    e.spriteFrame = o, e.enabled = !0, this.m_iDLPicCtr--, this.m_iDLPicCtr
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Error, "C38", null, null, null) : this.DLSprFrame(t, e)
                }, r([_(cc.Node)], e.prototype, "m_Prompt", void 0), r([_(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([_(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([_(cc.Sprite)], e.prototype, "promptBar", void 0), r([_(cc.Button)], e.prototype, "m_btn", void 0), r([_(cc.Node)], e.prototype, "promptClaimBtnHand", void 0), r([_(cc.Label)], e.prototype, "promptProcessLabel", void 0), r([_(cc.Label)], e.prototype, "m_labCustomInfo", void 0), r([_(l.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([_(u.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([d], e)
            }(cc.Component);
        o.CommBonusTopProgress = g, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/BundleCtrl": "BundleCtrl",
        "../../MissionMgr/Script/MissionMsgCtrl": "MissionMsgCtrl",
        "./CommBonusMsgCtrl": "CommBonusMsgCtrl"
    }],
    CommBonusTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3b52dl9gVVLM4CR7gX53X20", "CommBonusTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommBonusTotalProgress = void 0;
        var a = t("./CommBonusTokenCtrl"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_arrTokenCtrlList = [], e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_fucTokenShowStartCB = null, e.m_fucAllTokenShowEndCB = null, e.m_fucAllTokenEnlargeEndCB = null, e.m_fucTokenEnlargeEndCB = null, e.m_fucTokenEnlargeStartCB = null, e.m_iFlyTokenCtr = 0, e.m_iEnlargeTokenCtr = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    for (var t = 0; t < this.m_arrTokenCtrlList.length; t++) this.m_arrTokenCtrlList[t].m_CommGetTokenShow && (this.m_arrTokenCtrlList[t].m_CommGetTokenShow.m_pfToken = this.m_pfToken, this.m_arrTokenCtrlList[t].m_CommGetTokenShow.m_pfMoveEnd = this.m_pfMoveEnd)
                }, e.prototype.setTokenShowStartCB = function(t) {
                    this.m_fucTokenShowStartCB = t
                }, e.prototype.setAllTokenShowEndCB = function(t) {
                    this.m_fucAllTokenShowEndCB = t;
                    for (var e = 0; e < this.m_arrTokenCtrlList.length; e++) this.m_arrTokenCtrlList[e].m_fucShowEndCB = this.checkAllTokenShowEnd.bind(this)
                }, e.prototype.setTokens = function(t) {
                    for (var e = 0; e < this.m_arrTokenCtrlList.length; e++) {
                        var o = this.m_arrTokenCtrlList[e];
                        e < t ? o.setToken(!0) : o.setToken(!1)
                    }
                }, e.prototype.showOneByOne = function(t, e, o) {
                    for (var n = 0; n < e; n++) {
                        var i = t + n;
                        if (!this.m_arrTokenCtrlList[i]) return;
                        this.m_iFlyTokenCtr++;
                        var r = this.m_arrTokenCtrlList[i];
                        r.m_fucShowStartCB = this.m_fucTokenShowStartCB, r.showFlyToken(n, o)
                    }
                }, e.prototype.enLargeOneByOne = function(t, e) {
                    for (var o = 0; o < e; o++) {
                        var n = t + o;
                        if (!this.m_arrTokenCtrlList[n]) return;
                        this.m_iEnlargeTokenCtr++;
                        var i = this.m_arrTokenCtrlList[n],
                            r = cc.delayTime(.5 * o),
                            a = cc.callFunc(this.m_fucTokenEnlargeStartCB),
                            s = cc.callFunc(i.showToken.bind(i)),
                            c = cc.callFunc(this.checkAllTokenEnlargeEnd.bind(this)),
                            l = cc.delayTime(1),
                            u = cc.sequence(r, a, s, l, c);
                        this.node.runAction(u)
                    }
                }, e.prototype.checkAllTokenShowEnd = function() {
                    this.m_iFlyTokenCtr--, 0 == this.m_iFlyTokenCtr && this.m_fucAllTokenShowEndCB && this.m_fucAllTokenShowEndCB()
                }, e.prototype.checkAllTokenEnlargeEnd = function() {
                    this.m_iEnlargeTokenCtr--, this.m_fucTokenEnlargeEndCB && this.m_fucTokenEnlargeEndCB(), 0 == this.m_iEnlargeTokenCtr && this.m_fucAllTokenEnlargeEndCB && this.m_fucAllTokenEnlargeEndCB()
                }, e.prototype.hasGotAllToken = function() {
                    for (var t = 0; t < this.m_arrTokenCtrlList.length; t++)
                        if (0 == this.m_arrTokenCtrlList[t].isTokenAct()) return !1;
                    return !0
                }, r([l([a.CommBonusTokenCtrl])], e.prototype, "m_arrTokenCtrlList", void 0), r([l(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([l(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([c], e)
            }(cc.Component);
        o.CommBonusTotalProgress = u, cc._RF.pop()
    }, {
        "./CommBonusTokenCtrl": "CommBonusTokenCtrl"
    }],
    CommGetTokenShow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "817fdFhOC5ATobLpMG7KEVL", "CommGetTokenShow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommGetTokenShow = void 0;
        var c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_iTokenCount = 0, e.m_nodeTaret = null, e.m_nodeSource = null, e.m_fTokenFlySpeed = 600, e.m_nodeScene = null, e.m_npToken = null, e.m_arrNodeQueue = [], e
                }
                return i(e, t), e.prototype.start = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e;
                        return s(this, function() {
                            for (this.m_npToken = new cc.NodePool, t = 0; t < 3; t++) e = cc.instantiate(this.m_pfToken), this.m_npToken.put(e);
                            return [2]
                        })
                    })
                }, e.prototype.moveTokenFromTo = function(t, e, o, n, i) {
                    var r = this;
                    if (this.m_nodeTaret = e, this.m_nodeSource = o, null != this.m_nodeTaret) {
                        var a = this.m_nodeSource.parent.convertToWorldSpaceAR(this.m_nodeSource.getPosition()),
                            s = new cc.Vec2(a.x, a.y),
                            c = this.m_nodeTaret.parent.convertToWorldSpaceAR(this.m_nodeTaret.getPosition()),
                            l = new cc.Vec2(c.x, c.y),
                            u = this.m_npToken.get();
                        null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), u.parent = this.m_nodeScene, u.setPosition(new cc.Vec2(1e5, 1e5)), cc.hide();
                        var p = cc.delayTime(.25 * t),
                            m = cc.callFunc(function() {
                                n && n(), u.setPosition(s)
                            }),
                            h = (cc.show(), cc.moveTo(1, l)),
                            d = (cc.fadeIn(0), cc.fadeOut(0), cc.show(), cc.callFunc(function() {
                                r.moveEndEffect(l), i && i(), u.setPosition(new cc.Vec2(1e5, 1e5))
                            })),
                            _ = (cc.removeSelf(), cc.delayTime(1)),
                            g = cc.callFunc(function() {
                                r.m_npToken.put(u)
                            }),
                            f = cc.sequence(p, m, h, d, _, g);
                        u.runAction(f)
                    }
                }, e.prototype.moveToken = function(t) {
                    var e = this;
                    if (null != this.m_nodeTaret) {
                        var o = this.m_nodeSource.parent.convertToWorldSpaceAR(this.m_nodeSource.getPosition()),
                            n = new cc.Vec2(o.x, o.y),
                            i = this.m_nodeTaret.parent.convertToWorldSpaceAR(this.m_nodeTaret.getPosition()),
                            r = new cc.Vec2(i.x, i.y),
                            a = this.dist(r, n) / this.m_fTokenFlySpeed;
                        this.m_iFinishedToken = 0;
                        for (var s = function(o) {
                                var i = c.m_npToken.get();
                                null == c.m_nodeScene && (c.m_nodeScene = cc.director.getScene()), i.parent = c.m_nodeScene, i.setPosition(n), cc.hide();
                                var s = cc.delayTime(.25 * o),
                                    l = (cc.show(), cc.moveTo(a, r)),
                                    u = (cc.fadeIn(0), cc.fadeOut(0), cc.removeSelf(), cc.callFunc(function() {
                                        e.m_iFinishedToken++, e.moveEndEffect(r), e.m_iFinishedToken >= e.m_iTokenCount && t && t(), i.setPosition(new cc.Vec2(1e5, 1e5))
                                    })),
                                    p = cc.delayTime(1),
                                    m = cc.callFunc(function() {
                                        e.m_npToken.put(i)
                                    }),
                                    h = (cc.removeSelf(), cc.sequence(s, l, u, p, m));
                                i.runAction(h)
                            }, c = this, l = 0; l < this.m_iTokenCount; l++) s(l)
                    }
                }, e.prototype.dist = function(t, e) {
                    return t.sub(e).mag()
                }, e.prototype.moveEndEffect = function(t) {
                    var e = cc.instantiate(this.m_pfMoveEnd);
                    null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), e.parent = this.m_nodeScene, e.setPosition(t);
                    var o = cc.delayTime(5),
                        n = cc.removeSelf(),
                        i = cc.sequence(o, n);
                    e.runAction(i)
                }, r([u(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([u(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([u(Number)], e.prototype, "m_iTokenCount", void 0), r([u(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([u(cc.Node)], e.prototype, "m_nodeSource", void 0), r([l], e)
            }(cc.Component);
        o.CommGetTokenShow = p, cc._RF.pop()
    }, {}],
    CommonRoot: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "913d016m8xIKZ34MDK5F0L3", "CommonRoot");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CommonRoot = o.ModuleType = void 0;
        var a, s, c = t("./../../../LobbyCommon/TopBar/Script/TopbarMgr"),
            l = t("./../../../GameCommon/Message/Script/MessageMgr"),
            u = t("../../../GameCommon/Pruchase/Script/PurchaseMgr"),
            p = t("../../../GameCommon/CheatKey/CheatKeyManager"),
            m = t("../../../GameCommon/JPTimer/Script/JPTimerMgr"),
            h = t("../../../GameCommon/DownBar/GameBar"),
            d = t("../../../GameCommon/InforMgr/Script/InfoMgr"),
            _ = t("../../../LobbyCommon/EventModule/MissionMgr/Script/RepeatingMissionMgr"),
            g = t("../../../LobbyCommon/SwitchGame/SwitchGameGroup"),
            f = t("../../../LobbyCommon/Component/GlobalData"),
            y = t("../../../LobbyCommon/Net/LobbyClient"),
            S = t("../../../LobbyCommon/PlatformJp/Script/JPRewardMgr"),
            C = t("../../../LobbyCommon/EventModule/CommunityBonus/Script/CommBonusMgr"),
            v = t("../../../LobbyCommon/EventModule/CommunityBonus/Script/Rank/CommBonusMgr_Rank"),
            b = cc._decorator,
            P = b.ccclass,
            w = b.property;
        (function(t) {
            t[t.horizontal = 0] = "horizontal", t[t.vertical = 1] = "vertical", t[t.auto = 2] = "auto"
        })(a || (a = {})),
        function(t) {
            t[t.GameBar = 0] = "GameBar", t[t.JPTimerMgr = 1] = "JPTimerMgr", t[t.PurchaseMgr = 2] = "PurchaseMgr", t[t.CheatKeyManager = 3] = "CheatKeyManager", t[t.MessageMgr = 4] = "MessageMgr", t[t.TopbarMgr = 5] = "TopbarMgr", t[t.InfoMgr = 6] = "InfoMgr", t[t.JPRewardMgr = 7] = "JPRewardMgr", t[t.SwitchGameGroup = 8] = "SwitchGameGroup"
        }(s = o.ModuleType || (o.ModuleType = {}));
        var I = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_GameBar = null, e.m_JPTimer = null, e.m_PurchaseMgr = null, e.m_CheatKeyMgr = null, e.m_msgMgr = null, e.m_topbarMgr = null, e.m_infoMgr = null, e.m_JPRewardMgr = null, e.m_switchGameGroup = null, e.m_nodeDynamicEvent = null, e.m_RepeatingMissionMgr = null, e.m_CommBonusMgr = null, e.m_CommBonusMgr_Rank = null, e.m_nodeBulletinBoard = null, e.m_Profile = null, e
            }
            var o;
            return i(e, t), o = e, Object.defineProperty(e, "Instance", {
                get: function() {
                    return this.instance
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetGameBar", {
                get: function() {
                    return this.m_GameBar
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetJPTimer", {
                get: function() {
                    return this.m_JPTimer
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetPurchaseMgr", {
                get: function() {
                    return this.m_PurchaseMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetCheatKeyMgr", {
                get: function() {
                    return this.m_CheatKeyMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetMsgMgr", {
                get: function() {
                    return this.m_msgMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetTopBarMgr", {
                get: function() {
                    return this.m_topbarMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetInfoMgr", {
                get: function() {
                    return this.m_infoMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetJpRewardMgr", {
                get: function() {
                    return this.m_JPRewardMgr
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "GetSwitchGameMgr", {
                get: function() {
                    return this.m_switchGameGroup
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.onLoad = function() {
                o.instance = this, this.m_GameBar && this.m_GameBar._onLoad(), this.m_JPTimer && this.m_JPTimer._onLoad(), this.m_infoMgr && this.m_infoMgr._onLoad(), this.m_CheatKeyMgr && this.m_CheatKeyMgr._onLoad(), this.m_JPRewardMgr && this.m_JPRewardMgr._onLoad(), this.m_PurchaseMgr && this.m_PurchaseMgr._onLoad(), this.m_msgMgr && this.m_msgMgr._onLoad(), this.m_topbarMgr && this.m_topbarMgr._onLoad(), this.m_switchGameGroup && this.m_switchGameGroup._onLoad(), f.GlobalData.isDeveloper || null == y.LobbyClient.Instance.m_CommonEventInfo_900004 || this.getDynamicRes(), this.getProfile()
            }, e.prototype.start = function() {
                this.m_GameBar && this.m_GameBar._start(), this.m_JPTimer && this.m_JPTimer._start(), this.m_PurchaseMgr && this.m_PurchaseMgr._start(), this.m_JPRewardMgr && this.m_JPRewardMgr._start(), this.m_topbarMgr && this.m_topbarMgr._start(), this.ComposeModule()
            }, e.prototype.onDestroy = function() {
                this.m_GameBar && this.m_GameBar._onDestroy(), this.m_JPRewardMgr && this.m_JPRewardMgr._Destroy(), this.m_infoMgr && this.m_infoMgr._onDestroy()
            }, e.prototype.SwitchCustomModule = function(t, e) {
                console.warn("[SwitchCustomModule] Module: ", t);
                var o = null;
                switch (t) {
                    case s.GameBar:
                        o = this.m_GameBar, this.m_GameBar = e, this.ReSetModuleSiblingIndex(o, this.m_GameBar), this.m_GameBar._onLoad();
                        break;
                    case s.JPTimerMgr:
                        o = this.m_JPTimer, this.m_JPTimer = e, this.ReSetModuleSiblingIndex(o, this.m_JPTimer), this.m_JPTimer._onLoad();
                        break;
                    case s.PurchaseMgr:
                        o = this.m_PurchaseMgr, this.m_PurchaseMgr = e, this.ReSetModuleSiblingIndex(o, this.m_PurchaseMgr), this.m_PurchaseMgr._onLoad();
                        break;
                    case s.CheatKeyManager:
                        o = this.m_CheatKeyMgr, this.m_CheatKeyMgr = e, this.ReSetModuleSiblingIndex(o, this.m_CheatKeyMgr), this.m_CheatKeyMgr._onLoad();
                        break;
                    case s.MessageMgr:
                        o = this.m_msgMgr, this.m_msgMgr = e, this.ReSetModuleSiblingIndex(o, this.m_msgMgr), this.m_msgMgr._onLoad();
                        break;
                    case s.TopbarMgr:
                        o = this.m_topbarMgr, this.m_topbarMgr = e, this.ReSetModuleSiblingIndex(o, this.m_topbarMgr), this.m_topbarMgr._onLoad();
                        break;
                    case s.InfoMgr:
                        o = this.m_infoMgr, this.m_infoMgr = e, this.ReSetModuleSiblingIndex(o, this.m_infoMgr), this.m_infoMgr._onLoad();
                        break;
                    case s.JPRewardMgr:
                        o = this.m_JPRewardMgr, this.m_JPRewardMgr = e, this.ReSetModuleSiblingIndex(o, this.m_JPRewardMgr), this.m_JPRewardMgr._onLoad();
                        break;
                    case s.SwitchGameGroup:
                        o = this.m_switchGameGroup, this.m_switchGameGroup = e, this.ReSetModuleSiblingIndex(o, this.m_switchGameGroup), this.m_switchGameGroup._onLoad();
                        break;
                    default:
                        o = null
                }
                null != e && null != o && o.node.destroy()
            }, e.prototype.ReSetModuleSiblingIndex = function(t, e) {
                var o = -1;
                null != t && null != e && (o = t.node.getSiblingIndex(), e.node.parent = this.node, e.node.setSiblingIndex(o))
            }, e.prototype.ComposeModule = function() {
                this.m_GameBar && this.m_GameBar.Compose({
                    parPurchaseMgr: this.m_PurchaseMgr,
                    parMessageMgr: this.m_msgMgr
                }), this.m_JPRewardMgr && this.m_JPRewardMgr.Compose({
                    parSlotGameBar: this.m_GameBar
                })
            }, e.prototype.getDynamicRes = function() {
                var t = SS.Common.GameEnvironment.GetCurGameIsVertical() ? "Vertical_" : "",
                    e = cc.director.getScene().getChildByName("LobbyCommon"),
                    o = e.getChildByName(t + "900004");
                o && (o.parent = this.m_nodeDynamicEvent, this.m_RepeatingMissionMgr = o.getComponent(_.RepeatingMissionMgr), this.m_RepeatingMissionMgr.m_MissionBtnCtrl.show(!0));
                var n = e.getChildByName(t + "900004_CommunityBonus");
                n && (n.parent = this.m_nodeDynamicEvent, this.m_CommBonusMgr = n.getComponent(C.CommBonusMgr), this.m_CommBonusMgr.m_MissionBtnCtrl.show(!0)), cc.log("lobbyCommon = "), cc.log(e);
                var i = null;
                e.children.forEach(function(t) {
                    t.name.includes("900004_RankBonus") && (i = t)
                }), i && (i.parent = this.m_nodeDynamicEvent, this.m_CommBonusMgr_Rank = i.getComponent(v.CommBonusMgr_Rank), this.m_CommBonusMgr_Rank.m_MissionBtnCtrl.show(!0), console.warn("getDynamicRes() 900004_RankBonus")), this.m_nodeBulletinBoard = e.getChildByName("BulletinBoard")
            }, e.prototype.getProfile = function() {
                var t = cc.director.getScene().getChildByName("LobbyCommon"),
                    e = SS.Common.GameEnvironment.GetCurGameIsVertical() ? "ProfileVertical" : "Profile",
                    o = t.getChildByName(e);
                o && (o.parent = this.m_nodeDynamicEvent, this.m_Profile = o.getComponent("Profile")), o = null, t = null, e = null
            }, e.prototype.replaceJPTimer = function(t) {
                this.m_JPTimer.node.active = !1, this.m_JPTimer = t
            }, e.prototype.replaceMsgMgr = function(t) {
                this.m_msgMgr.node.active = !1, this.m_msgMgr = t
            }, r([w(h.GameBar)], e.prototype, "m_GameBar", void 0), r([w(m.JPTimerMgr)], e.prototype, "m_JPTimer", void 0), r([w(u.PurchaseMgr)], e.prototype, "m_PurchaseMgr", void 0), r([w(p.CheatKeyManager)], e.prototype, "m_CheatKeyMgr", void 0), r([w(l.MessageMgr)], e.prototype, "m_msgMgr", void 0), r([w(c.TopbarMgr)], e.prototype, "m_topbarMgr", void 0), r([w(d.InfoMgr)], e.prototype, "m_infoMgr", void 0), r([w(S.JPRewardMgr)], e.prototype, "m_JPRewardMgr", void 0), r([w(g.SwitchGameGroup)], e.prototype, "m_switchGameGroup", void 0), r([w(cc.Node)], e.prototype, "m_nodeDynamicEvent", void 0), o = r([P], e)
        }(cc.Component);
        o.CommonRoot = I, cc._RF.pop()
    }, {
        "../../../GameCommon/CheatKey/CheatKeyManager": "CheatKeyManager",
        "../../../GameCommon/DownBar/GameBar": "GameBar",
        "../../../GameCommon/InforMgr/Script/InfoMgr": "InfoMgr",
        "../../../GameCommon/JPTimer/Script/JPTimerMgr": "JPTimerMgr",
        "../../../GameCommon/Pruchase/Script/PurchaseMgr": "PurchaseMgr",
        "../../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../../LobbyCommon/EventModule/CommunityBonus/Script/CommBonusMgr": "CommBonusMgr",
        "../../../LobbyCommon/EventModule/CommunityBonus/Script/Rank/CommBonusMgr_Rank": "CommBonusMgr_Rank",
        "../../../LobbyCommon/EventModule/MissionMgr/Script/RepeatingMissionMgr": "RepeatingMissionMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PlatformJp/Script/JPRewardMgr": "JPRewardMgr",
        "../../../LobbyCommon/SwitchGame/SwitchGameGroup": "SwitchGameGroup",
        "./../../../GameCommon/Message/Script/MessageMgr": "MessageMgr",
        "./../../../LobbyCommon/TopBar/Script/TopbarMgr": "TopbarMgr"
    }],
    ConnectPanelMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b9245QAPENB5I/cdpndrXav", "ConnectPanelMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ConnectPanelMgr = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.priority = 9, e.m_arrOwner = [], e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this)
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.prototype.ShowConnectPanel = function(t) {
                    void 0 === t && (t = 9), console.warn("ConnectPanelMgr.ShowConnectPanel, priorty = " + t), t < 0 && (t = 0), t > 9 && (t = 9), t < this.priority && (this.priority = t), this.root.active = !0
                }, e.prototype.DisableConnectPanel = function(t) {
                    void 0 === t && (t = 9), console.warn("ConnectPanelMgr.DisableConnectPanel, priorty = " + t), t < 0 && (t = 0), t > 9 && (t = 9), t > this.priority ? console.warn("ConnectPanelMgr.DisableConnectPanel fail,  priority = " + t + ", this.priority = " + this.priority) : (this.root.active = !1, this.priority = 9)
                }, e.prototype.show = function(t) {
                    console.warn("ConnectPanelMgr.show"), this.m_arrOwner.indexOf(t) > -1 || (this.m_arrOwner.push(t), this.root.active = !0)
                }, e.prototype.disable = function(t) {
                    console.warn("ConnectPanelMgr.disable");
                    var e = this.m_arrOwner.indexOf(t);
                    e > -1 && (this.m_arrOwner.splice(e, 1), 0 == this.m_arrOwner.length && (this.root.active = !1))
                }, e.Instance = null, r([c(cc.Node)], e.prototype, "root", void 0), o = r([s], e)
            }(cc.Component);
        o.ConnectPanelMgr = l, cc._RF.pop()
    }, {}],
    CookieCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c65e9F14m9A/pnWyCcQXyD4", "CookieCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.CookieCtrl = o.CookieKey = void 0;
        var a = cc._decorator,
            s = a.ccclass;
        a.property,
            function(t) {
                t.MusicIndex = "MUSIC_INDEX", t.MusicSaveName = "MUSIC_SAVE_NAME"
            }(o.CookieKey || (o.CookieKey = {}));
        var c = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return i(e, t), e.GetCookie = function(t) {
                if (null != JSUtility) return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
            }, e.SetCookie = function(t, e) {
                JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
            }, r([s], e)
        }(cc.Component);
        o.CookieCtrl = c, cc._RF.pop()
    }, {}],
    CrossDomainCookie: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "76e5anu6l1HSpM7Dwa8u48z", "CrossDomainCookie");
        var n = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            i = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function() {
                function t() {
                    this._src = "", this._iFrame = null, this._onLoad = null, this._waitResult = null, this._window = null
                }
                var e;
                return e = t, t.Init = function(t) {
                    return void 0 === t && (t = "cookie"), i(this, void 0, void 0, function() {
                        return r(this, function() {
                            return this._instance || (this._instance = new e), this._instance._iFrame || (this._instance._iFrame = document.getElementById(t)), [2]
                        })
                    })
                }, t.GetCookie = function(t, o) {
                    return i(this, void 0, Promise, function() {
                        var n, i, a, s, c = this;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return n = SS.Common.GameEnvironment.ProjectSetting.Modules.CrossLog.Timeout, [4, e.Init()];
                                case 1:
                                    return r.sent(), i = !0, [4, new Promise(function(e) {
                                        try {
                                            setTimeout(function() {
                                                i && e("error")
                                            }, 1e3 * n), c._instance._onLoad = c.OnLoad.bind(c, e), window.addEventListener("message", c._instance._onLoad), c._instance._src = t, c._instance._iFrame.src = t
                                        } catch (o) {
                                            return console.warn(o), "error"
                                        }
                                    })];
                                case 2:
                                    return r.sent(), i = !1, a = !0, [4, new Promise(function(e) {
                                        try {
                                            setTimeout(function() {
                                                a && e("error")
                                            }, 1e3 * n), c._instance._waitResult = c.WaitResult.bind(c, e), window.addEventListener("message", c._instance._waitResult), c._instance._iFrame.contentWindow.postMessage(o, t)
                                        } catch (i) {
                                            return console.warn(i), "error"
                                        }
                                    })];
                                case 3:
                                    return s = r.sent(), a = !1, [2, s]
                            }
                        })
                    })
                }, t.OnLoad = function(t) {
                    window.removeEventListener("message", this._instance._onLoad), console.log("[CrossDomainCookie] On Load"), t()
                }, t.WaitResult = function(t, e) {
                    window.removeEventListener("message", this._instance._waitResult), console.log("[CrossDomainCookie] Wait Result"), t(e.data)
                }, t.Close = function() {
                    this._instance && this._instance._iFrame && (this._instance._iFrame.src = "")
                }, t.Destroy = function() {
                    this._instance && this._instance._iFrame && (this._instance._iFrame.innerHTML = "")
                }, t._instance = null, e = n([s], t)
            }());
        o.default = c, cc._RF.pop()
    }, {}],
    DateTimeCountDown: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "57da6uIiDNIDoXzowOIRMjQ", "DateTimeCountDown");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DateTimeCountDown = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.UpdateUI = function(t) {
                    var e = t % 60,
                        o = Math.floor(t / 60) % 60,
                        n = Math.floor(t / 3600);
                    this.dateTimeLabel.string = this.AddZero(n) + ":" + this.AddZero(o) + ":" + this.AddZero(e), this.dateTimeLabel.node.color = 0 == n ? cc.Color.RED : cc.Color.WHITE
                }, e.prototype.UpdateUIWithDay = function(t) {
                    var e, o = t % 60,
                        n = Math.floor(t / 60) % 60,
                        i = Math.floor(t / 3600),
                        r = Math.floor(i / 24);
                    i %= 24, e = r <= 0 ? this.AddZero(i) + ":" + this.AddZero(n) + ":" + this.AddZero(o) : r + "d " + this.AddZero(i) + "h", this.dateTimeLabel.string = e, this.dateTimeLabel.node.color = 0 == i && 0 == r ? new cc.Color(255, 32, 32) : new cc.Color(128, 255, 128)
                }, e.prototype.AddZero = function(t) {
                    return t < 10 ? "0" + t.toString() : t.toString()
                }, e.prototype.getDayString = function(t) {
                    if (t <= 0) return "";
                    for (var e = t.toString(), o = 0; o < 3 && e.length < 3; o++) e = " " + e;
                    return e + "D "
                }, e.prototype.UpdateUIWithFormate = function(t, e) {
                    var o = t % 60,
                        n = Math.floor(t / 60) % 60,
                        i = Math.floor(t / 3600),
                        r = Math.floor(i / 24);
                    i %= 24, e = (e = (e = (e = e.replace("{sec}", this.AddZero(o))).replace("{min}", this.AddZero(n))).replace("{hr}", this.AddZero(i))).replace("{day}", r.toString()), this.dateTimeLabel.string = e, this.dateTimeLabel.node.color = 0 == i && 0 == r ? cc.Color.RED : cc.Color.WHITE
                }, r([c(cc.Label)], e.prototype, "dateTimeLabel", void 0), r([s], e)
            }(cc.Component);
        o.DateTimeCountDown = l, cc._RF.pop()
    }, {}],
    Device: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "897ef2eratOyLg1uu5vA4bA", "Device");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Device = void 0;
        var a, s, c = cc._decorator,
            l = c.ccclass,
            u = c.property;
        (function(t) {
            t[t.horizontal = 0] = "horizontal", t[t.vertical = 1] = "vertical", t[t.auto = 2] = "auto"
        })(a || (a = {})),
        function(t) {
            t[t.chrome = 0] = "chrome", t[t.safari = 1] = "safari"
        }(s || (s = {}));
        var p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.mask = null, e.isDone = !1, e.isAllowShowSwipe = !0, e.scrollToResetTimeOut = null, e.checkScrollInterval = null, e.orientationTimeOut = null, e.fullScreenTimeOut = null, e.detectScreenPromptTimeOut = null, e.useLanguage = "", e.isiOS13Up = !1, e.isScrolling = !1, e.nowOrientationStatus = -1, e.browserType = s.chrome, e.iOS15SafariCloseSwipe = !1, e
            }
            var o;
            return i(e, t), o = e, e.SetInstance = function(t) {
                o.Instance = t
            }, e.prototype.onLoad = function() {
                null == o.Instance && (o.Instance = this, cc.game.addPersistRootNode(this.node))
            }, e.prototype.start = function() {
                this.GetIsStandalone() || (cc.sys.os === cc.sys.OS_IOS && !0 === this.isSafari() ? this.browserType = s.safari : this.browserType = s.chrome), cc.sys.os === cc.sys.OS_ANDROID && this.FixCocosGameContainer(!1)
            }, e.prototype.ChangeShowSwipeStatus = function(t) {
                if (!this.GetIsStandalone() && cc.sys.os === cc.sys.OS_IOS) {
                    if (!0 === this.isSafari()) return;
                    this.isAllowShowSwipe = t, t && this.DetectSwipeByIPhoneChrome()
                }
            }, e.prototype.FixCocosGameContainer = function(t) {
                var e = window.document.getElementById("Cocos2dGameContainer");
                e && (e.style.position = t ? "fixed" : "absolute")
            }, e.prototype.SafariSwipe = function() {
                var t = window.document.getElementById("bar"),
                    e = window.innerHeight;
                t.clientHeight === e ? this.hideSwipe() : this.showSwipe()
            }, e.prototype.setOnOrientation = function() {
                if (console.log("webview: " + this.isWebview()), !this.isWebview()) {
                    "" == this.useLanguage && (this.useLanguage = "en" == SS.Common.GameEnvironment.Language ? "en" : SS.Common.GameEnvironment.Language);
                    var t = self == top ? "../../.." : "../../../..",
                        e = window.document.getElementById("orientation"),
                        o = window.document.getElementById("swipe");
                    switch (null != e && (e.style.backgroundImage = window.gd_orientationType ? "url(" + t + "/Plugin/" + this.useLanguage + "_orientation_v.gif)" : "url(" + t + "/Plugin/" + this.useLanguage + "_orientation.gif)"), null != o && (o.style.backgroundImage = "url(" + t + "/Plugin/" + this.useLanguage + "_swipe.gif)"), null != this.orientationTimeOut && (clearTimeout(this.orientationTimeOut), this.orientationTimeOut = null), this.browserType) {
                        case s.safari:
                            this.orientationTimeOut = setTimeout(this.OritenationForSafari.bind(this), 0);
                            break;
                        case s.chrome:
                            this.orientationTimeOut = setTimeout(this.OritenationForChrome.bind(this), 500)
                    }
                }
            }, e.prototype.OritenationForSafari = function() {
                var t, e = window.gd_orientationType;
                if (console.warn("[BrowserType.safari] orientationType = " + e), 0 == window.orientation || 180 == window.orientation ? t = !1 : 90 != window.orientation && -90 != window.orientation || (t = !0), console.log("deviceIsHorizontal: " + t), t) {
                    if (t) switch (e) {
                        case a.horizontal:
                            this.SafariSwipe(), this.hideOrientation(), this.nowOrientationStatus = 3;
                            break;
                        case a.vertical:
                            if (4 == this.nowOrientationStatus) return;
                            this.hideSwipe(), this.showOrientation(), this.nowOrientationStatus = 4;
                            break;
                        case a.auto:
                            this.nowOrientationStatus = 5
                    }
                } else switch (e) {
                    case a.horizontal:
                        if (0 == this.nowOrientationStatus) return;
                        this.hideSwipe(), this.showOrientation(), this.nowOrientationStatus = 0;
                        break;
                    case a.vertical:
                        this.SafariSwipe(), this.hideOrientation(), this.nowOrientationStatus = 1;
                        break;
                    case a.auto:
                        this.nowOrientationStatus = 2
                }
            }, e.prototype.OritenationForChrome = function() {
                var t = window.gd_orientationType;
                if (console.warn("[BrowserType.chrome] orientationType = " + t), 0 == window.orientation || 180 == window.orientation) switch (t) {
                    case a.horizontal:
                        if (6 == this.nowOrientationStatus) return;
                        this.hideSwipe(), this.showOrientation(), this.nowOrientationStatus = 6;
                        break;
                    case a.vertical:
                        this.hideOrientation(), this.nowOrientationStatus = 7;
                        break;
                    case a.auto:
                        this.nowOrientationStatus = 8
                } else if (90 == window.orientation || -90 == window.orientation) switch (t) {
                    case a.horizontal:
                        this.hideOrientation(), this.nowOrientationStatus = 9;
                        break;
                    case a.vertical:
                        if (10 == this.nowOrientationStatus) return;
                        this.hideSwipe(), this.showOrientation(), this.nowOrientationStatus = 10;
                        break;
                    case a.auto:
                        this.nowOrientationStatus = 11
                }
            }, e.prototype.GetURLParameterByName = function(t) {
                t = (t = t.toLowerCase()).replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var e = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(location.search.toLowerCase());
                return null === e ? "" : decodeURIComponent(e[1].replace(/\+/g, " "))
            }, e.prototype.GetIsStandalone = function() {
                var t = window.matchMedia("(display-mode: standalone)").matches,
                    e = "" == this.GetURLParameterByName("standalone");
                return navigator.standalone || t && e
            }, e.prototype.SetIsScrolling = function(t) {
                this.isScrolling = t
            }, e.prototype.ClearScrollTimeOut = function() {
                null != this.detectScreenPromptTimeOut && (clearTimeout(this.detectScreenPromptTimeOut), this.detectScreenPromptTimeOut = null), this.checkScrollInterval && (clearInterval(this.checkScrollInterval), this.checkScrollInterval = null), null != this.scrollToResetTimeOut && (clearTimeout(this.scrollToResetTimeOut), this.scrollToResetTimeOut = null)
            }, e.prototype.DetectScreenPrompt = function() {
                this.GetIsStandalone() || this.isWebview() || (null != this.detectScreenPromptTimeOut && (clearTimeout(this.detectScreenPromptTimeOut), this.detectScreenPromptTimeOut = null), this.detectScreenPromptTimeOut = setTimeout(this.ResetScreenPrompt.bind(this), 500))
            }, e.prototype.ResetScreenPrompt = function() {
                this.nowOrientationStatus = -1, this.setOnOrientation(), cc.sys.os === cc.sys.OS_IOS && !0 === this.isChrome() && this.DetectSwipeByIPhoneChrome(), window.gd_EditBox_isEditing || window.scrollTo(0, 0)
            }, e.prototype.DetectSwipeByIPhoneChrome = function() {
                if (!this.isWebview()) {
                    var t = 0,
                        e = window.GetiOSDevice();
                    if (e) {
                        var o = .99 * (screen.height - e.statusHeight - e.homeHeight - 20),
                            n = .99 * (screen.width - e.statusHeight - 20);
                        t = window.innerHeight >= window.innerWidth ? o : n, console.warn("DetectSwipeByIPhoneChrome : height = " + t + " , window.innerHeight = " + window.innerHeight), t <= window.innerHeight ? this.hideSwipe() : this.showSwipe()
                    } else console.error("Not Find Device.")
                }
            }, e.prototype.SetFullScreen = function() {
                let fullScreenTag = window.parent.document.getElementsByTagName("html")[0];
                if (!window.parent.document.fullscreen) {
                    cc.screen.requestFullScreen(fullScreenTag, function() {});
                }

                // console.warn("[SetAutoFullScreen]"), cc.screen.requestFullScreen(null, null, null)
            }, e.prototype.ExecuteFullScreen = function() {
                window.gd_EditBox_isEditing || cc.screen.fullScreen() || (this.fullScreenTimeOut && (clearTimeout(this.fullScreenTimeOut), this.fullScreenTimeOut = null), this.fullScreenTimeOut = setTimeout(this.SetFullScreen.bind(this), 500))
            }, e.prototype.IsAllowRegisterFullScreenEvent = function() {
                return cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os === cc.sys.OS_WINDOWS
            }, e.prototype.RegisterFullScreenEvent = function(t) {
                cc.sys.os === cc.sys.OS_WINDOWS ? t.addEventListener("mousedown", this.ExecuteFullScreen.bind(this), !0) : t.addEventListener("touchend", this.ExecuteFullScreen.bind(this), !0)
            }, e.prototype.init = function() {
                if (this.IsAllowRegisterFullScreenEvent() && this.RegisterFullScreenEvent(window), !this.GetIsStandalone()) {
                    if (!this.isDone)
                        if (this.isiOS13Up = Boolean(navigator.userAgent.match(/OS 1[3-9](_\d)* like Mac OS X/i)), cc.sys.os === cc.sys.OS_IOS && !1 === this.isWebview()) {
                            var t = window.document.getElementById("mask"),
                                e = window.document.getElementById("orientation");
                            if (!t || !e) return;
                            if (t.style.display = "inline", e.style.display = "inline", window.gd_EditBox_BeganCallBack.push(this.ClearScrollTimeOut.bind(this)), window.gd_EditBox_BeganCallBack.push(this.FixCocosGameContainer.bind(this, !1)), window.gd_EditBox_EndedCallBack.push(this.DetectScreenPrompt.bind(this)), window.gd_EditBox_EndedCallBack.push(this.FixCocosGameContainer.bind(this, !0)), this.isSafari()) this.setOnOrientation(), window.addEventListener("resize", this.setOnOrientation.bind(this), !0), (this.isiOS13Up || this.isIpad()) && (window.addEventListener("scroll", this.SetIsScrolling.bind(this, !0), {
                                capture: !1,
                                passive: !0
                            }), window.document.getElementById("mask").addEventListener("touchend", this.scrolling.bind(this)));
                            else {
                                var o = window.GetiOSDevice();
                                this.setOnOrientation(), window.addEventListener("orientationchange", this.setOnOrientation.bind(this)), window.gd_EditBox_BeganCallBack.push(this.ChangeShowSwipeStatus.bind(this, !1)), o ? (window.addEventListener("resize", this.DetectSwipeByIPhoneChrome.bind(this)), (this.isiOS13Up || this.isIpad()) && (window.addEventListener("scroll", this.SetIsScrolling.bind(this, !0), {
                                    capture: !1,
                                    passive: !0
                                }), window.document.getElementById("mask").addEventListener("touchend", this.scrolling.bind(this)))) : (this.hideSwipe(), console.error("Not Find Device."))
                            }
                        } else cc.sys.os === cc.sys.OS_ANDROID && !1 === this.isWebview() && (this.setOnOrientation(), window.addEventListener("orientationchange", this.setOnOrientation.bind(this)));
                    this.isDone = !0
                }
            }, e.prototype.showOrientation = function() {
                var t = window.document.getElementById("orientation");
                if (t && (t.style.visibility = "visible"), cc.sys.os === cc.sys.OS_IOS && !0 === this.isChrome()) {
                    var e = window.document.getElementById("mask");
                    e && (e.style.display = "none")
                }
                console.warn("[Orientation] SHOW !!")
            }, e.prototype.hideOrientation = function() {
                var t = window.document.getElementById("orientation");
                t && (t.style.visibility = "hidden"), cc.sys.os === cc.sys.OS_IOS && !0 === this.isChrome() && this.DetectSwipeByIPhoneChrome(), console.warn("[Orientation] HIDE !!")
            }, e.prototype.showCloseMask = function() {
                window.document.getElementById("mask_close").style.display = "block"
            }, e.prototype.onClickCloseMask = function() {
                if (cc.sys.os === cc.sys.OS_IOS) {
                    var t = Boolean(navigator.userAgent.match(/OS 15(_\d)* like Mac OS X/i));
                    console.log("isIOS15 = " + t), !0 === this.isSafari() && t && (this.iOS15SafariCloseSwipe = !0)
                }
                this.hideSwipe()
            }, e.prototype.showSwipe = function() {
                if (!window.gd_EditBox_isEditing && this.isAllowShowSwipe && !this.iOS15SafariCloseSwipe) {
                    var t = window.document.getElementById("mask_close");
                    if (t) {
                        var e = window.GetExitSwipeMsg(this.useLanguage);
                        t.textContent = e, t.onclick || (t.onclick = this.onClickCloseMask.bind(this)), this.scheduleOnce(this.showCloseMask.bind(this), 3)
                    }
                    var o = window.document.getElementById("mask");
                    o && (o.style.display = "inline", o.style.visibility = "visible");
                    var n = window.document.getElementById("swipe");
                    n && (n.style.visibility = "visible"), this.mask.active = !0, window.scrollTo(0, 0), this.isiOS13Up && (this.checkScrollInterval && (clearInterval(this.checkScrollInterval), this.checkScrollInterval = null), this.checkScrollInterval = setInterval(this.checkScroll.bind(this), 500)), console.warn("[Mask] SHOW !!")
                }
            }, e.prototype.checkScroll = function() {
                this.isScrolling && (this.isScrolling = !1, this.scrollToReset())
            }, e.prototype.hideSwipe = function() {
                var t = this;
                if (!window.gd_EditBox_isEditing && this.isAllowShowSwipe) {
                    var e = window.document.getElementById("mask");
                    e && (e.style.visibility = "hidden");
                    var o = window.document.getElementById("swipe");
                    o && (o.style.visibility = "hidden"), this.mask.active && setTimeout(function() {
                        t.mask.active = !1
                    }, 0);
                    var n = window.document.getElementById("mask_close");
                    n && (this.unschedule(this.showCloseMask.bind(this)), n.style.display = "none"), console.warn("[Mask] HIDE !!")
                }
            }, e.prototype.scrolling = function() {
                window.gd_EditBox_isEditing || (null != this.checkScrollInterval && (clearInterval(this.checkScrollInterval), this.checkScrollInterval = null), null != this.scrollToResetTimeOut && (clearTimeout(this.scrollToResetTimeOut), this.scrollToResetTimeOut = null), this.scrollToResetTimeOut = setTimeout(this.scrollToReset.bind(this), 500))
            }, e.prototype.scrollToReset = function() {
                window.gd_EditBox_isEditing || window.scrollTo(0, 0)
            }, e.prototype.isWebview = function() {
                var t = navigator.userAgent,
                    e = new RegExp("(" + ["WebView", "(iPhone|iPod|iPad)(?!.*Safari/)", "Android.*Version/[0-9].[0-9]", "Android.*wv"].join("|") + ")", "ig");
                return Boolean(t.match(e)).valueOf()
            }, e.prototype.isChrome = function() {
                return /CriOS/.test(navigator.userAgent)
            }, e.prototype.isSafari = function() {
                return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/CriOS/.test(navigator.userAgent) && !/FxiOS/.test(navigator.userAgent)
            }, e.prototype.isIpad = function() {
                var t = window.navigator.userAgent;
                if (t.indexOf("iPad") > -1) return !0;
                if (t.indexOf("Macintosh") > -1) try {
                    return document.createEvent("TouchEvent"), !0
                } catch (e) {}
                return !1
            }, e.Instance = null, r([u(cc.Node)], e.prototype, "mask", void 0), o = r([l], e)
        }(cc.Component);
        o.Device = p, cc._RF.pop()
    }, {}],
    DisableMultiTapHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4d708FkigpFHYRYrht/N2q0", "DisableMultiTapHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DisableMultiTapHandler = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._touchCount = 0, e._onTouchStart = null, e._onTouchEnd = null, e._onTouchCancel = null, e._resetCount = null, e._unlock = null, e._IsWebview = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    cc.macro.ENABLE_MULTI_TOUCH = !1, this.RegisterDisableMultiTouchHandler(), this._touchCount = 0, this._IsWebview = window !== window.parent
                }, e.prototype.onDestroy = function() {
                    this.UnregisterDisableMultiTouchHandler()
                }, e.prototype.RegisterDisableMultiTouchHandler = function() {
                    this._onTouchStart = this.OnTouchStart.bind(this), this._onTouchEnd = this.OnTouchEnd.bind(this), this._onTouchCancel = this.OnTouchCancel.bind(this), this._resetCount = this.Reset.bind(this), this._unlock = this.Unlock.bind(this);
                    var t = window.document.getElementById("GameCanvas");
                    t.addEventListener("touchstart", this._onTouchStart, !1), t.addEventListener("touchend", this._onTouchEnd, !1), t.addEventListener("touchcancel", this._onTouchCancel, !1), this._IsWebview ? (window.parent.addEventListener("resize", this._resetCount, !1), window.addEventListener("orientationchange", this._resetCount, !1), window.releaseLockWebView = this._resetCount) : (window.addEventListener("resize", this._resetCount, !1), window.addEventListener("orientationchange", this._resetCount, !1), window.releaseLock = this._resetCount)
                }, e.prototype.UnregisterDisableMultiTouchHandler = function() {
                    var t = window.document.getElementById("GameCanvas");
                    t.removeEventListener("touchstart", this._onTouchStart, !1), t.removeEventListener("touchend", this._onTouchEnd, !1), t.addEventListener("touchcancel", this._onTouchCancel, !1), this._IsWebview ? (window.parent.removeEventListener("resize", this._resetCount, !1), window.removeEventListener("orientationchange", this._resetCount, !1), window.releaseLockWebView = null) : (window.removeEventListener("resize", this._resetCount, !1), window.removeEventListener("orientationchange", this._resetCount, !1), window.releaseLock = null), this._onTouchStart = null, this._onTouchEnd = null, this._onTouchCancel = null, this._resetCount = null, this._unlock = null
                }, e.prototype.OnTouchStart = function(t) {
                    this._touchCount += t.changedTouches.length, this.log("Touch Start"), this.log("Count : " + this._touchCount), this.log("Change Touch Lenth : " + t.changedTouches.length)
                }, e.prototype.OnTouchEnd = function(t) {
                    this._touchCount -= t.changedTouches.length, this.log("Touch End"), this.log("Count : " + this._touchCount), this.log("Change Touch Lenth : " + t.changedTouches.length), this._touchCount > 0 || this.scheduleOnce(this._unlock, .001)
                }, e.prototype.OnTouchCancel = function(t) {
                    this.log("Touch Cancel"), this.log("Change Touch Lenth : " + t.changedTouches.length), this._touchCount -= t.changedTouches.length, cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.Reset = function() {
                    this.log("Reset"), cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.Unlock = function() {
                    this.log("Unlock"), cc.eventManager._clearCurTouch(), this._touchCount = 0
                }, e.prototype.log = function(t) {
                    this._IsWebview ? console.log("[MulTap-] " + t + " in Webview") : console.log("[MulTap-] " + t + " in Lobby")
                }, r([s], e)
            }(cc.Component));
        o.DisableMultiTapHandler = c, cc._RF.pop()
    }, {}],
    DontDestroy: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a62d18oW0NPeZtGbXFooHjg", "DontDestroy");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DontDestroy = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onLoad = function() {
                    cc.game.addPersistRootNode(this.node)
                }, r([s], e)
            }(cc.Component));
        o.DontDestroy = c, cc._RF.pop()
    }, {}],
    DownBarMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fdc9czWSOhLs7SMYo57ri3d", "DownBarMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.DownBarMgr = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bannerRoot = null, e.userNicknameText = null, e.userNameText = null, e.versionText = null, e.entriesNum = null, e.winningNum = null, e.creaditNum = null, e.scoreBoxBG = null, e.noScoreBoxBG = null, e.scoreBoxText = null, e.noScoreBoxText = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_DelClickNews = new SS.Common.Delegate, this.m_DelClickProfile = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    this.m_DelClickNews.Length > 0 && this.m_DelClickNews.Clear(), this.m_DelClickProfile.Length > 0 && this.m_DelClickNews.Clear()
                }, e.prototype.SetUserBalance = function(t, e) {
                    SS.Common.GameEnvironment.IsUseScoreBox ? (this.entriesNum.string = SS.Common.BaseFunction.addCommas(t, 0, !1), this.winningNum.string = SS.Common.BaseFunction.addCommas(e, 0, !1)) : this.creaditNum.string = SS.Common.BaseFunction.addCommas(t, 0, !1)
                }, e.prototype.ToggleScoreBox = function() {
                    SS.Common.GameEnvironment.IsUseScoreBox ? (this.scoreBoxBG.active = !0, this.scoreBoxText.active = !0, this.noScoreBoxBG.active = !1, this.noScoreBoxText.active = !1) : (this.scoreBoxBG.active = !1, this.scoreBoxText.active = !1, this.noScoreBoxBG.active = !0, this.noScoreBoxText.active = !0)
                }, e.prototype.SetVersion = function(t) {
                    this.versionText.string = t
                }, e.prototype.SetUserInfo = function(t, e) {
                    void 0 === e && (e = ""), this.userNameText.string = "" == e ? t : t + "(" + e + ")"
                }, e.prototype.OnClickNewButton = function() {
                    null != this.m_DelClickNews && this.m_DelClickNews.Notify(!0)
                }, e.prototype.OnClickProfileButton = function() {
                    null != this.m_DelClickProfile && this.m_DelClickProfile.Notify(!0)
                }, r([c({
                    displayName: "Banner\u8981\u9032\u4f86\u7684\u4f4d\u7f6e",
                    type: cc.Node
                })], e.prototype, "bannerRoot", void 0), r([c(cc.Label)], e.prototype, "userNicknameText", void 0), r([c(cc.Label)], e.prototype, "userNameText", void 0), r([c(cc.Label)], e.prototype, "versionText", void 0), r([c(cc.Label)], e.prototype, "entriesNum", void 0), r([c(cc.Label)], e.prototype, "winningNum", void 0), r([c(cc.Label)], e.prototype, "creaditNum", void 0), r([c(cc.Node)], e.prototype, "scoreBoxBG", void 0), r([c(cc.Node)], e.prototype, "noScoreBoxBG", void 0), r([c(cc.Node)], e.prototype, "scoreBoxText", void 0), r([c(cc.Node)], e.prototype, "noScoreBoxText", void 0), r([s], e)
            }(cc.Component);
        o.DownBarMgr = l, cc._RF.pop()
    }, {}],
    Downloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4cea8qNv8xJRoVBqNQZ34L7", "Downloader");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Downloader = void 0;
        var r = function() {
            function t() {
                this.retryTimes = 0, this.retryTimeOut = [2e3, 3e3, 4e3, 5e3, 6e3]
            }
            return t.prototype.GetScript = function(t, e, o) {
                var n = document.createElement("script");
                n.type = "text/javascript", n.src = t, n.timeout = 1e4, n.ontimeout = function() {
                    null != o && o(arguments)
                }, n.onerror = function() {
                    null != o && o(arguments)
                }, n.onload = n.onreadystatechange = function() {
                    this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (null != e && "function" == typeof e && e(), this.onload = this.onreadystatechange = null, document.getElementsByTagName("head")[0].removeChild(this))
                }, document.getElementsByTagName("head")[0].appendChild(n)
            }, t.prototype.GetImage = function(t, e, o) {
                var n = this,
                    i = new XMLHttpRequest;
                i.responseType = "arraybuffer", i.onload = function() {
                    i.status >= 200 && i.status < 300 || 304 == i.status ? null != e && "function" == typeof e && e(this.response) : (console.log("xhr.onload error status ", i.status), n.RetryHandler(this.response, i, t, o))
                }, i.onerror = function(e) {
                    console.log("xhr.onerror  ", e), n.RetryHandler(e, i, t, o)
                }, i.ontimeout = function(e) {
                    console.log("xhr.ontimeout  ", e), n.RetryHandler(e, i, t, o)
                }, i.open("GET", t), i.timeout = n.retryTimeOut[n.retryTimes], console.log("send : ", t), i.send()
            }, t.prototype.GetJSON = function(t, e, o) {
                var n = this;
                if (window.XMLHttpRequest) {
                    t += "?Date=" + (new Date).getTime();
                    var i = new XMLHttpRequest;
                    this.retryTimes = 0, i.onload = function() {
                        i.status >= 200 && i.status < 300 || 304 == i.status ? null != e && "function" == typeof e && e(this.responseText) : (console.log("xhr.onload error status ", i.status), n.RetryHandler(this.responseText, i, t, o))
                    }, i.onerror = function(e) {
                        console.log("xhr.onerror  ", e), n.RetryHandler(e, i, t, o)
                    }, i.ontimeout = function(e) {
                        console.log("xhr.ontimeout  ", e), n.RetryHandler(e, i, t, o)
                    }, i.open("GET", t), i.timeout = n.retryTimeOut[n.retryTimes], i.send()
                } else null != o && "function" == typeof o && (console.error("Error from XMLHttpRequest"), o("Error from XMLHttpRequest"))
            }, t.prototype.RetryHandler = function(t, e, o, r) {
                return n(this, void 0, void 0, function() {
                    var n;
                    return i(this, function() {
                        return (n = this).retryTimes == n.retryTimeOut.length - 1 ? (console.log("retry fail ", t), null != r && "function" == typeof r && r(t)) : (console.log("self.retryTimes", n.retryTimes), console.log("xhr.timeout", e.timeout), "timeout" != t.type ? (console.log("not timeout error"), setTimeout(function() {
                            e.open("GET", o), e.timeout = n.retryTimeOut[++n.retryTimes], e.send()
                        }, 3e3)) : (e.open("GET", o), e.timeout = n.retryTimeOut[++n.retryTimes], e.send())), [2]
                    })
                })
            }, t
        }();
        o.Downloader = r, cc._RF.pop()
    }, {}],
    Download: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f7dec2L5EdP/q/FiNWKWGEe", "Download");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.Download = void 0;
        var r = t("../Net/Downloader/ImageDownloader"),
            a = t("../Net/Downloader/JSONDownloder"),
            s = t("../Net/Downloader/VersionDownloader"),
            c = function() {
                function t() {
                    this._config = null
                }
                return Object.defineProperty(t, "_instance", {
                    get: function() {
                        return null == this._inst && (this._inst = new t), this._inst
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.Version = function(t) {
                    return n(this, void 0, Promise, function() {
                        return i(this, function() {
                            return [2, new Promise(function(e) {
                                (new s.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/" + t + "/", function(t) {
                                    var o = t.Version;
                                    SS.Common.GameEnvironment.IgnoreVersionCtrl && e(t.VersionDEV), e(o)
                                }, function(t) {
                                    console.error("Version Download Failed\n", t), e("Error")
                                })
                            })]
                        })
                    })
                }, t.JSON = function(t) {
                    return n(this, void 0, Promise, function() {
                        var e;
                        return i(this, function() {
                            return e = "", -1 === t.indexOf("http") && (e += SS.Common.GameEnvironment.S3URL + "/"), e += t, -1 === t.indexOf(".json") && (e += ".json"), [2, new Promise(function(t) {
                                (new a.JSONDownloader).Start(e, function(e) {
                                    t(e)
                                }, function(e) {
                                    console.error("JSON File Download Failed\n", e), t(JSON.parse("{}"))
                                })
                            })]
                        })
                    })
                }, t.Image = function(t) {
                    return n(this, void 0, Promise, function() {
                        var e;
                        return i(this, function() {
                            return e = "", -1 === t.indexOf("http") && (e += this._instance.DownloadPath + "/"), e += t, [2, new Promise(function(t) {
                                (new r.ImageDownloader).Start(e, function(e) {
                                    t(e)
                                }, function(e) {
                                    console.error("Image Download Failed\n", e), t(null)
                                })
                            })]
                        })
                    })
                }, t.Prefab = function(e, o, r, a) {
                    return void 0 === o && (o = ""), void 0 === r && (r = ""), void 0 === a && (a = ""), n(this, void 0, Promise, function() {
                        var n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return [2, new Promise(function(i) {
                                        t.Bundle(e, r, a).then(function(t) {
                                            var r = "";
                                            n._instance._config.hasOwnProperty(r) && (r = n._instance._config[e].path, "" === o && (o = r + n._instance._config[e].MainPrefab)), t.load(r + o, cc.Prefab, function(t, e) {
                                                t && (console.error("Prefab(" + o + ") can't Load " + t), i(null)), i(e)
                                            })
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Download Failed\n", t), i(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.VerticalPrefab = function(e) {
                    return n(this, void 0, Promise, function() {
                        var o = this;
                        return i(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return [2, new Promise(function(n) {
                                        var i = "";
                                        o._instance._config[e].VerticalPrefab && (i = o._instance._config[e].path + o._instance._config[e].VerticalPrefab), t.Prefab(e, i).then(function(t) {
                                            n(t)
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Download Vertical Prefab Failed\n", t), n(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.Bundle = function(t, e, o) {
                    return void 0 === e && (e = ""), void 0 === o && (o = ""), n(this, void 0, Promise, function() {
                        var n, r = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return [4, this._instance.CheckDependencies(t)];
                                case 3:
                                    return n = i.sent(), [2, new Promise(function(i) {
                                        n || (console.warn("[Download] Check Dependency Failed"), i(null));
                                        var a = cc.assetManager.getBundle(t);
                                        if (a) console.log("[Download] getBundle ", t, " from local.", a), i(a);
                                        else {
                                            var s;
                                            s = "" === e ? r._instance.GetBundleDownloadPath(t, o) : e + t, console.log("[Download] Bundle Path: " + s + "  bundleName =  " + t + " CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), cc.assetManager.loadBundle(s, function(o, n) {
                                                o ? (console.error("[Download] Error Occur When Download Bundle (" + t + ")!!\nDownload Path: " + e + "\n", o), i(null)) : i(n)
                                            })
                                        }
                                    })]
                            }
                        })
                    })
                }, t.Preload = function(e, o, r) {
                    return void 0 === o && (o = ""), void 0 === r && (r = ""), n(this, void 0, void 0, function() {
                        var n = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return null !== this._instance._config ? [3, 2] : [4, this._instance.DownloadBundleConfig()];
                                case 1:
                                    i.sent(), i.label = 2;
                                case 2:
                                    return [2, new Promise(function(i) {
                                        t.Bundle(e, o, r).then(function(t) {
                                            "" === o && n._instance.GetBundleDownloadPath(e, r), t.preloadDir(o, cc.Prefab, function(t, o) {
                                                t ? console.error("Preload Bundle(" + e + ") Failed!\n", t) : (console.log("Preload Bundle(" + e + ") Succeeded!\n", o), i(null))
                                            })
                                        }).catch(function(t) {
                                            console.error("Bundle(" + e + ")  Preload Failed\n", t), i(null)
                                        })
                                    })]
                            }
                        })
                    })
                }, t.prototype.GetBundleDownloadPath = function(t, e) {
                    var o = "",
                        n = "";
                    return o = this.DownloadPath + "/Bundle/" + t, "" !== e ? n = e : this._config.hasOwnProperty(t) && (n = this._config[t].Version, SS.Common.GameEnvironment.IgnoreVersionCtrl && this._config[t].VersionDEV && (n = this._config[t].VersionDEV)), "" !== n && (o += "/" + n), o
                }, Object.defineProperty(t.prototype, "DownloadPath", {
                    get: function() {
                        // return SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : window.location.origin
                        return window.location.origin + '/games/FishCircusPGD';
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.ReleaseBundles = function(e) {
                    for (var o = 0, n = e; o < n.length; o++) {
                        var i = n[o];
                        t.ReleaseBundle(i)
                    }
                }, t.ReleaseBundle = function(t) {
                    console.log("[Download] Release Bundle(" + t + ") ");
                    var e = cc.assetManager.getBundle(t);
                    e ? (e.releaseAll(), cc.assetManager.removeBundle(e)) : console.log("[Download] No Bundle named " + t + " Loaded")
                }, t.prototype.DownloadBundleConfig = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new s.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/Bundle/", function(n) {
                                            try {
                                                t._config = n, e(n)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            console.error("Download Bundle Config Failed!"), o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckDependencies = function(e) {
                    return n(this, void 0, Promise, function() {
                        var o, n, r;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!1 === t._instance._config.hasOwnProperty(e)) return [2, !0];
                                    if (o = t._instance._config[e].Dependency, n = !0, !o) return [3, 4];
                                    console.log("[Download] Check dependency of " + e), r = 0, i.label = 1;
                                case 1:
                                    return r < o.length ? [4, t.Bundle(o[r])] : [3, 4];
                                case 2:
                                    null === i.sent() && (console.warn("[Download] Dependency of " + e + ": " + o[r] + " Download Failed"), n = !1), i.label = 3;
                                case 3:
                                    return r++, [3, 1];
                                case 4:
                                    return [2, new Promise(function(t) {
                                        t(n)
                                    })]
                            }
                        })
                    })
                }, t.CheckConfig = function(e) {
                    return t._instance._config.hasOwnProperty(e)
                }, t._inst = null, t
            }();
        o.Download = c, cc._RF.pop()
    }, {
        "../Net/Downloader/ImageDownloader": "ImageDownloader",
        "../Net/Downloader/JSONDownloder": "JSONDownloder",
        "../Net/Downloader/VersionDownloader": "VersionDownloader"
    }],
    DraggableItem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3a970VPcK5BupWLEtpTypZp", "DraggableItem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.boundary = cc.rect(0, 0, 1280, 720), e.bubbleCallMe = null, e.bubbleCanMove = null, e.buttonCache = null, e.canTriggerEvent = !1, e.moveDistance = 0, e.enabledMoving = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.buttonCache = this.node.getComponent(cc.Button), null != this.buttonCache && (this.buttonCache.interactable = !1);
                    var t = this;
                    this.node.on(cc.Node.EventType.TOUCH_MOVE, function(e) {
                        if (0 != t.enabledMoving) {
                            var o = cc.Vec2.ZERO,
                                n = cc.Vec2.ZERO;
                            o.x = e.getDeltaX(), o.y = e.getDeltaY();
                            var i = e.getLocationX();
                            if (1 == t.canTriggerEvent) {
                                t.moveDistance = t.moveDistance + o.len();
                                var r = .5 * t.node.width;
                                t.moveDistance > r && (t.canTriggerEvent = !1, console.log("[DraggableItem] can trigger: false , moveDistance > halfWidth: " + r))
                            }
                            n.x = t.node.getPosition().x + o.x, n.y = t.node.getPosition().y + o.y;
                            var a = t.node.parent.convertToWorldSpaceAR(n);
                            if (i > t.boundary.xMax + .5 * t.node.width) return t.enabledMoving = !1, void(t.node.scale = 1);
                            a.y = Math.min(a.y, t.boundary.yMax), a.y = Math.max(a.y, t.boundary.yMin), a.x = Math.min(a.x, t.boundary.xMax), a.x = Math.max(a.x, t.boundary.xMin);
                            var s = t.node.parent.convertToNodeSpaceAR(a);
                            t.node.setPosition(s), t.node.scale = 1.1, t.bubbleCanMove.active = !1
                        }
                    }), this.node.on(cc.Node.EventType.TOUCH_START, function() {
                        t.node.scale = 1.1, t.moveDistance = 0, console.log("[DraggableItem] can trigger: true"), t.canTriggerEvent = !0, t.scheduleOnce(function() {
                            t.canTriggerEvent = !1, console.log("[DraggableItem] can trigger: false")
                        }, .5), t.enabledMoving = !0, a.CommonRoot.Instance && a.CommonRoot.Instance.GetInfoMgr && a.CommonRoot.Instance.GetInfoMgr.isActive() && a.CommonRoot.Instance.GetInfoMgr.CloseInfoPage()
                    }), this.node.on(cc.Node.EventType.TOUCH_END, function() {
                        t.node.scale = 1, null != t.buttonCache && null != t.buttonCache.clickEvents[0] && 1 == t.canTriggerEvent && t.buttonCache.clickEvents[0].emit(null), t.enabledMoving = !1
                    }), this.bubbleCallMe.active = !1, this.bubbleCanMove.active = !1
                }, e.prototype.hideAllBubble = function() {
                    this.bubbleCallMe.active = !1, this.bubbleCanMove.active = !1
                }, e.prototype.showBubbleCallMe = function() {
                    var t = this;
                    this.hideAllBubble(), this.bubbleBaseIn(), this.bubbleCallMe.active = !0, this.scheduleOnce(function() {
                        t.bubbleCallMe.active = !1
                    }, 3)
                }, e.prototype.showBubbleCanMove = function() {
                    var t = this;
                    this.hideAllBubble(), this.bubbleBaseIn(), this.bubbleCanMove.active = !0, this.scheduleOnce(function() {
                        t.bubbleCanMove.active = !1
                    }, 3)
                }, e.prototype.bubbleBaseIn = function() {
                    this.bubbleCanMove.parent.setPosition(-100, 0), cc.tween(this.bubbleCanMove.parent).to(.5, {
                        position: cc.v3(0, 0)
                    }, {
                        easing: "sineInOut"
                    }).start()
                }, r([l(cc.Rect)], e.prototype, "boundary", void 0), r([l(cc.Node)], e.prototype, "bubbleCallMe", void 0), r([l(cc.Node)], e.prototype, "bubbleCanMove", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "../../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot"
    }],
    3: [function(t, e) {
        e.exports = function(t) {
            var e = new Date(t.getTime()),
                o = e.getTimezoneOffset();
            return e.setSeconds(0, 0), 6e4 * o + e.getTime() % 6e4
        }
    }, {}],
    4: [function(t, e) {
        var o = t("../start_of_day/index.js");
        e.exports = function(t, e) {
            var n = o(t),
                i = o(e),
                r = n.getTime() - 6e4 * n.getTimezoneOffset(),
                a = i.getTime() - 6e4 * i.getTimezoneOffset();
            return Math.round((r - a) / 864e5)
        }
    }, {
        "../start_of_day/index.js": 16
    }],
    5: [function(t, e) {
        var o = t("../get_day_of_year/index.js"),
            n = t("../get_iso_week/index.js"),
            i = t("../get_iso_year/index.js"),
            r = t("../parse/index.js"),
            a = t("../is_valid/index.js"),
            s = t("../locale/en/index.js"),
            c = {
                M: function(t) {
                    return t.getMonth() + 1
                },
                MM: function(t) {
                    return p(t.getMonth() + 1, 2)
                },
                Q: function(t) {
                    return Math.ceil((t.getMonth() + 1) / 3)
                },
                D: function(t) {
                    return t.getDate()
                },
                DD: function(t) {
                    return p(t.getDate(), 2)
                },
                DDD: function(t) {
                    return o(t)
                },
                DDDD: function(t) {
                    return p(o(t), 3)
                },
                d: function(t) {
                    return t.getDay()
                },
                E: function(t) {
                    return t.getDay() || 7
                },
                W: function(t) {
                    return n(t)
                },
                WW: function(t) {
                    return p(n(t), 2)
                },
                YY: function(t) {
                    return p(t.getFullYear(), 4).substr(2)
                },
                YYYY: function(t) {
                    return p(t.getFullYear(), 4)
                },
                GG: function(t) {
                    return String(i(t)).substr(2)
                },
                GGGG: function(t) {
                    return i(t)
                },
                H: function(t) {
                    return t.getHours()
                },
                HH: function(t) {
                    return p(t.getHours(), 2)
                },
                h: function(t) {
                    var e = t.getHours();
                    return 0 === e ? 12 : e > 12 ? e % 12 : e
                },
                hh: function(t) {
                    return p(c.h(t), 2)
                },
                m: function(t) {
                    return t.getMinutes()
                },
                mm: function(t) {
                    return p(t.getMinutes(), 2)
                },
                s: function(t) {
                    return t.getSeconds()
                },
                ss: function(t) {
                    return p(t.getSeconds(), 2)
                },
                S: function(t) {
                    return Math.floor(t.getMilliseconds() / 100)
                },
                SS: function(t) {
                    return p(Math.floor(t.getMilliseconds() / 10), 2)
                },
                SSS: function(t) {
                    return p(t.getMilliseconds(), 3)
                },
                Z: function(t) {
                    return u(t.getTimezoneOffset(), ":")
                },
                ZZ: function(t) {
                    return u(t.getTimezoneOffset())
                },
                X: function(t) {
                    return Math.floor(t.getTime() / 1e3)
                },
                x: function(t) {
                    return t.getTime()
                }
            };

        function l(t, e, o) {
            var n, i, r, a = t.match(o),
                s = a.length;
            for (n = 0; n < s; n++) i = e[a[n]] || c[a[n]], a[n] = i || ((r = a[n]).match(/\[[\s\S]/) ? r.replace(/^\[|]$/g, "") : r.replace(/\\/g, ""));
            return function(t) {
                for (var e = "", o = 0; o < s; o++) a[o] instanceof Function ? e += a[o](t, c) : e += a[o];
                return e
            }
        }

        function u(t, e) {
            e = e || "";
            var o = t > 0 ? "-" : "+",
                n = Math.abs(t),
                i = n % 60;
            return o + p(Math.floor(n / 60), 2) + e + p(i, 2)
        }

        function p(t, e) {
            for (var o = Math.abs(t).toString(); o.length < e;) o = "0" + o;
            return o
        }
        e.exports = function(t, e, o) {
            var n = e ? String(e) : "YYYY-MM-DDTHH:mm:ss.SSSZ",
                i = (o || {}).locale,
                c = s.format.formatters,
                u = s.format.formattingTokensRegExp;
            i && i.format && i.format.formatters && (c = i.format.formatters, i.format.formattingTokensRegExp && (u = i.format.formattingTokensRegExp));
            var p = r(t);
            return a(p) ? l(n, c, u)(p) : "Invalid Date"
        }
    }, {
        "../get_day_of_year/index.js": 6,
        "../get_iso_week/index.js": 7,
        "../get_iso_year/index.js": 8,
        "../is_valid/index.js": 10,
        "../locale/en/index.js": 14,
        "../parse/index.js": 15
    }],
    6: [function(t, e) {
        var o = t("../parse/index.js"),
            n = t("../start_of_year/index.js"),
            i = t("../difference_in_calendar_days/index.js");
        e.exports = function(t) {
            var e = o(t);
            return i(e, n(e)) + 1
        }
    }, {
        "../difference_in_calendar_days/index.js": 4,
        "../parse/index.js": 15,
        "../start_of_year/index.js": 20
    }],
    7: [function(t, e) {
        var o = t("../parse/index.js"),
            n = t("../start_of_iso_week/index.js"),
            i = t("../start_of_iso_year/index.js");
        e.exports = function(t) {
            var e = o(t),
                r = n(e).getTime() - i(e).getTime();
            return Math.round(r / 6048e5) + 1
        }
    }, {
        "../parse/index.js": 15,
        "../start_of_iso_week/index.js": 17,
        "../start_of_iso_year/index.js": 18
    }],
    8: [function(t, e) {
        var o = t("../parse/index.js"),
            n = t("../start_of_iso_week/index.js");
        e.exports = function(t) {
            var e = o(t),
                i = e.getFullYear(),
                r = new Date(0);
            r.setFullYear(i + 1, 0, 4), r.setHours(0, 0, 0, 0);
            var a = n(r),
                s = new Date(0);
            s.setFullYear(i, 0, 4), s.setHours(0, 0, 0, 0);
            var c = n(s);
            return e.getTime() >= a.getTime() ? i + 1 : e.getTime() >= c.getTime() ? i : i - 1
        }
    }, {
        "../parse/index.js": 15,
        "../start_of_iso_week/index.js": 17
    }],
    9: [function(t, e) {
        e.exports = function(t) {
            return t instanceof Date
        }
    }, {}],
    10: [function(t, e) {
        var o = t("../is_date/index.js");
        e.exports = function(t) {
            if (o(t)) return !isNaN(t);
            throw new TypeError(toString.call(t) + " is not an instance of Date")
        }
    }, {
        "../is_date/index.js": 9
    }],
    11: [function(t, e) {
        var o = ["M", "MM", "Q", "D", "DD", "DDD", "DDDD", "d", "E", "W", "WW", "YY", "YYYY", "GG", "GGGG", "H", "HH", "h", "hh", "m", "mm", "s", "ss", "S", "SS", "SSS", "Z", "ZZ", "X", "x"];
        e.exports = function(t) {
            var e = [];
            for (var n in t) t.hasOwnProperty(n) && e.push(n);
            var i = o.concat(e).sort().reverse();
            return new RegExp("(\\[[^\\[]*\\])|(\\\\)?(" + i.join("|") + "|.)", "g")
        }
    }, {}],
    12: [function(t, e) {
        e.exports = function() {
            var t = {
                lessThanXSeconds: {
                    one: "less than a second",
                    other: "less than {{count}} seconds"
                },
                xSeconds: {
                    one: "1 second",
                    other: "{{count}} seconds"
                },
                halfAMinute: "half a minute",
                lessThanXMinutes: {
                    one: "less than a minute",
                    other: "less than {{count}} minutes"
                },
                xMinutes: {
                    one: "1 minute",
                    other: "{{count}} minutes"
                },
                aboutXHours: {
                    one: "about 1 hour",
                    other: "about {{count}} hours"
                },
                xHours: {
                    one: "1 hour",
                    other: "{{count}} hours"
                },
                xDays: {
                    one: "1 day",
                    other: "{{count}} days"
                },
                aboutXMonths: {
                    one: "about 1 month",
                    other: "about {{count}} months"
                },
                xMonths: {
                    one: "1 month",
                    other: "{{count}} months"
                },
                aboutXYears: {
                    one: "about 1 year",
                    other: "about {{count}} years"
                },
                xYears: {
                    one: "1 year",
                    other: "{{count}} years"
                },
                overXYears: {
                    one: "over 1 year",
                    other: "over {{count}} years"
                },
                almostXYears: {
                    one: "almost 1 year",
                    other: "almost {{count}} years"
                }
            };
            return {
                localize: function(e, o, n) {
                    var i;
                    return n = n || {}, i = "string" == typeof t[e] ? t[e] : 1 === o ? t[e].one : t[e].other.replace("{{count}}", o), n.addSuffix ? n.comparison > 0 ? "in " + i : i + " ago" : i
                }
            }
        }
    }, {}],
    13: [function(t, e) {
        var o = t("../../_lib/build_formatting_tokens_reg_exp/index.js");

        function n(t) {
            var e = t % 100;
            if (e > 20 || e < 10) switch (e % 10) {
                case 1:
                    return t + "st";
                case 2:
                    return t + "nd";
                case 3:
                    return t + "rd"
            }
            return t + "th"
        }
        e.exports = function() {
            var t = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                e = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                i = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                r = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                a = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                s = ["AM", "PM"],
                c = ["am", "pm"],
                l = ["a.m.", "p.m."],
                u = {
                    MMM: function(e) {
                        return t[e.getMonth()]
                    },
                    MMMM: function(t) {
                        return e[t.getMonth()]
                    },
                    dd: function(t) {
                        return i[t.getDay()]
                    },
                    ddd: function(t) {
                        return r[t.getDay()]
                    },
                    dddd: function(t) {
                        return a[t.getDay()]
                    },
                    A: function(t) {
                        return t.getHours() / 12 >= 1 ? s[1] : s[0]
                    },
                    a: function(t) {
                        return t.getHours() / 12 >= 1 ? c[1] : c[0]
                    },
                    aa: function(t) {
                        return t.getHours() / 12 >= 1 ? l[1] : l[0]
                    }
                };
            return ["M", "D", "DDD", "d", "Q", "W"].forEach(function(t) {
                u[t + "o"] = function(e, o) {
                    return n(o[t](e))
                }
            }), {
                formatters: u,
                formattingTokensRegExp: o(u)
            }
        }
    }, {
        "../../_lib/build_formatting_tokens_reg_exp/index.js": 11
    }],
    14: [function(t, e) {
        var o = t("./build_distance_in_words_locale/index.js"),
            n = t("./build_format_locale/index.js");
        e.exports = {
            distanceInWords: o(),
            format: n()
        }
    }, {
        "./build_distance_in_words_locale/index.js": 12,
        "./build_format_locale/index.js": 13
    }],
    15: [function(t, e) {
        var o = t("../_lib/getTimezoneOffsetInMilliseconds/index.js"),
            n = t("../is_date/index.js"),
            i = 36e5,
            r = 6e4,
            a = /[T ]/,
            s = /:/,
            c = /^(\d{2})$/,
            l = [/^([+-]\d{2})$/, /^([+-]\d{3})$/, /^([+-]\d{4})$/],
            u = /^(\d{4})/,
            p = [/^([+-]\d{4})/, /^([+-]\d{5})/, /^([+-]\d{6})/],
            m = /^-(\d{2})$/,
            h = /^-?(\d{3})$/,
            d = /^-?(\d{2})-?(\d{2})$/,
            _ = /^-?W(\d{2})$/,
            g = /^-?W(\d{2})-?(\d{1})$/,
            f = /^(\d{2}([.,]\d*)?)$/,
            y = /^(\d{2}):?(\d{2}([.,]\d*)?)$/,
            S = /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,
            C = /([Z+-].*)$/,
            v = /^(Z)$/,
            b = /^([+-])(\d{2})$/,
            P = /^([+-])(\d{2}):?(\d{2})$/;

        function w(t) {
            var e, o = {},
                n = t.split(a);
            if (s.test(n[0]) ? (o.date = null, e = n[0]) : (o.date = n[0], e = n[1]), e) {
                var i = C.exec(e);
                i ? (o.time = e.replace(i[1], ""), o.timezone = i[1]) : o.time = e
            }
            return o
        }

        function I(t, e) {
            var o, n = l[e],
                i = p[e];
            if (o = u.exec(t) || i.exec(t)) {
                var r = o[1];
                return {
                    year: parseInt(r, 10),
                    restDateString: t.slice(r.length)
                }
            }
            if (o = c.exec(t) || n.exec(t)) {
                var a = o[1];
                return {
                    year: 100 * parseInt(a, 10),
                    restDateString: t.slice(a.length)
                }
            }
            return {
                year: null
            }
        }

        function M(t, e) {
            if (null === e) return null;
            var o, n, i;
            if (0 === t.length) return (n = new Date(0)).setUTCFullYear(e), n;
            if (o = m.exec(t)) return n = new Date(0), i = parseInt(o[1], 10) - 1, n.setUTCFullYear(e, i), n;
            if (o = h.exec(t)) {
                n = new Date(0);
                var r = parseInt(o[1], 10);
                return n.setUTCFullYear(e, 0, r), n
            }
            if (o = d.exec(t)) {
                n = new Date(0), i = parseInt(o[1], 10) - 1;
                var a = parseInt(o[2], 10);
                return n.setUTCFullYear(e, i, a), n
            }
            return (o = _.exec(t)) ? D(e, parseInt(o[1], 10) - 1) : (o = g.exec(t)) ? D(e, parseInt(o[1], 10) - 1, parseInt(o[2], 10) - 1) : null
        }

        function E(t) {
            var e, o, n;
            if (e = f.exec(t)) return (o = parseFloat(e[1].replace(",", "."))) % 24 * i;
            if (e = y.exec(t)) return o = parseInt(e[1], 10), n = parseFloat(e[2].replace(",", ".")), o % 24 * i + n * r;
            if (e = S.exec(t)) {
                o = parseInt(e[1], 10), n = parseInt(e[2], 10);
                var a = parseFloat(e[3].replace(",", "."));
                return o % 24 * i + n * r + 1e3 * a
            }
            return null
        }

        function D(t, e, o) {
            e = e || 0, o = o || 0;
            var n = new Date(0);
            n.setUTCFullYear(t, 0, 4);
            var i = 7 * e + o + 1 - (n.getUTCDay() || 7);
            return n.setUTCDate(n.getUTCDate() + i), n
        }
        e.exports = function(t, e) {
            if (n(t)) return new Date(t.getTime());
            if ("string" != typeof t) return new Date(t);
            var i = (e || {}).additionalDigits;
            i = null == i ? 2 : Number(i);
            var a, s, c, l = w(t),
                u = I(l.date, i),
                p = u.year,
                m = M(u.restDateString, p);
            if (m) {
                var h, d = m.getTime(),
                    _ = 0;
                if (l.time && (_ = E(l.time)), l.timezone) a = l.timezone, h = ((s = v.exec(a)) ? 0 : (s = b.exec(a)) ? (c = 60 * parseInt(s[2], 10), "+" === s[1] ? -c : c) : (s = P.exec(a)) ? (c = 60 * parseInt(s[2], 10) + parseInt(s[3], 10), "+" === s[1] ? -c : c) : 0) * r;
                else {
                    var g = d + _,
                        f = new Date(g);
                    h = o(f);
                    var y = new Date(g);
                    y.setDate(f.getDate() + 1);
                    var S = o(y) - o(f);
                    S > 0 && (h += S)
                }
                return new Date(d + _ + h)
            }
            return new Date(t)
        }
    }, {
        "../_lib/getTimezoneOffsetInMilliseconds/index.js": 3,
        "../is_date/index.js": 9
    }],
    16: [function(t, e) {
        var o = t("../parse/index.js");
        e.exports = function(t) {
            var e = o(t);
            return e.setHours(0, 0, 0, 0), e
        }
    }, {
        "../parse/index.js": 15
    }],
    17: [function(t, e) {
        var o = t("../start_of_week/index.js");
        e.exports = function(t) {
            return o(t, {
                weekStartsOn: 1
            })
        }
    }, {
        "../start_of_week/index.js": 19
    }],
    18: [function(t, e) {
        var o = t("../get_iso_year/index.js"),
            n = t("../start_of_iso_week/index.js");
        e.exports = function(t) {
            var e = o(t),
                i = new Date(0);
            return i.setFullYear(e, 0, 4), i.setHours(0, 0, 0, 0), n(i)
        }
    }, {
        "../get_iso_year/index.js": 8,
        "../start_of_iso_week/index.js": 17
    }],
    19: [function(t, e) {
        var o = t("../parse/index.js");
        e.exports = function(t, e) {
            var n = e && Number(e.weekStartsOn) || 0,
                i = o(t),
                r = i.getDay(),
                a = (r < n ? 7 : 0) + r - n;
            return i.setDate(i.getDate() - a), i.setHours(0, 0, 0, 0), i
        }
    }, {
        "../parse/index.js": 15
    }],
    20: [function(t, e) {
        var o = t("../parse/index.js");
        e.exports = function(t) {
            var e = o(t),
                n = new Date(0);
            return n.setFullYear(e.getFullYear(), 0, 1), n.setHours(0, 0, 0, 0), n
        }
    }, {
        "../parse/index.js": 15
    }],
    21: [function(t, e, o) {
        (function(t) {
            t([], function() {
                var t = function(t) {
                        return Number.prototype.toString.call(t, 36).toUpperCase()
                    },
                    e = function(t) {
                        return parseInt(t, 36)
                    },
                    o = Array.prototype.indexOf || function(t, e) {
                        for (var o = e || 0, n = this.length; o < n; o++)
                            if (this[o] === t) return o;
                        return -1
                    };
                return {
                    JSON: JSON,
                    pack: function(e, n) {
                        var i = (n = n || {}).verbose || !1;
                        i && console.log("Normalize the JSON Object"), e = "string" == typeof e ? this.JSON.parse(e) : e, i && console.log("Creating a empty dictionary");
                        var r = {
                            strings: [],
                            integers: [],
                            floats: []
                        };
                        i && console.log("Creating the AST");
                        var a = function e(n) {
                                i && console.log("Calling recursiveAstBuilder with " + this.JSON.stringify(n));
                                var a, s, c = typeof n;
                                if (null === n) return {
                                    type: "null",
                                    index: -3
                                };
                                if (void 0 === n) return {
                                    type: "undefined",
                                    index: -5
                                };
                                if (n instanceof Array) {
                                    var l = ["@"];
                                    for (var u in n) n.hasOwnProperty(u) && l.push(e(n[u]));
                                    return l
                                }
                                if ("object" === c) {
                                    for (var p in l = ["$"], n) n.hasOwnProperty(p) && (l.push(e(p)), l.push(e(n[p])));
                                    return l
                                }
                                if ("" === n) return {
                                    type: "empty",
                                    index: -4
                                };
                                if ("string" === c) return -1 == (a = o.call(r.strings, n)) && (r.strings.push("string" != typeof(s = n) ? s : s.replace(/[\+ \|\^\%]/g, function(t) {
                                    return {
                                        " ": "+",
                                        "+": "%2B",
                                        "|": "%7C",
                                        "^": "%5E",
                                        "%": "%25"
                                    }[t]
                                })), a = r.strings.length - 1), {
                                    type: "strings",
                                    index: a
                                };
                                if ("number" === c && n % 1 == 0) return -1 == (a = o.call(r.integers, n)) && (r.integers.push(t(n)), a = r.integers.length - 1), {
                                    type: "integers",
                                    index: a
                                };
                                if ("number" === c) return -1 == (a = o.call(r.floats, n)) && (r.floats.push(n), a = r.floats.length - 1), {
                                    type: "floats",
                                    index: a
                                };
                                if ("boolean" === c) return {
                                    type: "boolean",
                                    index: n ? -1 : -2
                                };
                                throw new Error("Unexpected argument of type " + typeof n)
                            }(e),
                            s = r.strings.length,
                            c = r.integers.length;
                        r.floats.length, i && console.log("Parsing the dictionary");
                        var l = r.strings.join("|");
                        return l += "^" + r.integers.join("|"), l += "^" + r.floats.join("|"), i && console.log("Parsing the structure"), l += "^" + function e(o) {
                            if (i && console.log("Calling a recursiveParser with " + this.JSON.stringify(o)), o instanceof Array) {
                                var n = o.shift();
                                for (var r in o) o.hasOwnProperty(r) && (n += e(o[r]) + "|");
                                return ("|" === n[n.length - 1] ? n.slice(0, -1) : n) + "]"
                            }
                            var a = o.type,
                                l = o.index;
                            if ("strings" === a) return t(l);
                            if ("integers" === a) return t(s + l);
                            if ("floats" === a) return t(s + c + l);
                            if ("boolean" === a) return o.index;
                            if ("null" === a) return -3;
                            if ("undefined" === a) return -5;
                            if ("empty" === a) return -4;
                            throw new TypeError("The item is alien!")
                        }(a), i && console.log("Ending parser"), n.debug ? {
                            dictionary: r,
                            ast: a,
                            packed: l
                        } : l
                    },
                    unpack: function(t, o) {
                        o = o || {};
                        var n = t.split("^");
                        o.verbose && console.log("Building dictionary");
                        var i, r = [],
                            a = n[0];
                        if ("" !== a) {
                            a = a.split("|"), o.verbose && console.log("Parse the strings dictionary");
                            for (var s = 0, c = a.length; s < c; s++) r.push("string" != typeof(i = a[s]) ? i : i.replace(/\+|%2B|%7C|%5E|%25/g, function(t) {
                                return {
                                    "+": " ",
                                    "%2B": "+",
                                    "%7C": "|",
                                    "%5E": "^",
                                    "%25": "%"
                                }[t]
                            }))
                        }
                        if ("" !== (a = n[1]))
                            for (a = a.split("|"), o.verbose && console.log("Parse the integers dictionary"), s = 0, c = a.length; s < c; s++) r.push(e(a[s]));
                        if ("" !== (a = n[2]))
                            for (a = a.split("|"), o.verbose && console.log("Parse the floats dictionary"), s = 0, c = a.length; s < c; s++) r.push(parseFloat(a[s]));
                        a = null, o.verbose && console.log("Tokenizing the structure");
                        var l = "",
                            u = [],
                            p = n[3].length;
                        for (s = 0; s < p; s++) {
                            var m = n[3].charAt(s);
                            "|" === m || "$" === m || "@" === m || "]" === m ? (l && (u.push(e(l)), l = ""), "|" !== m && u.push(m)) : l += m
                        }
                        var h = u.length,
                            d = 0;
                        return o.verbose && console.log("Starting recursive parser"),
                            function t() {
                                var e = u[d++];
                                if (o.verbose && console.log("Reading collection type " + ("$" === e ? "object" : "Array")), "@" === e) {
                                    for (var n = []; d < h; d++) {
                                        var i = u[d];
                                        if (o.verbose && console.log("Read " + i + " symbol"), "]" === i) return n;
                                        if ("@" === i || "$" === i) n.push(t());
                                        else switch (i) {
                                            case -1:
                                                n.push(!0);
                                                break;
                                            case -2:
                                                n.push(!1);
                                                break;
                                            case -3:
                                                n.push(null);
                                                break;
                                            case -5:
                                                n.push(void 0);
                                                break;
                                            case -4:
                                                n.push("");
                                                break;
                                            default:
                                                n.push(r[i])
                                        }
                                    }
                                    return o.verbose && console.log("Parsed " + this.JSON.stringify(n)), n
                                }
                                if ("$" === e) {
                                    for (n = {}; d < h; d++) {
                                        var a = u[d];
                                        if ("]" === a) return n;
                                        if (a = -4 === a ? "" : r[a], "@" === (i = u[++d]) || "$" === i) n[a] = t();
                                        else switch (i) {
                                            case -1:
                                                n[a] = !0;
                                                break;
                                            case -2:
                                                n[a] = !1;
                                                break;
                                            case -3:
                                                n[a] = null;
                                                break;
                                            case -5:
                                                n[a] = void 0;
                                                break;
                                            case -4:
                                                n[a] = "";
                                                break;
                                            default:
                                                n[a] = r[i]
                                        }
                                    }
                                    return o.verbose && console.log("Parsed " + this.JSON.stringify(n)), n
                                }
                                throw new TypeError("Bad token " + e + " isn't a type")
                            }()
                    }
                }
            })
        })("undefined" != typeof define && define.amd ? define : function(t, e) {
            var n = e();
            if (void 0 !== o)
                for (var i in n) o[i] = n[i];
            else window.jsonpack = n
        })
    }, {}],
    EditMobileIDMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a0361IjxthB/6Qa2Novk73q", "EditMobileIDMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EditMobileIDMgr = void 0;
        var a = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../../LobbyCommon/Net/LobbyClient"),
            l = t("../../../LobbyCommon/SwipeMgr/Scripts/Device"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_LabelID = null, e.m_EBNewID = null, e.m_EBnewIDAgain = null, e.m_LBPromptNewID = null, e.m_LBPromptIDAgain = null, e.m_LBErrorNewID = null, e.m_LBErrorIDAgain = null, e.m_BtnOK = null, e.m_BtnClose = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelClickOK = new SS.Common.Delegate, this.m_DelClickClose = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    null != this.m_DelClickOK && (this.m_DelClickOK.Clear(), this.m_DelClickOK = null), null != this.m_DelClickClose && (this.m_DelClickClose.Clear(), this.m_DelClickClose = null), this.OnChnageIDdSuccess = null
                }, e.prototype.EditBoxAdjustWindowScroll = function(t) {
                    t && t._impl && (cc.sys.os === cc.sys.OS_ANDROID ? (this.schedule(function() {
                        cc.screen.fullScreen() && (t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks())
                    }, 0), this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, 10)) : this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, .5))
                }, e.prototype.EditBoxCancelAdjustWindowScroll = function() {
                    this.unscheduleAllCallbacks()
                }, e.prototype.IgnoreTextEnterSpace = function(t) {
                    var e = t.string.replace("\n", "");
                    t._impl._elem.value = e, t.string = e
                }, e.prototype.ShowEditID = function(t, e) {
                    this.OnChnageIDdSuccess = t, this.m_BtnClose.node.active = !0, this.m_LabelID.string = e, this.m_EBNewID.string = "", this.m_EBnewIDAgain.string = "", (cc.sys.isMobile || l.Device.Instance.isIpad) && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBNewID.setFocus(), this.root.active = !0
                }, e.prototype.OnNewIDDidBegan = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptNewID.enabled = !1, this.m_LBErrorNewID.enabled = !1, this.EditBoxAdjustWindowScroll(this.m_EBNewID)
                }, e.prototype.OnNewIDDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBNewID.string.length && (this.m_LBPromptNewID.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnNewIDTextChanged = function() {
                    this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBNewID)
                }, e.prototype.SetBtnOKInteractable = function() {
                    this.checkCanClickOK() ? this.m_BtnOK.interactable = !0 : this.m_BtnOK.interactable = !1
                }, e.prototype.OnNewIDReturn = function() {
                    this.m_EBNewID.string.length > 0 ? 0 == this.m_EBnewIDAgain.string.length && (cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBnewIDAgain.setFocus()) : 0 == this.m_EBNewID.string.length && (this.m_LBPromptNewID.enabled = !0)
                }, e.prototype.OnNewIDAgainDidBegan = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptIDAgain.enabled = !1, this.m_LBErrorIDAgain.enabled = !1, this.EditBoxAdjustWindowScroll(this.m_EBnewIDAgain)
                }, e.prototype.OnNewIDAgaingDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBnewIDAgain.string.length && (this.m_LBPromptIDAgain.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnNewIDAgainTextChanged = function() {
                    this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBnewIDAgain)
                }, e.prototype.OnNewIDAgainRetrun = function() {
                    this.m_BtnOK.interactable && this.OnClickOK()
                }, e.prototype.OnClickClose = function() {
                    null != this.m_DelClickClose && this.m_DelClickClose.Notify(), this.m_BtnOK.interactable = !1, this.m_LBErrorIDAgain.enabled = !1, this.m_LBErrorNewID.enabled = !1, this.root.active = !1, l.Device.Instance.ChangeShowSwipeStatus(!0)
                }, e.prototype.OnClickOK = function() {
                    var t = this;
                    null != this.m_DelClickOK && this.m_DelClickOK.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.m_BtnOK.interactable = !1, this.m_LBErrorIDAgain.enabled = !1, this.m_LBErrorNewID.enabled = !1, this.checkIsLegalCharcaterByNewID() ? (this.m_EBNewID.string = this.m_EBNewID.string.toLowerCase(), this.m_EBnewIDAgain.string = this.m_EBnewIDAgain.string.toLowerCase(), c.LobbyClient.Instance.GetUserClient.SendChangeID(this.m_EBNewID.string, function(e, o) {
                        var n;
                        if (console.log("SendChangeID result : ", o), e === ArkSDK.HttpResult.OK && o.hasOwnProperty("cmd_data") && o.cmd_data.hasOwnProperty("result"))
                            if (0 === o.cmd_data.result) t.OnChnageIDdSuccess && (t.OnChnageIDdSuccess(t.m_EBNewID.string), t.OnChnageIDdSuccess = null);
                            else {
                                var i = o.cmd_data.result; - 4 == i ? t.ErrorHandler("S282", "The Mobile ID you entered is incorrect.") : -17 == i ? t.ErrorHandler("S283", "The Mobile ID you entered is incorrect.") : -18 == i ? t.ErrorHandler("S284", "This Mobile ID is already in use.") : t.ErrorHandler("S285", "The Internet was lost! Please login again!")
                            }
                        else n = n == ArkSDK.HttpResult.Abort ? "S286" : n == ArkSDK.HttpResult.Timeout ? "S287" : n == ArkSDK.HttpResult.Error ? "S288" : n == ArkSDK.HttpResult.Status ? "S289" : n == ArkSDK.HttpResult.NotReset ? "S290" : n == ArkSDK.HttpResult.Condition ? "S291" : "S292", t.ErrorHandler(n, "The Internet was lost! Please login again!")
                    })) : (this.SetBtnOKInteractable(), s.ConnectPanelMgr.Instance.DisableConnectPanel())
                }, e.prototype.ErrorHandler = function(t, e) {
                    var o = this;
                    s.ConnectPanelMgr.Instance.DisableConnectPanel(), a.PopupMsgMgr.Instance.ShowPopMsg(a.PopupPriority.Info, t, cc.director.getScene().name, e, function() {
                        o.m_EBNewID.string = "", o.m_EBnewIDAgain.string = "", o.m_LBPromptNewID.enabled = !0
                    })
                }, e.prototype.checkCanClickOK = function() {
                    return this.m_LabelID.string.length > 0 && this.m_EBNewID.string.length > 0 && this.m_EBnewIDAgain.string.length > 0
                }, e.prototype.checkIsLegalCharcaterByNewID = function() {
                    var t = "";
                    (this.m_EBNewID.string.length < 4 || this.m_EBNewID.string.length > 20) && (console.warn("[EditID.checkIsLegalCharcaterByNewID] New Mobile ID IllegalLength", this.m_EBNewID.string.length), t += "4-20 characters! ");
                    var e = this.m_EBNewID.string.match("[^a-zA-Z0-9]");
                    return null != e && (console.warn("[EditID.checkIsLegalCharcaterByNewID] New Mobile ID IllegalCharacter", e), t += "Can only use alphabet and number only."), t ? (this.m_LBErrorNewID.string = t, this.m_LBErrorNewID.enabled = !0, !1) : this.m_EBnewIDAgain.string != this.m_EBNewID.string ? (console.warn("[EditID.checkIsLegalCharcaterByNewID] Input againg error", this.m_EBnewIDAgain.string), this.m_LBErrorIDAgain.string = "Must enter the same Mobile ID twice in order to confirm it.", this.m_LBErrorIDAgain.enabled = !0, !1) : !(!t && this.m_EBNewID.string === this.m_LabelID.string && (t = "ID must differ from old Mobile ID.", this.m_LBErrorNewID.string = t, this.m_LBErrorNewID.enabled = !0, 1))
                }, r([m(cc.Label)], e.prototype, "m_LabelID", void 0), r([m(cc.EditBox)], e.prototype, "m_EBNewID", void 0), r([m(cc.EditBox)], e.prototype, "m_EBnewIDAgain", void 0), r([m(cc.Label)], e.prototype, "m_LBPromptNewID", void 0), r([m(cc.Label)], e.prototype, "m_LBPromptIDAgain", void 0), r([m(cc.Label)], e.prototype, "m_LBErrorNewID", void 0), r([m(cc.Label)], e.prototype, "m_LBErrorIDAgain", void 0), r([m(cc.Button)], e.prototype, "m_BtnOK", void 0), r([m(cc.Button)], e.prototype, "m_BtnClose", void 0), r([m(cc.Node)], e.prototype, "root", void 0), r([p], e)
            }(cc.Component);
        o.EditMobileIDMgr = h, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    EditPassword: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8d92aBCcn5BAqYwC85YmsgD", "EditPassword");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EditPassword = void 0;
        var a = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../../LobbyCommon/Net/LobbyClient"),
            l = t("../../../LobbyCommon/SwipeMgr/Scripts/Device"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_EBoldPw = null, e.m_EBNewPw = null, e.m_EBnewPwAgain = null, e.m_LBPromptOldPw = null, e.m_LBPromptNewPw = null, e.m_LBPromptPwAgain = null, e.m_LBErrorNewPw = null, e.m_LBErrorPwAgain = null, e.m_BtnOK = null, e.m_BtnClose = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelClickOK = new SS.Common.Delegate, this.m_DelClickClose = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    null != this.m_DelClickOK && (this.m_DelClickOK.Clear(), this.m_DelClickOK = null), null != this.m_DelClickClose && (this.m_DelClickClose.Clear(), this.m_DelClickClose = null), this.OnChnagePwdSuccess = null
                }, e.prototype.EditBoxAdjustWindowScroll = function(t) {
                    t && t._impl && (cc.sys.os === cc.sys.OS_ANDROID ? (this.schedule(function() {
                        cc.screen.fullScreen() && (t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks())
                    }, 0), this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, 10)) : this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, .5))
                }, e.prototype.EditBoxCancelAdjustWindowScroll = function() {
                    this.unscheduleAllCallbacks()
                }, e.prototype.OnOldPwDidBegan = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptOldPw.enabled = !1, this.EditBoxAdjustWindowScroll(this.m_EBoldPw)
                }, e.prototype.ShowEditPasaword = function(t, e, o) {
                    void 0 === e && (e = !0), void 0 === o && (o = ""), this.OnChnagePwdSuccess = t, this.m_BtnClose.node.active = e, this.m_EBoldPw.string = o, this.m_EBoldPw.string.length > 0 && (this.m_LBPromptOldPw.enabled = !1, 0 == this.m_EBNewPw.string.length && (cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBNewPw.setFocus())), this.m_EBNewPw.string = "", this.m_EBnewPwAgain.string = "", this.root.active = !0
                }, e.prototype.OnOldPwDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBoldPw.string.length && (this.m_LBPromptOldPw.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.IgnoreTextEnterSpace = function(t) {
                    var e = t.string.replace("\n", "");
                    t._impl._elem.value = e, t.string = e
                }, e.prototype.OnOldPwTextChanged = function() {
                    this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBoldPw)
                }, e.prototype.OnOldPwReturn = function() {
                    this.m_EBoldPw.string.length > 0 ? 0 == this.m_EBNewPw.string.length && (cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBNewPw.setFocus()) : 0 == this.m_EBoldPw.string.length && (this.m_LBPromptOldPw.enabled = !0)
                }, e.prototype.OnNewPwDidBegan = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptNewPw.enabled = !1, this.m_LBErrorNewPw.enabled = !1, this.EditBoxAdjustWindowScroll(this.m_EBNewPw)
                }, e.prototype.OnNewPwDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBNewPw.string.length && (this.m_LBPromptNewPw.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnNewPwTextChanged = function() {
                    this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBNewPw)
                }, e.prototype.SetBtnOKInteractable = function() {
                    this.checkCanClickOK() ? this.m_BtnOK.interactable = !0 : this.m_BtnOK.interactable = !1
                }, e.prototype.OnNewPwReturn = function() {
                    this.m_EBNewPw.string.length > 0 ? 0 == this.m_EBnewPwAgain.string.length && (cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBnewPwAgain.setFocus()) : 0 == this.m_EBNewPw.string.length && (this.m_LBPromptNewPw.enabled = !0)
                }, e.prototype.OnNewPwAgainDidBegan = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptPwAgain.enabled = !1, this.m_LBErrorPwAgain.enabled = !1, this.EditBoxAdjustWindowScroll(this.m_EBnewPwAgain)
                }, e.prototype.OnNewPwAgaingDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBnewPwAgain.string.length && (this.m_LBPromptPwAgain.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnNewPwAgainTextChanged = function() {
                    this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBnewPwAgain)
                }, e.prototype.OnNewPwAgainRetrun = function() {
                    this.m_BtnOK.interactable && this.OnClickOK()
                }, e.prototype.OnClickClose = function() {
                    null != this.m_DelClickClose && this.m_DelClickClose.Notify(), this.m_BtnOK.interactable = !1, this.m_LBErrorPwAgain.enabled = !1, this.m_LBErrorNewPw.enabled = !1, l.Device.Instance.ChangeShowSwipeStatus(!0), this.root.active = !1
                }, e.prototype.ForceClose = function() {
                    this.m_BtnOK.interactable = !1, this.m_LBErrorPwAgain.enabled = !1, this.m_LBErrorNewPw.enabled = !1, l.Device.Instance.ChangeShowSwipeStatus(!0), this.root.active = !1
                }, e.prototype.OnClickOK = function() {
                    var t = this;
                    null != this.m_DelClickOK && this.m_DelClickOK.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.m_BtnOK.interactable = !1, this.m_LBErrorPwAgain.enabled = !1, this.m_LBErrorNewPw.enabled = !1, this.m_EBoldPw.blur(), this.m_EBNewPw.blur(), this.m_EBnewPwAgain.blur(), this.checkIsLegalCharcaterByOldPw() ? this.checkIsLegalCharcaterByNewPw() ? c.LobbyClient.Instance.GetUserClient.SendChangePassword(this.m_EBoldPw.string, this.m_EBNewPw.string, function(e, o) {
                        var n;
                        if (e === ArkSDK.HttpResult.OK && o.hasOwnProperty("cmd_data") && o.cmd_data.hasOwnProperty("result"))
                            if (0 === o.cmd_data.result) t.OnChnagePwdSuccess && (t.OnChnagePwdSuccess(t.m_EBNewPw.string), t.OnChnagePwdSuccess = null);
                            else {
                                console.log(o);
                                var i = o.cmd_data.result; - 13 == i ? t.ErrorHandler("S157", "The password you entered is incorrect.") : -12 == i ? t.ErrorHandler("S158", "The password you entered is incorrect.") : t.ErrorHandler("S159", "The Internet was lost! Please try again!")
                            }
                        else n == ArkSDK.HttpResult.Abort ? n = "S137" : n == ArkSDK.HttpResult.Timeout ? n = "S138" : n == ArkSDK.HttpResult.Error ? n = "S139" : n == ArkSDK.HttpResult.Status ? n = "S140" : n == ArkSDK.HttpResult.NotReset ? n = "S141" : n == ArkSDK.HttpResult.Condition && (n = "S142"), t.ErrorHandler(n, "The Internet was lost! Please try again!")
                    }) : (this.SetBtnOKInteractable(), s.ConnectPanelMgr.Instance.DisableConnectPanel()) : this.ErrorHandler("C05", "The password you entered is incorrect.")
                }, e.prototype.ErrorHandler = function(t, e) {
                    var o = this;
                    s.ConnectPanelMgr.Instance.DisableConnectPanel(), a.PopupMsgMgr.Instance.ShowPopMsg(a.PopupPriority.Info, t, cc.director.getScene().name, e, function() {
                        o.m_EBoldPw.string = "", o.m_LBPromptOldPw.enabled = !0
                    })
                }, e.prototype.checkCanClickOK = function() {
                    return this.m_EBoldPw.string.length > 0 && this.m_EBNewPw.string.length > 0 && this.m_EBnewPwAgain.string.length > 0
                }, e.prototype.checkIsLegalCharcaterByNewPw = function() {
                    var t = "";
                    (this.m_EBNewPw.string.length < 4 || this.m_EBNewPw.string.length > 20) && (console.warn("[EditPassword.checkIsLegalCharcaterByNewPw] New PW IllegalLength", this.m_EBNewPw.string.length), t += "4-20 characters! ");
                    var e = this.m_EBNewPw.string.match("[^a-zA-Z0-9]");
                    return null != e && (console.warn("[EditPassword.checkIsLegalCharcaterByNewPw] New PW IllegalCharacter", e), t += "Can only use alphabet and number only."), t ? (this.m_LBErrorNewPw.string = t, this.m_LBErrorNewPw.enabled = !0, !1) : this.m_EBnewPwAgain.string != this.m_EBNewPw.string ? (console.warn("[EditPassword.checkIsLegalCharcaterByNewPw] Input againg error", this.m_EBnewPwAgain.string), this.m_LBErrorPwAgain.string = "Must enter the same password twice in order to confirm it.", this.m_LBErrorPwAgain.enabled = !0, !1) : !(!t && this.m_EBNewPw.string === this.m_EBoldPw.string && (t = "Password must differ from old password.", this.m_LBErrorNewPw.string = t, this.m_LBErrorNewPw.enabled = !0, 1))
                }, e.prototype.checkIsLegalCharcaterByOldPw = function() {
                    var t = this.m_EBoldPw.string.match("[^a-zA-Z0-9]");
                    return null != t ? (console.warn("[EditPassword.checkIsLegalCharcaterByOldPw] OldPw IllegalCharacter", t), !1) : !(this.m_EBoldPw.string.length < 4 || this.m_EBoldPw.string.length > 20) || (console.warn("[EditPassword.checkIsLegalCharcaterByOldPw] ID IllegalLength", this.m_EBoldPw.string.length), !1)
                }, r([m(cc.EditBox)], e.prototype, "m_EBoldPw", void 0), r([m(cc.EditBox)], e.prototype, "m_EBNewPw", void 0), r([m(cc.EditBox)], e.prototype, "m_EBnewPwAgain", void 0), r([m(cc.Label)], e.prototype, "m_LBPromptOldPw", void 0), r([m(cc.Label)], e.prototype, "m_LBPromptNewPw", void 0), r([m(cc.Label)], e.prototype, "m_LBPromptPwAgain", void 0), r([m(cc.Label)], e.prototype, "m_LBErrorNewPw", void 0), r([m(cc.Label)], e.prototype, "m_LBErrorPwAgain", void 0), r([m(cc.Button)], e.prototype, "m_BtnOK", void 0), r([m(cc.Button)], e.prototype, "m_BtnClose", void 0), r([m(cc.Node)], e.prototype, "root", void 0), r([p], e)
            }(cc.Component);
        o.EditPassword = h, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    EnableToPlayAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "aef4aOY0a5E04Q8NdB7JQMS", "EnableToPlayAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EnableToPlayAnimation = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.animation = null, e
                }
                return i(e, t), e.prototype.onEnable = function() {
                    this.animation.play()
                }, e.prototype.PlayAnimation = function(t) {
                    this.animation.play(t)
                }, r([c(cc.Animation)], e.prototype, "animation", void 0), r([s], e)
            }(cc.Component);
        o.EnableToPlayAnimation = l, cc._RF.pop()
    }, {}],
    EnableToPlayParticle: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "161f7PbaZhGOq9T3OhZuJom", "EnableToPlayParticle");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EnableToPlayParticle = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.particleSystem = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.particleSystem = this.getComponent(cc.ParticleSystem)
                }, e.prototype.onEnable = function() {
                    this.particleSystem.resetSystem()
                }, r([s], e)
            }(cc.Component));
        o.EnableToPlayParticle = c, cc._RF.pop()
    }, {}],
    EncryptSkeleton: [function(t, e) {
        "use strict";
        cc._RF.push(e, "17403y3DEJIAJBAKxGyW7Jn", "EncryptSkeleton");
        var o, n = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function n() {
                    this.constructor = t
                }
                o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            i = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            r = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            },
            s = window.Editor,
            c = cc.Enum({
                Debug: 0,
                Release: 1
            }),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property;
        (function(e) {
            function o() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.index = -1, t.editor_mode = c.Release, t
            }
            n(o, e), Object.defineProperty(o.prototype, "editorMode", {
                get: function() {
                    return this.editor_mode
                },
                set: function() {},
                enumerable: !1,
                configurable: !0
            }), o.prototype.__preload = function() {
                return r(this, void 0, void 0, function() {
                    var t;
                    return a(this, function() {
                        return this.skeletonData && (t = this.skeletonData._skeletonJson, this.editor_mode = t.editor_mode || c.Debug, this.editor_mode == c.Release && this._decodeSkeletonData()), e.prototype.__preload.call(this), [2]
                    })
                })
            }, o.prototype.onEnable = function() {
                if (!this.skeletonData) return this.node.active = !1, void cc.warn("\u8acb\u9078\u64c7Skeleton Data");
                this.registerComponent(), this.__preload(), e.prototype.onEnable.call(this)
            }, o.prototype.onDestroy = function() {
                this.removeComponent()
            }, o.prototype.registerComponent = function() {}, o.prototype.removeComponent = function() {}, o.prototype._decodeSkeletonData = function() {
                var t = "";
                try {
                    t = "2.0.10" === cc.ENGINE_VERSION ? "skeletonJson" : "_skeletonJson";
                    var e = this.skeletonData[t].data;
                    e && (this.skeletonData[t] = JSON.parse(decodeURIComponent(atob(e))), this.skeletonData[t].editor_mode = this.editor_mode, this.skeletonData.reset())
                } catch (o) {
                    cc.warn("[decodeSkeletonData] %s error: ", t, o)
                }
            }, o.prototype._modifySkeletonData = function(e, o) {
                var n = this,
                    i = this.skeletonData._uuid,
                    r = i.substr(0, 2),
                    a = t("fs"),
                    l = t("path").join(s.Project.path, "library", "imports", r, i + ".json"),
                    u = JSON.parse(a.readFileSync(l));
                this.editor_mode === c.Debug && e === c.Release ? u._skeletonJson = {
                    data: btoa(encodeURIComponent(JSON.stringify(u._skeletonJson))),
                    editor_mode: e
                } : this.editor_mode === c.Release && e === c.Debug ? (u._skeletonJson = JSON.parse(decodeURIComponent(atob(u._skeletonJson.data))), u._skeletonJson.editor_mode = e) : s.warn("_modifySkeletonData \u932f\u8aa4"), a.writeFile(l, JSON.stringify(u), "utf-8", function(t) {
                    t && console.error(t), s.log("SkeletonData: %s decode success, editor_mode: %s", i, n.editor_mode), o && o(i, t)
                })
            }, o.manager = {}, o.index = 0, o.MAX_INDEX = 4096, i([p({
                type: c
            })], o.prototype, "editorMode", null), o = i([u()], o)
        })(sp.Skeleton), cc._RF.pop()
    }, {
        fs: void 0,
        path: 1
    }],
    ErrorMsgDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f6a6antrVlPoLVWP9qTdOIo", "ErrorMsgDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ErrorMsgDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t + "ErrorMsg" + SS.Common.GameEnvironment.ProjectSetting.ErrorMsgVersion + ".json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("ErrorMsgDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[ErrorMsgDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.ErrorMsgDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    EventBannerData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "53a08u5Ue9BB4ENSI+O0oZk", "EventBannerData");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventBannerData = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = (i.property, function() {
                function t(t, e, o, n, i) {
                    void 0 === n && (n = null), void 0 === i && (i = null), this.m_sBannerID = "", this.m_iEventTitleTiype = null, this.m_fucClickEvent = null, this.m_funShowPopupEvent = null, this.m_funTimerEvent = null, this.m_bValid = !1, this.m_sBannerID = t, this.m_iEventTitleTiype = e, this.m_fucClickEvent = o, this.m_funShowPopupEvent = n, this.m_funTimerEvent = i
                }
                return n([r], t)
            }());
        o.EventBannerData = a, cc._RF.pop()
    }, {}],
    EventCaller: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d8232/E0DVGApc6BcbYIDZu", "EventCaller");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventCaller = o.EventFormat = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function() {
                function t() {
                    this.key = "", this.target = null, this.className = "", this.functionName = ""
                }
                return r([c(String)], t.prototype, "key", void 0), r([c(cc.Node)], t.prototype, "target", void 0), r([c(String)], t.prototype, "className", void 0), r([c(String)], t.prototype, "functionName", void 0), r([s("EventFormat")], t)
            }();
        o.EventFormat = l;
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.event = [], e
            }
            return i(e, t), e.prototype.onDestroy = function() {
                this.event = null
            }, e.prototype.CallEevent = function(t) {
                for (var e = 0; e < this.event.length; e++)
                    if (this.event[e].key == t) {
                        var o = this.event[e].target.getComponent(this.event[e].className);
                        return void(o ? o[this.event[e].functionName] ? o[this.event[e].functionName]() : console.warn("EventCaller Not Found Target : " + this.event[e].className) : console.warn("EventCaller Not Found Function : " + this.event[e].functionName))
                    }
            }, r([c([l])], e.prototype, "event", void 0), r([s], e)
        }(cc.Component);
        o.EventCaller = u, cc._RF.pop()
    }, {}],
    EventModule: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2e6650310tHVq53qniQloza", "EventModule");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventModule = void 0;
        var a = t("../Skin/Skin"),
            s = cc._decorator,
            c = s.ccclass,
            l = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strEventID = "", e.m_fucCBInitDone = null, e.m_LobbyMgr = null, e.m_bVertical = !1, e.m_numOriginSiblingIndex = 0, e
                }
                return i(e, t), e.prototype.init = function(t, e) {
                    this.m_fucCBInitDone = e, this.m_LobbyMgr = t, null != SS.Common.GameEnvironment.CurrentGameNow && 1 == SS.Common.GameEnvironment.ProjectSetting.Modules[SS.Common.GameEnvironment.CurrentGameNow].Vertical && (this.m_bVertical = !0)
                }, e.prototype.initDone = function() {
                    null != this.m_fucCBInitDone && (this.m_fucCBInitDone(), this.m_fucCBInitDone = null)
                }, e.prototype.reloadLobby = function() {
                    console.error("reloadLobby()"), this.m_LobbyMgr && this.m_LobbyMgr.ReloadLobby()
                }, e.prototype.ShowMainPanel = function() {}, e.prototype.isVertical = function() {
                    return this.m_bVertical
                }, e.prototype.setOnTop = function() {
                    if (this.m_LobbyMgr) this.node.parent = a.default.Instance.GetLayer("EventPanel");
                    else {
                        this.m_numOriginSiblingIndex = this.node.getSiblingIndex();
                        for (var t = this.node.parent.children, e = -1, o = 0; o < t.length; o++) e = e > t[o].getSiblingIndex() ? e : t[o].getSiblingIndex();
                        e++, this.node.setSiblingIndex(e)
                    }
                }, e.prototype.ResetSiblingIndex = function() {
                    this.m_LobbyMgr ? this.node.parent = a.default.Instance.GetLayer("LoadRes") : this.node.setSiblingIndex(this.m_numOriginSiblingIndex)
                }, e.prototype.checkNewEvent = function(t) {
                    cc.log("EventModule.checkNewEvent");
                    var e, o = "";
                    if ((e = this.getCookie("GDC_USER_ID")) == this.getCookie("SHOW_ID_QUEST_USER_ID")) {
                        for (var n = (o = this.getCookie("SHOW_ID_QUEST_ID_LIST")).split("&"), i = 0; i < n.length; i++)
                            if (n[i] == t) return cc.log("match!"), !1;
                        return cc.log("new event!"), this.setCookie("SHOW_ID_QUEST_ID_LIST", "" == o ? t : o + "&" + t), !0
                    }
                    return cc.log("new user!"), this.setCookie("SHOW_ID_QUEST_USER_ID", e), this.setCookie("SHOW_ID_QUEST_ID_LIST", t), !0
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, e.prototype.SetEventActive = function() {
                    SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") && (SS.Common.GameEnvironment.GameSetting.active_event[this.m_strEventID] = !0)
                }, e.prototype.CloseEvent = function() {
                    SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") && (SS.Common.GameEnvironment.GameSetting.active_event[this.m_strEventID] = !1)
                }, r([c], e)
            }(cc.Component));
        o.EventModule = l, cc._RF.pop()
    }, {
        "../Skin/Skin": "Skin"
    }],
    EventSystem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c477brrDUJA9roGvK2DPp7/", "EventSystem"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.BeginnersGuide = o.CommunityBonus = o.NoticedArrived = o.Avatar = o.SquareGameIcon = o.Profile = o.FishHunter = o.PurchaseEvent = o.GameBarEvent = o.GameTipCloseAnGoOnTheGame = o.SwitchGame = o.DoLogOut = o.EventSystem = void 0;
        var n, i, r, a, s, c, l, u, p, m = function() {
            function t() {}
            return t.Event = function(t) {
                return this.m_listDelegate[t] ? this.m_listDelegate[t] : (this.m_listDelegate[t] = new SS.Common.Delegate, this.m_listDelegate[t])
            }, t.Function = function(t) {
                return this.m_listFunction[t] ? this.m_listFunction[t] : function() {
                    console.warn("There is no Function registered named '" + t + "'")
                }
            }, t.RegisterFunction = function(t, e) {
                this.m_listFunction[t] ? console.warn("There is already a Function registered named '" + t + "'\n System will cancell the registration!") : (this.m_listFunction[t] = new Function, this.m_listFunction[t] = e)
            }, t.UnregisterFunction = function(t) {
                this.m_listFunction[t] ? this.m_listFunction[t] = null : console.warn("There is no Function registered named '" + t + "'\n System will do Nothing!")
            }, t.Destroy = function() {
                for (var e = 0, o = t.m_listDelegate; e < o.length; e++) o[e];
                t.m_listDelegate = null;
                for (var n = 0, i = t.m_listFunction; n < i.length; n++) i[n];
                t.m_listFunction = null
            }, t.m_listDelegate = [], t.m_listFunction = [], t
        }();
        o.EventSystem = m, o.DoLogOut = "[DoLogOut]", o.SwitchGame = "[SwitchGame]", o.GameTipCloseAnGoOnTheGame = "[GameTipCloseAnGoOnTheGame]",
            function(t) {
                t.CanSpin = "[game_bar]_can_spin", t.Spin = "[game_bar]_spin", t.CanStop = "[game_bar]_can_stop", t.Stop = "[game_bar]_stop", t.CanStart = "[game_bar]_can_start", t.Start = "[game_bar]_start", t.CanTake = "[game_bar]_can_take", t.Take = "[game_bar]_take"
            }(n || (n = {})), o.GameBarEvent = n,
            function(t) {
                t.DownloadBundleFinished = "[FishHunter]_DownloadBundleFinished", t.OnShipOccupiedShow = "[FishHunter]_OnShipOccupiedShow", t.SetShipOccupieUICloseEvent = "[FishHunter]_SetShipOccupieUICloseEvent", t.OpenProfile = "[FishHunter]_OpenProfile", t.OpenAvatarEditor = "[FishHunter]_OpenAvatarEditor", t.CloseBattleShipStory = "[FishHunter]_CloseBattleShipStory", t.UpdatePlayerSetting = "[FishHunter]_UpdatePlayerSetting", t.UpdateBuddhaPalm = "[FishHunter]_UpdateBuddhaPalm", t.GetMenuIcon = "[FishHunter]_GetMenuIcon"
            }(i || (i = {})), o.FishHunter = i,
            function(t) {
                t.OnPurchaseSuccess = "[Purchase]_OnPurchaseSuccess", t.OnPurchasePanelDisable = "[Purchase]_OnPurchasePanelDisable"
            }(r || (r = {})), o.PurchaseEvent = r,
            function(t) {
                t.OpenProfile = "[Profile]_OpenProfile", t.OpenAvatarEditor = "[Profile]_OpenAvatarEditor", t.UpdatePlayerAsset = "[Profile]_UpdatePlayerAsset", t.NotifyUpdatePlayerSetting = "[Profile]_UpdatePlayerSetting", t.ClearSelfUpdateCDTime = "[Profile]_ClearSelfUpdateCDTime", t.SetLoadingNodeDisplay = "[Profile]_SetLoadingNodeDisplay", t.SetBarButtonInteractive = "[Profile]_SetBarButtonInteractive"
            }(a || (a = {})), o.Profile = a,
            function(t) {
                t.GetGameIcon = "[ProfileIcon]_GetGameIcon"
            }(s || (s = {})), o.SquareGameIcon = s,
            function(t) {
                t.SetFaceIcon = "[Avatar]_SetFaceIcon", t.SetFaceFrameIcon = "[Avatar]_SetFaceFrameIcon", t.SetNickname = "[Avatar]_SetNickname", t.RequestUpdate = "[Avatar]_RequestUpdate", t.CheckExpireTime = "[Avatar]_CheckExpireTime"
            }(c || (c = {})), o.Avatar = c,
            function(t) {
                t.OnReceiveReward = "[NoticedArrived]_OnReceiveReward", t.ShowRewardNotice = "[NoticedArrived]_ShowRewardNotice", t.OnReceiveAvatar = "[NoticedArrived]_OnReceiveAvatar", t.ShowAvatarNotice = "[NoticedArrived]_ShowAvatarNotice", t.OnReceiveBroadcast = "[NoticedArrived]_OnReceiveBroadcast", t.ShowBroadcast = "[NoticedArrived]_ShowBroadcast", t.SetNoticeInteractive = "[NoticedArrived]_SetNoticeInteractive", t.SetNewsRedPoint = "[NoticedArrived]_SetNewsRedPoint", t.OnRewardShowIn = "[NoticedArrived]_OnRewardShowIn", t.OnRewardShowOut = "[NoticedArrived]_OnRewardShowOut", t.OnRewardShowFinished = "[NoticedArrived]_OnRewardShowFinished", t.OnAvatarShowIn = "[NoticedArrived]_OnAvatarShowIn", t.OnAvatarShowOut = "[NoticedArrived]_OnAvatarShowOut", t.OnAvatarShowFinished = "[NoticedArrived]_OnAvatarShowFinished", t.OnBroadcastShowIn = "[NoticedArrived]_OnBroadcastShowIn", t.OnBroadcastShowOut = "[NoticedArrived]_OnBroadcastShowOut", t.OnBroadcastShowFinished = "[NoticedArrived]_OnBroadcastShowFinished"
            }(l || (l = {})), o.NoticedArrived = l,
            function(t) {
                t.ClickGetAwardCollect = "[CommunityBonus]_ClickGetAwardCollect", t.SetCollected = "[CommunityBonus]_SetCollected", t.TimesUp = "[CommunityBonus]_TimesUp"
            }(u || (u = {})), o.CommunityBonus = u,
            function(t) {
                t.Show = "[BeginnersGuilde]_show", t.Hide = "[BeginnersGuilde]_hide", t.OnExit = "[BeginnersGuilde]_onExit"
            }(p || (p = {})), o.BeginnersGuide = p, cc._RF.pop()
    }, {}],
    EventTipsMask: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7747eq2D2hCP6H/cdxuEy2I", "EventTipsMask");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.EventTipsMask = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMask = null, e.m_delHideCb = null, e.m_bClickAnyEvent = !1, e
                }
                var o;
                return i(e, t), o = e, e.prototype.start = function() {
                    o.Instance = this, this.m_delHideCb = new SS.Common.Delegate
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.prototype.show = function() {
                    var t = this;
                    this.m_bClickAnyEvent || (this.m_nodeMask.active = !0, this.m_nodeMask.opacity = 185, setTimeout(function() {
                        t.hide()
                    }, 6e4))
                }, e.prototype.hide = function() {
                    var t = this;
                    this.m_bClickAnyEvent || (this.m_bClickAnyEvent = !0, null != this.m_nodeMask && this.m_nodeMask.active && cc.tween(this.m_nodeMask).to(.5, {
                        opacity: 0
                    }).call(function() {
                        return t.m_nodeMask.active = !1
                    }).start(), this.m_delHideCb.Length > 0 && this.m_delHideCb.Notify())
                }, e.prototype.onClick = function() {
                    this.hide()
                }, e.prototype.checkNewEvent = function(t) {
                    cc.log("EventTipsMask.checkNewEvent");
                    var e, o = "";
                    if ((e = this.getCookie("GDC_USER_ID")) == this.getCookie("QUEST_USER_ID")) {
                        for (var n = (o = this.getCookie("QUEST_ID_LIST")).split("&"), i = !1, r = 0; r < n.length; r++)
                            if (n[r] == t) {
                                i = !0;
                                break
                            }
                        i || (cc.log("new event!"), this.show(), this.setCookie("QUEST_ID_LIST", "" == o ? t : o + "&" + t))
                    } else cc.log("new user!"), this.show(), this.setCookie("QUEST_USER_ID", e), this.setCookie("QUEST_ID_LIST", t)
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, e.Instance = null, r([c(cc.Node)], e.prototype, "m_nodeMask", void 0), o = r([s], e)
            }(cc.Component);
        o.EventTipsMask = l, cc._RF.pop()
    }, {}],
    ExtraFreeMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7dd58oA1OVNyL5dZ1nm3+gP", "ExtraFreeMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            s = t("../../../LobbyCommon/EventModule/EventModule"),
            c = t("../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl"),
            l = t("../../../LobbyCommon/Net/LobbyClient"),
            u = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("../../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent"),
            m = t("date-fns/format"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function() {
                this.EventID = "", this.EventSerialNo = 0, this.EventDateUTC = "", this.PurchaseAmount = 0, this.EventWin = 0, this.ExchangeRate = 0
            },
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeRoot = null, e.m_nodeCoinStartPos = null, e.m_btnRecv = null, e.m_labDate = null, e.m_labPurchase = null, e.m_labAward = null, e.m_FakeScoreBoxCtrl = null, e.m_aryExtraFreeData = [], e.m_curExtraFreeData = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodeRoot.active = !1
                }, e.prototype.start = function() {
                    if (SS.Common.GameEnvironment.IsUseScoreBox) {
                        if (this.parseExtraFreeInfo(l.LobbyClient.Instance.m_ExtraResult)) {
                            var t = new p.PriorityCustomEvent(999, this.CheckExtraFree.bind(this));
                            this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t)
                        }
                        this.initDone()
                    } else this.initDone()
                }, e.prototype.CheckExtraFree = function() {
                    var t = this;
                    if (console.log("\u958b\u5206\u8d08\u5206 \u6aa2\u67e5\u734e\u9805, \u672a\u9818\u53d6\u734e\u52f5\u6578\u91cf = " + this.m_aryExtraFreeData.length), this.m_aryExtraFreeData.length > 0 && (this.m_curExtraFreeData = this.m_aryExtraFreeData.shift()), null != this.m_curExtraFreeData && null != this.m_curExtraFreeData) {
                        var e = new Date(m(this.m_curExtraFreeData.EventDateUTC, "YYYY-MM-DDTHH:mm:ss+00:00"));
                        this.m_labDate.string = e.toLocaleDateString("en-US", {
                            timeZone: "EST"
                        });
                        var o = this.m_curExtraFreeData.PurchaseAmount;
                        this.m_labPurchase.string = "$" + o.toLocaleString("en-US", {
                            maximumFractionDigits: 2
                        });
                        var n = this.m_curExtraFreeData.EventWin * this.m_curExtraFreeData.ExchangeRate;
                        this.m_labAward.string = "$" + n.toLocaleString("en-US", {
                            maximumFractionDigits: 2
                        }), this.m_nodeRoot.active = !0;
                        var i = this.m_LobbyMgr.UserEntries;
                        this.m_FakeScoreBoxCtrl.show(c.ShowType.ENTRIES, i), console.warn("\u958b\u5206\u8d08\u5206\u6d3b\u52d5 \u589e\u52a0\u524d\u7684\u8cc7\u7522 = " + i), this.m_labAward.node.setScale(cc.Vec2.ZERO), cc.tween(this.m_labPurchase.node).to(.5, {
                            scale: 1.5
                        }, {
                            easing: "backInOut"
                        }).to(.1, {
                            scale: 1
                        }).start(), cc.tween(this.m_labDate.node).to(.5, {
                            scale: 1.5
                        }, {
                            easing: "backInOut"
                        }).to(.1, {
                            scale: 1
                        }).start(), cc.tween(this.m_labAward.node).to(.5, {
                            scale: 1
                        }, {
                            easing: "backInOut"
                        }).call(function() {
                            t.m_btnRecv.interactable = !0
                        }).start()
                    } else this.m_nodeRoot.active = !1, this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.ShowGetAward = function(t) {
                    console.log("\u958b\u5206\u8d08\u5206\u6d3b\u52d5 cmd_data = ", t), this.LobbySetUserBalance(t.playerInfo);
                    var e = this.m_LobbyMgr.UserEntries;
                    console.warn("\u958b\u5206\u8d08\u5206\u6d3b\u52d5 \u52a0\u5b8c\u5f8c\u7684\u8cc7\u7522 = " + e), this.m_FakeScoreBoxCtrl.countUpShowMoney(e, 1, this.m_nodeCoinStartPos.getPosition(), this.OnGetAwardEnd.bind(this))
                }, e.prototype.OnGetAwardEnd = function() {
                    var t = this;
                    console.log("\u958b\u5206\u8d08\u5206 \u9818\u734e\u7d50\u675f, \u672a\u9818\u53d6\u734e\u52f5\u6578\u91cf = " + this.m_aryExtraFreeData.length), this.m_FakeScoreBoxCtrl.callUnregisterAllFinishCallback(), this.m_curExtraFreeData = null, this.scheduleOnce(function() {
                        t.m_aryExtraFreeData.length > 0 ? t.CheckExtraFree() : (t.m_nodeRoot.active = !1, t.m_LobbyMgr.popUpMgr.checkAndShowPopup())
                    }, .5)
                }, e.prototype.LobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    console.log("\u958b\u5206\u8d08\u5206 \u66f4\u65b0\u5927\u5ef3\u8cc7\u7522 lobbySetUserBalance~ entries = " + e + " winnings = " + o), this.m_LobbyMgr.downBarMgr.SetUserBalance(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o
                }, e.prototype.OnClickReceive = function() {
                    this.m_btnRecv.interactable = !1, a.ConnectPanelMgr.Instance.ShowConnectPanel(0), l.LobbyClient.Instance.GetUserClient.collectExtraCompsAward(this.m_curExtraFreeData.EventID, this.m_curExtraFreeData.EventSerialNo, this.OnReceiveAward.bind(this))
                }, e.prototype.parseExtraFreeInfo = function(t) {
                    if (null == t) return !1;
                    if (t.hasOwnProperty("data")) {
                        this.m_aryExtraFreeData = [];
                        for (var e = t.data, o = 0; o < e.length; o++) {
                            var n = new g,
                                i = e[o];
                            n.EventID = i.EventID, n.EventSerialNo = i.EventSerialNo, n.EventDateUTC = i.PurchaseTimeUTC, n.PurchaseAmount = i.PurchaseAmount, n.EventWin = i.CollectAwardScore, n.ExchangeRate = i.ExchangeRate, this.m_aryExtraFreeData.push(n)
                        }
                        return !0
                    }
                    return !1
                }, e.prototype.OnReceiveAward = function(t, e) {
                    if (console.warn("\u958b\u5206\u8d08\u5206\u6d3b\u52d5 \u6536\u5230\u7d50\u679c, status = " + t + ", result = ", e), a.ConnectPanelMgr.Instance.DisableConnectPanel(0), t == ArkSDK.HttpResult.OK && e && e.cmd_data)
                        if (0 == e.cmd_data.result) this.ShowGetAward(e.cmd_data);
                        else {
                            var o = "";
                            switch (e.cmd_data.result) {
                                case -1:
                                    o = "S364";
                                    break;
                                case -33:
                                    o = "S365";
                                    break;
                                case -34:
                                    o = "S366";
                                    break;
                                case -35:
                                    o = "S367";
                                    break;
                                case -35:
                                    o = "S368";
                                    break;
                                default:
                                    o = "S375"
                            }
                            u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Info, o, null, null, null), this.OnGetAwardEnd()
                        }
                    else this.ShowEventErrorMsg(t, e)
                }, e.prototype.ShowEventErrorMsg = function(t) {
                    var e;
                    e = t == ArkSDK.HttpResult.Abort ? "S369" : t == ArkSDK.HttpResult.Condition ? "S370" : t == ArkSDK.HttpResult.Error ? "S371" : t == ArkSDK.HttpResult.NotReset ? "S372" : t == ArkSDK.HttpResult.Status ? "S373" : t == ArkSDK.HttpResult.Timeout ? "S374" : "S375", u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, e, null, null, null)
                }, r([_(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([_(cc.Node)], e.prototype, "m_nodeCoinStartPos", void 0), r([_(cc.Button)], e.prototype, "m_btnRecv", void 0), r([_(cc.Label)], e.prototype, "m_labDate", void 0), r([_(cc.Label)], e.prototype, "m_labPurchase", void 0), r([_(cc.Label)], e.prototype, "m_labAward", void 0), r([_(c.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([d], e)
            }(s.EventModule);
        o.default = f, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/EventModule/EventModule": "EventModule",
        "../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "date-fns/format": 5
    }],
    FakeScoreBoxCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bb533ygmlVFj4OWtqIu2HK3", "FakeScoreBoxCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FakeScoreBoxCtrl = o.ShowType = void 0;
        var a, s = t("../../Helper/EventSystem"),
            c = t("./../../Component/NumberCountUp"),
            l = t("./GetBonusShow"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.ENTRIES = 0] = "ENTRIES", t[t.WINNING = 1] = "WINNING", t[t.CREDIT = 2] = "CREDIT"
        })(a = o.ShowType || (o.ShowType = {}));
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.mask = null, e.m_nodeBGEntries = null, e.m_nodeLabelEntries = null, e.m_CountUpEntries = null, e.m_nodeBGWinning = null, e.m_nodeLabelWinning = null, e.m_CountUpWinning = null, e.m_nodeBGCredit = null, e.m_nodeLabelCredit = null, e.m_CountUpCredit = null, e.m_getBonusShow = null, e.m_nodeBGTarget = null, e.m_nodeLabelTarget = null, e.m_CountUpTarget = null, e
            }
            return i(e, t), e.prototype.onLoad = function() {
                this.hide(), s.EventSystem.Event(s.PurchaseEvent.OnPurchaseSuccess).Insert(this.OnPurchaseSuccess, this)
            }, e.prototype.onDestroy = function() {
                s.EventSystem.Event(s.PurchaseEvent.OnPurchaseSuccess) && s.EventSystem.Event(s.PurchaseEvent.OnPurchaseSuccess).Remove(this.OnPurchaseSuccess, this), this.callUnregisterAllFinishCallback()
            }, e.prototype.setType = function(t) {
                switch (t) {
                    case a.ENTRIES:
                        this.m_nodeBGTarget = this.m_nodeBGEntries, this.m_nodeLabelTarget = this.m_nodeLabelEntries, this.m_CountUpTarget = this.m_CountUpEntries;
                        break;
                    case a.WINNING:
                        this.m_nodeBGTarget = this.m_nodeBGWinning, this.m_nodeLabelTarget = this.m_nodeLabelWinning, this.m_CountUpTarget = this.m_CountUpWinning;
                        break;
                    case a.CREDIT:
                        this.m_nodeBGTarget = this.m_nodeBGCredit, this.m_nodeLabelTarget = this.m_nodeLabelCredit, this.m_CountUpTarget = this.m_CountUpCredit
                }
            }, e.prototype.hide = function() {
                this.mask.active = !1, this.m_nodeBGEntries.active = !1, this.m_nodeLabelEntries.active = !1, this.m_CountUpEntries.node.active = !1, this.m_nodeBGWinning.active = !1, this.m_nodeLabelWinning.active = !1, this.m_CountUpWinning.node.active = !1, this.m_nodeBGCredit.active = !1, this.m_nodeLabelCredit.active = !1, this.m_CountUpCredit.node.active = !1
            }, e.prototype.show = function(t, e) {
                this.mask.active = !0, this.setType(t), this.hide(), this.m_nodeBGTarget.active = !0, this.m_nodeLabelTarget.active = !0, this.m_CountUpTarget.node.active = !0, this.m_CountUpTarget.SetNumberNow(e)
            }, e.prototype.countUp = function(t, e, o) {
                void 0 === o && (o = null), this.m_CountUpTarget.RegisterFinishCallback(o), this.m_CountUpTarget.CountUp(t, e)
            }, e.prototype.countUpShowMoney = function(t, e, o, n) {
                var i = this;
                void 0 === n && (n = null), this.m_getBonusShow.Show(o, this.m_nodeBGTarget.convertToWorldSpaceAR(new cc.Vec2(0, 0)), function() {
                    i.m_CountUpTarget.RegisterFinishCallback(n), i.m_CountUpTarget.CountUp(t, e)
                })
            }, e.prototype.callUnregisterAllFinishCallback = function() {
                this.m_CountUpTarget && this.m_CountUpTarget.UnregisterAllFinishCallback()
            }, e.prototype.OnPurchaseSuccess = function(t, e) {
                if (this.m_CountUpTarget) {
                    var o = t;
                    0 == SS.Common.GameEnvironment.IsUseScoreBox && (o = e), this.m_CountUpTarget.SetNumberNow(o)
                }
            }, r([m(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([m(cc.Node)], e.prototype, "mask", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGEntries", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelEntries", void 0), r([m(c.NumberCountUp)], e.prototype, "m_CountUpEntries", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGWinning", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelWinning", void 0), r([m(c.NumberCountUp)], e.prototype, "m_CountUpWinning", void 0), r([m(cc.Node)], e.prototype, "m_nodeBGCredit", void 0), r([m(cc.Node)], e.prototype, "m_nodeLabelCredit", void 0), r([m(c.NumberCountUp)], e.prototype, "m_CountUpCredit", void 0), r([m(l.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([p], e)
        }(cc.Component);
        o.FakeScoreBoxCtrl = h, cc._RF.pop()
    }, {
        "../../Helper/EventSystem": "EventSystem",
        "./../../Component/NumberCountUp": "NumberCountUp",
        "./GetBonusShow": "GetBonusShow"
    }],
    FinishPageTimer: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "dd49fdjSoNClpxrgO23gnUY", "FinishPageTimer");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FinishPageTimer = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_sprCircle = null, e.m_labTimer = null, e.m_fTimerMax = 10, e.m_fTimerTmp = 0, e.m_cb = null, e
                }
                return i(e, t), e.prototype.update = function(t) {
                    this.m_fTimerTmp > 0 ? (this.m_fTimerTmp -= t, this.setTimer()) : this.m_cb && this.m_cb()
                }, e.prototype.setTimer = function() {
                    this.m_sprCircle.fillRange = this.m_fTimerTmp / this.m_fTimerMax, this.m_labTimer.string = Math.ceil(this.m_fTimerTmp).toString()
                }, e.prototype.show = function(t) {
                    this.node.active = t, t && (this.m_fTimerTmp = this.m_fTimerMax, this.setTimer())
                }, r([c(cc.Sprite)], e.prototype, "m_sprCircle", void 0), r([c(cc.Label)], e.prototype, "m_labTimer", void 0), r([c(cc.Float)], e.prototype, "m_fTimerMax", void 0), r([s], e)
            }(cc.Component);
        o.FinishPageTimer = l, cc._RF.pop()
    }, {}],
    FishBundleManager: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3c16agqit5Jiqx/0IzDQmUl", "FishBundleManager");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../../LobbyCommon/Component/BundleCtrl"),
            l = t("../../LobbyCommon/EventModule/EventModule"),
            u = t("../../LobbyCommon/Helper/EventSystem"),
            p = t("../../LobbyCommon/Helper/Setting"),
            m = t("../../LobbyCommon/Skin/Skin"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.PopupWindow = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.BundleAsync()];
                                case 1:
                                    return t.sent(), u.EventSystem.Event(u.FishHunter.DownloadBundleFinished).Notify(), [2]
                            }
                        })
                    })
                }, e.prototype.BundleAsync = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o = this;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = !0, [4, c.default.Instance.DownloadConfig().catch(function() {
                                        t = !1
                                    })];
                                case 1:
                                    return n.sent(), t ? [4, c.default.Instance.DownloadCommonBundles()] : [3, 4];
                                case 2:
                                    return n.sent(), [4, this.DownloadGameFeature()];
                                case 3:
                                    n.sent(), n.label = 4;
                                case 4:
                                    return [4, m.default.Instance.Init()];
                                case 5:
                                    return n.sent(), e = m.default.Instance.GetLoadList("Game"), [4, m.default.Instance.Download({
                                        Profile: function(t) {
                                            t.parent = o.PopupWindow
                                        }
                                    }, e)];
                                case 6:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadGameFeature = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o, n, i, r, a, u;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, p.default.CheckInit()];
                                case 1:
                                    if (s.sent(), t = p.default.GetSetting("FeatureUIGame"), e = [], t)
                                    /*
                                        if (o = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList)
                                            for (i = 0; i < t.length; i++) n = t[i], o.indexOf(n) >= 0 && e.push(n);
                                        else*/ e = t;
                                    return e ? [4, c.default.Instance.DownloadGameFeatureBundles(!1, e)] : [3, 6];
                                case 2:
                                    s.sent(), i = 0, s.label = 3;
                                case 3:
                                    return i < e.length ? (r = c.default.Instance.GetGameFeatureBundlesName(e[i]), [4, c.default.Instance.GetMainPrefab(r)]) : [3, 6];
                                case 4:
                                    (a = s.sent()) && ((u = cc.instantiate(a)).getComponent(l.EventModule).init(null, null), u.parent = this.PopupWindow), s.label = 5;
                                case 5:
                                    return i++, [3, 3];
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, r([_(cc.Node)], e.prototype, "PopupWindow", void 0), r([d], e)
            }(cc.Component);
        o.default = g, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../../LobbyCommon/EventModule/EventModule": "EventModule",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Skin/Skin": "Skin"
    }],
    FishCommonRoot: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b1e067Gq+RGF5omAaBqeS10", "FishCommonRoot");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../GameCommon/CommonRoot/Script/CommonRoot"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.EventIconRoot = null, e
                }
                return i(e, t), r([l(cc.Node)], e.prototype, "EventIconRoot", void 0), r([c], e)
            }(a.CommonRoot);
        o.default = u, cc._RF.pop()
    }, {
        "../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot"
    }],
    FishFakeScoreBoxCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b3a38dORcNMuIg0TeIhjMva", "FishFakeScoreBoxCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../../Component/NumberCountUp"),
            s = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            c = t("../../../FakeScoreBox/Script/GetBonusShow"),
            l = t("../../../Helper/EventSystem"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.mask = null, e.m_nodeEntriesL = null, e.m_nodeWinningL = null, e.m_nodeScoreBoxBGL = null, e.m_nodeCreditL = null, e.m_nodeNoScoreBoxBGL = null, e.m_CountUpEntriesL = null, e.m_CountUpWinningL = null, e.m_CountUpCreditL = null, e.m_nodeEntriesR = null, e.m_nodeWinningR = null, e.m_nodeScoreBoxBGR = null, e.m_nodeCreditR = null, e.m_nodeNoScoreBoxBGR = null, e.m_CountUpEntriesR = null, e.m_CountUpWinningR = null, e.m_CountUpCreditR = null, e.m_nodeCoinStarPos = null, e.m_getBonusShow = null, e.m_nodeTitleTarget = null, e.m_nodeBGTarget = null, e.m_CountUpTarget = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    l.EventSystem.Event(l.PurchaseEvent.OnPurchaseSuccess).Insert(this.OnPurchaseSuccess, this)
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.PurchaseEvent.OnPurchaseSuccess) && l.EventSystem.Event(l.PurchaseEvent.OnPurchaseSuccess).Remove(this.OnPurchaseSuccess, this), this.callUnregisterAllFinishCallback()
                }, e.prototype.setType = function(t, e) {
                    switch (e) {
                        case s.ShowType.ENTRIES:
                            0 == t || 2 == t ? (this.m_nodeTitleTarget = this.m_nodeEntriesL, this.m_nodeBGTarget = this.m_nodeScoreBoxBGL, this.m_CountUpTarget = this.m_CountUpEntriesL) : (this.m_nodeTitleTarget = this.m_nodeEntriesR, this.m_nodeBGTarget = this.m_nodeScoreBoxBGR, this.m_CountUpTarget = this.m_CountUpEntriesR);
                            break;
                        case s.ShowType.WINNING:
                            0 == t || 2 == t ? (this.m_nodeTitleTarget = this.m_nodeWinningL, this.m_nodeBGTarget = this.m_nodeScoreBoxBGL, this.m_CountUpTarget = this.m_CountUpWinningL) : (this.m_nodeTitleTarget = this.m_nodeWinningR, this.m_nodeBGTarget = this.m_nodeScoreBoxBGR, this.m_CountUpTarget = this.m_CountUpWinningR);
                            break;
                        case s.ShowType.CREDIT:
                            0 == t || 2 == t ? (this.m_nodeTitleTarget = this.m_nodeCreditL, this.m_nodeBGTarget = this.m_nodeNoScoreBoxBGL, this.m_CountUpTarget = this.m_CountUpCreditL) : (this.m_nodeTitleTarget = this.m_nodeCreditR, this.m_nodeBGTarget = this.m_nodeNoScoreBoxBGR, this.m_CountUpTarget = this.m_CountUpCreditR)
                    }
                }, e.prototype.hide = function() {
                    this.mask.active = !1, this.m_nodeEntriesR.active = !1, this.m_nodeEntriesL.active = !1, this.m_nodeWinningR.active = !1, this.m_nodeWinningL.active = !1, this.m_nodeCreditR.active = !1, this.m_nodeCreditL.active = !1, this.m_nodeScoreBoxBGR.active = !1, this.m_nodeScoreBoxBGL.active = !1, this.m_nodeNoScoreBoxBGR.active = !1, this.m_nodeNoScoreBoxBGL.active = !1, this.m_CountUpEntriesR.node.active = !1, this.m_CountUpEntriesL.node.active = !1, this.m_CountUpWinningR.node.active = !1, this.m_CountUpWinningL.node.active = !1, this.m_CountUpCreditL.node.active = !1, this.m_CountUpCreditR.node.active = !1
                }, e.prototype.show = function(t, e, o) {
                    this.mask.active = !0, this.hide(), this.setType(t, e), this.m_nodeTitleTarget.active = !0, this.m_nodeBGTarget.active = !0, this.m_CountUpTarget.node.active = !0, console.error("show Fake score, this.m_nodeBGTarget = " + this.m_nodeTitleTarget.name + ", this.m_CountUpTarget.node = " + this.m_CountUpTarget.node), this.m_CountUpTarget.SetNumberNow(o)
                }, e.prototype.countUp = function(t, e, o) {
                    void 0 === o && (o = null), this.m_CountUpTarget.RegisterFinishCallback(o), this.m_CountUpTarget.CountUp(t, e)
                }, e.prototype.countUpShowMoney = function(t, e, o) {
                    var n = this;
                    void 0 === o && (o = null), this.m_getBonusShow.Show(this.m_nodeCoinStarPos.convertToWorldSpaceAR(cc.Vec2.ZERO), this.m_nodeTitleTarget.convertToWorldSpaceAR(cc.Vec2.ZERO), function() {
                        n.m_CountUpTarget.RegisterFinishCallback(o), n.m_CountUpTarget.CountUp(t, e)
                    })
                }, e.prototype.callUnregisterAllFinishCallback = function() {
                    this.m_CountUpTarget && this.m_CountUpTarget.UnregisterAllFinishCallback()
                }, e.prototype.OnPurchaseSuccess = function(t, e) {
                    if (this.m_CountUpTarget) {
                        var o = t;
                        0 == SS.Common.GameEnvironment.IsUseScoreBox && (o = e), this.m_CountUpTarget.SetNumberNow(o)
                    }
                }, r([m(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([m(cc.Node)], e.prototype, "mask", void 0), r([m(cc.Node)], e.prototype, "m_nodeEntriesL", void 0), r([m(cc.Node)], e.prototype, "m_nodeWinningL", void 0), r([m(cc.Node)], e.prototype, "m_nodeScoreBoxBGL", void 0), r([m(cc.Node)], e.prototype, "m_nodeCreditL", void 0), r([m(cc.Node)], e.prototype, "m_nodeNoScoreBoxBGL", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpEntriesL", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpWinningL", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpCreditL", void 0), r([m(cc.Node)], e.prototype, "m_nodeEntriesR", void 0), r([m(cc.Node)], e.prototype, "m_nodeWinningR", void 0), r([m(cc.Node)], e.prototype, "m_nodeScoreBoxBGR", void 0), r([m(cc.Node)], e.prototype, "m_nodeCreditR", void 0), r([m(cc.Node)], e.prototype, "m_nodeNoScoreBoxBGR", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpEntriesR", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpWinningR", void 0), r([m(a.NumberCountUp)], e.prototype, "m_CountUpCreditR", void 0), r([m(cc.Node)], e.prototype, "m_nodeCoinStarPos", void 0), r([m(c.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([p], e)
            }(cc.Component);
        o.default = h, cc._RF.pop()
    }, {
        "../../../Component/NumberCountUp": "NumberCountUp",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../FakeScoreBox/Script/GetBonusShow": "GetBonusShow",
        "../../../Helper/EventSystem": "EventSystem"
    }],
    FishOceanHeartBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2d827EiuV1FqaQV3xuZw6hy", "FishOceanHeartBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartBtnCtrl = o.SaveTempShowData = void 0;
        var a = t("../../../Component/NodeDrag"),
            s = t("../../CommunityBonus/Script/CommBonusData"),
            c = t("./FishOceanHeartShellCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function() {};
        o.SaveTempShowData = m;
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBlueTag = null, e.m_labBlueTag = null, e.m_nodeProgress = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.m_nodeInGameBg = null, e.m_nodeLobbyBg = null, e.m_nodeRankUpGroup = null, e.m_nodeRankUpWord = null, e.m_nodeArrowUp = null, e.m_nodeArrowDown = null, e.m_labRankUp = null, e.m_FishOceanHeartShellCtrl = null, e.m_FishOceanHeartMgr = null, e.autoClosePromptID = null, e.m_colorYellow = new cc.Color(255, 240, 30, 255), e.m_colorGreen = new cc.Color(95, 255, 40, 255), e.m_colorOrange = new cc.Color(255, 110, 30, 255), e.m_colorPurple = new cc.Color(200, 190, 255, 255), e.m_colorBlue = new cc.Color(150, 250, 255, 255), e.m_colorSalmon = new cc.Color(255, 106, 106, 255), e.m_colorRed = new cc.Color(255, 0, 0, 255), e.m_colorLightGreen = new cc.Color(176, 239, 168, 255), e.m_colorSkyBlue = new cc.Color(0, 100, 255, 255), e.m_colorMagenta = new cc.Color(255, 0, 146, 255), e.m_aryTempShowData = [], e.m_isShowing = !1, e.m_iTempDataID = 0, e
            }
            return i(e, t), e.prototype.GetShellCtrlAnimationState = function() {
                return this.m_FishOceanHeartShellCtrl.m_currentAnim ? this.m_FishOceanHeartShellCtrl.m_currentAnim : null
            }, e.prototype.GetDropItemShowTime = function() {
                return this.m_FishOceanHeartShellCtrl.DELAY_TIME + this.m_FishOceanHeartShellCtrl.MOVE_TIME
            }, e.prototype.init = function(t) {
                this.m_FishOceanHeartMgr = t, this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t), this.Clear()
            }, e.prototype.update = function() {
                var t = this;
                if (!this.m_isShowing && this.m_aryTempShowData.length > 0 && this.m_nodeBtn.activeInHierarchy) {
                    this.m_isShowing = !0;
                    var e = this.m_aryTempShowData.shift();
                    this.m_FishOceanHeartShellCtrl.OpenShell(e, function(o) {
                        e.data.Status = s.UserQuestDataStatus.AWARD_CLAIMED, 1 == t.m_sprProgressBar.fillRange && (t.m_sprProgressBar.fillRange = 0), null != e.callback && e.callback(o, t.m_aryTempShowData.length), t.m_isShowing = !1
                    }, null, this.m_FishOceanHeartMgr.GetOpenShellSpeed.bind(this.m_FishOceanHeartMgr))
                }
            }, e.prototype.GetTempShowAryCount = function() {
                return this.m_aryTempShowData.length
            }, e.prototype.CheckIsShowing = function() {
                return this.m_aryTempShowData.length > 0 || this.m_isShowing
            }, e.prototype.setRedTag = function(t) {
                void 0 === t && (t = 0);
                var e = 0 != t;
                this.m_nodeRedTag.active = e, this.m_labRedTag.node.active = e, e && (this.m_labRedTag.string = "" + t)
            }, e.prototype.setNumDot = function(t, e) {
                void 0 === t && (t = 0), void 0 === e && (e = 0);
                var o = 0 != t && e + t < 9;
                this.m_nodeRedTag.active = o, this.m_labRedTag.node.active = o;
                var n = e + t >= 9;
                this.m_nodeBlueTag.active = n, this.m_labBlueTag.node.active = n, this.m_labRedTag.string = t.toString();
                var i = e + t;
                this.m_labBlueTag.string = i.toString(), this.m_nodeBlueTag.width = i < 10 ? 72 : i < 100 ? 85 : i < 1e3 ? 100 : i < 1e4 ? 130 : 150
            }, e.prototype.setPrompt = function(t) {
                var e = this;
                if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                    var o = "" != t;
                    this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                        e.setPrompt(), e.showFingerPtr(!1)
                    }, 6e4))
                }
            }, e.prototype.showFingerPtr = function(t) {
                null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
            }, e.prototype.show = function(t) {
                null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
            }, e.prototype.setInteract = function(t) {
                null != this.m_btn && (this.m_btn.interactable = t)
            }, e.prototype.setLocked = function(t) {
                this.m_nodeDragFloatBtn.setLocked(t)
            }, e.prototype.SetIconShellInfo = function(t, e) {
                switch (t) {
                    case "FishHunterKingKong":
                        this.m_sprProgressBar.node.color = this.m_colorYellow;
                        break;
                    case "FishHunterBuffalo":
                    case "FishHunterLuckyShamrock":
                        this.m_sprProgressBar.node.color = this.m_colorOrange;
                        break;
                    case "MonstersFrenzy":
                        this.m_sprProgressBar.node.color = this.m_colorGreen;
                        break;
                    case "FishHunterGhost":
                        this.m_sprProgressBar.node.color = this.m_colorPurple;
                        break;
                    case "FishHunterAladdin":
                        this.m_sprProgressBar.node.color = this.m_colorBlue;
                        break;
                    case "FishFortuneKings":
                        this.m_sprProgressBar.node.color = this.m_colorSalmon;
                        break;
                    case "FishHunterThunderDragon":
                        this.m_sprProgressBar.node.color = this.m_colorLightGreen;
                        break;
                    case "FishBattleShip":
                        this.m_sprProgressBar.node.color = this.m_colorSkyBlue;
                        break;
                    case "FishKingOfCrab":
                        this.m_sprProgressBar.node.color = this.m_colorMagenta;
                        break;
                    case "FishCircus":
                        this.m_sprProgressBar.node.color = this.m_colorRed
                }
                this.m_FishOceanHeartShellCtrl.SetWeaponPos(e)
            }, e.prototype.setProgress = function(t, e, o) {
                if (this.m_sprProgressBar.fillRange = t, t >= 1) {
                    var n = new m;
                    n.data = new s.CommBonusData, n.data = e, n.award = new s.Award;
                    var i = e.AwardAry.shift();
                    Object.assign(n.award, i), i.AwardItem && Object.assign(n.award.AwardItem, i.AwardItem), n.callback = o, n.dataID = this.m_iTempDataID, this.m_aryTempShowData.push(n), this.m_iTempDataID++
                }
            }, e.prototype.ShowRankingChange = function(t, e) {
                var o = this;
                this.m_nodeArrowUp.active = e, this.m_nodeArrowDown.active = !e, this.m_labRankUp.string = t.toString(), this.m_nodeRankUpGroup.runAction(cc.fadeIn(.25)), this.m_nodeRankUpWord.runAction(cc.fadeIn(.25));
                var n = cc.fadeIn(.25),
                    i = cc.delayTime(3),
                    r = cc.callFunc(function() {
                        o.m_nodeRankUpGroup.runAction(cc.fadeOut(.25)), o.m_nodeRankUpWord.runAction(cc.fadeOut(.25)), o.m_labRankUp.node.runAction(cc.fadeOut(.25))
                    }),
                    a = cc.sequence(n, i, r);
                this.m_labRankUp.node.runAction(a)
            }, e.prototype.Clear = function() {
                this.setNumDot(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_FishOceanHeartMgr.m_LobbyMgr ? (this.m_nodeLobbyBg.active = !0, this.m_nodeInGameBg.active = !1, this.m_nodeProgress.active = !1, this.m_nodeRankUpGroup.active = !1, this.m_nodeRankUpWord.active = !1, this.m_labRankUp.node.active = !1) : (this.m_nodeLobbyBg.active = !1, this.m_nodeInGameBg.active = !0, this.m_nodeProgress.active = !0, this.m_nodeRankUpGroup.opacity = 0, this.m_nodeRankUpWord.opacity = 0, this.m_labRankUp.node.opacity = 0, this.m_sprProgressBar.fillRange = 0, this.m_nodeDragFloatBtn.setLocked(!0)), this.m_iTempDataID = 0, this.m_aryTempShowData = [], this.m_FishOceanHeartShellCtrl.Clear()
            }, e.prototype.move = function(t, e) {
                this.m_nodeDragFloatBtn.move(t, e)
            }, e.prototype.lobbyResize = function() {
                this.moveNode(this.m_nodeRedTag, 0, -37), this.moveNode(this.m_labRedTag.node, 0, -37), this.moveNode(this.m_nodeBlueTag, 0, -37), this.moveNode(this.m_labBlueTag.node, 0, -37);
                var t = this.root.getChildByName("RankIcon");
                t && this.moveNode(t, 0, -20), this.moveNode(this.m_nodeTimer, 0, 20);
                var e = cc.find("AllLabel/LabIconTimer", this.root);
                e && this.moveNode(e, 0, 20);
                var o = cc.find("PrizeBg", this.root);
                o && this.moveNode(o, 0, 20);
                var n = cc.find("AllLabel/LabIconPrize", this.root);
                n && this.moveNode(n, 0, 20)
            }, e.prototype.moveNode = function(t, e, o) {
                t.setPosition(t.position.x + e, t.position.y + o)
            }, r([p(cc.Node)], e.prototype, "root", void 0), r([p(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([p(cc.Label)], e.prototype, "m_labRedTag", void 0), r([p(cc.Node)], e.prototype, "m_nodeBlueTag", void 0), r([p(cc.Label)], e.prototype, "m_labBlueTag", void 0), r([p(cc.Node)], e.prototype, "m_nodeProgress", void 0), r([p(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([p(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([p(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([p(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([p(cc.Label)], e.prototype, "m_labPrompt", void 0), r([p(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([p(a.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([p(cc.Node)], e.prototype, "m_nodeInGameBg", void 0), r([p(cc.Node)], e.prototype, "m_nodeLobbyBg", void 0), r([p(cc.Node)], e.prototype, "m_nodeRankUpGroup", void 0), r([p(cc.Node)], e.prototype, "m_nodeRankUpWord", void 0), r([p(cc.Node)], e.prototype, "m_nodeArrowUp", void 0), r([p(cc.Node)], e.prototype, "m_nodeArrowDown", void 0), r([p(cc.Label)], e.prototype, "m_labRankUp", void 0), r([p(c.default)], e.prototype, "m_FishOceanHeartShellCtrl", void 0), r([u], e)
        }(cc.Component);
        o.FishOceanHeartBtnCtrl = h, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "./FishOceanHeartShellCtrl": "FishOceanHeartShellCtrl"
    }],
    FishOceanHeartData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bfd30lhaYxLOo3IdTjR9OLz", "FishOceanHeartData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOHQustObjectiveType = o.FishOHUserQuestDataStatus = o.FishOHRankingPlayerData = o.FishOHRankAwardData = o.FishOHBonusData = o.FishOHAward = o.FishOceanHeartData = void 0;
        o.FishOceanHeartData = function() {
            this.CustomInfoMsg = "", this.Status = -1, this.bonusData = null, this.m_arrRankAwardData = [], this.RankSize = 0, this.CanShow = !1, this.QuestType = a.NONE, this.needRebuff = !1, this.newProgress = 0, this.m_fProgressRate = 0
        };
        o.FishOHAward = function() {};
        o.FishOHBonusData = function() {};
        o.FishOHRankAwardData = function() {};
        var a;
        o.FishOHRankingPlayerData = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.FishOHUserQuestDataStatus || (o.FishOHUserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(a = o.FishOHQustObjectiveType || (o.FishOHQustObjectiveType = {}));
        var s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.text = "hello", e
                }
                return i(e, t), e.prototype.start = function() {}, r([l(cc.Label)], e.prototype, "label", void 0), r([l], e.prototype, "text", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishOceanHeartDropItem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8ad71sLMpJA9r7CeYW0K6WJ", "FishOceanHeartDropItem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FOH_AWARD = void 0;
        var a, s = cc._decorator,
            c = s.ccclass,
            l = s.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.COIN = 0] = "COIN", t[t.EVENT_TOKEN = 1] = "EVENT_TOKEN", t[t.ITEM_FREEZE = 2] = "ITEM_FREEZE", t[t.ITEM_SUMMON = 3] = "ITEM_SUMMON"
        })(a = o.FOH_AWARD || (o.FOH_AWARD = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.itemAnim = null, e.bubbleNode = null, e.itemIcon = null, e.content = null, e.itemFrams = [], e.contentText = null, e
            }
            return i(e, t), e.prototype.ShowIcon = function(t) {
                this.bubbleNode.active = t, this.itemIcon.node.active = t
            }, e.prototype.Init = function(t, e, o, n, i, r) {
                var s = this,
                    c = "";
                switch (t) {
                    case a.COIN:
                        c = e.toString();
                        break;
                    case a.EVENT_TOKEN:
                        c = "x " + e.toString();
                        break;
                    case a.ITEM_FREEZE:
                        c = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg.M104 + " x" + e + "<outline>";
                        break;
                    case a.ITEM_SUMMON:
                        c = "<outline color=#000000width=3>" + SS.Common.GameEnvironment.GameMsg.M105 + " x" + e + "<outline>"
                }
                this.itemIcon.spriteFrame = this.itemFrams[t], this.contentText.string = c, this.content.width = this.contentText.node.width + 56, this.node.runAction(cc.sequence(cc.callFunc(function() {
                    s.itemAnim.play()
                }), cc.delayTime(i), cc.moveTo(r, o), cc.callFunc(function() {
                    s.node.active = !1, n(s)
                })))
            }, r([l(cc.Animation)], e.prototype, "itemAnim", void 0), r([l(cc.Node)], e.prototype, "bubbleNode", void 0), r([l(cc.Sprite)], e.prototype, "itemIcon", void 0), r([l(cc.Node)], e.prototype, "content", void 0), r([l([cc.SpriteFrame])], e.prototype, "itemFrams", void 0), r([l([cc.RichText])], e.prototype, "contentText", void 0), r([c], e)
        }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishOceanHeartInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8617b6L8JFFy7kOQczH9A7R", "FishOceanHeartInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartInfoCtrl = void 0;
        var a = t("../../CommunityBonus/Script/CommBonusMsgCtrl"),
            s = t("./FishOceanHeartShellCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strThemeID = "", e.isFinishClaim = !1, e.m_CommBonusMsgCtrl = null, e.m_FishOceanHeartShellCtrl = null, e.m_iRedDotNum = 0, e.errorCode = "", e.m_colorYellow = new cc.Color(255, 240, 30, 255), e.m_colorGreen = new cc.Color(95, 255, 40, 255), e.m_colorOrange = new cc.Color(255, 110, 30, 255), e.m_colorPurple = new cc.Color(200, 190, 255, 255), e.m_colorBlue = new cc.Color(150, 250, 255, 255), e.m_colorSalmon = new cc.Color(255, 106, 106, 255), e.m_colorRed = new cc.Color(255, 0, 0, 255), e.m_colorLightGreen = new cc.Color(176, 239, 168, 255), e.m_colorSkyBlue = new cc.Color(0, 100, 255, 255), e.m_colorMagenta = new cc.Color(255, 0, 146, 255), e.m_aryV2PearlPos = null, e.m_v2UIPearlPos = null, e.m_aryTempShowData = [], e.m_isShowing = !1, e
                }
                return i(e, t), e.prototype.SetPearlPosAry = function(t) {
                    this.m_aryV2PearlPos = t
                }, e.prototype.SetUIPearlPos = function(t) {
                    this.m_v2UIPearlPos = t
                }, e.prototype.setGame = function(t, e, o, n, i, r, a) {
                    switch (this.m_nodeMissionMgr = t, this.m_strThemeID = e, this.m_sGameName = o, this.m_sThemeTitle = n, this.m_FishOceanHeartShellCtrl.SetWeaponPos(i), this.m_aryV2PearlPos = a, this.m_v2UIPearlPos = r, o) {
                        case "FishHunterKingKong":
                            this.m_sprProgressBar.node.color = this.m_colorYellow;
                            break;
                        case "FishHunterBuffalo":
                        case "FishHunterLuckyShamrock":
                            this.m_sprProgressBar.node.color = this.m_colorOrange;
                            break;
                        case "MonstersFrenzy":
                            this.m_sprProgressBar.node.color = this.m_colorGreen;
                            break;
                        case "FishHunterGhost":
                            this.m_sprProgressBar.node.color = this.m_colorPurple;
                            break;
                        case "FishHunterAladdin":
                            this.m_sprProgressBar.node.color = this.m_colorBlue;
                            break;
                        case "FishFortuneKings":
                            this.m_sprProgressBar.node.color = this.m_colorSalmon;
                            break;
                        case "FishHunterThunderDragon":
                            this.m_sprProgressBar.node.color = this.m_colorLightGreen;
                            break;
                        case "FishBattleShip":
                            this.m_sprProgressBar.node.color = this.m_colorSkyBlue;
                            break;
                        case "FishKingOfCrab":
                            this.m_sprProgressBar.node.color = this.m_colorMagenta;
                            break;
                        case "FishCircus":
                            this.m_sprProgressBar.node.color = this.m_colorRed
                    }
                }, e.prototype.SetMissionToProcessingStatus = function(t, e) {
                    void 0 === t && (t = ""), void 0 === e && (e = "FishOceanHeartMgr"), this.isFinishClaim = !1, this.m_sprProgressBar.node.active = !0, this.m_labProgress.node.active = !1, this.m_CommBonusMsgCtrl.setMsg(t), this.m_labGameName.string = this.m_sThemeTitle, this.m_btnPlay.clickEvents[0] = new cc.Component.EventHandler, this.m_btnPlay.clickEvents[0].target = this.m_nodeMissionMgr, this.m_btnPlay.clickEvents[0].component = e, this.m_btnPlay.clickEvents[0].handler = "OpenSelectOptionPage", this.m_btnPlay.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.setInteract = function(t) {
                    this.m_btnPlay.interactable = t
                }, e.prototype.SetProcessBar = function(t, e, o, n, i, r) {
                    void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === o && (o = 0), void 0 === n && (n = null), void 0 === i && (i = !1), void 0 === r && (r = null), this.m_sprProgressBar.fillRange = o, this.m_labProgress.string = (100 * o).toFixed(2) + "%"
                }, e.prototype.CallShellOpenAndShowPearl = function(t) {
                    this.m_FishOceanHeartShellCtrl.OpenShellAndShowPearl(t)
                }, e.prototype.setRedDot = function(t) {
                    this.m_iRedDotNum = t;
                    var e = t > 0;
                    this.m_nodeRedDot.active = e, this.m_labRedDot.enabled = e, this.m_labRedDot.string = t.toString(), this.m_nodeRedDot.width = t < 10 ? 32 : t < 100 ? 40 : t < 1e3 ? 50 : 60
                }, e.prototype.decrRedDot = function() {
                    this.m_iRedDotNum--, this.setRedDot(this.m_iRedDotNum)
                }, e.prototype.Clear = function() {
                    this.setRedDot(0), this.SetProcessBar(0), this.m_nodeMissionMgr = null, this.m_strThemeID = "", this.m_sGameName = "", this.m_sThemeTitle = "", this.m_btnPlay.clickEvents[0] = null
                }, r([u(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([u(cc.Sprite)], e.prototype, "m_sprGameIcon", void 0), r([u(cc.Label)], e.prototype, "m_labGameName", void 0), r([u(cc.Sprite)], e.prototype, "m_sprProgressBar", void 0), r([u(cc.Label)], e.prototype, "m_labProgress", void 0), r([u(cc.Node)], e.prototype, "m_nodeToken", void 0), r([u(cc.Node)], e.prototype, "m_nodeRedDot", void 0), r([u(cc.Label)], e.prototype, "m_labRedDot", void 0), r([u(cc.Button)], e.prototype, "m_btnPlay", void 0), r([u(a.CommBonusMsgCtrl)], e.prototype, "m_CommBonusMsgCtrl", void 0), r([u(s.default)], e.prototype, "m_FishOceanHeartShellCtrl", void 0), r([l], e)
            }(cc.Component);
        o.FishOceanHeartInfoCtrl = p, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/CommBonusMsgCtrl": "CommBonusMsgCtrl",
        "./FishOceanHeartShellCtrl": "FishOceanHeartShellCtrl"
    }],
    FishOceanHeartListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c23e8XToXhPrbiqUa46NwbC", "FishOceanHeartListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishOceanHeartListCtrl = void 0;
        var a = t("./FishOceanHeartMgr"),
            s = t("./FishOceanHeartInfoCtrl"),
            c = t("../../CommunityBonus/Script/CommBonusData"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_scroll = null, e.m_prefabMisionInfo = null, e.m_sprAtlasGameIcon = null, e.m_aryInfoCtrlList = [], e.m_nodePoolMissions = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_fucSprDLEndSetIdle = null, e.m_strCollectQuestID = "", e.m_v2WeaponPos = null, e.m_aryV2PearlPos = null, e.m_v2UIPearlPos = null, e
                }
                return i(e, t), e.prototype.SetWeaponPos = function(t) {
                    this.m_v2WeaponPos = t
                }, e.prototype.SetPearlPosAry = function(t) {
                    this.m_aryV2PearlPos = t
                }, e.prototype.SetUIPearlPos = function(t) {
                    this.m_v2UIPearlPos = t
                }, e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) this.m_dictDLPic[t[e]] = null;
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.setScrollTop = function() {}, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++) this.m_aryInfoCtrlList[e].setInteract(t)
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryInfoCtrlList.length; e++)
                        if (this.m_aryInfoCtrlList[e].m_strThemeID == t) return this.m_aryInfoCtrlList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_aryInfoCtrlList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryInfoCtrlList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                a = this.m_nodePoolMissions.get();
                            null == a && (a = cc.instantiate(this.m_prefabMisionInfo)), a.parent = this.m_nodeContent;
                            var l = a.getComponent(s.FishOceanHeartInfoCtrl);
                            this.m_aryInfoCtrlList.push(l);
                            var u = 0,
                                p = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = c.QustObjectiveType.SPIN_TIME, u = r.SpinTimesGate, p = r.SpinTimes, r.CustomInfoMsg = "Complete " + u + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = c.QustObjectiveType.SPIN_AMOUNT, u = r.SpinAmountGate, p = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + u;
                            else if (r.WinAmountGate > 0) r.QuestType = c.QustObjectiveType.WIN_AMOUNT, u = r.WinAmountGate, p = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + u;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = c.QustObjectiveType.CUSTOM, u = r.CustomGate, p = r.CustomAmount
                            }
                            var m = this.getGameNameByThemeID(r.ThemeID),
                                h = this.getThemeTitleByThemeID(r.ThemeID);
                            o.push(m), this.setSprFrameWithAtlas(m, l.m_sprGameIcon), l.setGame(this.m_Mgr.node, r.ThemeID, m, h, this.m_v2WeaponPos, this.m_v2UIPearlPos, this.m_aryV2PearlPos), l.SetMissionToProcessingStatus(r.CustomInfoMsg, "FishOceanHeartMgr"), p >= u && (p = u);
                            var d = p / u;
                            d = d > 1 ? 1 : d < 0 ? 0 : d, r.Status != c.UserQuestDataStatus.AWARD_CLAIMED ? l.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), d, r, !0, null) : (1 == d && (d = 0), l.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), d, r, !1, null)), l.setRedDot(r.newProgress)
                        }
                        o = null
                    }
                }, e.prototype.SetProgress = function(t, e) {
                    var o = this.getMissionInfoCtrlByThemeID(t);
                    null != o && o.SetProcessBar(this.m_Mgr.GetTotalProgressCur(), this.m_Mgr.GetTotalProgressMax(), e)
                }, e.prototype.GetInfoTokenNode = function(t) {
                    var e = this.getMissionInfoCtrlByThemeID(t);
                    return null != e ? e.m_nodeToken : null
                }, e.prototype.OpenShellAndGetPearl = function(t, e) {
                    var o = this.getMissionInfoCtrlByThemeID(t);
                    null != o && o.CallShellOpenAndShowPearl(e)
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var a = e[r].ThemeID,
                                s = n.indexOf(a),
                                c = this.getGameNameByThemeID(a),
                                u = i.indexOf(c),
                                p = i.indexOf("BIGICON_" + c); - 1 == s && (u > -1 || p > -1) && o.push(e[r])
                        }
                        return o
                    } catch (l) {
                        return []
                    }
                }, e.prototype.getThemeTitleByThemeID = function(t) {
                    var e = null;
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].ThemeTitle
                    } catch (l) {}
                    return e || ""
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (l) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (l) {}
                    return 0
                }, e.prototype.setSprFrameWithAtlas = function(t, e) {
                    e.spriteFrame = this.m_sprAtlasGameIcon.getSpriteFrame(t), e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = a.MisMgrStatus.TOKEN_ENLARGE)
                }, e.prototype.Clear = function() {
                    var t = this;
                    this.m_aryInfoCtrlList.forEach(function(e) {
                        e.Clear(), t.m_nodePoolMissions.put(e.node)
                    }), this.m_aryInfoCtrlList = []
                }, r([p(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([p(cc.Node)], e.prototype, "m_nodeContent", void 0), r([p(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([p(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([p(cc.SpriteAtlas)], e.prototype, "m_sprAtlasGameIcon", void 0), r([u()], e)
            }(cc.Component);
        o.FishOceanHeartListCtrl = m, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "./FishOceanHeartInfoCtrl": "FishOceanHeartInfoCtrl",
        "./FishOceanHeartMgr": "FishOceanHeartMgr"
    }],
    FishOceanHeartMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c9e20KNaUJCpLKqZP2s4jq/", "FishOceanHeartMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MisMgrStatus = void 0;
        var c, l = t("../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            u = t("../../../Component/AudioMgr"),
            p = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Connect/Script/ConnectPanelMgr"),
            h = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            d = t("../../../Net/LobbyClient"),
            _ = t("../../../PopupMessage/Script/PopupMsgMgr"),
            g = t("../../CommunityBonus/Script/CommBonusCoinCtrl"),
            f = t("../../CommunityBonus/Script/CommBonusData"),
            y = t("../../CommunityBonus/Script/CommBonusMoneyMgr"),
            S = t("../../CommunityBonus/Script/Rank/RankAwardPanelCtrl"),
            C = t("../../CommunityBonus/Script/Rank/RankBonusTotalProgress"),
            v = t("../../CommunityBonus/Script/Rank/RankingBonusListCtrl"),
            b = t("../../EventBannerData"),
            P = t("../../EventModule"),
            w = t("../../MissionMgr/Script/MissionData"),
            I = t("./FishOceanHeartBtnCtrl"),
            M = t("./FishOceanHeartListCtrl"),
            E = t("./FishOceanHeartTotalProgress"),
            D = t("./FishOceanHeartPlayerRankingMgr"),
            L = t("./FishFakeScoreBoxCtrl"),
            T = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            k = t("../../EventTipsMask"),
            A = t("../../../Helper/EventSystem");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.PARAE_CMD = 3] = "PARAE_CMD", t[t.COLLECT = 4] = "COLLECT", t[t.COLLECT_RCV = 5] = "COLLECT_RCV", t[t.COLLECT_SHOW = 6] = "COLLECT_SHOW", t[t.TOKEN_ENLARGE = 7] = "TOKEN_ENLARGE", t[t.TOKEN_FLY_TOP = 8] = "TOKEN_FLY_TOP", t[t.GET_BUBBLE = 9] = "GET_BUBBLE", t[t.REACH_GATE_POPUP = 10] = "REACH_GATE_POPUP", t[t.RANK_TOKEN_ENLARGE = 11] = "RANK_TOKEN_ENLARGE", t[t.RANK_TOKEN_FLY_TOP = 12] = "RANK_TOKEN_FLY_TOP", t[t.DISABLE = 13] = "DISABLE", t[t.TIME_UP = 14] = "TIME_UP", t[t.FADE_TO_RANK_PAGE = 15] = "FADE_TO_RANK_PAGE"
        })(c = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var O = cc._decorator,
            R = O.ccclass,
            N = O.property,
            B = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.EVENT_OPEN_UI = null, e.EVENT_GET_MISSION_REWARD = null, e.EVENT_REFLASH_UI_BALANCE = null, e.EVENT_SEND_COLLECT_CMD = null, e.EVENT_GAME_CLOSE = null, e.EVENT_COLLECT_CLOSE = null, e.EVENT_ERROR = null, e.EVENT_GET_COST_PER_SECOND = null, e.m_Root = null, e.m_nodeTipsPage = null, e.m_nodeMainPageBg = null, e.m_nodeRankPageBg = null, e.m_nodeMainPage = null, e.m_nodeRankPage = null, e.m_MissionBtnCtrl = null, e.m_FinishMission = null, e.m_nodeMissionListCtrl = null, e.m_MissionListCtrl = null, e.m_PlayerRankingMgr = null, e.m_CommBonusTotalProgress = null, e.m_RankBonusTotalProgress = null, e.m_CommBonusMoneyMgr = null, e.m_CommBonusCoinCtrl = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.m_arrAnimateLoginGetAward = [], e.m_FakeScoreBoxCtrl = null, e.m_FishFakeScoreBoxCtrl = null, e.m_nodeBlocker = null, e.m_iBlockerCtr = 0, e.m_RankingBonusListCtrl = null, e.SoundClip = [], e.m_arrMissionData = [], e.m_arrAwardAvaiMapData = [], e.m_iAwardNum = 0, e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.errorCode = "", e.reason = "", e.errorMsg = "", e.m_bBtnInterActable = !0, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "HEART OF THE OCEAN\nfish game event is online. ", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.m_sCurGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = c.NONE, e.m_lastStatus = c.NONE, e.m_jsonPlayerInfo = null, e.m_strChangeToGameName = "", e.m_iTotalProgressMax = 0, e.m_iTotalProgressCur = 0, e.m_iTotalProgressAddAll = 0, e.m_bShowFinish = !1, e.m_iFinalBalance = 0, e.m_bNoobGuideRanking = !0, e.m_bInRankingPage = !1, e.m_bSlotLock = !0, e.m_bTokenLock = !0, e.m_bIsInLobby = !1, e.m_bIsOpenRankBoard = !0, e.m_bIsShowMermaidAct = !0, e.m_strOceanHeartQuestID = "", e.m_iSeat = 0, e.m_bIsTimeUP = !1, e.m_iSoundNinePearlPopupID = -1, e.m_bIsCollectingAward = !1, e.m_iTempTotalPearl = 0, e.m_bSlotEventRun = !1, e.m_bHaveShow = !1, e.m_RankingRefreshTimestamp = 0, e.m_RankingListHash = 0, e.m_iMySaveRank = -999, e.m_isRecvPlayerProfileList = !1, e.m_PlayerProfileList = null, e
                }
                return i(e, t), e.prototype.GetTotalProgressMax = function() {
                    return this.m_iTotalProgressMax
                }, e.prototype.GetTotalProgressCur = function() {
                    return this.m_iTotalProgressCur
                }, e.prototype.GetTimestamp = function() {
                    return Math.floor(Date.now() / 1e3)
                }, e.prototype.onLoad = function() {
                    this.m_strEventID = "OceanHeart", this.m_Root.active = !1, this.m_nodeTipsPage.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.m_nodeBlocker.active = !1, this.m_nodeRankPage.active = !1, this.m_RankingRefreshTimestamp = this.GetTimestamp(), this.m_RankingListHash = 0
                }, e.prototype.start = function() {
                    if (this.m_MissionListCtrl.init(this), this.m_MissionBtnCtrl.init(this), this.m_MissionBtnCtrl.show(!0), this.m_LobbyMgr) {
                        this.m_bIsInLobby = !0, this.SetUserBalance = this.lobbySetUserBalance.bind(this);
                        var t = new T.PriorityCustomEvent(1, this.loginGetAward.bind(this));
                        this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(t);
                        var e = new b.EventBannerData("OceanHeart", 302, this.onClickBnnerCB.bind(this));
                        e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e), this.SetEventActive(), this.popUpClosed()
                    } else "" == this.m_sCurGameName && (this.m_sCurGameName = SS.Common.GameEnvironment.CurrentGameNow);
                    var o = this.checkThemeIsOpen(this.getThemeIDByGameName(this.m_sCurGameName));
                    if (!this.m_bIsInLobby && !o) return console.error("\u904a\u6232\u4efb\u52d9\u4e0d\u5b58\u5728\uff0c\u65b7\u7dda, this.m_sCurGameName = " + this.m_sCurGameName), this.EVENT_GAME_CLOSE && this.EVENT_GAME_CLOSE(), this.node.active = !1, void this.disableBannerPopUp();
                    this.parseMisInfo(d.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.m_curMapData && (this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, 3), this.getAllNewProgress(!0)), 0 == this.m_arrAwardAvaiMapData.length || this.m_bIsInLobby || this.loginGetAward(), this.recMisInfoSetProgressCtr(), this.InitTimer(), this.m_nodeMainPageBg.color = cc.Color.WHITE, this.m_nodeRankPageBg.color = cc.Color.GRAY, this.m_bIsInLobby && (this.m_MissionBtnCtrl.lobbyResize(), this.m_bSlotEventRun && this.m_MissionBtnCtrl.move(200, 0))), this.m_CommBonusTotalProgress.setTokenShowStartCB(this.decrCurGameTokenRedDot.bind(this)), this.m_CommBonusTotalProgress.setAllTokenShowEndCB(this.allTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.setEachTokenShowEndCB(this.eachTokenShowEnd.bind(this)), this.m_CommBonusTotalProgress.m_fucTokenEnlargeStartCB = this.decrOtherToken.bind(this), this.m_CommBonusTotalProgress.m_fucAllTokenEnlargeEndCB = this.setStatusFly.bind(this);
                    for (var n = [], i = 0; i < this.SoundClip.length; i++) n.push(this.SoundClip[i].name);
                    u.AudioMgr.Instance.setAudioClip(this.SoundClip, n), A.EventSystem.Event(A.CommunityBonus.ClickGetAwardCollect).Insert(this.onClickGetAwardCollect, this), A.EventSystem.Event(A.SwitchGame).Insert(this.onProfileSwitchGame, this), this.initDone()
                }, e.prototype.update = function() {
                    var t = this,
                        e = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case c.IDLE:
                            if (e) {
                                if (this.m_bIsTimeUP) return void(this.m_MissionBtnCtrl.GetTempShowAryCount() > 0 && this.m_Root.activeInHierarchy ? this.setActivityRoot(!1) : 0 == this.m_MissionBtnCtrl.GetTempShowAryCount() && (this.m_status = c.TIME_UP));
                                m.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.node.active = !0, this.SetAllBtnInteract(!0), this.showRankingPage(!0)
                            }
                            break;
                        case c.FADE_TO_RANK_PAGE:
                            this.m_bHaveShow ? (this.m_bHaveShow = !1, this.fadeToRankingPage()) : this.m_status = c.IDLE;
                            break;
                        case c.INIT:
                            break;
                        case c.UPDATE_CMD:
                            e && this.SendMissionBonusInfoCmd();
                            break;
                        case c.PARAE_CMD:
                            break;
                        case c.TOKEN_ENLARGE:
                            e && (this.m_nodeBlocker.active = !0, m.ConnectPanelMgr.Instance.DisableConnectPanel(0), 0 == this.m_iTotalProgressCur ? this.m_status = c.IDLE : this.m_CommBonusTotalProgress.hasGotAllToken() ? this.m_status = c.RANK_TOKEN_FLY_TOP : this.m_iTotalProgressAddAll - this.getCurGameNewProgress() > 0 ? (this.showRankingPage(!1), this.m_CommBonusTotalProgress.enLargeOneByOne(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll, this.m_iTotalProgressAddAll - this.getCurGameNewProgress()), this.m_bHaveShow = !0) : this.m_status = c.TOKEN_FLY_TOP);
                            break;
                        case c.TOKEN_FLY_TOP:
                            if (e) {
                                if (this.m_CommBonusTotalProgress.hasGotAllToken() || 0 == this.getCurGameNewProgress()) this.m_status = c.REACH_GATE_POPUP;
                                else {
                                    this.showRankingPage(!1), this.SetAllBtnInteract(!1), this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur - this.getCurGameNewProgress());
                                    var o = this.getThemeIDByGameName(this.m_sCurGameName);
                                    "" != o ? this.m_MissionListCtrl.OpenShellAndGetPearl(o, function() {
                                        u.AudioMgr.Instance.Play("Pearl", !1, 1);
                                        var e = t.m_MissionListCtrl.GetInfoTokenNode(o);
                                        t.m_CommBonusTotalProgress.showOneByOne(t.m_iTotalProgressCur - t.getCurGameNewProgress(), t.getCurGameNewProgress(), e), t.m_bHaveShow = !0
                                    }) : console.warn("themeID = null")
                                }
                                break
                            }
                        case c.REACH_GATE_POPUP:
                            e && (this.m_CommBonusTotalProgress.hasGotAllToken() && this.m_iTotalProgressMax > this.m_iTotalProgressCur - this.m_iTotalProgressAddAll ? this.m_CommBonusTotalProgress.ShowNecklackComplete(function() {
                                t.ToggleFinishMissionPage(!0)
                            }) : (this.clearAllNewProgress(), this.m_status = c.FADE_TO_RANK_PAGE));
                            break;
                        case c.RANK_TOKEN_FLY_TOP:
                            if (e) {
                                var n = Math.max(this.m_iTotalProgressMax, this.m_iTotalProgressCur - this.m_iTotalProgressAddAll),
                                    i = Math.min(this.m_iTotalProgressCur - this.m_iTotalProgressMax, this.m_iTotalProgressAddAll);
                                if (i > 0) {
                                    this.showRankingPage(!1), this.m_nodeBlocker.active = !0, this.m_RankBonusTotalProgress.setAllTokenShowEndCB(this.setRankRrogressAndIdle.bind(this, i)), this.m_RankBonusTotalProgress.setProgressNoX(n);
                                    for (var r = !1, a = function(e) {
                                            s.m_MissionListCtrl.m_aryInfoCtrlList[e].m_nodeRedDot.active && s.m_MissionListCtrl.m_aryInfoCtrlList[e].CallShellOpenAndShowPearl(function() {
                                                r || (r = !0, u.AudioMgr.Instance.Play("Pearl", !1, 1));
                                                var o = t.getThemeIDByGameName(t.m_sCurGameName),
                                                    n = t.m_MissionListCtrl.GetInfoTokenNode(o);
                                                t.m_RankBonusTotalProgress.showFlyToken(n), t.m_MissionListCtrl.m_aryInfoCtrlList[e].setRedDot(0)
                                            })
                                        }, s = this, l = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; l >= 0; l--) a(l);
                                    this.m_bHaveShow = !0
                                } else this.m_status = c.IDLE;
                                this.clearAllNewProgress()
                            }
                            break;
                        case c.DISABLE:
                            e && (this.m_bIsCollectingAward || m.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.disableBannerPopUp(), this.m_MissionBtnCtrl.show(!1), this.node.active = !1);
                            break;
                        case c.TIME_UP:
                            e && (this.m_bIsTimeUP = !1, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), this.clearAllNewProgress(), this.m_MissionListCtrl.Clear(), this.m_MissionBtnCtrl.Clear(), this.m_PlayerRankingMgr.Clear(), this.m_RankBonusTotalProgress.setProgressNoX(0), this.m_CommBonusMoneyMgr.Clear(), this.m_CommBonusTotalProgress.Init(), this.m_RankingBonusListCtrl.Clear(), this.m_curMapData = null, this.m_arrMissionData = [], this.m_curAwardAvaiMapData = null, this.m_arrAwardAvaiMapData = [], this.m_iTotalProgressAddAll = 0, this.m_iTotalProgressCur = 0, this.m_iAwardNum = 0, this.m_iBeginTime = -1, this.m_iEndTime = -1, this.m_iNowTime = -1, this.m_iTempTotalPearl = 0, this.m_bNoobGuideRanking = !0, this.m_bInRankingPage = !1, this.m_bSlotLock = !0, this.m_bTokenLock = !0, this.m_bIsShowMermaidAct = !0, this.m_bIsCollectingAward = !1, this.m_status = c.UPDATE_CMD)
                    }
                }, e.prototype.Show = function() {
                    this.m_status != c.DISABLE && (this.node.active = !0)
                }, e.prototype.setBlocker = function(t) {
                    this.m_iBlockerCtr += t ? 1 : -1, this.m_nodeBlocker.active = 0 == this.m_iBlockerCtr
                }, e.prototype.ShowMainPanel = function() {
                    this.onClickBnnerCB()
                }, e.prototype.onClickBnnerCB = function() {
                    this.m_status != c.DISABLE && this.OnClickFloatBtn()
                }, e.prototype.disableBannerPopUp = function() {
                    if (this.m_bIsInLobby)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("OceanHeart" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                    this.CloseEvent()
                }, e.prototype.hideLoginGetAward = function() {
                    this.showLoginGetAward(!1)
                }, e.prototype.showLoginGetAward = function(t, e, o, n, i, r, a, s, c, l) {
                    if (void 0 === e && (e = ""), void 0 === o && (o = ""), void 0 === n && (n = ""), void 0 === i && (i = ""), void 0 === r && (r = ""), void 0 === a && (a = 0), void 0 === s && (s = 0), void 0 === c && (c = 0), void 0 === l && (l = []), this.m_nodeLoginGetAward.active = t, t) {
                        var u = this.m_curAwardAvaiMapData.QuestID.substr(10, 2) + "/" + this.m_curAwardAvaiMapData.QuestID.substr(12, 2),
                            p = this.m_curAwardAvaiMapData.bonusData.people;
                        this.m_labLoginGetAwardMsg.string = "Event Time : " + u + "\ncommunity jackpot shared by " + p + " people", this.m_RankAwardPanelCtrl.setDetail(e, o, n, i, r, c, a, s, l, this.m_curAwardAvaiMapData.m_arrRankAwardData, this.m_curAwardAvaiMapData.CustomAmount), this.m_nodeLoginGetAwardCollectBtn.active = !0, this.m_nodeLoginGetAwardOKBtn.active = !1, this.m_nodeLoginGetAwardXBtn.active = !1
                    }
                }, e.prototype.tsToDate = function(t) {
                    var e = new Date(1e3 * t).toLocaleDateString("en-US", {
                        timeZone: "EDT",
                        month: "long",
                        day: "numeric"
                    });
                    return e.substr(0, e.length - 5)
                }, e.prototype.tsToDateTime = function(t) {
                    var e = new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "long",
                        day: "numeric",
                        hour12: !1
                    });
                    return e.substr(0, e.length - 3)
                }, e.prototype.loginGetAward = function() {
                    this.m_curAwardAvaiMapData = this.m_arrAwardAvaiMapData.pop(), this.m_curAwardAvaiMapData ? (m.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_bIsInLobby ? d.LobbyClient.Instance.GetUserClient.collectQuest(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel, this.rcvCollectQuestAck.bind(this)) : this.EVENT_SEND_COLLECT_CMD && !this.m_bIsCollectingAward && (console.warn("\u9001\u51fa colect cmd"), this.m_bIsCollectingAward = !0, this.EVENT_SEND_COLLECT_CMD(this.m_curAwardAvaiMapData.QuestID, this.m_curAwardAvaiMapData.QuestLevel))) : this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onClickGetAwardCollect = function() {
                    var t = this;
                    if (0 != this.m_nodeLoginGetAward.active) {
                        console.warn("onClickGetAwardCollect, this.m_iFinalBalance = " + this.m_iFinalBalance), d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.AWARD_COLLECT_BTN), this.m_nodeLoginGetAwardCollectBtn.active = !1;
                        var e = function() {
                            t.m_nodeLoginGetAwardOKBtn.active = !0, t.m_nodeLoginGetAwardXBtn.active = !0, t.EVENT_REFLASH_UI_BALANCE && t.EVENT_REFLASH_UI_BALANCE()
                        };
                        this.m_bIsInLobby ? (this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalBalance, 1, e.bind(this)), this.m_CommBonusCoinCtrl.coinMoveToTarget(.5, null)) : this.m_FishFakeScoreBoxCtrl.countUpShowMoney(this.m_iFinalBalance, 1, e.bind(this)), A.EventSystem.Event(A.CommunityBonus.SetCollected).Length > 0 && A.EventSystem.Event(A.CommunityBonus.SetCollected).Notify("OceanHeart")
                    }
                }, e.prototype.onClickGetAwardX = function() {
                    this.hideLoginGetAward(), this.m_RankAwardPanelCtrl.Reset(), this.m_arrAwardAvaiMapData.length > 0 ? this.loginGetAward() : (this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup(), this.EVENT_COLLECT_CLOSE && this.EVENT_COLLECT_CLOSE(), this.m_bIsCollectingAward = !1, 0 != this.m_arrMissionData.length && this._countDownTime > 0 && null != this.m_curMapData ? (this.node.active = !0, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!0), this.m_status = c.IDLE) : this.m_status = c.UPDATE_CMD), d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.AWARD_X_BTN)
                }, e.prototype.onProfileSwitchGame = function() {
                    this.EVENT_COLLECT_CLOSE && this.EVENT_COLLECT_CLOSE(), this.m_bIsCollectingAward = !1, 0 != this.m_arrMissionData.length && this._countDownTime > 0 && null != this.m_curMapData ? (this.node.active = !0, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!0), this.m_status = c.IDLE) : this.m_status = c.UPDATE_CMD
                }, e.prototype.CheckQuestIsActive = function() {
                    return this.node.activeInHierarchy && this.m_status != c.DISABLE || this.m_bIsCollectingAward
                }, e.prototype.CallSendCmd = function() {
                    this.m_status != c.DISABLE || this.m_bIsCollectingAward || (this.node.active = !0, this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), this.m_status = c.UPDATE_CMD)
                }, e.prototype.popUpClosed = function() {
                    null == this.m_arrMissionData || null == k.EventTipsMask.Instance || k.EventTipsMask.Instance.m_bClickAnyEvent || (this.m_bSlotEventRun ? this.m_MissionBtnCtrl.setPrompt("Treasure Map & Heart Of Ocean\nBOTH available!") : this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent), null != k.EventTipsMask.Instance && null != this.m_curMapData && (k.EventTipsMask.Instance.m_delHideCb.Insert(this.m_MissionBtnCtrl.setPrompt, this.m_MissionBtnCtrl), k.EventTipsMask.Instance.checkNewEvent(this.m_curMapData.QuestID)))
                }, e.prototype.decrOtherToken = function() {
                    for (var t = this.m_MissionListCtrl.m_aryInfoCtrlList.length - 1; t >= 0; t--)
                        if (null == this.getCurGameMisData() || this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID != this.getCurGameMisData().ThemeID) {
                            var e = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[t].m_strThemeID);
                            if (e.newProgress > 0) {
                                e.newProgress--, this.decrTokenRedDot(t);
                                break
                            }
                        }
                }, e.prototype.decrTokenRedDot = function(t) {
                    this.m_MissionListCtrl.m_aryInfoCtrlList[t].decrRedDot()
                }, e.prototype.decrCurGameTokenRedDot = function() {
                    for (var t = -1, e = 0; e < this.m_MissionListCtrl.m_aryInfoCtrlList.length; e++)
                        if (this.m_MissionListCtrl.m_aryInfoCtrlList[e].m_strThemeID == this.getCurGameMisData().ThemeID) {
                            t = e;
                            break
                        }
                    if (-1 != t) {
                        var o = this.getMisDataByThemeID(this.getCurGameMisData().ThemeID);
                        o.newProgress > 0 && (o.newProgress--, this.decrTokenRedDot(t))
                    }
                }, e.prototype.setStatusIdle = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.IDLE)
                }, e.prototype.setRankRrogressAndIdle = function(t) {
                    this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur), this.m_RankBonusTotalProgress.setProgressAdd(t), this.clearAllNewProgress();
                    for (var e = 0; e < this.m_MissionListCtrl.m_aryInfoCtrlList.length; e++) {
                        var o = this.getMisDataByThemeID(this.m_MissionListCtrl.m_aryInfoCtrlList[e].m_strThemeID);
                        o.newProgress > 0 && (o.newProgress = 0)
                    }
                    this.m_status != c.DISABLE && (this.m_status = c.FADE_TO_RANK_PAGE)
                }, e.prototype.allTokenShowEnd = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.REACH_GATE_POPUP)
                }, e.prototype.eachTokenShowEnd = function() {
                    if (this.m_status != c.DISABLE) {
                        var t = this.m_RankBonusTotalProgress.getProgress() + 1;
                        this.m_RankBonusTotalProgress.setProgressNoX(t)
                    }
                }, e.prototype.setStatusFly = function() {
                    this.m_status != c.DISABLE && (this.m_status = c.TOKEN_FLY_TOP)
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == w.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0 && (this.m_MissionBtnCtrl.setPrompt(this.collectAwardContent.replace("{0}", (t + e).toString())), !0)
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    this.m_bIsInLobby && (this.m_LobbyMgr.downBarMgr.SetUserBalance(e, o), this.m_LobbyMgr.UserEntries = e, this.m_LobbyMgr.UserWinnings = o)
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID), A.EventSystem.Event(A.CommunityBonus.ClickGetAwardCollect) && A.EventSystem.Event(A.CommunityBonus.ClickGetAwardCollect).Length > 0 && A.EventSystem.Event(A.CommunityBonus.ClickGetAwardCollect).Remove(this.onClickGetAwardCollect, this), A.EventSystem.Event(A.SwitchGame) && A.EventSystem.Event(A.SwitchGame).Length > 0 && A.EventSystem.Event(A.SwitchGame).Remove(this.onProfileSwitchGame, this)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.m_bSlotLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.m_bSlotLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return this.m_arrMissionData.length > 0 ? console.error("\u53d6\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 getMisDataByThemeID m_sCurGameName " + this.m_sCurGameName + ", themeID = " + t) : console.error("\u53d6\u4efb\u52d9\u8cc7\u6599\u932f\u8aa4 m_arrMissionData.length = 0"), null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.m_sCurGameName)
                }, e.prototype.getCurGameNewProgress = function() {
                    var t;
                    return null == (t = "" == this.m_sCurGameName ? 0 : SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID]) && (t = 0), t
                }, e.prototype.gotNewToken = function() {
                    this.m_status != c.DISABLE && (this.m_bTokenLock = !0, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock), this.setNewProgress(this.getCurGameNewProgress() + 1))
                }, e.prototype.setNewProgress = function(t) {
                    SS.Common.GameEnvironment.ProjectSetting.Modules[this.m_sCurGameName][this.m_curMapData.QuestID] = t, this.getAllNewProgress()
                }, e.prototype.setCurGameName = function(t, e, o) {
                    this.m_iSeat = t, this.m_sCurGameName = e, this.m_MissionListCtrl.SetWeaponPos(o), this.m_MissionListCtrl.SetUIPearlPos(this.m_RankBonusTotalProgress.getTokenPos()), this.m_MissionListCtrl.SetPearlPosAry(this.m_CommBonusTotalProgress.GetTokenNode()), this.m_MissionBtnCtrl.SetIconShellInfo(this.m_sCurGameName, o), this.getAllNewProgress(!0)
                }, e.prototype.getAllNewProgress = function(t) {
                    void 0 === t && (t = !1);
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (e) {
                        for (var o = 0, n = 0; n < this.m_arrMissionData.length; n++) {
                            var i = e[this.getGameNameByThemeID(this.m_arrMissionData[n].ThemeID)][this.m_curMapData.QuestID];
                            ((i = i || 0) > 0 || this.m_arrMissionData[n].m_fProgressRate > 0) && (o += i, this.m_arrMissionData[n].newProgress = i)
                        }
                        this.m_iTotalProgressAddAll = o, t && this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll);
                        var r = this.m_bIsInLobby ? this.m_iTotalProgressCur - this.m_iTotalProgressAddAll : this.m_RankBonusTotalProgress.getProgress();
                        this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, r)
                    }
                }, e.prototype.clearAllNewProgress = function() {
                    var t = SS.Common.GameEnvironment.ProjectSetting.Modules;
                    if (t) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = t[this.getGameNameByThemeID(this.m_arrMissionData[e].ThemeID)];
                            null == o ? cc.error("[ClearAllNewProgress]\u6c92\u6709element!(ThemeID:" + this.m_arrMissionData[e].ThemeID + " QuestID:" + this.m_curMapData.QuestID + ")") : o[this.m_curMapData.QuestID] && (o[this.m_curMapData.QuestID] = 0)
                        }
                        this.m_iTotalProgressAddAll = 0, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress())
                    }
                }, e.prototype.parsetFishQuestUpdateData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        if (t.hasOwnProperty("UserQuestData")) {
                            for (var o = t.UserQuestData, n = 0; n < o.length; n++) {
                                var i = o[n];
                                if (e.ThemeID == i.GameThemeID && e.QuestID == i.QuestID && e.QuestLevel == i.QuestLevel) {
                                    if (e.Status = i.Status, e.Status == w.UserQuestDataStatus.AWARD_CLAIMED) return;
                                    if (e.QuestType == f.QustObjectiveType.SPIN_TIME) e.SpinTimes = i.SpinTimes;
                                    else if (e.QuestType == f.QustObjectiveType.SPIN_AMOUNT) e.SpinAmount = i.SpinAmount;
                                    else if (e.QuestType == f.QustObjectiveType.WIN_AMOUNT) e.WinAmount = i.WinAmount;
                                    else {
                                        if (e.QuestType != f.QustObjectiveType.CUSTOM) return void console.warn("parseSpinData else");
                                        e.CustomAmount = i.CustomAmount
                                    }
                                    break
                                }
                            }
                            this.recMisInfoSetProgressCtr()
                        }
                    } catch (O) {
                        console.error("parsetFishQuestUpdateData error")
                    }
                }, e.prototype.parseFishQuestInfoData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        if (t.hasOwnProperty("900004") && t[900004].hasOwnProperty("UserAwardData")) {
                            var o = t[900004].UserQuestData;
                            this.m_iNowTime = t[900004].NowTimeUTC, this.RefleshTimer(), this.parseUserDataList(o);
                            for (var n = 0; n < o.length; n++) {
                                var i = o[n];
                                if (e.ThemeID == i.GameThemeID && e.QuestID == i.QuestID && e.QuestLevel == i.QuestLevel) {
                                    if (e.Status = i.Status, e.Status != w.UserQuestDataStatus.AWARD_AVAILABLE) break;
                                    for (var r = t[900004].UserAwardData, a = 0; a < r.length; a++) {
                                        var s = r[a];
                                        if (s.hasOwnProperty("QuestID") && s.hasOwnProperty("AwardEntries") && s.hasOwnProperty("AwardWinnings") && s.hasOwnProperty("PearlAmount") && s.hasOwnProperty("AwardItem") && e.QuestID == s.QuestID) {
                                            var c = s.PearlAmount;
                                            this.m_iTempTotalPearl = this.m_iTotalProgressCur + c, e.Award.PearlAmount = s.PearlAmount;
                                            var l = new f.Award;
                                            l.AwardEntries = s.AwardEntries, l.AwardWinnings = s.AwardWinnings, l.PearlAmount = s.PearlAmount, l.AwardItem = s.AwardItem, l.AwardItem ? (l.ItemID = s.AwardItem.ItemID, l.ItemAmount = s.AwardItem.Amount) : (l.ItemID = "", l.ItemAmount = 0), e.AwardAry.push(l);
                                            break
                                        }
                                    }
                                    this.parsetFishQuestUpdateData(t[900004]);
                                    break
                                }
                            }
                        }
                    } catch (O) {
                        console.error("parseSpinData error")
                    } else console.error("curGameMisData==null")
                }, e.prototype.getTokenShow = function() {
                    this.m_bTokenLock = !1, this.SetAllBtnInteract(this.m_bSlotLock && this.m_bTokenLock)
                }, e.prototype.parseMisInfo = function(t) {
                    if (this.m_status = c.PARAE_CMD, null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.length) return !1;
                            this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC;
                            for (var i = 0; i < o.length; i++) {
                                var r = new f.CommBonusData,
                                    a = o[i];
                                if (302 == a.TitleType && (this.m_bIsOpenRankBoard = !0), 300 == a.TitleType || 301 == a.TitleType || 302 == a.TitleType) {
                                    r.QuestID = a.QuestID, r.QuestLevel = a.QuestLevel, r.ThemeID = a.GameThemeID, r.SpinTimesGate = a.SpinTimesGate, r.SpinAmountGate = a.SpinAmountGate, r.WinAmountGate = a.WinAmountGate, r.CustomGate = a.CustomGate, r.CustomType = a.CustomType, r.CustomInfo = a.CustomInfo, r.Award = a.Award, r.Priority = a.Priority, r.CycleSeconds = a.CycleSeconds, r.ExpireTimeUTC = a.ExpireTimeUTC, null != a.CustomInfo && a.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = a.CustomInfo.Msg);
                                    for (var s = 0; s < n.length; s++) {
                                        var l = n[s];
                                        if (r.QuestID == l.QuestID && r.QuestLevel == l.QuestLevel && r.ThemeID == l.GameThemeID) {
                                            r.SpinTimes = l.SpinTimes, r.SpinAmount = l.SpinAmount, r.WinAmount = l.WinAmount, r.CustomAmount = l.CustomAmount, r.Status = l.Status;
                                            break
                                        }
                                    }
                                    if (300 == a.TitleType && this.checkThemeIsOpen(a.GameThemeID)) this.setGateAndAmount(r), this.m_arrMissionData.push(r);
                                    else if (302 == a.TitleType) {
                                        if (r.RankSize = a.CustomInfo.RankNum, a.CustomInfo && a.CustomInfo.RankAward)
                                            for (var u = 0; u < a.CustomInfo.RankAward.length; u++) {
                                                var p = a.CustomInfo.RankAward[u],
                                                    m = new f.RankAwardData;
                                                m.Begin = p.Begin, m.End = p.End, m.Award = p.Award, r.m_arrRankAwardData.push(m)
                                            }
                                        if (r.bonusData = this.parseBonusData(a.ExtraInfo), Date.now(), r.bonusData.jp_begin_time <= this.m_iNowTime && r.bonusData.jp_end_time > this.m_iNowTime && (this.m_strOceanHeartQuestID = r.QuestID, this.m_curMapData = r, this.updateBonusPrize(), this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_iTotalProgressMax = a.CustomGate, this.parseUserDataList(n), d.LobbyClient.Instance.GetJPSystem.getOceanHeartCB = this.parseAndUpdateBonusData.bind(this)), r.Status == w.UserQuestDataStatus.AWARD_AVAILABLE) this.m_arrAwardAvaiMapData.push(r);
                                        else if (r.Status == w.UserQuestDataStatus.QUEST_NOT_DONE && r.bonusData.jp_end_time <= this.m_iNowTime) {
                                            var h = r.bonusData.ranking_list;
                                            for (u = 0; u < h.length; u++)
                                                if (h[u].ranking_id == r.bonusData.ranking_id) {
                                                    this.m_arrAwardAvaiMapData.push(r);
                                                    break
                                                }
                                        }
                                    }
                                } else 100 == a.TitleType && (this.m_bSlotEventRun = !0)
                            }
                            return !0
                        }
                        return !1
                    } catch (O) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.parseUserDataList = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var o = t[e];
                        if (o.QuestID == this.m_curMapData.QuestID) {
                            this.m_iTotalProgressCur = o.CustomAmount;
                            break
                        }
                    }
                }, e.prototype.parseBonusData = function(t) {
                    var e = new f.BonusData;
                    try {
                        if (e.exchange_rate = t.exchange_rate, e.extra_jp_value = t.extra_jp_value, e.jp_value = t.jp_value, e.people = t.people, e.quest_id = t.quest_id, e.state_id = t.state_id, e.jp_begin_time = t.jp_begin_time, e.jp_end_time = t.jp_end_time, e.ranking_id = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.ranking_id ? this.m_curMapData.bonusData.ranking_id : t.ranking_id ? t.ranking_id : "", e.AvatarID = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.AvatarID ? this.m_curMapData.bonusData.AvatarID : t.equip_avatar ? t.equip_avatar : "", e.AvatarFrameID = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.AvatarFrameID ? this.m_curMapData.bonusData.AvatarFrameID : t.equip_avatar_frame ? t.equip_avatar_frame : "", e.Nickname = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.Nickname ? this.m_curMapData.bonusData.Nickname : t.nick_name ? t.nick_name : "", e.pin_ark_id = this.m_curMapData && this.m_curMapData.bonusData && this.m_curMapData.bonusData.pin_ark_id ? this.m_curMapData.bonusData.pin_ark_id : t.ark_id ? t.ark_id : "", e.ranking_list, e.ranking_list = [], t.hasOwnProperty("ranking_list")) {
                            var o = t.ranking_list;
                            if (o && o[0])
                                for (var n = 0; n < o.length; n++) {
                                    var i = o[n],
                                        r = new f.RankingPlayerData;
                                    r.amount = i.amount, r.ark_id = i.ark_id, r.ranking_id = i.ranking_id, r.time = i.time, r.AvatarID = i.equip_avatar, r.AvatarFrameID = i.equip_avatar_frame, r.Nickname = i.nick_name, e.ranking_list.push(r)
                                }
                        }
                    } catch (a) {
                        console.error(a), e = null
                    }
                    return e
                }, e.prototype.parseAndUpdateBonusData = function(t) {
                    if (this.m_status != c.TIME_UP) {
                        var e = this.parseBonusData(t);
                        if (this.m_curMapData && e && e.quest_id == this.m_strOceanHeartQuestID) {
                            this.m_curMapData.bonusData = e, this.updateBonusPrize(), this.IsNeedToRefreshRankPage() && (this.m_PlayerRankingMgr.showRanking(this.m_curMapData), this.m_RankingRefreshTimestamp = this.GetTimestamp());
                            var o = this.m_PlayerRankingMgr.GetPlayerSlefRank(); - 999 == this.m_iMySaveRank && (this.m_iMySaveRank = o), console.warn("\u6536\u5230\u6392\u884c\u699c\u8cc7\u6599, \u5f69\u91d1\u4eba\u6578 = " + this.m_curMapData.bonusData.people + ", myNewRank = " + o + " m_iMySaveRan " + this.m_iMySaveRank + ", \u5269\u9918\u6642\u9593 = " + this._countDownTime), o != this.m_iMySaveRank && (-1 != o && !this.m_Root.activeInHierarchy && this._countDownTime <= 86400 && ((o < this.m_iMySaveRank || -1 == this.m_iMySaveRank) && (u.AudioMgr.Instance.Play("RankingMoveUp", !1, 1), this.m_MissionBtnCtrl.ShowRankingChange(o, !0)), o > this.m_iMySaveRank && -1 != this.m_iMySaveRank && (u.AudioMgr.Instance.Play("RankingMoveDown", !1, 1), this.m_MissionBtnCtrl.ShowRankingChange(o, !1))), this.m_iMySaveRank = o)
                        }
                    }
                }, e.prototype.IsNeedToRefreshRankPage = function() {
                    var t = !1,
                        e = JSON.stringify(this.m_curMapData.bonusData.ranking_list),
                        o = this.sampleHashCode(e);
                    return (1 == this.m_Root.activeInHierarchy && this.m_RankingListHash != o || this.GetTimestamp() > this.m_RankingRefreshTimestamp + 600) && (this.m_RankingRefreshTimestamp = this.GetTimestamp(), this.m_RankingListHash = o, t = !0), e = null, t
                }, e.prototype.sampleHashCode = function(t) {
                    for (var e = 0, o = 0, n = t.length; o < n; o++) e = (e << 5) - e + t.charCodeAt(o), e |= 0;
                    return e
                }, e.prototype.setGateAndAmount = function(t) {
                    var e, o;
                    t.SpinTimesGate > 0 ? (t.QuestType = f.QustObjectiveType.SPIN_TIME, e = t.SpinTimesGate, o = t.SpinTimes, t.CustomInfoMsg = "Complete " + t.SpinTimesGate + " spin times") : t.SpinAmountGate > 0 ? (t.QuestType = f.QustObjectiveType.SPIN_AMOUNT, e = t.SpinAmountGate, o = t.SpinAmount, t.CustomInfoMsg = "Complete total entries " + t.SpinAmountGate) : t.WinAmountGate > 0 ? (t.QuestType = f.QustObjectiveType.WIN_AMOUNT, e = t.WinAmountGate, o = t.WinAmount, t.CustomInfoMsg = "Accumulate winning above " + t.WinAmountGate) : 0 != t.CustomType ? (t.QuestType = f.QustObjectiveType.CUSTOM, e = t.CustomGate, o = t.CustomAmount) : console.error("setGateAndAmount error"), t.m_fProgressRate = o / e
                }, e.prototype.TimeCountDownCallBack = function() {
                    u.AudioMgr.Instance.Play("Missions_Call", !1, 1), this.setActivityRoot(!1), A.EventSystem.Event(A.CommunityBonus.TimesUp).Length > 0 && A.EventSystem.Event(A.CommunityBonus.TimesUp).Notify(), this.m_status = c.IDLE
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (t < 0) this.m_status = c.DISABLE;
                    else if (0 != this.m_arrMissionData.length) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o >= 0 && o < t && (t = o)
                        }
                        t > 0 && !this.m_bIsInLobby && (this.m_bIsTimeUP = !1, this.setActivityRoot(!1), this.m_status = c.IDLE), this.ForceSetTime(t)
                    } else 0 == this.m_arrAwardAvaiMapData.length ? this.m_status = c.DISABLE : (this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1))
                }, e.prototype.RefleshTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (0 == this.m_arrMissionData.length) return this.setActivityRoot(!1), this.m_MissionBtnCtrl.show(!1), void(this.m_status = c.UPDATE_CMD);
                    for (var e = 0; e < this.m_arrMissionData.length; e++) {
                        var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                        o >= 0 && o < t && (t = o)
                    }
                    this.ForceSetTime(t)
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = t >= 86400 ? "{day} Days {hr}:{min}:{sec}" : "{hr}:{min}:{sec}";
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithFormate(t, e), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    --t._countDownTime, t._countDownTime <= 0 && (this.m_bIsInLobby && (this.clearAllNewProgress(), this.reloadLobby()), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack, this.m_bIsTimeUP = !0, this.m_status != c.IDLE && this.m_status != c.NONE || (this.m_status = c.TIME_UP)), t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (O) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (O) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    for (var e = SS.Common.GameEnvironment.GameSetting.DisableGame, o = SS.Common.GameEnvironment.GameSetting.Type.ALL, n = e.indexOf(t), i = this.getGameNameByThemeID(t), r = !1, a = 0; a < o.length; a++)
                        if (o[a].includes(i)) {
                            r = !0;
                            break
                        }
                    return -1 == n && r
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {}, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_nodeHint.active = !t && this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = !t && this.m_iTotalProgressCur >= this.m_iTotalProgressMax, this.m_bShowFinish = t, t ? this.m_iSoundNinePearlPopupID = u.AudioMgr.Instance.Play("NinePearlPopup", !0, 1) : u.AudioMgr.Instance.Stop(this.m_iSoundNinePearlPopupID)
                }, e.prototype.closeTipPage = function() {
                    this.m_nodeTipsPage.active = !1, this.closeReadMePage(), 0 == this.m_iTotalProgressCur && this.m_bIsShowMermaidAct && (this.m_CommBonusTotalProgress.ShowStartMermaid(), this.m_bIsShowMermaidAct = !1)
                }, e.prototype.closeFinishPage = function() {
                    this.ToggleFinishMissionPage(!1), this.m_CommBonusTotalProgress.ShowChangeToFullMermaid(), this.m_status = c.RANK_TOKEN_FLY_TOP
                }, e.prototype.openReadMePage = function() {
                    this.setReadMePage(!0)
                }, e.prototype.closeReadMePage = function() {
                    this.setReadMePage(!1)
                }, e.prototype.closeRankIDPopup = function() {
                    this.m_nodeRankIDPopup.active = !1, d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.RANKING_ID_X_BTN)
                }, e.prototype.ShowMainPage = function(t) {
                    void 0 === t && (t = !0), this.m_bBtnInterActable && (t && (u.AudioMgr.Instance.Play("Click", !1, 1), d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.SWITCH_TO_GAME_PAGE)), this.showRankingPage(!1))
                }, e.prototype.ShowRankPage = function() {
                    this.m_bBtnInterActable && this.m_bIsOpenRankBoard && (d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.SWITCH_TO_RANK_PAGE), u.AudioMgr.Instance.Play("Click", !1, 1), this.showRankingPage(!0), this.m_bInRankingPage && this.m_PlayerRankingMgr.showRanking(this.m_curMapData))
                }, e.prototype.fadeToRankingPage = function() {
                    var t = this;
                    this.m_bInRankingPage = !0, this.m_nodeRankPage.active = !0, this.m_nodeMainPage.active = !1, this.m_nodeRankPage.opacity = 0, cc.tween(this.m_nodeRankPage).to(1, {
                        opacity: 255
                    }).call(function() {
                        t.m_status = c.IDLE
                    }).start()
                }, e.prototype.showRankingPage = function(t) {
                    t && !this.m_bIsOpenRankBoard || (this.m_nodeRankPage.opacity = 255, this.m_nodeMainPage.opacity = 255, this.m_bInRankingPage = t, this.m_nodeMainPage.active = !t, this.m_nodeRankPage.active = t, this.m_nodeMainPageBg.color = t ? cc.Color.GRAY : cc.Color.WHITE, this.m_nodeRankPageBg.color = t ? cc.Color.WHITE : cc.Color.GRAY, this.showReadMePage(!1, this.m_nodeReadMePage_Rank), this.showReadMePage(!1, this.m_nodeReadMePage))
                }, e.prototype.hideBothPage = function() {
                    this.m_nodeRankPage.active = !0, this.m_nodeRankPage.opacity = 0, this.m_nodeMainPage.active = !0, this.m_nodeMainPage.opacity = 0
                }, e.prototype.showRankingID = function() {
                    this.m_bNoobGuideRanking = !1, this.m_nodeRankIDPopup.active = !1
                }, e.prototype.setReadMePage = function(t) {
                    this.m_bInRankingPage ? this.showReadMePage(t, this.m_nodeReadMePage_Rank) && (this.m_nodeRankingPage.active = !t) : this.showReadMePage(t, this.m_nodeReadMePage) && (this.m_nodeObjList.active = !t)
                }, e.prototype.showReadMePage = function(t, e) {
                    if (e.getNumberOfRunningActions() > 0) return !1;
                    if (u.AudioMgr.Instance.Play("Click", !1, 1), e.stopAllActions(), e.scale = 1, e.opacity = 255, t) e.active = !0, e == this.m_nodeReadMePage_Rank ? d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.INFO_BTN_OPEN_RANK) : e == this.m_nodeReadMePage && d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.INFO_BTN_OPEN_MAIN);
                    else {
                        e == this.m_nodeReadMePage_Rank ? d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.INFO_BTN_X_RANK) : e == this.m_nodeReadMePage && d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.INFO_BTN_X_MAIN);
                        var o = cc.fadeOut(.25),
                            n = cc.scaleTo(.5, 0),
                            i = cc.callFunc(function() {
                                return e.active = !1
                            }),
                            r = cc.sequence(cc.spawn(o, n), i);
                        e.runAction(r)
                    }
                    return !0
                }, e.prototype.setActivityRoot = function(t) {
                    if (this.m_Root.active = t, this.m_MissionBtnCtrl.setNumDot(this.m_iTotalProgressAddAll, this.m_RankBonusTotalProgress.getProgress()), this.m_MissionBtnCtrl.show(!t), this.hideBothPage(), u.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t)
                        if (u.AudioMgr.Instance.Play("Ocean", !1, 1), this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur - this.m_iTotalProgressAddAll), this.m_nodeHint.active = this.m_iTotalProgressCur < this.m_iTotalProgressMax, this.m_nodeHintRank.active = this.m_iTotalProgressCur >= this.m_iTotalProgressMax, 0 == this.m_iTotalProgressCur && 0 == this.m_iTempTotalPearl && this.m_bIsShowMermaidAct) this.m_CommBonusTotalProgress.Init();
                        else {
                            var e = this.m_iTotalProgressCur - this.getCurGameNewProgress();
                            e >= this.m_iTotalProgressMax ? this.m_CommBonusTotalProgress.ShowFullMermaid() : e >= 0 && this.m_CommBonusTotalProgress.ShowNearMermaid(0 == this.m_iTotalProgressCur && 0 == this.getCurGameNewProgress())
                        }
                    else this.ResetSiblingIndex()
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    var o = this;
                    if (this.m_bBtnInterActable) {
                        if (u.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.m_sCurGameName == this.m_strChangeToGameName) return console.warn("\u5728\u6b64\u904a\u6232\u4e2d\u4e0d\u8df3\u8f49!!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1), this.m_bIsInLobby ? this.m_LobbyMgr.switchGame.OnSwitchGameIgnoreWindow(this.m_strChangeToGameName) : (this.m_MissionBtnCtrl.show(!1), l.CommonRoot.Instance.m_switchGameGroup.OpenSwitchGameWindow(this.m_strChangeToGameName, this.m_sCurGameName, null, function() {
                            o.m_MissionBtnCtrl.show(!0)
                        }))
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_bBtnInterActable && this.m_status != c.COLLECT && (this.setActivityRoot(!1), d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.MAIN_X_BTN))
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (u.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    this.m_bBtnInterActable && !this.m_bIsTimeUP && (this.m_MissionBtnCtrl.CheckIsShowing() ? cc.error(" \u8c9d\u6bbc\u6b63\u5728\u958b\u555f\u4e2d!!!  \u7121\u6cd5\u958b\u555f\u4ecb\u9762  ") : (this.setOnTop(), k.EventTipsMask.Instance && k.EventTipsMask.Instance.hide(), d.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", f.OceanHeartClickLogID.FLOAT_BTN), this.m_bIsInLobby ? (this.m_MissionBtnCtrl.showFingerPtr(!1), this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = c.UPDATE_CMD) : this.ClickFloatBtnCallEvent()))
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.m_arrMissionData.length <= 0 || (null != this.EVENT_OPEN_UI && this.EVENT_OPEN_UI(), this.setActivityRoot(!0), this.getAllNewProgress(), this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), this.recMisInfoSetProgressCtr(), this.showRankingID(!0))
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, m.ConnectPanelMgr.Instance.ShowConnectPanel(0), d.LobbyClient.Instance.GetUserClient.getNoRetryCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.rcvCollectQuestAck = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (0 == e.cmd_data.result) this.OnCollectQuest(e.cmd_data);
                        else switch (e.cmd_data.result) {
                            case 1:
                                _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo), m.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                break;
                            case -999:
                                _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Critical, "S189", null, null, null)
                        } else {
                            var o;
                            o = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", this.m_bIsInLobby ? _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Critical, o, null, null, null) : this.EVENT_ERROR && this.EVENT_ERROR(o)
                        }
                }, e.prototype.recvPlayerProfileList = function(t, e) {
                    null == e || null == e ? cc.error("!!! recvPlayerProfileList is null !!! ", t, e) : e.hasOwnProperty("cmd_data") && e.cmd_data.hasOwnProperty("player_profile_list") && (this.m_PlayerProfileList = e.cmd_data.player_profile_list), this.m_isRecvPlayerProfileList = !0
                }, e.prototype.waitPlayerProfileList = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    t = 0, e = .2, o = 15, n.label = 1;
                                case 1:
                                    return 0 == this.m_isRecvPlayerProfileList && t < o ? (t += e, [4, SS.Common.WaitForSeconds(e)]) : [3, 3];
                                case 2:
                                    return n.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.CheckPlayerProfileList = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n, i;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    for (e = t.ranking_list, o = [], n = 0; n < e.length; n++) e[n].ark_id && "" != e[n].ark_id && o.push(e[n].ark_id);
                                    return null == o ? (cc.log("CheckPlayerProfileList no data. ", t), [2]) : (this.m_PlayerProfileList = null, this.m_isRecvPlayerProfileList = !1, d.LobbyClient.Instance.GetUserClient.getPlayerProfileList(o, this.recvPlayerProfileList.bind(this)), [4, this.waitPlayerProfileList()]);
                                case 1:
                                    for (r.sent(), n = 0; n < t.ranking_list.length; n++)
                                        if (null != this.m_PlayerProfileList)
                                            for (i = 0; i < this.m_PlayerProfileList.length; i++)
                                                if (this.m_PlayerProfileList[i].hasOwnProperty("ark_id") && this.m_PlayerProfileList[i].ark_id == e[n].ark_id && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar") && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar_frame") && this.m_PlayerProfileList[i].hasOwnProperty("nick_name")) {
                                                    t.ranking_list[n].AvatarID = this.m_PlayerProfileList[i].equip_avatar, t.ranking_list[n].AvatarFrameID = this.m_PlayerProfileList[i].equip_avatar_frame, t.ranking_list[n].Nickname = this.m_PlayerProfileList[i].nick_name;
                                                    break
                                                }
                                    return e = null, o = null, [2]
                            }
                        })
                    })
                }, e.prototype.OnCollectQuest = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n;
                        return s(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.node.active = !0, this.node.opacity = 255, this.m_Root.active = !1, this.m_MissionBtnCtrl.show(!1), SS.Common.GameEnvironment.IsUseScoreBox ? (this.m_iAwardNum = t.data.AwardWinnings, this.m_iFinalBalance = t.playerInfo.winnings, e = h.ShowType.WINNING) : (this.m_iFinalBalance = t.playerInfo.winnings + t.playerInfo.entries, this.m_iAwardNum = t.data.AwardWinnings + t.data.AwardEntries, e = h.ShowType.CREDIT), this.node.setSiblingIndex(100), null == (o = t.data.ExtraInfo) ? (m.ConnectPanelMgr.Instance.DisableConnectPanel(0), [2]) : (o.hasOwnProperty("equip_avatar") || (o.equip_avatar = SS.Network.UserClient.UserInfo.avatar_id), o.hasOwnProperty("equip_avatar_frame") || (o.equip_avatar_frame = SS.Network.UserClient.UserInfo.avatar_frame_id), o.hasOwnProperty("nick_name") || (o.nick_name = SS.Network.UserClient.UserInfo.nickname), o.hasOwnProperty("ark_id") || (o.ark_id = SS.Network.LoginModel.LoginInfo.pin_ark_id), [4, this.CheckPlayerProfileList(o)]);
                                case 1:
                                    return i.sent(), this.showLoginGetAward(!0, o.ranking_id, o.equip_avatar, o.equip_avatar_frame, o.nick_name, o.ark_id, this.m_iAwardNum, o.ranking_award, o.exchange_rate, o.ranking_list), this.lobbySetUserBalance(t.playerInfo), n = this.m_iFinalBalance - this.m_iAwardNum - o.ranking_award, this.m_bIsInLobby ? (this.m_FishFakeScoreBoxCtrl.node.active = !1, this.m_FakeScoreBoxCtrl.node.active = !0, this.m_FakeScoreBoxCtrl.show(e, n)) : (this.m_FakeScoreBoxCtrl.node.active = !1, this.m_FishFakeScoreBoxCtrl.node.active = !0, this.m_FishFakeScoreBoxCtrl.show(this.m_iSeat, e, n)), m.ConnectPanelMgr.Instance.DisableConnectPanel(0), [2]
                            }
                        })
                    })
                }, e.prototype.SetReadyChangeGame = function() {
                    u.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_bIsInLobby ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : l.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Length > 0 && l.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Notify()
                }, e.prototype.updateBonusPrize = function() {
                    var t = this.m_curMapData.bonusData;
                    this.m_CommBonusMoneyMgr && t && (this.m_CommBonusMoneyMgr.setExtra(t.extra_jp_value * t.exchange_rate), this.m_CommBonusMoneyMgr.setInfo(t.jp_value * t.exchange_rate, t.people))
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 == this.m_arrAwardAvaiMapData.length && (0 == this.m_arrMissionData.length || null == this.m_curMapData)) return this.m_status = c.DISABLE, void console.warn("updateMisInfo, MisMgrStatus.DISABLE");
                    this.m_iEndTime < this.m_iNowTime ? setTimeout(function() {
                        console.error("updateMisInfo, if (this.m_iEndTime < this.m_iNowTime) setTimeout"), t.SendMissionBonusInfoCmd()
                    }, 3e3) : null != this.GetMissionCmdCallBack ? (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null) : this.m_status = c.IDLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (this.isRequestInfoNow = !1, m.ConnectPanelMgr.Instance.DisableConnectPanel(0), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.error("\u6536\u5230\u6d77\u6d0b\u4e4b\u5fc3  CommBonusMgr.recMissionInfo:"), console.error(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (d.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.m_curMapData && this.m_RankingBonusListCtrl.init(this.m_curMapData.m_arrRankAwardData, this.m_curMapData.bonusData.exchange_rate, 3), 0 == this.m_arrAwardAvaiMapData.length || this.m_bIsInLobby || this.loginGetAward(), this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? (this.m_status = c.DISABLE, console.error("e900004.result == -999, MisMgrStatus.DISABLE")) : (this.errorCode = "S182", this.m_bIsInLobby ? _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Warning, this.errorCode, "Lobby", this.reason) : this.EVENT_ERROR && this.EVENT_ERROR(this.errorCode)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, this.m_bIsInLobby ? _.PopupMsgMgr.Instance.ShowPopMsg(_.PopupPriority.Warning, this.errorCode, "Lobby", this.reason) : this.EVENT_ERROR && this.EVENT_ERROR(this.errorCode, this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o, n, i = this;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    if (!(t = this.getCurGameMisData())) return [3, 6];
                                    if (t.Status == w.UserQuestDataStatus.AWARD_CLAIMED) return [2];
                                    switch (e = t.QuestType, o = void 0, e) {
                                        case f.QustObjectiveType.WIN_AMOUNT:
                                            o = t.WinAmount / t.WinAmountGate;
                                            break;
                                        case f.QustObjectiveType.SPIN_AMOUNT:
                                            o = t.SpinAmount / t.SpinAmountGate;
                                            break;
                                        case f.QustObjectiveType.SPIN_TIME:
                                            o = t.SpinTimes / t.SpinTimesGate;
                                            break;
                                        case f.QustObjectiveType.CUSTOM:
                                            o = t.CustomAmount / t.CustomGate;
                                            break;
                                        default:
                                            console.error("FishOceanHeartMgr.recMisInfoSetProgressCtr()")
                                    }
                                    if (1 != (o = o > 1 ? 1 : o < 0 ? 0 : o) || this.m_Root.activeInHierarchy || (this.SetAllBtnInteract(!1), this.m_status = c.GET_BUBBLE), n = null != t.Award ? this.GetAwardCallback.bind(this) : null, 1 != o || !this.m_Root.activeInHierarchy || 0 == t.Award.PearlAmount) return [3, 5];
                                    if (!(this.m_iTempTotalPearl > this.m_iTotalProgressCur)) return [3, 4];
                                    this.m_MissionBtnCtrl.setProgress(0, t, null), r.label = 1;
                                case 1:
                                    return this.m_status == c.IDLE ? [3, 3] : [4, SS.Common.WaitForSeconds(1)];
                                case 2:
                                    return r.sent(), [3, 1];
                                case 3:
                                    this.m_iTotalProgressCur = this.m_iTempTotalPearl, this.m_curMapData.CustomAmount = this.m_iTotalProgressCur, this.m_MissionListCtrl.SetProgress(this.getThemeIDByGameName(this.m_sCurGameName), 0), this.m_RankBonusTotalProgress.setProgressNoX(this.m_iTotalProgressCur), this.m_iTotalProgressCur <= this.m_iTotalProgressMax && (this.m_CommBonusTotalProgress.ShowNearMermaid(!1), this.m_CommBonusTotalProgress.setTokens(this.m_iTotalProgressCur), this.m_iTotalProgressCur == this.m_iTotalProgressMax && this.m_CommBonusTotalProgress.ShowNecklackComplete(function() {
                                        i.ToggleFinishMissionPage(!0)
                                    })), t.Status = w.UserQuestDataStatus.AWARD_CLAIMED, r.label = 4;
                                case 4:
                                    return [3, 6];
                                case 5:
                                    this.m_MissionBtnCtrl.setProgress(o, t, n), r.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.GetAwardCallback = function(t, e) {
                    null != t && (0 != t.PearlAmount ? (this.m_iTotalProgressCur = this.m_iTempTotalPearl, this.m_curMapData.CustomAmount = this.m_iTotalProgressCur, this.m_Root.activeInHierarchy || this.gotNewToken()) : null != this.EVENT_GET_MISSION_REWARD && this.EVENT_GET_MISSION_REWARD(t)), this.SetAllBtnInteract(!0), 0 == e && this.m_status != c.DISABLE && this.m_bIsTimeUP ? this.m_status = c.TIME_UP : this.m_status = c.IDLE
                }, e.prototype.CheckOpenShellSpeed = function(t) {
                    if (this.m_MissionBtnCtrl.m_isShowing) {
                        var e = this.getCurGameMisData();
                        if (e && e.QuestType == f.QustObjectiveType.SPIN_AMOUNT) {
                            var o = this.m_MissionBtnCtrl.GetShellCtrlAnimationState(),
                                n = this.GetOpenShellSpeed(t);
                            o.speed = n >= 1 ? n : 1
                        }
                    }
                }, e.prototype.GetOpenShellSpeed = function(t) {
                    var e = 0;
                    if (t ? e = t : null != this.EVENT_GET_COST_PER_SECOND && (e = this.EVENT_GET_COST_PER_SECOND()), e > 0) {
                        var o = this.getCurGameMisData(),
                            n = this.m_MissionBtnCtrl.GetShellCtrlAnimationState();
                        if (n) {
                            var i = o.SpinAmountGate / e * .9;
                            if ((i -= this.m_MissionBtnCtrl.GetDropItemShowTime()) <= 0) return 10;
                            if (i < n.duration / n.speed) {
                                var r = n.duration / i;
                                return r > 10 ? 10 : r
                            }
                        }
                    }
                    return 1
                }, r([N(cc.Node)], e.prototype, "m_Root", void 0), r([N(cc.Node)], e.prototype, "m_nodeTipsPage", void 0), r([N(cc.Node)], e.prototype, "m_nodeMainPageBg", void 0), r([N(cc.Node)], e.prototype, "m_nodeRankPageBg", void 0), r([N(cc.Node)], e.prototype, "m_nodeMainPage", void 0), r([N(cc.Node)], e.prototype, "m_nodeRankPage", void 0), r([N(I.FishOceanHeartBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([N(cc.Node)], e.prototype, "m_FinishMission", void 0), r([N(cc.Node)], e.prototype, "m_nodeMissionListCtrl", void 0), r([N(M.FishOceanHeartListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([N(D.default)], e.prototype, "m_PlayerRankingMgr", void 0), r([N(E.default)], e.prototype, "m_CommBonusTotalProgress", void 0), r([N(C.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([N(y.CommBonusMoneyMgr)], e.prototype, "m_CommBonusMoneyMgr", void 0), r([N(g.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([N(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([N(p.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([N(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([N(p.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([N(S.RankAwardPanelCtrl)], e.prototype, "m_RankAwardPanelCtrl", void 0), r([N(cc.Node)], e.prototype, "m_nodeLoginGetAward", void 0), r([N(cc.Node)], e.prototype, "m_nodeLoginGetAwardOKBtn", void 0), r([N(cc.Node)], e.prototype, "m_nodeLoginGetAwardXBtn", void 0), r([N(cc.Node)], e.prototype, "m_nodeLoginGetAwardCollectBtn", void 0), r([N(cc.Label)], e.prototype, "m_labLoginGetAwardMsg", void 0), r([N(cc.Label)], e.prototype, "m_labLoginGetAwardWinning", void 0), r([N([cc.Animation])], e.prototype, "m_arrAnimateLoginGetAward", void 0), r([N(cc.Node)], e.prototype, "m_nodeObjList", void 0), r([N(cc.Node)], e.prototype, "m_nodeRankingPage", void 0), r([N(cc.Node)], e.prototype, "m_nodeReadMePage", void 0), r([N(cc.Node)], e.prototype, "m_nodeReadMePage_Rank", void 0), r([N(cc.Node)], e.prototype, "m_nodeRankIDPopup", void 0), r([N(cc.Label)], e.prototype, "m_labRankID", void 0), r([N(cc.Node)], e.prototype, "m_nodeDarkerBG", void 0), r([N(h.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([N(L.default)], e.prototype, "m_FishFakeScoreBoxCtrl", void 0), r([N(cc.Node)], e.prototype, "m_nodeHint", void 0), r([N(cc.Node)], e.prototype, "m_nodeHintRank", void 0), r([N(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([N(v.RankingBonusListCtrl)], e.prototype, "m_RankingBonusListCtrl", void 0), r([N({
                    type: [cc.AudioClip]
                })], e.prototype, "SoundClip", void 0), r([R], e)
            }(P.EventModule);
        o.default = B, cc._RF.pop()
    }, {
        "../../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/LobbyClient": "LobbyClient",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../CommunityBonus/Script/CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "../../CommunityBonus/Script/CommBonusMoneyMgr": "CommBonusMoneyMgr",
        "../../CommunityBonus/Script/Rank/RankAwardPanelCtrl": "RankAwardPanelCtrl",
        "../../CommunityBonus/Script/Rank/RankBonusTotalProgress": "RankBonusTotalProgress",
        "../../CommunityBonus/Script/Rank/RankingBonusListCtrl": "RankingBonusListCtrl",
        "../../EventBannerData": "EventBannerData",
        "../../EventModule": "EventModule",
        "../../EventTipsMask": "EventTipsMask",
        "../../MissionMgr/Script/MissionData": "MissionData",
        "./FishFakeScoreBoxCtrl": "FishFakeScoreBoxCtrl",
        "./FishOceanHeartBtnCtrl": "FishOceanHeartBtnCtrl",
        "./FishOceanHeartListCtrl": "FishOceanHeartListCtrl",
        "./FishOceanHeartPlayerRankingMgr": "FishOceanHeartPlayerRankingMgr",
        "./FishOceanHeartTotalProgress": "FishOceanHeartTotalProgress"
    }],
    FishOceanHeartPlayerRankingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "44408VwB6VFPrBtJbbthXSS", "FishOceanHeartPlayerRankingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../../CommunityBonus/Script/Rank/PlayerRankingMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = (l.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iMyRank = -1, e
                }
                return i(e, t), e.prototype.showRanking = function(e) {
                    return a(this, void 0, void 0, function() {
                        return s(this, function() {
                            return console.warn("FishOceanHeartPlayerRankingMgr showRanking = ", e), t.prototype.showRanking.call(this, e), [2]
                        })
                    })
                }, e.prototype.Clear = function() {
                    var t = this;
                    console.warn("FishOceanHeartPlayerRankingMgr Clear \u6e05\u6389\u5217\u8868 = "), this.m_arrPlayerRankingCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerRankingCtrl = []
                }, e.prototype.setRankingPlayer = function(e, o, n, i) {
                    void 0 === i && (i = 0), t.prototype.setRankingPlayer.call(this, e, o, n, i), n && -1 != e && (this.m_iMyRank = e + 1)
                }, e.prototype.GetPlayerSlefRank = function() {
                    return this.m_iMyRank
                }, r([u], e)
            }(c.PlayerRankingMgr));
        o.default = p, cc._RF.pop()
    }, {
        "../../CommunityBonus/Script/Rank/PlayerRankingMgr": "PlayerRankingMgr"
    }],
    FishOceanHeartRankAwardPanelCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "931f6gticdP3rGp0eGu/A8h", "FishOceanHeartRankAwardPanelCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../../../Helper/EventSystem"),
            l = t("../../../Net/LobbyClient"),
            u = t("../../CommunityBonus/Script/CommBonusData"),
            p = t("../../CommunityBonus/Script/Rank/RankAwardPanelCtrl"),
            m = cc._decorator,
            h = m.ccclass,
            d = (m.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.onClickRank = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return 0 == this.m_isProfileCanShow ? [2] : (this.m_isProfileCanShow = !1, 0 != this.m_isCollected ? [3, 2] : (c.EventSystem.Event(c.CommunityBonus.ClickGetAwardCollect) && c.EventSystem.Event(c.CommunityBonus.ClickGetAwardCollect).Length > 0 && c.EventSystem.Event(c.CommunityBonus.ClickGetAwardCollect).Notify(), [4, SS.Common.WaitForSeconds(2.5)]));
                                case 1:
                                    t.sent(), t.label = 2;
                                case 2:
                                    return this.m_isProfileCanShow = !0, this.m_nodeRankPanel.active = !0, this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(this.m_fScrollToPercent), l.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", u.OceanHeartClickLogID.AWARD_RANK_BTN), this.m_isCollected = !0, [2]
                            }
                        })
                    })
                }, e.prototype.onClickRankX = function() {
                    this.m_nodeRankPanel.active = !1, l.LobbyClient.Instance.GetUserClient.recordClickLog("OceanHeart", u.OceanHeartClickLogID.AWARD_RANK_X_BTN)
                }, r([h], e)
            }(p.RankAwardPanelCtrl));
        o.default = d, cc._RF.pop()
    }, {
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/LobbyClient": "LobbyClient",
        "../../CommunityBonus/Script/CommBonusData": "CommBonusData",
        "../../CommunityBonus/Script/Rank/RankAwardPanelCtrl": "RankAwardPanelCtrl"
    }],
    FishOceanHeartShellCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f395c1jp3pB+L3BaOp7LRz5", "FishOceanHeartShellCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ShellAnimName = void 0;
        var a, s = t("../../../Component/AudioMgr"),
            c = t("./FishOceanHeartDropItem"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property;
        (function(t) {
            t.Idle = "ShellIdle", t.Open = "ShellOpen", t.OpenNormal = "ShellOpenShowNormal", t.OpenPearl = "ShellOpenShowPearl", t.OpenLoopLight = "ShellOpenLoopLight"
        })(a = o.ShellAnimName || (o.ShellAnimName = {}));
        var m = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_Root = null, e.m_pfDropAward = null, e.m_animShell = null, e.m_nodePoolAward = null, e.m_AwardData = null, e.m_iShowDatID = -1, e.m_v2WeaponPos = null, e.m_nodeScene = null, e.m_cbShellOpen = null, e.m_bIsIdle = !0, e.m_v2TargetPos = null, e.m_nodeTempDrop = null, e.m_currentAnim = null, e.DELAY_TIME = 2, e.MOVE_TIME = .3, e
            }
            return i(e, t), e.prototype.SetWeaponPos = function(t) {
                this.m_v2WeaponPos = t
            }, e.prototype.GetShellIsIdle = function() {
                return this.m_bIsIdle
            }, e.prototype.onLoad = function() {
                this.m_nodePoolAward = new cc.NodePool;
                for (var t = 0; t < 2; t++) {
                    var e = cc.instantiate(this.m_pfDropAward);
                    this.m_nodePoolAward.put(e)
                }
                this.m_animShell.play(a.Idle)
            }, e.prototype.OpenShellAndShowPearl = function(t) {
                var e = this;
                this.m_animShell.once(cc.Animation.EventType.FINISHED, function() {
                    null != t && t();
                    var o = cc.delayTime(.5),
                        n = cc.callFunc(function() {
                            e.m_animShell.play(a.Idle), e.m_bIsIdle = !0
                        }),
                        i = cc.sequence(o, n);
                    e.node.runAction(i)
                }), this.m_animShell.play(a.Open), this.m_bIsIdle = !1
            }, e.prototype.OpenShell = function(t, e, o, n) {
                var i = this;
                void 0 === o && (o = null), void 0 === n && (n = null), this.m_cbShellOpen = e, this.m_v2TargetPos = null == o ? this.m_v2WeaponPos : o, this.m_AwardData = null, this.m_AwardData = t.award, this.m_iShowDatID = t.dataID;
                var r = null,
                    c = "";
                null != this.m_AwardData && (0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings || null != this.m_AwardData.AwardItem ? (r = a.OpenNormal, c = 0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings ? "SheelOpenMoney" : "SheelOpenCard") : 0 != this.m_AwardData.PearlAmount && (r = a.OpenPearl, c = "SheelOpenPearl")), this.m_animShell.once(cc.Animation.EventType.FINISHED, function() {
                    i.m_currentAnim.speed = 1, i.DropAward()
                }), s.AudioMgr.Instance.Play(c, !1, 1), this.m_currentAnim = this.m_animShell.play(r), this.m_currentAnim.speed = n(), this.m_bIsIdle = !1
            }, e.prototype.DropAward = function() {
                var t = this;
                0 == this.m_nodePoolAward.size() ? this.m_nodeTempDrop = cc.instantiate(this.m_pfDropAward) : this.m_nodeTempDrop = this.m_nodePoolAward.get();
                var e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
                null == this.m_nodeScene && (this.m_nodeScene = cc.director.getScene()), this.m_nodeTempDrop.active = !0, this.m_nodeTempDrop.parent = this.m_nodeScene, this.m_nodeTempDrop.setPosition(e);
                var o = -1,
                    n = 0;
                if (null != this.m_AwardData)
                    if (0 != this.m_AwardData.AwardEntries || 0 != this.m_AwardData.AwardWinnings) o = c.FOH_AWARD.COIN, n = this.m_AwardData.AwardEntries + this.m_AwardData.AwardWinnings;
                    else if (0 != this.m_AwardData.PearlAmount) o = c.FOH_AWARD.EVENT_TOKEN, n = this.m_AwardData.PearlAmount;
                else if (null != this.m_AwardData.AwardItem) {
                    var i = this.m_AwardData.ItemID;
                    "MF100001" == i ? o = c.FOH_AWARD.ITEM_FREEZE : "MF100002" == i && (o = c.FOH_AWARD.ITEM_SUMMON), n = this.m_AwardData.ItemAmount
                }
                o != c.FOH_AWARD.EVENT_TOKEN && (this.m_v2TargetPos = this.m_v2WeaponPos), -1 != o && (this.m_animShell.play(a.OpenLoopLight), this.m_nodeTempDrop.getComponent(c.default).Init(o, n, this.m_v2TargetPos, function() {
                    t.m_animShell.play("ShellIdle"), t.m_bIsIdle = !0, t.m_cbShellOpen && t.m_cbShellOpen(t.m_AwardData, t.m_iShowDatID), t.m_nodePoolAward.put(t.m_nodeTempDrop)
                }, this.DELAY_TIME, this.MOVE_TIME))
            }, e.prototype.Clear = function() {
                this.m_animShell.stop(), this.m_animShell.play(a.Idle), this.m_cbShellOpen = null, this.m_AwardData = null, this.m_currentAnim = null, this.m_iShowDatID = -1, null != this.m_nodeTempDrop && this.m_nodePoolAward.put(this.m_nodeTempDrop)
            }, r([p(cc.Node)], e.prototype, "m_Root", void 0), r([p(cc.Prefab)], e.prototype, "m_pfDropAward", void 0), r([p(cc.Animation)], e.prototype, "m_animShell", void 0), r([u], e)
        }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishOceanHeartDropItem": "FishOceanHeartDropItem"
    }],
    FishOceanHeartTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7cb92EHOPlA0KTYUkFPrZEW", "FishOceanHeartTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../CommunityBonus/Script/CommBonusTotalProgress"),
            s = t("../../../Component/AudioMgr"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMermaidFull = null, e.m_nodeMermaidNear = null, e.m_nodeProgressRoot = null, e.m_nodeNecklace = null, e.m_nodeFullNecklace = null, e.m_aniNecklaceAppear = null, e.m_aniNecklaceComplete = null, e.m_fucEachTokenShowEndCB = null, e
                }
                return i(e, t), e.prototype.Init = function() {
                    console.warn("\u521d\u59cb\uff0c\u5927\u7f8e\u4eba\u9b5a\u6c92\u6234\u9805\u934a"), this.m_nodeProgressRoot.opacity = 255, this.m_nodeMermaidFull.opacity = 255, this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidNear.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_aniNecklaceComplete.node.opacity = 0, this.m_nodeNecklace.opacity = 0, this.setTokens(0)
                }, e.prototype.checkAllTokenShowEnd = function() {
                    t.prototype.checkAllTokenShowEnd.call(this), this.m_fucEachTokenShowEndCB && this.m_fucEachTokenShowEndCB()
                }, e.prototype.setEachTokenShowEndCB = function(t) {
                    this.m_fucEachTokenShowEndCB = t
                }, e.prototype.GetTokenNode = function() {
                    for (var t = [], e = 0; e < this.m_arrTokenCtrlList.length; e++) {
                        var o = this.m_arrTokenCtrlList[e].node.parent.convertToWorldSpaceAR(this.m_arrTokenCtrlList[e].node.getPosition());
                        t.push(o)
                    }
                    return t
                }, e.prototype.ShowStartMermaid = function() {
                    s.AudioMgr.Instance.Play("Mermaid", !1, 1), console.warn("\u672a\u6eff9\u500b\uff0c\u7f8e\u4eba\u9b5a\u986f\u793a\u534a\u8eab"), this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidFull.opacity = 255, this.m_nodeMermaidFull.scale = 1;
                    var t = cc.scaleTo(1.5, .8).easing(cc.easeBackInOut()),
                        e = cc.fadeOut(1.5),
                        o = cc.spawn(t, e);
                    this.m_nodeMermaidFull.runAction(o), this.m_nodeMermaidNear.opacity = 0;
                    var n = cc.delayTime(1),
                        i = cc.fadeIn(1),
                        r = cc.callFunc(this.ShowNecklaceAppear.bind(this)),
                        a = cc.sequence(n, i, r);
                    this.m_nodeMermaidNear.runAction(a)
                }, e.prototype.ShowNecklaceAppear = function() {
                    var t = this;
                    s.AudioMgr.Instance.Play("PearlPlacement", !1, 1), this.m_nodeNecklace.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 255, this.m_aniNecklaceAppear.once(cc.Animation.EventType.FINISHED, function() {
                        t.m_aniNecklaceAppear.node.opacity = 0, t.m_nodeNecklace.opacity = 255
                    }), this.m_aniNecklaceAppear.play()
                }, e.prototype.ShowNecklackComplete = function(t) {
                    var e = this;
                    console.warn("\u9805\u934a\u96c6\u6eff\u52d5\u756b"), s.AudioMgr.Instance.Play("NinePearl", !1, 1), this.m_aniNecklaceComplete.once(cc.Animation.EventType.FINISHED, function() {
                        e.m_aniNecklaceComplete.node.opacity = 0
                    }), this.m_aniNecklaceComplete.node.opacity = 255, this.m_aniNecklaceComplete.play();
                    var o = cc.delayTime(2),
                        n = cc.callFunc(function() {
                            t && t()
                        });
                    this.node.runAction(cc.sequence(o, n))
                }, e.prototype.ShowChangeToFullMermaid = function() {
                    s.AudioMgr.Instance.Play("Mermaid", !1, 1), console.warn("\u96c6\u6eff9\u500b\uff0c\u7f8e\u4eba\u9b5a\u986f\u793a\u5168\u8eab"), this.m_nodeMermaidNear.opacity = 255;
                    var t = cc.fadeOut(.5);
                    this.m_nodeMermaidNear.runAction(t), this.m_nodeProgressRoot.opacity = 255, this.m_nodeProgressRoot.runAction(cc.fadeOut(.5)), this.m_nodeNecklace.opacity = 255, this.m_nodeNecklace.runAction(cc.fadeOut(.5)), this.m_nodeFullNecklace.opacity = 255, this.m_nodeMermaidFull.opacity = 0, this.m_nodeMermaidFull.scale = .8;
                    var e = cc.fadeIn(.5),
                        o = cc.scaleTo(.5, 1),
                        n = cc.spawn(e, o);
                    this.m_nodeMermaidFull.runAction(n)
                }, e.prototype.ShowNearMermaid = function(t) {
                    this.m_nodeProgressRoot.opacity = 255, this.m_aniNecklaceComplete.node.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_nodeMermaidFull.opacity = 0, this.m_nodeFullNecklace.opacity = 0, this.m_nodeMermaidNear.opacity = 255, this.m_nodeNecklace.opacity = 255, t && this.ShowNecklaceAppear()
                }, e.prototype.ShowFullMermaid = function() {
                    console.warn("\u5927\u7f8e\u4eba\u9b5a\u51fa\u73fe"), this.m_nodeFullNecklace.opacity = 255, this.m_nodeMermaidFull.opacity = 255, this.m_nodeMermaidNear.opacity = 0, this.m_nodeNecklace.opacity = 0, this.m_nodeProgressRoot.opacity = 0, this.m_aniNecklaceAppear.node.opacity = 0, this.m_aniNecklaceComplete.node.opacity = 0
                }, e.prototype.showOneByOne = function(t, e, o) {
                    console.warn("\u98db\u5df2\u7372\u5f97\u73cd\u73e0, index =" + t + ", \u6578\u91cf = " + e);
                    for (var n = 0; n < e; n++) {
                        var i = t + n;
                        if (!this.m_arrTokenCtrlList[i]) return;
                        this.m_iFlyTokenCtr++;
                        var r = this.m_arrTokenCtrlList[i];
                        r.m_fucShowStartCB = this.m_fucTokenShowStartCB, r.showFlyToken(n, o)
                    }
                }, r([u(cc.Node)], e.prototype, "m_nodeMermaidFull", void 0), r([u(cc.Node)], e.prototype, "m_nodeMermaidNear", void 0), r([u(cc.Node)], e.prototype, "m_nodeProgressRoot", void 0), r([u(cc.Node)], e.prototype, "m_nodeNecklace", void 0), r([u(cc.Node)], e.prototype, "m_nodeFullNecklace", void 0), r([u(cc.Animation)], e.prototype, "m_aniNecklaceAppear", void 0), r([u(cc.Animation)], e.prototype, "m_aniNecklaceComplete", void 0), r([l], e)
            }(a.CommBonusTotalProgress);
        o.default = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../CommunityBonus/Script/CommBonusTotalProgress": "CommBonusTotalProgress"
    }],
    FishPuzzleEggAwardMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5cc31QETBtKzKv4YQuYqGcO", "FishPuzzleEggAwardMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggAwardMgr = o.PUZZLE_GET_AWARD_STATE = void 0;
        var a, s = t("../../../Component/AudioMgr"),
            c = t("../../../Connect/Script/ConnectPanelMgr"),
            l = t("../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            u = t("../../../FakeScoreBox/Script/GetBonusShow"),
            p = t("../../CommunityBonus/Script/CommBonusCoinCtrl"),
            m = t("./FishPuzzleEggData"),
            h = t("./FishPuzzleEggPuzzlePage"),
            d = t("./FishPuzzleEggPuzzlePageMgr"),
            _ = cc._decorator,
            g = _.ccclass,
            f = _.property;
        (function(t) {
            t[t.Init = 1] = "Init", t[t.ShowCompleteEffect = 2] = "ShowCompleteEffect", t[t.WaitClick = 3] = "WaitClick", t[t.SendAndWaitRecv = 4] = "SendAndWaitRecv", t[t.ShowAwardEffect = 5] = "ShowAwardEffect", t[t.End = 6] = "End"
        })(a = o.PUZZLE_GET_AWARD_STATE || (o.PUZZLE_GET_AWARD_STATE = {}));
        var y = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_funCollectAward = null, e.m_funAwardComplete = null, e.m_nodeRoot = null, e.m_nodeBlack = null, e.m_nodePuzzleRoot = null, e.m_nodeCompleteRoot = null, e.m_nodeAwardRoot = null, e.m_nodeFakeScoreRoot = null, e.m_FakeScoreBoxCtrl = null, e.m_CommBonusCoinCtrl = null, e.m_labAward = null, e.m_aryAwardTitleFrame = [], e.m_spAwardTitle = null, e.m_aryPieceSpriteFrame = [], e.m_spPuzzleIcon = null, e.m_nodeTouchClose = null, e.m_nodeTouchCollectBtn = null, e.m_animCompleteEffect = null, e.m_aryCompleteParticle = [], e.m_animAwardEffect = null, e.m_aryAwardParticle = [], e.m_getBonusShow = null, e.m_nodeSeatL = null, e.m_nodeSeatR = null, e.m_nodeInGameCoinStartPos = null, e.m_nodeCloseBtn = null, e.m_labFinalGetAward = null, e.m_aryPuzzlePageMember = [], e.m_iState = -1, e.m_awardData = null, e.m_iSeat = 0, e.m_bIsInLobby = !1, e
            }
            return i(e, t), e.prototype._onLoad = function() {
                this.m_nodeRoot.active = !1
            }, e.prototype._start = function() {}, e.prototype._onDestroy = function() {
                this.m_nodePuzzleRoot && this.m_nodePuzzleRoot.destroyAllChildren(), this.m_aryPuzzlePageMember = []
            }, e.prototype.Init = function(t) {
                console.log("FishPuzzleEggAwardMgr INIT, memberAry.len = " + t.length);
                for (var e = 0; e < t.length; e++) {
                    var o = new d.FishPuzzlePageMember;
                    o.strPuzzleType = t[e].strPuzzleType, o.nodeRoot = cc.instantiate(t[e].nodeRoot), o.nodeRoot.setParent(this.m_nodePuzzleRoot), o.nodeRoot.setScale(cc.Vec2.ONE), o.nodeRoot.setPosition(cc.Vec2.ZERO), o.ctrl = o.nodeRoot.getComponent(h.default), o.ctrl.ShowAllPieces(), o.nodeRoot.active = !1, this.m_aryPuzzlePageMember.push(o)
                }
                this.ChangeState(a.Init)
            }, e.prototype.Clear = function() {
                this.m_nodeRoot.active = !1;
                for (var t = 0; t < this.m_aryPuzzlePageMember.length; t++) this.m_aryPuzzlePageMember[t] && (this.m_aryPuzzlePageMember[t].nodeRoot.active = !1)
            }, e.prototype.ChangeState = function(t) {
                if (console.log("FishPuzzleEggAwardMgr ChangeState, state = " + t.toString()), this.m_iState != t) switch (this.m_iState = t, t) {
                    case a.Init:
                        this.OnSateInit();
                        break;
                    case a.ShowCompleteEffect:
                        this.OnSateShowComplete();
                        break;
                    case a.WaitClick:
                        this.OnStateWaitClick();
                        break;
                    case a.SendAndWaitRecv:
                        this.OnStateSendAndWaitRecv();
                        break;
                    case a.ShowAwardEffect:
                        this.OnStateShowAward();
                        break;
                    case a.End:
                        this.OnStateEnd()
                }
            }, e.prototype.ShowAward = function(t, e, o, n, i, r) {
                this.m_iState == a.Init && (this.m_ShowType = t, this.m_bIsInLobby = e, this.m_iStartBalance = o, this.m_awardData = n, this.m_funCollectAward = i, this.m_funAwardComplete = r, this.ChangeState(a.ShowCompleteEffect))
            }, e.prototype.OnRecvCollectQuest = function(t, e, o, n, i) {
                this.m_iSeat = t, this.m_bIsInLobby = n, this.m_ShowType = o, this.m_iFinalBalance = i, this.m_iThisWin = e * this.m_awardData.ExchangeRate, this.m_labFinalGetAward.string = "$" + this.m_iThisWin.toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_iState == a.SendAndWaitRecv && this.ChangeState(a.ShowAwardEffect)
            }, e.prototype.OnSateInit = function() {
                this.m_awardData = null, this.m_nodeBlack.active = !0, this.m_FakeScoreBoxCtrl.node.active = !1, this.m_animAwardEffect.node.scale = 0, this.m_nodeCompleteRoot.active = !1, this.m_nodeAwardRoot.active = !1, this.m_nodeFakeScoreRoot.active = !1, this.m_nodeTouchClose.active = !1, this.m_nodeTouchCollectBtn.active = !1, this.Clear()
            }, e.prototype.OnSateShowComplete = function() {
                var t = this;
                this.m_nodeRoot.active = !0, this.m_nodeCompleteRoot.active = !0;
                var e = this.m_awardData.PuzzleType,
                    o = this.FindPuzzleNode(e);
                if (!o) return console.error("ShowAward, type = " + e + "not find"), void this.OnClosePage();
                o.active = !0, this.SetTitle(this.m_awardData), this.m_bIsInLobby && (this.m_FakeScoreBoxCtrl.node.active = !0, this.m_FakeScoreBoxCtrl.show(this.m_ShowType, this.m_iStartBalance)), this.m_aryCompleteParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_animCompleteEffect.node.active = !0, this.m_animCompleteEffect.play(), s.AudioMgr.Instance.Play(m.PUZZLE_SOUND.PUZZLE_COMPLETE, !1, 1), this.scheduleOnce(function() {
                    t.m_animCompleteEffect.node.active = !1, t.m_nodeTouchClose.active = !0, t.m_nodeTouchCollectBtn.active = !0, t.ChangeState(a.WaitClick)
                }, 3.5)
            }, e.prototype.OnStateWaitClick = function() {
                var t = this;
                this.scheduleOnce(function() {
                    t.m_iState == a.WaitClick && (console.log("\u8a08\u6642\u4e94\u79d2\u81ea\u52d5\u9818\u53d6"), t.OnCollectAward())
                }, 5)
            }, e.prototype.OnStateSendAndWaitRecv = function() {
                c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_nodeTouchCollectBtn.active = !1, null != this.m_funCollectAward && this.m_funCollectAward()
            }, e.prototype.OnStateShowAward = function() {
                var t = this;
                this.m_nodeCloseBtn.active = !1, this.m_nodeCompleteRoot.active = !1, this.m_nodeAwardRoot.active = !0;
                var e = "Reward_" + this.m_awardData.PuzzleType;
                console.error("OnStateShowAward, animName = " + e + ", PuzzleType = " + this.m_awardData.PuzzleType), this.m_aryAwardParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_animAwardEffect.play(e), s.AudioMgr.Instance.Play(m.PUZZLE_SOUND.PUZZLE_GET_AWARD, !1, 1), this.scheduleOnce(function() {
                    t.m_bIsInLobby ? (t.m_FakeScoreBoxCtrl.countUp(t.m_iFinalBalance, 1, function() {
                        t.m_nodeCloseBtn.active = !0
                    }.bind(t)), t.m_CommBonusCoinCtrl.coinMoveToTarget(.25, null)) : (t.m_nodeBlack.active = !1, t.m_nodeAwardRoot.active = !1, t.InGameGetCoinEffect())
                }, 3)
            }, e.prototype.InGameGetCoinEffect = function() {
                var t = this,
                    e = null;
                e = 0 == this.m_iSeat || 2 == this.m_iSeat ? this.m_nodeSeatL : this.m_nodeSeatR, this.m_getBonusShow.Show(this.m_nodeInGameCoinStartPos.getPosition(), e.convertToWorldSpaceAR(cc.Vec2.ZERO), function() {
                    t.OnClosePage()
                })
            }, e.prototype.OnStateEnd = function() {
                this.ChangeState(a.Init), this.m_funAwardComplete && this.m_funAwardComplete()
            }, e.prototype.FindPuzzleNode = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e].nodeRoot;
                return null
            }, e.prototype.SetTitle = function(t) {
                var e = m.PUZZLE_ITEM[t.PuzzleType].index;
                this.m_spAwardTitle.spriteFrame = this.m_aryAwardTitleFrame[e], this.m_spPuzzleIcon.spriteFrame = this.m_aryPieceSpriteFrame[e], 4 == t.Award.AwardType ? this.m_labAward.string = "$" + (t.Award.AwardEntries * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }) : 5 == t.Award.AwardType && (this.m_labAward.string = "$" + (t.Award.AwardWinnings * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }))
            }, e.prototype.OnClosePage = function() {
                this.ChangeState(a.End)
            }, e.prototype.OnCollectAward = function() {
                console.log("\u9ede\u64caOnCollectAward"), this.ChangeState(a.SendAndWaitRecv)
            }, r([f(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([f(cc.Node)], e.prototype, "m_nodeBlack", void 0), r([f(cc.Node)], e.prototype, "m_nodePuzzleRoot", void 0), r([f(cc.Node)], e.prototype, "m_nodeCompleteRoot", void 0), r([f(cc.Node)], e.prototype, "m_nodeAwardRoot", void 0), r([f(cc.Node)], e.prototype, "m_nodeFakeScoreRoot", void 0), r([f(l.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([f(p.CommBonusCoinCtrl)], e.prototype, "m_CommBonusCoinCtrl", void 0), r([f(cc.Label)], e.prototype, "m_labAward", void 0), r([f([cc.SpriteFrame])], e.prototype, "m_aryAwardTitleFrame", void 0), r([f(cc.Sprite)], e.prototype, "m_spAwardTitle", void 0), r([f([cc.SpriteFrame])], e.prototype, "m_aryPieceSpriteFrame", void 0), r([f(cc.Sprite)], e.prototype, "m_spPuzzleIcon", void 0), r([f(cc.Node)], e.prototype, "m_nodeTouchClose", void 0), r([f(cc.Node)], e.prototype, "m_nodeTouchCollectBtn", void 0), r([f(cc.Animation)], e.prototype, "m_animCompleteEffect", void 0), r([f([cc.ParticleSystem])], e.prototype, "m_aryCompleteParticle", void 0), r([f(cc.Animation)], e.prototype, "m_animAwardEffect", void 0), r([f([cc.ParticleSystem])], e.prototype, "m_aryAwardParticle", void 0), r([f(u.GetBonusShow)], e.prototype, "m_getBonusShow", void 0), r([f(cc.Node)], e.prototype, "m_nodeSeatL", void 0), r([f(cc.Node)], e.prototype, "m_nodeSeatR", void 0), r([f(cc.Node)], e.prototype, "m_nodeInGameCoinStartPos", void 0), r([f(cc.Node)], e.prototype, "m_nodeCloseBtn", void 0), r([f(cc.Label)], e.prototype, "m_labFinalGetAward", void 0), r([g], e)
        }(cc.Component);
        o.FishPuzzleEggAwardMgr = y, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../FakeScoreBox/Script/GetBonusShow": "GetBonusShow",
        "../../CommunityBonus/Script/CommBonusCoinCtrl": "CommBonusCoinCtrl",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPuzzlePage": "FishPuzzleEggPuzzlePage",
        "./FishPuzzleEggPuzzlePageMgr": "FishPuzzleEggPuzzlePageMgr"
    }],
    FishPuzzleEggAwardPanelMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7fabb/debFG6pQ0Uf80NHlF", "FishPuzzleEggAwardPanelMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggAwardPanelMgr = void 0;
        var c = t("../../../Component/AudioMgr"),
            l = t("./FishPuzzleEggAwardPanelRowCtrl"),
            u = t("./FishPuzzleEggData"),
            p = t("./FishPuzzleEggPopupMgr"),
            m = t("../../../Component/BundleCtrl"),
            h = t("../../../Helper/EventSystem"),
            d = t("../../../Net/ClickLog"),
            _ = t("../../../Net/ClickLogEnum"),
            g = cc._decorator,
            f = g.ccclass,
            y = g.property,
            S = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_funOnClickClose = null, e.m_nodeRoot = null, e.m_pfAwardRow = null, e.m_nodeContent = null, e.m_nodeLoading = null, e.m_nodeNoHistory = null, e.m_animNo1Update = null, e.m_aryFishPuzzleEggPlayerRank = [], e.m_labMyID = null, e.m_labMyCount = null, e.m_labMyBonus = null, e.m_spMyAvatarFace = null, e.m_spMyAvatarFaceFrame = null, e.m_labMyNickName = null, e.m_labMyMobileID = null, e.m_arrPlayerAwardCtrl = [], e.m_strTmpNo1ID = "", e.m_nodePool = null, e.m_strArkID = "", e.m_numOriginSiblingIndex = 0, e
                }
                return i(e, t), Object.defineProperty(e.prototype, "CheckPanelOpen", {
                    get: function() {
                        return this.m_nodeRoot.active
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype._init = function() {
                    this.ShowLoading(!0), this.m_nodeNoHistory.active = !1, this.m_nodeRoot.active = !1, this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_pfAwardRow);
                        this.m_nodePool.put(e)
                    }
                    this.m_labMyID.string = "-", this.m_labMyCount.string = "-", this.m_labMyBonus.string = "-", this.m_labMyNickName.string = "-", this.m_spMyAvatarFace.spriteFrame = null, this.m_spMyAvatarFaceFrame.spriteFrame = null, this.m_strArkID = "", this.m_labMyMobileID.string = "Mobile ID : " + SS.Network.UserClient.UserInfo.mobile_id
                }, e.prototype._onDestroy = function() {}, e.prototype.onLoad = function() {
                    h.EventSystem.Event(h.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), h.EventSystem.Event(h.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), h.EventSystem.Event(h.Avatar.SetNickname).Insert(this.SetNickname, this), h.EventSystem.Event(h.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this), h.EventSystem.Event(h.Avatar.SetFaceIcon).Insert(this.SetFaceSpriteTop3, this), h.EventSystem.Event(h.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSpriteTop3, this), h.EventSystem.Event(h.Avatar.SetNickname).Insert(this.SetNicknameTop3, this), h.EventSystem.Event(h.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerDataTop3, this)
                }, e.prototype.onDestroy = function() {
                    h.EventSystem.Event(h.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), h.EventSystem.Event(h.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), h.EventSystem.Event(h.Avatar.SetNickname).Remove(this.SetNickname, this), h.EventSystem.Event(h.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this), h.EventSystem.Event(h.Avatar.SetFaceIcon).Remove(this.SetFaceSpriteTop3, this), h.EventSystem.Event(h.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSpriteTop3, this), h.EventSystem.Event(h.Avatar.SetNickname).Remove(this.SetNicknameTop3, this), h.EventSystem.Event(h.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerDataTop3, this)
                }, e.prototype.Show = function(t, e, o) {
                    if (t) {
                        if (this.m_nodeRoot.active = !0, this.setOnTop(), this.UpdateRankingList(t), null != e)
                            for (var n = 0; n < e.length; n++) e[n].pin_ark_id == SS.Network.LoginModel.LoginInfo.pin_ark_id && (e[n].AvatarID = SS.Network.UserClient.UserInfo.avatar_id, e[n].AvatarFrameID = SS.Network.UserClient.UserInfo.avatar_frame_id, e[n].Nickname = SS.Network.UserClient.UserInfo.nickname);
                        null != e && this.UpdateHistoryList(e, o)
                    }
                }, e.prototype.UpdateRankingList = function(t) {
                    var e = t.RankList;
                    this.SetRankingBoard(e);
                    var o = t.PlayerData;
                    o && (o.Nickname = SS.Network.UserClient.UserInfo.nickname, o.AvatarID = SS.Network.UserClient.UserInfo.avatar_id, o.AvatarFrameID = SS.Network.UserClient.UserInfo.avatar_frame_id, o.pin_ark_id = SS.Network.LoginModel.LoginInfo.pin_ark_id, this.SetPlayerData(o.RankingID, o.FinishAmount, o.WinAmount, o.AvatarID, o.AvatarFrameID, o.Nickname, o.pin_ark_id))
                }, e.prototype.UpdateHistoryList = function(t, e) {
                    if (this.ShowLoading(!1), 0 == t.length) this.m_nodeNoHistory.active = !0;
                    else {
                        this.m_nodeNoHistory.activeInHierarchy && (this.m_nodeNoHistory.active = !1);
                        for (var o = 0; o < t.length; o++) this.SetAwardList(o, t[o], t[o].RankingID == e)
                    }
                }, e.prototype.ShowLoading = function(t) {
                    this.m_nodeLoading.active = t
                }, e.prototype.Clear = function() {
                    var t = this;
                    this.ShowLoading(!1), this.m_nodeNoHistory.active = !1;
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].Clear();
                    this.m_arrPlayerAwardCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerAwardCtrl = [], this.SetPlayerData("-", 0, 0, "", "", "-", "", !0)
                }, e.prototype.SetPlayerData = function(t, e, o, n, i, r, c, l) {
                    return void 0 === l && (l = !1), a(this, void 0, void 0, function() {
                        var a, u;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return l || (this.m_labMyID.string = "No." + t), this.m_labMyCount.string = e > 0 ? e.toString() : "-", this.m_labMyBonus.string = o > 0 ? o.toLocaleString("en-US", {
                                        maximumFractionDigits: 2
                                    }) : "-", this.m_strArkID = c, this.m_labMyNickName.string = r, n && "" != n || (n = "FAC000"), [4, m.default.Instance.GetSpirte("Avatar", n)];
                                case 1:
                                    return a = s.sent(), this.m_spMyAvatarFace.spriteFrame = a || null, i && "" != i ? [4, m.default.Instance.GetSpirte("Avatar", i)] : [3, 3];
                                case 2:
                                    return (u = s.sent()) && (this.m_spMyAvatarFaceFrame.spriteFrame = u), [3, 4];
                                case 3:
                                    this.m_spMyAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.SetRankingBoard = function(t) {
                    var e = this;
                    if (t) {
                        var o = this.m_aryFishPuzzleEggPlayerRank.length,
                            n = 0;
                        null != t[0] && (n = this.CheckNo1(t[0].RankingID)), n > 0 && c.AudioMgr.Instance.Play(u.PUZZLE_SOUND.RANK_UPDATE, !1, 1), this.scheduleOnce(function() {
                            for (var n = 0; n < o; n++) e.m_aryFishPuzzleEggPlayerRank[n].Clear();
                            for (n = 0; n < t.length && n < o; n++) e.m_aryFishPuzzleEggPlayerRank[n].Show(t[n].RankingID, t[n].WinAmount, t[n].AvatarID, t[n].AvatarFrameID, t[n].Nickname, t[n].pin_ark_id)
                        }, n)
                    }
                }, e.prototype.CheckNo1 = function(t) {
                    var e = 0;
                    return "" != this.m_strTmpNo1ID && this.m_strTmpNo1ID != t && (e = .25, this.m_animNo1Update.play()), this.m_strTmpNo1ID = t, e
                }, e.prototype.SetAwardList = function(t, e, o) {
                    if (null != e) {
                        var n = this.m_arrPlayerAwardCtrl[t];
                        if (null == n) {
                            var i = cc.instantiate(this.m_pfAwardRow);
                            i.parent = this.m_nodeContent, n = i.getComponent(l.default), this.m_arrPlayerAwardCtrl.push(n)
                        }
                        n.init(e.Time, e.RankingID, e.FinishAmount, e.WinAmount, o, e.AvatarID, e.AvatarFrameID, e.Nickname, e.pin_ark_id)
                    }
                }, e.prototype.OnClose = function() {
                    this.m_funOnClickClose && this.m_funOnClickClose(), this.m_nodeRoot.active = !1, this.ResetSiblingIndex()
                }, e.prototype.onClickProfileBtn = function(t, e) {
                    var o = Number(e);
                    if (!(o >= this.m_aryFishPuzzleEggPlayerRank.length || o < 0)) {
                        var n = this.m_aryFishPuzzleEggPlayerRank[o].GetArkID(),
                            i = n == SS.Network.LoginModel.LoginInfo.pin_ark_id;
                        if (h.EventSystem.Event(h.Profile.OpenProfile).Length > 0 && "" != n && null != n)
                            if (h.EventSystem.Event(h.Profile.OpenProfile).Notify(i, n), i) switch (o) {
                                case 0:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenPanel, _.LogEvent_OpenPanel.InPuzzleEgg_1stPlace);
                                    break;
                                case 1:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenPanel, _.LogEvent_OpenPanel.InPuzzleEgg_2ndPlace);
                                    break;
                                case 2:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenPanel, _.LogEvent_OpenPanel.InPuzzleEgg_3rdPlace)
                            } else switch (o) {
                                case 0:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenOthersPanel, _.LogEvent_OpenOthersPanel.InPuzzleEgg_1stPlace);
                                    break;
                                case 1:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenOthersPanel, _.LogEvent_OpenOthersPanel.InPuzzleEgg_2ndPlace);
                                    break;
                                case 2:
                                    d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenOthersPanel, _.LogEvent_OpenOthersPanel.InPuzzleEgg_3rdPlace)
                            }
                    }
                }, e.prototype.onClickSelfProfileBtn = function() {
                    h.EventSystem.Event(h.Profile.OpenProfile).Length > 0 && (h.EventSystem.Event(h.Profile.OpenProfile).Notify(!0, this.m_strArkID), d.ClickLog.recordClickLog(_.LogName.Profile, -1, _.LogType_Profile.OpenPanel, _.LogEvent_OpenPanel.InPuzzleEgg))
                }, e.prototype.setOnTop = function() {
                    this.m_numOriginSiblingIndex = this.node.getSiblingIndex();
                    for (var t = this.node.parent.children, e = -1, o = 0; o < t.length; o++) e = e > t[o].getSiblingIndex() ? e : t[o].getSiblingIndex();
                    e++, this.node.setSiblingIndex(e)
                }, e.prototype.ResetSiblingIndex = function() {
                    this.node.setSiblingIndex(this.m_numOriginSiblingIndex)
                }, e.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labMyNickName && (this.m_labMyNickName.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spMyAvatarFace && (this.m_spMyAvatarFace.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spMyAvatarFaceFrame && (this.m_spMyAvatarFaceFrame.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, m.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spMyAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, m.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spMyAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spMyAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.SetByPlayerDataTop3 = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].SetByPlayerData(t)
                }, e.prototype.SetNicknameTop3 = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].SetNickname(t)
                }, e.prototype.SetFaceSpriteTop3 = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].SetFaceSprite(t)
                }, e.prototype.SetFrameSpriteTop3 = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].SetFrameSprite(t)
                }, r([y(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([y(cc.Prefab)], e.prototype, "m_pfAwardRow", void 0), r([y(cc.Node)], e.prototype, "m_nodeContent", void 0), r([y(cc.Node)], e.prototype, "m_nodeLoading", void 0), r([y(cc.Node)], e.prototype, "m_nodeNoHistory", void 0), r([y(cc.Animation)], e.prototype, "m_animNo1Update", void 0), r([y([p.FishPuzzleEggPlayerRank])], e.prototype, "m_aryFishPuzzleEggPlayerRank", void 0), r([y(cc.Label)], e.prototype, "m_labMyID", void 0), r([y(cc.Label)], e.prototype, "m_labMyCount", void 0), r([y(cc.Label)], e.prototype, "m_labMyBonus", void 0), r([y(cc.Sprite)], e.prototype, "m_spMyAvatarFace", void 0), r([y(cc.Sprite)], e.prototype, "m_spMyAvatarFaceFrame", void 0), r([y(cc.Label)], e.prototype, "m_labMyNickName", void 0), r([y(cc.Label)], e.prototype, "m_labMyMobileID", void 0), r([f], e)
            }(cc.Component);
        o.FishPuzzleEggAwardPanelMgr = S, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/BundleCtrl": "BundleCtrl",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/ClickLog": "ClickLog",
        "../../../Net/ClickLogEnum": "ClickLogEnum",
        "./FishPuzzleEggAwardPanelRowCtrl": "FishPuzzleEggAwardPanelRowCtrl",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPopupMgr": "FishPuzzleEggPopupMgr"
    }],
    FishPuzzleEggAwardPanelRowCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b36dcIKpxZGoamgfNUIHlp6", "FishPuzzleEggAwardPanelRowCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var c = t("../../../Component/BundleCtrl"),
            l = t("../../../Helper/EventSystem"),
            u = t("../../../Net/ClickLog"),
            p = t("../../../Net/ClickLogEnum"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labTime = null, e.m_labID = null, e.m_labCount = null, e.m_labBonus = null, e.m_spBG = null, e.m_sfAryBG = [], e.m_spAvatarFace = null, e.m_spAvatarFaceFrame = null, e.m_labNickName = null, e.m_strArkID = "", e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Insert(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Remove(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.init = function(t, e, o, n, i, r, l, u, p) {
                    return a(this, void 0, void 0, function() {
                        var a, m;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.m_labTime.string = t, this.m_labID.string = "No." + e, this.m_labCount.string = "" + o.toString(), this.m_labBonus.string = n.toLocaleString("en-US", {
                                        maximumFractionDigits: 2
                                    }), this.m_spBG.spriteFrame = i ? this.m_sfAryBG[1] : this.m_sfAryBG[0], this.m_strArkID = p, this.m_labNickName.string = u, r && "" != r || (r = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", r)];
                                case 1:
                                    return a = s.sent(), this.m_spAvatarFace.spriteFrame = a || null, l && "" != l ? [4, c.default.Instance.GetSpirte("Avatar", l)] : [3, 3];
                                case 2:
                                    return (m = s.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = m), [3, 4];
                                case 3:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.Clear = function() {
                    this.m_labTime.string = "", this.m_labID.string = "", this.m_labCount.string = "", this.m_labBonus.string = "", this.m_strArkID = ""
                }, e.prototype.onClickProfileBtn = function() {
                    return a(this, void 0, void 0, function() {
                        var t;
                        return s(this, function() {
                            return t = this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id, l.EventSystem.Event(l.Profile.OpenProfile).Length > 0 && "" != this.m_strArkID && null != this.m_strArkID && (l.EventSystem.Event(l.Profile.OpenProfile).Notify(t, this.m_strArkID), t ? u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InPuzzleEgg_OutsideTop3) : u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenOthersPanel, p.LogEvent_OpenOthersPanel.InPuzzleEgg_OutsideTop3)), [2]
                        })
                    })
                }, e.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labNickName && (this.m_labNickName.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFace && (this.m_spAvatarFace.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFaceFrame && (this.m_spAvatarFaceFrame.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, c.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, r([d(cc.Label)], e.prototype, "m_labTime", void 0), r([d(cc.Label)], e.prototype, "m_labID", void 0), r([d(cc.Label)], e.prototype, "m_labCount", void 0), r([d(cc.Label)], e.prototype, "m_labBonus", void 0), r([d(cc.Sprite)], e.prototype, "m_spBG", void 0), r([d([cc.SpriteFrame])], e.prototype, "m_sfAryBG", void 0), r([d(cc.Sprite)], e.prototype, "m_spAvatarFace", void 0), r([d(cc.Sprite)], e.prototype, "m_spAvatarFaceFrame", void 0), r([d(cc.Label)], e.prototype, "m_labNickName", void 0), r([h], e)
            }(cc.Component);
        o.default = _, cc._RF.pop()
    }, {
        "../../../Component/BundleCtrl": "BundleCtrl",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/ClickLog": "ClickLog",
        "../../../Net/ClickLogEnum": "ClickLogEnum"
    }],
    FishPuzzleEggData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "079dbtln7FA1KlLjwOAQCR5", "FishPuzzleEggData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PUZZLE_SOUND = o.PuzzleClickLogID = o.PUZZLE_ITEM_DEFINE = o.PUZZLE_ITEM = o.PUZZLE_TYPE = o.FishPEHistoryPlayerData = o.FishPERankingPlayerData = o.FishPERankingListData = o.FishPEUserQuestDataStatus = o.FishPEAward = o.FishPuzzleEventData = void 0;
        o.FishPuzzleEventData = function() {
            this.CurPuzzleProgress = {}, this.PuzzleProgressInit = {}, this.PuzzleProgressTarget = {}, this.Status = -1, this.CurGetNewPuzzleProgress = {}, this.TmpPieceAmount = 0, this.TmpCompleteTimes = 0
        };
        o.FishPEAward = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.FishPEUserQuestDataStatus || (o.FishPEUserQuestDataStatus = {}));
        var n = function() {
            function t() {
                this.PlayerData = null, this.RankList = []
            }
            return t.prototype.Clear = function() {
                this.PlayerData && this.PlayerData.Clear(), this.RankList = []
            }, t
        }();
        o.FishPERankingListData = n;
        var i = function() {
            function t() {}
            return t.prototype.Clear = function() {
                this.Rank = -1, this.WinAmount = 0, this.FinishAmount = 0, this.RankingID = "-", this.pin_ark_id = "", this.AvatarID = "", this.AvatarFrameID = "", this.Nickname = "-"
            }, t
        }();
        o.FishPERankingPlayerData = i;
        o.FishPEHistoryPlayerData = function() {}, o.PUZZLE_TYPE = {
                Copper: "Copper",
                Sliver: "Sliver",
                Gold: "Gold",
                Coin: "Coin"
            }, o.PUZZLE_ITEM = {
                Copper: {
                    index: 0,
                    dropID: 1
                },
                Sliver: {
                    index: 1,
                    dropID: 2
                },
                Gold: {
                    index: 2,
                    dropID: 3
                },
                Coin: {
                    index: 3,
                    dropID: 5
                }
            },
            function(t) {
                t[t.CopperPuzzle = 1] = "CopperPuzzle", t[t.SliverPuzzle = 2] = "SliverPuzzle", t[t.GoldPuzzle = 3] = "GoldPuzzle", t[t.Entry = 4] = "Entry", t[t.Winning = 5] = "Winning"
            }(o.PUZZLE_ITEM_DEFINE || (o.PUZZLE_ITEM_DEFINE = {})),
            function(t) {
                t[t.FLOAT_BTN = 0] = "FLOAT_BTN", t[t.POPUP_MORE = 1] = "POPUP_MORE", t[t.MAIN_INFO_PAGE = 2] = "MAIN_INFO_PAGE", t[t.MAIN_RANK_PAGE = 3] = "MAIN_RANK_PAGE"
            }(o.PuzzleClickLogID || (o.PuzzleClickLogID = {})),
            function(t) {
                t.TIPS_SHOW = "RabbitSound", t.BTN_CLICK = "ButtonTouch", t.RANK_UPDATE = "NewNo1", t.PUZZLE_SCROLL_START = "PuzzleChoose", t.PUZZLE_SCROLL_STOP = "PuzzleStop", t.PUZZLE_PIECE_COLLECT_START = "RedMove", t.PUZZLE_PIECE_COLLECT_DONE = "PuzzleShow", t.EGG_DROP = "EggDrop", t.EGG_OPEN = "EggOpen", t.EGG_OPEN_COIN = "EggMoney", t.GET_PIECE_FLY = "PuzzleFly", t.GET_PIECE_COPPER = "Copper", t.GET_PIECE_SILVER = "Silver", t.GET_PIECE_GOLD = "Golden", t.GET_PIECE_REPEAT = "Repeat", t.GET_PIECE_FULL = "PuzzleNine", t.PUZZLE_COMPLETE = "PuzzleDone", t.PUZZLE_GET_AWARD = "PuzzleBoom"
            }(o.PUZZLE_SOUND || (o.PUZZLE_SOUND = {})), cc._RF.pop()
    }, {}],
    FishPuzzleEggDropEgg: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "59da1HR171NI4vyJlKHpF2Y", "FishPuzzleEggDropEgg");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggDropEgg = void 0;
        var a = t("../../../Component/AudioMgr"),
            s = t("./FishPuzzleEggData"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_animEgg = null, e.m_spItemIcon = null, e.m_labCoin = null, e.m_aryParticle = [], e
                }
                return i(e, t), e.prototype.Init = function(t, e, o, n, i, r, c, l, u) {
                    var p = this,
                        m = !1;
                    t ? n <= s.PUZZLE_ITEM_DEFINE.GoldPuzzle ? (this.m_labCoin.node.active = !1, this.m_spItemIcon.node.active = !0) : (m = !0, this.m_labCoin.node.active = !0, this.m_spItemIcon.node.active = !1, this.m_labCoin.string = i.toString()) : (this.m_labCoin.node.active = !1, this.m_spItemIcon.node.active = !1), this.node.opacity = 255, this.node.setPosition(r);
                    var h = c.sub(this.node.getPosition()).mag(),
                        d = Math.max(.5, .001 * h);
                    if (console.warn("\u9053\u5177\u6389\u843d \u8ddd\u96e2 = " + h + ", \u6642\u9593 = " + d + ", start_pos = (" + r.x + ", " + r.y + "), move_to = (" + c.x + ", " + c.y + ")"), t)
                        if (m) f = cc.sequence(cc.callFunc(function() {
                            a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_DROP, !1, 1), p.m_animEgg.play()
                        }), cc.delayTime(1), cc.callFunc(function() {
                            a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_OPEN, !1, 1)
                        }), cc.delayTime(1.5), cc.callFunc(function() {
                            p.m_aryParticle.forEach(function(t) {
                                t.resetSystem()
                            }), u && (p.m_labCoin.node.active = !1, a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_OPEN_COIN, !1, 1), u(o))
                        })), this.node.runAction(f);
                        else {
                            var _ = [],
                                g = this.BezierMidPoint(r, c, .5);
                            _.push(r), _.push(g), _.push(c);
                            var f = cc.sequence(cc.callFunc(function() {
                                a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_DROP, !1, 1), p.m_animEgg.play()
                            }), cc.delayTime(1), cc.callFunc(function() {
                                a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_OPEN, !1, 1)
                            }), cc.delayTime(1.5), cc.callFunc(function() {
                                a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.GET_PIECE_FLY, !1, 1), l && l()
                            }), cc.bezierTo(d, _), cc.delayTime(.01), cc.callFunc(function() {
                                p.m_aryParticle.forEach(function(t) {
                                    t.resetSystem()
                                }), u && u(o)
                            }));
                            this.node.runAction(f)
                        }
                    else f = cc.sequence(cc.callFunc(function() {
                        a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.EGG_DROP, !1, 1), p.m_animEgg.play("EggDrop")
                    }), cc.delayTime(1.5), cc.callFunc(function() {
                        p.node.opacity = 175, l && l()
                    }), cc.spawn(cc.moveTo(d, c), cc.fadeOut(d).easing(cc.easeQuarticActionIn())), cc.delayTime(.01), cc.callFunc(function() {
                        p.m_aryParticle.forEach(function(t) {
                            t.resetSystem()
                        }), u && u(o)
                    })), this.node.runAction(f)
                }, e.prototype.BezierMidPoint = function(t, e, o) {
                    var n = new cc.Vec2,
                        i = new cc.Vec2;
                    return n.x = (e.y - t.y) * o, n.y = (t.x - e.x) * o, n.y / n.x > 0 ? (n.x < 0 && (n.x *= -1), n.y < 0 && (n.y *= -1)) : (n.x > 0 && (n.x *= -1), n.y < 0 && (n.y *= -1)), i.x = (t.x + e.x) / 2 + n.x, i.y = (t.y + e.y) / 2 + n.y, i
                }, r([u(cc.Animation)], e.prototype, "m_animEgg", void 0), r([u(cc.Sprite)], e.prototype, "m_spItemIcon", void 0), r([u(cc.Label)], e.prototype, "m_labCoin", void 0), r([u([cc.ParticleSystem])], e.prototype, "m_aryParticle", void 0), r([l], e)
            }(cc.Component);
        o.FishPuzzleEggDropEgg = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggGetAwardState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "89f90p66A1KHIxcvOpMvGVW", "FishPuzzleEggGetAwardState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggGetAwardState = void 0;
        var n = t("../../../../FakeScoreBox/Script/FakeScoreBoxCtrl"),
            i = t("../../../../Net/LobbyClient"),
            r = t("../../../../PopupMessage/Script/PopupMsgMgr"),
            a = t("../FishPuzzleEggData"),
            s = function() {
                function t() {
                    this.m_curAwardData = new a.FishPuzzleEventData, this.m_bAwardFinish = !1, this.m_iThisWin = 0, this.m_iFinalBalance = 0, this.m_icurAwardType = ""
                }
                return Object.defineProperty(t.prototype, "GetCurAwardingType", {
                    get: function() {
                        return this.m_icurAwardType
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.PreUpdate = function() {
                    this.target.EVENT_OPEN_UI && this.target.EVENT_OPEN_UI(), this.target.m_IconMgr.ShowIcon(!1), this.CheckAward()
                }, t.prototype.Update = function() {
                    this.m_bAwardFinish && this.target.FishPuzzleEggFSM.SetCurrentState(this.target.IdleState)
                }, t.prototype.PostUpdate = function() {
                    this.target.GetAwardFinish(), this.m_iThisWin = 0, this.m_icurAwardType = "", this.m_curAwardData = null, this.target.m_AwardMgr.Clear()
                }, t.prototype.CheckAward = function() {
                    if (console.warn("[FishPuzzleEggGetAwardState] CheckAward"), this.target.m_aryTmpAwardData.length <= 0) this.m_bAwardFinish = !0;
                    else {
                        this.m_bAwardFinish = !1, this.m_curAwardData = this.target.m_aryTmpAwardData.shift(), this.m_icurAwardType = this.m_curAwardData.PuzzleType;
                        var t = 0;
                        this.target.m_bIsInLobby && (SS.Common.GameEnvironment.IsUseScoreBox ? this.m_curAwardData.Award.AwardType == a.PUZZLE_ITEM_DEFINE.Entry ? (t = this.target.m_LobbyMgr.UserEntries, this.m_showType = n.ShowType.ENTRIES) : this.m_curAwardData.Award.AwardType == a.PUZZLE_ITEM_DEFINE.Winning && (t = this.target.m_LobbyMgr.UserWinnings, this.m_showType = n.ShowType.WINNING) : (t = this.target.m_LobbyMgr.UserEntries + this.target.m_LobbyMgr.UserWinnings, this.m_showType = n.ShowType.CREDIT)), this.target.m_AwardMgr.ShowAward(this.m_showType, this.target.m_bIsInLobby, t, this.m_curAwardData, this.CollectCallback.bind(this), this.AwardCompleteCallback.bind(this))
                    }
                }, t.prototype.CollectCallback = function() {
                    console.log("CollectCallback"), this.target.m_bIsInLobby ? i.LobbyClient.Instance.GetUserClient.collectPuzzleQuest(this.m_curAwardData.QuestName, this.m_curAwardData.SerialNo, this.m_curAwardData.QuestLevel, this.rcvCollectPuzzleQuestAck.bind(this)) : this.target.EVENT_SEND_COLLECT_CMD && this.target.EVENT_SEND_COLLECT_CMD(this.m_curAwardData.QuestName, this.m_curAwardData.SerialNo, this.m_curAwardData.QuestLevel)
                }, t.prototype.AwardCompleteCallback = function() {
                    var t = this;
                    if (console.warn("[FishPuzzleEggGetAwardState] AwardCompleteCallback"), null == this.m_curAwardData) return console.error("[FishPuzzleEggGetAwardState] AwardCompleteCallback"), void this.target.EVENT_ERROR("C50");
                    var e = this.target.m_aryEventData.find(function(e) {
                        return e.PuzzleType == t.m_curAwardData.PuzzleType
                    });
                    e && (e.Status = a.FishPEUserQuestDataStatus.QUEST_NOT_DONE, e.TmpCompleteTimes++, e.TmpPieceAmount = 0, e.CurPuzzleProgressCount = 0, Object.keys(e.CurPuzzleProgress).forEach(function(t) {
                        e.CurPuzzleProgress[t] = 0, e.CurGetNewPuzzleProgress[t] = 0
                    }), this.target.m_IconMgr.ResetIconNumber(this.target.m_aryEventData, this.m_icurAwardType)), this.target.EVENT_GET_AWARD_FIN && this.target.EVENT_GET_AWARD_FIN(this.m_iThisWin, this.m_showType), this.CheckAward()
                }, t.prototype.rcvCollectPuzzleQuestAck = function(t, e) {
                    if (console.warn("\u5f69\u86cb\u62fc\u5716 \u5b8c\u6210\u62fc\u5716\u89e3\u6790, status = " + t + ", result = ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (0 == e.cmd_data.result) this.OnCollectQuest(0, e.cmd_data);
                        else switch (e.cmd_data.result) {
                            case 1:
                                r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Info, "S174", null, null, null), this.target.m_bIsInLobby && this.LobbySetUserBalance(e.cmd_data.playerInfo);
                                break;
                            case -999:
                                r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "S189", null, null, null)
                        } else this.target.ShowEventErrorMsg(t, e)
                }, t.prototype.OnCollectQuest = function(t, e) {
                    var o;
                    console.warn("\u5f69\u86cb\u62fc\u5716 \u5b8c\u6210\u62fc\u5716\u89e3\u6790, OnCollectQuest = ", e), e.data.AwardInfo[0] && (o = e.data.AwardInfo[0].Item, this.m_iThisWin = e.data.AwardInfo[0].Amount), SS.Common.GameEnvironment.IsUseScoreBox ? o == a.PUZZLE_ITEM_DEFINE.Entry ? (this.m_iFinalBalance = e.playerInfo.entries, this.m_showType = n.ShowType.ENTRIES) : o == a.PUZZLE_ITEM_DEFINE.Winning && (this.m_iFinalBalance = e.playerInfo.winning, this.m_showType = n.ShowType.WINNING) : (this.m_iFinalBalance = e.playerInfo.winnings + e.playerInfo.entries, this.m_showType = n.ShowType.CREDIT), this.target.m_bIsInLobby && this.LobbySetUserBalance(e.playerInfo), this.target.m_AwardMgr.OnRecvCollectQuest(t, this.m_iThisWin, this.m_showType, this.target.m_bIsInLobby, this.m_iFinalBalance)
                }, t.prototype.LobbySetUserBalance = function(t) {
                    var e = t.entries,
                        o = t.winnings;
                    console.log("lobbySetUserBalance~ entries = " + e + " winnings = " + o), this.target.m_bIsInLobby && (this.target.m_LobbyMgr.downBarMgr.SetUserBalance(e, o), this.target.m_LobbyMgr.UserEntries = e, this.target.m_LobbyMgr.UserWinnings = o)
                }, t
            }();
        o.FishPuzzleEggGetAwardState = s, cc._RF.pop()
    }, {
        "../../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../../Net/LobbyClient": "LobbyClient",
        "../../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggIconCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9c5af9WB3BH3rrHfaX1JfpT", "FishPuzzleEggIconCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIconCtrl = void 0;
        var a = t("../../../Component/AudioMgr"),
            s = t("./FishPuzzleEggData"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labCount = null, e.m_nodePuzzleIcon = null, e.m_nodeRepaeatObj = null, e.m_animEffect = null, e.m_aryParticle = [], e.m_strPuzzleType = "", e.m_posRepeatObjOri = null, e.m_saveGotPiecesPosAry = [], e.m_iMaxPieceCount = 0, e.m_iGetPieceCount = 0, e
                }
                return i(e, t), Object.defineProperty(e.prototype, "PuzzleType", {
                    get: function() {
                        return this.m_strPuzzleType
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype._onLoad = function() {
                    this.m_nodeRepaeatObj.opacity = 0, this.m_animEffect.node.active = !1
                }, e.prototype._start = function() {
                    this.m_posRepeatObjOri = this.m_nodeRepaeatObj.getPosition(), this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype._onDestroy = function() {}, e.prototype.Clear = function() {
                    this.m_saveGotPiecesPosAry = [], this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype.GetRootPos = function() {
                    return this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)
                }, e.prototype.SetPuzzleInitCount = function(t, e) {
                    var o = this;
                    void 0 === e && (e = null);
                    var n = 0,
                        i = 0;
                    Object.keys(t.CurPuzzleProgress).forEach(function(e) {
                        n++, t.CurPuzzleProgress[e] >= 1 && (i++, -1 == o.m_saveGotPiecesPosAry.indexOf(Number(e)) && o.m_saveGotPiecesPosAry.push(Number(e)))
                    }), console.log("[iconCtrl] SetPuzzleCount Type = " + t.PuzzleType + ", maxCount = " + n + ", curCount = " + i), t.CurPuzzleProgressCount = i, t.TmpPieceAmount = 0, this.m_strPuzzleType = t.PuzzleType, this.m_iGetPieceCount = i, this.m_labCount.string = this.m_iGetPieceCount > 0 ? this.m_iGetPieceCount.toString() : "", this.m_iMaxPieceCount = n
                }, e.prototype.GetNewPuzzle = function(t, e, o) {
                    var n = this;
                    return -1 == this.m_saveGotPiecesPosAry.indexOf(t) ? (this.m_saveGotPiecesPosAry.push(t), this.m_iGetPieceCount++, this.m_iGetPieceCount >= this.m_iMaxPieceCount && (this.m_iGetPieceCount = this.m_iMaxPieceCount), a.AudioMgr.Instance.Play(o, !1, 1), this.ShowNewGetEffect(), this.m_labCount.string = this.m_iGetPieceCount.toString(), this.m_iGetPieceCount == this.m_iMaxPieceCount && (e && (a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.GET_PIECE_FULL, !1, 1), this.m_animEffect.node.active = !0, this.m_animEffect.play(), this.scheduleOnce(function() {
                        n.m_aryParticle.forEach(function(t) {
                            return t.resetSystem()
                        }), n.m_animEffect.node.active = !1
                    }, 1.5)), this.m_saveGotPiecesPosAry = []), !0) : (a.AudioMgr.Instance.Play(s.PUZZLE_SOUND.GET_PIECE_REPEAT, !1, 1), this.ShowRepeat(), !1)
                }, e.prototype.ResetIconCount = function() {
                    this.m_iGetPieceCount = 0, this.m_labCount.string = ""
                }, e.prototype.ShowNewGetEffect = function() {
                    cc.Tween.stopAllByTarget(this.m_nodePuzzleIcon), this.m_nodePuzzleIcon.scale = 1, cc.tween(this.m_nodePuzzleIcon).to(.1, {
                        scale: 1.2
                    }).to(.1, {
                        scale: 1
                    }).start()
                }, e.prototype.ShowRepeat = function() {
                    var t = this;
                    cc.Tween.stopAllByTarget(this.m_posRepeatObjOri), this.m_nodeRepaeatObj.opacity = 255, this.m_nodeRepaeatObj.setPosition(this.m_posRepeatObjOri), cc.tween(this.m_nodeRepaeatObj).by(1, {
                        position: cc.v3(0, 50)
                    }).call(function() {
                        t.m_nodeRepaeatObj.opacity = 0
                    }).start()
                }, r([u(cc.Label)], e.prototype, "m_labCount", void 0), r([u(cc.Node)], e.prototype, "m_nodePuzzleIcon", void 0), r([u(cc.Node)], e.prototype, "m_nodeRepaeatObj", void 0), r([u(cc.Animation)], e.prototype, "m_animEffect", void 0), r([u([cc.ParticleSystem])], e.prototype, "m_aryParticle", void 0), r([u], e.prototype, "m_strPuzzleType", void 0), r([l], e)
            }(cc.Component);
        o.FishPuzzleEggIconCtrl = p, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggIconMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "287b7yYbmtMEbivrzz7v0yZ", "FishPuzzleEggIconMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIconMgr = void 0;
        var a = t("../../../Component/DateTimeCountDown"),
            s = t("../../../Component/NodeDrag"),
            c = t("./FishPuzzleEggData"),
            l = t("./FishPuzzleEggIconCtrl"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_funOnClickIcon = null, e.m_funOnPuzzleComplete = null, e.m_nodeRoot = null, e.m_nodeDragFloatBtn = null, e.m_nodePuzzleIconPanel = null, e.m_nodeRedPoint = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_labPrize = null, e.m_labRedPoint = null, e.m_cdLabTimer = null, e.m_aryFishPuzzleEggIconCtrl = [], e.autoClosePromptID = null, e.m_strLogTitle = " [FishPuzzleEggIconMgr] ", e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    if (this.m_nodePuzzleIconPanel.opacity = 0, this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._onLoad();
                    this.m_nodeRedPoint.active = !1, this.m_labRedPoint.node.active = !1, this.m_nodeDragFloatBtn.Event_DragEnd = null, this.m_nodeDragFloatBtn.Event_ClickItem = this.OnClickEventIcon.bind(this)
                }, e.prototype._start = function() {
                    if (this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._start()
                }, e.prototype._onDestroy = function() {
                    if (this.m_aryFishPuzzleEggIconCtrl)
                        for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t]._onDestroy()
                }, e.prototype.Init = function(t, e) {
                    t && (e ? this.m_nodeDragFloatBtn.setLocked(!1) : this.m_nodeDragFloatBtn.setLocked(!0), this.SetPuzzleInitCount(t, this.OnPuzzleComplete), this.m_labPrize.string = "$" + (this.FindMaxPuzzlePrize(t) * t[0].ExchangeRate).toLocaleString("en-US", {
                        minimumFractionDigits: 2
                    }))
                }, e.prototype.UpdateTimer = function(t) {
                    this.m_cdLabTimer && this.m_cdLabTimer.UpdateUIWithDay(t)
                }, e.prototype.FindPuzzleCtrl = function(t) {
                    for (var e = 0; e < this.m_aryFishPuzzleEggIconCtrl.length; e++)
                        if (this.m_aryFishPuzzleEggIconCtrl[e].PuzzleType == t) return this.m_aryFishPuzzleEggIconCtrl[e];
                    return null
                }, e.prototype.FindMaxPuzzlePrize = function(t) {
                    if (t) {
                        for (var e = 0, o = 0; o < t.length; o++) t[o].Award && (t[o].Award.AwardType == c.PUZZLE_ITEM_DEFINE.Entry && t[o].Award.AwardEntries > e ? e = t[o].Award.AwardEntries : t[o].Award.AwardType == c.PUZZLE_ITEM_DEFINE.Winning && t[o].Award.AwardWinnings > e && (e = t[o].Award.AwardWinnings));
                        return e
                    }
                }, e.prototype.ShowIcon = function(t) {
                    this.m_nodeRoot.active = t, t || (this.SetPrompt(), clearTimeout(this.autoClosePromptID), cc.Tween.stopAllByTarget(this.m_nodePuzzleIconPanel), this.m_nodePuzzleIconPanel.opacity = 0)
                }, e.prototype.Clear = function() {
                    this.ShowIcon(!1), this.SetRedPointShow(!1);
                    for (var t = 0; t < this.m_aryFishPuzzleEggIconCtrl.length; t++) this.m_aryFishPuzzleEggIconCtrl[t].Clear()
                }, e.prototype.GetSmallIconPos = function(t) {
                    return this.m_aryFishPuzzleEggIconCtrl[t].GetRootPos()
                }, e.prototype.SetPuzzleInitCount = function(t, e) {
                    if (t)
                        for (var o = null, n = 0; n < t.length; n++) {
                            o = t[n];
                            var i = c.PUZZLE_ITEM[o.PuzzleType].index;
                            this.m_aryFishPuzzleEggIconCtrl[i] && this.m_aryFishPuzzleEggIconCtrl[i].SetPuzzleInitCount(o, e)
                        }
                }, e.prototype.SetPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.SetPrompt()
                        }, 5e3))
                    }
                }, e.prototype.GetNewPuzzle = function(t, e, o, n) {
                    console.log(this.m_strLogTitle + "GetPuzzleItem puzzleType = " + t + ", puzzleIndex = " + e);
                    var i = !1,
                        r = this.FindPuzzleCtrl(t);
                    return r && (i = r.GetNewPuzzle(e, o, n)), i && this.SetRedPointShow(!0), i
                }, e.prototype.ResetIconNumber = function(t, e) {
                    if (t) {
                        var o = this.FindPuzzleCtrl(e);
                        o && o.ResetIconCount(), this.CheckRedPoint(t)
                    }
                }, e.prototype.CheckRedPoint = function(t) {
                    if (t) {
                        for (var e = 0, o = 0; o < t.length; o++) e += t[o].TmpPieceAmount, console.log(this.m_strLogTitle + "CheckRedPoint tmpCount = " + e + ",  type = " + t[o].PuzzleType);
                        this.SetRedPointShow(e > 0)
                    }
                }, e.prototype.SetRedPointShow = function(t) {
                    this.m_nodeRedPoint.active = t
                }, e.prototype.ShowPuzzleIconPanel = function() {
                    cc.Tween.stopAllByTarget(this.m_nodePuzzleIconPanel), this.m_nodePuzzleIconPanel.opacity = 255, cc.tween(this.m_nodePuzzleIconPanel).delay(3).to(1, {
                        opacity: 0
                    }).start()
                }, e.prototype.OnPuzzleComplete = function(t) {
                    this.m_funOnPuzzleComplete && this.m_funOnPuzzleComplete(t)
                }, e.prototype.OnClickEventIcon = function() {
                    console.log(this.m_strLogTitle + "OnClickEventIcon"), this.m_funOnClickIcon && this.m_funOnClickIcon()
                }, r([m(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([m(s.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([m(cc.Node)], e.prototype, "m_nodePuzzleIconPanel", void 0), r([m(cc.Node)], e.prototype, "m_nodeRedPoint", void 0), r([m(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([m(cc.Label)], e.prototype, "m_labPrompt", void 0), r([m(cc.Label)], e.prototype, "m_labPrize", void 0), r([m(cc.Label)], e.prototype, "m_labRedPoint", void 0), r([m(a.DateTimeCountDown)], e.prototype, "m_cdLabTimer", void 0), r([m([l.FishPuzzleEggIconCtrl])], e.prototype, "m_aryFishPuzzleEggIconCtrl", void 0), r([p], e)
            }(cc.Component);
        o.FishPuzzleEggIconMgr = h, cc._RF.pop()
    }, {
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../Component/NodeDrag": "NodeDrag",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggIconCtrl": "FishPuzzleEggIconCtrl"
    }],
    FishPuzzleEggIdleState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "67a6dVo1bpM+rQ5rZRbJeY/", "FishPuzzleEggIdleState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggIdleState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {
                this.target.m_bIsWaitForDelayClose || this.target.m_bIsNoFishGame || this.target.m_IconMgr.ShowIcon(!0)
            }, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {}, t
        }();
        o.FishPuzzleEggIdleState = n, cc._RF.pop()
    }, {}],
    FishPuzzleEggInfoMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "38bcftA+oxGQ5DQo2vZGrL4", "FishPuzzleEggInfoMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishGameNode = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function() {
                function t() {
                    this.m_strGameName = "", this.m_strGameID = "", this.m_node = null
                }
                return r([c(String)], t.prototype, "m_strGameName", void 0), r([c(String)], t.prototype, "m_strGameID", void 0), r([c(cc.Node)], t.prototype, "m_node", void 0), r([s("FishGameNode")], t)
            }();
        o.FishGameNode = l;
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeLobby = null, e.m_aryFishNode = [], e.m_aryHideObjWhenInfoShow = [], e
            }
            return i(e, t), e.prototype.ShowInfo = function(t, e) {
                this.node.active = !0, this.m_nodeLobby.active = t;
                for (var o = 0; o < this.m_aryFishNode.length; o++) this.m_aryFishNode[o].m_node.active = !1;
                for (t || (this.m_aryFishNode.find(function(t) {
                        return t.m_strGameName == e
                    }).m_node.active = !0), o = 0; o < this.m_aryHideObjWhenInfoShow.length; o++) this.m_aryHideObjWhenInfoShow[o].active = !1
            }, e.prototype.CloseInfo = function() {
                for (var t = 0; t < this.m_aryHideObjWhenInfoShow.length; t++) this.m_aryHideObjWhenInfoShow[t].active = !0;
                this.node.active = !1
            }, r([c(cc.Node)], e.prototype, "m_nodeLobby", void 0), r([c([l])], e.prototype, "m_aryFishNode", void 0), r([c([cc.Node])], e.prototype, "m_aryHideObjWhenInfoShow", void 0), r([s], e)
        }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {}],
    FishPuzzleEggInitState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2a93d1/q6NNe70t5oL3f+vQ", "FishPuzzleEggInitState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggInitState = void 0;
        var n = t("../../../../Net/LobbyClient"),
            i = t("../FishPuzzleEggData"),
            r = function() {
                function t() {
                    this.m_bIsInitFinish = !1
                }
                return t.prototype.PreUpdate = function() {
                    this.target.m_bIsNoFishGame = !this.CheckEventPuzzleGameID(n.LobbyClient.Instance.m_CommonEventInfo_900005), this.target.m_bIsNoFishGame ? this.target.CloseEvent() : this.ParseMisInfo(n.LobbyClient.Instance.m_CommonEventInfo_900005) && this.target.m_aryEventData && this.target.m_aryEventData.length > 0 ? (this.target.m_IconMgr.Init(this.target.m_aryEventData, null != this.target.m_LobbyMgr), this.target.m_PuzzlePageMgr.Init(this.target.m_strPlayerID, this.target.m_aryEventData, this.target.m_iExpireTime), this.target.InitTimer(), null != n.LobbyClient.Instance.m_CommonEventInfo_900005_Rank && this.target.ParseMisRankInfo(n.LobbyClient.Instance.m_CommonEventInfo_900005_Rank), this.m_bIsInitFinish = !0) : this.target.CloseEvent()
                }, t.prototype.Update = function() {
                    !this.target.m_bIsInLobby && this.m_bIsInitFinish && (this.m_bIsInitFinish = !1, this.target.FishPuzzleEggFSM.SetCurrentState(this.target.IdleState))
                }, t.prototype.PostUpdate = function() {
                    this.m_bIsInitFinish = !1
                }, t.prototype.ParseMisInfo = function(t) {
                    try {
                        if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0 && t.hasOwnProperty("UserQuestData")) {
                            var e = t.QuestList,
                                o = t.UserQuestData;
                            this.target.m_aryEventData = [], this.target.m_iEndTime = t.EndTimeUTC, this.target.m_iNowTime = t.NowTimeUTC, this.target.m_strPlayerID = t.PuzzlePlayerID;
                            for (var n = !1, r = function(t) {
                                    var r = new i.FishPuzzleEventData,
                                        s = e[t];
                                    if ("Puzzle" == s.GameThemeID[0]) {
                                        console.warn("\u5f69\u86cb\u62fc\u5716\u4efb\u52d9\u8cc7\u8a0a %s", JSON.stringify(s)), n = !0, r.QuestTitle = s.QuestTitle, r.QuestLevel = s.QuestLevel, r.SerialNo = s.SerialNo, r.ThemeID = s.GameThemeID, r.QuestName = s.Name, r.Priority = s.Priority, r.CycleSeconds = s.CycleSeconds, r.StartTimeUTC = s.BeginTimeUTC, r.ExpireTimeUTC = s.ExpireTimeUTC, r.RankListID = s.RankListID, r.ExchangeRate = s.CustomInfo.ExchangeRate, r.RankLimit = s.CustomInfo.RankLimit, r.PuzzleProgressInit = s.CustomInfo.ProgressPuzzleInit, r.PuzzleProgressTarget = s.CustomInfo.ProgressPuzzleTarget;
                                        var c = Number(s.AwardType);
                                        3 == c ? r.PuzzleType = i.PUZZLE_TYPE.Copper : 4 == c ? r.PuzzleType = i.PUZZLE_TYPE.Sliver : 5 == c && (r.PuzzleType = i.PUZZLE_TYPE.Gold);
                                        var l = s.Award[0][0];
                                        r.Award = new i.FishPEAward, r.Award.AwardType = l.Item, r.Award.AwardType == i.PUZZLE_ITEM_DEFINE.Entry ? r.Award.AwardEntries = l.Amount : r.Award.AwardType == i.PUZZLE_ITEM_DEFINE.Winning && (r.Award.AwardWinnings = l.Amount);
                                        for (var u = 0; u < o.length; u++) {
                                            var p = o[u];
                                            if (r.QuestName == p.Name && r.QuestLevel == p.QuestLevel && r.ThemeID == p.GameThemeID[0]) {
                                                r.CurPuzzleProgress = p.ProgressPuzzle, r.Status = p.Status;
                                                break
                                            }
                                        }
                                        Object.keys(r.CurPuzzleProgress).forEach(function(t) {
                                            r.CurGetNewPuzzleProgress[t] = Object.assign(r.CurPuzzleProgress[t])
                                        }), a.target.m_aryEventData.push(r)
                                    } else {
                                        var m = e[t];
                                        a.target.m_iExpireTime = m.ExpireTimeUTC
                                    }
                                }, a = this, s = 0; s < e.length; s++) r(s);
                            return n
                        }
                        return !1
                    } catch (c) {
                        return console.error("parseMisInfo"), !1
                    }
                }, t.prototype.CheckEventPuzzleGameID = function(t) {
                    if (t) {
                        var e = [],
                            o = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList;
                        if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0) {
                            for (var n = t.QuestList, i = 0; i < n.length; i++)
                                for (var r = n[i].GameThemeID, a = function(t) {
                                        if ("Puzzle" != r[t] && -1 == e.indexOf(r[t])) {
                                            var n = s.GetThemeIdByGameName(r[t]);
                                            o.findIndex(function(t) {
                                                return t == n
                                            }) > -1 && e.push(r[t])
                                        }
                                    }, s = this, c = 0; c < r.length; c++) a(c);
                            return e.length > 0
                        }
                    }
                    return !1
                }, t.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, t
            }();
        o.FishPuzzleEggInitState = r, cc._RF.pop()
    }, {
        "../../../../Net/LobbyClient": "LobbyClient",
        "../FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "9ecc17PG6FBg5QrTgBQfn2/", "FishPuzzleEggMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggMgr = void 0;
        var c = t("../../../Component/StateMachine/StateMachine"),
            l = t("./FSM/FishPuzzleEggGetAwardState"),
            u = t("./FSM/FishPuzzleEggInitState"),
            p = t("./FSM/FishPuzzleEggIdleState"),
            m = t("./FSM/FishPuzzleEggPuzzlePageState"),
            h = t("./FSM/FishPuzzleEggWaitCmdState"),
            d = t("../../EventModule"),
            _ = t("../../EventBannerData"),
            g = t("../../../PopUpMgr/Scripts/PriorityCustomEvent"),
            f = t("./FishPuzzleEggPopupMgr"),
            y = t("./FishPuzzleEggPuzzlePageMgr"),
            S = t("./FishPuzzleEggAwardPanelMgr"),
            C = t("./FishPuzzleEggIconMgr"),
            v = t("./FishPuzzleEggAwardMgr"),
            b = t("./FishPuzzleEggData"),
            P = t("../../../Net/LobbyClient"),
            w = t("./FishPuzzleEggInfoMgr"),
            I = t("../../../PopupMessage/Script/PopupMsgMgr"),
            M = t("../../../Component/AudioMgr"),
            E = t("../../../Helper/EventSystem"),
            D = cc._decorator,
            L = D.ccclass,
            T = D.property,
            k = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_strIconContent = "The EGGS SURPRISE\n fish event online!", e.m_funGetAward = null, e.EVENT_ERROR = null, e.EVENT_OPEN_UI = null, e.EVENT_CLOSE_UI = null, e.EVENT_SEND_COLLECT_CMD = null, e.EVENT_GET_AWARD_FIN = null, e.m_pfbPopupRank = null, e.m_pfbAwardListPanel = null, e.m_IconMgr = null, e.m_PuzzlePageMgr = null, e.m_AwardMgr = null, e.m_InfoMgr = null, e.SoundClip = [], e.m_AwardPanelMgr = null, e.m_PopupMgr = null, e.FishPuzzleEggFSM = new c.StateMachine(e), e.InitState = new u.FishPuzzleEggInitState, e.IdleState = new p.FishPuzzleEggIdleState, e.PuzzlePageState = new m.FishPuzzleEggPuzzlePageState, e.GetAwardState = new l.FishPuzzleEggGetAwardState, e.WaitCmdState = new h.FishPuzzleEggWaitCmdState, e.m_aryEventData = null, e.m_EventRankListData = new b.FishPERankingListData, e.m_aryEventHistoryData = null, e.m_aryTmpAwardData = [], e.m_bIsInLobby = !1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.m_iExpireTime = -1, e.m_strPlayerID = "", e.m_iExchangeRate = 0, e.m_TimerIntervalID = -1, e.m_iEggQuestCountDownTime = 0, e.m_iPuzzleQuestCountDownTime = 0, e.m_strLogTitle = " [FishPuzzleEggMgr] ", e.TIME_SEND_UPDATE_RANK_CMD = 15, e.TIME_SEND_UPDATE_RECORD_CMD = 30, e.m_iRankCountDownTime = 0, e.m_iRecordCountDownTime = 0, e.m_bIsWaitForDelayClose = !1, e.m_bIsNoFishGame = !1, e.m_iCurPuzzleEggCount = 0, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    console.log(this.m_strLogTitle + "PuzzleEgg!!!!!!!!!!!!!!!!!!!!!!!! onLoad "), this.m_strEventID = "PuzzleEgg", this.m_IconMgr._onLoad(), this.m_PuzzlePageMgr._onLoad(), this.m_AwardMgr._onLoad(), this.m_bIsWaitForDelayClose = !1, this.m_bIsNoFishGame = !1, this.m_IconMgr.m_funOnClickIcon = this.OnClickEventIcon.bind(this), this.m_PuzzlePageMgr.m_funClosePage = this.OnClosePuzzlePage.bind(this), this.m_PuzzlePageMgr.m_funUnlockShoot = this.OnUnlockShoot.bind(this), this.m_PuzzlePageMgr.m_funOpenAwardListPage = this.ShowAwardListPanel.bind(this), this.m_PuzzlePageMgr.m_funOpenInfoPage = this.ShowInfoPage.bind(this), this.m_PuzzlePageMgr.m_funDownloadPageFinish = this.m_AwardMgr.Init.bind(this.m_AwardMgr)
                }, e.prototype.start = function() {
                    var t = this;
                    console.log(this.m_strLogTitle + "PuzzleEgg!!!!!!!!!!!!!!!!!!!!!!!! start"), this.m_IconMgr._start(), this.m_PuzzlePageMgr._start(), this.m_AwardMgr._start(), this.FishPuzzleEggFSM.SetCurrentState(this.InitState);
                    for (var e = [], o = 0; o < this.SoundClip.length; o++) e.push(this.SoundClip[o].name);
                    if (M.AudioMgr.Instance.setAudioClip(this.SoundClip, e), this.m_LobbyMgr) {
                        if (this.m_aryEventData && this.m_aryEventData.length > 0 && this.m_iEggQuestCountDownTime > 0) {
                            if (this.m_bIsInLobby = !0, this.m_pfbPopupRank) {
                                var n = cc.instantiate(this.m_pfbPopupRank);
                                if (this.m_PopupMgr = n.getComponent(f.FishPuzzleEggPopupMgr), this.m_PopupMgr) {
                                    this.m_PopupMgr._init(), this.m_PopupMgr.ShowRankBoard(this.m_EventRankListData.RankList), this.m_PopupMgr.m_funClickShowAwardPanel = this.ShowAwardListPanel.bind(this), console.warn("PuzzleEg!!!!!!!!!! start, this.m_iCountDownTime = " + this.m_iEggQuestCountDownTime);
                                    var i = new _.EventBannerData("PuzzleEgg", -1, this.OnClickBnnerCB.bind(this), this.OnShowPopupRank.bind(this), function() {
                                        return t.m_iEggQuestCountDownTime
                                    });
                                    i.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(i), this.SetEventActive()
                                }
                            }
                            var r = new g.PriorityCustomEvent(1, this.LoginGetAward.bind(this));
                            this.m_LobbyMgr.popUpMgr.priorityShowEvents.push(r), this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.PopUpClosed.bind(this))
                        } else this.PopUpClosed();
                        this.initDone()
                    } else this.LoginGetAward() || this.PopUpClosed();
                    this.schedule(this.CheckAwardPanelUpdate, 1, cc.macro.REPEAT_FOREVER), E.EventSystem.Event(E.SwitchGame).Insert(this.onProfileSwitchGame, this)
                }, e.prototype.update = function() {
                    this.FishPuzzleEggFSM.SMUpdate()
                }, e.prototype.onDestroy = function() {
                    E.EventSystem.Event(E.SwitchGame) && E.EventSystem.Event(E.SwitchGame).Length > 0 && E.EventSystem.Event(E.SwitchGame).Remove(this.onProfileSwitchGame, this), this.unschedule(this.CheckAwardPanelUpdate), this.m_IconMgr._onDestroy(), this.m_PuzzlePageMgr._onDestroy(), this.m_AwardMgr._onDestroy(), this.m_PopupMgr && this.m_PopupMgr._onDestroy(), this.m_AwardPanelMgr && this.m_AwardPanelMgr._onDestroy()
                }, e.prototype.CloseEvent = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (this.m_bIsWaitForDelayClose) return [2];
                                    this.m_bIsWaitForDelayClose = !0, console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent"), e.label = 1;
                                case 1:
                                    return this.m_iCurPuzzleEggCount > 0 || this.FishPuzzleEggFSM.CurrentState() == this.GetAwardState ? (console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent \u7b49\u5f85\u86cb\u98db\u5b8c \u6216 \u958b\u734e\u7d50\u675f"), [4, SS.Common.WaitForSeconds(.5)]) : [3, 3];
                                case 2:
                                    return e.sent(), [3, 1];
                                case 3:
                                    return console.log("[\u5f69\u86cb\u62fc\u5716]CloseEvent & WaitForDelayClose"), this.FishPuzzleEggFSM.SetCurrentState(this.WaitCmdState), this.m_IconMgr.Clear(), this.m_PuzzlePageMgr.Clear(), this.m_AwardMgr.Clear(), this.m_AwardPanelMgr && this.m_AwardPanelMgr.Clear(), this.m_aryEventData = [], this.m_EventRankListData && this.m_EventRankListData.Clear(), this.m_aryEventHistoryData = [], this.m_aryTmpAwardData = [], this.m_iEndTime = -1, this.m_iNowTime = -1, this.m_iEggQuestCountDownTime = 0, this.m_iPuzzleQuestCountDownTime = 0, this.m_iRankCountDownTime = 0, this.m_iRecordCountDownTime = 0, this.m_iCurPuzzleEggCount = 0, this.m_bIsWaitForDelayClose = !1, t.prototype.CloseEvent.call(this), [2]
                            }
                        })
                    })
                }, e.prototype.OnTimesUp = function() {
                    this.CloseEvent()
                }, e.prototype.CallInitState = function() {
                    this.m_bIsWaitForDelayClose = !1, this.FishPuzzleEggFSM.CurrentState() == this.WaitCmdState && this.FishPuzzleEggFSM.SetCurrentState(this.InitState)
                }, e.prototype.CheckQuestIsActive = function() {
                    var t = this.m_iEggQuestCountDownTime > 0 || this.m_iPuzzleQuestCountDownTime > 0,
                        e = this.FishPuzzleEggFSM.CurrentState() != this.WaitCmdState;
                    return t || e || this.m_bIsWaitForDelayClose
                }, e.prototype.PopUpClosed = function() {
                    this.FishPuzzleEggFSM.CurrentState() != this.PuzzlePageState && this.FishPuzzleEggFSM.SetCurrentState(this.IdleState), this.m_IconMgr.SetPrompt(this.m_strIconContent)
                }, e.prototype.ShowMainPanel = function() {
                    this.OnClickBnnerCB()
                }, e.prototype.OnClickBnnerCB = function() {
                    this.m_iEggQuestCountDownTime > 0 && this.OnClickEventIcon()
                }, e.prototype.OnShowPopupRank = function() {
                    return this.m_PopupMgr ? this.m_PopupMgr.node : null
                }, e.prototype.DropPuzzleEgg = function() {
                    this.m_iCurPuzzleEggCount++, console.warn(this.m_strLogTitle + "DropPuzzleEgg, \u76ee\u524d\u5834\u4e0a\u62da\u5716\u86cb\u6578 = " + this.m_iCurPuzzleEggCount)
                }, e.prototype.ShowPuzzleIconPanel = function() {
                    this.CheckDropEggEnable() && (console.log(this.m_strLogTitle + "ShowPuzzleIconPanel"), this.m_IconMgr.ShowPuzzleIconPanel())
                }, e.prototype.CheckDropEggEnable = function() {
                    return this.FishPuzzleEggFSM.CurrentState() == this.IdleState
                }, e.prototype.GetPuzzleItemCB = function(t, e) {
                    var o = this;
                    if (this.m_iCurPuzzleEggCount--, console.warn(this.m_strLogTitle + "GetPuzzleItem data id = " + t + ", puzzleIndex = " + e + ", \u5269\u9918\u6642\u9593 = " + this.m_iEggQuestCountDownTime + ", \u5834\u4e0a\u62fc\u5716\u86cb\u6578 = " + this.m_iCurPuzzleEggCount), 0 != this.m_aryEventData.length) {
                        var n = b.PUZZLE_TYPE.Copper,
                            i = "";
                        switch (t) {
                            case 1:
                                n = b.PUZZLE_TYPE.Copper, i = b.PUZZLE_SOUND.GET_PIECE_COPPER;
                                break;
                            case 2:
                                n = b.PUZZLE_TYPE.Sliver, i = b.PUZZLE_SOUND.GET_PIECE_SILVER;
                                break;
                            case 3:
                                n = b.PUZZLE_TYPE.Gold, i = b.PUZZLE_SOUND.GET_PIECE_GOLD
                        }
                        var r = this.CheckDropEggEnable(),
                            a = this.m_IconMgr.GetNewPuzzle(n, e, r, i),
                            s = this.m_aryEventData.find(function(t) {
                                return t.PuzzleType == n
                            });
                        a && null != s && (s.CurGetNewPuzzleProgress[e] = 1, s.CurPuzzleProgressCount += 1, s.TmpPieceAmount += 1, console.warn(this.m_strLogTitle + "\u66f4\u65b0\u6d3b\u52d5\u8cc7\u6599 \u985e\u578b = " + n + ", \u66ab\u5b58\u672a\u8868\u6f14\u788e\u7247\u6578\u91cf = " + s.TmpPieceAmount + ", \u7e3d\u7d2f\u7a4d\u9032\u5ea6 = " + s.CurPuzzleProgressCount)), this.CheckComplete(n) && s.Status != b.FishPEUserQuestDataStatus.AWARD_AVAILABLE && (s.Status = b.FishPEUserQuestDataStatus.AWARD_AVAILABLE, console.warn(this.m_strLogTitle + " \u78ba\u8a8d\u5b8c\u6210, puzzleType = " + n), this.scheduleOnce(function() {
                            o.m_aryTmpAwardData.push(s), o.FishPuzzleEggFSM.CurrentState() != o.GetAwardState && o.FishPuzzleEggFSM.SetCurrentState(o.GetAwardState)
                        }, 1.5))
                    } else console.error(this.m_strLogTitle + "GetPuzzleItemCB \u6642\u9593\u5df2\u904e")
                }, e.prototype.LoginGetAward = function() {
                    for (var t = 0; t < this.m_aryEventData.length; t++) {
                        var e = this.m_aryEventData[t];
                        this.CheckComplete(e.PuzzleType) && (console.warn(" LoginGetAward \u78ba\u8a8d\u5b8c\u6210, puzzleType = " + e.PuzzleType), this.m_aryTmpAwardData.push(e))
                    }
                    return this.m_aryTmpAwardData.length > 0 ? (this.FishPuzzleEggFSM.SetCurrentState(this.GetAwardState), !0) : (this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup(), !1)
                }, e.prototype.CheckComplete = function(t) {
                    var e = this.m_aryEventData.find(function(e) {
                            return e.PuzzleType == t
                        }),
                        o = !0;
                    return Object.keys(e.CurGetNewPuzzleProgress).forEach(function(t) {
                        e.CurGetNewPuzzleProgress[t] < e.PuzzleProgressTarget[t] && (o = !1)
                    }), console.warn("!!!!!!!!! \u6aa2\u67e5\u5b8c\u6210, type = " + t + ", isComplete = " + o), o
                }, e.prototype.GetAwardFinish = function() {
                    this.m_bIsInLobby && this.m_LobbyMgr.popUpMgr.checkAndShowPopup()
                }, e.prototype.onProfileSwitchGame = function() {
                    this.m_AwardPanelMgr && this.m_AwardPanelMgr.OnClose(), this.m_PuzzlePageMgr && this.m_PuzzlePageMgr.OnClosePage()
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (t <= 0) console.error(this.m_strLogTitle + "nextExpireTime < 0");
                    else {
                        if (console.warn(this.m_strLogTitle + "\u6642\u9593\u8a2d\u5b9a\uff0c\u904e\u671f\u6642\u9593 = " + t + ", \u4efb\u52d9\u6578\u91cf = " + this.m_aryEventData.length), 0 != this.m_aryEventData.length) {
                            for (var e = 0; e < this.m_aryEventData.length; e++) console.log(this.m_strLogTitle + "\u62fc\u5716\u4efb\u52d9\u904e\u671f\u6642\u9593 = " + this.m_aryEventData[e].ExpireTimeUTC + ", \u6389\u86cb\u4efb\u52d9\u904e\u671f\u6642\u9593 = " + this.m_iExpireTime), (o = this.m_aryEventData[e].ExpireTimeUTC - this.m_iNowTime) >= 0 && o < t && (this.m_iPuzzleQuestCountDownTime = o);
                            this.schedule(this.PuzzleTimer, 1)
                        }
                        var o;
                        0 != this.m_iExpireTime && (o = this.m_iExpireTime - this.m_iNowTime) < t && (t = o), t < 0 && (t = 0), console.warn(this.m_strLogTitle + "InitTimer \u86cb\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + t + ", \u62fc\u5716\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + this.m_iPuzzleQuestCountDownTime), this.ForceSetTime(t)
                    }
                }, e.prototype.PuzzleTimer = function() {
                    this.m_iPuzzleQuestCountDownTime--, this.m_iPuzzleQuestCountDownTime <= 0 && (this.m_iPuzzleQuestCountDownTime = 0, this.unschedule(this.PuzzleTimer))
                }, e.prototype.ForceSetTime = function(t) {
                    console.warn("ForceSetTime" + t), this.PauseTimer(), this.m_iEggQuestCountDownTime = t, this.UpdateUI(this.m_iEggQuestCountDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    var e = "Day";
                    t >= 172800 && (e = "Days");
                    var o = "ENDS IN: " + (t >= 86400 ? "{day} " + e + " {hr}:{min}:{sec}" : "{hr}:{min}:{sec}");
                    this.m_IconMgr && this.m_IconMgr.UpdateTimer(t), this.m_PuzzlePageMgr && this.m_PuzzlePageMgr.UpdateTimer(t, o)
                }, e.prototype.PauseTimer = function() {
                    console.warn("PauseTimer this.intervalID = " + this.m_TimerIntervalID), clearInterval(this.m_TimerIntervalID)
                }, e.prototype.Timer = function(t) {
                    --t.m_iEggQuestCountDownTime, t.m_iEggQuestCountDownTime <= 0 && (console.warn("\u62fc\u5716\u6642\u9593\u5230!!!!!!!!!!!!!!!!!!!!, \u62fc\u5716\u4efb\u52d9\u5269\u9918\u6642\u9593 = " + this.m_iPuzzleQuestCountDownTime), t.m_iEggQuestCountDownTime = 0, t.PauseTimer(), this.m_bIsInLobby ? this.reloadLobby() : this.OnTimesUp()), t.UpdateUI(t.m_iEggQuestCountDownTime), SS.Common.GameEnvironment.ProjectSetting.hasOwnProperty("PopUp") ? SS.Common.GameEnvironment.ProjectSetting.PopUp.PuzzleEgg = t.m_iEggQuestCountDownTime : SS.Common.GameEnvironment.ProjectSetting.PopUp = {
                        PuzzleEgg: t.m_iEggQuestCountDownTime
                    }
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.m_TimerIntervalID && clearInterval(this.m_TimerIntervalID), this.m_TimerIntervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3), console.warn("StartConutDownTimer, intervalID = " + this.m_iEggQuestCountDownTime)
                }, e.prototype.ShowAwardListPanel = function() {
                    if (M.AudioMgr.Instance.Play(b.PUZZLE_SOUND.BTN_CLICK, !1, 1), !this.m_AwardPanelMgr && this.m_pfbAwardListPanel) {
                        var t = cc.instantiate(this.m_pfbAwardListPanel);
                        this.m_AwardPanelMgr = t.getComponent(S.FishPuzzleEggAwardPanelMgr), this.m_AwardPanelMgr._init(), this.m_AwardPanelMgr.m_funOnClickClose = this.OnCloseAwardPanel.bind(this);
                        var e = cc.director.getScene();
                        e = this.m_bIsInLobby ? e.getChildByName("LoadResNode") : this.node, t.parent = e, t.setPosition(cc.Vec2.ZERO)
                    }
                    this.FishPuzzleEggFSM.CurrentState() == this.InitState ? P.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", b.PuzzleClickLogID.POPUP_MORE) : this.FishPuzzleEggFSM.CurrentState() == this.PuzzlePageState && P.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", b.PuzzleClickLogID.MAIN_RANK_PAGE), this.m_AwardPanelMgr.Show(this.m_EventRankListData, this.m_aryEventHistoryData, this.m_strPlayerID)
                }, e.prototype.ShowInfoPage = function() {
                    M.AudioMgr.Instance.Play(b.PUZZLE_SOUND.BTN_CLICK, !1, 1), P.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", b.PuzzleClickLogID.MAIN_INFO_PAGE), this.m_InfoMgr.ShowInfo(this.m_bIsInLobby, SS.Common.GameEnvironment.CurrentGameNow)
                }, e.prototype.OnClickEventIcon = function() {
                    console.log(this.m_strLogTitle + "OnClickEventIcon"), this.setOnTop(), P.LobbyClient.Instance.GetUserClient.recordClickLog("FishEventPuzzle", b.PuzzleClickLogID.FLOAT_BTN), this.FishPuzzleEggFSM.SetCurrentState(this.PuzzlePageState)
                }, e.prototype.OnClosePuzzlePage = function() {
                    console.log(this.m_strLogTitle + "OnClosePuzzlePage"), this.ResetSiblingIndex(), this.FishPuzzleEggFSM.SetCurrentState(this.IdleState)
                }, e.prototype.OnUnlockShoot = function() {
                    console.log(this.m_strLogTitle + "OnUnlockShoot"), this.EVENT_CLOSE_UI && this.EVENT_CLOSE_UI()
                }, e.prototype.OnCloseAwardPanel = function() {
                    this.m_PopupMgr && this.m_PopupMgr.node.active && this.m_PopupMgr.ShowRankBoard(this.m_EventRankListData.RankList)
                }, e.prototype.CheckAwardPanelUpdate = function() {
                    if (this.m_AwardPanelMgr && (this.m_iRankCountDownTime--, this.m_iRecordCountDownTime--, this.m_iRankCountDownTime <= 0 && (this.m_iRankCountDownTime = 0), this.m_iRecordCountDownTime <= 0 && (this.m_iRecordCountDownTime = 0), this.m_AwardPanelMgr.CheckPanelOpen)) {
                        if (0 == this.m_iRankCountDownTime && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, null != this.m_aryEventData)) {
                            var t = (o = this.m_aryEventData[0]).RankListID,
                                e = o.RankLimit;
                            console.log(this.m_strLogTitle + " ----- 15\u79d2\u9001\u6392\u884c\u699c\u8981\u66f4\u65b0\u963f\u311a\u311a\u311a\u311a\u311a\u311a ------"), P.LobbyClient.Instance.GetUserClient.getPuzzleRank(t, e, this.RecvPuzzleRank.bind(this))
                        }
                        var o;
                        if (0 == this.m_iRecordCountDownTime && (this.m_iRecordCountDownTime = this.TIME_SEND_UPDATE_RECORD_CMD, null != this.m_aryEventData)) t = (o = this.m_aryEventData[0]).RankListID, console.log(this.m_strLogTitle + " ----- 30\u79d2\u9001\u7d00\u9304\u699c\u55ae\u8981\u66f4\u65b0\u963f\u311a\u311a\u311a\u311a\u311a\u311a ------"), this.m_AwardPanelMgr.ShowLoading(!0), P.LobbyClient.Instance.GetUserClient.getPuzzleHistory(t, this.RecvPuzzleHistory.bind(this))
                    }
                }, e.prototype.RecvPuzzleHistory = function(t, e) {
                    console.warn("RecvPuzzleHistory ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), this.ParseMisAwardHistory(e.cmd_data) && this.m_AwardPanelMgr.CheckPanelOpen && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, console.warn("\u66f4\u65b0\u62fc\u5716\u6392\u884c!!!!!!!!!!!!!!!"), this.m_AwardPanelMgr.UpdateHistoryList(this.m_aryEventHistoryData, this.m_strPlayerID))) : this.ShowEventErrorMsg(t, e)
                }, e.prototype.RecvPuzzleRank = function(t, e) {
                    console.warn("RecvPuzzleRank: ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), P.LobbyClient.Instance.m_CommonEventInfo_900005_Rank = e.cmd_data, this.ParseMisRankInfo(e.cmd_data) && this.m_AwardPanelMgr.CheckPanelOpen && (this.m_iRankCountDownTime = this.TIME_SEND_UPDATE_RANK_CMD, console.log("\u66f4\u65b0\u62fc\u5716\u6392\u884c!!!!!!!!!!!!!!!"), this.m_AwardPanelMgr.UpdateRankingList(this.m_EventRankListData))) : this.ShowEventErrorMsg(t, e)
                }, e.prototype.ParseMisRankInfo = function(t) {
                    try {
                        var e = t.data,
                            o = .01,
                            n = 0;
                        if (null != this.m_aryEventData && this.m_aryEventData.length > 0) {
                            var i = this.m_aryEventData[0];
                            o = i.ExchangeRate, n = i.RankLimit
                        }
                        this.m_EventRankListData.ExchangeRate = o, this.m_EventRankListData.People = n, this.m_EventRankListData.RankList = [], t.hasOwnProperty("player_self_data") && 0 != t.player_self_data.length && (this.m_EventRankListData.PlayerData = this.ParsePlayerData(o, -1, t.player_self_data), this.m_EventRankListData.PlayerData.RankingID = this.m_strPlayerID, this.m_EventRankListData.PlayerData.Nickname = SS.Network.UserClient.UserInfo.nickname, this.m_EventRankListData.PlayerData.AvatarID = SS.Network.UserClient.UserInfo.avatar_id, this.m_EventRankListData.PlayerData.AvatarFrameID = SS.Network.UserClient.UserInfo.avatar_frame_id, this.m_EventRankListData.PlayerData.pin_ark_id = SS.Network.LoginModel.LoginInfo.pin_ark_id);
                        for (var r = 0; r < e.length; r++) {
                            var a = this.ParsePlayerData(o, r + 1, e[r]);
                            this.m_EventRankListData.RankList.push(a)
                        }
                        return !0
                    } catch (D) {
                        return console.error("ParseMisRankInfo ERROR = " + t), !1
                    }
                }, e.prototype.ParseMisAwardHistory = function(t) {
                    try {
                        this.m_aryEventHistoryData = [];
                        var e = .01;
                        null != this.m_aryEventData && this.m_aryEventData.length > 0 && (e = this.m_aryEventData[0].ExchangeRate);
                        for (var o = t.ack_data, n = 0; n < o.length; n++) {
                            var i = new b.FishPEHistoryPlayerData,
                                r = o[n];
                            i.ExchangeRate = e, i.RankingID = r.A, i.FinishAmount = r.B, i.WinAmount = r.C;
                            var a = new Date(r.D),
                                s = (a.getMonth() + 1).toString(),
                                c = a.getDate().toString(),
                                l = a.getHours().toString(),
                                u = a.getMinutes().toString();
                            Number(c) < 10 && (c = "0" + c), Number(l) < 10 && (l = "0" + l), Number(u) < 10 && (u = "0" + u), i.Time = s + "/" + c + " " + l + ":" + u, i.pin_ark_id = "", r.hasOwnProperty("F") && (i.pin_ark_id = r.F), i.AvatarID = "", i.AvatarFrameID = "", i.Nickname = "", r.hasOwnProperty("G") && (i.AvatarID = r.G.equip_avatar, i.AvatarFrameID = r.G.equip_avatar_frame, i.Nickname = r.G.nick_name), this.m_aryEventHistoryData.push(i)
                        }
                        return !0
                    } catch (D) {
                        return console.error("ParseMisHistory ERROR = " + t), !1
                    }
                }, e.prototype.ParsePlayerData = function(t, e, o) {
                    var n = new b.FishPERankingPlayerData;
                    return n.Rank = e, n.ExchangeRate = t, n.RankingID = o.hasOwnProperty("PuzzlePlayerID") ? o.PuzzlePlayerID : "-", n.FinishAmount = o.hasOwnProperty("PuzzleFinishAmount") ? o.PuzzleFinishAmount : "0", n.WinAmount = o.hasOwnProperty("WinAmount") ? o.WinAmount : "0", n.pin_ark_id = o.hasOwnProperty("ArkID") ? o.ArkID : "", n.Nickname = o.hasOwnProperty("nick_name") ? o.nick_name : "", n.AvatarID = o.hasOwnProperty("equip_avatar") ? o.equip_avatar : "", n.AvatarFrameID = o.hasOwnProperty("equip_avatar_frame") ? o.equip_avatar_frame : "", n
                }, e.prototype.ShowEventErrorMsg = function(t) {
                    var e;
                    e = t == ArkSDK.HttpResult.Abort ? "S176" : t == ArkSDK.HttpResult.Condition ? "S177" : t == ArkSDK.HttpResult.Error ? "S180" : t == ArkSDK.HttpResult.NotReset ? "S178" : t == ArkSDK.HttpResult.Status ? "S179" : t == ArkSDK.HttpResult.Timeout ? "S181" : "S182", this.m_bIsInLobby ? I.PopupMsgMgr.Instance.ShowPopMsg(I.PopupPriority.Critical, e, null, null, null) : this.EVENT_ERROR && this.EVENT_ERROR(e)
                }, r([T(cc.Prefab)], e.prototype, "m_pfbPopupRank", void 0), r([T(cc.Prefab)], e.prototype, "m_pfbAwardListPanel", void 0), r([T(C.FishPuzzleEggIconMgr)], e.prototype, "m_IconMgr", void 0), r([T(y.FishPuzzleEggPuzzlePageMgr)], e.prototype, "m_PuzzlePageMgr", void 0), r([T(v.FishPuzzleEggAwardMgr)], e.prototype, "m_AwardMgr", void 0), r([T(w.default)], e.prototype, "m_InfoMgr", void 0), r([T({
                    type: [cc.AudioClip]
                })], e.prototype, "SoundClip", void 0), r([L], e)
            }(d.EventModule);
        o.FishPuzzleEggMgr = k, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/StateMachine/StateMachine": "StateMachine",
        "../../../Helper/EventSystem": "EventSystem",
        "../../../Net/LobbyClient": "LobbyClient",
        "../../../PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../EventBannerData": "EventBannerData",
        "../../EventModule": "EventModule",
        "./FSM/FishPuzzleEggGetAwardState": "FishPuzzleEggGetAwardState",
        "./FSM/FishPuzzleEggIdleState": "FishPuzzleEggIdleState",
        "./FSM/FishPuzzleEggInitState": "FishPuzzleEggInitState",
        "./FSM/FishPuzzleEggPuzzlePageState": "FishPuzzleEggPuzzlePageState",
        "./FSM/FishPuzzleEggWaitCmdState": "FishPuzzleEggWaitCmdState",
        "./FishPuzzleEggAwardMgr": "FishPuzzleEggAwardMgr",
        "./FishPuzzleEggAwardPanelMgr": "FishPuzzleEggAwardPanelMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggIconMgr": "FishPuzzleEggIconMgr",
        "./FishPuzzleEggInfoMgr": "FishPuzzleEggInfoMgr",
        "./FishPuzzleEggPopupMgr": "FishPuzzleEggPopupMgr",
        "./FishPuzzleEggPuzzlePageMgr": "FishPuzzleEggPuzzlePageMgr"
    }],
    FishPuzzleEggPopupMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d2cb4Ud1PBOyJIlINcqIKrm", "FishPuzzleEggPopupMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPopupMgr = o.FishPuzzleEggPlayerRank = void 0;
        var c = t("../../../Component/BundleCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function() {
                function t() {
                    this.m_labPlayerNo = null, this.m_spAvatarFace = null, this.m_spAvatarFaceFrame = null, this.m_labNickName = null, this.m_labPlayerAward = null, this.m_strArkID = ""
                }
                return t.prototype.Show = function(t, e, o, n, i, r) {
                    return a(this, void 0, void 0, function() {
                        var a, l;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.m_labPlayerNo.string = "No." + t, this.m_labPlayerAward.string = e.toLocaleString("en-US", {
                                        maximumFractionDigits: 2
                                    }), this.m_strArkID = r, this.m_labNickName.string = i, o && "" != o || (o = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", o)];
                                case 1:
                                    return a = s.sent(), this.m_spAvatarFace.spriteFrame = a || null, n && "" != n ? [4, c.default.Instance.GetSpirte("Avatar", n)] : [3, 3];
                                case 2:
                                    return (l = s.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = l), [3, 4];
                                case 3:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.Clear = function() {
                    this.m_labPlayerNo.string = "-", this.m_labPlayerAward.string = "-", this.m_labNickName.string = "-", this.m_strArkID = ""
                }, t.prototype.GetArkID = function() {
                    return this.m_strArkID
                }, t.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, t.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labNickName && (this.m_labNickName.string = t)
                }, t.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFace && (this.m_spAvatarFace.spriteFrame = t)
                }, t.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFaceFrame && (this.m_spAvatarFaceFrame.spriteFrame = t)
                }, t.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, t.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, c.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, r([p(cc.Label)], t.prototype, "m_labPlayerNo", void 0), r([p(cc.Sprite)], t.prototype, "m_spAvatarFace", void 0), r([p(cc.Sprite)], t.prototype, "m_spAvatarFaceFrame", void 0), r([p(cc.Label)], t.prototype, "m_labNickName", void 0), r([p(cc.Label)], t.prototype, "m_labPlayerAward", void 0), r([u("FishPuzzleEggPlayerRank")], t)
            }();
        o.FishPuzzleEggPlayerRank = m;
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeRoot = null, e.m_aryFishPuzzleEggPlayerRank = [], e
            }
            return i(e, t), e.prototype._init = function() {
                this.m_nodeRoot.active = !1
            }, e.prototype._onDestroy = function() {}, e.prototype.ShowRankBoard = function(t) {
                this.m_nodeRoot.active = !0;
                for (var e = 0; e < this.m_aryFishPuzzleEggPlayerRank.length; e++) this.m_aryFishPuzzleEggPlayerRank[e].Clear();
                for (e = 0; e < t.length; e++) this.m_aryFishPuzzleEggPlayerRank[e] && this.m_aryFishPuzzleEggPlayerRank[e].Show(t[e].RankingID, t[e].WinAmount, t[e].AvatarID, t[e].AvatarFrameID, t[e].Nickname, t[e].pin_ark_id)
            }, e.prototype.OnClickShowAwardList = function() {
                this.m_funClickShowAwardPanel && this.m_funClickShowAwardPanel()
            }, r([p(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([p([m])], e.prototype, "m_aryFishPuzzleEggPlayerRank", void 0), r([u], e)
        }(cc.Component);
        o.FishPuzzleEggPopupMgr = h, cc._RF.pop()
    }, {
        "../../../Component/BundleCtrl": "BundleCtrl"
    }],
    FishPuzzleEggPuzzlePageMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7e830vTPPlMxqVdsORfqpW6", "FishPuzzleEggPuzzlePageMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPuzzlePageMgr = o.FishPuzzlePageMember = void 0;
        var a = t("./FishPuzzleEggData"),
            s = t("./FishPuzzleEggPuzzlePage"),
            c = t("./FishPuzzleEggData"),
            l = t("../../../Component/DateTimeCountDown"),
            u = t("./FishPuzzleEggTipsMgr"),
            p = t("../../../Component/AudioMgr"),
            m = t("date-fns/format"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function() {
                function t() {
                    this.strPuzzleType = "", this.nodeRoot = null, this.ctrl = null, this.data = null
                }
                return r([d], t)
            }();
        o.FishPuzzlePageMember = g;
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_funClosePage = null, e.m_funUnlockShoot = null, e.m_funOpenAwardListPage = null, e.m_funOpenInfoPage = null, e.m_funDownloadPageFinish = null, e.m_nodeRoot = null, e.m_nodeTouchMask = null, e.m_nodeTitleAward = null, e.m_pvPuzzlePage = null, e.m_PuzzlePagePrefab = null, e.m_iPageCount = 3, e.m_iPageWeidth = 1280, e.m_nodeRadPoin = null, e.m_labPieceCount = null, e.m_labAward = null, e.m_aryAwardTitleFrame = [], e.m_spAwardTitle = null, e.m_aryPieceSpriteFrame = [], e.m_spPuzzleIcon = null, e.m_animPuzzleCollectEffect = null, e.m_aryPuzzleCollectParticle = [], e.m_aryPuzzlePfb = [], e.m_nodeHintL = null, e.m_nodeHintR = null, e.m_labEventTime = null, e.m_cdLabTimer = null, e.m_TipsMgr = null, e.m_aryPuzzlePageMember = [], e.m_questDataAry = [], e.m_bHasShowTips = !1, e.m_iCenterPageIndex = 2, e.m_iMaxPageNum = 5, e.m_iTmpLoopNum = 0, e.m_iShowPuzzleIndex = 1, e.m_iDownloadFinishNum = 0, e.m_iCenterType = 0, e.m_strPlayerID = ";", e.m_bIsDownloadFin = !1, e.OpenBannerWebviewEvent = null, e.tmpJSON = {}, e.m_iUIScrollTweenTime = .2, e
            }
            return i(e, t), Object.defineProperty(e.prototype, "IsDownloadFin", {
                get: function() {
                    return this.m_bIsDownloadFin
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype._onLoad = function() {
                this.m_nodeTouchMask.active = !1, this.m_nodeRoot.opacity = 0, this.m_nodeRoot.setPosition(new cc.Vec2(9999, 9999))
            }, e.prototype._start = function() {
                for (var t = null, e = 0; e < this.m_iMaxPageNum; e++) t = cc.instantiate(this.m_PuzzlePagePrefab), this.m_iPageWeidth = t.width, this.m_pvPuzzlePage.addPage(t), t.setPosition(cc.Vec3.ZERO);
                this.CreatePuzzleObj(), this.m_pvPuzzlePage.node.on("scroll-ended", this.ScrollEndedCallBack.bind(this)), this.m_pvPuzzlePage.node.on("scroll-began", this.ScrollBeganCallBack.bind(this)), this.m_pvPuzzlePage.node.on("scrolling", this.ScrollTurningCallBack.bind(this))
            }, e.prototype._onDestroy = function() {
                this.m_pvPuzzlePage && (this.m_pvPuzzlePage.node.off("scroll-ended", this.ScrollEndedCallBack.bind(this)), this.m_pvPuzzlePage.node.off("scroll-began", this.ScrollBeganCallBack.bind(this)), this.m_pvPuzzlePage.node.off("scrolling", this.ScrollTurningCallBack.bind(this)))
            }, e.prototype.CreatePuzzleObj = function() {
                for (var t = 0; t < this.m_iPageCount; t++) {
                    var e = cc.instantiate(this.m_aryPuzzlePfb[t].data);
                    e.name = "pageNode";
                    var o = e.getComponent(s.default),
                        n = new g;
                    n.strPuzzleType = o.PuzzleType, n.nodeRoot = e, n.ctrl = o, this.m_aryPuzzlePageMember.push(n)
                }
                this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex, 0), this.m_pvPuzzlePage.scrollToOffset(new cc.Vec2(2 * this.m_iPageWeidth, 0)), this.SetPageContent(), this.ScrollEndedCallBack(), this.m_iTmpLoopNum = 1, this.InitPuzzle(), this.m_funDownloadPageFinish && this.m_funDownloadPageFinish(this.m_aryPuzzlePageMember)
            }, e.prototype.DownloadPage = function(t) {
                var e = this,
                    o = "Mission/900005/Puzzle/puzzleEggType" + t,
                    n = this;
                cc.resources.load(o, cc.Prefab, function(o, i) {
                    if (o) return n.m_iDownloadFinishNum++, console.error(o);
                    if (n.m_iDownloadFinishNum++, console.log("\u4e0b\u8f09\u5b8c\u6210~ " + i.name + ", self.imgDownloadFinishNum = " + n.m_iDownloadFinishNum), e.tmpJSON[t] = i, e.m_iDownloadFinishNum >= e.m_iPageCount) {
                        for (var r = 1; r <= e.m_iPageCount; r++)
                            if (e.tmpJSON[r]) {
                                var a = cc.instantiate(e.tmpJSON[r]);
                                a.name = "pageNode";
                                var c = a.getComponent(s.default),
                                    l = new g;
                                l.strPuzzleType = c.PuzzleType, l.nodeRoot = a, l.ctrl = c, e.m_aryPuzzlePageMember.push(l)
                            }
                        e.tmpJSON[t] = null, e.m_pvPuzzlePage.scrollToPage(e.m_iCenterPageIndex, 0), e.m_pvPuzzlePage.scrollToOffset(new cc.Vec2(2 * e.m_iPageWeidth, 0)), e.SetPageContent(), e.ScrollEndedCallBack(), e.m_iTmpLoopNum = 1, e.InitPuzzle(), e.m_funDownloadPageFinish && e.m_funDownloadPageFinish(e.m_aryPuzzlePageMember), e.m_bIsDownloadFin = !0
                    }
                })
            }, e.prototype.ScrollBeganCallBack = function() {
                255 == this.node.opacity && 0 == this.m_TipsMgr.node.active && p.AudioMgr.Instance.Play(a.PUZZLE_SOUND.PUZZLE_SCROLL_START, !1, 1), this.unscheduleAllCallbacks(), cc.Tween.stopAllByTarget(this.m_nodeTitleAward), cc.tween(this.m_nodeTitleAward).to(this.m_iUIScrollTweenTime, {
                    position: cc.v3(0, 100),
                    opacity: 0
                }).start();
                for (var t = 0; t < this.m_aryPuzzlePageMember.length; t++) this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[t].nodeRoot, !1, !0);
                this.m_nodeHintR.active = !1, this.m_nodeHintL.active = !1
            }, e.prototype.ScrollTurningCallBack = function() {
                var t = this.m_pvPuzzlePage.content.getPosition().x;
                if (this.m_pvPuzzlePage.getCurrentPageIndex(), t > -1200)(e = this.m_pvPuzzlePage.getPages()[3].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[0]);
                else if (t < -2e3)(e = this.m_pvPuzzlePage.getPages()[1].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[4]);
                else {
                    var e;
                    (e = this.m_pvPuzzlePage.getPages()[0].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[3]), (e = this.m_pvPuzzlePage.getPages()[4].getChildByName("pageNode")) && e.setParent(this.m_pvPuzzlePage.getPages()[1])
                }
            }, e.prototype.ScrollEndedCallBack = function() {
                cc.Tween.stopAllByTarget(this.m_nodeTitleAward), cc.tween(this.m_nodeTitleAward).to(this.m_iUIScrollTweenTime, {
                    position: cc.v3(0, 0),
                    opacity: 255
                }).start();
                var t = this.m_pvPuzzlePage.getCurrentPageIndex();
                if (t != this.m_iCenterPageIndex) {
                    var e = !1;
                    if (t >= 2)
                        for (; !e;) this.m_iTmpLoopNum += 1, this.m_iTmpLoopNum >= this.m_iPageCount && (this.m_iTmpLoopNum = 0), e = !0;
                    else
                        for (; !e;) this.m_iTmpLoopNum -= 1, this.m_iTmpLoopNum < 0 && (this.m_iTmpLoopNum = this.m_iPageCount - 1), e = !0;
                    this.m_iShowPuzzleIndex = this.m_iTmpLoopNum, this.SetPageContent(), this.m_pvPuzzlePage.scrollToOffset(new cc.Vec2(2 * this.m_iPageWeidth, 0)), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex, 0)
                } else this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iCenterType].nodeRoot, !0);
                this.CheckHint(), this.ShowPageInfo()
            }, e.prototype.SetPageContent = function() {
                if (this.m_aryPuzzlePageMember)
                    for (var t = 0; t < this.m_iMaxPageNum;)
                        if (this.m_iShowPuzzleIndex < this.m_iPageCount) {
                            var e = this.m_pvPuzzlePage.getPages()[t];
                            if (null != e) {
                                if (this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex])
                                    if (t >= 1 && t <= 3 && this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot.setParent(e), 2 == t) {
                                        this.m_iCenterType = this.m_iShowPuzzleIndex, this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot, !0);
                                        var o = this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].data;
                                        o && (this.SetTitle(o), o.TmpPieceAmount > 0 ? this.ShowCollectEffect(o) : this.m_nodeTouchMask.activeInHierarchy && (this.m_nodeTouchMask.active = !1))
                                    } else this.SetPuzzleScaleAndColor(this.m_aryPuzzlePageMember[this.m_iShowPuzzleIndex].nodeRoot);
                                t++, this.m_iShowPuzzleIndex++
                            }
                            this.m_iShowPuzzleIndex >= this.m_iPageCount && (this.m_iShowPuzzleIndex = 0)
                        }
            }, e.prototype.SetPuzzleScaleAndColor = function(t, e, o) {
                var n = this;
                void 0 === e && (e = !1), void 0 === o && (o = !1);
                var i = e ? cc.Color.WHITE : cc.Color.GRAY,
                    r = e ? 1 : .7;
                cc.Tween.stopAllByTarget(t), cc.tween(t).to(this.m_iUIScrollTweenTime, {
                    scale: r
                }).start(), e && !o && 255 == this.node.opacity && 0 == this.m_TipsMgr.node.active && this.scheduleOnce(function() {
                    p.AudioMgr.Instance.Play(a.PUZZLE_SOUND.PUZZLE_SCROLL_STOP, !1, 1)
                }, this.m_iUIScrollTweenTime), t.getComponentsInChildren(cc.Sprite).forEach(function(t) {
                    cc.tween(t.node).to(n.m_iUIScrollTweenTime, {
                        color: i
                    }).start()
                })
            }, e.prototype.ShowPageInfo = function() {}, e.prototype.Init = function(t, e, o) {
                this.m_strPlayerID = t, this.m_questDataAry = e, this.InitPuzzle();
                var n = this.tsToDateTime(e[0].StartTimeUTC),
                    i = this.tsToDateTime(o);
                this.m_labEventTime.string = "EVENT TIME: " + n + " - " + i, this.m_nodeHintL.active = !1, this.m_nodeHintR.active = !1
            }, e.prototype.tsToDateTime = function(t) {
                var e = 1e3 * t,
                    o = m(new Date(e), "MM/DD/YYYY");
                return console.warn("\u62fc\u5716\u6642\u9593 date = " + o.toString() + ", ts = " + t), console.warn("\u62fc\u5716\u6642\u9593 TEST date = " + new Date(m(e).toString())), o
            }, e.prototype.InitPuzzle = function() {
                if (null != this.m_questDataAry && this.m_questDataAry != [] && this.m_aryPuzzlePageMember != [])
                    for (var t = null, e = 0; e < this.m_questDataAry.length; e++) {
                        var o = this.FindPuzzleMember(this.m_questDataAry[e].PuzzleType);
                        o && (o.data = this.m_questDataAry[e]), (t = this.FindPuzzleCtrl(this.m_questDataAry[e].PuzzleType)) && t.InitShowCurPieces(this.m_questDataAry[e].CurPuzzleProgress)
                    }
            }, e.prototype.UpdateTimer = function(t, e) {
                this.m_cdLabTimer && this.m_cdLabTimer.UpdateUIWithFormate(t, e)
            }, e.prototype.FindPuzzleMember = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e];
                return null
            }, e.prototype.FindPuzzleCtrl = function(t) {
                for (var e = 0; e < this.m_aryPuzzlePageMember.length; e++)
                    if (this.m_aryPuzzlePageMember[e].strPuzzleType == t) return this.m_aryPuzzlePageMember[e].ctrl;
                return null
            }, e.prototype.Show = function(t) {
                if (t && (this.m_questDataAry = t, this.m_nodeRoot.opacity = 255, this.m_nodeRoot.setPosition(cc.Vec2.ZERO), this.CheckShowTips(t) ? (this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex - 1, .01), this.m_TipsMgr.ShowTipePage(this.m_strPlayerID)) : p.AudioMgr.Instance.Play(a.PUZZLE_SOUND.PUZZLE_SCROLL_STOP, !1, 1), t)) {
                    this.InitPuzzle();
                    var e = this.FindMaxUnCollectPiecePuzzle(t);
                    if (e) {
                        var o = c.PUZZLE_ITEM[e.PuzzleType].index;
                        if (o != this.m_iCenterType) {
                            this.m_nodeTouchMask.active = !0, this.ScrollBeganCallBack();
                            var n = o - this.m_iCenterType;
                            n <= -2 ? n = 1 : n >= 2 && (n = -1), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + n, .5), this.ShowPageInfo()
                        } else this.SetTitle(e), e.TmpPieceAmount > 0 && this.ShowCollectEffect(e)
                    } else {
                        var i = this.FindPuzzleDataByIndexType(this.m_iCenterType);
                        this.SetTitle(i)
                    }
                }
            }, e.prototype.FindMaxUnCollectPiecePuzzle = function(t) {
                if (t) {
                    for (var e = 0, o = null, n = 0; n < t.length; n++) t[n].TmpPieceAmount > e && (e = t[n].TmpPieceAmount, o = t[n]);
                    if (null != o && e > 0)
                        for (n = 0; n < t.length; n++) t[n].PuzzleType != o.PuzzleType && t[n].TmpPieceAmount == o.TmpPieceAmount && (t[n].Award.AwardType == a.PUZZLE_ITEM_DEFINE.Entry ? t[n].Award.AwardEntries > o.Award.AwardEntries && (o = t[n]) : t[n].Award.AwardType == a.PUZZLE_ITEM_DEFINE.Winning && t[n].Award.AwardWinnings > o.Award.AwardWinnings && (o = t[n]));
                    return o && console.warn("\u627e\u6700\u5927\u672a\u6536\u96c6\u6578 Type = " + o.PuzzleType + ", maxTmpCount \u672a\u6536\u96c6\u6578 = " + e), o
                }
            }, e.prototype.MapPuzzleTypeByCenterType = function(t) {
                var e = "";
                switch (t) {
                    case 0:
                        e = "Copper";
                        break;
                    case 1:
                        e = "Sliver";
                        break;
                    case 2:
                        e = "Gold"
                }
                return e
            }, e.prototype.FindPuzzleDataByIndexType = function(t) {
                var e = this.MapPuzzleTypeByCenterType(t);
                return this.m_questDataAry.find(function(t) {
                    return t.PuzzleType == e
                })
            }, e.prototype.CheckShowTips = function(t) {
                if (this.m_bHasShowTips) return !1;
                for (var e = 0, o = 0, n = 0; n < t.length; n++) e += t[n].CurPuzzleProgressCount, o += t[n].TmpCompleteTimes;
                return 0 == e && 0 == o && (this.m_bHasShowTips = !0, !0)
            }, e.prototype.ShowCollectEffect = function(t) {
                var e = this;
                t.TmpPieceAmount <= 0 || (this.m_nodeTouchMask.active = !0, this.m_aryPuzzleCollectParticle.forEach(function(t) {
                    t.resetSystem()
                }), this.m_nodeRadPoin.active = !1, this.m_animPuzzleCollectEffect.node.opacity = 255, this.m_animPuzzleCollectEffect.play(), p.AudioMgr.Instance.Play(a.PUZZLE_SOUND.PUZZLE_PIECE_COLLECT_START, !1, 1), this.scheduleOnce(function() {
                    e.m_labPieceCount.node.active = !1
                }, 1), this.scheduleOnce(function() {
                    t.TmpPieceAmount = 0;
                    var o = e.FindPuzzleCtrl(t.PuzzleType);
                    o && o.CollectPieces(t.CurPuzzleProgress, t.CurGetNewPuzzleProgress), p.AudioMgr.Instance.Play(a.PUZZLE_SOUND.PUZZLE_PIECE_COLLECT_DONE, !1, 1)
                }, 1.3), this.scheduleOnce(function() {
                    e.m_nodeTouchMask.active = !1, e.m_animPuzzleCollectEffect.node.opacity = 0, e.CheckHint()
                }, 2.25))
            }, e.prototype.CheckHint = function() {
                var t = this.m_iCenterType + 1;
                t > this.m_aryPuzzlePageMember.length - 1 && (t = 0);
                var e = this.FindPuzzleDataByIndexType(t);
                e && e.TmpPieceAmount > 0 && (this.m_nodeHintR.active = !0);
                var o = this.m_iCenterType - 1;
                o < 0 && (o = this.m_aryPuzzlePageMember.length - 1);
                var n = this.FindPuzzleDataByIndexType(o);
                n && n.TmpPieceAmount > 0 && (this.m_nodeHintL.active = !0)
            }, e.prototype.SetTitle = function(t) {
                var e = c.PUZZLE_ITEM[t.PuzzleType].index;
                this.m_spAwardTitle.spriteFrame = this.m_aryAwardTitleFrame[e], this.m_spPuzzleIcon.spriteFrame = this.m_aryPieceSpriteFrame[e], 4 == t.Award.AwardType ? this.m_labAward.string = "$" + (t.Award.AwardEntries * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                }) : 5 == t.Award.AwardType && (this.m_labAward.string = "$" + (t.Award.AwardWinnings * t.ExchangeRate).toLocaleString("en-US", {
                    minimumFractionDigits: 2
                })), t.TmpPieceAmount > 0 ? (this.m_nodeRadPoin.active = !0, this.m_labPieceCount.node.active = !0, this.m_labPieceCount.string = t.TmpPieceAmount.toString()) : (this.m_nodeRadPoin.active = !1, this.m_labPieceCount.node.active = !1)
            }, e.prototype.HidePage = function() {
                this.m_nodeRoot.opacity = 0, this.m_nodeRoot.setPosition(new cc.Vec2(9999, 9999)), this.m_funUnlockShoot && this.m_funUnlockShoot()
            }, e.prototype.Clear = function() {
                if (0 != this.m_iCenterType) {
                    this.ScrollBeganCallBack();
                    var t = 0 - this.m_iCenterType;
                    t <= -2 ? t = 1 : t >= 2 && (t = -1), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + t, .1), this.ShowPageInfo()
                }
                this.HidePage()
            }, e.prototype.OnClosePage = function() {
                this.HidePage(), this.m_funClosePage && this.m_funClosePage()
            }, e.prototype.CallNextPage = function() {
                this.ScrollBeganCallBack(), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex + 1, .3), this.ShowPageInfo()
            }, e.prototype.CallPrePage = function() {
                this.ScrollBeganCallBack(), this.m_pvPuzzlePage.scrollToPage(this.m_iCenterPageIndex - 1, .3), this.ShowPageInfo()
            }, e.prototype.ShowInfoPage = function() {
                this.m_funOpenInfoPage && this.m_funOpenInfoPage()
            }, e.prototype.ShowAwardListPage = function() {
                this.m_funOpenAwardListPage && this.m_funOpenAwardListPage()
            }, r([_(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([_(cc.Node)], e.prototype, "m_nodeTouchMask", void 0), r([_(cc.Node)], e.prototype, "m_nodeTitleAward", void 0), r([_(cc.PageView)], e.prototype, "m_pvPuzzlePage", void 0), r([_(cc.Prefab)], e.prototype, "m_PuzzlePagePrefab", void 0), r([_(cc.Node)], e.prototype, "m_nodeRadPoin", void 0), r([_(cc.Label)], e.prototype, "m_labPieceCount", void 0), r([_(cc.Label)], e.prototype, "m_labAward", void 0), r([_([cc.SpriteFrame])], e.prototype, "m_aryAwardTitleFrame", void 0), r([_(cc.Sprite)], e.prototype, "m_spAwardTitle", void 0), r([_([cc.SpriteFrame])], e.prototype, "m_aryPieceSpriteFrame", void 0), r([_(cc.Sprite)], e.prototype, "m_spPuzzleIcon", void 0), r([_(cc.Animation)], e.prototype, "m_animPuzzleCollectEffect", void 0), r([_([cc.ParticleSystem])], e.prototype, "m_aryPuzzleCollectParticle", void 0), r([_([cc.Prefab])], e.prototype, "m_aryPuzzlePfb", void 0), r([_(cc.Node)], e.prototype, "m_nodeHintL", void 0), r([_(cc.Node)], e.prototype, "m_nodeHintR", void 0), r([_(cc.Label)], e.prototype, "m_labEventTime", void 0), r([_(l.DateTimeCountDown)], e.prototype, "m_cdLabTimer", void 0), r([_(u.default)], e.prototype, "m_TipsMgr", void 0), r([d], e)
        }(cc.Component);
        o.FishPuzzleEggPuzzlePageMgr = f, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "./FishPuzzleEggData": "FishPuzzleEggData",
        "./FishPuzzleEggPuzzlePage": "FishPuzzleEggPuzzlePage",
        "./FishPuzzleEggTipsMgr": "FishPuzzleEggTipsMgr",
        "date-fns/format": 5
    }],
    FishPuzzleEggPuzzlePageState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b2575XEE9NGRYWFXZ4/i5nv", "FishPuzzleEggPuzzlePageState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggPuzzlePageState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {
                this.target.EVENT_OPEN_UI && this.target.EVENT_OPEN_UI(), this.target.m_IconMgr.ShowIcon(!1), this.target.m_PuzzlePageMgr.Show(this.target.m_aryEventData)
            }, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {
                this.target.m_IconMgr.CheckRedPoint(this.target.m_aryEventData), this.target.m_PuzzlePageMgr.HidePage()
            }, t
        }();
        o.FishPuzzleEggPuzzlePageState = n, cc._RF.pop()
    }, {}],
    FishPuzzleEggPuzzlePage: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6b44bjdrXJKyJki9nhp2ugX", "FishPuzzleEggPuzzlePage");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iPuzzleType = "", e.m_aryPiecesAnim = [], e
                }
                return i(e, t), Object.defineProperty(e.prototype, "PuzzleType", {
                    get: function() {
                        return this.m_iPuzzleType
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.onLoad = function() {}, e.prototype.ShowAllPieces = function() {
                    for (var t = 0; t < this.m_aryPiecesAnim.length; t++) this.m_aryPiecesAnim[t].node.active = !0, this.m_aryPiecesAnim[t].play("PuzzlePieceShowIdle")
                }, e.prototype.InitShowCurPieces = function(t) {
                    var e = this;
                    Object.keys(t).forEach(function(o) {
                        var n = Number(o) - 1;
                        t[o] >= 1 ? (e.m_aryPiecesAnim[n].node.active = !0, e.m_aryPiecesAnim[n].play("PuzzlePieceShowIdle")) : e.m_aryPiecesAnim[n].node.active = !1
                    })
                }, e.prototype.GetPieceCount = function() {
                    return this.m_aryPiecesAnim.length
                }, e.prototype.CollectPieces = function(t, e) {
                    if (null != t && null != e)
                        for (var o = 0; o < this.m_aryPiecesAnim.length; o++) {
                            var n = o + 1;
                            0 == e[n] && (this.m_aryPiecesAnim[o].node.active = !1), e[n] >= 1 && 0 == t[n] && (this.m_aryPiecesAnim[o].node.active = !0, this.m_aryPiecesAnim[o].node.getComponentInChildren(cc.Sprite).node.active = !1, this.m_aryPiecesAnim[o].play("PuzzlePieceCollect"), t[n] = Object.assign(e[n]))
                        }
                }, e.prototype.Clear = function() {
                    for (var t = 0; t < this.m_aryPiecesAnim.length; t++) this.m_aryPiecesAnim[t].node.active = !1
                }, r([c], e.prototype, "m_iPuzzleType", void 0), r([c([cc.Animation])], e.prototype, "m_aryPiecesAnim", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    FishPuzzleEggTipsMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b7355+wGmFAnrCoCrLJmHDD", "FishPuzzleEggTipsMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PuzzleTipsStep = void 0;
        var a, s = t("../../../Component/AudioMgr"),
            c = t("./FishPuzzleEggData"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property;
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.ShowP1Tips = 0] = "ShowP1Tips", t[t.ShowP1ID = 1] = "ShowP1ID", t[t.ShowP2Tips = 2] = "ShowP2Tips", t[t.Close = 3] = "Close"
        })(a = o.PuzzleTipsStep || (o.PuzzleTipsStep = {}));
        var m = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeP1 = null, e.m_nodeP1Txt = null, e.m_nodeP1ID = null, e.m_labID = null, e.m_nodeP2 = null, e.m_Step = a.NONE, e
            }
            return i(e, t), e.prototype.ShowTipePage = function(t) {
                this.m_labID.string = "No. " + t, this.CloseTipPage(), this.CallNextStep()
            }, e.prototype.ShowPage1Tips = function() {
                this.node.active = !0, this.m_nodeP1.active = !0, this.m_nodeP1Txt.active = !0, this.m_nodeP1ID.active = !1, this.m_nodeP2.active = !1
            }, e.prototype.ShowPage1ID = function() {
                this.m_nodeP1.active = !0, this.m_nodeP1Txt.active = !1, this.m_nodeP1ID.active = !0, this.m_nodeP2.active = !1
            }, e.prototype.ShowPage2 = function() {
                this.m_nodeP1.active = !1, this.m_nodeP2.active = !0
            }, e.prototype.CloseTipPage = function() {
                this.m_Step = a.NONE, this.node.active = !1, this.m_nodeP1.active = !1, this.m_nodeP2.active = !1
            }, e.prototype.CallNextStep = function() {
                switch (this.m_Step++, this.m_Step == Number(a.ShowP1ID) && (this.m_Step = a.ShowP2Tips), this.m_Step) {
                    case a.ShowP1Tips:
                        s.AudioMgr.Instance.Play(c.PUZZLE_SOUND.TIPS_SHOW, !1, 1), this.ShowPage1Tips();
                        break;
                    case a.ShowP1ID:
                        break;
                    case a.ShowP2Tips:
                        s.AudioMgr.Instance.Play(c.PUZZLE_SOUND.TIPS_SHOW, !1, 1), this.ShowPage2();
                        break;
                    case a.Close:
                        this.CloseTipPage()
                }
            }, r([p(cc.Node)], e.prototype, "m_nodeP1", void 0), r([p(cc.Node)], e.prototype, "m_nodeP1Txt", void 0), r([p(cc.Node)], e.prototype, "m_nodeP1ID", void 0), r([p(cc.Label)], e.prototype, "m_labID", void 0), r([p(cc.Node)], e.prototype, "m_nodeP2", void 0), r([u], e)
        }(cc.Component);
        o.default = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./FishPuzzleEggData": "FishPuzzleEggData"
    }],
    FishPuzzleEggWaitCmdState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "322fab2eWlLcLbgl1ch4FR6", "FishPuzzleEggWaitCmdState"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishPuzzleEggWaitCmdState = void 0;
        var n = function() {
            function t() {}
            return t.prototype.PreUpdate = function() {}, t.prototype.Update = function() {}, t.prototype.PostUpdate = function() {}, t
        }();
        o.FishPuzzleEggWaitCmdState = n, cc._RF.pop()
    }, {}],
    FishUIMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fc0f03cLdJMgKQ3vmbKNR3m", "FishUIMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.FishEventType = o.WeaponType = void 0;
        var a, s, c = t("../../GameCommon/DownBar/GameBar"),
            l = t("./MouseMark"),
            u = t("./BtnState"),
            p = t("./CanvasHandler"),
            m = t("../../LobbyCommon/Net/LobbyClient"),
            h = t("./WeaponChangeHint"),
            d = t("./WeaponActiveHint"),
            _ = t("../../LobbyCommon/Component/NumberCountUp"),
            g = t("../../LobbyCommon/Helper/EventSystem"),
            f = t("../../LobbyCommon/Component/AvatarIcon"),
            y = t("../../GameCommon/Profile/RewardNoticeMgr"),
            S = t("../../GameCommon/Profile/AvatarNoticeMgr"),
            C = t("../../LobbyCommon/Net/ClickLog"),
            v = t("../../LobbyCommon/Net/ClickLogEnum");
        (function(t) {
            t[t.None = -1] = "None", t[t.Normal = 50001] = "Normal", t[t.Lock = 51001] = "Lock", t[t.Tiger = 56001] = "Tiger", t[t.Dragon = 57001] = "Dragon"
        })(a = o.WeaponType || (o.WeaponType = {})),
        function(t) {
            t[t.ItemMission = 0] = "ItemMission", t[t.OceanHeart = 1] = "OceanHeart", t[t.PuzzleEgg = 2] = "PuzzleEgg"
        }(s = o.FishEventType || (o.FishEventType = {}));
        var b = cc._decorator,
            P = b.ccclass,
            w = b.property,
            I = function() {
                function t() {
                    this.Root = null, this.ScoreBoxNode = null, this.NoScoreBoxNode = null, this.Entries = null, this.Winnings = null, this.Credit = null, this.Profile = null, this.ProfileBtn = null, this.ScoreBoxProfileBtn = null, this.NoScoreBoxProfileBtn = null
                }
                return r([w(cc.Node)], t.prototype, "Root", void 0), r([w(cc.Node)], t.prototype, "ScoreBoxNode", void 0), r([w(cc.Node)], t.prototype, "NoScoreBoxNode", void 0), r([w(_.NumberCountUp)], t.prototype, "Entries", void 0), r([w(_.NumberCountUp)], t.prototype, "Winnings", void 0), r([w(_.NumberCountUp)], t.prototype, "Credit", void 0), r([w(f.default)], t.prototype, "Profile", void 0), r([w(cc.Button)], t.prototype, "ProfileBtn", void 0), r([w(cc.Button)], t.prototype, "ScoreBoxProfileBtn", void 0), r([w(cc.Button)], t.prototype, "NoScoreBoxProfileBtn", void 0), r([P("PlayerBlock")], t)
            }(),
            M = function() {
                function t() {
                    this.Root = null, this.Avatar = null, this.Frame = null
                }
                return r([w(cc.Node)], t.prototype, "Root", void 0), r([w({
                    type: cc.Sprite,
                    displayName: "\u982d\u50cf"
                })], t.prototype, "Avatar", void 0), r([w({
                    type: cc.Sprite,
                    displayName: "\u5916\u6846"
                })], t.prototype, "Frame", void 0), r([P("Avatar")], t)
            }(),
            E = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.BET_TIPS_EVENT_PUZZLE = "Raise your play and get more EGGS!", e.Root = null, e.BtnWeapon = null, e.BtnLockSetting = null, e.WeaponChangeTouchArea = null, e.WeaponChangeHintPrefab = null, e.WeaponActiveHintPrefab = null, e.PurchaseBlockingHint = null, e.PurchaseBlockHintLabel = [], e.MousePrefab = null, e.BtnList = [], e.NodeTeachPanel = null, e.MaskTeachPanel = null, e.MaskNode = [], e.SummonTip = null, e.FreezeTip = null, e.MaskWeaponNode = [], e.WeaponTeachUI = null, e.NodeWeaponChangeHintRoot = null, e.SignalObj = [], e.SignalSprite = [], e.NodeBetEventTips = null, e.LabBetEventTips = null, e.BetScale = null, e.ChangeWeaponNode = null, e.OtherPlayerBlocks = [], e.ProfileNode = null, e.AvatarNode = new M, e.PlayerNameNode = null, e.AvatarNoticeMgr = null, e.RewardNoticeMgr = null, e.ProfileBlockingHint = null, e.ProfileBlockingHintBG = null, e.ProfileBlockingHintArrow = null, e.ProfileBlockingHintLabel = null, e.m_WeaponChangeHint = null, e.m_WeaponActiveHint = null, e.m_PurchaseMgr = null, e.m_FucGetWeaponSetting = null, e.m_FucGetPlayerById = null, e.m_FucGetPlayerIdBySeat = null, e.m_FucGetOtherPlayerAsset = null, e.MouseMark = null, e.isPurchaseOpen = !1, e.isEnableLockSetting = !1, e.isEnableAuto = !1, e.isShowedLockSettingHint = !1, e.tempBetScale = 1, e.weapon_setting = {}, e.cannonEnableData = null, e.MainPlayerSeat = -1, e.OtherPlayerSeat = -1, e.BlockIndex = -1, e.profileTempData = {}, e
                }
                return i(e, t), Object.defineProperty(e.prototype, "CannonEnableData", {
                    set: function(t) {
                        this.cannonEnableData = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype._onLoad = function() {
                    this.m_DelBetChange = new SS.Common.Delegate, this.m_DelClickAddBetLevel = new SS.Common.Delegate, this.m_DelClickReduceBetLevel = new SS.Common.Delegate, this.m_DelClickChange = new SS.Common.Delegate, this.m_DelClickAuto = new SS.Common.Delegate, this.m_DelClickLockSetting = new SS.Common.Delegate, this.m_DelClickPurchase = new SS.Common.Delegate, this.m_DelPurchaseSuccess = new SS.Common.Delegate, this.m_DelCloseTeachPanel = new SS.Common.Delegate, this.m_DelClickWeaponChose = new SS.Common.Delegate, this.m_DelClickWeaponChoseBtn = new SS.Common.Delegate, this.m_DelClickProfile = new SS.Common.Delegate, this.m_DelClickAutoStop = new SS.Common.Delegate, g.EventSystem.Event(g.FishHunter.OpenProfile).Insert(this.ClickPlayerProfile, this), g.EventSystem.Event(g.FishHunter.OpenAvatarEditor).Insert(this.ClickMainPlayerAvatarEditor, this)
                }, e.prototype.Compose = function(t) {
                    this.m_PurchaseMgr = t.parPurchaseMgr, this.m_PurchaseMgr.OnPurchaseSuccess.Insert(this.OnPurchaseSuccess, this), this.m_PurchaseMgr.OnPurchasePanelDisable.Insert(this.OnPurchasePanelDisable, this)
                }, e.prototype.Init = function() {
                    var t = this;
                    if (cc.sys.platform == cc.sys.DESKTOP_BROWSER && "iOS" != cc.sys.os && !this.MouseMark && this.MousePrefab) {
                        cc.game.canvas.style.cursor = "none";
                        var e = cc.instantiate(this.MousePrefab);
                        this.MouseMark = e.getComponent(l.default);
                        var o = cc.find("Canvas").getComponent(cc.Canvas);
                        o ? (o.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this), o.node.on(cc.Node.EventType.MOUSE_ENTER, function() {
                            t.switchMouseMark(!1)
                        }, this, !1), e.setParent(o.node)) : console.error("[FishUIMgr] Can't Find Canvas");
                        for (var n = 0; n < this.BtnList.length; n++) this.BtnList[n].on(cc.Node.EventType.MOUSE_ENTER, function() {
                            t.switchMouseMark(!0)
                        }, this, !1)
                    }
                    this.isEnableAuto = !1, this.NodeTeachPanel.active = !1, this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_START, this.PressAddBtn, this), this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_END, this.ReleaseAddBtn, this), this.BtnBetUp.node.on(cc.Node.EventType.TOUCH_CANCEL, this.ReleaseAddBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_START, this.PressMinusBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_END, this.ReleaseMinusBtn, this), this.BtnBetDown.node.on(cc.Node.EventType.TOUCH_CANCEL, this.ReleaseMinusBtn, this), this.ChangeWeaponNode.on(cc.Node.EventType.TOUCH_START, this.ClickChangeWeapon, this), this.ChangeWeaponNode.on(cc.Node.EventType.TOUCH_MOVE, this.ClickChangeWeapon, this), this.OtherPlayerBlocks.forEach(function(t) {
                        return t.Root.active = !1
                    })
                }, e.prototype.mouseMove = function(t) {
                    this.MouseMark && this.MouseMark.node.setPosition(t.getLocation().sub(p.default.Instance.halfDiagonal))
                }, e.prototype.switchMouseMark = function(t) {
                    this.MouseMark && this.MouseMark.switchArrowMark(t)
                }, e.prototype.RegisterMouseEvent = function(t) {
                    var e = this;
                    t.on(cc.Node.EventType.MOUSE_ENTER, function() {
                        e.switchMouseMark(!0)
                    }, this, !1)
                }, e.prototype.RegisterMouseEventList = function(t) {
                    for (var e = 0; e < t.length; e++) this.RegisterMouseEvent(t[e])
                }, e.prototype.switchMouseMarkTrue = function() {
                    this.MouseMark.switchArrowMark(!0)
                }, e.prototype.SetUserName = function(t) {
                    null != this.TextUserName && (null == t && (t = ""), this.TextUserName.string = t)
                }, e.prototype.SetGameVersion = function(t) {
                    null != this.TextVersion && null != t && "" != t && (this.TextVersion.string = "v" + t)
                }, e.prototype.SetPurchaseBlockingMsg = function(t) {
                    null != this.PurchaseBlockingHint && 0 != this.PurchaseBlockHintLabel.length && null != t && this.PurchaseBlockHintLabel.forEach(function(e) {
                        return e.string = t
                    })
                }, e.prototype.SetUserInfoPosition = function(t) {
                    null != this.NodeScoreBox && (this.MainPlayerSeat = t, 0 != (t %= 2) && 1 != t && (t = 0), SS.Common.GameEnvironment.IsUseScoreBox ? (this.NodeCreadit.active = !1, this.NodeScoreBox.setPosition(532 * (2 * t - 1), -360), this.BtnPurchase.node.setPosition(100 * (1 - 2 * t), 130), this.BtnPromptPurchase.node.setPosition(100 * (1 - 2 * t), 130), this.PurchaseBlockingHint.x = this.BtnPurchase.node.x, this.PurchaseBlockingHint.children[t].active = !0, this.PurchaseBlockingHint.children[(t + 1) % 2].active = !1, this.SignalObj[0].node.setPosition(610 * (2 * t - 1), -170)) : (this.NodeScoreBox.active = !1, this.NodeCreadit.setPosition(537 * (2 * t - 1), -360), this.SignalObj[0].node.setPosition(610 * (2 * t - 1), -170)), this.ProfileNode.node.setPosition(532 * (2 * t - 1), -360), this.AvatarNode.Root.setPosition(79 * (2 * t - 1), 35), this.AvatarNode.Root.convertToWorldSpaceAR(cc.Vec3.ZERO), this.PlayerNameNode.setPosition(18 * (1 - 2 * t), 37), this.ProfileBlockingHintBG.setPosition(507 * (2 * t - 1), -191), this.ProfileBlockingHintArrow.setPosition(679 * (2 * t - 1), -271), this.ProfileBlockingHintLabel.node.setPosition(507 * (2 * t - 1), -188), this.TextVersion.node.setPosition(530 * (1 - 2 * t), -345), this.TextVersion.horizontalAlign = 0 == t ? cc.Label.HorizontalAlign.RIGHT : cc.Label.HorizontalAlign.LEFT, this.SetAvatarNotice(), this.SetRewardNotice())
                }, e.prototype.SetAvatarNotice = function() {
                    var t = this;
                    this.AvatarNoticeMgr.m_AvatarNoticeItem.forEach(function(e) {
                        e.root.setPosition(t.ProfileNode.node.position.x, t.ProfileNode.node.position.y + 160)
                    })
                }, e.prototype.SetRewardNotice = function() {
                    var t = this.AvatarNode.Root.convertToWorldSpaceAR(cc.Vec3.ZERO);
                    this.RewardNoticeMgr.m_nodeEffectTargetRoot.position = this.RewardNoticeMgr.node.convertToNodeSpaceAR(t), this.RewardNoticeMgr.m_spriteProfileBar = this.AvatarNode.Avatar
                }, e.prototype.SetMainPlayerAvatarInfo = function(t, e) {
                    void 0 === e && (e = -1), this.ProfileNode.SetNickname(t.nick_name), this.ProfileNode.SetFaceByID(t.equip_avatar), this.ProfileNode.SetFrameByID(t.equip_avatar_frame)
                }, e.prototype.SetOtherPlayerInfo = function(t, e) {
                    if (void 0 === e && (e = -1), e > -1) return this.BlockIndex = this.GetTargetBlockIndexBySeat(e), this.OtherPlayerBlocks[this.BlockIndex].Root.active = !1, this.OtherPlayerBlocks[this.BlockIndex].ProfileBtn.node.off(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1), void(SS.Common.GameEnvironment.IsUseScoreBox ? this.OtherPlayerBlocks[this.BlockIndex].ScoreBoxProfileBtn.node.off(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1) : this.OtherPlayerBlocks[this.BlockIndex].NoScoreBoxProfileBtn.node.off(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1));
                    t.seat != this.MainPlayerSeat && (this.BlockIndex = this.GetTargetBlockIndexBySeat(t.seat), this.OtherPlayerBlocks[this.BlockIndex].ScoreBoxNode.active = SS.Common.GameEnvironment.IsUseScoreBox, this.OtherPlayerBlocks[this.BlockIndex].NoScoreBoxNode.active = !SS.Common.GameEnvironment.IsUseScoreBox, this.OtherPlayerBlocks[this.BlockIndex].Entries.SetNumberNow(t.entries), this.OtherPlayerBlocks[this.BlockIndex].Winnings.SetNumberNow(t.winning), this.OtherPlayerBlocks[this.BlockIndex].Credit.SetNumberNow(t.entries), this.OtherPlayerBlocks[this.BlockIndex].Root.active = !0, this.OtherPlayerBlocks[this.BlockIndex].Profile.SetNickname(t.nick_name), this.OtherPlayerBlocks[this.BlockIndex].Profile.SetFaceByID(t.equip_avatar), this.OtherPlayerBlocks[this.BlockIndex].Profile.SetFrameByID(t.equip_avatar_frame), this.OtherPlayerBlocks[this.BlockIndex].ProfileBtn.node.on(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1), SS.Common.GameEnvironment.IsUseScoreBox ? this.OtherPlayerBlocks[this.BlockIndex].ScoreBoxProfileBtn.node.on(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1) : this.OtherPlayerBlocks[this.BlockIndex].NoScoreBoxProfileBtn.node.on(cc.Node.EventType.MOUSE_ENTER, this.switchMouseMarkTrue, this, !1))
                }, e.prototype.UpdateOtherPlayerAsset = function(t) {
                    for (var e = 0; e < t.length; e++) t[e].seat != this.MainPlayerSeat && (this.BlockIndex = this.GetTargetBlockIndexBySeat(t[e].seat), SS.Common.GameEnvironment.IsUseScoreBox ? (this.OtherPlayerBlocks[this.BlockIndex].Entries.SetNumberNow(t[e].entries), this.OtherPlayerBlocks[this.BlockIndex].Winnings.SetNumberNow(t[e].winnings)) : this.OtherPlayerBlocks[this.BlockIndex].Credit.SetNumberNow(t[e].entries))
                }, e.prototype.GetTargetBlockIndexBySeat = function(t) {
                    return this.OtherPlayerSeat = t, this.MainPlayerSeat > 1 && (this.OtherPlayerSeat = this.OtherPlayerSeat > 1 ? this.OtherPlayerSeat - 2 : this.OtherPlayerSeat + 2), this.OtherPlayerSeat
                }, e.prototype.GetPlayerSeatByBlockIndex = function(t) {
                    return this.OtherPlayerSeat = t, this.MainPlayerSeat > 1 && (this.OtherPlayerSeat = this.OtherPlayerSeat > 1 ? this.OtherPlayerSeat - 2 : this.OtherPlayerSeat + 2), this.OtherPlayerSeat
                }, e.prototype.SetWeaponChangeAreaPosition = function(t, e) {
                    null != this.WeaponChangeTouchArea && this.WeaponChangeTouchArea.node.setPosition(t, e)
                }, e.prototype.SetWeaponChangeHintPosition = function(t, e) {
                    null != this.WeaponChangeHintPrefab && (this.m_WeaponChangeHint = cc.instantiate(this.WeaponChangeHintPrefab), this.NodeWeaponChangeHintRoot.addChild(this.m_WeaponChangeHint), this.m_FucGetWeaponSetting ? this.m_WeaponChangeHint.getComponent(h.default).InitWithWeaponList(this.m_FucGetWeaponSetting()) : this.m_WeaponChangeHint.getComponent(h.default).Init(this.cannonEnableData), this.m_WeaponChangeHint.setPosition(t, e))
                }, e.prototype.SetBetBtnPosition = function(t, e) {
                    null != this.BtnBetUp && null != this.BtnBetDown && (this.BtnBetUp.node.setPosition(t + 90, e), this.BtnBetDown.node.setPosition(t - 90, e))
                }, e.prototype.IsWeaponChangeHintActive = function() {
                    return null != this.m_WeaponChangeHint && this.m_WeaponChangeHint.active
                }, e.prototype.CloseWeaponChangeHint = function() {
                    null != this.m_WeaponChangeHint && (this.m_WeaponChangeHint.active = !1, this.m_WeaponChangeHint.destroy(), this.m_WeaponChangeHint = null)
                }, e.prototype.ChangeWeaponButton = function(t, e) {
                    if (void 0 === e && (e = [a.Normal, a.Lock]), null != this.BtnWeapon && null != this.BtnLockSetting) {
                        var o = e[e.indexOf(t) + 1];
                        switch (o || (o = e[0]), t) {
                            case a.Normal:
                                return this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_0), void(this.BtnLockSetting.node.active = !1);
                            case a.Lock:
                                switch (o) {
                                    case a.Tiger:
                                        this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_2);
                                        break;
                                    case a.Dragon:
                                        this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_4);
                                        break;
                                    default:
                                        this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_1)
                                }
                                break;
                            case a.Tiger:
                                switch (o) {
                                    case a.Dragon:
                                        this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_6);
                                        break;
                                    default:
                                        this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_3)
                                }
                                break;
                            case a.Dragon:
                                this.BtnWeapon.getComponent(u.default).ChangeState(u.enumState.STATE_5)
                        }
                        if (this.BtnLockSetting.node.active = !0, !this.isShowedLockSettingHint) {
                            var n = this.BtnLockSetting.getComponent(cc.Animation);
                            null != n.currentClip && n.currentClip.name != n.getClips()[0].name || n.play(n.getClips()[1].name)
                        }
                    }
                }, e.prototype.SetBet = function(t, e) {
                    e && (this.tempBetScale = e, this.BetScale.node.parent.active = e > 1), this.BetScale.string = (t * this.tempBetScale).toString()
                }, e.prototype.SwitchLockSettingButton = function(t) {
                    null != this.BtnLockSetting && this.isEnableLockSetting != t && (t ? this.BtnLockSetting.getComponent(u.default).ChangeState(u.enumState.STATE_1) : this.BtnLockSetting.getComponent(u.default).ChangeState(u.enumState.STATE_0), this.isEnableLockSetting = t)
                }, e.prototype.SwitchAutoButton = function(t) {
                    if (null != this.BtnAuto && this.isEnableAuto != t) {
                        t ? this.BtnAuto.getComponent(u.default).ChangeState(u.enumState.STATE_1) : this.BtnAuto.getComponent(u.default).ChangeState(u.enumState.STATE_0);
                        var e = this.BtnAuto.getComponent(cc.Animation);
                        e.play(e.getClips()[Number(t)].name), this.isEnableAuto = t
                    }
                }, e.prototype.ShowPurchaseHint = function(t) {
                    if (void 0 === t && (t = !0), null != this.BtnPurchase && null != this.BtnPromptPurchase && this.BtnPromptPurchase.node.active != t) {
                        this.BtnPurchase.node.active = !t, this.BtnPromptPurchase.node.active = t;
                        var e = this.BtnPromptPurchase.getComponent(cc.Animation);
                        e.play(e.getClips()[Number(t)].name)
                    }
                }, e.prototype.ShowPurchaseBlockingHint = function(t) {
                    void 0 === t && (t = !0), null != this.PurchaseBlockingHint && (t ? (this.PurchaseBlockingHint.active || (this.PurchaseBlockingHint.active = !0, this.PurchaseBlockingHint.opacity = 0), this.PurchaseBlockingHint.stopAllActions(), this.PurchaseBlockingHint.runAction(cc.sequence(cc.fadeTo(.25, 255), cc.delayTime(3), cc.fadeTo(.5, 0)))) : (this.PurchaseBlockingHint.stopAllActions(), this.PurchaseBlockingHint.runAction(cc.fadeTo(.2, 0))))
                }, e.prototype.SetEntriesNow = function(t, e) {
                    void 0 === e && (e = !1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimEntries.SetNumberNow(t) && e && this.NumAnimEntries.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1))) : this.NumAnimCreadit.SetNumberNow(t) && e && this.NumAnimCreadit.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                }, e.prototype.CountUpEntries = function(t, e) {
                    void 0 === e && (e = 1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimEntries.CountUp(t, e) : this.NumAnimCreadit.CountUp(t, e)
                }, e.prototype.SetWinningNow = function(t, e, o) {
                    if (void 0 === e && (e = !0), void 0 === o && (o = !1), SS.Common.GameEnvironment.IsUseScoreBox) {
                        if (!o && this.NumAnimWinning.GetCurrentNumber > t) return;
                        this.NumAnimWinning.SetNumberNow(t) && e && this.NumAnimWinning.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                    } else {
                        if (!o && this.NumAnimCreadit.GetCurrentNumber > t) return;
                        this.NumAnimCreadit.SetNumberNow(t) && e && this.NumAnimCreadit.node.runAction(cc.sequence(cc.scaleTo(.05, 1.5), cc.scaleTo(.05, 1)))
                    }
                }, e.prototype.CountUpWinning = function(t, e) {
                    void 0 === e && (e = 1), SS.Common.GameEnvironment.IsUseScoreBox ? this.NumAnimWinning.CountUp(t, e) : this.NumAnimCreadit.CountUp(t, e)
                }, e.prototype.PressAddBtn = function() {
                    this.AddBet(!1), this.schedule(this.AddBet, .1, cc.macro.REPEAT_FOREVER, .5)
                }, e.prototype.ReleaseAddBtn = function() {
                    this.unschedule(this.AddBet), this.unschedule(this.SendUpdateBet), this.scheduleOnce(this.SendUpdateBet, .3)
                }, e.prototype.PressMinusBtn = function() {
                    this.MinusBet(!1), this.schedule(this.MinusBet, .1, cc.macro.REPEAT_FOREVER, .5)
                }, e.prototype.ReleaseMinusBtn = function() {
                    this.unschedule(this.MinusBet), this.unschedule(this.SendUpdateBet), this.scheduleOnce(this.SendUpdateBet, .3)
                }, e.prototype.SendUpdateBet = function() {
                    this.m_DelBetChange && this.m_DelBetChange.Length > 0 && this.m_DelBetChange.Notify()
                }, e.prototype.AddBet = function(t) {
                    void 0 === t && (t = !0), this.m_DelClickAddBetLevel && this.m_DelClickAddBetLevel.Length > 0 && this.m_DelClickAddBetLevel.Notify(t)
                }, e.prototype.MinusBet = function(t) {
                    void 0 === t && (t = !1), this.m_DelClickReduceBetLevel && this.m_DelClickReduceBetLevel.Length > 0 && this.m_DelClickReduceBetLevel.Notify(t)
                }, e.prototype.ClickChangeWeapon = function(t) {
                    p.default.Instance.IsLockChangeWeapon ? p.default.CANVAS.node.emit(t.type, t) : t.type == cc.Node.EventType.TOUCH_END && this.m_DelClickChange && this.m_DelClickChange.Length > 0 && this.m_DelClickChange.Notify()
                }, e.prototype.ClickAuto = function() {
                    this.m_DelClickAuto && this.m_DelClickAuto.Length > 0 && this.m_DelClickAuto.Notify()
                }, e.prototype.ClickLockSetting = function() {
                    if (this.m_DelClickLockSetting && this.m_DelClickLockSetting.Length > 0 && this.m_DelClickLockSetting.Notify(), !this.isShowedLockSettingHint) {
                        var t = this.BtnLockSetting.getComponent(cc.Animation);
                        t.play(t.getClips()[0].name), this.isShowedLockSettingHint = !0
                    }
                    m.LobbyClient.Instance.GetUserClient.recordClickLog("FishLockSetting", 9999)
                }, e.prototype.ClickWeaponChose = function() {
                    if (this.m_DelClickWeaponChose && this.m_DelClickWeaponChose.Length > 0 ? this.m_DelClickWeaponChose.Notify() : this.m_DelClickChange && this.m_DelClickChange.Length > 0 && this.m_DelClickChange.Notify(), !this.isShowedLockSettingHint) {
                        var t = this.BtnLockSetting.getComponent(cc.Animation);
                        t.play(t.getClips()[0].name), this.isShowedLockSettingHint = !0
                    }
                }, e.prototype.ClickPurchase = function() {
                    this.m_DelClickPurchase && this.m_DelClickPurchase.Length > 0 && this.m_DelClickPurchase.Notify("purchase", this.ShowPurchaseBlockingHint.bind(this))
                }, e.prototype.OpenPurchase = function() {
                    this.isPurchaseOpen = !0, SS.Common.GameEnvironment.IsUseScoreBox ? this.m_PurchaseMgr.ShowPanel(this.NumAnimWinning.GetCurrentNumber) : this.m_PurchaseMgr.ShowPanel(this.NumAnimCreadit.GetCurrentNumber)
                }, e.prototype.IsPurchaseOpen = function() {
                    return this.isPurchaseOpen
                }, e.prototype.OnPurchaseSuccess = function(t, e) {
                    this.SetWinningNow(t, !1, !0), this.SetEntriesNow(e), this.ShowPurchaseHint(!1), this.m_DelPurchaseSuccess && this.m_DelPurchaseSuccess.Length > 0 && this.m_DelPurchaseSuccess.Notify(t, e), this.isPurchaseOpen = !1
                }, e.prototype.OnPurchasePanelDisable = function() {
                    this.isPurchaseOpen = !1
                }, e.prototype.ShowTeachPanel = function(t, e, o, n) {
                    void 0 === t && (t = !1), void 0 === e && (e = ""), void 0 === o && (o = !0), void 0 === n && (n = ""), this.NodeTeachPanel.active = !0;
                    var i = this.NodeTeachPanel.getChildByName("Mission");
                    null != i && (i.active = t);
                    var r = "FishHunterAladdin" == SS.Common.GameEnvironment.CurrentGameNow || "FishHunterGhost" == SS.Common.GameEnvironment.CurrentGameNow;
                    this.m_FucGetWeaponSetting ? r = this.m_FucGetWeaponSetting().length > 2 : this.cannonEnableData && (this.cannonEnableData.hasOwnProperty("Scale") && this.cannonEnableData.Scale || this.cannonEnableData.hasOwnProperty("MultipleScale") && this.cannonEnableData.MultipleScale) && (r = !0), this.WeaponTeachUI.active = r;
                    var a = g.EventSystem.Function(g.FishHunter.GetMenuIcon)();
                    if (null != a && a.length >= 2) {
                        for (var s = 0; s < a.length; s++) {
                            var c = a[s].convertToWorldSpaceAR(cc.v2(0, 0));
                            this.MaskNode[s] && this.MaskNode[s].setPosition(this.MaskNode[s].parent.convertToNodeSpaceAR(c))
                        }
                        var l = a[0].convertToWorldSpaceAR(cc.v2(0, 0));
                        this.SummonTip.setPosition(this.SummonTip.parent.convertToNodeSpaceAR(l)), l = a[1].convertToWorldSpaceAR(cc.v2(0, 0)), this.FreezeTip.setPosition(this.FreezeTip.parent.convertToNodeSpaceAR(l))
                    }
                    this.SetTeachPanelMask(r);
                    var u = cc.find("Item/Tips/LabEventTime", this.NodeTeachPanel);
                    if (null != u && "" != e) {
                        u.active = !0, u.getComponent(cc.Label).string = e;
                        var p = u.getComponentInChildren(cc.Label).string;
                        u.getComponentInChildren(cc.Label).string = p.replace("{0}", n), u.active = !0
                    }
                }, e.prototype.OnCloseTeachPanel = function() {
                    this.NodeTeachPanel.active = !1, this.m_DelCloseTeachPanel && this.m_DelCloseTeachPanel.Length > 0 && this.m_DelCloseTeachPanel.Notify()
                }, e.prototype.CheckTeachPanelActive = function() {
                    return this.NodeTeachPanel.activeInHierarchy
                }, e.prototype.SetNetSignal = function(t) {
                    this.SignalObj[1].spriteFrame = this.SignalSprite[t - 1], 1 == t ? (this.SignalObj[2].node.active = !0, this.SignalObj[2].node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1), cc.delayTime(.4), cc.fadeOut(1), cc.delayTime(.4))))) : (this.SignalObj[2].node.active = !1, this.SignalObj[2].node.stopAllActions())
                }, e.prototype.ShowBetTips = function(t, e) {
                    var o = this;
                    switch (this.NodeBetEventTips.active = !0, e) {
                        case s.PuzzleEgg:
                            this.LabBetEventTips.string = this.BET_TIPS_EVENT_PUZZLE;
                            break;
                        default:
                            this.LabBetEventTips.string = ""
                    }
                    this.scheduleOnce(function() {
                        o.NodeBetEventTips.active = !1
                    }, t)
                }, e.prototype.SetTeachPanelMask = function(t) {
                    var e = this.MaskTeachPanel._graphics;
                    this.MaskNode.forEach(function(t) {
                        e.circle(t.x, t.y, t.width / 2), e.fill()
                    }), t && this.MaskWeaponNode.forEach(function(t) {
                        e.circle(t.x, t.y, t.width / 2), e.fill()
                    })
                }, e.prototype.WeaponActiveHint = function(t) {
                    null != this.WeaponActiveHintPrefab && (this.m_WeaponActiveHint = cc.instantiate(this.WeaponActiveHintPrefab), this.node.addChild(this.m_WeaponActiveHint), this.m_WeaponActiveHint.getComponent(d.default).Init(t), this.scheduleOnce(this.CloseWeaponActiveHint.bind(this), 10))
                }, e.prototype.CloseWeaponActiveHint = function() {
                    this.m_WeaponActiveHint && (this.m_WeaponActiveHint.destroy(), this.m_WeaponActiveHint = null)
                }, e.prototype.ClickMainPlayerProfile = function() {
                    // this.profileTempData.Id = this.m_FucGetPlayerIdBySeat(this.MainPlayerSeat), this.profileTempData.IsMainPlayer = !0, this.profileTempData.SubType = v.LogEvent_OpenPanel.InFish, this.m_DelClickProfile && this.m_DelClickProfile.Length > 0 && this.m_DelClickProfile.Notify("profile", this.ShowProfileBlockingHint.bind(this))
                }, e.prototype.ClickOtherPlayerProfile = function(t, e) {
                    // this.profileTempSeat = this.GetPlayerSeatByBlockIndex(parseInt(e)), this.profileTempId = this.m_FucGetPlayerIdBySeat(this.profileTempSeat), this.OpenOtherPlayerProfile(this.profileTempId, v.LogEvent_OpenOthersPanel.InFish)
                }, e.prototype.ClickPlayerProfile = function(t, e, o, n) {
                    e ? (this.profileTempData.Id = t, this.profileTempData.IsMainPlayer = e, this.profileTempData.SubType = o, this.m_DelClickProfile && this.m_DelClickProfile.Length > 0 && this.m_DelClickProfile.Notify("profile", n || this.ShowProfileBlockingHint.bind(this))) : this.OpenOtherPlayerProfile(t, o)
                }, e.prototype.OpenPlayerProfile = function() {
                    SS.Common.GameEnvironment.IsUseScoreBox ? g.EventSystem.Event(g.Profile.OpenProfile).Notify(!0, SS.Network.LoginModel.LoginInfo.pin_ark_id, this.NumAnimWinning.GetCurrentNumber, this.NumAnimEntries.GetCurrentNumber) : g.EventSystem.Event(g.Profile.OpenProfile).Notify(!0, SS.Network.LoginModel.LoginInfo.pin_ark_id, 0, this.NumAnimCreadit.GetCurrentNumber), C.ClickLog.recordClickLog(v.LogName.Profile, -1, v.LogType_Profile.OpenPanel, this.profileTempData.SubType >= 0 ? this.profileTempData.SubType : v.LogEvent_OpenPanel.InFish)
                }, e.prototype.OpenOtherPlayerProfile = function(t, e) {
                    this.m_DelClickAutoStop && this.m_DelClickAutoStop.Length > 0 && this.m_DelClickAutoStop.Notify();
                    var o = this.m_FucGetPlayerById(t);
                    o ? g.EventSystem.Event(g.Profile.OpenProfile).Notify(!1, t, o.winning, o.entries) : g.EventSystem.Event(g.Profile.OpenProfile).Notify(!1, t), C.ClickLog.recordClickLog(v.LogName.Profile, -1, v.LogType_Profile.OpenOthersPanel, e)
                }, e.prototype.ClickMainPlayerAvatarEditor = function(t) {
                    this.profileTempData.SubType = t, this.m_DelClickProfile && this.m_DelClickProfile.Length > 0 && this.m_DelClickProfile.Notify("avatar", this.ShowProfileBlockingHint.bind(this))
                }, e.prototype.OpenMainPlayerAvatarEditor = function() {
                    g.EventSystem.Event(g.Profile.OpenAvatarEditor).Notify(!0), C.ClickLog.recordClickLog(v.LogName.Profile, -1, v.LogType_Profile.OpenPanel, this.profileTempData.SubType)
                }, e.prototype.ShowProfileBlockingHint = function(t) {
                    void 0 === t && (t = !0), null != this.ProfileBlockingHint && (t ? (this.ProfileBlockingHint.active || (this.ProfileBlockingHint.active = !0, this.ProfileBlockingHint.opacity = 0), this.ProfileBlockingHint.stopAllActions(), this.ProfileBlockingHint.runAction(cc.sequence(cc.fadeTo(.25, 255), cc.delayTime(3), cc.fadeTo(.5, 0)))) : (this.ProfileBlockingHint.stopAllActions(), this.ProfileBlockingHint.runAction(cc.fadeTo(.2, 0))))
                }, e.prototype.SetProfileBlockingMsg = function(t) {
                    null != this.ProfileBlockingHint && null != this.ProfileBlockingHintLabel && null != t && (this.ProfileBlockingHintLabel.string = t)
                }, e.prototype.UpdatePlayerInfo = function(t, e) {
                    this.BlockIndex = this.GetTargetBlockIndexBySeat(t), this.OtherPlayerBlocks[this.BlockIndex].Profile.SetNickname(e.nickname), this.OtherPlayerBlocks[this.BlockIndex].Profile.SetFaceByID(e.avatar_id), this.OtherPlayerBlocks[this.BlockIndex].Profile.SetFrameByID(e.avatar_frame_id)
                }, r([w(cc.Node)], e.prototype, "Root", void 0), r([w(cc.Button)], e.prototype, "BtnWeapon", void 0), r([w(cc.Button)], e.prototype, "BtnLockSetting", void 0), r([w(cc.Button)], e.prototype, "WeaponChangeTouchArea", void 0), r([w(cc.Prefab)], e.prototype, "WeaponChangeHintPrefab", void 0), r([w(cc.Prefab)], e.prototype, "WeaponActiveHintPrefab", void 0), r([w(cc.Node)], e.prototype, "PurchaseBlockingHint", void 0), r([w([cc.Label])], e.prototype, "PurchaseBlockHintLabel", void 0), r([w(cc.Prefab)], e.prototype, "MousePrefab", void 0), r([w([cc.Node])], e.prototype, "BtnList", void 0), r([w(cc.Node)], e.prototype, "NodeTeachPanel", void 0), r([w(cc.Mask)], e.prototype, "MaskTeachPanel", void 0), r([w([cc.Node])], e.prototype, "MaskNode", void 0), r([w(cc.Node)], e.prototype, "SummonTip", void 0), r([w(cc.Node)], e.prototype, "FreezeTip", void 0), r([w([cc.Node])], e.prototype, "MaskWeaponNode", void 0), r([w(cc.Node)], e.prototype, "WeaponTeachUI", void 0), r([w(cc.Node)], e.prototype, "NodeWeaponChangeHintRoot", void 0), r([w([cc.Sprite])], e.prototype, "SignalObj", void 0), r([w([cc.SpriteFrame])], e.prototype, "SignalSprite", void 0), r([w(cc.Node)], e.prototype, "NodeBetEventTips", void 0), r([w(cc.Label)], e.prototype, "LabBetEventTips", void 0), r([w(cc.Label)], e.prototype, "BetScale", void 0), r([w(cc.Node)], e.prototype, "ChangeWeaponNode", void 0), r([w([I])], e.prototype, "OtherPlayerBlocks", void 0), r([w(f.default)], e.prototype, "ProfileNode", void 0), r([w(M)], e.prototype, "AvatarNode", void 0), r([w(cc.Node)], e.prototype, "PlayerNameNode", void 0), r([w(S.AvatarNoticeMgr)], e.prototype, "AvatarNoticeMgr", void 0), r([w(y.RewardNoticeMgr)], e.prototype, "RewardNoticeMgr", void 0), r([w(cc.Node)], e.prototype, "ProfileBlockingHint", void 0), r([w(cc.Node)], e.prototype, "ProfileBlockingHintBG", void 0), r([w(cc.Node)], e.prototype, "ProfileBlockingHintArrow", void 0), r([w(cc.Label)], e.prototype, "ProfileBlockingHintLabel", void 0), r([P], e)
            }(c.GameBar);
        o.default = E, cc._RF.pop()
    }, {
        "../../GameCommon/DownBar/GameBar": "GameBar",
        "../../GameCommon/Profile/AvatarNoticeMgr": "AvatarNoticeMgr",
        "../../GameCommon/Profile/RewardNoticeMgr": "RewardNoticeMgr",
        "../../LobbyCommon/Component/AvatarIcon": "AvatarIcon",
        "../../LobbyCommon/Component/NumberCountUp": "NumberCountUp",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "./BtnState": "BtnState",
        "./CanvasHandler": "CanvasHandler",
        "./MouseMark": "MouseMark",
        "./WeaponActiveHint": "WeaponActiveHint",
        "./WeaponChangeHint": "WeaponChangeHint"
    }],
    GAME_APP: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a9d7atdLa1FqKYMWAq+JEAk", "GAME_APP");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GAME_APP = o.Status = void 0;
        var c, l = t("../LobbyCommon/Net/LobbyClient"),
            u = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            p = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            m = t("../LobbyCommon/Net/Downloader/VersionDownloader"),
            h = t("../LobbyCommon/EventModule/EventModule"),
            d = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            _ = t("../LobbyCommon/Component/BundleCtrl"),
            g = t("../LobbyCommon/SwipeMgr/Scripts/Device"),
            f = t("../LobbyCommon/Helper/Setting"),
            y = t("../LobbyCommon/Skin/Skin");
        cc.sys.OS_ANDROID && (cc.macro.ENABLE_MULTI_TOUCH = !1),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.INIT = 0] = "INIT", t[t.SEND_CMD = 1] = "SEND_CMD", t[t.LOAD_RESOUCE = 2] = "LOAD_RESOUCE", t[t.LOAD_BUNDLE = 3] = "LOAD_BUNDLE", t[t.FINISH = 4] = "FINISH"
            }(c = o.Status || (o.Status = {})),
            function() {
                function t(t, e) {
                    void 0 === e && (e = !1), this.resName = t, this.isInitDone = !1, this.isError = !1, this.errorCode = "", this.errorMsg = "", e && this.checkAndLoadRes()
                }
                t.prototype.checkAndLoadRes = function() {
                    return a(this, void 0, void 0, function() {
                        var t;
                        return s(this, function() {
                            t = this.resName + ".prefab";
                            try {
                                cc.loader.loadRes(t, function(t, e) {
                                    if (t) return console.error("err"), this.errorMsg = t, this.errorCode = "C03", void(this.isError = !0);
                                    var o = cc.instantiate(e),
                                        n = cc.director.getScene().getChildByName("LobbyCommon");
                                    o.parent = n, o.getComponent(h.EventModule).init(null, this.initDone.bind(this))
                                }.bind(this))
                            } catch (e) {
                                console.error("ex"), this.errorMsg = e, this.errorCode = "C03", this.isError = !0, console.error(e)
                            }
                            return [2]
                        })
                    })
                }, t.prototype.initDone = function() {
                    this.isInitDone = !0
                }
            }();
        var S = cc._decorator,
            C = S.ccclass,
            v = (S.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.isFirstInit = !0, e.m_sSceneName = "MainGame", e.m_status = c.NONE, e.m_lastStatus = c.NONE, e.m_arrResSet = [], e.isRecvCommonEventInfo = !1, e.m_isDownloadProfileFinished = !1, e.m_isDownloadSkinFinished = !1, e.m_isLobbyRefSetDone = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.isFirstInit ? (this.isFirstInit = !1, this.m_isLobbyRefSetDone = !1, [4, this.LoadClientConfig().catch(function(e) {
                                        console.error(e), t = e, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C04", "InitializeGame", "load game versione error")
                                    })]) : [3, 6];
                                case 1:
                                    if (o.sent(), t) return [2];
                                    this.GetLobbyRef(), e = 0, o.label = 2;
                                case 2:
                                    return e < 200 ? 0 != this.m_isLobbyRefSetDone ? [3, 4] : [4, this.Timer(1e3)] : [3, 5];
                                case 3:
                                    o.sent(), o.label = 4;
                                case 4:
                                    return e++, [3, 2];
                                case 5:
                                    this.BundleAsync(), o.label = 6;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.Timer = function(t) {
                    return a(this, void 0, void 0, function() {
                        return s(this, function() {
                            return [2, new Promise(function(e) {
                                return setTimeout(e, t)
                            })]
                        })
                    })
                }, e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case c.SEND_CMD:
                            t && (console.error("Status.SEND_CMD"), l.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.RecvCommonEventInfo.bind(this))), this.isRecvCommonEventInfo && (this.m_status = c.LOAD_RESOUCE);
                            break;
                        case c.LOAD_RESOUCE:
                            t && console.error("Status.LOAD_RESOUCE");
                            var e = !0;
                            this.m_arrResSet.forEach(function(t) {
                                t.isError && (t.isError = !1), e = e && t.isInitDone
                            }), e && (this.m_status = c.LOAD_BUNDLE);
                            break;
                        case c.LOAD_BUNDLE:
                            this.m_isDownloadProfileFinished && this.m_isDownloadSkinFinished && (this.m_status = c.FINISH);
                            break;
                        case c.FINISH:
                            t && (console.error("Status.FINISH"), cc.director.loadScene(this.m_sSceneName))
                    }
                }, e.prototype.RecvCommonEventInfo = function(t, e) {
                    if (console.warn("RecvCommonEventInfo:" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        o && (console.warn(o), 0 == o.result ? l.LobbyClient.Instance.m_CommonEventInfo_900004 = JSON.stringify(o.data) : l.LobbyClient.Instance.m_CommonEventInfo_900004 = null)
                    }
                    this.isRecvCommonEventInfo = !0
                }, e.prototype.GetLobbyRef = function() {
                    var t = this;
                    if (1 == (self == top)) {
                        u.LoadingMgr.Instance.SetProgress(80, 20), console.log("[Debug] No WebView..."), this.SendLoadPageOk();
                        var e = SS.Common.GameEnvironment.Language + this.m_sSceneName;
                        cc.assetManager.bundles.find(function(t) {
                            return t._config.getSceneInfo(e)
                        }) && (this.m_sSceneName = e), this.m_status = self == top ? c.LOAD_BUNDLE : c.SEND_CMD, this.m_isLobbyRefSetDone = !0
                    } else console.log("[Debug] Wait Lobby Parameters..."), window.StartIframeGame = function(e, o, n, i, r, a, s) {
                        console.log("StartIframeGame"), window.SS = e, window.JSUtility = o, window.ArkSDK = i, window.gd_nowLOGO = s, u.LoadingMgr.Instance.OpenLoading(), p.PopupMsgMgr.Instance.SetPopupMsgTitle(), SS.Common.GameEnvironment.Splash.style.display = "none", u.LoadingMgr.Instance.SetProgress(80, 20), l.LobbyClient.SetInstance(n), d.GameJpMgr.SetInstance(r), g.Device.SetInstance(a), t.SetConsoleLog();
                        var c = SS.Common.GameEnvironment.Language + t.m_sSceneName;
                        cc.assetManager.bundles.find(function(t) {
                            return t._config.getSceneInfo(c)
                        }) && (t.m_sSceneName = c), console.log("%c This is game's lobby system object.", "font-size:18px;font-weight:bold;color:Violet"), console.log(o), console.log(e), console.log(n), console.log(ArkSDK), t.CheckVersionFlow(), t.m_isLobbyRefSetDone = !0
                    }
                }, e.prototype.CheckVersionFlow = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.DownloadGameVersion().catch(function(t) {
                                        console.error(t), p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C19", "InitializeGame", "load game versione error")
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.SetConsoleLog = function() {
                    0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleLog && (console.log = function() {}, cc.log = function() {}), 0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleWarn && (console.warn = function() {}, cc.warn = function() {}), 0 == SS.Common.GameEnvironment.ProjectSetting.ShowConsoleError && (console.error = function() {}, cc.error = function() {})
                }, e.prototype.DownloadGameVersion = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new m.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + SS.Common.GameEnvironment.ProjectSetting.Modules[SS.Common.GameEnvironment.CurrentGameNow].Path, function(n) {
                                            try {
                                                t.CheckVersion(n, e)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.CheckVersion = function(t, e) {
                    SS.Common.GameEnvironment.IgnoreVersionCtrl ? (SS.Common.GameEnvironment.CurrentGameVersion = this.m_sVersion, this.SendLoadPageOk(), this.m_status = self == top ? c.LOAD_BUNDLE : c.SEND_CMD, console.log("IgnoreVersionCtrl , client version : ", this.m_sVersion)) : t.Maintain.IsMaintainNow ? p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C17", "InitializeGame", "maintain", null) : t.Version != this.m_sVersion ? p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C18", "InitializeGame", "maintain", null) : (SS.Common.GameEnvironment.CurrentGameVersion = this.m_sVersion, this.SendLoadPageOk(), this.m_status = self == top ? c.LOAD_BUNDLE : c.SEND_CMD), e()
                }, e.prototype.SendLoadPageOk = function() {
                    -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.LOAD_PAGE_OK) && (SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + l.GAME_STATUS.LOAD_PAGE_OK), self == top || l.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, l.GAME_STATUS.LOAD_PAGE_OK))
                }, e.prototype.LoadClientConfig = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        cc.loader.loadRes("config", function(n, i) {
                                            if (n) o(n);
                                            else try {
                                                var r = i.json;
                                                t.m_sVersion = r.Version, r.hasOwnProperty("Debug") && r.Debug.hasOwnProperty("MainScene") ? t.m_sSceneName = r.Debug.MainScene : t.m_sSceneName = "MainGame", e(null)
                                            } catch (a) {
                                                o(a)
                                            }
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.parseTitleType_900004 = function(t) {
                    var e = [];
                    try {
                        var o = JSON.parse(t);
                        if (o.hasOwnProperty("Enable") && o.Enable && o.hasOwnProperty("QuestList") && o.QuestList.length > 0 && o.hasOwnProperty("UserQuestData")) {
                            var n = o.QuestList;
                            if (0 == n.length) return [];
                            for (var i = 0; i < n.length; i++) {
                                var r = n[i];
                                switch (r.TitleType) {
                                    case 102:
                                        o.NowTimeUTC < r.ExtraInfo.jp_end_time && o.NowTimeUTC > r.ExtraInfo.jp_begin_time && e.push("RankBonus")
                                }
                            }
                        }
                    } catch (a) {
                        console.log("[]", a)
                    }
                    return e
                }, e.prototype.BundleAsync = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o, n, i, r, a, c = this;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = !0, this.m_isDownloadProfileFinished = !1, this.m_isDownloadSkinFinished = !1, [4, _.default.Instance.DownloadConfig().catch(function() {
                                        t = !1
                                    })];
                                case 1:
                                    return s.sent(), t ? [4, _.default.Instance.DownloadCommonBundles()] : [3, 4];
                                case 2:
                                    return s.sent(), [4, this.DownloadGameFeature()];
                                case 3:
                                    s.sent(), s.label = 4;
                                case 4:
                                    return [4, y.default.Instance.Init()];
                                case 5:
                                    for (s.sent(), e = y.default.Instance.GetLoadList("Game"), (o = {}).Profile = function(t) {
                                            var e = cc.director.getScene().getChildByName("LobbyCommon");
                                            t.parent = e, c.m_isDownloadProfileFinished = !0
                                        }, n = this.parseTitleType_900004(l.LobbyClient.Instance.m_CommonEventInfo_900004), i = 0, r = n; i < r.length; i++) a = r[i], e.push(a);
                                    return o.RankBonus = function(t) {
                                        var e = cc.director.getScene().getChildByName("LobbyCommon");
                                        t.parent = e
                                    }, [4, y.default.Instance.Download(o, e, SS.Common.GameEnvironment.GetCurGameIsVertical())];
                                case 6:
                                    return s.sent(), this.m_isDownloadSkinFinished = !0, [2]
                            }
                        })
                    })
                }, e.prototype.DownloadGameFeature = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o, n, i, r, a, c, l;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = cc.director.getScene().getChildByName("LobbyCommon").getChildByName("GameFeatureRoot"), [4, f.default.CheckInit()];
                                case 1:
                                    if (s.sent(), e = f.default.GetSetting("FeatureUIGame"), o = [], e)
                                        for (n = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList, r = 0; r < e.length; r++) i = e[r], n.indexOf(i) >= 0 && o.push(i);
                                    return o ? [4, _.default.Instance.DownloadGameFeatureBundles(!1, o)] : [3, 6];
                                case 2:
                                    s.sent(), r = 0, s.label = 3;
                                case 3:
                                    return r < o.length ? (a = _.default.Instance.GetGameFeatureBundlesName(o[r]), [4, _.default.Instance.GetMainPrefab(a)]) : [3, 6];
                                case 4:
                                    (c = s.sent()) && ((l = cc.instantiate(c)).getComponent(h.EventModule).init(null, null), l.parent = t), s.label = 5;
                                case 5:
                                    return r++, [3, 3];
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, r([C], e)
            }(cc.Component));
        o.GAME_APP = v, cc._RF.pop()
    }, {
        "../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../LobbyCommon/EventModule/EventModule": "EventModule",
        "../LobbyCommon/Helper/Setting": "Setting",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../LobbyCommon/Skin/Skin": "Skin",
        "../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    GDC_APP: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "02ca2iMFqtLDLAufmAwMZ8r", "GDC_APP");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GDC_APP = void 0;
        var c = t("./Loading/Script/LoadingMgr"),
            l = t("./Net/Downloader/ProjectSettingDownloader"),
            u = t("./Net/Downloader/ModuleDownloader"),
            p = t("./PopupMessage/Script/PopupMsgMgr"),
            m = t("./Net/Downloader/VersionDownloader"),
            h = t("./Component/GlobalData"),
            d = t("./Net/Downloader/GameMsgDownloader"),
            _ = t("./Net/Downloader/ErrorMsgDownloader"),
            g = t("./SwipeMgr/Scripts/Device"),
            f = t("./LobbyCommon"),
            y = cc._decorator,
            S = y.ccclass,
            C = (y.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.tmpS3HOST = "", e.isInit = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o, n, i, r;
                        return s(this, function(a) {
                            switch (a.label) {
                                case 0:
                                    return this.isInit ? [2] : (window.StartIframe = {}, this.isInit = !0, t = document.getElementById("splash"), [4, this.LoadClientConfig().catch(function(t) {
                                        e = t, console.error(t), p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C01", "InitializeScene", t)
                                    })]);
                                case 1:
                                    return a.sent(), e ? [2] : [4, this.DownloadProjectSetting().catch(function(t) {
                                        e = t, console.error(t), p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C02", "InitializeScene", t)
                                    })];
                                case 2:
                                    return a.sent(), e ? [2] : [4, this.DownloadLobbyModule().catch(function(t) {
                                        console.error(t), e = t, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C03", "InitializeScene", t)
                                    })];
                                case 3:
                                    return a.sent(), e ? [2] : [4, this.DownloadErrorMsgByLan().catch(function(t) {
                                        e = t, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C39", "InitializeScene", t)
                                    })];
                                case 4:
                                    return a.sent(), e ? [2] : [4, this.DownloadGameMsgByLan().catch(function(t) {
                                        e = t, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C40", "InitializeScene", t)
                                    })];
                                case 5:
                                    return a.sent(), e ? [2] : (p.PopupMsgMgr.Instance.SetPopupMsgTitle(), null != SS.Common.GameEnvironment.OriginalSplashSRC && null != SS.Common.GameEnvironment.OriginalSplashSRC || (SS.Common.GameEnvironment.OriginalSplashSRC = t.src), null != SS.Common.GameEnvironment.OriginalSplashSRC && (null != SS.Common.GameEnvironment.verticalSplashSRC && null != SS.Common.GameEnvironment.verticalSplashSRC || (o = SS.Common.GameEnvironment.OriginalSplashSRC.substr(0, SS.Common.GameEnvironment.OriginalSplashSRC.lastIndexOf("/")), n = o + "/verticalsplash.jpg", SS.Common.GameEnvironment.verticalSplashSRC = n)), g.Device.Instance.init(), SS.Common.GameEnvironment.Splash = t, "" == (i = this.GetChangeToGameName()) || null == i || null == i ? (t && (t.style.display = "none"), c.LoadingMgr.Instance.OpenLoading(t), c.LoadingMgr.Instance.SetProgress(40, 5)) : SS.Common.GameEnvironment.ChangeToGameName = i, SS.Common.GameEnvironment.S3URL = window.location.protocol + "//" + this.tmpS3HOST, SS.Common.GameEnvironment.IgnoreVersionCtrl ? [3, 7] : [4, this.DownloadLobbyVersion().catch(function(t) {
                                        e = t, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C04", "InitializeScene", t)
                                    })]);
                                case 6:
                                    if (a.sent(), e) return [2];
                                    a.label = 7;
                                case 7:
                                    return JSUtility.FullScreen.ListenerFullScreenChange(), f.LobbyCommon.Instance.InitWaitForSeconds(), r = SS.Common.GameEnvironment.Language + "Login", cc.assetManager.bundles.find(function(t) {
                                        return t._config.getSceneInfo(r)
                                    }) ? cc.director.loadScene(r) : cc.director.loadScene("Login"), [2]
                            }
                        })
                    })
                }, e.prototype.GetChangeToGameName = function() {
                    var t;
                    return JSUtility.IsSupportLocalStorage() ? (t = localStorage.getItem("changeToGameName"), localStorage.setItem("changeToGameName", "")) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie("changeToGameName"), document.cookie = "changeToGameName=;"), t
                }, e.prototype.LoadClientConfig = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        cc.loader.loadRes("config", function(n, i) {
                                            if (n) o(n);
                                            else try {
                                                var r = i.json;
                                                if (r && r.hasOwnProperty("Debug")) {
                                                    h.GlobalData.isDeveloper = !0, h.GlobalData.IsCompress = !1;
                                                    var a = r.Debug;
                                                    a.hasOwnProperty("UserID") && (h.GlobalData.tmpUserID = a.UserID), a.hasOwnProperty("UserPassword") && (h.GlobalData.tmpUserPW = a.UserPassword), a.hasOwnProperty("isScoreBox") && (h.GlobalData.tmpCustomScoreBoxStatus = a.isScoreBox), a.hasOwnProperty("LogoMode") && (window.gd_LogoMode = a.LogoMode), a.hasOwnProperty("NowLOGO") && (window.gd_nowLOGO = a.NowLOGO)
                                                } else r && r.hasOwnProperty("IsCompress") ? h.GlobalData.IsCompress = r.IsCompress : h.GlobalData.IsCompress = !0;
                                                t.tmpVersion = r.Version, t.tmpS3HOST = window.location.host+'/games/FishCircusPGD', h.GlobalData.S3Host = t.tmpS3HOST, e(i)
                                            } catch (s) {
                                                o(s)
                                            }
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadErrorMsgByLan = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n;
                                        n = t.tmpProjectSetting.CDN_HOST ? window.location.protocol + "//" + t.tmpProjectSetting.CDN_HOST : "../../..", (new _.ErrorMsgDownloader).Start(n + "/Message/" + SS.Common.GameEnvironment.Language, function(t) {
                                            try {
                                                SS.Common.GameEnvironment.ErrorMsg = t, e(t)
                                            } catch (n) {
                                                o(n)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadGameMsgByLan = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n;
                                        n = t.tmpProjectSetting.CDN_HOST ? window.location.protocol + "//" + t.tmpProjectSetting.CDN_HOST : "../../..", (new d.GameMsgDownloader).Start(n + "/Message/" + SS.Common.GameEnvironment.Language, function(t) {
                                            try {
                                                SS.Common.GameEnvironment.GameMsg = t, e(t)
                                            } catch (n) {
                                                o(n)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadLobbyVersion = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n = t.tmpProjectSetting.Modules.Lobby.Path;
                                        (new m.VersionDownloader).Start(window.location.protocol + "//" + t.tmpS3HOST + n, function(n) {
                                            try {
                                                t.CheckVersion(n, e)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.CheckVersion = function(t, e) {
                    var o, n = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV"),
                        i = SS.Common.GameEnvironment.ProjectSetting;
                    n && i.KioskDEVs.includes(SS.Common.BaseFunction.SHA1(n)) && (SS.Common.GameEnvironment.IgnoreVersionCtrl = !0), o = t.Version, SS.Common.GameEnvironment.IgnoreVersionCtrl ? console.log("IgnoreVersionCtrl , client version : ", this.tmpVersion) : t.Maintain.IsMaintainNow ? p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "C07", "InitializeScene", "maintain", null) : o != this.tmpVersion && location.replace(window.location.protocol + "//" + window.location.hostname), SS.Common.GameEnvironment.LobbyVersion = this.tmpVersion, e()
                }, e.prototype.DownloadProjectSetting = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n, i = "/" + window.gd_nowLOGO + "ProjectSetting";
                                        n = h.GlobalData.IsCompress ? window.location.protocol + "//" + t.tmpS3HOST + i + ".txt" : window.location.protocol + "//" + t.tmpS3HOST + i + ".json", (new l.ProjectSettingDownloader).Start(n, !h.GlobalData.IsCompress, function(o) {
                                            t.tmpProjectSetting = o, e(null)
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, e.prototype.DownloadLobbyModule = function() {
                    return a(this, void 0, void 0, function() {
                        var t = this;
                        return s(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new u.ModuleDownloader).Start("Lobby", t.tmpProjectSetting, function() {
                                            SS.Common.GameEnvironment.IgnoreVersionCtrl = h.GlobalData.isDeveloper, SS.Common.GameEnvironment.Initialize(t.tmpProjectSetting, function() {
                                                e(null)
                                            }, function(t) {
                                                o(t)
                                            })
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, r([S], e)
            }(cc.Component));
        o.GDC_APP = C, cc._RF.pop()
    }, {
        "./Component/GlobalData": "GlobalData",
        "./Loading/Script/LoadingMgr": "LoadingMgr",
        "./LobbyCommon": "LobbyCommon",
        "./Net/Downloader/ErrorMsgDownloader": "ErrorMsgDownloader",
        "./Net/Downloader/GameMsgDownloader": "GameMsgDownloader",
        "./Net/Downloader/ModuleDownloader": "ModuleDownloader",
        "./Net/Downloader/ProjectSettingDownloader": "ProjectSettingDownloader",
        "./Net/Downloader/VersionDownloader": "VersionDownloader",
        "./PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./SwipeMgr/Scripts/Device": "Device"
    }],
    GameBar: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5cfa0k63jNHBb7gKiA/nuRV", "GameBar");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameBar = void 0;
        var a = t("../../LobbyCommon/Component/NumberCountUp"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.NodeScoreBox = null, e.NodeCreadit = null, e.BtnPurchase = null, e.BtnPromptPurchase = null, e.BtnBetDown = null, e.BtnBetUp = null, e.AutoRoot = null, e.BtnAuto = null, e.NodeBtnAuto = null, e.BtnAutoStop = null, e.NodeBtnAutoStop = null, e.BtnSpin = null, e.NodeBtnSpin = null, e.BtnStop = null, e.NodeBtnStop = null, e.BtnStart = null, e.NodeBtnStart = null, e.BtnTake = null, e.NodeBtnTake = null, e.BtnFastSpin = null, e.NodeBtnFastSpin = null, e.BtnStopFastSpin = null, e.NodeBtnStopFastSpin = null, e.TextJPBet = null, e.TextGameBet = null, e.TextVersion = null, e.TextUserName = null, e.DownBarPrizeField = null, e.previewAloneNum = null, e.previewNum = null, e.previewContent = null, e.NumAnimGameWin = null, e.NumAnimWinning = null, e.NumAnimEntries = null, e.NumAnimCreadit = null, e.m_skipMachineId = !1, e
                }
                return i(e, t), e.prototype._start = function() {}, e.prototype._onLoad = function() {}, e.prototype._onDestroy = function() {}, e.prototype.Compose = function() {}, e.prototype.setVersion = function() {
                    var t = SS.Common.GameEnvironment.CurrentGameVersion;
                    "" == SS.Common.GameEnvironment.CurrentGameVersion && (t = "DEV_MODE"), this.TextVersion.string = "v." + t
                }, e.prototype.setUserName = function(t, e) {
                    if (void 0 === e && (e = 0), !this.m_skipMachineId) {
                        var o = t;
                        0 == e ? this.m_skipMachineId = !0 : o = o + "(" + e + ")", this.TextUserName.string = o
                    }
                }, r([l(cc.Node)], e.prototype, "NodeScoreBox", void 0), r([l(cc.Node)], e.prototype, "NodeCreadit", void 0), r([l(cc.Button)], e.prototype, "BtnPurchase", void 0), r([l(cc.Button)], e.prototype, "BtnPromptPurchase", void 0), r([l(cc.Button)], e.prototype, "BtnBetDown", void 0), r([l(cc.Button)], e.prototype, "BtnBetUp", void 0), r([l(cc.Node)], e.prototype, "AutoRoot", void 0), r([l(cc.Button)], e.prototype, "BtnAuto", void 0), r([l(cc.Node)], e.prototype, "NodeBtnAuto", void 0), r([l(cc.Button)], e.prototype, "BtnAutoStop", void 0), r([l(cc.Node)], e.prototype, "NodeBtnAutoStop", void 0), r([l(cc.Button)], e.prototype, "BtnSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnSpin", void 0), r([l(cc.Button)], e.prototype, "BtnStop", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStop", void 0), r([l(cc.Button)], e.prototype, "BtnStart", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStart", void 0), r([l(cc.Button)], e.prototype, "BtnTake", void 0), r([l(cc.Node)], e.prototype, "NodeBtnTake", void 0), r([l(cc.Button)], e.prototype, "BtnFastSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnFastSpin", void 0), r([l(cc.Button)], e.prototype, "BtnStopFastSpin", void 0), r([l(cc.Node)], e.prototype, "NodeBtnStopFastSpin", void 0), r([l(cc.Label)], e.prototype, "TextJPBet", void 0), r([l(cc.Label)], e.prototype, "TextGameBet", void 0), r([l(cc.Label)], e.prototype, "TextVersion", void 0), r([l(cc.Label)], e.prototype, "TextUserName", void 0), r([l(cc.Node)], e.prototype, "DownBarPrizeField", void 0), r([l(cc.Label)], e.prototype, "previewAloneNum", void 0), r([l(cc.Label)], e.prototype, "previewNum", void 0), r([l(cc.Label)], e.prototype, "previewContent", void 0), r([l(a.NumberCountUp)], e.prototype, "NumAnimGameWin", void 0), r([l(a.NumberCountUp)], e.prototype, "NumAnimWinning", void 0), r([l(a.NumberCountUp)], e.prototype, "NumAnimEntries", void 0), r([l(a.NumberCountUp)], e.prototype, "NumAnimCreadit", void 0), r([c], e)
            }(cc.Component);
        o.GameBar = u, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/NumberCountUp": "NumberCountUp"
    }],
    GameIconMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f99b5IAtJNJ0oylu/lq7sxI", "GameIconMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameIconMgr = o.IconSetting = o.Property = void 0;
        var a = t("../../../LobbyCommon/InGameJp/Script/GameJpMgr"),
            s = t("./IconGroupData"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function() {
                function t() {
                    this.FLAG_POS = cc.Vec2.ZERO, this.FLAGR_POS = cc.Vec2.ZERO, this.FLAG_SCALE = 0, this.LABEL_POS = cc.Vec2.ZERO, this.LABEL_SCALE = 0, this.BTN_SIZE = cc.Size.ZERO
                }
                return r([u(cc.Vec2)], t.prototype, "FLAG_POS", void 0), r([u(cc.Vec2)], t.prototype, "FLAGR_POS", void 0), r([u(Number)], t.prototype, "FLAG_SCALE", void 0), r([u(cc.Vec2)], t.prototype, "LABEL_POS", void 0), r([u(Number)], t.prototype, "LABEL_SCALE", void 0), r([u(cc.Size)], t.prototype, "BTN_SIZE", void 0), r([l("Property")], t)
            }();
        o.Property = p;
        var m = function() {
            function t() {
                this.m_iconSizePrefix = "", this.m_ElementProperty = new p
            }
            return r([u(String)], t.prototype, "m_iconSizePrefix", void 0), r([u(p)], t.prototype, "m_ElementProperty", void 0), r([l("IconSetting")], t)
        }();
        o.IconSetting = m;
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.tmpPreScrollOffsetX = null, e.LOBBY_VIEW_MOVE_POSX = 140, e.ICON_CONTENT_LEAST_COUNT = 5, e.ICON_CONTENT_LEAST_WIDTH = 1180, e.DISABLE_PROMPT_DIS = 100, e.BIGX3_ICON_PREFIX = "BIGX3", e.BIGX2_ICON_PREFIX = "BIGX2", e.BIG_ICON_PREFIX = "BIG", e.NORMAL_ICON_PREFIX = "NORMAL", e.COMMIN_SOON = "CS_", e.m_DelClickIcon = null, e.tmpTypeMapIconNodeList = {}, e.tmpTypeMapIconCtrlList = {}, e.IconAllSetting = [], e.iconGroupDatas = [], e
            }
            return i(e, t), e.prototype._onLoad = function() {
                this.PromptFadeEffect = cc.sequence(cc.fadeOut(1.5), cc.fadeIn(1.5)).repeatForever(), this.LobbyBoxRect = this.LobbyNode.getBoundingBoxToWorld(), this.m_DelClickIcon = new SS.Common.Delegate
            }, e.prototype._start = function() {}, e.prototype._onDestroy = function() {
                var t = this,
                    e = this;
                if (null != this.tmpTypeMapIconCtrlList) {
                    var o = function(o) {
                            n.tmpTypeMapIconCtrlList[o].forEach(function(n) {
                                n.m_DelClickIcon.remove(e.OnIconClicked, e), t.tmpTypeMapIconCtrlList[o]._onDestroy()
                            })
                        },
                        n = this;
                    for (var i in this.tmpTypeMapIconCtrlList) o(i)
                }
                this.tmpTypeMapIconCtrlList = null, this.tmpTypeMapIconNodeList = null
            }, e.prototype.SetIconGroupDatas = function(t) {
                this.iconGroupDatas = t
            }, e.prototype.AddIconGroupDatas = function(t) {
                var e = this;
                t.forEach(function(t) {
                    e.iconGroupDatas.push(t)
                })
            }, e.prototype.SetGroup = function(t, e) {
                for (var o = [], n = SS.Common.BaseFunction.getKeyConvertArys(SS.Common.GameEnvironment.InGameJpInfoDict), i = t, r = 0; r < n.length; r++) {
                    var a = n[r],
                        c = this.GetIconJpValAry(a),
                        l = this.GetKioskOpenGame(a),
                        u = this.GetThemeIdByNameList(l),
                        p = this.GetSettingSortData(u, l, i),
                        m = this.GetIconSize(u, i),
                        h = this.GetIconIsEqual(m);
                    if (!(p.length <= 0 && m.length <= 0))
                        for (var d = h ? 1 : p.length, _ = void 0, g = void 0, f = void 0, y = void 0, S = !1, C = !1, v = 0; v < d; v++) {
                            h ? (_ = m[0], g = p[0].themeId, f = p[p.length - 1].themeId, y = p.length, _ == this.NORMAL_ICON_PREFIX && y >= 2 && this.GetIconIndexIsOrder(p) && (S = !0)) : (g = p[v].themeId, _ = m[v], f = p[v].themeId, y = 1), SS.Common.GameEnvironment.InGameJpInfoDict[a].theme_id.length != y && (C = !0);
                            var b = new s.IconGroupData(c, u, a, g, f, e, _, y, null, null, null, S, C);
                            o.push(b)
                        }
                }
                return o
            }, e.prototype.GetIconJpValAry = function(t) {
                for (var e = SS.Common.BaseFunction.getKeyConvertArys(a.GameJpMgr.Instance.GetAllGameJp()), o = 0; o < e.length; o++)
                    if (e[o] == t) return a.GameJpMgr.Instance.GetInGameJpArray(e[o], !0);
                return []
            }, e.prototype.GameSettingSortChange = function(t, e) {
                for (var o = [], n = 0; n < t.length; n++)
                    if (-1 != (p = this.GetIconSettingSort(t[n], e))) {
                        var i = JSON.parse("{}");
                        i.name = t[n], i.sortVal = p, o.push(i)
                    }
                if (!(o.length <= 1)) {
                    o.sort(function(t, e) {
                        return t.sortVal - e.sortVal
                    });
                    var r = o[0].sortVal,
                        a = o[o.length - 1].sortVal,
                        s = [],
                        c = [],
                        l = [];
                    if (r > 0)
                        for (var u = 0; u < r; u++) s.push(e[u]);
                    for (u = a + 1; u < e.length; u++) c.push(e[u]);
                    for (u = 0; u < o.length; u++) {
                        var p = o[u].sortVal;
                        l.push(e[p])
                    }
                    var m = 1;
                    for (n = 0; n < o.length - 1; n++) c.length <= 0 ? l.splice(m, 0, "CS_ComminSoon") : (l.splice(m, 0, c[0]), c.splice(0, 1), m += 2);
                    var h = s.concat(l).concat(c);
                    return console.warn("[SettingSortChange]"), console.log(h), h
                }
            }, e.prototype.GetSettingSortData = function(t, e, o) {
                for (var n = [], i = [], r = 0; r < o.length; r++) i.push(o[r].replace(/\w*_/, ""));
                for (var a = 0; a < t.length; a++) {
                    var s = this.GetIconSettingSort(t[a], i);
                    if (-1 != s) {
                        var c = JSON.parse("{}");
                        c.sortVal = s, c.gameName = t[a], c.themeId = e[a], n.push(c)
                    }
                }
                return n.sort(function(t, e) {
                    return t.sortVal - e.sortVal
                }), n
            }, e.prototype.GetIconSettingSort = function(t, e) {
                if (e.length <= 0) return -1;
                for (var o = 0; o < e.length; o++)
                    if (e[o] == t) return o;
                return -1
            }, e.prototype.GetIconSize = function(t, e) {
                var o = this,
                    n = [];
                return e.forEach(function(e) {
                    var i = e.replace(/\w*_/, "");
                    t.forEach(function(t) {
                        if (t == i) {
                            var r = -1 != e.indexOf(o.BIGX3_ICON_PREFIX) ? o.BIGX3_ICON_PREFIX : -1 != e.indexOf(o.BIGX2_ICON_PREFIX) ? o.BIGX2_ICON_PREFIX : -1 != e.indexOf(o.BIG_ICON_PREFIX) ? o.BIG_ICON_PREFIX : o.NORMAL_ICON_PREFIX;
                            n.push(r)
                        }
                    })
                }), n
            }, e.prototype.GetSingleIconSize = function(t) {
                return -1 != t.indexOf(this.BIGX3_ICON_PREFIX) ? this.BIGX3_ICON_PREFIX : -1 != t.indexOf(this.BIGX2_ICON_PREFIX) ? this.BIGX2_ICON_PREFIX : -1 != t.indexOf(this.BIG_ICON_PREFIX) ? this.BIG_ICON_PREFIX : this.NORMAL_ICON_PREFIX
            }, e.prototype.GetIconIsEqual = function(t) {
                if (t.length <= 0) return !1;
                if (t.length <= 1) return !0;
                for (var e = t[0], o = 0, n = t; o < n.length; o++)
                    if (n[o] !== e) return !1;
                return !0
            }, e.prototype.GetIconIndexIsOrder = function(t) {
                if (t.length <= 1) return !0;
                for (var e = 0; e < t.length - 1; e++) {
                    var o = t[e + 1].sortVal - t[e].sortVal;
                    if (1 == Math.abs(o)) return !0
                }
                return !1
            }, e.prototype.GetKioskOpenGame = function(t) {
                for (var e = [], o = SS.Common.GameEnvironment.InGameJpInfoDict[t].theme_id, n = 0; n < o.length; n++) {
                    for (var i = !1, r = 0, a = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList; r < a.length; r++)
                        if (a[r] == this.GetThemeIdByNameList(o)[n]) {
                            i = !0;
                            break
                        }
                    i && e.push(o[n])
                }
                return e
            }, e.prototype.GetThemeIdByNameList = function(t) {
                for (var e = [], o = 0; o < t.length; o++) {
                    var n = t[o];
                    if (SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(n) && SS.Common.GameEnvironment.GameSetting.Icon[n].hasOwnProperty("GameName")) {
                        var i = SS.Common.GameEnvironment.GameSetting.Icon[n].GameName;
                        e.push(i)
                    }
                }
                return e
            }, e.prototype.SetIcon = function(t, e, o) {
                for (var n in null != a.GameJpMgr.Instance && a.GameJpMgr.Instance.ClearGameJpBroadcastEvent(), t) {
                    for (var i = t[n], r = i.length, s = [], c = [], l = 0; l < r;) {
                        var u = cc.instantiate(this.iconLayoutTemplate);
                        u.setParent(this.iconLayoutRoot);
                        var p = u.getComponent("IconVerticleLayout");
                        p._onLoad(), l = p.SetIcon(n, l, i, e, o, this.IconAllSetting, this.iconGroupDatas), p.m_DelClickIcon.Insert(this.OnIconClicked, this), u.active = !1, s.push(u), c.push(p)
                    }
                    this.tmpTypeMapIconNodeList[n] = s.slice(0), this.tmpTypeMapIconCtrlList[n] = c.slice(0), SS.Common.GameEnvironment.CurrentTypeGameCounts && !SS.Common.GameEnvironment.CurrentTypeGameCounts[n] && (SS.Common.GameEnvironment.CurrentTypeGameCounts[n] = this.tmpTypeMapIconNodeList[n].length, console.log("[Current " + n + " Game verticleLayout Count] " + SS.Common.GameEnvironment.CurrentTypeGameCounts[n])), s = null, c = null, i = null
                }
                SS.Common.GameEnvironment.CurrentGameTypeNow || (SS.Common.GameEnvironment.CurrentGameTypeNow = "ALL");
                var m = SS.Common.GameEnvironment.CurrentGameTypeNow,
                    h = "",
                    d = 0;
                JSUtility.IsSupportLocalStorage() ? h = localStorage.getItem("IconView_X") : JSUtility.IsSupportCookie() && (h = JSUtility.GetCookie("IconView_X")), h && "" != h && (d = Number(h), this.IconViewNode.x = d, JSUtility.IsSupportLocalStorage() ? localStorage.setItem("IconView_X", "") : JSUtility.IsSupportCookie() && (document.cookie = "IconView_X=;")), SS.Common.GameEnvironment.CurrentTypeGameCounts[m] && SS.Common.GameEnvironment.GameTypeMapScrollContentPos && SS.Common.GameEnvironment.GameTypeMapScrollContentPos[m] && SS.Common.GameEnvironment.CurrentTypeGameCounts[m] != this.tmpTypeMapIconNodeList[m].length && (SS.Common.GameEnvironment.GameTypeMapScrollContentPos[m].x = 0), this.ShowIcon(m)
            }, e.prototype.OnSwitchGame = function(t) {
                this.OnIconClicked(t, !0)
            }, e.prototype.OnIconClicked = function(t, e) {
                void 0 === e && (e = !1), console.warn("[OnIconClicked] gameName = " + t + ", isSwitchGame = " + e);
                var o = SS.Common.GameEnvironment.CurrentGameTypeNow;
                SS.Common.GameEnvironment.GameTypeMapScrollContentPos[o] = this.scrollView.getContentPosition(), JSUtility.IsSupportLocalStorage() ? localStorage.setItem("IconView_X", this.IconViewNode.x.toString()) : JSUtility.IsSupportCookie() && (document.cookie = "IconView_X=" + this.IconViewNode.x.toString() + ";"), this.m_DelClickIcon.Length > 0 && this.m_DelClickIcon.Notify(t, e)
            }, e.prototype.UpdateLayout = function(t) {
                t.enabled = !0, t.updateLayout(), t.enabled = !1
            }, e.prototype.ClearScrollPositionData = function() {
                SS.Common.GameEnvironment.GameTypeMapScrollContentPos = {}
            }, e.prototype.RecordCurrentGameTypePos = function() {
                var t = SS.Common.GameEnvironment.CurrentGameTypeNow;
                SS.Common.GameEnvironment.GameTypeMapScrollContentPos && (SS.Common.GameEnvironment.GameTypeMapScrollContentPos[t] = this.scrollView.getContentPosition())
            }, e.prototype.ShowIcon = function(t) {
                var e = SS.Common.GameEnvironment.CurrentGameTypeNow,
                    o = JSON.parse(JSON.stringify(SS.Common.GameEnvironment.GameTypeMapScrollContentPos));
                if (t !== e && this.tmpTypeMapIconNodeList[e] && (this.scrollView.stopAutoScroll(), o[e] = this.scrollView.getContentPosition(), this.tmpPreScrollOffsetX = null, this.tmpTypeMapIconNodeList[e].forEach(function(t) {
                        t.active = !1
                    })), this.tmpTypeMapIconNodeList[t]) {
                    this.tmpTypeMapIconNodeList[t].forEach(function(t) {
                        t.active = !0
                    }), this.AutoLayout(this.tmpTypeMapIconNodeList[t].length);
                    var n = o[t];
                    n ? this.scrollView.setContentPosition(new cc.Vec2(n.x, n.y)) : this.scrollView.scrollToLeft(), this.CheckPrompt(this.scrollView.getContentPosition()), SS.Common.GameEnvironment.CurrentGameTypeNow = t, this.onScrollingDrawCallOpt()
                } else this.scrollView.stopAutoScroll(), o[e] = this.scrollView.getContentPosition(), this.tmpPreScrollOffsetX = null;
                for (var i = 0; i < this.tmpTypeMapIconCtrlList[t].length; i++) {
                    var r = 0;
                    this.tmpTypeMapIconCtrlList[t].length > 1 && (r = this.tmpTypeMapIconCtrlList[t][1].node.position.x - this.tmpTypeMapIconCtrlList[t][0].node.position.x), this.tmpTypeMapIconCtrlList[t][i].SetGameJpPosition(r)
                }
                o = null
            }, e.prototype.AutoLayout = function(t) {
                if (t < this.ICON_CONTENT_LEAST_COUNT) switch (this.iconLayoutRoot.width = this.ICON_CONTENT_LEAST_WIDTH, this.HorizontalLayout.resizeMode = cc.Layout.ResizeMode.CHILDREN, t) {
                    case 1:
                        this.HorizontalLayout.paddingLeft = 0, this.HorizontalLayout.paddingRight = 165, this.HorizontalLayout.spacingX = 0;
                        break;
                    case 2:
                        this.HorizontalLayout.paddingLeft = 40, this.HorizontalLayout.paddingRight = 165, this.HorizontalLayout.spacingX = 0;
                        break;
                    case 3:
                        this.HorizontalLayout.paddingLeft = 20, this.HorizontalLayout.paddingRight = 190, this.HorizontalLayout.spacingX = 0;
                        break;
                    case 4:
                        this.HorizontalLayout.paddingLeft = 0, this.HorizontalLayout.paddingRight = 0, this.HorizontalLayout.spacingX = 0
                } else this.HorizontalLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER, this.HorizontalLayout.paddingLeft = 20, this.HorizontalLayout.paddingRight = 30, this.HorizontalLayout.spacingX = 20;
                this.iconLayoutWidget.left = 0, this.iconLayoutWidget.updateAlignment(), this.UpdateLayout(this.HorizontalLayout)
            }, e.prototype.onScrollingDrawCallOpt = function() {
                var t = SS.Common.GameEnvironment.CurrentGameTypeNow;
                if (this.tmpTypeMapIconNodeList[t])
                    for (var e = this.tmpTypeMapIconNodeList[t].length, o = 0; o < e; o++) this.tmpTypeMapIconNodeList[t][o].getBoundingBoxToWorld().intersects(this.LobbyBoxRect) ? this.tmpTypeMapIconCtrlList[t][o].EnterScrollView() : this.tmpTypeMapIconCtrlList[t][o].ExitScrollView()
            }, e.prototype.MoveRootView = function(t) {
                if (null != this.tmpPreScrollOffsetX) {
                    var e = t.getScrollOffset().x - this.tmpPreScrollOffsetX;
                    this.tmpPreScrollOffsetX = t.getScrollOffset().x, t.isAutoScrolling() || this.IconViewNode.x < 0 && e < 0 || this.IconViewNode.x > this.LOBBY_VIEW_MOVE_POSX && e > 0 || (this.IconViewNode.x + e > this.LOBBY_VIEW_MOVE_POSX ? e = this.LOBBY_VIEW_MOVE_POSX - this.IconViewNode.x : this.IconViewNode.x + e < 0 && (e = 0 - this.IconViewNode.x), this.IconViewNode.x = this.IconViewNode.x + e)
                } else this.tmpPreScrollOffsetX = t.getScrollOffset().x
            }, e.prototype.CheckPrompt = function(t) {
                var e = this.scrollView.getMaxScrollOffset(),
                    o = 2 * t.x + e.x;
                0 === e.x || t.x <= 0 && o < this.DISABLE_PROMPT_DIS ? !0 === this.LobbyPrompt.active && (this.LobbyPrompt.stopAction(this.PromptFadeEffect), this.LobbyPrompt.active = !1) : !1 === this.LobbyPrompt.active && (this.LobbyPrompt.active = !0, this.LobbyPrompt.runAction(this.PromptFadeEffect))
            }, e.prototype.OnScrollEvent = function(t) {
                this.CheckPrompt(t.getContentPosition()), this.MoveRootView(t), this.onScrollingDrawCallOpt()
            }, e.prototype.setEventFlag = function(t, e) {
                try {
                    this.tmpTypeMapIconCtrlList[t].forEach(function(t) {
                        t.m_vecIconMgr.forEach(function(t) {
                            t.checkEventAndSetFlag(e)
                        })
                    })
                } catch (c) {
                    console.error("setEventFlag error")
                }
            }, e.prototype.setFishFlagByEvent = function(t, e, o, n, i) {
                void 0 === o && (o = !1);
                try {
                    this.tmpTypeMapIconCtrlList[t].forEach(function(t) {
                        t.m_vecIconMgr.forEach(function(t) {
                            t.SetFishEventFlag(e, o, n, i)
                        })
                    })
                } catch (c) {
                    console.error("setFlag error")
                }
            }, r([u(cc.Node)], e.prototype, "IconViewNode", void 0), r([u(cc.Widget)], e.prototype, "iconLayoutWidget", void 0), r([u(cc.Layout)], e.prototype, "HorizontalLayout", void 0), r([u(cc.Node)], e.prototype, "iconLayoutRoot", void 0), r([u(cc.Prefab)], e.prototype, "iconLayoutTemplate", void 0), r([u(cc.ScrollView)], e.prototype, "scrollView", void 0), r([u(cc.Node)], e.prototype, "LobbyPrompt", void 0), r([u(cc.Node)], e.prototype, "LobbyNode", void 0), r([u([m])], e.prototype, "IconAllSetting", void 0), r([l], e)
        }(cc.Component);
        o.GameIconMgr = h, cc._RF.pop()
    }, {
        "../../../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "./IconGroupData": "IconGroupData"
    }],
    GameJpMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "37a86YHHl5P9KeGiSoJxBxy", "GameJpMgr");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameJpMgr = void 0;
        var i = t("../../Net/LobbyClient"),
            r = cc._decorator,
            a = r.ccclass,
            s = (r.property, function() {
                function t() {
                    this.gameJpJson = {}, this.Event_GameJpBroadcast = null, this.jpRate = -1, this.ratioRatio = -1, null == e.Instance && (e.Instance = this)
                }
                var e;
                return e = t, Object.defineProperty(t.prototype, "JPRate", {
                    get: function() {
                        return this.jpRate
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "JPRatioRatio", {
                    get: function() {
                        return this.ratioRatio
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype._onLoad = function() {
                    this.Event_GameJpBroadcast = new SS.Common.Delegate, i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal.remove(this.ParseInGameJpVal, this), i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal.add(this.ParseInGameJpVal, this)
                }, t.prototype._onDestroy = function() {
                    i.LobbyClient.Instance && i.LobbyClient.Instance.GetJPSystem && i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal && i.LobbyClient.Instance.GetJPSystem.OnChangeInGameJpSingnal.remove(this.ParseInGameJpVal, this), this.ClearGameJpBroadcastEvent(), this.Event_GameJpBroadcast = null
                }, t.SetInstance = function(t) {
                    e.Instance = t
                }, t.prototype.ClearGameJpBroadcastEvent = function() {
                    console.warn("[ClearGameJpBroadcastEvent]"), null != this.Event_GameJpBroadcast && this.Event_GameJpBroadcast.Length > 0 && this.Event_GameJpBroadcast.Clear()
                }, t.prototype.RemoveGameJpBroadcastEvent = function(t) {
                    console.warn("[RemoveGameJpBroadcastEvent]"), null != this.Event_GameJpBroadcast && this.Event_GameJpBroadcast.Length > 0 && this.Event_GameJpBroadcast.Remove(t, this)
                }, t.prototype.RegisterGameJpBroadcastEvent = function(t) {
                    console.warn("[RegisterGameJpBroadcastEvent]"), this.Event_GameJpBroadcast.Insert(t, this)
                }, t.prototype.GetInGameJp = function(t) {
                    return this.gameJpJson[t]
                }, t.prototype.GetAllGameJp = function() {
                    return this.gameJpJson
                }, t.prototype.GetInGameJpArray = function(t, e) {
                    if (null != this.gameJpJson && this.gameJpJson.hasOwnProperty(t)) {
                        var o = this.gameJpJson[t];
                        if (null != o.jp1 && null != o.jp2 && null != o.jp3 && null != o.jp4) {
                            var n = o.jp_rate,
                                i = e ? o.ratio_rate : 1,
                                r = [];
                            return this.jpRate = n, this.ratioRatio = i, r.push(o.jp1 * n * i), r.push(o.jp2 * n * i), r.push(o.jp3 * n * i), r.push(o.jp4 * n * i), console.log(t, r), r
                        }
                    }
                }, t.prototype.ParseInGameJpVal = function(t) {
                    null != t && null != t && (console.log("[ParseInGameJpVal]", t), this.gameJpJson = t, this.Event_GameJpBroadcast.Length > 0 && this.Event_GameJpBroadcast.Notify(t))
                }, t.Instance = null, e = n([a], t)
            }());
        o.GameJpMgr = s, cc._RF.pop()
    }, {
        "../../Net/LobbyClient": "LobbyClient"
    }],
    GameMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "cd2a3Fr/7BK+o/o8DAz5guD", "GameMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameMgr = void 0;
        var c = t("../LobbyCommon/Net/LobbyClient"),
            l = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            u = t("../LobbyCommon/Net/Downloader/VersionDownloader"),
            p = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            m = t("../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            h = t("../LobbyCommon/SwipeMgr/Scripts/Device"),
            d = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            _ = cc._decorator,
            g = _.ccclass,
            f = _.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gameWebView = null, e.isFirstRunGameView = !0, e.loadIframeMaxCount = 2, e.curLoadIframeCount = 0, e.initReloadTime = 20, e.curReloadTime = 0, e.isStopUpdate = !1, e.isBackLobby = !1, e.mainLoopInterval = null, e.iframeLoopSrc = null, e.iframeLoadEmptyComplete = !1, e.iframeLoadGameComplete = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.isFirstRunGameView && (this.isFirstRunGameView = !1, SS.Common.GameEnvironment.Splash || (SS.Common.GameEnvironment.Splash = document.getElementById("splash")), this.gameName = SS.Common.GameEnvironment.CurrentGameNow, c.LobbyClient.Instance.OnGameLoadingOK = this.OnGameLoadingOK.bind(this), this.LoadWebView(SS.Common.GameEnvironment.CurrentGameVersion), c.LobbyClient.Instance.ReloadGame = this.ReloadGame.bind(this), c.LobbyClient.Instance.ReloadLobby = this.ReloadLobby.bind(this))
                }, e.prototype.onDestroy = function() {
                    c.LobbyClient.Instance.ReloadGame = null, c.LobbyClient.Instance.ReloadLobby = null, c.LobbyClient.Instance.OnGameMaintain = null, c.LobbyClient.Instance.OnGameUpdateVersion = null, c.LobbyClient.Instance.OnGameLoadingOK = null
                }, e.prototype.OnGameLoadingOK = function() {
                    this.isStopUpdate = !0
                }, e.prototype.ReloadLobby = function() {
                    console.log("[GameMgr.ReloadLobby]"), location.replace(this.GetIndexURL())
                }, e.prototype.GetIndexURL = function() {
                    var t = "",
                        e = "",
                        o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                    return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../../" + t + "/?KioskDEV=" + o + e : "../../../../" + t + e
                }, e.prototype.DestroyWebView = function(t, e) {
                    void 0 === e && (e = !1), this.mainLoopInterval && (clearInterval(this.mainLoopInterval), this.mainLoopInterval = null), this.iframe.contentWindow.removeEventListener("touchend", h.Device.Instance.ExecuteFullScreen.bind(h.Device.Instance), !0), this.iframe = null, this.iframeLoadEmptyComplete = !1;
                    var o = document.getElementById("splash");
                    SS.Common.GameEnvironment.Splash = o;
                    var n = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                    c.LobbyClient.Instance.GetUserClient.SendSessionLengthEnd(n, null), o && (o.style.display = "block"), e && l.LoadingMgr.Instance.OpenLoading(), window.clearTimeout(this.loadVersionTimeoutID);
                    var i = this,
                        r = function() {
                            if (!i.iframeLoadEmptyComplete) {
                                if (console.log("setIframeSrc "), !i.gameWebView) return;
                                i.gameWebView.url = "about:blank", setTimeout(r, 2e3)
                            }
                        };
                    this.gameWebView.node.once("loaded", function() {
                        i.iframeLoadEmptyComplete = !0, t()
                    }), this.gameWebView.node.once("error", function() {
                        console.error("self.gameWebView.url = about:blank error ... wait timeout reload"), setTimeout(r, 2e3)
                    }), i.iframeLoadEmptyComplete || setTimeout(r, 2e3)
                }, e.prototype.onLoadVersionSuccess = function(t) {
                    var e = this;
                    SS.Common.GameEnvironment.IgnoreVersionCtrl || (t.Maintain && t.Maintain.IsMaintainNow ? c.LobbyClient.Instance.OnGameMaintain && c.LobbyClient.Instance.OnGameMaintain() : SS.Common.GameEnvironment.CurrentGameVersion != t.Version ? c.LobbyClient.Instance.OnGameUpdateVersion && c.LobbyClient.Instance.OnGameUpdateVersion() : this.loadVersionTimeoutID = setTimeout(function() {
                        e.DownloadVersion(e.gameName, e.onLoadVersionSuccess.bind(e), e.onLoadVersionFail.bind(e))
                    }, 3e4))
                }, e.prototype.onLoadVersionFail = function(t) {
                    var e = this;
                    console.error("onLoadVersionFail : ", t), this.loadVersionTimeoutID = setTimeout(function() {
                        e.DownloadVersion(e.gameName, e.onLoadVersionSuccess.bind(e), e.onLoadVersionFail.bind(e))
                    }, 3e4)
                }, e.prototype.pollingGameVersion = function() {
                    var t = this;
                    SS.Common.GameEnvironment.IgnoreVersionCtrl || (this.loadVersionTimeoutID = setTimeout(function() {
                        t.DownloadVersion(t.gameName, t.onLoadVersionSuccess.bind(t), t.onLoadVersionFail.bind(t))
                    }, 3e4))
                }, e.prototype.onWebViewLoaded = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n, i;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    console.log("[GameMgr] gameWebView Loaded !"), t.iframe = t.gameWebView._impl._iframe, e = .3, o = 0, n = 15, r.label = 1;
                                case 1:
                                    return t.iframeLoadGameComplete ? [3, 3] : [4, new Promise(function(t) {
                                        setTimeout(function() {
                                            t(null)
                                        }, 1e3 * e)
                                    })];
                                case 2:
                                    return r.sent(), null != t.iframe.contentWindow && t.iframe.contentWindow.StartIframeGame && (console.log("iframeLoadGameComplete= " + t.iframeLoadGameComplete), t.iframeLoadGameComplete = !0, t.isBackLobby = !1, i = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow), c.LobbyClient.Instance.GetUserClient.SendSessionLengthStart(i, null), null != t.iframeLoopSrc && clearTimeout(t.iframeLoopSrc), h.Device.Instance.IsAllowRegisterFullScreenEvent() && h.Device.Instance.RegisterFullScreenEvent(t.iframe.contentWindow), t.iframe.contentWindow.StartIframeGame(SS, JSUtility, c.LobbyClient.Instance, ArkSDK, d.GameJpMgr.Instance, h.Device.Instance, window.gd_nowLOGO), t.ExecuteResizeWebView(), cc.game.pause()), (o += e) >= n ? (null != t.iframeLoopSrc && clearTimeout(t.iframeLoopSrc), null != t.gameWebView && null != t.gameWebView.node && (t.gameWebView.node.active = !1), p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C30-2", "Lobby", "load webView error"), [3, 3]) : [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.LoadWebView = function(t) {
                    var e = this;
                    console.warn("[LoadWebView]");
                    var o = this;
                    this.curLoadIframeCount = 0, this.curReloadTime = this.initReloadTime, this.pollingGameVersion(), o.iframeLoadGameComplete = !1, o.gameWebView.node.once("loaded", function() {
                        e.onWebViewLoaded(o)
                    }), o.gameWebView.node.once("error", function(t) {
                        console.error("[GameMgr] Load webview error", t), e.gameWebView.node.active = !1, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C30", e.gameName, "load webView error")
                    }), -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(this.gameName + c.GAME_STATUS.START_LOAD_PAGE) && (c.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, this.gameName, c.GAME_STATUS.START_LOAD_PAGE), SS.Common.GameEnvironment.SentGameFlowStatus.push(this.gameName + c.GAME_STATUS.START_LOAD_PAGE)), this.DisableWebViewScroll();
                    var n = function() {
                        o.iframeLoadGameComplete || (o.curLoadIframeCount <= o.loadIframeMaxCount ? (console.log("setIframeSrc"), o.curReloadTime += 10, o.gameWebView.url = o.GetGameURL(o.gameName, t), o.iframeLoopSrc = setTimeout(n, 1e3 * o.curReloadTime), o.curLoadIframeCount += 1) : (console.error("load webView error"), p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Warning, "C30-1", o.gameName, "load webView error")))
                    };
                    n(), console.warn("GameMgr.LoadWebView")
                }, e.prototype.DisableWebViewScroll = function() {
                    this.gameWebView._impl._iframe.style.overflow = "hidden", this.gameWebView._impl._iframe.style["-webkit-overflow"] = "", this.gameWebView._impl._iframe.style["-webkit-overflow-scrolling"] = ""
                }, e.prototype.ExecuteResizeWebView = function() {
                    null != this.gameWebView && (this.mainLoopInterval = setInterval(this.OnSetDirectorMainLoop.bind(this), 500))
                }, e.prototype.OnSetDirectorMainLoop = function() {
                    cc.director.mainLoop(null)
                }, e.prototype.update = function() {
                    if (this.isStopUpdate || c.LobbyClient.Instance.IsSocketErrorClose && !this.iframeLoadGameComplete && (this.isStopUpdate = !0, c.LobbyClient.Instance.IsSocketErrorClose = !1, this.SocketErrorClose()), !this.isBackLobby && this.iframe && "about:blank" == this.iframe.src) {
                        this.isBackLobby = !0;
                        var t = this;
                        this.DestroyWebView(function() {
                            return t.LoadLobbyScene()
                        }, !0)
                    }
                }, e.prototype.SocketErrorClose = function() {
                    var t = this;
                    SS.Common.GameEnvironment.Splash.style.display = "none", this.DestroyWebView(function() {
                        t.gameWebView.node.active = !1, p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Disconnected, "C14", "Lobby", "The internet was diconnected.", function() {
                            m.ConnectPanelMgr.Instance.ShowConnectPanel();
                            var e, o, n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                            e = SS.Common.GameEnvironment.UserID, o = SS.Common.GameEnvironment.UserPW, c.LobbyClient.Instance.DoLogin(n, e, o, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                        })
                    }, !0)
                }, e.prototype.LoadLobbyScene = function() {
                    var t = SS.Common.GameEnvironment.Language + "Lobby";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Lobby")
                }, e.prototype.DoLoginSuccess = function() {
                    m.ConnectPanelMgr.Instance.DisableConnectPanel(), this.LoadLobbyScene()
                }, e.prototype.DoLoginFail = function(t, e, o) {
                    m.ConnectPanelMgr.Instance.DisableConnectPanel(), console.log("LoginFail", e);
                    var n = t.toString();
                    "VerifyMobile" === o ? this.VerifyMobileFailHandle(t, e) : "DeviceLogin" === o ? this.DeviceLoginFailHandle(t, e) : "PinLogin" === o ? this.PinLoginFailHandle(t, e) : "BindSocket" === o ? (t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e)) : "ConnectWebSocket" === o && p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, "S172", "Login", e, null)
                }, e.prototype.ErrorHandler = function(t, e) {
                    p.PopupMsgMgr.Instance.ShowPopMsg(p.PopupPriority.Critical, t, "Lobby", e, null)
                }, e.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-4" == o || "-2" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, e.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o && (o = "S117")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : (t == ArkSDK.HttpResult.OK && (e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14"), t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127")), this.ErrorHandler(o, e))
                }, e.prototype.ReloadGame = function() {
                    var t = this;
                    this.DestroyWebView(function() {
                        t.LoadWebView(SS.Common.GameEnvironment.CurrentGameVersion)
                    })
                }, e.prototype.GetGameURL = function(t, e) {
                    var o, n = SS.Common.GameEnvironment.ProjectSetting;
                    o = n.CDN_HOST ? window.location.protocol + "//" + n.CDN_HOST : "../../..";
                    var i = t,
                        r = n.Modules[i].Path,
                        a = n.Modules[i].FileName;
                    if (!r) return console.error("Project setting is not exist game id: " + i), null;
                    var s = o + r + e + "/web-mobile/" + a;
                    return console.log("gameUrl : " + s), s
                }, e.prototype.DownloadVersion = function(t, e, o) {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise(function(n, i) {
                                        var r = SS.Common.GameEnvironment.ProjectSetting,
                                            a = SS.Common.GameEnvironment.S3URL;
                                        try {
                                            var s = r.Modules[t].Path;
                                            (new u.VersionDownloader).Start(a + s, function(t) {
                                                e(t), n()
                                            }, function(t) {
                                                o(t), i()
                                            })
                                        } catch (c) {
                                            console.error(c)
                                        }
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, r([f(cc.WebView)], e.prototype, "gameWebView", void 0), r([g], e)
            }(cc.Component);
        o.GameMgr = y, cc._RF.pop()
    }, {
        "../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    GameMsgDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2bd3024cQhO+I6DGqH6u3NH", "GameMsgDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameMsgDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t + "GameMsg" + SS.Common.GameEnvironment.ProjectSetting.GameMsgVersion + ".json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("GameMsgDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[GameMsgDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.GameMsgDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    GameSettingDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "41f38ZujO5K04N2x+pD0ffp", "GameSettingDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameSettingDownloader = void 0;
        var r = t("./Downloader"),
            a = t("jsonpack"),
            s = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnLoad = null, e.OnError = null, e
                }
                return i(e, t), e.prototype.Start = function(t, e, o, n) {
                    this.OnLoad = o, this.OnError = n, this._isDeveloper = e, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
                }, e.prototype.OnLoadComplete = function(t) {
                    try {
                        console.log(t);
                        var e = void 0;
                        if (this._isDeveloper) e = JSON.parse(t);
                        else {
                            var o = a.unpack(t);
                            console.log("[GameSettingDownloader] unpack : ", o), e = o.json
                        }
                        null != this.OnLoad && this.OnLoad(e)
                    } catch (n) {
                        console.error("[GameSettingDownloader] Load game setting failed.\n", n), null != this.OnError && this.OnError(n)
                    }
                }, e
            }(r.Downloader);
        o.GameSettingDownloader = s, cc._RF.pop()
    }, {
        "./Downloader": "Downloader",
        jsonpack: 21
    }],
    GameTypeElement: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f088elWYWlGpIaYMtxeLyTw", "GameTypeElement");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameTypeElement = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.TypeName = "", e.NormalNode = null, e.SelectNode = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelClickGameType = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    this.m_DelClickGameType.Clear(), this.m_DelClickGameType = null
                }, e.prototype.OnClickGameType = function() {
                    this.m_DelClickGameType.Length > 0 && this.m_DelClickGameType.Notify(this.TypeName)
                }, r([c(String)], e.prototype, "TypeName", void 0), r([c(cc.Node)], e.prototype, "NormalNode", void 0), r([c(cc.Node)], e.prototype, "SelectNode", void 0), r([s], e)
            }(cc.Component);
        o.GameTypeElement = l, cc._RF.pop()
    }, {}],
    GameTypeMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fe6bcqNF39GPbHNi5D77dNK", "GameTypeMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GameTypeMgr = o.GameType = void 0;
        var a = t("./GameTypeElement"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property;
        (function(t) {
            t[t.All = -1] = "All", t[t.SLOT = 0] = "SLOT", t[t.FISH = 1] = "FISH", t[t.PICKEM = 2] = "PICKEM", t[t.KENO = 3] = "KENO", t[t.BINGO = 4] = "BINGO", t[t.ARCADE = 5] = "ARCADE"
        })(o.GameType || (o.GameType = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.gameTypeView = [], e.maskSprite = null, e
            }
            return i(e, t), e.prototype._onLoad = function() {
                var t = this;
                t.m_DelClickGameType = new SS.Common.Delegate, t.lightMoveSeq = cc.sequence(cc.callFunc(function() {
                    return t.lightSpriteNode.setPosition(cc.v2(-210, 0))
                }), cc.moveTo(2, cc.v2(210, 0)), cc.delayTime(1)).repeatForever(), t.gameTypeView.forEach(function(e) {
                    e._onLoad(), e.m_DelClickGameType.Insert(t.OnClickGameType, t), e.node.active = !1
                })
            }, e.prototype._onDestroy = function() {
                this.gameTypeView && (this.gameTypeView.forEach(function(t) {
                    t._onDestroy()
                }), this.gameTypeView = null), this.m_DelClickGameType && (this.m_DelClickGameType.Clear(), this.m_DelClickGameType = null), this.maskSprite && this.maskSprite.spriteFrame && this.maskSprite.spriteFrame.decRef()
            }, e.prototype.InitGameType = function(t) {
                var e = function(t) {
                        var e = o.gameTypeView.findIndex(function(e) {
                            return e.TypeName === t
                        }); - 1 !== e && (o.gameTypeView[e].node.active = !0)
                    },
                    o = this;
                for (var n in t) e(n);
                var i = SS.Common.GameEnvironment.CurrentGameTypeNow;
                i || (i = "ALL"), this.ShowTypeLightFlow(i), this.UpdateLayout()
            }, e.prototype.UpdateLayout = function() {
                this.verticleLayout.enabled = !0, this.verticleLayout.updateLayout(), this.verticleLayout.enabled = !1
            }, e.prototype.OnClickGameType = function(t) {
                t !== SS.Common.GameEnvironment.CurrentGameTypeNow && (this.ShowTypeLightFlow(t), this.m_DelClickGameType.Length > 0 && this.m_DelClickGameType.Notify(t))
            }, e.prototype.ShowTypeLightFlow = function(t) {
                this.currentLightSeq && this.lightSpriteNode.stopAction(this.currentLightSeq);
                var e = this.gameTypeView.findIndex(function(e) {
                    return e.TypeName === t
                }); - 1 != e && (this.gameTypeView.forEach(function(e) {
                    e.TypeName === t ? (e.NormalNode.active = !1, e.SelectNode.active = !0) : (e.NormalNode.active = !0, e.SelectNode.active = !1)
                }), this.lightMaskNode.setParent(this.gameTypeView[e].node), this.lightMaskNode.setPosition(cc.Vec2.ZERO), this.currentLightSeq = this.lightSpriteNode.runAction(this.lightMoveSeq))
            }, e.prototype.OpenSelectTypeSprite = function() {
                this.ShowTypeLightFlow(SS.Common.GameEnvironment.CurrentGameTypeNow), this.lightSpriteNode.opacity = 255
            }, e.prototype.HideSelectTypeStatus = function() {
                if (console.log("HideSelectTypeStatus !!"), this.lightSpriteNode.opacity = 0, "" != SS.Common.GameEnvironment.CurrentGameTypeNow)
                    for (var t = 0; t < this.gameTypeView.length; t++)
                        if (console.log(SS.Common.GameEnvironment.CurrentGameTypeNow + " == " + this.gameTypeView[t].TypeName), SS.Common.GameEnvironment.CurrentGameTypeNow == this.gameTypeView[t].TypeName) {
                            this.gameTypeView[t].NormalNode.active = !0, this.gameTypeView[t].SelectNode.active = !1;
                            break
                        }
            }, e.prototype.SetDarkMaskSprite = function(t) {
                this.maskSprite.spriteFrame = t, this.maskSprite.spriteFrame.addRef()
            }, r([l([a.GameTypeElement])], e.prototype, "gameTypeView", void 0), r([l(cc.Layout)], e.prototype, "verticleLayout", void 0), r([l(cc.Sprite)], e.prototype, "maskSprite", void 0), r([l(cc.Node)], e.prototype, "lightMaskNode", void 0), r([l(cc.Node)], e.prototype, "lightSpriteNode", void 0), r([c], e)
        }(cc.Component);
        o.GameTypeMgr = u, cc._RF.pop()
    }, {
        "./GameTypeElement": "GameTypeElement"
    }],
    GetBonusMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2342c3TlORB3Jl2uoLVwLFR", "GetBonusMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GetBonusMgr = void 0;
        var c, l = t("../../../LobbyCommon/Net/LobbyClient"),
            u = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            m = t("../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl"),
            h = t("../../../LobbyCommon/Component/AudioMgr"),
            d = cc._decorator,
            _ = d.ccclass,
            g = d.property;
        (function(t) {
            t[t.InputPhoneNum = 0] = "InputPhoneNum", t[t.InputValidCode = 1] = "InputValidCode"
        })(c || (c = {}));
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.isOpenGetBonus = !1, e.root = null, e.boardPage = null, e.finishPage = null, e.phoneLabel = null, e.errorLabel = null, e.reciprocalLabel = null, e.getMoneyNumLabel = null, e.sendCodeBtn = null, e.smsValidVerifyBtn = null, e.backBtn = null, e.confirmBtn = null, e.groups = null, e.phoneVerifyRoot = null, e.SMSValidVerifyRoot = null, e.verticleLayout = null, e.awardScoreBoxPrefab = null, e.getBonusTypeItem = null, e.getBonusTypeNode = null, e.normalTypeNode = null, e.selectTypeNode = null, e.userInputDatas = [], e.curInputNumIndex = 0, e.tmpMaxInputNum = 0, e.maxPhoneCnt = 10, e.maxSMSCnt = 6, e.clearMsgTime = 5, e.curRetrySendSMSTime = 0, e.maxRetrySendSMSTime = 0, e.getEntriesBonusNum = 0, e.getWinningBonusNum = 0, e.finishEntriesNum = 0, e.finishWinningNum = 0, e.countryNum = "", e.tmpPhoneNum = "", e.tmpPhoneAreaNum = "", e.title = "Lobby", e.isAllowClickBtn = !1, e.groupsAnima = null, e.finishAnima = null, e.fakeScoreBoxCtrl = null, e.getBonusStatus = c.InputPhoneNum, e.Event_SetUserBalance = null, e.Event_SetAllowReload = null, e.Event_HideCurInType = null, e.Event_OpenLastSelectType = null, e.isForTaiwanTest = !1, e
            }
            return i(e, t), e.prototype.LayoutStartInit = function() {
                this.isOpenGetBonus = !0, this.curInputNumIndex = 0, this.userInputDatas = [], this.groupsAnima = this.groups.getComponent(cc.Animation), this.finishAnima = this.finishPage.getComponent(cc.Animation), this.getBonusTypeNode = cc.instantiate(this.getBonusTypeItem), this.getBonusTypeNode.parent = this.verticleLayout, this.normalTypeNode = this.getBonusTypeNode.getChildByName("Normal"), this.selectTypeNode = this.getBonusTypeNode.getChildByName("Select");
                var t = this.getBonusTypeNode.getChildByName("btn").getComponent(cc.Button),
                    e = new cc.Component.EventHandler;
                e.target = this.node, e.component = "GetBonusMgr", e.handler = "OpenGetBonusPanel", t.clickEvents.push(e), this.isForTaiwanTest ? (this.countryNum = "+886", this.maxPhoneCnt = 9) : (this.countryNum = "+1", this.maxPhoneCnt = 10), this.getBonusTypeNode.active || (this.getBonusTypeNode.active = !0), this.finishPage.active && (this.finishPage.active = !1);
                var o = cc.instantiate(this.awardScoreBoxPrefab);
                o.parent = this.root, o.setPosition(new cc.Vec2(-640, -360)), this.fakeScoreBoxCtrl = o.getComponent(m.FakeScoreBoxCtrl), this.fakeScoreBoxCtrl.hide()
            }, e.prototype.RegistrationNeedUseEvent = function(t, e, o, n) {
                this.Event_SetUserBalance = t, this.Event_SetAllowReload = e, this.Event_HideCurInType = o, this.Event_OpenLastSelectType = n
            }, e.prototype.OpenGetBonusPanel = function() {
                this.isAllowClickBtn = !1, this.Event_SetAllowReload(!1), p.ConnectPanelMgr.Instance.ShowConnectPanel(), h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), l.LobbyClient.Instance.GetUserClient.SendVerifyCodeEffect(this.RecvVerifyCodeIsValid.bind(this))
            }, e.prototype.RecvVerifyCodeIsValid = function(t, e) {
                if (console.warn("VerifyCodeEffect"), console.warn(t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data) 0 == e.cmd_data.result ? (this.isAllowClickBtn = !0, this.root.active = !0, this.normalTypeNode.active = !1, this.selectTypeNode.active = !0, null != this.Event_HideCurInType && this.Event_HideCurInType(), e.cmd_data.data.is_in_time ? (e.cmd_data.data.hasOwnProperty("cellphone_num") && (this.tmpPhoneNum = e.cmd_data.data.cellphone_num), e.cmd_data.data.hasOwnProperty("cellphone_state_num") && (this.tmpPhoneAreaNum = e.cmd_data.data.cellphone_state_num), this.SetCurBonusStatus(c.InputValidCode)) : this.SetCurBonusStatus(c.InputPhoneNum)) : this.MissionTimeEnd(e.cmd_data.data.error_msg), p.ConnectPanelMgr.Instance.DisableConnectPanel();
                else {
                    var o;
                    o = t == ArkSDK.HttpResult.Abort ? "S332" : t == ArkSDK.HttpResult.Condition ? "S333" : t == ArkSDK.HttpResult.Error ? "S334" : t == ArkSDK.HttpResult.NotReset ? "S335" : t == ArkSDK.HttpResult.Status ? "S336" : t == ArkSDK.HttpResult.Timeout ? "S337" : "S338", this.ErrorHandler(o, "The Internet was lost! Please login again!")
                }
            }, e.prototype.OnClickBack = function() {
                this.isAllowClickBtn && this.getBonusStatus == c.InputValidCode && this.SetCurBonusStatus(c.InputPhoneNum)
            }, e.prototype.CloseGetBonusPanel = function() {
                this.isAllowClickBtn && this.root.active && (this.root.active = !1, this.Event_SetAllowReload(!0), h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.normalTypeNode.active = !0, this.selectTypeNode.active = !1, null != this.Event_OpenLastSelectType && this.Event_OpenLastSelectType())
            }, e.prototype.OnClickNum = function(t, e) {
                if (this.isAllowClickBtn && (h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.curInputNumIndex < this.tmpMaxInputNum)) {
                    var o = e;
                    if (this.userInputDatas[this.curInputNumIndex] = o, this.curInputNumIndex++, this.getBonusStatus == c.InputPhoneNum) {
                        var n = this.GetConvertPhoneFormat(this.userInputDatas);
                        this.phoneLabel.string = n
                    } else if (this.getBonusStatus == c.InputValidCode) {
                        var i = this.GetConvertSMSFormat(this.userInputDatas);
                        this.phoneLabel.string = i
                    }
                }
            }, e.prototype.OnClickClear = function() {
                this.isAllowClickBtn && (this.StatusInit(), h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1))
            }, e.prototype.DeleteNum = function() {
                if (this.isAllowClickBtn && (h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.curInputNumIndex > 0))
                    if (this.RefreshErrorMsg(), this.unschedule(this.RefreshErrorMsg), this.getBonusStatus == c.InputPhoneNum) {
                        this.userInputDatas[this.curInputNumIndex - 1] = "_", this.curInputNumIndex -= 1;
                        var t = this.GetConvertPhoneFormat(this.userInputDatas);
                        this.phoneLabel.string = t
                    } else if (this.getBonusStatus == c.InputValidCode) {
                    this.userInputDatas[this.curInputNumIndex - 1] = "_", this.curInputNumIndex -= 1;
                    var e = this.GetConvertSMSFormat(this.userInputDatas);
                    this.phoneLabel.string = e
                }
            }, e.prototype.UpdateBtnStatus = function() {
                this.getBonusStatus == c.InputPhoneNum ? this.curInputNumIndex < this.maxPhoneCnt ? this.sendCodeBtn.interactable = !1 : this.curRetrySendSMSTime <= 0 ? this.sendCodeBtn.interactable = !0 : this.sendCodeBtn.interactable = !1 : this.getBonusStatus == c.InputValidCode && (this.curInputNumIndex < this.maxSMSCnt ? this.confirmBtn.interactable = !1 : this.confirmBtn.interactable = !0)
            }, e.prototype.GetConvertPhoneFormat = function(t) {
                for (var e = "", o = 0; o < t.length; o++) e += t[o];
                return this.countryNum + " (" + e.substring(0, 3) + ") " + e.substring(3, 6) + "-" + e.substring(6, 10)
            }, e.prototype.GetConvertSMSFormat = function(t) {
                for (var e = "", o = 0; o < t.length; o++) e += t[o];
                return e
            }, e.prototype.SetCurBonusStatus = function(t) {
                this.getBonusStatus = t, this.StatusInit()
            }, e.prototype.StatusInit = function() {
                if (this.curInputNumIndex = 0, this.userInputDatas = [], this.boardPage.active || (this.boardPage.active = !0), this.RefreshErrorMsg(), this.unschedule(this.RefreshErrorMsg), this.sendCodeBtn.interactable = !1, this.confirmBtn.interactable = !1, this.getBonusStatus == c.InputPhoneNum) {
                    this.phoneVerifyRoot.opacity = 255, this.phoneVerifyRoot.active = !0, this.SMSValidVerifyRoot.active = !1, this.tmpMaxInputNum = this.maxPhoneCnt;
                    for (var t = 0; t < this.tmpMaxInputNum; t++) this.userInputDatas.push("_");
                    var e = this.GetConvertPhoneFormat(this.userInputDatas);
                    this.phoneLabel.string = e
                } else if (this.getBonusStatus == c.InputValidCode) {
                    for (this.phoneVerifyRoot.active = !1, this.SMSValidVerifyRoot.opacity = 255, this.SMSValidVerifyRoot.active = !0, this.tmpMaxInputNum = this.maxSMSCnt, t = 0; t < this.tmpMaxInputNum; t++) this.userInputDatas.push("_");
                    var o = this.GetConvertSMSFormat(this.userInputDatas);
                    this.phoneLabel.string = o
                }
            }, e.prototype.ShowErrorMsg = function(t) {
                this.unschedule(this.RefreshErrorMsg), this.errorLabel.string = t, this.errorLabel.node.active = !0, this.scheduleOnce(this.RefreshErrorMsg, this.clearMsgTime)
            }, e.prototype.RefreshErrorMsg = function() {
                this.errorLabel.string = "", this.errorLabel.node.active = !1
            }, e.prototype.OnClickSendCode = function() {
                if (this.isAllowClickBtn && -1 == this.phoneLabel.string.indexOf("_")) {
                    h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.isAllowClickBtn = !1;
                    var t = this.phoneLabel.string;
                    t = t.replace(/\s*/g, ""), this.tmpPhoneAreaNum = t.substring(t.indexOf("(") + 1, t.indexOf(")")), t = (t = (t = t.replace("(", "")).replace(")", "")).replace("-", ""), console.warn("send phone num = " + t), this.backBtn.interactable = !1, this.smsValidVerifyBtn.interactable = !1, this.tmpPhoneNum = t, p.ConnectPanelMgr.Instance.ShowConnectPanel(), l.LobbyClient.Instance.GetUserClient.SendVerifyCode(t, this.tmpPhoneAreaNum, this.RecvVerifyCode.bind(this))
                }
            }, e.prototype.SetValidVerifyBtnIsCanClick = function() {
                this.reciprocalLabel.string = "Send new code in " + this.curRetrySendSMSTime.toString() + " sec.", this.curRetrySendSMSTime <= 0 && (this.reciprocalLabel.string = "", this.sendCodeBtn.interactable = !0, this.backBtn.interactable = !0, this.smsValidVerifyBtn.interactable = !0, this.unschedule(this.SetValidVerifyBtnIsCanClick)), this.curRetrySendSMSTime > 0 && (this.curRetrySendSMSTime -= 1, this.schedule(this.SetValidVerifyBtnIsCanClick, 1))
            }, e.prototype.OnClickSendSMS = function() {
                this.isAllowClickBtn && (h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.isAllowClickBtn = !1, this.backBtn.interactable = !1, this.smsValidVerifyBtn.interactable = !1, p.ConnectPanelMgr.Instance.ShowConnectPanel(), l.LobbyClient.Instance.GetUserClient.SendVerifyCode(this.tmpPhoneNum, this.tmpPhoneAreaNum, this.RecvVerifyCode.bind(this)))
            }, e.prototype.RecvVerifyCode = function(t, e) {
                var o = this;
                if (console.warn("RecvVerifyCode"), console.log(t), console.log(e), t == ArkSDK.HttpResult.OK && e) {
                    if (!e.hasOwnProperty("cmd_data")) {
                        var n = "324",
                            i = "The Internet was lost! Please login again!";
                        return void this.ErrorHandler(n, i)
                    }
                    if (p.ConnectPanelMgr.Instance.DisableConnectPanel(), 0 == e.cmd_data.result) {
                        if (this.RefreshErrorMsg(), this.unschedule(this.RefreshErrorMsg), this.maxRetrySendSMSTime = e.cmd_data.data.resend_second + 10, this.curRetrySendSMSTime = this.maxRetrySendSMSTime, this.unschedule(this.SetValidVerifyBtnIsCanClick), this.SetValidVerifyBtnIsCanClick(), this.getBonusStatus == c.InputPhoneNum) return this.phoneLabel.string = "", this.groupsAnima.once("finished", function() {
                            o.isAllowClickBtn = !0, o.SetCurBonusStatus(c.InputValidCode)
                        }, this), void this.groupsAnima.play("PhoneToSmsFade", 0);
                        this.getBonusStatus == c.InputValidCode && (this.isAllowClickBtn = !0)
                    } else console.warn(e.cmd_data.result), -28 == e.cmd_data.result || -29 == e.cmd_data.result ? this.MissionTimeEnd(e.cmd_data.data.error_msg) : (-24 == e.cmd_data.result && (this.backBtn.interactable = !0), this.isAllowClickBtn = !0, this.ShowErrorMsg(e.cmd_data.data.error_msg))
                } else n = null, i = "", n = t == ArkSDK.HttpResult.Abort ? "S318" : t == ArkSDK.HttpResult.Condition ? "S319" : t == ArkSDK.HttpResult.Error ? "S320" : t == ArkSDK.HttpResult.NotReset ? "S321" : t == ArkSDK.HttpResult.Status ? "S322" : t == ArkSDK.HttpResult.Timeout ? "S323" : "S324", i = "The Internet was lost! Please login again!", this.ErrorHandler(n, i)
            }, e.prototype.OnClickConfirm = function() {
                if (this.isAllowClickBtn && !(this.curInputNumIndex < this.maxSMSCnt)) {
                    h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.isAllowClickBtn = !1;
                    var t = this.phoneLabel.string;
                    p.ConnectPanelMgr.Instance.ShowConnectPanel(), l.LobbyClient.Instance.GetUserClient.SendVerifyValidCode(t, this.RecvConfirm.bind(this))
                }
            }, e.prototype.RecvConfirm = function(t, e) {
                var o = this;
                if (console.warn("RecvConfirm"), console.warn(t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data) {
                    if (0 == e.cmd_data.result) this.getEntriesBonusNum = e.cmd_data.data.AwardEntries, this.getWinningBonusNum = e.cmd_data.data.AwardWinnings, this.finishEntriesNum = e.cmd_data.playerInfo.entries, this.finishWinningNum = e.cmd_data.playerInfo.winnings, this.getEntriesBonusNum > 0 ? this.getMoneyNumLabel.string = "$ " + (this.getEntriesBonusNum / 100).toString() : this.getMoneyNumLabel.string = "$ " + (this.getWinningBonusNum / 100).toString(), this.boardPage.active = !1, this.getBonusTypeNode.active = !1, this.finishPage.active = !0, this.finishAnima.play("ShowFinishPanel", 0), this.finishAnima.once("finished", function() {
                        o.isAllowClickBtn = !0
                    }, this);
                    else {
                        this.curInputNumIndex = 0, this.tmpMaxInputNum = this.maxSMSCnt, this.userInputDatas = [];
                        for (var n = 0; n < this.tmpMaxInputNum; n++) this.userInputDatas.push("_");
                        var i = this.GetConvertSMSFormat(this.userInputDatas);
                        this.phoneLabel.string = i, this.confirmBtn.interactable = !1, -28 == e.cmd_data.result || -29 == e.cmd_data.result ? this.MissionTimeEnd(e.cmd_data.data.error_msg) : (-24 == e.cmd_data.result && (this.backBtn.interactable = !0), this.isAllowClickBtn = !0, this.ShowErrorMsg(e.cmd_data.data.error_msg))
                    }
                    p.ConnectPanelMgr.Instance.DisableConnectPanel()
                } else {
                    var r;
                    r = t == ArkSDK.HttpResult.Abort ? "S325" : t == ArkSDK.HttpResult.Condition ? "S326" : t == ArkSDK.HttpResult.Error ? "S327" : t == ArkSDK.HttpResult.NotReset ? "S328" : t == ArkSDK.HttpResult.Status ? "S329" : t == ArkSDK.HttpResult.Timeout ? "S330" : "S331", this.ErrorHandler(r, "The Internet was lost! Please login again!")
                }
            }, e.prototype.OnClickGetBonusBtn = function(t) {
                if (console.warn("OnClickGetBonusBtn !!"), this.isAllowClickBtn)
                    if (h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), t.target.getComponent(cc.Button).interactable = !1, SS.Common.GameEnvironment.IsUseScoreBox) this.getEntriesBonusNum > 0 ? (this.fakeScoreBoxCtrl.show(m.ShowType.ENTRIES, this.finishEntriesNum - this.getEntriesBonusNum), this.fakeScoreBoxCtrl.countUpShowMoney(this.finishEntriesNum, 1.5, new cc.Vec2(this.root.position.x + t.target.position.x, this.root.position.y + t.target.position.y), this.GetAward.bind(this))) : (this.fakeScoreBoxCtrl.show(m.ShowType.WINNING, this.finishWinningNum - this.getWinningBonusNum), this.fakeScoreBoxCtrl.countUpShowMoney(this.finishWinningNum, 1.5, new cc.Vec2(this.root.position.x + t.target.position.x, this.root.position.y + t.target.position.y), this.GetAward.bind(this)));
                    else {
                        var e = this.finishEntriesNum + this.finishWinningNum,
                            o = this.finishEntriesNum + this.finishWinningNum - (this.getEntriesBonusNum + this.getWinningBonusNum);
                        this.fakeScoreBoxCtrl.show(m.ShowType.CREDIT, o), this.fakeScoreBoxCtrl.countUpShowMoney(e, 1.5, new cc.Vec2(this.root.position.x + t.target.position.x, this.root.position.y + t.target.position.y), this.GetAward.bind(this))
                    }
            }, e.prototype.GetAward = function() {
                return a(this, void 0, void 0, function() {
                    return s(this, function(t) {
                        switch (t.label) {
                            case 0:
                                return SS.Common.GameEnvironment.IsUseScoreBox ? this.getEntriesBonusNum > 0 ? this.fakeScoreBoxCtrl.show(m.ShowType.ENTRIES, this.finishEntriesNum) : this.fakeScoreBoxCtrl.show(m.ShowType.WINNING, this.finishWinningNum) : this.getEntriesBonusNum > 0 ? this.fakeScoreBoxCtrl.show(m.ShowType.CREDIT, this.finishEntriesNum) : this.fakeScoreBoxCtrl.show(m.ShowType.CREDIT, this.finishWinningNum), null != this.Event_SetUserBalance && this.Event_SetUserBalance(this.finishEntriesNum, this.finishWinningNum), [4, SS.Common.WaitForSeconds(1)];
                            case 1:
                                return t.sent(), this.CloseGetBonusPanel(), [2]
                        }
                    })
                })
            }, e.prototype.CloseFinishGetBonusPanel = function() {
                this.isAllowClickBtn && this.finishPage.active && (this.finishPage.active = !1, h.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1))
            }, e.prototype.MissionTimeEnd = function(t) {
                var e = t;
                this.ErrorHandler("S339", e)
            }, e.prototype.ErrorHandler = function(t, e) {
                u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, t, this.title, e, null)
            }, r([g(cc.Node)], e.prototype, "root", void 0), r([g(cc.Node)], e.prototype, "boardPage", void 0), r([g(cc.Node)], e.prototype, "finishPage", void 0), r([g(cc.Label)], e.prototype, "phoneLabel", void 0), r([g(cc.Label)], e.prototype, "errorLabel", void 0), r([g(cc.Label)], e.prototype, "reciprocalLabel", void 0), r([g(cc.Label)], e.prototype, "getMoneyNumLabel", void 0), r([g(cc.Button)], e.prototype, "sendCodeBtn", void 0), r([g(cc.Button)], e.prototype, "smsValidVerifyBtn", void 0), r([g(cc.Button)], e.prototype, "backBtn", void 0), r([g(cc.Button)], e.prototype, "confirmBtn", void 0), r([g(cc.Node)], e.prototype, "groups", void 0), r([g(cc.Node)], e.prototype, "phoneVerifyRoot", void 0), r([g(cc.Node)], e.prototype, "SMSValidVerifyRoot", void 0), r([g(cc.Node)], e.prototype, "verticleLayout", void 0), r([g(cc.Prefab)], e.prototype, "awardScoreBoxPrefab", void 0), r([g(cc.Prefab)], e.prototype, "getBonusTypeItem", void 0), r([g(Boolean)], e.prototype, "isForTaiwanTest", void 0), r([_], e)
        }(cc.Component);
        o.GetBonusMgr = f, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    GetBonusShow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7bd5fYpheFNF7cLhvRjd/oT", "GetBonusShow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GetBonusShow = void 0;
        var a = t("../../Component/SpawnPool"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.spawnPool = null, e.coinPrefab = null, e.itemCount = 0, e.XreangeLevel = 0, e.jumpHeight = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    for (var t = 0; t < 10; t++) {
                        var e = cc.instantiate(this.coinPrefab);
                        e.parent = this.node, e.setPosition(new cc.Vec2(0, 0)), e.active = !1, this.spawnPool.Despawn(e)
                    }
                }, e.prototype.Show = function(t, e, o) {
                    for (var n = this, i = function(i) {
                            var a = r.spawnPool.Spawn(r.coinPrefab.data, r.node);
                            Math.random() > .5 ? a.setPosition(new cc.Vec2(t.x + Math.random() * r.XreangeLevel, t.y)) : a.setPosition(new cc.Vec2(t.x - Math.random() * r.XreangeLevel, t.y));
                            var s = .5 * Math.random();
                            r.scheduleOnce(function() {
                                a.active = !0
                            }, s);
                            var c = cc.sequence(cc.delayTime(s), cc.moveTo(.25, new cc.Vec2(a.getPosition().x, t.y + Math.random() * r.jumpHeight)), cc.moveTo(.15, new cc.Vec2(a.getPosition().x, t.y)), cc.delayTime(.15), cc.moveTo(.25, new cc.Vec2(a.getPosition().x, t.y + Math.random() * r.jumpHeight)), cc.moveTo(.15, new cc.Vec2(a.getPosition().x, t.y)), cc.delayTime(.15), cc.moveTo(.5, e), cc.callFunc(function() {
                                a.active = !1, n.spawnPool.Despawn(a), i == n.itemCount - 1 && null != o && o()
                            }));
                            a.runAction(c)
                        }, r = this, a = 0; a < this.itemCount; a++) i(a)
                }, r([l(a.SpawnPool)], e.prototype, "spawnPool", void 0), r([l(cc.Prefab)], e.prototype, "coinPrefab", void 0), r([l(Number)], e.prototype, "itemCount", void 0), r([l(Number)], e.prototype, "XreangeLevel", void 0), r([l(Number)], e.prototype, "jumpHeight", void 0), r([c], e)
            }(cc.Component);
        o.GetBonusShow = u, cc._RF.pop()
    }, {
        "../../Component/SpawnPool": "SpawnPool"
    }],
    GlobalData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5e2adP+z/dJ+4xxGOBRkK7U", "GlobalData");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GlobalData = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), r([s], e)
            }(cc.Component));
        o.GlobalData = c, cc._RF.pop()
    }, {}],
    GuestButtonController: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "db612WdEVpG/JLSp64mBh8u", "GuestButtonController");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GustButtonController = void 0;
        var a = t("./ButtonHoverScale"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.button = null, e.buttonHover = null, e.colorGray = new cc.Color, e.colorWhite = new cc.Color(255, 255, 255, 255), e
                }
                return i(e, t), Object.defineProperty(e.prototype, "interactable", {
                    set: function(t) {
                        this.button.interactable = t, this.buttonHover.Enable = t, this.button.target.color = t ? this.colorWhite : this.colorGray
                    },
                    enumerable: !1,
                    configurable: !0
                }), r([l(cc.Button)], e.prototype, "button", void 0), r([l(a.ButtonHoverScale)], e.prototype, "buttonHover", void 0), r([l(cc.Color)], e.prototype, "colorGray", void 0), r([c], e)
            }(cc.Component);
        o.GustButtonController = u, cc._RF.pop()
    }, {
        "./ButtonHoverScale": "ButtonHoverScale"
    }],
    GuestGameUiMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7e39d2B2KxCR7kxksLEfQ/s", "GuestGameUiMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            s = t("../../Connect/Script/ConnectPanelMgr"),
            c = t("./GuestInGamePopupMgr"),
            l = t("./GuestSysMgr"),
            u = t("./Utils/DraggableItem"),
            p = cc._decorator,
            m = p.ccclass,
            h = p.property,
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.btnWhatsApp = null, e.btnFbMessenger = null, e.btnSharePostWin = null, e.logoGuest = null, e.beginPosSharePostWin = null, e.endPosSharePostWin = null, e.spinTimes = 0, e.spinOverPhase01 = !1, e.isWinEffectStarted = !1, e
                }
                var o;
                return i(e, t), o = e, e.getInstance = function() {
                    return o.instance
                }, e.prototype.onLoad = function() {
                    o.instance = this
                }, e.prototype.start = function() {
                    var t = this;
                    0 != l.default.getInstance().isEnabled() ? (window.addEventListener("message", this.onWindowPostMessage.bind(this), !1), this.btnSharePostWin.node.active = !1, this.btnFbMessenger.node.active = !1, this.btnWhatsApp.node.active = !1, this.logoGuest.active = !1, 1 == l.default.getInstance().isGuestLogin() && (1 == l.default.isIpad() ? this.btnFbMessenger.node.active = !0 : this.btnWhatsApp.node.active = !0, this.logoGuest.active = !0, a.CommonRoot.Instance.GetGameBar.setUserName(l.default.getInstance().creditRate, 0)), this.spinTimes = 0, 1 == l.default.isIpad() ? this.scheduleOnce(function() {
                        t.btnFbMessenger.node.getComponent(u.default).showBubbleCanMove()
                    }, 2) : this.scheduleOnce(function() {
                        t.btnWhatsApp.node.getComponent(u.default).showBubbleCanMove()
                    }, 2)) : this.node.active = !1
                }, e.prototype.checkGameTip = function() {
                    0 != l.default.getInstance().isGuestLogin() && (this.spinTimes = this.spinTimes + 1, 0 == this.spinOverPhase01 ? (this.spinTimes > 20 && (this.showGameTip(), this.resetSpinTime()), 2 == this.spinTimes && (1 == l.default.isIpad() ? this.btnFbMessenger.node.getComponent(u.default).showBubbleCallMe() : this.btnWhatsApp.node.getComponent(u.default).showBubbleCallMe())) : this.spinTimes > 100 && (this.showGameTip(), this.resetSpinTime()))
                }, e.prototype.resetSpinTime = function() {
                    this.spinOverPhase01 = !0, this.spinTimes = 0
                }, e.prototype.showGameTip = function() {
                    if (0 != l.default.getInstance().isGuestLogin()) {
                        var t = !1,
                            e = !1;
                        1 == l.default.isIpad() ? (t = !1, e = !0) : (t = !0, e = !1), c.GuestInGamePopupMgr.Instance.ShowPopMsgAB("\xa1Felicidades!", "Has demostrado ser un jugador con potencial para ganar excelentes premios. \n \xbfDeseas jugar en Modo Real?", "No, jugar\xe9 en Modo \n Prueba un poco m\xe1s.", "\xa1Si, deseo jugar para \n ganar dinero!", function() {
                            c.GuestInGamePopupMgr.Instance.ClosePopMsg()
                        }, function() {
                            1 == l.default.isIpad() ? (l.default.getInstance().logClickMessenger(41), l.default.getInstance().openFbMessenger()) : (l.default.getInstance().logClickWhatsApp(41), l.default.getInstance().openWhatsApp())
                        }, !1, t, e), window.postMessage(JSON.stringify({
                            msg_type: "guest_tip_popup"
                        }), "*")
                    }
                }, e.prototype.showPurchaseTip = function() {
                    if (0 != l.default.getInstance().isGuestLogin()) {
                        var t = !1,
                            e = !1;
                        1 == l.default.isIpad() ? (t = !1, e = !0) : (t = !0, e = !1);
                        var n = l.default.getInstance().isSharingCompsAvailable(),
                            i = this;
                        c.GuestInGamePopupMgr.Instance.ShowPopMsgAB("Mensaje", "Actualmente estas jugando en Modo Prueba, quieres seguir jugando?", "Compartir \n mi alegr\xeda!", "Quiero ganar \n DINERO REAL!", function() {
                            s.ConnectPanelMgr.Instance.ShowConnectPanel(), o.getInstance().openSharePostPromote(), i.scheduleOnce(function() {
                                i.requestSharingComps()
                            }, 2), c.GuestInGamePopupMgr.Instance.ClosePopMsg()
                        }, function() {
                            1 == l.default.isIpad() ? (l.default.getInstance().logClickMessenger(42), l.default.getInstance().openFbMessenger()) : (l.default.getInstance().logClickWhatsApp(42), l.default.getInstance().openWhatsApp())
                        }, !0, t, e, n), window.postMessage(JSON.stringify({
                            msg_type: "guest_tip_popup"
                        }), "*")
                    }
                }, e.prototype.requestSharingComps = function() {
                    l.default.getInstance().getSharingComps(this.getCompsSucceed.bind(this), this.getCompsFailed.bind(this)), window.postMessage(JSON.stringify({
                        msg_type: "check_show_purchase_hint"
                    }), "*")
                }, e.prototype.onDestroy = function() {
                    l.default.getInstance().isEnabled() && window.removeEventListener("message", this.onWindowPostMessage)
                }, e.prototype.onWindowPostMessage = function(t) {
                    var e = this,
                        o = JSON.parse(t.data);
                    if (null != o.msg_type)
                        if ("win_effect_ctrl" == o.msg_type) {
                            var n = o.win,
                                i = o.action,
                                r = o.win_type;
                            "start" == i ? r >= 5 && r <= 6 ? (l.default.getInstance().setSharePostWinContent(r, n), this.showSharePostWin(), this.isWinEffectStarted = !0) : 4 == r && (this.isWinEffectStarted = !0) : "stop" == i && (this.moveSharePostWin(), 1 == this.isWinEffectStarted && (this.scheduleOnce(function() {
                                e.showGameTip()
                            }, 2), this.resetSpinTime()), this.isWinEffectStarted = !1)
                        } else "ready_to_spin" == o.msg_type ? this.checkGameTip() : "show_purchase_tip" == o.msg_type && this.showPurchaseTip()
                }, e.prototype.getCompsSucceed = function(t, e) {
                    try {
                        console.log("[guestsys][getCompsSucceed] success, status: ", t), console.log(e);
                        var o = e.cmd_data.entries,
                            n = e.cmd_data.winnings,
                            i = e.cmd_data.add_entries;
                        this.showGetCompsTipWindow(n, o, i)
                    } catch (r) {
                        console.error(r)
                    }
                    s.ConnectPanelMgr.Instance.DisableConnectPanel()
                }, e.prototype.showGetCompsTipWindow = function(t, e, o) {
                    void 0 === o && (o = 0);
                    var n = o.toString(),
                        i = this;
                    c.GuestInGamePopupMgr.Instance.showPopMsgOk("Mensaje", "Gracias por compartir. Te regalamos " + n + " cr\xe9ditos y te deseamos mucha suerte!!", function() {
                        i.doGetCompsTipFinishJob(t, e)
                    })
                }, e.prototype.doGetCompsTipFinishJob = function(t, e) {
                    null != a.CommonRoot.Instance.GetPurchaseMgr ? a.CommonRoot.Instance.GetPurchaseMgr.OnPurchaseSuccess.Notify(t, e) : null != a.CommonRoot.Instance.GetGameBar.m_DelGetComps && a.CommonRoot.Instance.GetGameBar.m_DelGetComps.Notify(t, e), c.GuestInGamePopupMgr.Instance.ClosePopMsg()
                }, e.prototype.getCompsFailed = function(t, e) {
                    console.error("[guestsys][getCompsFailed] error, status: ", t), console.error(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                }, e.prototype.openWhatsApp = function() {
                    l.default.getInstance().logClickWhatsApp(40), l.default.getInstance().openWhatsApp()
                }, e.prototype.openFbMessenger = function() {
                    l.default.getInstance().logClickMessenger(40), l.default.getInstance().openFbMessenger()
                }, e.prototype.openSharePostPromote = function() {
                    l.default.getInstance().openSharePostPromote()
                }, e.prototype.openSharePostWin = function() {
                    l.default.getInstance().openSharePostWin(), this.hideSharePostWin()
                }, e.prototype.showSharePostWin = function() {
                    this.btnSharePostWin.node.setPosition(this.beginPosSharePostWin.getPosition()), this.btnSharePostWin.node.active = !0
                }, e.prototype.moveSharePostWin = function() {
                    cc.tween(this.btnSharePostWin.node).to(1, {
                        position: this.endPosSharePostWin.position
                    }, {
                        easing: "sineInOut"
                    }).start()
                }, e.prototype.hideSharePostWin = function() {
                    this.btnSharePostWin.node.active = !1
                }, e.instance = null, r([h(cc.Button)], e.prototype, "btnWhatsApp", void 0), r([h(cc.Button)], e.prototype, "btnFbMessenger", void 0), r([h(cc.Button)], e.prototype, "btnSharePostWin", void 0), r([h(cc.Node)], e.prototype, "logoGuest", void 0), r([h(cc.Node)], e.prototype, "beginPosSharePostWin", void 0), r([h(cc.Node)], e.prototype, "endPosSharePostWin", void 0), o = r([m], e)
            }(cc.Component);
        o.default = d, cc._RF.pop()
    }, {
        "../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "./GuestInGamePopupMgr": "GuestInGamePopupMgr",
        "./GuestSysMgr": "GuestSysMgr",
        "./Utils/DraggableItem": "DraggableItem"
    }],
    GuestInGamePopupMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6cea9ts/0VDLZA6IeykOpNf", "GuestInGamePopupMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GuestInGamePopupMgr = void 0;
        var a = t("../../Net/LobbyClient"),
            s = t("../../Loading/Script/LoadingMgr"),
            c = t("../../Connect/Script/ConnectPanelMgr"),
            l = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.content = null, e.title = null, e.btnA = null, e.btnB = null, e.btnC = null, e.btnOk = null, e.decoFacebookIcon = null, e.decoWhatsAppIcon = null, e.decoMessengerIcon = null, e.getCompsTip = null, e.onClickCallbackA = null, e.onClickCallbackB = null, e.onClickCallbackC = null, e.onClickCallbackOk = null, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this)
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.prototype.start = function() {
                    this.root.active = !1
                }, e.prototype.ClosePopMsg = function() {
                    this.root.active = !1, this.decoFacebookIcon.active = !1, this.decoWhatsAppIcon.active = !1, this.decoMessengerIcon.active = !1, this.getCompsTip.active = !1, this.btnA.node.active = !1, this.btnB.node.active = !1, this.btnC.node.active = !1, this.btnOk.node.active = !1, this.onClickCallbackA = null, this.onClickCallbackB = null, this.onClickCallbackC = null, this.onClickCallbackOk = null
                }, e.prototype.onClickedA = function() {
                    this.onClickCallbackA()
                }, e.prototype.onClickedB = function() {
                    this.onClickCallbackB()
                }, e.prototype.onClickedC = function() {
                    this.onClickCallbackC()
                }, e.prototype.onClickedOk = function() {
                    this.onClickCallbackOk()
                }, e.prototype.showPopMsgOk = function(t, e, o) {
                    this.title.string = t, this.content.string = e, this.decoFacebookIcon.active = !1, this.decoWhatsAppIcon.active = !1, this.decoMessengerIcon.active = !1, this.getCompsTip.active = !1, this.btnA.node.active = !1, this.btnB.node.active = !1, this.btnC.node.active = !1, this.btnOk.node.active = !0, this.onClickCallbackOk = o, l.CommonRoot.Instance && l.CommonRoot.Instance.GetInfoMgr && l.CommonRoot.Instance.GetInfoMgr.CloseInfoPage(), this.isHideCursor = "none" == cc.game.canvas.style.cursor, this.isHideCursor && (cc.game.canvas.style.cursor = "default"), this.root.active = !0
                }, e.prototype.ShowPopMsgAB = function(t, e, o, n, i, r, a, s, c, u) {
                    void 0 === a && (a = !1), void 0 === s && (s = !1), void 0 === c && (c = !1), void 0 === u && (u = !1), this.title.string = t, this.content.string = e, this.decoFacebookIcon.active = !1, this.decoWhatsAppIcon.active = !1, this.decoMessengerIcon.active = !1, this.getCompsTip.active = !1, 1 == a && (this.decoFacebookIcon.active = !0), 1 == s && (this.decoWhatsAppIcon.active = !0), 1 == c && (this.decoMessengerIcon.active = !0), 1 == u && (this.getCompsTip.active = !0), this.btnA.node.active = !0, this.btnB.node.active = !0, this.btnC.node.active = !1, this.btnOk.node.active = !1, this.btnA.node.getComponentInChildren(cc.Label).string = o, this.btnB.node.getComponentInChildren(cc.Label).string = n, this.onClickCallbackA = i, this.onClickCallbackB = r, l.CommonRoot.Instance && l.CommonRoot.Instance.GetInfoMgr && l.CommonRoot.Instance.GetInfoMgr.CloseInfoPage(), this.isHideCursor = "none" == cc.game.canvas.style.cursor, this.isHideCursor && (cc.game.canvas.style.cursor = "default"), this.root.active = !0
                }, e.prototype.ErrorHandler = function() {
                    var t = this;
                    s.LoadingMgr.Instance.OpenLoading(), a.LobbyClient.Instance.DoLogout(function() {
                        var t = SS.Common.GameEnvironment.Language + "Login";
                        cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        }) ? cc.director.loadScene(t) : cc.director.loadScene("Login")
                    }, function(e, o) {
                        console.error("Logout error status :" + e, "data:", o), t.CriticalHandler()
                    })
                }, e.prototype.CriticalHandler = function() {
                    c.ConnectPanelMgr.Instance.ShowConnectPanel();
                    try {
                        null != a.LobbyClient.Instance && a.LobbyClient.Instance.ReloadLobby ? a.LobbyClient.Instance.ReloadLobby() : SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? location.reload() : location.replace(this.GetIndexURL())
                    } catch (t) {
                        location.replace(this.GetIndexURL())
                    }
                }, e.prototype.GetIndexURL = function() {
                    var t = "",
                        e = "",
                        o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                    return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../" + t + "/?KioskDEV=" + o + e : "../../../" + t + e
                }, e.Instance = null, r([m(cc.Node)], e.prototype, "root", void 0), r([m(cc.Label)], e.prototype, "content", void 0), r([m(cc.Label)], e.prototype, "title", void 0), r([m(cc.Button)], e.prototype, "btnA", void 0), r([m(cc.Button)], e.prototype, "btnB", void 0), r([m(cc.Button)], e.prototype, "btnC", void 0), r([m(cc.Button)], e.prototype, "btnOk", void 0), r([m(cc.Node)], e.prototype, "decoFacebookIcon", void 0), r([m(cc.Node)], e.prototype, "decoWhatsAppIcon", void 0), r([m(cc.Node)], e.prototype, "decoMessengerIcon", void 0), r([m(cc.Node)], e.prototype, "getCompsTip", void 0), o = r([p], e)
            }(cc.Component);
        o.GuestInGamePopupMgr = h, cc._RF.pop()
    }, {
        "../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../Loading/Script/LoadingMgr": "LoadingMgr",
        "../../Net/LobbyClient": "LobbyClient"
    }],
    GuestLobbyPopupMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a9c495gzk1I6Y6EGC2G5suB", "GuestLobbyPopupMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.GuestLobbyPopupMgr = void 0;
        var a = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            s = t("./GuestSysMgr"),
            c = t("./GuestLobbyUiMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.btnOK = null, e.whatsappNode = null, e.messengerNode = null, e.onClickCallbackOk = null, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this)
                }, e.prototype.start = function() {
                    this.root.active = !1
                }, e.prototype.onDestroy = function() {
                    o.Instance = null, this.unscheduleAllCallbacks()
                }, e.prototype.ClosePopMsg = function() {
                    this.root.active = !1, this.btnOK.node.active = !1, this.onClickCallbackOk = null
                }, e.prototype.onClickedOk = function() {
                    null != this.onClickCallbackOk && this.onClickCallbackOk(), this.ClosePopMsg(), this.scheduleOnce(function() {
                        null != c.default.getInstance() && c.default.getInstance().showBubble()
                    }, 3)
                }, e.prototype.onClickWhatsApp = function() {
                    s.default.getInstance().logClickWhatsApp(30), s.default.getInstance().openWhatsApp()
                }, e.prototype.onClickFbMessenger = function() {
                    s.default.getInstance().logClickMessenger(30), s.default.getInstance().openFbMessenger()
                }, e.prototype.ShowPopMsg = function() {
                    s.default.isDesktop() ? (this.whatsappNode.active = !0, this.messengerNode.active = !1) : s.default.isIpad() ? (this.whatsappNode.active = !1, this.messengerNode.active = !0) : (this.whatsappNode.active = !0, this.messengerNode.active = !1), this.btnOK.node.active = !0, a.CommonRoot.Instance && a.CommonRoot.Instance.GetInfoMgr && a.CommonRoot.Instance.GetInfoMgr.CloseInfoPage(), this.isHideCursor = "none" == cc.game.canvas.style.cursor, this.isHideCursor && (cc.game.canvas.style.cursor = "default"), this.root.active = !0
                }, e.Instance = null, r([p(cc.Node)], e.prototype, "root", void 0), r([p(cc.Button)], e.prototype, "btnOK", void 0), r([p(cc.Node)], e.prototype, "whatsappNode", void 0), r([p(cc.Node)], e.prototype, "messengerNode", void 0), o = r([u], e)
            }(cc.Component);
        o.GuestLobbyPopupMgr = m, cc._RF.pop()
    }, {
        "../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "./GuestLobbyUiMgr": "GuestLobbyUiMgr",
        "./GuestSysMgr": "GuestSysMgr"
    }],
    GuestLobbyUiMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8746e2x38FHUaj+nPwAKAE9", "GuestLobbyUiMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("./GuestSysMgr"),
            s = t("./Utils/GuestButtonController"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.logoGuest = null, e.guestDownBar = null, e.anchorDefault = null, e.anchorIpad = null, e.anchorDesktop = null, e.bubble = null, e.btnGrayColor = new cc.Color(255, 255, 255, 255), e.btnFB = [], e.btnWhatsApp = [], e
                }
                var o;
                return i(e, t), o = e, e.getInstance = function() {
                    return o.instance
                }, e.prototype.onLoad = function() {
                    o.instance = this
                }, e.prototype.onDestroy = function() {
                    o.instance = null, this.unscheduleAllCallbacks()
                }, e.prototype.getContactInfoByKioskSucceedJob = function(t, e) {
                    if (console.log("get contact info by kiosk succeed! whatsapp id: " + t + ", messenger id: " + e), a.default.isIpad() && "" === e) this.node.active = !1;
                    else if ("" !== t || "" !== e) {
                        if ("" === t)
                            for (var o = 0, n = this.btnWhatsApp; o < n.length; o++) n[o].interactable = !1;
                        if ("" === e)
                            for (var i = 0, r = this.btnFB; i < r.length; i++) r[i].interactable = !1
                    } else this.node.active = !1
                }, e.prototype.getContactInfoByKioskFailedJob = function() {
                    this.node.active = !1
                }, e.prototype.start = function() {
                    0 != a.default.getInstance().isEnabled() ? (0 == a.default.getInstance().isGuestLogin() && a.default.getInstance().getContactInfoByKiosk(this.getContactInfoByKioskSucceedJob.bind(this), this.getContactInfoByKioskFailedJob.bind(this)), this.bubble.active = !1, this.logoGuest.active = !1, this.anchorDefault.active = !1, this.anchorIpad.active = !1, this.anchorDesktop.active = !1, this.guestDownBar.active = !0, 1 == a.default.getInstance().isGuestLogin() && (this.logoGuest.active = !0), 1 == a.default.isDesktop() ? this.anchorDesktop.active = !0 : 1 == a.default.isIpad() ? this.anchorIpad.active = !0 : this.anchorDefault.active = !0) : this.node.active = !1
                }, e.prototype.showBubble = function() {
                    var t = this;
                    this.unscheduleAllCallbacks(), this.bubble.active = !0, this.scheduleOnce(function() {
                        t.hideBubble()
                    }, 3)
                }, e.prototype.hideBubble = function() {
                    var t = this;
                    this.unscheduleAllCallbacks(), this.bubble.active = !1, this.scheduleOnce(function() {
                        t.showBubble()
                    }, 10)
                }, e.prototype.openWhatsApp = function() {
                    a.default.getInstance().logClickWhatsApp(10), a.default.getInstance().openWhatsApp()
                }, e.prototype.openFbMessenger = function() {
                    a.default.getInstance().logClickMessenger(10), a.default.getInstance().openFbMessenger()
                }, e.prototype.openSharePostPromote = function() {
                    a.default.getInstance().openSharePostPromote()
                }, e.prototype.openSharePostWin = function() {
                    a.default.getInstance().openSharePostWin()
                }, e.prototype.openFbPage = function() {
                    a.default.getInstance().openFbPage(), a.default.getInstance().logClickFanPage(1)
                }, e.instance = null, r([u(cc.Node)], e.prototype, "logoGuest", void 0), r([u(cc.Node)], e.prototype, "guestDownBar", void 0), r([u(cc.Node)], e.prototype, "anchorDefault", void 0), r([u(cc.Node)], e.prototype, "anchorIpad", void 0), r([u(cc.Node)], e.prototype, "anchorDesktop", void 0), r([u(cc.Node)], e.prototype, "bubble", void 0), r([u(cc.Color)], e.prototype, "btnGrayColor", void 0), r([u(s.GustButtonController)], e.prototype, "btnFB", void 0), r([u(s.GustButtonController)], e.prototype, "btnWhatsApp", void 0), o = r([l], e)
            }(cc.Component);
        o.default = p, cc._RF.pop()
    }, {
        "./GuestSysMgr": "GuestSysMgr",
        "./Utils/GuestButtonController": "GuestButtonController"
    }],
    GuestLoginUiMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d89b8WZFpNIPrV/RIE2EoGK", "GuestLoginUiMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("./GuestSysMgr"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.btnGuestLogin = null, e.whatsAppNode = null, e.fbMessengerNode = null, e.testButtonClickCount = 0, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onClickGuestLogin = function() {
                    this.guestLoginCallback()
                }, e.getInstance = function() {
                    return o.instance
                }, e.prototype.onLoad = function() {
                    o.instance = this
                }, e.prototype.start = function() {
                    this.btnGuestLogin.node.active = !1, this.fbMessengerNode.active = !1, this.whatsAppNode.active = !1, a.default.getInstance().initialize(this.enableUi.bind(this), this.disableUi.bind(this))
                }, e.prototype.enableUi = function() {
                    this.btnGuestLogin.node.active = !0, this.fbMessengerNode.active = !1, this.whatsAppNode.active = !1, 1 == a.default.isIpad() ? this.fbMessengerNode.active = !0 : (a.default.isDesktop(), this.whatsAppNode.active = !0)
                }, e.prototype.disableUi = function() {
                    this.btnGuestLogin.node.active = !1, this.whatsAppNode.active = !1, this.fbMessengerNode.active = !1
                }, e.prototype.openWhatsApp = function() {
                    a.default.getInstance().openWhatsApp(), a.default.getInstance().logClickLoginWhatsApp()
                }, e.prototype.openFbMessenger = function() {
                    a.default.getInstance().openFbMessenger(), a.default.getInstance().logClickLoginMessenger()
                }, e.prototype.openSharePostPromote = function() {
                    a.default.getInstance().openSharePostPromote()
                }, e.prototype.openSharePostWin = function() {
                    a.default.getInstance().openSharePostWin()
                }, e.prototype.setGuestLoginButtonInteractable = function(t) {
                    o && null != this.btnGuestLogin && (this.btnGuestLogin.interactable = t)
                }, e.prototype.onClickTestButtonA = function() {
                    var t = this;
                    this.testButtonClickCount = this.testButtonClickCount + 1, this.testButtonClickCount >= 8 && (this.testButtonClickCount = 0), this.unscheduleAllCallbacks(), this.scheduleOnce(function() {
                        t.testButtonClickCount = 0
                    }, 3)
                }, e.instance = null, r([l(cc.Button)], e.prototype, "btnGuestLogin", void 0), r([l(cc.Node)], e.prototype, "whatsAppNode", void 0), r([l(cc.Node)], e.prototype, "fbMessengerNode", void 0), o = r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "./GuestSysMgr": "GuestSysMgr"
    }],
    GuestSysMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e6bdaLfaG1Hw6IPdZL+1YU6", "GuestSysMgr");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var i = t("../../Component/GlobalData"),
            r = t("../../Net/LobbyClient"),
            a = t("./SocialMediaApiHandler"),
            s = cc._decorator,
            c = s.ccclass,
            l = (s.property, function() {
                function t() {
                    this.IsDebug = !1, this.lang = "es", this.logoMode = 0, this.urlCode = "", this.normalPinId = "", this.guestPinId = "", this.loginOnceToken = !1, this.sharingCompsEventName = "", this.initSucceedCallback = null, this.initFailedCallback = null, this.getContactInfoByKioskFailedCallback = null, this.getContactInfoByKioskSucceedCallback = null, this.guestLoginFlag = !1, this.deviceUuid = "", this.enabled = !1, this.receiveResult = !1, this.CreditRateArray = ["1 MXN \uff1d 10 CR\xc9DITOS", "1 CLP \uff1d 1 CR\xc9DITO", "1 CRC \uff1d 1 CR\xc9DITO", "1 MXN \uff1d 10 CR\xc9DITOS", "1 CLP \uff1d 1 CR\xc9DITO", "1 CRC \uff1d 1 CR\xc9DITO", "1 MXN \uff1d 10 CR\xc9DITOS"], this.sharePostUrlRoot = "http://dev.888dragon.mobi/fb_share_post/juegoseguros/page/", this.SharePostWinPageArray = ["bigwin.html", "bigwin.html", "bigwin.html", "bigwin.html", "bigwin.html", "bigwin.html", "megawin.html", "megawin.html"], this.DefaultSharePostPromotePage = "promote.html", this.DefaultFbId = "DefaultFbId", this.DefaultWhatsAppId = "12345678", this.fbId = "", this.whatsAppId = "", this.sharePostPromoteContent = {
                        href: "http://default.url",
                        quote: "default promote quote",
                        hashtag: "#DefaultHashTag"
                    }, this.sharePostWinContent = {
                        href: "http://default.url",
                        quote: "default win quote",
                        hashtag: "#DefaultHashTag"
                    }, this.LogoFormalNameArray = ["Chrismoney", "juegoseguros", "Arcoiris", "mx_billonario", "cl_billonario", "cr_billonario", "juegoseguros Mx"], this.HashTagArray = ["#Chrismoney", "#juegoseguros", "#Arcoiris", "#mx_billonario", "#cl_billonario", "#cr_billonario", "#juegoseguros_mx"]
                }
                var e;
                return e = t, t.prototype.getLogoMode = function() {
                    return this.logoMode
                }, t.prototype.getUrlCode = function() {
                    return this.urlCode
                }, t.prototype.consumeLoginOnceToken = function() {
                    var t = this.loginOnceToken;
                    return this.loginOnceToken = !1, t
                }, t.getInstance = function() {
                    var t = !1;
                    return null != window.parent && null != window.parent.guestSysInstance && (t = !0), null == e.instance && (t ? (e.instance = window.parent.guestSysInstance, console.log("[guestsys] load GuestSysMgr from parent window.")) : (e.instance = new e, window.guestSysInstance = e.instance, console.log("[guestsys] create guest sys instance."))), e.instance
                }, t.setInstance = function(t) {
                    e.instance = t
                }, t.prototype.isGuestLogin = function() {
                    return !!this.IsDebug || 0 != this.enabled && this.guestLoginFlag
                }, t.prototype.setGuestLogin = function(t) {
                    this.guestLoginFlag = t, 1 == t && (this.loginOnceToken = !0)
                }, t.prototype.getDeviceUuid = function() {
                    return this.deviceUuid
                }, t.prototype.setEnabled = function(t) {
                    this.enabled = t
                }, t.prototype.isEnabled = function() {
                    return !!this.IsDebug || this.enabled
                }, t.prototype.getHashTag = function() {
                    var t = "#DefaultHashTag";
                    return null != this.HashTagArray[this.logoMode] && (t = this.HashTagArray[this.logoMode]), t
                }, t.prototype.getFormalLogoName = function() {
                    var t = "";
                    return null != this.LogoFormalNameArray[this.logoMode] && (t = this.LogoFormalNameArray[this.logoMode]), t
                }, Object.defineProperty(t.prototype, "creditRate", {
                    get: function() {
                        var t = "1 USD \uff1d 100 CREDITS";
                        return "es" == this.lang && (t = this.CreditRateArray[this.logoMode]), t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.setSharePostWinContent = function(t, e) {
                    this.sharePostWinContent.quote = '\xa1Jug\xfae "' + this.getGameName() + '" en "' + this.getFormalLogoName() + '" y gan\xe9 ' + e.toString() + " creditos!", this.sharePostWinContent.href = this.sharePostUrlRoot + this.SharePostWinPageArray[t], this.sharePostWinContent.hashtag = this.getHashTag()
                }, t.prototype.readLocalDeviceUuid = function() {
                    JSUtility.IsSupportLocalStorage() ? this.deviceUuid = localStorage.getItem("guest_device_uuid") : JSUtility.IsSupportCookie() && (this.deviceUuid = JSUtility.GetCookie("guest_device_uuid")), null != this.deviceUuid && null != this.deviceUuid || (this.deviceUuid = "")
                }, t.prototype.writeLocalDeviceUuid = function(t) {
                    this.deviceUuid = t, JSUtility.IsSupportLocalStorage() ? localStorage.setItem("guest_device_uuid", this.deviceUuid) : JSUtility.IsSupportCookie() && (document.cookie = "guest_device_uuid=" + this.deviceUuid + ";")
                }, t.prototype.writeNormalPinId = function(t) {
                    this.normalPinId = t, JSUtility.IsSupportLocalStorage() ? localStorage.setItem("normal_pin_id", this.normalPinId) : JSUtility.IsSupportCookie() && (document.cookie = "normal_pin_id=" + this.normalPinId + ";")
                }, t.prototype.writeGuestPinId = function(t) {
                    this.guestPinId = t, JSUtility.IsSupportLocalStorage() ? localStorage.setItem("guest_pin_id", this.guestPinId) : JSUtility.IsSupportCookie() && (document.cookie = "guest_pin_id=" + this.guestPinId + ";")
                }, t.prototype.readNormalPinId = function() {
                    JSUtility.IsSupportLocalStorage() ? this.normalPinId = localStorage.getItem("normal_pin_id") : JSUtility.IsSupportCookie() && (this.normalPinId = JSUtility.GetCookie("normal_pin_id")), null != this.normalPinId && null != this.normalPinId || (this.normalPinId = "")
                }, t.prototype.readGuestPinId = function() {
                    JSUtility.IsSupportLocalStorage() ? this.guestPinId = localStorage.getItem("guest_pin_id") : JSUtility.IsSupportCookie() && (this.guestPinId = JSUtility.GetCookie("guest_pin_id")), null != this.guestPinId && null != this.guestPinId || (this.guestPinId = "")
                }, t.prototype.writeLocalUrlCode = function() {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem("guest_url_code", this.urlCode) : JSUtility.IsSupportCookie() && (document.cookie = "guest_url_code=" + this.urlCode + ";")
                }, t.prototype.readLocalUrlCode = function() {
                    JSUtility.IsSupportLocalStorage() ? this.urlCode = localStorage.getItem("guest_url_code") : JSUtility.IsSupportCookie() && (this.urlCode = JSUtility.GetCookie("guest_url_code")), null != this.urlCode && null != this.urlCode || (this.urlCode = "")
                }, t.prototype.initialize = function(t, e) {
                    var o = window.location.href;
                    if (o.split("com/", 2), o.split("mobi/", 2), o.split("mx/", 2), this.sharePostUrlRoot = i.GlobalData.S3Host + "/fb_share_post/" + window.gd_nowLOGO + "/page/", console.log("[guestsys] sharePostUrlRoot: " + this.sharePostUrlRoot), this.sharePostPromoteContent.href = this.sharePostUrlRoot + this.DefaultSharePostPromotePage, console.log("[guestsys] current share post promote page url: " + this.sharePostPromoteContent.href), a.default.getInstance().initialize(), this.fbId = this.DefaultFbId, this.whatsAppId = this.DefaultWhatsAppId, this.initSucceedCallback = t, this.initFailedCallback = e, this.lang = SS.Common.GameEnvironment.Language, this.logoMode = window.gd_LogoMode, 1 != SS.Common.GameEnvironment.ProjectSetting.EnableGuestMode) return this.setEnabled(!1), void this.initFailedCallback();
                    this.urlCode = SS.Common.BaseFunction.GetURLParameterByName("uc"), console.log("[guestsys] urlcode: " + this.urlCode), "" == this.urlCode ? this.readLocalUrlCode() : this.writeLocalUrlCode(), this.readNormalPinId(), this.readGuestPinId(), this.getContactInfoBeforeLogin(), this.readLocalDeviceUuid()
                }, t.prototype.openWhatsApp = function() {
                    0 != this.isEnabled() && a.default.getInstance().openWhatsApp(this.whatsAppId)
                }, t.prototype.openFbMessenger = function() {
                    0 != this.isEnabled() && a.default.getInstance().openFbMessenger(this.fbId)
                }, t.prototype.openFbPage = function() {
                    0 != this.isEnabled() && a.default.getInstance().openFbPage(this.fbId)
                }, t.prototype.openSharePostPromote = function() {
                    0 != this.isEnabled() && (this.sharePostPromoteContent.quote = 'Estoy jugando "' + this.getGameName() + '" en "' + this.getFormalLogoName() + '", ven a ganar conmigo!', this.sharePostPromoteContent.hashtag = this.getHashTag(), a.default.getInstance().openFbSharePost(this.sharePostPromoteContent), this.logSharePostPromote())
                }, t.prototype.openSharePostWin = function() {
                    0 != this.isEnabled() && (a.default.getInstance().openFbSharePost(this.sharePostWinContent), this.logSharePostWin())
                }, t.isIpad = function() {
                    if (1 == this.IsDebugIpad) return !0;
                    var t = window.navigator.userAgent;
                    if (t.indexOf("iPad") > -1) return !0;
                    if (t.indexOf("Macintosh") > -1) try {
                        return document.createEvent("TouchEvent"), !0
                    } catch (e) {}
                    return !1
                }, t.isDesktop = function() {
                    return cc.sys.os == cc.sys.OS_WINDOWS
                }, t.prototype.logClickWhatsApp = function(t) {
                    this.userLog("click_whatsapp", t)
                }, t.prototype.logClickMessenger = function(t) {
                    this.userLog("click_messenger", t)
                }, t.prototype.logNormalLogin = function(t) {
                    this.userLog("login_normal", t)
                }, t.prototype.logGuestLogin = function(t) {
                    this.userLog("login_guest", t)
                }, t.prototype.logSharePostWin = function() {
                    this.userLog("click_sharepost_win", 0)
                }, t.prototype.logSharePostPromote = function() {
                    this.userLog("click_sharepost_promote", 0)
                }, t.prototype.logClickFanPage = function(t) {
                    this.userLog("click_fanpage", t)
                }, t.prototype.logClickBanner = function(t) {
                    this.userLog("click_banner", t)
                }, t.prototype.userLog = function(t, o) {
                    if (0 != e.instance.isEnabled()) {
                        var n = "guestmode_" + t;
                        r.LobbyClient.Instance.GetUserClient.sendClickLogEx("guestmode", o, n, this.urlCode, SS.Common.GameEnvironment.DeviceInfo), console.log("[guestsys] click name: " + n + ", button click id: " + o.toString())
                    }
                }, t.prototype.logEnterLoginPage = function() {
                    this.userLogBeforeLogin("enter_loginpage", 0)
                }, t.prototype.logClickLoginMessenger = function() {
                    this.userLogBeforeLogin("click_login_messenger", 0)
                }, t.prototype.logClickLoginWhatsApp = function() {
                    this.userLogBeforeLogin("click_login_whatsapp", 0)
                }, t.prototype.userLogBeforeLogin = function(t, o) {
                    if (0 != e.instance.isEnabled()) {
                        var n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        null == r.LobbyClient.Instance && (r.LobbyClient.Instance = new r.LobbyClient);
                        var i = "guestmode_" + t;
                        r.LobbyClient.Instance.sendDirectClickLog(n, "guestmode", o, i, this.urlCode, this.getLogoMode()), console.log("[guestsys][sendDirectClickLog] click name: " + i + ", button click id: " + o.toString())
                    }
                }, t.prototype.getGameName = function() {
                    var t = "";
                    try {
                        t = SS.Common.GameEnvironment.CurrentGameNow, console.log("[guestsys][getGameName] Game Name: " + t);
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e.hasOwnProperty(o) && null != e[o] && e[o].hasOwnProperty("GameName") && e[o].GameName == t && e[o].hasOwnProperty("FormalName")) {
                                t = e[o].FormalName, console.log("[guestsys][getGameName] Use Formal Name: " + t);
                                break
                            }
                    } catch (n) {
                        console.error(n)
                    }
                    return t
                }, t.prototype.getContactInfoByKiosk = function(t, e) {
                    this.getContactInfoByKioskSucceedCallback = t, this.getContactInfoByKioskFailedCallback = e, r.LobbyClient.Instance.GetUserClient.getContactInfoByKiosk(this.getContactInfoByKioskSucceed.bind(this), this.getContactInfoByKioskFailed.bind(this))
                }, t.prototype.getContactInfoByKioskSucceed = function(t, e) {
                    console.log("[guestsys][getContactInfoByKiosk] success, status: ", t), console.log(e), this.whatsAppId = e.cmd_data.whatsapp_id, this.fbId = e.cmd_data.messenger_id, null != this.getContactInfoByKioskSucceedCallback && this.getContactInfoByKioskSucceedCallback(this.whatsAppId, this.fbId)
                }, t.prototype.getContactInfoByKioskFailed = function(t, e) {
                    console.error("[guestsys][getContactInfoByKiosk] error, status: ", t), console.error(e), null != this.getContactInfoByKioskFailedCallback && this.getContactInfoByKioskFailedCallback()
                }, t.prototype.getContactInfoBeforeLogin = function() {
                    var t = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                    console.log("[guestsys][getContactInfoBeforeLogin] serverURL", t), null == r.LobbyClient.Instance && (r.LobbyClient.Instance = new r.LobbyClient), r.LobbyClient.Instance.getContactInfoNotLogin(t, this.urlCode, this.logoMode, this.getContactInfoBeforeLoginSucceed.bind(this), this.getContactInfoBeforeLoginFailed.bind(this))
                }, t.prototype.getContactInfoBeforeLoginSucceed = function(t, e) {
                    console.log("[guestsys][getContactInfoBeforeLogin] success, status: ", t), console.log(e), this.receiveResult = !0, this.whatsAppId = e.whatsapp_id, this.fbId = e.messenger_id, this.setEnabled(!0), this.initSucceedCallback(), this.logEnterLoginPage()
                }, t.prototype.getContactInfoBeforeLoginFailed = function(t, e) {
                    console.error("[guestsys][getContactInfoBeforeLogin] error, status: ", t), console.error(e), this.receiveResult = !0, this.setEnabled(!1), this.initFailedCallback()
                }, t.prototype.checkGuestLogin = function() {
                    var t;
                    0 != this.isEnabled() && (1 == this.isGuestLogin() ? (this.deviceUuid == SS.Network.LoginModel.LoginInfo.device_uuid ? console.log("[guestsys][checkGuestLogin] same device_uuid, device_uuid: ", this.deviceUuid) : (e.getInstance().writeLocalDeviceUuid(SS.Network.LoginModel.LoginInfo.device_uuid), console.log("[guestsys][checkGuestLogin] write device_uuid to local, device_uuid: ", this.deviceUuid)), e.getInstance().getCompsEventInfo(), this.writeGuestPinId(SS.Network.LoginModel.LoginInfo.pin_id), NaN == (t = Number(this.normalPinId)) && (t = 0), this.logGuestLogin(t), console.log("[guestsys][checkGuestLogin] guest login, has normal pin id: ", t)) : (this.writeNormalPinId(SS.Network.LoginModel.LoginInfo.pin_id), NaN == (t = Number(this.guestPinId)) && (t = 0), this.logNormalLogin(t), console.log("[guestsys][checkGuestLogin] normal login, has guest pin id: ", t)))
                }, t.prototype.isSharingCompsAvailable = function() {
                    return "" != this.sharingCompsEventName
                }, t.prototype.getCompsEventInfo = function() {
                    this.sharingCompsEventName = "", r.LobbyClient.Instance.GetUserClient.getCompsEventInfo(this.getCompsEventInfoSucceed.bind(this), this.getCompsEventInfoFailed.bind(this))
                }, t.prototype.getSharingComps = function(t, e) {
                    r.LobbyClient.Instance.GetUserClient.getComps(this.sharingCompsEventName, t, e)
                }, t.prototype.getCompsEventInfoSucceed = function(t, e) {
                    var o = this;
                    try {
                        e.cmd_data.event_info.forEach(function(t) {
                            "Sharing" == t.type && (o.sharingCompsEventName = t.name)
                        }), console.log("[guestsys][getCompsEventInfoSucceed] success, status: ", t), console.log(e)
                    } catch (n) {
                        console.error(n)
                    }
                }, t.prototype.getCompsEventInfoFailed = function(t, e) {
                    console.error("[guestsys][getCompsEventInfoFailed] error, status: ", t), console.error(e)
                }, t.IsDebugIpad = !1, t.instance = null, e = n([c], t)
            }());
        o.default = l, cc._RF.pop()
    }, {
        "../../Component/GlobalData": "GlobalData",
        "../../Net/LobbyClient": "LobbyClient",
        "./SocialMediaApiHandler": "SocialMediaApiHandler"
    }],
    IconGroupData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8d24a8u7lxDHJRaMkIV7XYn", "IconGroupData");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.IconGroupData = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = (i.property, function() {
                function t(t, e, o, n, i, r, a, s, c, l, u, p, m) {
                    this.gameJpVals = [], this.groupAllGameName = [], this.gameJpKey = "", this.firstThemeId = "", this.lastThemeId = "", this.groupInType = "", this.iconSizeType = "", this.iconLinkCount = 0, this.jpPanel = null, this.jpBg = null, this.featurePanel = null, this.isNeedChangeSetting = !1, this.isUseSingleRes = !1, this.gameJpVals = t, this.groupAllGameName = e, this.gameJpKey = o, this.firstThemeId = n, this.lastThemeId = i, this.groupInType = r, this.iconSizeType = a, this.iconLinkCount = s, this.jpPanel = c, this.jpBg = l, this.featurePanel = u, this.isNeedChangeSetting = p, this.isUseSingleRes = m
                }
                return n([r], t)
            }());
        o.IconGroupData = a, cc._RF.pop()
    }, {}],
    IconMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ea19eprD/5Eboq5YGeVz7xD", "IconMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.IconMgr = o.FLAG_R = o.FLAG = void 0;
        var a, s, c = t("../../../LobbyCommon/InGameJp/Script/GameJpMgr"),
            l = t("./InGameJpBg"),
            u = t("./InGameJpPanel"),
            p = cc._decorator,
            m = p.ccclass,
            h = p.property;
        (function(t) {
            t[t.NEW = 0] = "NEW", t[t.HOT = 1] = "HOT", t[t.EVENT = 2] = "EVENT", t[t.ALTA = 3] = "ALTA", t[t.EVENT_PUZZLE = 4] = "EVENT_PUZZLE"
        })(a = o.FLAG || (o.FLAG = {})),
        function(t) {
            t[t.EVENT_PUZZLE = 0] = "EVENT_PUZZLE"
        }(s = o.FLAG_R || (o.FLAG_R = {}));
        var d = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.flagNode = [], e.flagRNode = [], e.iconBtnNode = null, e.iconSprite = null, e.waysTextNode = null, e.waystextLayout = null, e.waysText = [], e.jpBgRoot = null, e.jpRoot = null, e.featureRoot = null, e.lockPivot = null, e.lockLabel = null, e.m_DelClickIcon = null, e.m_bHasEvent = !1, e.isLock = !1, e.jpBg = null, e.jpPanelNode = null, e.featurePnael = null, e.iconGroupData = null, e.inGameJpPanelScript = null, e.inGameJpBgScript = null, e
            }
            var o;
            return i(e, t), o = e, e.prototype._onLoad = function() {
                this.node.active = !1, o.CanClickIcon = !0, this.m_DelClickIcon = new SS.Common.Delegate, null != this.lockPivot && (this.lockPivot.active = !1), null != this.lockLabel && (this.lockLabel.node.active = !1), this.isLock = !1
            }, e.prototype._onDestroy = function() {
                null != this.iconSprite && (this.iconSprite.spriteFrame = null, this.iconSprite.destroy()), null != this.m_DelClickIcon && (this.m_DelClickIcon.Clear(), this.m_DelClickIcon = null), this.flagNode = null, this.flagRNode = null, this.waysText = null
            }, e.prototype.SetIconElement = function(t) {
                this.iconProperty = t, console.log(this.iconProperty)
            }, e.prototype.setLock = function() {
                null != this.lockPivot && (this.lockPivot.active = !0), null != this.lockLabel && (this.lockLabel.node.active = !0), this.isLock = !0
            }, e.prototype.setFlag = function(t) {
                if (this.flagNode.forEach(function(t) {
                        return t.active = !1
                    }), void 0 !== a[t]) {
                    var e = a[t];
                    this.flagNode[e].setPosition(this.iconProperty.FLAG_POS), this.flagNode[e].setScale(this.iconProperty.FLAG_SCALE), this.flagNode[e].active = !0
                }
            }, e.prototype.setFlagR = function(t, e) {
                if (this.flagRNode.forEach(function(t) {
                        return t.active = !1
                    }), void 0 !== s[t]) {
                    var o = s[t];
                    if (this.flagRNode[o].setPosition(this.iconProperty.FLAGR_POS), this.flagRNode[o].setScale(this.iconProperty.FLAG_SCALE), this.flagRNode[o].active = !0, "EVENT_PUZZLE" == t && null != e) {
                        var n = cc.instantiate(e);
                        n.parent = this.flagRNode[o], n.active = !0, n.setPosition(cc.Vec2.ZERO)
                    }
                }
            }, e.prototype.setWaysText = function(t) {
                this.waysTextNode.setPosition(this.iconProperty.LABEL_POS), this.waysTextNode.setScale(this.iconProperty.LABEL_SCALE), this.waysText.forEach(function(t) {
                    return t.node.active = !1
                });
                var e = t.split("_"),
                    o = this.waysText.length;
                try {
                    for (var n = 0; n < o && e[n]; n++) this.waysText[n].string = e[n], this.waysText[n].node.active = !0
                } catch (i) {
                    console.error(i, "GameSetting.json error...")
                }
                this.waysTextNode.active = !0, this.UpdateLayout(this.waystextLayout), e = null
            }, e.prototype.setBtnSize = function() {
                this.iconBtnNode.setContentSize(this.iconProperty.BTN_SIZE)
            }, e.prototype.setBtnName = function(t) {
                this.iconBtnGameName = t, this.iconBtnNode.active = !0
            }, e.prototype.ParseIconGroupData = function(t) {
                this.iconGroupData = t
            }, e.prototype.ShowGameJpBg = function() {
                null != this.iconGroupData && null != this.iconGroupData && null != this.iconGroupData.jpBg && null != this.iconGroupData.jpBg && (this.jpBg = cc.instantiate(this.iconGroupData.jpBg), this.jpBg.parent = this.jpBgRoot, this.inGameJpBgScript = this.jpBg.getComponent(l.InGameJpBg))
            }, e.prototype.ShowGameJpPanel = function() {
                null != this.iconGroupData && null != this.iconGroupData && null != this.iconGroupData.jpPanel && null != this.iconGroupData.jpPanel && this.iconGroupData.gameJpVals.length > 0 && null != this.iconGroupData.gameJpVals[0] && null != this.iconGroupData.gameJpVals[0] && this.iconGroupData.gameJpVals[0] > 0 && (this.jpPanelNode = cc.instantiate(this.iconGroupData.jpPanel), this.jpPanelNode.parent = this.jpRoot, this.inGameJpPanelScript = this.jpPanelNode.getComponent(u.InGameJpPanel), this.inGameJpPanelScript.SetJpVal(this.iconGroupData.gameJpVals[0]), c.GameJpMgr.Instance.RegisterGameJpBroadcastEvent(this.SetRefreshJpVal.bind(this)))
            }, e.prototype.ShowFeaturePanel = function() {
                null != this.iconGroupData && null != this.iconGroupData && null != this.iconGroupData.featurePanel && null != this.iconGroupData.featurePanel && (this.featurePnael = cc.instantiate(this.iconGroupData.featurePanel), this.featurePnael.parent = this.featureRoot)
            }, e.prototype.SetGameJpPosition = function(t) {
                if (null != this.iconGroupData && null != this.iconGroupData) {
                    if (null != this.inGameJpPanelScript) {
                        this.jpPanelNode.setPosition(cc.Vec2.ZERO);
                        var e = new cc.Vec2(this.node.width, this.node.height);
                        this.inGameJpPanelScript.SetJpPanelPosition(this.iconGroupData.iconSizeType, this.iconGroupData.iconLinkCount, t, e)
                    }
                    null != this.inGameJpBgScript && (this.jpBg.setPosition(cc.Vec2.ZERO), this.inGameJpBgScript.SetJpBgPosition(this.iconGroupData.iconLinkCount, t))
                }
            }, e.prototype.SetRefreshJpVal = function(t) {
                if (null != this.iconGroupData && null != this.iconGroupData) {
                    for (var e = Object.keys(t), o = [], n = 0; n < e.length; n++) o.push(e[n]);
                    for (n = 0; n < o.length; n++)
                        if (o[n] == this.iconGroupData.gameJpKey && null != this.inGameJpPanelScript) {
                            var i = c.GameJpMgr.Instance.GetInGameJpArray(this.iconGroupData.gameJpKey, !0);
                            null != i && (i[0] > this.iconGroupData.gameJpVals[0] ? (this.iconGroupData.gameJpVals = i, this.inGameJpPanelScript.JpNumberCountUp(this.iconGroupData.gameJpVals[0], 10)) : i[0] < this.iconGroupData.gameJpVals[0] && (this.iconGroupData.gameJpVals = i, this.inGameJpPanelScript.SetJpVal(this.iconGroupData.gameJpVals[0])))
                        }
                }
            }, e.prototype.UpdateLayout = function(t) {
                t.enabled = !0, t.updateLayout(), t.enabled = !1
            }, e.prototype.setIconSpriteFrame = function(t) {
                this.iconSprite.spriteFrame = t
            }, e.prototype.DisableAllUI = function() {
                this.iconBtnNode.active = !1, this.flagNode.forEach(function(t) {
                    return t.active = !1
                }), this.flagRNode.forEach(function(t) {
                    return t.active = !1
                }), this.waysTextNode.active = !1
            }, e.prototype.OnIconClicked = function() {
                this.isLock ? this.showLockTip() : o.CanClickIcon && (o.CanClickIcon = !1, this.m_DelClickIcon.Length > 0 && this.m_DelClickIcon.Notify(this.iconBtnGameName))
            }, e.prototype.showLockTip = function() {
                null != this.iconSprite && cc.tween(this.iconSprite.node).then(cc.tween().to(.5, {
                    color: cc.color(100, 100, 100, 255)
                }, {
                    easing: "sineInOut"
                })).then(cc.tween().to(3, {
                    color: cc.color(100, 100, 100, 255)
                }, {
                    easing: "sineInOut"
                })).then(cc.tween().to(.5, {
                    color: cc.color(255, 255, 255, 255)
                }, {
                    easing: "sineInOut"
                })).start(), null != this.lockLabel && cc.tween(this.lockLabel.node).then(cc.tween().to(.5, {
                    opacity: 255
                }, {
                    easing: "sineInOut"
                })).then(cc.tween().to(3, {
                    opacity: 255
                }, {
                    easing: "sineInOut"
                })).then(cc.tween().to(.5, {
                    opacity: 0
                }, {
                    easing: "sineInOut"
                })).start()
            }, e.prototype.checkEventAndSetFlag = function(t) {
                if (t.indexOf(this.iconBtnGameName) > -1) this.m_bHasEvent = !0, this.setFlag("EVENT");
                else if (this.m_bHasEvent) {
                    this.m_bHasEvent = !1;
                    for (var e = "", o = SS.Common.GameEnvironment.GameSetting.Icon, n = 0; n < o.length; n++)
                        if (o[n].GameName) {
                            e = o[n].Flag;
                            break
                        }
                    this.setFlag(e)
                }
            }, e.prototype.SetFishEventFlag = function(t, e, o, n) {
                if (void 0 === e && (e = !1), null != o) {
                    var i = SS.Common.GameEnvironment.GameSetting.Icon;
                    for (var r in i) i[r].GameName == this.iconBtnGameName && -1 != o.indexOf(r) && (e ? this.setFlagR(t, n) : this.setFlag(t))
                }
            }, e.CanClickIcon = !0, r([h([cc.Node])], e.prototype, "flagNode", void 0), r([h([cc.Node])], e.prototype, "flagRNode", void 0), r([h(cc.Node)], e.prototype, "iconBtnNode", void 0), r([h(cc.Sprite)], e.prototype, "iconSprite", void 0), r([h(cc.Node)], e.prototype, "waysTextNode", void 0), r([h(cc.Layout)], e.prototype, "waystextLayout", void 0), r([h([cc.Label])], e.prototype, "waysText", void 0), r([h(cc.Node)], e.prototype, "jpBgRoot", void 0), r([h(cc.Node)], e.prototype, "jpRoot", void 0), r([h(cc.Node)], e.prototype, "featureRoot", void 0), r([h(cc.Node)], e.prototype, "lockPivot", void 0), r([h(cc.Label)], e.prototype, "lockLabel", void 0), o = r([m], e)
        }(cc.Component);
        o.IconMgr = d, cc._RF.pop()
    }, {
        "../../../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "./InGameJpBg": "InGameJpBg",
        "./InGameJpPanel": "InGameJpPanel"
    }],
    IconVerticleLayout: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "36ccbAT5GZBcoYnQtKiHNlv", "IconVerticleLayout");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.IconVerticleLayout = void 0;
        var a = t("./IconMgr"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_vecIconMgr = [], e.m_DelClickIcon = null, e.IconAllSetting = [], e.BIGX3_ICON_PREFIX = "BIGX3", e.BIGX2_ICON_PREFIX = "BIGX2", e.BIG_ICON_PREFIX = "BIG", e.NORMAL_ICON_PREFIX = "NORMAL", e.COMMIN_SOON = "CS_", e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    var t = this;
                    this.m_DelClickIcon = new SS.Common.Delegate, this.m_vecIconMgr.forEach(function(e) {
                        e._onLoad(), e.m_DelClickIcon.Insert(t.OnIconClicked, t)
                    })
                }, e.prototype.onDestroy = function() {
                    var t = this;
                    null != this.m_vecIconMgr && this.m_vecIconMgr.forEach(function(e) {
                        null != e && (null != e.m_DelClickIcon && e.m_DelClickIcon.Remove(t.OnIconClicked, t), e._onDestroy())
                    }), null != this.m_DelClickIcon && (this.m_DelClickIcon.Clear(), this.m_DelClickIcon = null), this.m_vecIconMgr = null
                }, e.prototype.OnIconClicked = function(t) {
                    this.m_DelClickIcon.Length > 0 && this.m_DelClickIcon.Notify(t)
                }, e.prototype.SetIcon = function(t, e, o, n, i, r, a) {
                    this.IconAllSetting = r;
                    for (var s = o.length, c = this.m_vecIconMgr.length, l = 0; l < c && e < s; l++) {
                        var u = o[e],
                            p = n[o[e]],
                            m = u.includes(this.COMMIN_SOON),
                            h = -1 != u.indexOf(this.BIGX3_ICON_PREFIX) ? this.BIGX3_ICON_PREFIX : -1 != u.indexOf(this.BIGX2_ICON_PREFIX) ? this.BIGX2_ICON_PREFIX : -1 != u.indexOf(this.BIG_ICON_PREFIX) ? this.BIG_ICON_PREFIX : this.NORMAL_ICON_PREFIX;
                        u = u.replace(/\w*_/, "");
                        var d = void 0;
                        for (var _ in i.Icon)
                            if (i.Icon[_].GameName === u) {
                                d = _;
                                break
                            }
                        for (var g = i.Icon[d], f = this.GetGameIsLock(i, d), y = void 0, S = 0; S < a.length; S++) a[S].groupInType == t && a[S].iconSizeType == h && (a[S].lastThemeId != d && a[S].firstThemeId != d || (y = a[S]));
                        this.SetIconContent(l, d, o[e], m, p, g, f, y);
                        var C = o[++e],
                            v = !1;
                        if (C ? v = C.includes(this.BIG_ICON_PREFIX) : h != this.BIG_ICON_PREFIX && h != this.BIGX2_ICON_PREFIX && h != this.BIGX3_ICON_PREFIX && l + 1 < c && this.FillUpCominSoon(l + 1), h == this.BIG_ICON_PREFIX || v) break
                    }
                    return e
                }, e.prototype.FillUpCominSoon = function(t) {
                    this.m_vecIconMgr[t].node.active = !0, this.m_vecIconMgr[t].setIconSpriteFrame(this.cominSoonSpriteFrame), this.m_vecIconMgr[t].DisableAllUI(), this.UpdateLayout(this.m_Layout)
                }, e.prototype.GetGameIsLock = function(t, e) {
                    var o = !1;
                    if (null != t.LockGame)
                        for (var n in t.LockGame) t.LockGame[n] == e && (o = !0);
                    return o
                }, e.prototype.SetIconContent = function(t, e, o, n, i, r, a, s) {
                    this.m_vecIconMgr[t].node.active = !0;
                    var c = this.IconAllSetting.find(function(t) {
                        return o.includes(t.m_iconSizePrefix)
                    });
                    c || (c = this.IconAllSetting.find(function(t) {
                        return t.m_iconSizePrefix.includes("NORMAL")
                    })), this.m_vecIconMgr[t].SetIconElement(c.m_ElementProperty), this.m_vecIconMgr[t].setBtnSize(), null != s && (this.m_vecIconMgr[t].ParseIconGroupData(s), s.iconLinkCount >= 2 && s.firstThemeId == e && this.m_vecIconMgr[t].ShowGameJpBg(), s.lastThemeId == e && this.m_vecIconMgr[t].ShowGameJpPanel(), null != s.featurePanel && this.m_vecIconMgr[t].ShowFeaturePanel()), a && this.m_vecIconMgr[t].setLock(), n ? (this.m_vecIconMgr[t].DisableAllUI(), this.m_vecIconMgr[t].setIconSpriteFrame(this.cominSoonSpriteFrame)) : (this.m_vecIconMgr[t].setIconSpriteFrame(i), this.m_vecIconMgr[t].setBtnName(r.GameName), this.m_vecIconMgr[t].setFlag(r.Flag), this.m_vecIconMgr[t].setFlagR(r.FlagR), this.m_vecIconMgr[t].setWaysText(r.IconWaysText)), this.UpdateLayout(this.m_Layout)
                }, e.prototype.SetGameJpPosition = function(t) {
                    for (var e = 0; e < this.m_vecIconMgr.length; e++) this.m_vecIconMgr[e].SetGameJpPosition(t)
                }, e.prototype.EnterScrollView = function() {
                    255 != this.node.opacity && (this.node.opacity = 255)
                }, e.prototype.ExitScrollView = function() {
                    0 != this.node.opacity && (this.node.opacity = 0)
                }, e.prototype.UpdateLayout = function(t) {
                    t.enabled = !0, t.updateLayout(), t.enabled = !1
                }, r([l(cc.Layout)], e.prototype, "m_Layout", void 0), r([l([a.IconMgr])], e.prototype, "m_vecIconMgr", void 0), r([l(cc.SpriteFrame)], e.prototype, "cominSoonSpriteFrame", void 0), r([c], e)
            }(cc.Component);
        o.IconVerticleLayout = u, cc._RF.pop()
    }, {
        "./IconMgr": "IconMgr"
    }],
    IdleState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "27ae9GtYchDEooBSss3st3d", "IdleState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.IdleState = void 0;
        var r = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            a = t("../../LobbyCommon/TopBar/Script/TopbarMgr"),
            s = t("../../LobbyCommon/Net/LobbyClient"),
            c = t("../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../LobbyCommon/Component/AudioMgr"),
            u = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = t("../../LobbyCommon/Net/Downloader/VersionDownloader"),
            m = t("../../Component/GameIconMgr/Script/IconMgr"),
            h = t("../../LobbyCommon/SwipeMgr/Scripts/Device"),
            d = t("../../LobbyCommon/GuestSystem/Script/GuestSysMgr"),
            _ = t("../../LobbyCommon/GuestSystem/Script/GuestLobbyPopupMgr"),
            g = t("../../LobbyCommon/InGameJp/Script/GameJpMgr"),
            f = t("../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent"),
            y = t("../../LobbyCommon/Helper/Download"),
            S = t("../../LobbyCommon/Helper/CrossDomainCookie"),
            C = t("../../LobbyCommon/Helper/EventSystem"),
            v = t("../../LobbyCommon/Net/ClickLog"),
            b = t("../../LobbyCommon/Net/ClickLogEnum"),
            P = function() {
                function t() {
                    this.tmpRepeatingMissionMgr = null, this.isHideLobbyBegginerGuide = !1, this.LOGIN_SCENE_NAME = "Login", this.GAME_SCENE_NAME = "Game", this.newsLogRecord = null, this.isFirstLogin = null, this.publicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm57PpzGKcstTbOlDuAs0Ai5PEFd0leISof3BSdIWrf8KjmMK04bM/U5vhK0Q4RTnLwTjtzJyPeCw353I067f1ayYghwb3EB63vkoLepOYH3H6bY5Ag4POIXHyMspJEu1Rod48tHG4YZDT1JxhOWktwNebLvtohm0a+r/XfHJROm+IAn4feyeaoaWa3NOPFVdPZ05CPAy4gVFBhdrnLsYVT3bREFAcNJZl9BCNYFneQHE4MtPItAjWVKXRsfXX6eJsAKdzlzo4sg6YQCcs4s5W93wfefMdzjRB17vvcrGmSOdJUxImqpIfC3H7JtItphI8fvZ60bJ+KA9DucO3A5PywIDAQAB"
                }
                return t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c IdleState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), cc.game.setFrameRate(60), this.isError = !1, this.isStopUpdate = !1, this.InitLobby(this.target.tmpTypeMapGameNameList), this.ListenModuleEvent(), "" != SS.Common.GameEnvironment.ChangeToGameName ? "Login" == SS.Common.GameEnvironment.ChangeToGameName ? (SS.Common.GameEnvironment.ChangeToGameName = "", console.log("GameJumpLogin"), this.DoLogout()) : (console.log("GameJumpGame"), this.OnClickIcon(SS.Common.GameEnvironment.ChangeToGameName, !0)) : (this.LoadAudioClip(), this.WaitFakeLoadingProgress(), this.SendMessage()), cc.game.canvas.style.cursor = "default"
                }, t.prototype.LoadAudioClip = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function() {
                            return l.AudioMgr.Instance.setAudioClip(this.target.audioClips, this.target.audioClipsName), l.AudioMgr.Instance.Play("LobbyMusic", !0, .3), [2]
                        })
                    })
                }, t.prototype.Update = function() {
                    if (!this.isStopUpdate)
                        if (this.isError) this.isError = !1, this.isStopUpdate = !0, u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Error, this.errorCode, "Lobby", this.reason);
                        else if (this.isChangeScene) {
                        console.warn("Execute ChangeScene"), this.isChangeScene = !1, l.AudioMgr.Instance.UncacheAudioClip(), null != g.GameJpMgr.Instance && g.GameJpMgr.Instance.ClearGameJpBroadcastEvent(), this.RemoveListenModuleEvent(), this.strNextScene == this.LOGIN_SCENE_NAME && (SS.Common.GameEnvironment.CurrentGameVersion = null);
                        var t = SS.Common.GameEnvironment.Language + this.strNextScene;
                        cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        }) ? cc.director.loadScene(t) : cc.director.loadScene(this.strNextScene)
                    } else if (s.LobbyClient.Instance && s.LobbyClient.Instance.GetLobbySystem && s.LobbyClient.Instance.GetLobbySystem.m_isPosKick) this.isStopUpdate = !0, s.LobbyClient.Instance.GetLobbySystem.m_isPosKick = !1, u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, "S171", "Lobby", "PosKick");
                    else if (s.LobbyClient.Instance && s.LobbyClient.Instance.GetLobbySystem && -1 != s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin) {
                        var e = s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin;
                        s.LobbyClient.Instance.GetLobbySystem.m_ServerToIdleWaitMin = -1;
                        var o = this;
                        clearTimeout(o.shutdownTimeoutID), console.log("wait " + e + "min for server to idle"), o.shutdownTimeoutID = setTimeout(function() {
                            o.isStopUpdate = !0, u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, "S170", "Lobby", "maintain", null)
                        }, 6e4 * e)
                    } else s.LobbyClient.Instance && s.LobbyClient.Instance.IsSocketErrorClose && (this.isStopUpdate = !0, s.LobbyClient.Instance.IsSocketErrorClose = !1, this.SocketErrorClose())
                }, t.prototype.SocketErrorClose = function() {
                    var t = this;
                    u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Disconnected, "C14", "Lobby", "The internet was diconnected.", function() {
                        c.ConnectPanelMgr.Instance.ShowConnectPanel();
                        var e, o, n = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        e = SS.Common.GameEnvironment.UserID, o = SS.Common.GameEnvironment.UserPW, s.LobbyClient.Instance.DoLogin(n, e, o, t.DoLoginSuccess.bind(t), t.DoLoginFail.bind(t))
                    })
                }, t.prototype.DoLoginSuccess = function() {
                    c.ConnectPanelMgr.Instance.DisableConnectPanel(), m.IconMgr.CanClickIcon = !0, this.isStopUpdate = !1
                }, t.prototype.DoLoginFail = function(t, e, o) {
                    c.ConnectPanelMgr.Instance.DisableConnectPanel(), console.log("LoginFail", e);
                    var n = t.toString();
                    "VerifyMobile" === o ? this.VerifyMobileFailHandle(t, e) : "DeviceLogin" === o ? this.DeviceLoginFailHandle(t, e) : "PinLogin" === o ? this.PinLoginFailHandle(t, e) : "BindSocket" === o ? (t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e)) : "ConnectWebSocket" === o && u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, "S172", "Lobby", e, null)
                }, t.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14") : t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127"), this.ErrorHandler(o, e)
                }, t.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-4" == o || "-2" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, t.prototype.ErrorHandler = function(t, e) {
                    u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, t, "Lobby", e, null)
                }, t.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o && (o = "S117")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c IdleState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.ListenModuleEvent = function() {
                    console.warn("[ListenModuleEvent]"), s.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this), s.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.add(this.RecvVersionkCmd, this), s.LobbyClient.Instance.GetJPSystem.OnRecordUpdateSignal.add(this.RecvRecordUpdateCmd, this), this.target.topBarMgr.m_DelClickLogout.Insert(this.OnClickLogout, this), this.target.topBarMgr.m_DelClickJPHistory.Insert(this.OnClickJPHistory, this), this.target.topBarMgr.m_DelClickMenu.Insert(this.OnClickMenu, this), this.target.topBarMgr.m_DelClickSound.Insert(this.OnClickSound, this), this.target.topBarMgr.m_DelClickFullScreen.Insert(this.OnClickFullScreen, this), this.target.topBarMgr.m_DelClickNews.Insert(this.OnClickNews, this), this.target.downBarMgr.m_DelClickNews.Insert(this.OnClickNews, this), this.target.downBarMgr.m_DelClickProfile.Insert(this.OnClickProfile, this), this.target.jackpotWinnerMgr.m_DelClickClose.Insert(this.OnJPWinnerCloseClose, this), this.target.bulletinBoardNode && (this.target.bulletinBoardNode.on("call_activity", this.OnCallActivity, this, !0), this.target.bulletinBoardNode.on("call_switch_game", this.OnCallSwitchGame, this, !0), this.target.bulletinBoardNode.on("call_webview", this.OnCallWebview, this, !0), this.target.bulletinBoardNode.on("close_news_board", this.OnBulletinBoardClosed, this, !0)), C.EventSystem.Event(C.DoLogOut).Insert(this.DoLogout, this), C.EventSystem.Event(C.SwitchGame).Insert(this.target.switchGame.OnSwitchGameIgnoreWindow, this.target.switchGame), C.EventSystem.Event(C.PurchaseEvent.OnPurchaseSuccess).Insert(this.OnPurchaseSuccess, this), C.EventSystem.Event(C.GameTipCloseAnGoOnTheGame).Insert(this.DownloadCustomLoadpage, this)
                }, t.prototype.RemoveListenModuleEvent = function() {
                    s.LobbyClient.Instance.GetJPSystem && (s.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this), s.LobbyClient.Instance.GetJPSystem.OnRecordUpdateSignal.remove(this.RecvRecordUpdateCmd, this)), s.LobbyClient.Instance.GetLobbySystem && s.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.remove(this.RecvVersionkCmd, this), C.EventSystem.Event(C.DoLogOut).Remove(this.DoLogout, this), C.EventSystem.Event(C.PurchaseEvent.OnPurchaseSuccess).Remove(this.OnPurchaseSuccess, this), C.EventSystem.Event(C.BeginnersGuide.OnExit).Remove(this.OnBeginnerGuildComplete, this), C.EventSystem.Event(C.GameTipCloseAnGoOnTheGame).Remove(this.DownloadCustomLoadpage, this), this.target && (this.target.switchGame && C.EventSystem.Event(C.SwitchGame).Remove(this.target.switchGame.OnSwitchGameIgnoreWindow, this.target.switchGame), this.target.gameIconMgr && this.target.gameIconMgr.m_DelClickIcon && this.target.gameIconMgr.m_DelClickIcon.Remove(this.OnClickIcon, this), this.target.gameTypeMgr && this.target.gameTypeMgr.m_DelClickGameType && this.target.gameTypeMgr.m_DelClickGameType.Remove(this.OnClickGameType, this), this.target.topBarMgr && (this.target.topBarMgr.m_DelClickLogout && this.target.topBarMgr.m_DelClickLogout.Remove(this.OnClickLogout, this), this.target.topBarMgr.m_DelClickJPHistory && this.target.topBarMgr.m_DelClickJPHistory.Remove(this.OnClickJPHistory, this), this.target.topBarMgr.m_DelClickMenu && this.target.topBarMgr.m_DelClickMenu.Remove(this.OnClickMenu, this), this.target.topBarMgr.m_DelClickSound && this.target.topBarMgr.m_DelClickSound.Remove(this.OnClickSound, this), this.target.topBarMgr.m_DelClickFullScreen && this.target.topBarMgr.m_DelClickFullScreen.Remove(this.OnClickFullScreen, this), this.target.topBarMgr.m_DelClickNews && this.target.topBarMgr.m_DelClickNews.Remove(this.OnClickNews, this)), this.target.downBarMgr && (this.target.downBarMgr.m_DelClickNews && this.target.downBarMgr.m_DelClickNews.Remove(this.OnClickNews, this), this.target.downBarMgr.m_DelClickProfile && this.target.downBarMgr.m_DelClickProfile.Remove(this.OnClickProfile, this)), this.target.jackpotWinnerMgr && this.target.jackpotWinnerMgr.m_DelClickClose && this.target.jackpotWinnerMgr.m_DelClickClose.Remove(this.OnJPWinnerCloseClose, this), this.target.node.targetOff(this), this.target.bulletinBoardNode && this.target.bulletinBoardNode.targetOff(this))
                }, t.prototype.RecvVersionkCmd = function(t) {
                    console.log("RecvVersionkCmd : ", SS.Common.GameEnvironment.IgnoreVersionCtrl), SS.Common.GameEnvironment.IgnoreVersionCtrl || t != SS.Common.GameEnvironment.LobbyVersion && (this.RemoveListenModuleEvent(), u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, "C08", "Lobby", "updateVersion", null))
                }, t.prototype.RecvJPValCmd = function(t, e, o, n, i) {
                    SS.Common.GameEnvironment.exchange_rate = i, this.target.topBarMgr.ChangeJPVal(t, e, o, n, !0)
                }, t.prototype.RecvRecordUpdateCmd = function(t) {
                    C.EventSystem.Event(C.NoticedArrived.OnReceiveBroadcast).Notify(t)
                }, t.prototype.InitLobby = function(t) {
                    console.warn("[InitLobby]");
                    try {
                        if (this.isFirstLogin = this.target.CheckCookieValue("login_clicked", "1"), null != this.target.getBonusMgr) {
                            this.target.gameTypeMgr.m_DelClickGameType.Insert(this.target.getBonusMgr.CloseGetBonusPanel, this.target.getBonusMgr), this.target.getBonusMgr.RegistrationNeedUseEvent(this.target.downBarMgr.SetUserBalance.bind(this.target.downBarMgr), this.target.SetIsAllowReloadLobby.bind(this.target), this.target.gameTypeMgr.HideSelectTypeStatus.bind(this.target.gameTypeMgr), this.target.gameTypeMgr.OpenSelectTypeSprite.bind(this.target.gameTypeMgr));
                            for (var e = 0; e < this.target.m_arrEventBannerData.length; e++)
                                if ("getBonusKey" == this.target.m_arrEventBannerData[e].m_sBannerID) {
                                    var o = this.target.m_arrEventBannerData[e];
                                    this.target.popUpMgr.setEventPopUp(o);
                                    break
                                }
                        }
                        this.target.gameTypeMgr.InitGameType(t), this.target.gameTypeMgr.m_DelClickGameType.Insert(this.OnClickGameType, this), this.target.gameIconMgr.SetIcon(t, this.target.tmpNameMapIcon, SS.Common.GameEnvironment.GameSetting), this.target.gameIconMgr.m_DelClickIcon.Insert(this.OnClickIcon, this), this.target.topBarMgr.SetDisableMenuBtn(SS.Common.GameEnvironment.GameSetting.DisableMenuBtn), this.target.topBarMgr.SetJPValShowFormat(SS.Common.GameEnvironment.TopBarJPIsMoneyFormat), this.target.jackpotWinnerMgr.SetJPValueFormat(SS.Common.GameEnvironment.JPWinnerIsMoneyFormat), this.target.downBarMgr.SetUserBalance(this.target.UserEntries, this.target.UserWinnings), this.target.downBarMgr.ToggleScoreBox(), this.target.downBarMgr.SetUserInfo(SS.Network.LoginModel.LoginInfo.user_id, SS.Network.LoginModel.LoginInfo.machine_id), C.EventSystem.Event(C.Avatar.RequestUpdate).Notify(), d.default.getInstance().isGuestLogin() && this.target.downBarMgr.SetUserInfo(d.default.getInstance().creditRate), this.target.switchGame.SetSwitchGameData(this.target.gameIconMgr.OnSwitchGame.bind(this.target.gameIconMgr)), this.setEventPopUpAndBanner(), d.default.getInstance().isGuestLogin() ? d.default.getInstance().consumeLoginOnceToken() && _.GuestLobbyPopupMgr.Instance.ShowPopMsg() : (cc.log("[Popup]\u958b\u59cb\u986f\u793aPopup!"), this.target.popUpMgr.checkAndShowPopup(), this.target.bannerMgr.ShowBanner());
                        var n = null;
                        SS.Common.GameEnvironment.LobbyVersion && (n = "v." + SS.Common.GameEnvironment.LobbyVersion), n || (n = "DEV MODE"), this.target.downBarMgr.SetVersion(n), d.default.getInstance().isGuestLogin() ? this.target.topBarMgr.SetTopBarStatus(a.TopbarStatus.GuestLogin) : this.target.topBarMgr.SetTopBarStatus(a.TopbarStatus.InLobbyNormal), console.clear(), cc.warn("%c console.clear()", "font-size:24px"), this.target.SetCookieValue("login_clicked", "0")
                    } catch (i) {
                        this.isError = !0, this.reason = i, this.errorCode = "C13", console.error(i)
                    }
                }, t.prototype.setEventPopUpAndBanner = function() {
                    this.target.popUpMgr.rulePageNoCallback = this.DoLogout.bind(this);
                    for (var t = 0; t < this.target.m_arrEventBannerData.length; t++) {
                        var e = this.target.m_arrEventBannerData[t];
                        this.target.bannerMgr.setEventBanner(e), this.target.popUpMgr.setEventPopUp(e)
                    }
                    if (this.isFirstLogin && this.target.bulletinBoardNode) {
                        var o = new f.PriorityCustomEvent(99, this.OnOpenNews.bind(this));
                        this.target.popUpMgr.priorityShowEvents.push(o)
                    }
                    v.ClickLog.recordClickLog(b.LogName.Profile, 0, b.LogType_Profile.Lobby, b.LogEvent_Lobby.Enter), this.CheckCookieExist("lobby_profile_beginner") || v.ClickLog.recordClickLog(b.LogName.Profile, 0, b.LogType_Profile.Guide, b.LogEvent_Guide.showHandTips), this.target.popUpMgr.priorityShowEvents.push(new f.PriorityCustomEvent(1, this.OnOpenProfileBeginnerGuild.bind(this)))
                }, t.prototype.WaitFakeLoadingProgress = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return console.warn("[WaitFakeLoadingProgress]"), r.LoadingMgr.Instance.SetProgress(100), [4, SS.Common.WaitForSeconds(.5)];
                                case 1:
                                    return t.sent(), -1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(s.LOBBY_STATUS.INTO_LOBBY_OK) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", s.LOBBY_STATUS.INTO_LOBBY_OK), SS.Common.GameEnvironment.SentFlowStatus.push(s.LOBBY_STATUS.INTO_LOBBY_OK)), r.LoadingMgr.Instance.CloseLoading(), [2]
                            }
                        })
                    })
                }, t.prototype.SendMessage = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o, n;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    this.SetMessageCookie(), t = "", i.label = 1;
                                case 1:
                                    return i.trys.push([1, 3, , 4]), e = SS.Common.GameEnvironment.ProjectSetting.Modules.CrossLog.ServerHOST, [4, S.default.GetCookie(e, "Extra")];
                                case 2:
                                    return t = i.sent(), [3, 4];
                                case 3:
                                    return i.sent(), [2];
                                case 4:
                                    S.default.Close(), S.default.Destroy();
                                    try {
                                        console.log("[MC] cookie", t), e = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Log.ServerHOST, (o = new ArkSDK.ArkClient(e)).clone(s.LobbyClient.Instance.GetUserClient.GetPinClient), n = this.messageContent, "" == t || null == t ? (n.Extra = this.NoData(), n.Status = "NoData") : "error" == t ? (n.Extra = this.NoData(), n.Status = "NoCookie") : (n.Extra = t, n.Status = "GetCookie"), o.send_cmd("log", "CrossLog", n, null, null)
                                    } catch (r) {
                                        console.warn(r)
                                    }
                                    return [2]
                            }
                        })
                    })
                }, Object.defineProperty(t.prototype, "messageContent", {
                    get: function() {
                        var t = {
                            Logo: "GD"
                        };
                        return t.KioskID = SS.Network.LoginModel.LoginInfo.kiosk_id, t.PinID = SS.Network.LoginModel.LoginInfo.pin_id, t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.SetMessageCookie = function() {
                    var t, e = new JSEncrypt;
                    e.setKey(this.publicKey), t = "GD," + SS.Network.LoginModel.LoginInfo.kiosk_id + "," + SS.Network.LoginModel.LoginInfo.pin_id + "," + this.getDate();
                    var o = e.encrypt(JSON.stringify(t));
                    return JSUtility.IsSupportLocalStorage() ? localStorage.setItem("Extra", o) : JSUtility.IsSupportCookie() && (document.cookie = "Extra=" + o + ";"), o
                }, t.prototype.NoData = function() {
                    var t = new JSEncrypt;
                    return t.setKey(this.publicKey), t.encrypt(JSON.stringify(",,,"))
                }, t.prototype.getDate = function() {
                    return Date.prototype.getISOString = function() {
                        var t = function(t) {
                                return t < 10 ? "0" + t : t
                            },
                            e = this.getTimezoneOffset() / 60,
                            o = (this.setHours(this.getHours() - e), (e >= 0 ? "-" : "+") + t(Math.abs(e)) + ":00");
                        return this.getUTCFullYear() + "-" + t(this.getUTCMonth() + 1) + "-" + t(this.getUTCDate()) + "T" + t(this.getUTCHours()) + ":" + t(this.getUTCMinutes()) + ":" + t(this.getUTCSeconds()) + "." + (this.getUTCMilliseconds() / 1e3).toFixed(3).slice(2, 5) + o
                    }, (new Date).getISOString()
                }, t.prototype.OnClickSound = function(t) {
                    t ? l.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1) : l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), l.AudioMgr.Instance.SetMute(t)
                }, t.prototype.OnClickFullScreen = function(t) {
                    t ? l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1) : l.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnClickMenu = function(t) {
                    t ? l.AudioMgr.Instance.Play("Btn_Confirm_openwindow_v02", !1, 1) : l.AudioMgr.Instance.Play("Beep_CloseWindow_v02", !1, 1)
                }, t.prototype.OnOpenNews = function() {
                    console.log("%c[IdleState]OnOpenNews()", "font-weight:bold;"), this.target.bulletinBoardNode && !this.target.bulletinBoardNode.active && (this.target.bulletinBoardNode.active = !0, this.newsLogRecord || (this.newsLogRecord = {}), this.newsLogRecord.open_time = Date.now())
                }, t.prototype.OnClickNews = function() {
                    this.target.bulletinBoardNode && !this.target.bulletinBoardNode.active && (l.AudioMgr.Instance.Play("Btn_Confirm_openwindow_v02", !1, 1), this.OnOpenNews(), this.newsLogRecord || (this.newsLogRecord = {}), this.newsLogRecord.click = !0, s.LobbyClient.Instance.GetUserClient.recordClickLog("NewsClickEnterIcon", 0))
                }, t.prototype.OnOpenProfileBeginnerGuild = function() {
                    this.isHideLobbyBegginerGuide = !1, this.target.beginnerMgr.OpenProfileBeginnerGuild(this.OnBeginnerGuildComplete.bind(this))
                }, t.prototype.OnBeginnerGuildComplete = function() {
                    this.isHideLobbyBegginerGuide = !0, this.target.popUpMgr.checkAndShowPopup()
                }, t.prototype.OnClickProfile = function() {
                    console.log("%c[IdleState]OnClickProfile()", "font-weight:bold;"), this.isHideLobbyBegginerGuide || C.EventSystem.Event(C.BeginnersGuide.Hide).Notify("lobby"), C.EventSystem.Event(C.Profile.OpenProfile).Length > 0 && C.EventSystem.Event(C.Profile.OpenProfile).Notify(!0), this.CheckCookieExist("profile_ui_beginnerguide") && v.ClickLog.recordClickLog(b.LogName.Profile, 0, b.LogType_Profile.OpenPanel, b.LogEvent_OpenPanel.InLobby)
                }, t.prototype.CheckCookieExist = function(t) {
                    var e = "";
                    return JSUtility.IsSupportLocalStorage() ? e = localStorage.getItem(t) : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie(t)), null != e
                }, t.prototype.OnClickAccount = function() {
                    l.AudioMgr.Instance.Play("Btn_Page_v01", !1, 1);
                    var t = SS.Network.LoginModel.LoginInfo.user_id;
                    this.target.accountPageMgr.ShowAccountPage(t)
                }, t.prototype.OnClickLogout = function() {
                    var t = this;
                    l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.target.isEnableSkillGame && this.target.UserWinnings > 0 ? this.target.skillGameMgr.ShowPanel(this.target.UserWinnings, this.target.skillGamelostRate, function(e) {
                        return t.DoLogout(e)
                    }) : this.DoLogout()
                }, t.prototype.DoLogout = function(t) {
                    var e = this;
                    void 0 === t && (t = 0), r.LoadingMgr.Instance.OpenLoading(), s.LobbyClient.Instance.DoLogout(function() {
                        e.DoLogoutChangeScene()
                    }, function(t, o) {
                        console.error("DoLogout error Status : " + t, "data :", o), e.DoLogoutChangeScene()
                    }, t)
                }, t.prototype.DoLogoutChangeScene = function() {
                    this.isChangeScene = !0, this.strNextScene = this.LOGIN_SCENE_NAME
                }, t.prototype.OnPurchaseSuccess = function(t, e) {
                    this.target ? (this.target.downBarMgr ? this.target.downBarMgr.SetUserBalance(e, t) : console.error("[Error] IdleState.OnPurchaseSuccess : this.target.downBarMgr is null"), this.target.UserEntries = e, this.target.UserWinnings = t) : console.error("[Error] IdleState.OnPurchaseSuccess : this.target is null")
                }, t.prototype.OnClickJPHistory = function() {
                    l.AudioMgr.Instance.Play("Btn_Page_v01", !1, 1), this.target.jackpotWinnerMgr.ShowJpWinner()
                }, t.prototype.DownloadVersion = function(t, e, o, r) {
                    return n(this, void 0, void 0, function() {
                        var n;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    if (console.warn("[DownloadVersion]"), n = SS.Common.GameEnvironment.ProjectSetting.Modules[t].Function) switch (n) {
                                        case "Redirect":
                                            return this.Redirect(t), [2]
                                    }
                                    return [4, new Promise(function(n, i) {
                                        var a = SS.Common.GameEnvironment.ProjectSetting,
                                            s = SS.Common.GameEnvironment.S3URL;
                                        try {
                                            var c = a.Modules[t].Path;
                                            (new p.VersionDownloader).Start(s + c, function(t) {
                                                o(t, e), n(t)
                                            }, function(t) {
                                                r(t), i()
                                            })
                                        } catch (l) {
                                            console.error(l)
                                        }
                                    })];
                                case 1:
                                    return i.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.Redirect = function(t) {
                    return n(this, void 0, void 0, function() {
                        var e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return -1 != (e = SS.Common.GameEnvironment.ProjectSetting.Modules[t].Path).toUpperCase().indexOf("MAGICCITY") && v.ClickLog.recordClickLog(b.LogName.ClickEvent, -1, b.LogType_ClickEvent.MCEntry, b.LogEvent_Click.MC_Icon), [4, v.ClickLog.SendRecordedList(b.LogName.ClickEvent)];
                                case 1:
                                    return o.sent(), window.location.href = e, [2]
                            }
                        })
                    })
                }, t.prototype.NewTab = function(t) {
                    var e = SS.Common.GameEnvironment.ProjectSetting.Modules[t].Path,
                        o = window.open("about:blank", "redirect");
                    o.opener = null, o.location.href = e
                }, t.prototype.onLoadVersionSuccess = function(t, e) {
                    return n(this, void 0, void 0, function() {
                        var o, n, r, a, s, l, p;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return console.log("onLoadVersionSuccess isSwitchGame = " + e), console.log("onLoadVersionSuccess jsonData :", t), n = !1, r = !1, SS.Common.GameEnvironment.IgnoreVersionCtrl ? (o = t.VersionDEV ? t.VersionDEV : t.Version, c.ConnectPanelMgr.Instance.DisableConnectPanel(), [3, 5]) : [3, 1];
                                case 1:
                                    return t.Maintain.IsMaintainNow ? (n = !0, u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Info, "C07", "Lobby", "maintain", null), [3, 5]) : [3, 2];
                                case 2:
                                    return !t.hasOwnProperty("CloseTip") || e ? [3, 4] : (a = t.CloseTip, [4, y.Download.Prefab(a.BundleName, a.PrefabName)]);
                                case 3:
                                    return (s = i.sent()) && (l = cc.director.getScene().getChildByName("LobbyCommon"), (p = cc.instantiate(s)).parent = l, p.setSiblingIndex(0), r = !0), [3, 5];
                                case 4:
                                    o = t.Version, i.label = 5;
                                case 5:
                                    return this.loadpagePath = "", SS.Common.GameEnvironment.CurrentGameVersion = o, n || r ? this.StopClickIcon() : this.DownloadCustomLoadpage(), [2]
                            }
                        })
                    })
                }, t.prototype.StopClickIcon = function() {
                    c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.CloseCSSLogoPage(), m.IconMgr.CanClickIcon = !0
                }, t.prototype.DownloadCustomLoadpage = function() {
                    this.loadpagePath = this.GetGameLoadPage(SS.Common.GameEnvironment.CurrentGameNow, SS.Common.GameEnvironment.CurrentGameVersion), console.warn(this.loadpagePath);
                    var t = this,
                        e = new Image,
                        o = !1;
                    SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow) && (o = !0), e.onload = function() {
                        console.log("OnFinsihLoadpage !!"), window.gd_orientationType = o ? 1 : 0, h.Device.Instance.setOnOrientation(), t.target.scheduleOnce(function() {
                            if (t.target.unschedule(t.OnErrorLoadpage.bind(t)), SS.Common.GameEnvironment.ChangeToGameName) SS.Common.GameEnvironment.Splash = document.getElementById("splash");
                            else {
                                var o = document.getElementById("splash");
                                o.src = e.src, o.style.display = "block", SS.Common.GameEnvironment.Splash = o
                            }
                            t.FinishLoadPage()
                        }, .5)
                    }, e.onerror = function() {
                        t.target.unschedule(t.OnErrorLoadpage.bind(t)), t.OnErrorLoadpage()
                    }, e.src = this.loadpagePath, this.target.scheduleOnce(this.OnErrorLoadpage.bind(this), 60)
                }, t.prototype.OnErrorLoadpage = function() {
                    var t = this;
                    console.log("OnErrorLoadpage !!"), SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow) ? this.DownloadVerticalLoadpage() : (window.gd_orientationType = 0, h.Device.Instance.setOnOrientation(), this.target.scheduleOnce(function() {
                        SS.Common.GameEnvironment.Splash = document.getElementById("splash"), t.FinishLoadPage()
                    }, .5))
                }, t.prototype.SetSplashScale = function() {
                    var t = SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow);
                    SS.Common.GameEnvironment.Splash && (t ? (SS.Common.GameEnvironment.Splash.style.width = "auto", SS.Common.GameEnvironment.Splash.style.height = "100%") : (SS.Common.GameEnvironment.Splash.style.width = "100%", SS.Common.GameEnvironment.Splash.style.height = "auto"))
                }, t.prototype.DownloadVerticalLoadpage = function() {
                    var t = this,
                        e = new Image;
                    e.onload = function() {
                        console.log("OnFinsih Default Vertical_Loadpage!!"), window.gd_orientationType = 1, h.Device.Instance.setOnOrientation(), t.target.scheduleOnce(function() {
                            var o = document.getElementById("splash");
                            o.src = e.src, o.style.display = "block", SS.Common.GameEnvironment.Splash = o, t.FinishLoadPage()
                        }, 1)
                    }, e.onerror = function() {
                        console.log("OnError Vertical_Loadpage !!"), u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Critical, "C38", "Lobby", null, null), c.ConnectPanelMgr.Instance.DisableConnectPanel(0)
                    }, e.src = SS.Common.GameEnvironment.verticalSplashSRC
                }, t.prototype.FinishLoadPage = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.SetSplashScale(), null === SS.Common.GameEnvironment.CurrentGameNow || void 0 === SS.Common.GameEnvironment.CurrentGameNow ? (u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Warning, "C60", "Lobby", "Game Name Exception Error!"), [2]) : y.Download.CheckConfig(SS.Common.GameEnvironment.CurrentGameNow) ? [4, y.Download.Bundle(SS.Common.GameEnvironment.CurrentGameNow, "")] : [3, 2];
                                case 1:
                                    o.sent(), o.label = 2;
                                case 2:
                                    return c.ConnectPanelMgr.Instance.DisableConnectPanel(0), cc.assetManager.bundles.find(function(t) {
                                        return t._config.getSceneInfo(SS.Common.GameEnvironment.CurrentGameNow)
                                    }) ? ("" != SS.Common.GameEnvironment.ChangeToGameName && (t = document.getElementById("splash")) && (t.style.display = "none"), r.LoadingMgr.Instance.OpenLoading(), r.LoadingMgr.Instance.SetProgress(30, 5), [4, SS.Common.WaitForSeconds(.1)]) : [3, 4];
                                case 3:
                                    return o.sent(), SS.Common.GameEnvironment.Splash.style.display = "none", this.GAME_SCENE_NAME = SS.Common.GameEnvironment.CurrentGameNow, cc.game.setFrameRate(10), [3, 5];
                                case 4:
                                    e = SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.CurrentGameNow), this.GAME_SCENE_NAME = e ? "Game_Vertical" : "Game", this.OpenCSSLogoPage(), r.LoadingMgr.Instance.CloseLoading(), o.label = 5;
                                case 5:
                                    return SS.Common.GameEnvironment.ChangeToGameName = "", this.strNextScene = this.GAME_SCENE_NAME, this.isChangeScene = !0, [2]
                            }
                        })
                    })
                }, t.prototype.GetGameLoadPage = function(t, e) {
                    var o, n = SS.Common.GameEnvironment.ProjectSetting;
                    o = n.CDN_HOST ? window.location.protocol + "//" + n.CDN_HOST : "../../..";
                    var i = t,
                        r = n.Modules[i].Path;
                    if (!r) return console.warn("Project setting is not exist game id: " + i), null;
                    var a = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language;
                    "FishTable3" == i && (i = "PhoenixReturns");
                    var s = cc.assetManager.bundles.find(function(t) {
                        return t._config.getSceneInfo(SS.Common.GameEnvironment.CurrentGameNow)
                    });
                    return SS.Common.GameEnvironment.IsUseScoreBox ? s ? o + r + e + "/img/" + a + "loadpage.jpg?" : o + r + e + "/web-mobile/img/" + a + "loadpage.jpg?" : s ? o + r + e + "/img/" + a + "nobar_loadpage.jpg?" : o + r + e + "/web-mobile/img/" + a + "nobar_loadpage.jpg?"
                }, t.prototype.onLoadVersionFail = function(t) {
                    this.CloseCSSLogoPage(), c.ConnectPanelMgr.Instance.DisableConnectPanel(), u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Warning, "C09", "Lobby", t, function() {
                        m.IconMgr.CanClickIcon = !0
                    })
                }, t.prototype.OnClickIcon = function(t, e) {
                    console.log("click gameName", t), "" == SS.Common.GameEnvironment.ChangeToGameName && l.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = window.matchMedia("(display-mode: standalone)").matches,
                        n = "" == SS.Common.BaseFunction.GetURLParameterByName("standalone");
                    SS.Common.GameEnvironment.GetIsGameIsVertical(t) && cc.sys.isMobile && o && n && "" == SS.Common.GameEnvironment.ChangeToGameName ? this.showVerticalHint(this.clickIconShowConnectPanel.bind(this, t, e), this.resetClickIcon.bind(this)) : this.clickIconShowConnectPanel(t, e)
                }, t.prototype.resetClickIcon = function() {
                    cc.error("resetClickIcon()"), m.IconMgr.CanClickIcon = !0
                }, t.prototype.clickIconShowConnectPanel = function(t, e) {
                    console.warn("[clickIconShowConnectPanel] gameName= " + t + ", isSwitchGame = " + e), SS.Common.GameEnvironment.CurrentGameNow = t, c.ConnectPanelMgr.Instance.ShowConnectPanel(0), -1 == SS.Common.GameEnvironment.SentGameFlowStatus.indexOf(SS.Common.GameEnvironment.CurrentGameNow + s.GAME_STATUS.ICON_CLICK) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, SS.Common.GameEnvironment.CurrentGameNow, s.GAME_STATUS.ICON_CLICK), SS.Common.GameEnvironment.SentGameFlowStatus.push(SS.Common.GameEnvironment.CurrentGameNow + s.GAME_STATUS.ICON_CLICK)), -1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(s.LOBBY_STATUS.FIRST_CLICK_ICON) && (s.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", s.LOBBY_STATUS.FIRST_CLICK_ICON), SS.Common.GameEnvironment.SentFlowStatus.push(s.LOBBY_STATUS.FIRST_CLICK_ICON)), this.DownloadVersion(t, e, this.onLoadVersionSuccess.bind(this), this.onLoadVersionFail.bind(this))
                }, t.prototype.OpenCSSLogoPage = function() {
                    SS.Common.GameEnvironment.Splash || (SS.Common.GameEnvironment.Splash = document.getElementById("splash")), SS.Common.GameEnvironment.Splash.style.display = "block"
                }, t.prototype.CloseCSSLogoPage = function() {
                    SS.Common.GameEnvironment.Splash || (SS.Common.GameEnvironment.Splash = document.getElementById("splash")), SS.Common.GameEnvironment.Splash.style.display = "none"
                }, t.prototype.OnClickGameType = function(t) {
                    console.log("click gameTypeName", t), SS.Common.GameEnvironment.CurrentGameTypeNow !== t && l.AudioMgr.Instance.Play("Btn_Page_v01", !1, 1), this.target.gameIconMgr.ShowIcon(t)
                }, t.prototype.OnAccountClickClose = function() {
                    l.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnJPWinnerCloseClose = function() {
                    l.AudioMgr.Instance.Play("Btn_Select_n_v01", !1, 1)
                }, t.prototype.OnCallActivity = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallActivity: " + e);
                    var o = this.target.m_arrEventBannerData.findIndex(function(t) {
                        return t.m_sBannerID == e
                    });
                    o > -1 && this.target.m_arrEventBannerData[o].m_bValid ? this.target.m_arrEventBannerData[o].m_fucClickEvent() : (u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Info, "C57", "Lobby", "This event has already expired."), this.target.bulletinBoardNode && (this.target.bulletinBoardNode.active = !1))
                }, t.prototype.OnCallSwitchGame = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallSwitchGame: " + e), this.newsLogRecord && (this.newsLogRecord.switch = !0), this.target.switchGame.OnSwitchGameIgnoreWindow(e)
                }, t.prototype.OnCallWebview = function(t) {
                    var e = t.getUserData();
                    cc.log("OnCallWebview: " + e), this.target.webviewUiGroup.OpenWebView(e)
                }, t.prototype.OnBulletinBoardClosed = function() {
                    if (cc.log("OnBulletinBoardClosed"), this.newsLogRecord) {
                        var t = Date.now() - this.newsLogRecord.open_time;
                        this.newsLogRecord.stay_time = t;
                        var e = 0;
                        this.newsLogRecord.hasOwnProperty("click") && (e = 2), this.newsLogRecord.hasOwnProperty("switch") && (e += 1), s.LobbyClient.Instance.GetUserClient.recordClickLog("NewsStayTime", e, this.newsLogRecord), this.newsLogRecord = null
                    }
                    this.target.popUpMgr.checkAndShowPopup()
                }, t
            }();
        o.IdleState = P, cc._RF.pop()
    }, {
        "../../Component/GameIconMgr/Script/IconMgr": "IconMgr",
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../LobbyCommon/GuestSystem/Script/GuestLobbyPopupMgr": "GuestLobbyPopupMgr",
        "../../LobbyCommon/GuestSystem/Script/GuestSysMgr": "GuestSysMgr",
        "../../LobbyCommon/Helper/CrossDomainCookie": "CrossDomainCookie",
        "../../LobbyCommon/Helper/Download": "Download",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "../../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../LobbyCommon/SwipeMgr/Scripts/Device": "Device",
        "../../LobbyCommon/TopBar/Script/TopbarMgr": "TopbarMgr"
    }],
    ImageDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7f65cQF35BMQqRJejIZujut", "ImageDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ImageDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetImage(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                var e = this;
                try {
                    var o = new Uint8Array(t),
                        n = new Image;
                    n.src = "data:image/png;base64," + e.Base64Encode(o), n.onload = function() {
                        var t = new cc.Texture2D;
                        t.initWithElement(n), null != e.OnLoad && e.OnLoad(new cc.SpriteFrame(t))
                    }, console.log("ImageDownloader.OnLoadComplete")
                } catch (i) {
                    console.error("[ImageDownloader] Load failed.\n", i), null != e.OnError && e.OnError(i)
                }
            }, e.prototype.Base64Encode = function(t) {
                for (var e, o, n, i, r, a, s, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", l = "", u = 0; u < t.length;) i = (e = t[u++]) >> 2, r = (3 & e) << 4 | (o = t[u++]) >> 4, a = (15 & o) << 2 | (n = t[u++]) >> 6, s = 63 & n, isNaN(o) ? a = s = 64 : isNaN(n) && (s = 64), l = l + c.charAt(i) + c.charAt(r) + c.charAt(a) + c.charAt(s);
                return l
            }, e
        }(t("./Downloader").Downloader);
        o.ImageDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    InGameJpBg: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6e7707DXDVJZKjkJ9/0LbDM", "InGameJpBg");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InGameJpBg = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.SetJpBgPosition = function(t, e) {
                    switch (t) {
                        case 2:
                            var o = .5 * e;
                            this.node.setPosition(new cc.Vec2(this.node.position.x + o, 0));
                            break;
                        case 3:
                            this.node.setPosition(new cc.Vec2(this.node.position.x + e, 0))
                    }
                }, r([s], e)
            }(cc.Component));
        o.InGameJpBg = c, cc._RF.pop()
    }, {}],
    InGameJpDownloadList: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "186a9lL0FVAt5iKcM/a/JTt", "InGameJpDownloadList");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InGameJpDownloadList = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = (i.property, function() {
                function t(t, e, o, n, i, r, a) {
                    this.gameThemeId = "", this.groupInType = "", this.iconSizeType = "", this.panelLoadPath = "", this.bgLoadPath = "", this.jpPanelPrefab = null, this.jpBgPrefab = null, this.gameThemeId = t, this.groupInType = e, this.iconSizeType = o, this.panelLoadPath = n, this.bgLoadPath = i, this.jpPanelPrefab = r, this.jpBgPrefab = a
                }
                return n([r], t)
            }());
        o.InGameJpDownloadList = a, cc._RF.pop()
    }, {}],
    InGameJpPanel: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "fc14cBOOYxIMKFOct0sbc7R", "InGameJpPanel");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InGameJpPanel = void 0;
        var a = t("../../../LobbyCommon/Component/NumberCountUp"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.jpValLabel = null, e.numberCountUp = null, e.NORMAL_ICON_PREFIX = "NORMAL", e
                }
                return i(e, t), e.prototype.SetJpPanelPosition = function(t, e, o, n) {
                    var i;
                    switch (i = t == this.NORMAL_ICON_PREFIX ? .2 : 1, e) {
                        case 1:
                            this.node.setPosition(new cc.Vec2(0, this.node.position.y + n.y * i));
                            break;
                        case 2:
                            var r = .5 * o;
                            this.node.setPosition(new cc.Vec2(this.node.position.x - r, this.node.position.y + n.y * i));
                            break;
                        case 3:
                            this.node.setPosition(new cc.Vec2(this.node.position.x - o, this.node.position.y + n.y * i))
                    }
                }, e.prototype.SetJpVal = function(t) {
                    null != this.jpValLabel && (console.log("[SetJpVal]", SS.Common.BaseFunction.addCommas(t, 2)), this.numberCountUp = this.jpValLabel.getComponent(a.NumberCountUp), this.numberCountUp.SetNumberFormat(!1, !0, !0), this.numberCountUp.SetNumberNow(t))
                }, e.prototype.JpNumberCountUp = function(t, e) {
                    this.numberCountUp = this.jpValLabel.getComponent(a.NumberCountUp), this.numberCountUp.SetNumberFormat(!1, !0, !0), this.numberCountUp.CountUp(t, e)
                }, r([l(cc.Label)], e.prototype, "jpValLabel", void 0), r([l(a.NumberCountUp)], e.prototype, "numberCountUp", void 0), r([c], e)
            }(cc.Component);
        o.InGameJpPanel = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/NumberCountUp": "NumberCountUp"
    }],
    InfoMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "115b6n0eelNN6sFLRSIxDuT", "InfoMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.InfoMgr = void 0;
        var a = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.scrollViewRoot = null, e.webViewRoot = null, e.PFWebView = null, e.PFScrollView = null, e.InfoPageContent = null, e.webView = null, e.downloadErrorEventId = null, e.tmpDowmloadInfo = null, e.onDownloadFinishEvent = null, e.infoURL = "", e.Event_OpenInfo = null, e.Event_CloseInfo = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    null != this.webViewRoot && (this.webViewRoot.active = !1), null != this.scrollViewRoot && (this.scrollViewRoot.active = !1), this.Event_OpenInfo = new SS.Common.Delegate, this.Event_CloseInfo = new SS.Common.Delegate
                }, e.prototype._onDestroy = function() {
                    null != this.tmpDowmloadInfo && (cc.loader.release(this.tmpDowmloadInfo), this.tmpDowmloadInfo = null), null != this.InfoPageContent && null != this.InfoPageContent.spriteFrame && (cc.loader.release(this.InfoPageContent.spriteFrame), this.InfoPageContent.spriteFrame = null), null != this.webView && (this.webView.destroy(), this.webView = null)
                }, e.prototype.OpenInfoPage = function(t) {
                    if (void 0 === t && (t = ""), null != this.webViewRoot) {
                        var e = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language;
                        "" != t && (t += "/"), SS.Common.GameEnvironment.IsUseScoreBox ? this.infoURL = "./" + t + e + "info.html" : this.infoURL = "./" + t + e + "nobar_info.html";
                        var o = cc.instantiate(this.PFWebView);
                        o.parent = this.webViewRoot, o.setPosition(0, 0), this.webView = o.getComponent(cc.WebView), this.webView.url = this.infoURL, this.webViewRoot.active = !0, this.root.active = !0, this.Event_OpenInfo.Length > 0 && this.Event_OpenInfo.Notify()
                    }
                }, e.prototype.OpenScrollViewInfoPage = function(t) {
                    this.scrollViewRoot.active = !0, this.GetInfoDownloadImg(t)
                }, e.prototype.GetInfoDownloadImg = function(t) {
                    var e = this,
                        o = this,
                        n = !1,
                        i = this.GetInfoDownloadPath(t);
                    this.onDownloadFinishEvent = null, null == this.tmpDowmloadInfo ? (a.ConnectPanelMgr.Instance.ShowConnectPanel(), this.onDownloadFinishEvent = this.SetOpenRoot.bind(this), this.downloadErrorEventId = this.scheduleOnce(function() {
                        n || (console.warn("[Info Image Download is error !!] "), o.root.active = !1, e.onDownloadFinishEvent = null, a.ConnectPanelMgr.Instance.DisableConnectPanel())
                    }, 5), cc.assetManager.loadRemote(i, function(t, i) {
                        if (t) return n = !0, console.warn("[Info Image Download is error !!] "), o.root.active = !1, a.ConnectPanelMgr.Instance.DisableConnectPanel(), void(o.downloadErrorEventId && o.unschedule(o.downloadErrorEventId));
                        if (n = !0, o.downloadErrorEventId && o.unschedule(o.downloadErrorEventId), null != e.onDownloadFinishEvent && e.onDownloadFinishEvent(), o.root.active) {
                            o.tmpDowmloadInfo = new cc.SpriteFrame(i), console.log("Download infoImage Finish !!");
                            var r = o.tmpDowmloadInfo.getTexture().height;
                            o.PFScrollView.content.height = r, o.InfoPageContent.spriteFrame = o.tmpDowmloadInfo, o.PFScrollView.scrollToTop(0), a.ConnectPanelMgr.Instance.DisableConnectPanel()
                        }
                        i = null
                    })) : (this.PFScrollView.scrollToTop(0), this.SetOpenRoot())
                }, e.prototype.SetOpenRoot = function() {
                    this.root.active = !0
                }, e.prototype.GetInfoDownloadPath = function(t) {
                    var e = "./" + t + "/" + ("en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language) + (SS.Common.GameEnvironment.IsUseScoreBox ? "infoPage" : "noScoreBox_infoPage") + ".jpg?" + (new Date).getTime();
                    return console.warn("[Download InfoImage Path] = " + e), e
                }, e.prototype.CloseInfoPage = function() {
                    this.webView && (this.webView.url = "about:blank", this.webView.destroy(), this.webView = null), this.root.active = !1, this.Event_CloseInfo.Length > 0 && this.Event_CloseInfo.Notify()
                }, e.prototype.OnDarkBgClicked = function() {
                    this.root.active = !1, this.webView && this.CloseInfoPage()
                }, e.prototype.isActive = function() {
                    var t = !1;
                    return null != this.root && (t = this.root.active), t
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "scrollViewRoot", void 0), r([l(cc.Node)], e.prototype, "webViewRoot", void 0), r([l(cc.Prefab)], e.prototype, "PFWebView", void 0), r([l(cc.ScrollView)], e.prototype, "PFScrollView", void 0), r([l(cc.Sprite)], e.prototype, "InfoPageContent", void 0), r([c], e)
            }(cc.Component);
        o.InfoMgr = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr"
    }],
    ItemDataStructure: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "56cbaZ0po9NBKufAbj0/rUK", "ItemDataStructure"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.itemRank = o.Item = o.ItemData = void 0;
        o.ItemData = function() {};
        o.Item = function() {
                this.infoTop = "", this.infoBot = ""
            },
            function(t) {
                t[t.green = 0] = "green", t[t.bron = 1] = "bron", t[t.silve = 2] = "silve", t[t.gold = 3] = "gold", t[t.purple = 4] = "purple", t[t.rainbow = 5] = "rainbow"
            }(o.itemRank || (o.itemRank = {})), cc._RF.pop()
    }, {}],
    ItemIconCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "640817kODFAu620VvoISVHv", "ItemIconCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ItemIconCtrl = void 0;
        var a = t("./ItemDataStructure"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_arrPrefabRankedFrame = [], e.m_bIsBigOne = !0, e
                }
                return i(e, t), e.prototype.onEnable = function() {
                    this.creatFrame()
                }, e.prototype.setIcon = function(t) {
                    this.m_bIsBigOne = null == t, this.m_bIsBigOne || (this.m_nodeFrameLayer = t.m_nodeRankedFrameLayer, t.m_nodeRankedFrameLayer, t.m_nodeGameIconLayer, t.m_nodeTextLayer, this.m_btn.clickEvents[0] = new cc.Component.EventHandler, this.m_btn.clickEvents[0].target = t.node, this.m_btn.clickEvents[0].component = "backpackMgr", this.m_btn.clickEvents[0].handler = "OpenSelectOptionPage", this.m_btn.clickEvents[0].customEventData = "")
                }, e.prototype.creatFrame = function() {
                    var t = this.m_arrPrefabRankedFrame[a.itemRank.purple],
                        e = cc.instantiate(t);
                    if (e.scale = .5, this.m_bIsBigOne) e.parent = this.node, e.setPosition(cc.Vec2.ZERO);
                    else {
                        e.parent = this.m_nodeFrameLayer;
                        var o = this.node.parent.convertToWorldSpace(new cc.Vec2(this.node.getPosition().x, this.node.getPosition().y));
                        e.setPosition(this.m_nodeFrameLayer.convertToNodeSpace(o))
                    }
                }, r([l([cc.Prefab])], e.prototype, "m_arrPrefabRankedFrame", void 0), r([l(cc.Button)], e.prototype, "m_btn", void 0), r([c], e)
            }(cc.Component);
        o.ItemIconCtrl = u, cc._RF.pop()
    }, {
        "./ItemDataStructure": "ItemDataStructure"
    }],
    JPRewardMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "cc06e5JbIxCKbmuop9ryYfh", "JPRewardMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JPRewardMgr = o.JPType = void 0;
        var c, l = t("../../../LobbyCommon/Net/LobbyClient"),
            u = t("../../../LobbyCommon/Component/NumberCountUp"),
            p = t("../../../GameCommon/Profile/RewardNoticeMgr"),
            m = t("../../Helper/EventSystem"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property;
        (function(t) {
            t[t.Grand = 0] = "Grand", t[t.Major = 1] = "Major", t[t.Minor = 2] = "Minor", t[t.Mini = 3] = "Mini"
        })(c = o.JPType || (o.JPType = {}));
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeJPCheck = null, e.m_nodeGrand = null, e.m_nodeMajor = null, e.m_nodeMinor = null, e.m_nodeMini = null, e.m_root = null, e.numberRewardJPVal = null, e.jpMoneySymbolNode = null, e.slotDownBar = null, e.SetUserBalance = null, e
            }
            return i(e, t), e.prototype._onLoad = function() {}, e.prototype._start = function() {
                l.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.add(this.OnWinJpValue, this)
            }, e.prototype._Destroy = function() {
                l.LobbyClient.Instance.GetJPSystem && l.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal && l.LobbyClient.Instance.GetJPSystem.OnWinJPValueSignal.remove(this.OnWinJpValue, this)
            }, e.prototype.Compose = function(t) {
                this.slotDownBar = t.parSlotGameBar
            }, e.prototype.OnWinJpValue = function(t, e, o, n, i, r) {
                if (console.log("OnWinJpValue ! winValue : " + e), self == top ? null != this.SetUserBalance && this.SetUserBalance(n, i) : SS.Common.GameEnvironment.IsUseScoreBox ? this.slotDownBar.m_DelUpdateWinningNow.Length > 0 && this.slotDownBar.m_DelUpdateWinningNow.Notify(i) : this.slotDownBar.m_DelUpdateWinningNow.Length > 0 && this.slotDownBar.m_DelUpdateWinningNow.Notify(n), SS.Common.GameEnvironment.JPRewardIsMoneyFormat) {
                    var a = SS.Common.BaseFunction.accMul(e, o);
                    e = this.TruncateCurrency(a, o)
                }
                this.numberRewardJPVal.SetNumberNow(e), this.m_nodeGrand.active = !1, this.m_nodeMajor.active = !1, this.m_nodeMinor.active = !1, this.m_nodeMini.active = !1, t == c.Grand ? this.m_nodeGrand.active = !0 : t == c.Major ? this.m_nodeMajor.active = !0 : t == c.Minor ? this.m_nodeMinor.active = !0 : t == c.Mini && (this.m_nodeMini.active = !0), this.PlayJpReward(r)
            }, e.prototype.TruncateCurrency = function(t, e) {
                var o = SS.Common.BaseFunction.accDiv(1, e);
                return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
            }, e.prototype.SetJPValShowFormat = function(t) {
                this.jpMoneySymbolNode.active = t, this.numberRewardJPVal.SetNumberFormat(!t, t)
            }, e.prototype.PlayJpReward = function(t) {
                return a(this, void 0, void 0, function() {
                    var e, o;
                    return s(this, function(n) {
                        switch (n.label) {
                            case 0:
                                return this.m_root.active = !0, e = cc.fadeIn(.5), this.m_root.runAction(e), [4, SS.Common.WaitForSeconds(6)];
                            case 1:
                                return n.sent(), o = cc.fadeOut(.5), this.m_root.runAction(o), [4, SS.Common.WaitForSeconds(.5)];
                            case 2:
                                return n.sent(), this.m_root.active = !1, this.m_nodeGrand.active = !1, this.m_nodeMajor.active = !1, this.m_nodeMinor.active = !1, this.m_nodeMini.active = !1, null != t && null != t && this.CheckRewardNotice(t), [2]
                        }
                    })
                })
            }, e.prototype.CheckRewardNotice = function(t) {
                if (t.hasOwnProperty("is_new_record") && null != t.is_new_record) {
                    var e = null;
                    t.hasOwnProperty("player_record_type") && null != t.player_record_type && (e = t.player_record_type);
                    var o = null;
                    if (t.hasOwnProperty("record_type") && null != t.record_type && (o = t.record_type), null != o && null != e) {
                        var n = p.RewardType.None;
                        if (e == p.PlayerRecordType.Personal) switch (o) {
                            case p.RecordType.Jackpot:
                                n = p.RewardType.NewRecord_Jackpot
                        } else if (e == p.PlayerRecordType.Continent) switch (o) {
                            case p.RecordType.Jackpot:
                                n = p.RewardType.NumberOne_Jackpot
                        }
                        n != p.RewardType.None && m.EventSystem.Event(m.NoticedArrived.OnReceiveReward).Length > 0 && (m.EventSystem.Event(m.NoticedArrived.OnReceiveReward).Notify(n), m.EventSystem.Event(m.NoticedArrived.ShowRewardNotice).Length > 0 && m.EventSystem.Event(m.NoticedArrived.ShowRewardNotice).Notify())
                    }
                }
            }, r([_(cc.Node)], e.prototype, "m_nodeJPCheck", void 0), r([_(cc.Node)], e.prototype, "m_nodeGrand", void 0), r([_(cc.Node)], e.prototype, "m_nodeMajor", void 0), r([_(cc.Node)], e.prototype, "m_nodeMinor", void 0), r([_(cc.Node)], e.prototype, "m_nodeMini", void 0), r([_(cc.Node)], e.prototype, "m_root", void 0), r([_(u.NumberCountUp)], e.prototype, "numberRewardJPVal", void 0), r([_(cc.Node)], e.prototype, "jpMoneySymbolNode", void 0), r([d], e)
        }(cc.Component);
        o.JPRewardMgr = g, cc._RF.pop()
    }, {
        "../../../GameCommon/Profile/RewardNoticeMgr": "RewardNoticeMgr",
        "../../../LobbyCommon/Component/NumberCountUp": "NumberCountUp",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../Helper/EventSystem": "EventSystem"
    }],
    JPTimerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "27457jDU3RHAZmOvueoKu3P", "JPTimerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JPTimerMgr = void 0;
        var a = t("../../../LobbyCommon/Net/LobbyClient"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.textJPTime = null, e.jpInfoButton = null, e.jpHelpBackground = null, e.nodeJPLight = [], e.m_bVertical = !1, e.m_labJPES = null, e.m_sprIndicator = null, e.JP_TIME_MAX = 30, e._isCountDownJPtimeNow = !1, e._jpTime = 0, e.intervalID = -1, e.Event_clickJpPage = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.Event_clickJpPage = new SS.Common.Delegate
                }, e.prototype._start = function() {
                    this.UpdateJPTimerUI(0)
                }, e.prototype.Compose = function() {}, e.prototype.UpdateJPTimerUI = function(t) {
                    if (this.textJPTime && (this.textJPTime.string = t.toString()), this.m_bVertical) this.m_sprIndicator && (this.m_sprIndicator.fillStart = .5 * (1 - t / this.JP_TIME_MAX));
                    else if (this.nodeJPLight) {
                        for (var e = this.nodeJPLight.length, o = 0; o < e; o++) this.nodeJPLight[o].active = !1;
                        if (t > 0) {
                            var n = 1 + e * t / this.JP_TIME_MAX;
                            for (n = n > e ? e : n, o = 0; o < n; o++) this.nodeJPLight[o].active = !0
                        }
                    }
                }, e.prototype.ToggleJPHelp = function() {
                    this.jpHelpBackground.node.active = !this.jpHelpBackground.node.active, this.Event_clickJpPage.Length > 0 && this.Event_clickJpPage.Notify(this.jpHelpBackground.node.active)
                }, e.prototype.JPtimer = function(t) {
                    --t._jpTime, t._jpTime <= 0 && (t._jpTime = 0, t.PauseJPtime()), t.UpdateJPTimerUI(t._jpTime)
                }, e.prototype.StartConutDownJPTimer = function() {
                    var t = this;
                    this._isCountDownJPtimeNow = !0, -1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.JPtimer(t)
                    }, 1e3)
                }, e.prototype.SetJpTimerPos = function(t) {
                    this.node.setPosition(t)
                }, e.prototype.AddJPtime = function(t) {
                    this.PauseJPtime(), this._jpTime += t, this._jpTime >= this.JP_TIME_MAX && (this._jpTime = this.JP_TIME_MAX), this.UpdateJPTimerUI(this._jpTime)
                }, e.prototype.ForceSetJPtime = function(t) {
                    this.PauseJPtime(), t > this.JP_TIME_MAX ? t = this.JP_TIME_MAX : t < 0 && (t = 0), this._jpTime = t, this.UpdateJPTimerUI(this._jpTime), this._jpTime > 0 && !this._isCountDownJPtimeNow && this.StartConutDownJPTimer()
                }, e.prototype.PauseJPtime = function() {
                    clearInterval(this.intervalID), this._isCountDownJPtimeNow = !1
                }, e.prototype.ResumeJPtime = function() {
                    this._jpTime > 0 && (a.LobbyClient.Instance.GetJPSystem.SendJPTimerResume(), this._isCountDownJPtimeNow || (this._isCountDownJPtimeNow = !0, this.StartConutDownJPTimer()))
                }, r([l(cc.Label)], e.prototype, "textJPTime", void 0), r([l(cc.Button)], e.prototype, "jpInfoButton", void 0), r([l(cc.Sprite)], e.prototype, "jpHelpBackground", void 0), r([l([cc.Node])], e.prototype, "nodeJPLight", void 0), r([l(cc.Boolean)], e.prototype, "m_bVertical", void 0), r([l(cc.Label)], e.prototype, "m_labJPES", void 0), r([l(cc.Sprite)], e.prototype, "m_sprIndicator", void 0), r([c], e)
            }(cc.Component);
        o.JPTimerMgr = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    JPWinnerItem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5907c+y5hxCG4KF8yKr+9m8", "JPWinnerItem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JPWinnerItem = void 0;
        var a = t("../../../LobbyCommon/Component/NumberCountUp"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_MachineIDLabel = null, e.m_winTypeSprite = null, e.m_newFlagNode = null, e.m_isShowing = !1, e.m_jpWinValNum = null, e
                }
                return i(e, t), e.prototype.EnterScrollView = function() {
                    255 != this.node.opacity && (this.node.opacity = 255)
                }, e.prototype.ExitScrollView = function() {
                    0 != this.node.opacity && (this.node.opacity = 0)
                }, e.prototype.SetWinVaul = function(t) {
                    this.m_jpWinValNum.SetNumberNow(t)
                }, e.prototype.SetJPValueFormat = function(t) {
                    this.m_jpWinValNum.SetNumberFormat(!t, t)
                }, r([l(cc.Label)], e.prototype, "m_MachineIDLabel", void 0), r([l(cc.Sprite)], e.prototype, "m_winTypeSprite", void 0), r([l(cc.Node)], e.prototype, "m_newFlagNode", void 0), r([l(a.NumberCountUp)], e.prototype, "m_jpWinValNum", void 0), r([c], e)
            }(cc.Component);
        o.JPWinnerItem = u, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Component/NumberCountUp": "NumberCountUp"
    }],
    JSONDownloder: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "53fb9qRRiZNVblU7Fntw8e7", "JSONDownloder");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JSONDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    console.log(t), e = JSON.parse(t), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[JSONDownloader] Load setting failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.JSONDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    JackpotWinnerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a5803RLRIdImbPQ6fGBbaPJ", "JackpotWinnerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.JackpotWinnerMgr = void 0;
        var a = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            s = t("../../../LobbyCommon/Net/LobbyClient"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.jpRewardSprite = [], e.jPRewardColor = [], e.jpItem = null, e.jpItemPool = null, e.tmpJPAllItem = [], e.tmpJPAllItemCom = [], e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.m_DelClickClose = new SS.Common.Delegate, this.jpItemPool = new cc.NodePool;
                    var t = this.scrollView.node.parent.convertToWorldSpaceAR(cc.v2(this.scrollView.node.x - this.scrollView.node.anchorX * this.scrollView.node.width, this.scrollView.node.y - this.scrollView.node.anchorY * this.scrollView.node.height));
                    this.svBBoxRect = cc.rect(t.x, t.y, this.scrollView.node.width, this.scrollView.node.height)
                }, e.prototype.SetJPValueFormat = function(t) {
                    this.jpFormatIsMoney = t
                }, e.prototype._onDestroy = function() {
                    null != this.jpItemPool && this.jpItemPool.clear(), null != this.m_DelClickClose && (this.m_DelClickClose.Clear(), this.m_DelClickClose = null), this.tmpJPAllItem = null, this.tmpJPAllItemCom = null, this.jpRewardSprite = null, this.jPRewardColor = null
                }, e.prototype.ShowJpWinner = function() {
                    a.ConnectPanelMgr.Instance.ShowConnectPanel(), s.LobbyClient.Instance.GetJPSystem.SendGetJPHistory(this.RecvJPHistory.bind(this))
                }, e.prototype.RecvJPHistory = function(t, e) {
                    if (a.ConnectPanelMgr.Instance.DisableConnectPanel(), console.log("RecvJPHistory , " + t, e), this.NoData.active = !1, this.ScrollBar.active = !0, this.scrollView.node.active = !0, t != ArkSDK.SocketResult.OK || e.hasOwnProperty("result")) this.root.active = !0, this.NoData.active = !0, this.ScrollBar.active = !1, this.scrollView.node.active = !1;
                    else {
                        for (var o = e.length, n = 0; n < o; n++) {
                            var i = null;
                            (i = this.jpItemPool.size() > 0 ? this.jpItemPool.get() : cc.instantiate(this.jpItem)).setParent(this.content);
                            var r = i.getComponent("JPWinnerItem");
                            this.tmpJPAllItem[n] = i, this.tmpJPAllItemCom[n] = r, r.m_newFlagNode.active = 0 === n || 1 === n;
                            var s = e[n].jp_type;
                            this.SetMachineID(s, r, e[n]), s < this.jpRewardSprite.length ? (r.m_winTypeSprite.spriteFrame = this.jpRewardSprite[s], r.m_MachineIDLabel.node.color = this.jPRewardColor[s]) : (r.m_winTypeSprite.spriteFrame = null, r.m_MachineIDLabel.node.color = cc.Color.WHITE);
                            var c = e[n].jp_value;
                            if (this.jpFormatIsMoney) {
                                var l = SS.Common.GameEnvironment.exchange_rate,
                                    u = SS.Common.BaseFunction.accMul(c, l);
                                c = this.TruncateCurrency(u, l)
                            }
                            r.SetJPValueFormat(this.jpFormatIsMoney), r.SetWinVaul(c)
                        }
                        this.UpdateLayout()
                    }
                }, e.prototype.TruncateCurrency = function(t, e) {
                    var o = SS.Common.BaseFunction.accDiv(1, e);
                    return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
                }, e.prototype.SetMachineID = function(t, e, o) {
                    if (0 === t && o.hasOwnProperty("WinPlayerCount")) {
                        var n = o.WinPlayerCount,
                            i = o.machine_id;
                        e.m_MachineIDLabel.string = 1 === n ? "No." + i[0] : "Community : " + n + " people"
                    } else e.m_MachineIDLabel.string = "No." + o.machine_id
                }, e.prototype.UpdateLayout = function() {
                    this.verticleLayout.enabled = !0, this.root.active = !0, this.verticleLayout.updateLayout(), this.verticleLayout.enabled = !1, this.scrollView.scrollToTop(), this.onScrollingDrawCallOpt()
                }, e.prototype.OnCloseClicked = function() {
                    this.m_DelClickClose.Length > 0 && this.m_DelClickClose.Notify(), this.root.active = !1;
                    for (var t = 0, e = this.tmpJPAllItem; t < e.length; t++) {
                        var o = e[t];
                        this.jpItemPool.put(o)
                    }
                    this.tmpJPAllItem = [], this.tmpJPAllItemCom = []
                }, e.prototype.onScrollingDrawCallOpt = function() {
                    if (0 != this.tmpJPAllItem.length)
                        for (var t = this.tmpJPAllItem.length, e = 0; e < t; e++) this.tmpJPAllItem[e].getBoundingBoxToWorld().intersects(this.svBBoxRect) ? this.tmpJPAllItemCom[e].EnterScrollView() : this.tmpJPAllItemCom[e].ExitScrollView()
                }, r([u([cc.SpriteFrame])], e.prototype, "jpRewardSprite", void 0), r([u([cc.Color])], e.prototype, "jPRewardColor", void 0), r([u(cc.Prefab)], e.prototype, "jpItem", void 0), r([u(cc.Node)], e.prototype, "content", void 0), r([u(cc.Layout)], e.prototype, "verticleLayout", void 0), r([u(cc.ScrollView)], e.prototype, "scrollView", void 0), r([u(cc.Node)], e.prototype, "root", void 0), r([u(cc.Node)], e.prototype, "NoData", void 0), r([u(cc.Node)], e.prototype, "ScrollBar", void 0), r([l], e)
            }(cc.Component);
        o.JackpotWinnerMgr = p, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    LoadingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6e26bYnY9FK+qgXGkkMuJO8", "LoadingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LoadingMgr = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.barNode = null, e.root = null, e.progressLabel = null, e.LogoBG = null, e.m_iWidth = 1280, e.m_iHeight = 720, e.m_loadingMsg = null, e.preScalX = 0, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    null == o.Instance && (o.Instance = this)
                }, e.prototype.CloseLoading = function() {
                    cc.game.setFrameRate(60), this.root.active = !1, this.m_loadingMsg && (this.m_loadingMsg.node.active = !1), this.ResetLoadpage()
                }, e.prototype.ResetLoadpage = function() {
                    this.barNode.stopAllActions(), this.barNode.scaleX = 0, this.preScalX = 0, this.LogoBG.spriteFrame = null
                }, e.prototype.OpenLoading = function(t) {
                    if (void 0 === t && (t = null), this.root.active) console.error("OpenLoading Fail !!");
                    else try {
                        this.ResetLoadpage();
                        var e = null == t ? SS.Common.GameEnvironment.Splash : t,
                            o = new cc.Texture2D;
                        o.initWithElement(e), o.handleLoadedTexture(), o.width = this.m_iWidth, o.height = this.m_iHeight, this.LogoBG.spriteFrame = new cc.SpriteFrame(o), this.LogoBG.node.width = this.m_iWidth, this.LogoBG.node.height = this.m_iHeight, this.root.active = !0, this.scheduleOnce(function() {
                            cc.game.setFrameRate(10)
                        }, 1 / cc.game.getFrameRate())
                    } catch (n) {
                        console.error(n)
                    }
                }, e.prototype.SetProgress = function(t, e) {
                    void 0 === e && (e = .1), this.barNode.stopAllActions();
                    var o = cc.scaleTo(e, .01 * t, 1);
                    this.barNode.runAction(o)
                }, e.prototype.SetLoadingMessage = function(t) {
                    void 0 === t && (t = ""), this.m_loadingMsg && ("" === t ? this.m_loadingMsg.node.active = !1 : (this.m_loadingMsg.node.active = !0, this.m_loadingMsg.string = t))
                }, e.prototype.update = function() {
                    if (!(this.barNode.scaleX > 1 || this.barNode.scaleX < this.preScalX)) {
                        this.preScalX = this.barNode.scaleX;
                        var t = (100 * this.barNode.scaleX).toFixed(2);
                        this.progressLabel.string = t.toString() + "%"
                    }
                }, e.prototype.onDestroy = function() {
                    o.Instance = null
                }, e.Instance = null, r([c(cc.Node)], e.prototype, "barNode", void 0), r([c(cc.Node)], e.prototype, "root", void 0), r([c(cc.Label)], e.prototype, "progressLabel", void 0), r([c(cc.Sprite)], e.prototype, "LogoBG", void 0), r([c(cc.Integer)], e.prototype, "m_iWidth", void 0), r([c(cc.Integer)], e.prototype, "m_iHeight", void 0), r([c(cc.Label)], e.prototype, "m_loadingMsg", void 0), o = r([s], e)
            }(cc.Component);
        o.LoadingMgr = l, cc._RF.pop()
    }, {}],
    LobbyBeginnerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3aa4cTb2ZVBybyb/wVeMFjv", "LobbyBeginnerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../LobbyCommon/Helper/EventSystem"),
            s = cc._decorator,
            c = s.ccclass,
            l = (s.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.completeFunction = null, e
                }
                return i(e, t), e.prototype.OpenProfileBeginnerGuild = function(t) {
                    this.completeFunction = t, a.EventSystem.Event(a.BeginnersGuide.OnExit).Insert(this.OnProfileBeginnerGuildComplete, this), a.EventSystem.Event(a.BeginnersGuide.Show).Notify("lobby", !1)
                }, e.prototype.OnProfileBeginnerGuildComplete = function(t, e, o) {
                    a.EventSystem.Event(a.BeginnersGuide.OnExit).Remove(this.OnProfileBeginnerGuildComplete, this), e.destroy(), this.completeFunction && this.completeFunction(t, o)
                }, r([c], e)
            }(cc.Component));
        o.default = l, cc._RF.pop()
    }, {
        "../LobbyCommon/Helper/EventSystem": "EventSystem"
    }],
    LobbyClient: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "55b9aaFGQtPVaRPnLf7NOZE", "LobbyClient");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LobbyClient = o.GAME_STATUS = o.LOBBY_STATUS = void 0;
        var r = t("./ClickLog");
        (function(t) {
            t[t.LOGIN_OK = 0] = "LOGIN_OK", t[t.INTO_LOBBY_OK = 1] = "INTO_LOBBY_OK", t[t.FIRST_CLICK_ICON = 2] = "FIRST_CLICK_ICON"
        })(o.LOBBY_STATUS || (o.LOBBY_STATUS = {})),
        function(t) {
            t[t.ICON_CLICK = 3] = "ICON_CLICK", t[t.START_LOAD_PAGE = 4] = "START_LOAD_PAGE", t[t.LOAD_PAGE_OK = 5] = "LOAD_PAGE_OK", t[t.RECV_THEME_SETTING = 6] = "RECV_THEME_SETTING", t[t.FIRST_SPIN = 7] = "FIRST_SPIN"
        }(o.GAME_STATUS || (o.GAME_STATUS = {}));
        var a = function() {
            function t() {
                this.IsSocketErrorClose = !1, this.m_CommonEventInfo_900005_Rank = void 0, this.m_ExtraResult = void 0, this.loginModel = null, this.userClient = null, this.lobbySystem = null, this.jpSystem = null, this.socket = null, this.isLogin = !1, this.isLogoutNow = !1, this.ErrorData = [], this.PacketDelayData = {
                    sent: 0,
                    receive: 0,
                    loss: -1,
                    best: -1,
                    average: -1,
                    worst: -1,
                    totalElapsedTime: -1
                }, this.JpShowLastTime = 0, this.DEAFULT_JP_SHOW_TIMEOUT = 100, null != t.Instance && console.error("LobbyClient is already exist"), t.Instance = this, cc.game.on(cc.game.EVENT_HIDE, this.onAppPause.bind(this)), cc.game.on(cc.game.EVENT_SHOW, this.onAppResume.bind(this))
            }
            return Object.defineProperty(t.prototype, "GetUserClient", {
                get: function() {
                    return this.userClient
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "GetLobbySystem", {
                get: function() {
                    return this.lobbySystem
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "GetJPSystem", {
                get: function() {
                    return this.jpSystem
                },
                enumerable: !1,
                configurable: !0
            }), t.SetInstance = function(e) {
                t.Instance = e
            }, t.prototype.JPInit = function() {
                this.JpShowLastTime = this.DEAFULT_JP_SHOW_TIMEOUT
            }, t.prototype.JPFinish = function() {
                this.JpShowLastTime = 0
            }, t.prototype.IsSocketConnect = function() {
                return this.socket && this.socket.isConnect
            }, t.prototype.onAppResume = function() {
                console.log("onAppResume"), this.isPause && (this.isPause = !1, this.IsSocketConnect() ? (this.PauseCollectLog(), this.CollectLog()) : this.ErrorData = [])
            }, t.prototype.onAppPause = function() {
                console.log("onAppPause"), this.PauseCollectLog(), this.isPause = !0
            }, t.prototype.DoLogin = function(t, e, o, n, i) {
                var r = this;
                try {
                    var a = SS.Common.GameEnvironment.DeviceInfo;
                    this.loginSuccessCB = n, this.loginModel && this.loginModel.Clear && this.loginModel.Clear();
                    var s = "None",
                        c = null == SS.Common.GameEnvironment.LobbyVersion ? "Editor" : SS.Common.GameEnvironment.LobbyVersion;
                    null != navigator.connection && null != navigator.connection && (s = navigator.connection.type), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.DoLogin(e, o, function(t, e, o) {
                        r.OnLoginSuccess(t, e, o)
                    }, function(t, e, o) {
                        console.error(t), console.error(e), null != i && (i(t, e, o), i = null)
                    }, function() {
                        r.isLogin ? (r.PauseCollectLog(), r.IsSocketErrorClose = !0) : r.isLogoutNow || null == i || (i(-999, "Socket disconnected without login", "ConnectWebSocket"), i = null)
                    }, a, c, s)
                } catch (l) {
                    console.error(l), null != i && (i(-999, l), i = null)
                }
            }, t.prototype.DoGuestLogin = function(t, e, o, n, i, r) {
                var a = this;
                try {
                    var s = SS.Common.GameEnvironment.DeviceInfo;
                    this.loginSuccessCB = i, this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t);
                    var c = "None",
                        l = SS.Common.GameEnvironment.LobbyVersion;
                    null != navigator.connection && null != navigator.connection && (c = navigator.connection.type), this.loginModel.DoGuestLogin(e, o, n, function(t, e, o) {
                        a.OnLoginSuccess(t, e, o)
                    }, function(t, e, o) {
                        console.error(t), console.error(e), null != r && (r(t, e, o), r = null)
                    }, function() {
                        a.isLogin ? (a.PauseCollectLog(), a.IsSocketErrorClose = !0) : a.isLogoutNow || null == r || (r(-999, "Socket disconnected without login", "ConnectWebSocket"), r = null)
                    }, s, l, c)
                } catch (u) {
                    console.error(u), null != r && (r(-999, u), r = null)
                }
            }, t.prototype.OnLoginSuccess = function(t, e, o) {
                this.IsSocketErrorClose = !1, this.isLogin = !0, this.isLogoutNow = !1, this.socket = o, this.userClient ? this.userClient.setNetClient(t, e) : this.userClient = new SS.Network.UserClient(t, e), this.lobbySystem ? this.lobbySystem.setNetClient(o) : this.lobbySystem = new SS.Network.LobbySystem(o), console.warn("[OnLoginSuccess] LogoMode: " + window.gd_nowLOGO), this.lobbySystem.setLoginLogoMode(window.gd_nowLOGO), this.jpSystem ? this.jpSystem.setNetClient(o, e) : (this.jpSystem = new SS.Network.JPSystem(o, e), this.jpSystem.OnJPStartSignal.add(this.JPInit, this), this.jpSystem.OnJPFinishSignal.add(this.JPFinish, this)), this.CollectLog(), this.loginSuccessCB(), this.loginSuccessCB = null
            }, t.prototype.CollectLog = function() {
                var t = this;
                this.SendLog = function() {
                    t.sendLogTimerID = setTimeout(function() {
                        t.isLogin && t.socket && t.socket.isConnect && (console.log("ErrorData", t.ErrorData), t.ErrorData.length > 0 && (t.ErrorData.forEach(function(e) {
                            e.PinArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && t.userClient.SendErrorLog(e)
                        }), t.ErrorData = []), t.SendLog())
                    }, 3e5)
                }, this.SendLog(), r.ClickLog.readCookieAndSendLog("SpinTypeLog")
            }, t.prototype.CollectErrorLog = function(t, e, o, n) {
                var i = {
                    error_result: e,
                    trigger_point: n,
                    scene_name: o,
                    error_handle: t,
                    MachineID: SS.Network.LoginModel.LoginInfo.machine_id,
                    KioskID: SS.Network.LoginModel.LoginInfo.kiosk_id,
                    PinArkID: SS.Network.LoginModel.LoginInfo.pin_ark_id,
                    ClientTimeUTC: (new Date).getTime(),
                    UserID: SS.Network.LoginModel.LoginInfo.user_id
                };
                this.ErrorData.push(i)
            }, t.prototype.RecvPingAck = function(t, e, o, n, i, r, a) {
                if (t == ArkSDK.SocketResult.OK && this.PacketDelayData.receive++, void 0 === a && (a = 1e4), this.PacketDelayData.totalElapsedTime += a, (-1 == this.PacketDelayData.best || this.PacketDelayData.best > a) && (this.PacketDelayData.best = a), (-1 == this.PacketDelayData.worst || this.PacketDelayData.worst < a) && (this.PacketDelayData.worst = a), this.PacketDelayData.sent > 5) {
                    this.PacketDelayData.loss = this.PacketDelayData.sent - this.PacketDelayData.receive, this.PacketDelayData.average = this.PacketDelayData.totalElapsedTime / this.PacketDelayData.sent, console.log("send SendPacketDelayData : ", JSON.stringify(this.PacketDelayData));
                    var s = Object.assign({}, this.PacketDelayData);
                    this.userClient.SendPacketDelayData(s), this.ResetPacketDelayData()
                }
                this.Ping()
            }, t.prototype.ResetPacketDelayData = function() {
                this.PacketDelayData.sent = 0, this.PacketDelayData.receive = 0, this.PacketDelayData.loss = -1, this.PacketDelayData.best = -1, this.PacketDelayData.average = -1, this.PacketDelayData.worst = -1, this.PacketDelayData.totalElapsedTime = -1
            }, t.prototype.PauseCollectLog = function() {
                window.clearTimeout(this.pingWebSocketTimerID), window.clearTimeout(this.sendLogTimerID)
            }, t.prototype.DoLogout = function(t, e, o) {
                return void 0 === o && (o = 0), n(this, void 0, void 0, function() {
                    var n;
                    return i(this, function(i) {
                        switch (i.label) {
                            case 0:
                                return i.trys.push([0, 2, , 3]), [4, r.ClickLog.SendLogWhenDoLogout()];
                            case 1:
                                return i.sent(), this.isLogin = !1, this.isLogoutNow = !0, this.jpSystem.OnJPStartSignal && this.jpSystem.OnJPStartSignal.remove(this.JPInit, this), this.jpSystem.OnJPFinishSignal && this.jpSystem.OnJPFinishSignal.remove(this.JPFinish, this), this.PauseCollectLog(), this.lobbySystem = null, this.jpSystem = null, this.userClient = null, this.loginModel.DoLogout(t, e, o), [3, 3];
                            case 2:
                                return n = i.sent(), console.error(n), null != e && (e(-999, n), e = null), [3, 3];
                            case 3:
                                return [2]
                        }
                    })
                })
            }, t.prototype.getContactInfoNotLogin = function(t, e, o, n, i) {
                try {
                    this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.getContactInfoNotLogin(e, o, n, i)
                } catch (r) {
                    console.error(r)
                }
            }, t.prototype.sendDirectClickLog = function(t, e, o, n, i, r) {
                try {
                    this.loginModel && this.loginModel.Clear && this.loginModel.Clear(), this.loginModel = new SS.Network.LoginModel(t), this.loginModel.sendDirectClickLog(e, o, n, i, r, SS.Common.GameEnvironment.DeviceInfo), console.log("[sendDirectClickLog]", ", click_id: " + e + ", btn_click_id: " + o.toString() + ", click_name: " + n + ", device_id: " + i + ", logo: " + r.toString())
                } catch (a) {
                    console.error(a)
                }
            }, t.prototype.SendGameLoginLog = function() {
                var e = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                console.log("SendGameLoginLog \u9032\u5165\u904a\u6232 gamdId = " + e + ", CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), "" != e && t.Instance.GetLobbySystem.SendSessionLengthLogin(Number(e))
            }, t.prototype.SendGameLogoutLog = function(e) {
                void 0 === e && (e = null);
                var o = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                console.log("SendGameLogoutLog \u96e2\u958b\u904a\u6232 gamdId = " + o + ", CurrentGameNow = " + SS.Common.GameEnvironment.CurrentGameNow), "" != o && t.Instance.GetLobbySystem.SendSessionLengthLogout(Number(o), e)
            }, t.m_arrJsonSpinTypeLog = [], t
        }();
        o.LobbyClient = a, cc._RF.pop()
    }, {
        "./ClickLog": "ClickLog"
    }],
    LobbyCommon: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "97cabOsz35C7qGABGBppWq5", "LobbyCommon");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LobbyCommon = void 0;
        var a = t("./DisableMultiTapHandler"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OriWidth = 1280, e.OriHeight = 720, e.waitForSecOrginFunc = null, e
                }
                var o;
                return i(e, t), o = e, e.prototype.onLoad = function() {
                    var t = this;
                    if (null != o.Instance) return cc.game.removePersistRootNode(this.node), void this.node.destroy();
                    o.Instance = this, cc.game.addPersistRootNode(this.node), cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function() {
                        var e = cc.find("Canvas"),
                            o = null;
                        if (e && (o = e.getComponent(cc.Canvas)), o) {
                            var n = o.designResolution.width / t.OriWidth,
                                i = o.designResolution.height / t.OriHeight;
                            t.node.setScale(cc.v2(n, i))
                        }
                    }), cc.view.resizeWithBrowserSize(!0), cc.view.setDesignResolutionSize(this.OriWidth, this.OriHeight, cc.ResolutionPolicy.SHOW_ALL), this.addComponent(a.DisableMultiTapHandler), this.schedule(function() {
                        cc.sys.garbageCollect()
                    }, 30, cc.macro.REPEAT_FOREVER)
                }, e.prototype.InitWaitForSeconds = function() {
                    this.waitForSecOrginFunc || (this.waitForSecOrginFunc = SS.Common.WaitForSeconds), SS.Common.WaitForSeconds = this.NewWaitForSecond.bind(this)
                }, e.prototype.NewWaitForSecond = function(t) {
                    var e = this;
                    return new Promise(function(o) {
                        e.scheduleOnce(o, t)
                    })
                }, e.prototype.onDestroy = function() {
                    this.unscheduleAllCallbacks(), this.waitForSecOrginFunc && (SS.Common.WaitForSeconds = this.waitForSecOrginFunc), this.waitForSecOrginFunc = null, o.Instance && this.node == o.Instance.node && (o.Instance = null)
                }, e.Instance = null, r([l(cc.Integer)], e.prototype, "OriWidth", void 0), r([l(cc.Integer)], e.prototype, "OriHeight", void 0), o = r([c], e)
            }(cc.Component);
        o.LobbyCommon = u, cc._RF.pop()
    }, {
        "./DisableMultiTapHandler": "DisableMultiTapHandler"
    }],
    LobbyMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ef8233eoxRMabMnIr6egqJX", "LobbyMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LobbyMgr = void 0;
        var a, s = t("../LobbyCommon/TopBar/Script/TopbarMgr"),
            c = t("../Component/AccountPage/Script/AccountPageMgr"),
            l = t("../Component/JackpotWinner/Script/JackpotWinnerMgr"),
            u = t("../Component/GameIconMgr/Script/GameIconMgr"),
            p = t("../Component/GameTypeMgr/Script/GameTypeMgr"),
            m = t("../LobbyCommon/Component/StateMachine/StateMachine"),
            h = t("./LobbyState/WaitInitAckState"),
            d = t("./LobbyState/WaitSettingState"),
            _ = t("./LobbyState/WaitIconDownload"),
            g = t("./LobbyState/IdleState"),
            f = t("./LobbyState/WaitCheckVersionState"),
            y = t("../LobbyCommon/Net/LobbyClient"),
            S = t("../Component/SkillGameMgr/Script/SkillGameMgr"),
            C = t("../Component/VerticalHint/Script/VerticalHintMgr"),
            v = t("./LobbyState/WaitResDownload"),
            b = t("../LobbyCommon/SwitchGame/SwitchGameGroup"),
            P = t("../Component/BannerMgr/Scripts/BannerMgr"),
            w = t("../LobbyCommon/WebViewMgr/WebViewUIGroup"),
            I = t("../LobbyCommon/PopUpMgr/Scripts/PopUpMgr"),
            M = t("../Component/PhoneGetBonusMgr/Scripts/GetBonusMgr"),
            E = t("../LobbyCommon/Component/AudioMgr"),
            D = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            L = t("../LobbyCommon/PlatformJp/Script/JPRewardMgr"),
            T = t("../LobbyCommon/InGameJp/Script/GameJpMgr"),
            k = t("../LobbyCommon/EditPassword/Script/EditPassword"),
            A = t("../LobbyCommon/EditMobileIDMgr/Script/EditMobileIDMgr"),
            O = t("./LobbyBeginnerMgr"),
            R = cc._decorator,
            N = R.ccclass,
            B = R.property;
        (function(t) {
            t[t.PC_landscape = 0] = "PC_landscape", t[t.PC_any = 1] = "PC_any", t[t.Android_landscape = 2] = "Android_landscape", t[t.Android_any = 3] = "Android_any"
        })(a || (a = {}));
        var G = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.topBarMgr = null, e.accountPageMgr = null, e.editPasswordMgr = null, e.editMobileIDMgr = null, e.jackpotWinnerMgr = null, e.gameIconMgr = null, e.gameTypeMgr = null, e.skillGameMgr = null, e.bannerMgr = null, e.popUpMgr = null, e.verticalHintMgr = null, e.switchGame = null, e.webviewUiGroup = null, e.getBonusMgr = null, e.jPRewardMgr = null, e.beginnerMgr = null, e.topBarRoot = null, e.downBarRoot = null, e.guestDownBarRoot = null, e.lobbyDefaultBg = null, e.lobbyBg = null, e.bgSpecialNode = null, e.fgSpecialNode = null, e.audioClips = [], e.audioClipsName = [], e.gameJpMgr = null, e.downBarMgr = null, e.bulletinBoardNode = null, e.profiledNode = null, e.tmpNameMapIcon = {}, e.LobbyFSM = new m.StateMachine(e), e.WaitVersionCheckState = new f.WaitCheckVersionState, e.WaitSettingState = new d.WaitSettingState, e.WaitInitAckState = new h.WaitInitAckState, e.WaitResDownload = new v.WaitResDownload, e.WaitIconDownload = new _.WaitIconDownload, e.IdleState = new g.IdleState, e.isAllowReloadLobby = !0, e.isFirstRunLobby = !0, e.m_objJPData = null, e.m_arrEventBannerData = [], e
            }
            return i(e, t), e.prototype.onLoad = function() {
                this.topBarMgr && this.topBarMgr._onLoad(), this.jackpotWinnerMgr._onLoad(), this.gameTypeMgr._onLoad(), this.gameIconMgr._onLoad(), this.editPasswordMgr._onLoad(), this.accountPageMgr._onLoad(), this.editMobileIDMgr._onLoad(), this.popUpMgr._onLoad(), null == T.GameJpMgr.Instance ? this.gameJpMgr = new T.GameJpMgr : this.gameJpMgr = T.GameJpMgr.Instance, this.gameJpMgr._onLoad()
            }, e.prototype.start = function() {
                "" != SS.Common.GameEnvironment.ChangeToGameName && cc.Camera.cameras.length > 0 && null != cc.Camera.cameras[0] && (cc.Camera.cameras[0].node.active = !1), "" == SS.Common.GameEnvironment.ChangeToGameName && SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.display = "none"), this.topBarMgr && this.topBarMgr._start(), this.gameIconMgr._start(), this.popUpMgr._start(), this.bannerMgr._start(), this.jPRewardMgr._start(), this.bannerMgr.SetBannerFeature(this.switchGame.OnSwitchGameIgnoreWindow.bind(this.switchGame), this.webviewUiGroup.OpenWebView.bind(this.webviewUiGroup)), this.popUpMgr.SetPopupFeature(this.switchGame.OnSwitchGameIgnoreWindow.bind(this.switchGame), this.webviewUiGroup.OpenWebView.bind(this.webviewUiGroup)), this.gameIconMgr && this.topBarMgr && this.topBarMgr.m_DelClickLogout.Insert(this.gameIconMgr.ClearScrollPositionData, this.gameIconMgr), this.gameTypeMgr.m_DelClickGameType && this.gameTypeMgr.m_DelClickGameType.Insert(this.gameIconMgr.RecordCurrentGameTypePos, this.gameIconMgr), null == this.accountPageMgr.checkAndShowPopup && (this.accountPageMgr.checkAndShowPopup = this.popUpMgr.checkAndShowPopup.bind(this.popUpMgr)), this.isFirstRunLobby && (this.isFirstRunLobby = !1, this.LobbyFSM.SetCurrentState(this.WaitVersionCheckState)), this.IdleState.showVerticalHint = this.verticalHintMgr.show.bind(this.verticalHintMgr)
            }, e.prototype.update = function() {
                this.LobbyFSM.SMUpdate()
            }, e.prototype.SaveJpVal = function(t, e, o, n, i) {
                void 0 === i && (i = !1), this.m_objJPData = {
                    grand: t,
                    major: e,
                    minor: o,
                    mini: n,
                    forceUpdate: i
                }
            }, e.prototype.SetTopbar = function(t) {
                this.topBarMgr = t.getComponent(s.TopbarMgr), this.topBarMgr._onLoad(), this.topBarMgr._start(), this.gameIconMgr && this.topBarMgr.m_DelClickLogout.Insert(this.gameIconMgr.ClearScrollPositionData, this.gameIconMgr), this.m_objJPData && this.topBarMgr.ChangeJPVal(this.m_objJPData.grand, this.m_objJPData.major, this.m_objJPData.minor, this.m_objJPData.mini, this.m_objJPData.forceUpdate)
            }, e.prototype.SetDownbarEvent = function() {
                null == this.jPRewardMgr.SetUserBalance && (this.jPRewardMgr.SetUserBalance = this.downBarMgr.SetUserBalance.bind(this.downBarMgr)), this.downBarMgr.bannerRoot && (this.bannerMgr.node.parent = this.downBarMgr.bannerRoot, this.bannerMgr.node.position = new cc.Vec3(-this.downBarMgr.node.position.x, -this.downBarMgr.node.position.y))
            }, e.prototype.ReloadLobby = function() {
                if (this.isAllowReloadLobby && self == top) {
                    E.AudioMgr.Instance.UncacheAudioClip();
                    var t = SS.Common.GameEnvironment.Language + "Lobby";
                    null === cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) && (t = "Lobby"), cc.director.getScene().name == t || "Game" == cc.director.getScene().name || "Game_Vertical" == cc.director.getScene().name ? y.LobbyClient.Instance.IsSocketConnect() ? (D.LoadingMgr.Instance.OpenLoading(), cc.director.loadScene(t)) : location.replace(this.GetIndexURL()) : cc.director.loadScene("ReleaseScene")
                }
            }, e.prototype.SetIsAllowReloadLobby = function(t) {
                this.isAllowReloadLobby = t
            }, e.prototype.onDestroy = function() {
                null != this.gameIconMgr && this.gameIconMgr._onDestroy(), null != this.popUpMgr && this.popUpMgr._onDestroy(), null != this.jackpotWinnerMgr && this.jackpotWinnerMgr._onDestroy(), null != this.accountPageMgr && this.accountPageMgr._onDestroy(), null != this.editMobileIDMgr && this.editMobileIDMgr._onDestroy(), null != this.editPasswordMgr && this.editPasswordMgr._onDestroy(), null != this.gameTypeMgr && this.gameTypeMgr._onDestroy(), null != this.bannerMgr && this.bannerMgr._onDestroy(), null != this.jPRewardMgr && this.jPRewardMgr._Destroy(), null != this.WaitIconDownload && this.WaitIconDownload.UnLoadIcon(), this.IdleState.tmpRepeatingMissionMgr && this.IdleState.tmpRepeatingMissionMgr.m_MissionListCtrl && this.IdleState.tmpRepeatingMissionMgr.m_MissionListCtrl.ClearRes(), this.IdleState.RemoveListenModuleEvent(), this.tmpNameMapIcon = null, this.tmpTypeMapGameNameList = null, y.LobbyClient.Instance.GetJPSystem && y.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal && y.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.removeAll(), y.LobbyClient.Instance.GetLobbySystem && y.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal && y.LobbyClient.Instance.GetLobbySystem.OnUpdateSignal.removeAll(), this.lobbyBg && this.lobbyBg.spriteFrame && this.lobbyBg.spriteFrame.decRef();
                var t = this.audioClipsName.findIndex(function(t) {
                    return "LobbyMusic" == t
                });
                t > -1 && this.audioClips[t].decRef(), this.audioClipsName = null, this.audioClips = null
            }, e.prototype.GetIndexURL = function() {
                var t = "",
                    e = "",
                    o = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV");
                return SS.Common.BaseFunction.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../" + t + "/?KioskDEV=" + o + e : "../../../" + t + e
            }, e.prototype.CheckCookieValue = function(t, e) {
                var o = "";
                return JSUtility.IsSupportLocalStorage() ? o = localStorage.getItem(t) : JSUtility.IsSupportCookie() && (o = JSUtility.GetCookie(t)), console.log("[cookie] ", t, " = ", o), null != o && o == e
            }, e.prototype.SetCookieValue = function(t, e) {
                JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
            }, r([B(s.TopbarMgr)], e.prototype, "topBarMgr", void 0), r([B(c.AccountPageMgr)], e.prototype, "accountPageMgr", void 0), r([B(k.EditPassword)], e.prototype, "editPasswordMgr", void 0), r([B(A.EditMobileIDMgr)], e.prototype, "editMobileIDMgr", void 0), r([B(l.JackpotWinnerMgr)], e.prototype, "jackpotWinnerMgr", void 0), r([B(u.GameIconMgr)], e.prototype, "gameIconMgr", void 0), r([B(p.GameTypeMgr)], e.prototype, "gameTypeMgr", void 0), r([B(S.SkillGameMgr)], e.prototype, "skillGameMgr", void 0), r([B(P.BannerMgr)], e.prototype, "bannerMgr", void 0), r([B(I.PopUpMgr)], e.prototype, "popUpMgr", void 0), r([B(C.VerticalHintMgr)], e.prototype, "verticalHintMgr", void 0), r([B(b.SwitchGameGroup)], e.prototype, "switchGame", void 0), r([B(w.WebViewUIGroup)], e.prototype, "webviewUiGroup", void 0), r([B(M.GetBonusMgr)], e.prototype, "getBonusMgr", void 0), r([B(L.JPRewardMgr)], e.prototype, "jPRewardMgr", void 0), r([B(O.default)], e.prototype, "beginnerMgr", void 0), r([B(cc.Node)], e.prototype, "topBarRoot", void 0), r([B(cc.Node)], e.prototype, "downBarRoot", void 0), r([B(cc.Node)], e.prototype, "guestDownBarRoot", void 0), r([B(cc.Node)], e.prototype, "lobbyDefaultBg", void 0), r([B(cc.Sprite)], e.prototype, "lobbyBg", void 0), r([B(cc.Node)], e.prototype, "bgSpecialNode", void 0), r([B(cc.Node)], e.prototype, "fgSpecialNode", void 0), r([B([cc.AudioClip])], e.prototype, "audioClips", void 0), r([B([cc.String])], e.prototype, "audioClipsName", void 0), r([N], e)
        }(cc.Component);
        o.LobbyMgr = G, cc._RF.pop()
    }, {
        "../Component/AccountPage/Script/AccountPageMgr": "AccountPageMgr",
        "../Component/BannerMgr/Scripts/BannerMgr": "BannerMgr",
        "../Component/GameIconMgr/Script/GameIconMgr": "GameIconMgr",
        "../Component/GameTypeMgr/Script/GameTypeMgr": "GameTypeMgr",
        "../Component/JackpotWinner/Script/JackpotWinnerMgr": "JackpotWinnerMgr",
        "../Component/PhoneGetBonusMgr/Scripts/GetBonusMgr": "GetBonusMgr",
        "../Component/SkillGameMgr/Script/SkillGameMgr": "SkillGameMgr",
        "../Component/VerticalHint/Script/VerticalHintMgr": "VerticalHintMgr",
        "../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../LobbyCommon/Component/StateMachine/StateMachine": "StateMachine",
        "../LobbyCommon/EditMobileIDMgr/Script/EditMobileIDMgr": "EditMobileIDMgr",
        "../LobbyCommon/EditPassword/Script/EditPassword": "EditPassword",
        "../LobbyCommon/InGameJp/Script/GameJpMgr": "GameJpMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PlatformJp/Script/JPRewardMgr": "JPRewardMgr",
        "../LobbyCommon/PopUpMgr/Scripts/PopUpMgr": "PopUpMgr",
        "../LobbyCommon/SwitchGame/SwitchGameGroup": "SwitchGameGroup",
        "../LobbyCommon/TopBar/Script/TopbarMgr": "TopbarMgr",
        "../LobbyCommon/WebViewMgr/WebViewUIGroup": "WebViewUIGroup",
        "./LobbyBeginnerMgr": "LobbyBeginnerMgr",
        "./LobbyState/IdleState": "IdleState",
        "./LobbyState/WaitCheckVersionState": "WaitCheckVersionState",
        "./LobbyState/WaitIconDownload": "WaitIconDownload",
        "./LobbyState/WaitInitAckState": "WaitInitAckState",
        "./LobbyState/WaitResDownload": "WaitResDownload",
        "./LobbyState/WaitSettingState": "WaitSettingState"
    }],
    LobbySceneReader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ce7e1RnifNPtK61kDGFmaZv", "LobbySceneReader");
        var n = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            i = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("../Component/DownBar/Script/DownBarMgr"),
            s = t("../LobbyCommon/Component/BundleCtrl"),
            c = t("../LobbyCommon/GuestSystem/Script/GuestSysMgr"),
            l = t("../LobbyCommon/Net/Downloader/VersionDownloader"),
            u = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            p = cc._decorator,
            m = p.ccclass,
            h = (p.property, function() {
                function t() {
                    this.target = null, this.isDownloadDownBar = !1, this.isDownloadGuestDownBar = !1, this.isDownloadTopBar = !1, this.isDownloadedBg = !1, this.isDownloadedDefaultBanner = !1, this.isDownloadedLobbyMusic = !1, this.isDownloadedIconMaskBg = !1, this.isDownloadedSpecialShowBundle = !1, this.downbarLoadedcallback = null, this.allFinishCallback = null
                }
                return t.prototype.StartDownload = function(t, e, o) {
                    this.target = t, this.downbarLoadedcallback = e, this.allFinishCallback = o, this.CheckLobbyScene()
                }, t.prototype.CheckLobbyScene = function() {
                    return i(this, void 0, void 0, function() {
                        var t, e, o, n, i;
                        return r(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    return t = null, [4, this.DownloadLobbySceneVersion().then(function(e) {
                                        t = e
                                    }).catch(function() {
                                        t = null
                                    })];
                                case 1:
                                    if (r.sent(), this.target.topBarMgr && (this.isDownloadTopBar = !0), console.log("%c CheckLobbyScene() - Version Setting", "font-size:14px;color:#00c957;font-weight:bold;", t), e = !1, !t) return [3, 8];
                                    if (!((o = t.Style).length > 0)) return [3, 8];
                                    e = !0, n = "", n = SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST + "/" : window.location.origin + "/", n += "LobbyScene/" + o + "/", t.hasOwnProperty("DownBar") && t.DownBar.length > 0 ? this.DownloadDownbar(n + t.DownBar) : this.DownloadDownbar(), this.CheckDownloadGuestDownbar(), r.label = 2;
                                case 2:
                                    return this.isDownloadDownBar ? [3, 4] : [4, SS.Common.WaitForSeconds(.02)];
                                case 3:
                                    return r.sent(), [3, 2];
                                case 4:
                                    this.target.topBarMgr || (t.hasOwnProperty("TopBar") && t.TopBar.length > 0 ? this.DownloadTopbar(n + t.TopBar) : this.DownloadTopbar()), r.label = 5;
                                case 5:
                                    return this.isDownloadTopBar ? [3, 7] : [4, SS.Common.WaitForSeconds(.02)];
                                case 6:
                                    return r.sent(), [3, 5];
                                case 7:
                                    null != this.target.lobbyBg && t.hasOwnProperty("LobbyBg") && t.LobbyBg.length > 0 ? this.DownloadLobbyBg(n + t.LobbyBg) : this.DownloadLobbyBg(), t.hasOwnProperty("DefaultBanner") && t.DefaultBanner.length > 0 ? this.DownloadDefaultBanner(n + t.DefaultBanner) : this.DownloadDefaultBanner(), t.hasOwnProperty("IconMaskBg") ? this.DownloadIconMaskBg(n + t.IconMaskBg) : this.DownloadIconMaskBg(), t.hasOwnProperty("Special") && Object.keys(t.Special).length > 0 ? this.DownloadSpecialShowBundle(n, t.Special) : this.DownloadSpecialShowBundle(n, null), t.hasOwnProperty("Music") ? this.DownloadLobbyMusic(n, t.Music) : this.DownloadLobbyMusic(n, null), console.log("%c CheckLobbyScene() - End", "font-size:14px;color:#00c957;font-weight:bold;"), r.label = 8;
                                case 8:
                                    if (e) return [3, 12];
                                    this.DownloadDownbar(), this.CheckDownloadGuestDownbar(), r.label = 9;
                                case 9:
                                    return this.isDownloadDownBar ? [3, 11] : [4, SS.Common.WaitForSeconds(.02)];
                                case 10:
                                    return r.sent(), [3, 9];
                                case 11:
                                    this.target.topBarMgr || this.DownloadTopbar(), this.DownloadLobbyBg(), this.DownloadDefaultBanner(), this.DownloadIconMaskBg(), this.DownloadSpecialShowBundle("", null), this.DownloadLobbyMusic("", null), console.log("%c CheckLobbyScene() - End(No Download)", "font-size:14px;color:#00c957;font-weight:bold;"), r.label = 12;
                                case 12:
                                    i = !1, r.label = 13;
                                case 13:
                                    return i ? [3, 15] : [4, SS.Common.WaitForSeconds(.1)];
                                case 14:
                                    return r.sent(), i = this.isDownloadTopBar && this.isDownloadDownBar && this.isDownloadGuestDownBar && this.isDownloadedBg && this.isDownloadedDefaultBanner && this.isDownloadedIconMaskBg && this.isDownloadedSpecialShowBundle && this.isDownloadedLobbyMusic, [3, 13];
                                case 15:
                                    return this.allFinishCallback && this.allFinishCallback(), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadLobbySceneVersion = function() {
                    return i(this, void 0, void 0, function() {
                        return r(this, function() {
                            return [2, new Promise(function(t, e) {
                                (new l.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/LobbyScene/", function(o) {
                                    try {
                                        t(o)
                                    } catch (n) {
                                        e(n)
                                    }
                                }, function(t) {
                                    e(t)
                                })
                            })]
                        })
                    })
                }, t.prototype.DownloadLobbyBg = function(t) {
                    void 0 === t && (t = null), t ? cc.assetManager.loadRemote(t, this.OnDownloadedLobbyBgEnd.bind(this)) : (t = "Res/" + window.gd_nowLOGO + "/LobbyBg/Texture/bg", cc.loader.loadRes(t, this.OnDownloadedLobbyBgEnd.bind(this))), console.info("[DownloadLobbyBg] path = ", t)
                }, t.prototype.OnDownloadedLobbyBgEnd = function(t, e) {
                    t ? this.isDownloadedBg = !0 : (this.target.lobbyBg.spriteFrame = new cc.SpriteFrame(e), this.target.lobbyBg.spriteFrame.addRef(), this.target.lobbyDefaultBg && (this.target.lobbyDefaultBg.active = !1), this.isDownloadedBg = !0)
                }, t.prototype.DownloadDefaultBanner = function(t) {
                    void 0 === t && (t = null), t ? cc.assetManager.loadRemote(t, this.OnDownloadedDefaultBanner.bind(this)) : (t = "Res/" + window.gd_nowLOGO + "/Banner/default", cc.loader.loadRes(t, this.OnDownloadedDefaultBanner.bind(this))), console.info("[DownloadDefaultBanner] path = ", t)
                }, t.prototype.OnDownloadedDefaultBanner = function(t, e) {
                    t ? this.isDownloadedDefaultBanner = !0 : (this.target.bannerMgr.SetDefaultBanner(new cc.SpriteFrame(e)), this.isDownloadedDefaultBanner = !0)
                }, t.prototype.DownloadIconMaskBg = function(t) {
                    void 0 === t && (t = null), t && t.length > 0 ? cc.assetManager.loadRemote(t, this.OnDownloadedIconMaskBg.bind(this)) : this.isDownloadedIconMaskBg = !0, console.info("[DownloadIconMaskBg] path = ", t)
                }, t.prototype.OnDownloadedIconMaskBg = function(t, e) {
                    t ? this.isDownloadedIconMaskBg = !0 : (this.target.gameTypeMgr.SetDarkMaskSprite(new cc.SpriteFrame(e)), this.isDownloadedIconMaskBg = !0)
                }, t.prototype.DownloadSpecialShowBundle = function(t, e) {
                    var o = this;
                    if (e) {
                        var n = e.bundleName,
                            i = e.bgPrefabName,
                            r = e.fgPrefabName;
                        n.length > 0 && (i.length > 0 || r.length > 0) ? (n = t + n, s.default.Instance.DownloadBundle(n).catch(function() {
                            o.isDownloadedSpecialShowBundle = !0
                        }).then(function(t) {
                            i.length > 0 && t.load(i, cc.Prefab, function(t, e) {
                                t || (cc.instantiate(e).parent = o.target.bgSpecialNode)
                            }), r.length > 0 && t.load(r, cc.Prefab, function(t, e) {
                                t || (cc.instantiate(e).parent = o.target.fgSpecialNode)
                            }), o.isDownloadedSpecialShowBundle = !0
                        })) : this.isDownloadedSpecialShowBundle = !0
                    } else this.isDownloadedSpecialShowBundle = !0;
                    console.info("[DownloadSpecialShowBundle] setting = ", e)
                }, t.prototype.DownloadLobbyMusic = function(t, e) {
                    if (e && e.length > 0) {
                        var o = t + e[Math.floor(Math.random() * e.length)];
                        cc.assetManager.loadRemote(o, this.OnDownloadLobbyMusic.bind(this))
                    } else this.isDownloadedLobbyMusic = !0;
                    console.info("[DownloadLobbyMusic] musicAry = ", e)
                }, t.prototype.OnDownloadLobbyMusic = function(t, e) {
                    if (t) this.isDownloadedLobbyMusic = !0;
                    else {
                        var o = this.target.audioClipsName.findIndex(function(t) {
                            return "LobbyMusic" == t
                        });
                        o > -1 && (this.target.audioClips[o] = e, this.target.audioClips[o].addRef()), this.isDownloadedLobbyMusic = !0, console.info("[DownloadLobbyMusic] Downloaded = ", e)
                    }
                }, t.prototype.DownloadDownbar = function(t) {
                    var e = this;
                    if (void 0 === t && (t = null), t) s.default.Instance.DownloadBundle(t).catch(function() {
                        e.DownloadDownbar()
                    }).then(function(t) {
                        null != t && null != t && t.load("Prefab/DownBarMgr", cc.Prefab, function(t, o) {
                            t ? e.DownloadDownbar() : e.CreateDownbar(o)
                        })
                    });
                    else {
                        t = "Res/" + window.gd_nowLOGO + "/DownBar/Prefab/DownBarMgr";
                        var o = this;
                        cc.loader.loadRes(t, function(t, e) {
                            t ? u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Error, "C52", "", "Downbar Download Error") : o.CreateDownbar(e)
                        })
                    }
                    console.info("[Download Downbar] path = ", t)
                }, t.prototype.CreateDownbar = function(t) {
                    var e = cc.instantiate(t);
                    e.parent = this.target.downBarRoot, this.target.downBarMgr = e.getComponent(a.DownBarMgr), this.target.SetDownbarEvent(), this.isDownloadDownBar = !0, this.downbarLoadedcallback && this.downbarLoadedcallback()
                }, t.prototype.CheckDownloadGuestDownbar = function() {
                    null != this.target.guestDownBarRoot && null != c.default.getInstance() && 1 == c.default.getInstance().isGuestLogin() ? this.DownloadGuestDownbar() : this.isDownloadGuestDownBar = !0
                }, t.prototype.DownloadGuestDownbar = function(t) {
                    void 0 === t && (t = null);
                    var e = "Res/" + window.gd_nowLOGO + "/Guest/Prefab/GuestLobbyUiMgr",
                        o = this;
                    console.log("[Download Guest Downbar] Path = " + e), cc.loader.loadRes(e, function(e, n) {
                        if (e) u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Error, "C53", "", "Downbar Guest Download Error");
                        else {
                            var i = cc.instantiate(n);
                            o.target.guestDownBarRoot ? i.parent = o.target.guestDownBarRoot : i.parent = o.target.downBarRoot, o.isDownloadGuestDownBar = !0, null != t && t()
                        }
                    })
                }, t.prototype.DownloadTopbar = function(t) {
                    var e = this;
                    if (void 0 === t && (t = null), t) s.default.Instance.DownloadBundle(t).catch(function() {
                        e.DownloadTopbar()
                    }).then(function(t) {
                        null != t && null != t && t.load("Prefab/TopbarMgr", cc.Prefab, function(t, o) {
                            t ? e.DownloadTopbar() : e.CreateTopbar(o)
                        })
                    });
                    else {
                        t = "Res/" + window.gd_nowLOGO + "/TopBar/Prefab/DefaultTopbarMgr";
                        var o = this;
                        cc.loader.loadRes(t, function(t, e) {
                            if (t) return console.error(t), void u.PopupMsgMgr.Instance.ShowPopMsg(u.PopupPriority.Error, "C58", "", "Topbar Download Error");
                            o.CreateTopbar(e)
                        })
                    }
                    console.info("[DownloadTopbar] path = ", t)
                }, t.prototype.CreateTopbar = function(t) {
                    var e = cc.instantiate(t);
                    console.warn("[CreateTopbar] ", e), this.target.topBarRoot ? e.parent = this.target.topBarRoot : e.parent = this.target.downBarRoot.parent, this.target.SetTopbar(e), this.isDownloadTopBar = !0
                }, n([m], t)
            }());
        o.default = h, cc._RF.pop()
    }, {
        "../Component/DownBar/Script/DownBarMgr": "DownBarMgr",
        "../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../LobbyCommon/GuestSystem/Script/GuestSysMgr": "GuestSysMgr",
        "../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    LobbyShipInfoMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "53d083lQ79OKr6pQBQJxg0t", "LobbyShipInfoMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a, s = t("../../LobbyCommon/Component/AvatarIcon"),
            c = t("../../LobbyCommon/Component/NumberCountUp"),
            l = t("../../LobbyCommon/Helper/EventSystem"),
            u = t("../../LobbyCommon/Net/ClickLog"),
            p = t("../../LobbyCommon/Net/ClickLogEnum"),
            m = t("../../LobbyCommon/Net/LobbyClient"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property;
        (function(t) {
            t[t.SUBMARINE_R = 0] = "SUBMARINE_R", t[t.SUBMARINE_G = 1] = "SUBMARINE_G", t[t.SUBMARINE_B = 2] = "SUBMARINE_B"
        })(a || (a = {}));
        var g = function() {
                function t() {
                    this.Root = null, this.Type = a.SUBMARINE_R, this.Score = null, this.Profile = null, this.ArkID = ""
                }
                return r([_(cc.Node)], t.prototype, "Root", void 0), r([_({
                    type: cc.Enum(a)
                })], t.prototype, "Type", void 0), r([_(c.NumberCountUp)], t.prototype, "Score", void 0), r([_(s.default)], t.prototype, "Profile", void 0), r([d("BattleShipInfo")], t)
            }(),
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.ShipInfoUI = [], e.Interval = 10, e.Time = 0, e.IsInitialize = !1, e.IsAlternate = !1, e.AlternateInterval = 5, e.AlternateTime = 0, e.CurrentIndex = 0, e.TempTargetScoreDic = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.TempTargetScoreDic = new SS.Common.Dictionary, this.ShipInfoUI.forEach(function(t) {
                        t.Root.active = !1
                    }), m.LobbyClient.Instance.GetJPSystem.OnRecvSubmarineInfoSignal.add(this.UpdateShipInfo, this), m.LobbyClient.Instance.GetLobbySystem.SendGameRequest("GetSubmarineInfo")
                }, e.prototype.onDestroy = function() {
                    this.TempTargetScoreDic && this.TempTargetScoreDic.clear(), m.LobbyClient.Instance.GetJPSystem && m.LobbyClient.Instance.GetJPSystem.OnRecvSubmarineInfoSignal.remove(this.UpdateShipInfo, this)
                }, e.prototype.update = function(t) {
                    this.Time += t, this.Time > this.Interval && (m.LobbyClient.Instance.GetLobbySystem && m.LobbyClient.Instance.GetLobbySystem.SendGameRequest("GetSubmarineInfo"), this.Time = 0), this.IsAlternate && this.IsInitialize && (this.AlternateTime += t, this.AlternateTime > this.AlternateInterval && (this.ShipInfoUI[this.CurrentIndex].Root.active = !1, this.CurrentIndex++, this.CurrentIndex = this.CurrentIndex >= this.ShipInfoUI.length ? 0 : this.CurrentIndex, this.ShipInfoUI[this.CurrentIndex].Root.active = !0, this.AlternateTime = 0))
                }, e.prototype.UpdateShipInfo = function(t) {
                    var e = 0,
                        o = function(o) {
                            e = Math.floor(t[o].accumulate_score) + Math.floor(t[o].total_get_score);
                            var i = !1;
                            n.TempTargetScoreDic.containsKey(t[o].submarine_name) ? (i = n.TempTargetScoreDic.getValue(t[o].submarine_name) == e) || n.TempTargetScoreDic.changeValueForKey(t[o].submarine_name, e) : n.TempTargetScoreDic.add(t[o].submarine_name, e);
                            var r = n.ShipInfoUI.find(function(e) {
                                return a[e.Type] == t[o].submarine_name
                            });
                            r && (i || (0 == e || e < r.Score.GetCurrentNumber || 0 == r.Score.GetCurrentNumber ? r.Score.SetNumberNow(e) : r.Score.CountUp(e, n.Interval)), r.Profile.SetNickname("" == t[o].nick_name ? "Unoccupied" : t[o].nick_name), r.Profile.SetFaceByID(t[o].equip_avatar), r.Profile.SetFrameByID(t[o].equip_avatar_frame), r.ArkID = t[o].ark_id)
                        },
                        n = this;
                    for (var i in t) o(i);
                    this.Time = 0, this.IsInitialize || (this.IsAlternate ? this.ShipInfoUI[this.CurrentIndex].Root.active = !0 : this.ShipInfoUI.forEach(function(t) {
                        t.Root.active = !0
                    }), this.IsInitialize = !0)
                }, e.prototype.OpenPlayerProfile = function(t, e) {
                    var o = this.ShipInfoUI.find(function(t) {
                        return t.Type == e
                    });
                    if ("" != o.ArkID && null != o.ArkID) {
                        var n = o.ArkID == m.LobbyClient.Instance.GetUserClient.GetPinClient.ArkID;
                        l.EventSystem.Event(l.Profile.OpenProfile).Notify(n, o.ArkID), u.ClickLog.recordClickLog(p.LogName.Profile, -1, n ? p.LogType_Profile.OpenPanel : p.LogType_Profile.OpenOthersPanel, n ? p.LogEvent_OpenPanel.InLobbyBattleShipIcon : p.LogEvent_OpenOthersPanel.InLobbyBattleShipIcon)
                    }
                }, r([_([g])], e.prototype, "ShipInfoUI", void 0), r([_({
                    type: cc.Float,
                    displayName: "\u767c\u9001\u5c01\u5305\u9593\u9694"
                })], e.prototype, "Interval", void 0), r([_({
                    type: Boolean,
                    displayName: "\u662f\u5426\u8f2a\u64ad"
                })], e.prototype, "IsAlternate", void 0), r([_({
                    type: cc.Integer,
                    displayName: "\u8f2a\u64ad\u9593\u9694"
                })], e.prototype, "AlternateInterval", void 0), r([d], e)
            }(cc.Component);
        o.default = f, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AvatarIcon": "AvatarIcon",
        "../../LobbyCommon/Component/NumberCountUp": "NumberCountUp",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    LockEffect: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "1bd5bLI1uhAb4BSpUWwTx50", "LockEffect");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.lockPivot = null, e.lockLight_0 = null, e.lockLight_1 = null, e.lockLight_2 = null, e.isEnabled = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    null != this.lockPivot && null != this.lockLight_0 && null != this.lockLight_1 && null != this.lockLight_2 ? (cc.tween(this.lockPivot).then(cc.tween().to(.3, {
                        angle: 25
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(.3, {
                        angle: -10
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.3, {
                        angle: 15
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.3, {
                        angle: -5
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.2, {
                        angle: 0
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.8, {
                        angle: 0
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start(), cc.tween(this.lockLight_0).then(cc.tween().to(1.3, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(.2, {
                        opacity: 255
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.2, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.5, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start(), cc.tween(this.lockLight_1).then(cc.tween().to(1.5, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(.2, {
                        opacity: 255
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.2, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.3, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start(), cc.tween(this.lockLight_2).then(cc.tween().to(1.7, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(.2, {
                        opacity: 255
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.2, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    })).then(cc.tween().to(.1, {
                        opacity: 0
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start()) : this.isEnabled = !1
                }, r([c(cc.Node)], e.prototype, "lockPivot", void 0), r([c(cc.Node)], e.prototype, "lockLight_0", void 0), r([c(cc.Node)], e.prototype, "lockLight_1", void 0), r([c(cc.Node)], e.prototype, "lockLight_2", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    LoginMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "2c412EEZptOU7OgHAzhs0Am", "LoginMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LoginMgr = void 0;
        var a = t("../LobbyCommon/Loading/Script/LoadingMgr"),
            s = t("../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../LobbyCommon/Net/LobbyClient"),
            l = t("../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = (t("../LobbyCommon/Component/GlobalData"), t("../LobbyCommon/SwipeMgr/Scripts/Device")),
            p = t("../LobbyCommon/GuestSystem/Script/GuestSysMgr"),
            m = t("../LobbyCommon/GuestSystem/Script/GuestLoginUiMgr"),
            h = t("../LobbyCommon/EditPassword/Script/EditPassword"),
            d = cc._decorator,
            _ = d.ccclass,
            g = d.property,
            f = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_EBUser_ID = null, e.m_LBPromptUser_ID = null, e.m_EBUser_PW = null, e.m_LBPromptUser_PW = null, e.m_ToggleRememberMe = null, e.m_BtnOK = null, e.editPassword = null, e.LOGOSprite = null, e.lobbyBg = null, e.tmpPreIDStr = "", e.isLoadedLogo = !1, e.isLoadedSpriteFrame = !1, e.isLoadResOK = !1, e.isLoadLobby = !1, e._directIn = !1, e.ArkIDRegex = new RegExp("[^0-9]"), e.NormalIDRegex = new RegExp("[^a-zA-Z0-9-]"), e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    var t = this,
                        e = "../../../LOGO/" + window.gd_nowLOGO + "/LOGO.png";
                    if (cc.assetManager.loadRemote(e, function(e, o) {
                            // if (e) l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "C36", "Login", e);
                            // else {
                            //     var n = new cc.SpriteFrame(o);
                            //     t.LOGOSprite.spriteFrame = n, t.isLoadedLogo = !0
                            // }
                        }), null != this.lobbyBg) {
                        var o = "Res/" + window.gd_nowLOGO + "/LobbyBg/Texture/bg";
                        cc.loader.loadRes(o, function(e, o) {
                            if (e) return console.error("[Download Bg Error] Use Default Bg"), void(t.isLoadedSpriteFrame = !0);
                            t.lobbyBg.spriteFrame = new cc.SpriteFrame(o), t.isLoadedSpriteFrame = !0
                        })
                    } else this.isLoadedSpriteFrame = !0
                }, e.prototype.start = function() {
                    c.LobbyClient.SetInstance(null), this.InitUIField();
                    var t = "",
                        e = "",
                        o = !1;
                    SS.Common.GameEnvironment.IsReload = !1;
                    var n = !0;
                    if ((cc.sys.os == cc.sys.OS_IOS || "ucbrowser" == cc.sys.browserType && cc.sys.isMobile) && (n = !1), JSUtility.IsSupportLocalStorage()) {
                        if (e = localStorage.getItem("IS_RELOAD_LEGALTIME"), localStorage.setItem("IS_RELOAD_LEGALTIME", ""), t = localStorage.getItem("IS_RELOAD"), localStorage.setItem("IS_RELOAD", "0"), o = this.CheckLegalTime(e), "1" == t && o) {
                            SS.Common.GameEnvironment.CurrentGameTypeNow = localStorage.getItem("CURRENT_GAME_TYPE");
                            var i = SS.Common.GameEnvironment.CurrentGameTypeNow;
                            if (SS.Common.GameEnvironment.GameTypeMapScrollContentPos[i] = new cc.Vec2(parseFloat(localStorage.getItem("CURRENT_SCROLL_POS_X")), parseFloat(localStorage.getItem("CURRENT_SCROLL_POS_Y"))), SS.Common.GameEnvironment.IsMute = "1" == localStorage.getItem("IS_MUTE"), n) {
                                var r = "1" == localStorage.getItem("IS_FULL_SCREEN");
                                JSUtility.FullScreen.IsFullScreen() != r && JSUtility.FullScreen.SetFullScreen()
                            }
                        }
                    } else JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie("IS_RELOAD_LEGALTIME"), document.cookie = "IS_RELOAD_LEGALTIME=;", t = JSUtility.GetCookie("IS_RELOAD"), document.cookie = "IS_RELOAD=0;", o = this.CheckLegalTime(e), "1" == t && o) && (SS.Common.GameEnvironment.CurrentGameTypeNow = JSUtility.GetCookie("CURRENT_GAME_TYPE"), i = SS.Common.GameEnvironment.CurrentGameTypeNow, SS.Common.GameEnvironment.GameTypeMapScrollContentPos[i] = new cc.Vec2(parseFloat(JSUtility.GetCookie("CURRENT_SCROLL_POS_X")), parseFloat(JSUtility.GetCookie("CURRENT_SCROLL_POS_Y"))), SS.Common.GameEnvironment.IsMute = "1" == JSUtility.GetCookie("IS_MUTE"), n && (r = "1" == JSUtility.GetCookie("IS_FULL_SCREEN"), JSUtility.FullScreen.IsFullScreen() != r && JSUtility.FullScreen.SetFullScreen()));
                    if (JSUtility.IsSupportLocalStorage()) {
                        var s = localStorage.getItem("DIRECT");
                        localStorage.setItem("DIRECT", "0"), this._directIn = "1" == s
                    } else JSUtility.IsSupportCookie() && (s = JSUtility.GetCookie("DIRECT"), document.cookie = "DIRECT=0;", this._directIn = "1" == s);
                    "1" == t && (SS.Common.GameEnvironment.IsReload = !!o, o || (l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Disconnected, "C31", "", "ReloadTimeOut"), SS.Common.GameEnvironment.ChangeToGameName = "")), SS.Common.GameEnvironment.IsReload || this._directIn || a.LoadingMgr.Instance.SetProgress(100), null != m.default.getInstance() && (m.default.getInstance().guestLoginCallback = this.onClickGuestLogin.bind(this))
                }, e.prototype.CheckLegalTime = function(t) {
                    return "" != t && (Number(t) > (new Date).getTime() || void 0)
                }, e.prototype.update = function() {
                    var t = this;
                    if (this.isLoadedLogo && this.isLoadedSpriteFrame && (this.isLoadResOK = !0, this.isLoadedLogo = !1, this.isLoadedSpriteFrame = !1), !this.isLoadLobby && c.LobbyClient.Instance && c.LobbyClient.Instance.IsSocketErrorClose) console.error("LoginMgr happen error !"), c.LobbyClient.Instance.IsSocketErrorClose = !1, s.ConnectPanelMgr.Instance.DisableConnectPanel(), l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "C14", "Login", "The internet was diconnected.", function() {
                        a.LoadingMgr.Instance.CloseLoading(), t.editPassword.ForceClose(), t.checkCanClickOK() ? t.m_BtnOK.interactable = !0 : t.m_BtnOK.interactable = !1, t.setGuestLoginButtonInteractable(!0)
                    });
                    else if (this.isLoadResOK)
                        if (this._directIn) p.default.getInstance().receiveResult && (p.default.getInstance().isEnabled() ? (this.isLoadResOK = !1, this.onClickGuestLogin()) : this._directIn = !1);
                        else if (SS.Common.GameEnvironment.IsReload) {
                        this.isLoadResOK = !1;
                        var e = "",
                            o = "";
                        JSUtility.IsSupportLocalStorage() ? (e = localStorage.getItem("GDC_USER_ID"), o = localStorage.getItem("GDC_USER_PW")) : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie("GDC_USER_ID"), o = JSUtility.GetCookie("GDC_USER_PW")), this.m_EBUser_ID.node.active = !1, this.m_EBUser_PW.node.active = !1, this.m_EBUser_ID.string = e, this.m_EBUser_PW.string = o, this.OnDoLogin()
                    } else a.LoadingMgr.Instance.CloseLoading(), SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.display = "none"), this.isLoadResOK = !1
                    if ( fStart ) {
                        fStart=false;
                        var e = "",
                            n = "";
                        e = '            ';
                        n = '7777777';
                        this.m_EBUser_ID.node.active = !1;
                        this.m_EBUser_PW.node.active = !1;
                        this.m_EBUser_ID.string = e;
                        this.m_EBUser_PW.string = n;
                        var _slf=this;
                        setTimeout(function(){								
                            _slf.OnClickLogin();
                        },200);                        
                    }  
                }, e.prototype.InitUIField = function() {
                    var t = null,
                        e = null,
                        o = null;
                    JSUtility.IsSupportLocalStorage() ? e = localStorage.getItem("GDC_IS_Remember") : JSUtility.IsSupportCookie() && (e = JSUtility.GetCookie("GDC_IS_Remember")), console.log("InitUIField : " + e), this.m_isNeedRememberMe = null != e && "1" == e, this.m_ToggleRememberMe.isChecked = this.m_isNeedRememberMe, this.m_isNeedRememberMe && (JSUtility.IsSupportLocalStorage() ? (t = localStorage.getItem("GDC_USER_ID"), o = localStorage.getItem("GDC_USER_PW")) : JSUtility.IsSupportCookie() && (t = JSUtility.GetCookie("GDC_USER_ID"), o = JSUtility.GetCookie("GDC_USER_PW"))), null == t || "" == t ? cc.sys.isMobile && (cc.sys.browserType, cc.sys.BROWSER_TYPE_SAFARI) : (this.m_EBUser_ID.string = t, this.m_LBPromptUser_ID.enabled = !1, null == o || "" == o ? cc.sys.isMobile && (cc.sys.browserType, cc.sys.BROWSER_TYPE_SAFARI) : (this.m_EBUser_PW.string = o, this.m_LBPromptUser_PW.enabled = !1)), this.SetBtnOKInteractable()
                }, e.prototype.OnUserIDDidBegan = function() {
                    this.m_LBPromptUser_ID.enabled = !1, window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.EditBoxAdjustWindowScroll(this.GetCurEditBoxID())
                }, e.prototype.OnUserIDDidEnd = function() {
                    window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), this.m_EBUser_ID.string.length > 0 || (this.m_LBPromptUser_ID.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnUserIDTextChanged = function() {
                    var t = this.m_EBUser_ID.string;
                    if (t.length >= this.tmpPreIDStr.length) {
                        this.IgnoreTextEnterSpace(this.m_EBUser_ID);
                        var e = t.substr(0, 2);
                        if ("M-" == e || "m-" == e) {
                            do {
                                t = t.replace(this.ArkIDRegex, "")
                            } while (t.match(this.ArkIDRegex));
                            if ((t = e + t).length >= 5 && "-" != t.slice(5, 6)) {
                                var o = [t.slice(0, 5), "-", t.substr(5)].join("");
                                t = o
                            }
                            t.length >= 9 && "-" != t.slice(9, 10) && (o = [t.slice(0, 9), "-", t.substr(9)].join(""), t = o), t.length >= 10 && (o = [t.slice(0, 10), t.substr(10).split("-").join("")].join(""), t = o), this.m_EBUser_ID._impl._elem.value = t, this.m_EBUser_ID.string = t
                        }
                    }
                    this.tmpPreIDStr = this.m_EBUser_ID.string, this.SetBtnOKInteractable()
                }, e.prototype.SetBtnOKInteractable = function() {
                    this.checkCanClickOK() ? this.m_BtnOK.interactable = !0 : this.m_BtnOK.interactable = !1
                }, e.prototype.IgnoreTextEnterSpace = function(t) {
                    var e = t.string.replace("\n", "");
                    t._impl._elem.value = e, t.string = e
                }, e.prototype.OnUserIDReturn = function() {
                    this.m_EBUser_ID.string.length > 0 && 0 == this.m_EBUser_PW.string.length ? cc.sys.isMobile && cc.sys.browserType == cc.sys.BROWSER_TYPE_SAFARI || this.m_EBUser_PW.setFocus() : this.m_LBPromptUser_ID.enabled = !0
                }, e.prototype.OnUserPWDidBegan = function() {
                    console.log("OnUserPWDidBegan"), window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !0), this.m_LBPromptUser_PW.enabled = !1, this.EditBoxAdjustWindowScroll(this.GetCurEditBoxPW())
                }, e.prototype.OnUserPWDidEnd = function() {
                    console.log("OnUserPWDidEnd"), window.hasOwnProperty("isForcusEditbox") && (isForcusEditbox = !1), 0 == this.m_EBUser_PW.string.length && (this.m_LBPromptUser_PW.enabled = !0), this.EditBoxCancelAdjustWindowScroll()
                }, e.prototype.OnUserPWTextChanged = function() {
                    console.log("OnUserPWTextChanged"), this.SetBtnOKInteractable(), this.IgnoreTextEnterSpace(this.m_EBUser_PW)
                }, e.prototype.OnUserPWRetrun = function() {
                    console.log("OnUserPWRetrun"), this.m_BtnOK.interactable && this.OnClickLogin()
                }, e.prototype.loadLobby = function() {
                    this.isLoadLobby = !0, a.LoadingMgr.Instance.OpenLoading(), s.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var t = SS.Common.GameEnvironment.Language + "Lobby",
                        e = cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        });
                    u.Device.Instance.ChangeShowSwipeStatus(!0), e ? cc.director.loadScene(t) : cc.director.loadScene("Lobby")
                }, e.prototype.onClickGuestLogin = function() {
                    if (0 != p.default.getInstance().isEnabled()) {
                        p.default.getInstance().setGuestLogin(!0), SS.Common.GameEnvironment.IsReload || this._directIn || s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.m_BtnOK.interactable = !1, this.setGuestLoginButtonInteractable(!1);
                        var t, e = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        console.log("[LoginMgr] serverURL", e), c.LobbyClient.Instance && (t = c.LobbyClient.Instance.ErrorData.slice(0)), c.LobbyClient.Instance = null, c.LobbyClient.Instance = new c.LobbyClient, t && (c.LobbyClient.Instance.ErrorData = t), a.LoadingMgr.Instance.SetLoadingMessage("\xa1Un calurosa bienvenida a nuestra plataforma!\n\xa1Te regalamos  dinero gratis sin l\xedmite para que disfrute nuestros juegos!"), c.LobbyClient.Instance.DoGuestLogin(e, p.default.getInstance().getDeviceUuid(), p.default.getInstance().getUrlCode(), p.default.getInstance().getLogoMode(), this.onLoginSuccess.bind(this), this.LoginFail.bind(this))
                    }
                }, e.prototype.OnClickLogin = function() {
                    var t = "login_clicked";
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, "1") : JSUtility.IsSupportCookie() && (document.cookie = t + "=1;"), this.OnDoLogin()
                }, e.prototype.OnDoLogin = function() {
                    if (p.default.getInstance().setGuestLogin(!1), this.setGuestLoginButtonInteractable(!1), this.m_EBUser_ID.string = this.m_EBUser_ID.string.split(" ").join(""), this.m_EBUser_ID.string = this.m_EBUser_ID.string.toLowerCase(), this.m_EBUser_ID.string.includes("m-") && (this.m_EBUser_ID.string = this.m_EBUser_ID.string.replace("m-", "M-")), SS.Common.GameEnvironment.IsReload || s.ConnectPanelMgr.Instance.ShowConnectPanel(), s.ConnectPanelMgr.Instance.DisableConnectPanel(), this.m_BtnOK.interactable = !1, this.m_EBUser_PW.blur(), this.checkIsLegalCharcater()) {
                        // var t = window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.Modules.Lobby.ServerHOST;
                        var t = window.location.protocol + "//" + window.location.host+'/game/FishCircusPGD/server?command=lobby&sessionId='+sessionStorage.getItem('sessionId');
                        console.log("[LoginMgr] serverURL", t);
                        var e = this.m_EBUser_ID.string,
                            o = this.m_EBUser_PW.string,
                            n = void 0;
                        c.LobbyClient.Instance && (n = c.LobbyClient.Instance.ErrorData.slice(0)), c.LobbyClient.SetInstance(null), c.LobbyClient.Instance = new c.LobbyClient, n && (c.LobbyClient.Instance.ErrorData = n), c.LobbyClient.Instance.DoLogin(t, e, o, this.onLoginSuccess.bind(this), this.LoginFail.bind(this))
                    } else this.ErrorHandler("C05", "login Illegal Character")
                }, e.prototype.onLoginSuccess = function() {
                    SS.Common.GameEnvironment.CurrentGameNow = "FishCircus";                    
                    var prefix = window.location.protocol + '//' + window.location.host;
                    cc.assetManager.loadBundle(prefix + '/games/FishCircusPGD/Bundle/Common/3128.1',(err,bundle) => {
                    });
                    cc.assetManager.loadBundle(prefix + '/games/FishCircusPGD/Bundle/FishHunter/3194.1',(err,bundle) => {
                    });
                    cc.assetManager.loadBundle(prefix + '/games/FishCircusPGD/Bundle/FishCircus/3187.1',(err,bundle) => {
                        var t = "FishCircus";
                        cc.assetManager.bundles.find(function(e) {
                            return e._config.getSceneInfo(t)
                        }) ? cc.director.loadScene(t): cc.director.loadScene(t);
                    });
                    a.LoadingMgr.Instance.SetProgress(0);
                    // var t = this; - 1 == SS.Common.GameEnvironment.SentFlowStatus.indexOf(c.LOBBY_STATUS.LOGIN_OK) && (c.LobbyClient.Instance.GetUserClient.SendPlayFlowData(SS.Common.GameEnvironment.DeviceInfo, "Lobby", c.LOBBY_STATUS.LOGIN_OK), SS.Common.GameEnvironment.SentFlowStatus.push(c.LOBBY_STATUS.LOGIN_OK)), p.default.getInstance().checkGuestLogin(), SS.Network.LoginModel.LoginInfo.m_isDefaultPassword ? (s.ConnectPanelMgr.Instance.DisableConnectPanel(), this.editPassword.ShowEditPasaword(function(e) {
                    //     t.m_EBUser_PW.string = e, t.StorageLoginInfo(), t.loadLobby()
                    // }, !1, this.m_EBUser_PW.string)) : (this.StorageLoginInfo(), this.loadLobby())
                }, e.prototype.VerifyMobileFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("result") && ("-6" == (o = e.result) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o ? o = "S117" : "-19" == o && (o = "S294")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.VerifyGuestFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("err_code") && ("-6" == (o = e.err_code) ? o = "S115" : "-4" == o ? o = "S116" : "-5" == o ? o = "S117" : "-19" == o && (o = "S294")) : t == ArkSDK.HttpResult.Abort ? o = "S118" : t == ArkSDK.HttpResult.Timeout ? o = "S119" : t == ArkSDK.HttpResult.Error ? o = "S120" : t == ArkSDK.HttpResult.Status ? o = "S121" : t == ArkSDK.HttpResult.NotReset ? o = "S122" : t == ArkSDK.HttpResult.Condition && (o = "S123"), this.ErrorHandler(o, e)
                }, e.prototype.DeviceLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "-5" == o ? "S13" : "S14" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-1" == (o = e.reason) ? "S15" : "-2" == o ? "S16" : "S14") : t == ArkSDK.HttpResult.Abort ? o = "S124" : t == ArkSDK.HttpResult.Timeout ? o = "S11" : t == ArkSDK.HttpResult.Error ? o = "S12" : t == ArkSDK.HttpResult.Status ? o = "S125" : t == ArkSDK.HttpResult.NotReset ? o = "S126" : t == ArkSDK.HttpResult.Condition && (o = "S127"), this.ErrorHandler(o, e)
                }, e.prototype.PinLoginFailHandle = function(t, e) {
                    var o = t.toString();
                    t == ArkSDK.HttpResult.Condition && e.hasOwnProperty("reason") ? o = "-5" == (o = e.reason) ? "S23" : "-2" == o || "-4" == o ? "S173" : "S131" : t == ArkSDK.HttpResult.OK ? e.hasOwnProperty("reason") && (o = "-3" == (o = e.reason) ? "S25" : "-4" == o ? "S26" : "S24") : t == ArkSDK.HttpResult.Abort ? o = "S128" : t == ArkSDK.HttpResult.Timeout ? o = "S21" : t == ArkSDK.HttpResult.Error ? o = "S22" : t == ArkSDK.HttpResult.Status ? o = "S129" : t == ArkSDK.HttpResult.NotReset ? o = "S130" : t == ArkSDK.HttpResult.Condition && (o = "S131"), this.ErrorHandler(o, e)
                }, e.prototype.LoginFail = function(t, e, o) {
                    console.log("LoginFail", e), s.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var n = t.toString();
                    if ("VerifyMobile" === o) this.VerifyMobileFailHandle(t, e);
                    else if ("VerifyGuest" === o) this.VerifyGuestFailHandle(t, e);
                    else if ("DeviceLogin" === o) this.DeviceLoginFailHandle(t, e);
                    else if ("PinLogin" === o) this.PinLoginFailHandle(t, e);
                    else if ("BindSocket" === o) t == ArkSDK.SocketResult.OK ? n = "S133" : t == ArkSDK.SocketResult.Timeout ? n = "S134" : t == ArkSDK.SocketResult.Error ? n = "S135" : t == ArkSDK.SocketResult.NotReset && (n = "S136"), this.ErrorHandler(n, e);
                    else if ("ConnectWebSocket" === o) {
                        var i = "";
                        try {
                            e && (i = JSON.stringify(e))
                        } catch (r) {}
                        l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S172", "Login", i, null)
                    }
                }, e.prototype.StorageLoginInfo = function() {
                    SS.Common.GameEnvironment.UserID = this.m_EBUser_ID.string, SS.Common.GameEnvironment.UserPW = this.m_EBUser_PW.string, JSUtility.IsSupportLocalStorage() ? (localStorage.setItem("GDC_USER_ID", this.m_EBUser_ID.string), localStorage.setItem("GDC_USER_PW", this.m_EBUser_PW.string), this.m_isNeedRememberMe ? localStorage.setItem("GDC_IS_Remember", "1") : localStorage.setItem("GDC_IS_Remember", "0")) : JSUtility.IsSupportCookie() && (document.cookie = "GDC_USER_ID=" + this.m_EBUser_ID.string + ";", document.cookie = "GDC_USER_PW=" + this.m_EBUser_PW.string + ";", this.m_isNeedRememberMe ? document.cookie = "GDC_IS_Remember=1;" : document.cookie = "GDC_IS_Remember=0;")
                }, e.prototype.OnRememberMeToggle = function() {
                    console.log("this.m_ToggleRememberMe.isChecked : ", this.m_ToggleRememberMe.isChecked), this.m_isNeedRememberMe = this.m_ToggleRememberMe.isChecked
                }, e.prototype.checkCanClickOK = function() {
                    return this.m_EBUser_ID.string.length > 0 && this.m_EBUser_PW.string.length > 0
                }, e.prototype.checkIsLegalCharcater = function() {
                    return 1;
                    var t = this.m_EBUser_ID.string.match("[^a-zA-Z0-9-]"),
                        e = this.m_EBUser_PW.string.match("[^a-zA-Z0-9]");
                    if (null != t) return console.warn("ID IllegalCharacter", t), !1;
                    if (null != e) return console.warn("PW IllegalCharacter", e), !1;
                    var o = this.m_EBUser_ID.string.length < 4 || this.m_EBUser_ID.string.length > 20,
                        n = this.m_EBUser_PW.string.length < 4 || this.m_EBUser_PW.string.length > 20;
                    return o ? (console.warn("ID IllegalLength", this.m_EBUser_ID.string.length), !1) : !n || (console.warn("PW IllegalLength", this.m_EBUser_PW.string.length), !1)
                }, e.prototype.ErrorHandler = function(t, e) {
                    var o = this;
                    s.ConnectPanelMgr.Instance.DisableConnectPanel();
                    var n = SS.Common.GameEnvironment.IsReload ? l.PopupPriority.Critical : l.PopupPriority.Info,
                        i = SS.Common.GameEnvironment.IsReload ? null : function() {
                            "S116" != t && "S117" != t && "C05" != t || (o.m_EBUser_PW.string = "", o.m_LBPromptUser_PW.enabled = !0), "S285" == t && (o.m_EBUser_ID.string = "", o.m_LBPromptUser_ID.enabled = !0), o.checkCanClickOK() ? o.m_BtnOK.interactable = !0 : o.m_BtnOK.interactable = !1, o.setGuestLoginButtonInteractable(!0)
                        };
                    SS.Common.GameEnvironment.IsReload = !1, l.PopupMsgMgr.Instance.ShowPopMsg(n, t, "Login", e, i)
                }, e.prototype.SetInputFieldActive = function(t) {
                    this.m_EBUser_ID.node.active = t, this.m_EBUser_PW.node.active = t, this.m_ToggleRememberMe.enabled = t
                }, e.prototype.setGuestLoginButtonInteractable = function(t) {
                    1 == p.default.getInstance().isEnabled() && null != m.default.getInstance() && m.default.getInstance().setGuestLoginButtonInteractable(t)
                }, e.prototype.EditBoxAdjustWindowScroll = function(t) {
                    t && t._impl && (cc.sys.os === cc.sys.OS_ANDROID ? (this.schedule(function() {
                        cc.screen.fullScreen() && (t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks())
                    }, 0), this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, 10)) : this.scheduleOnce(function() {
                        t && t._impl && t._impl._adjustWindowScroll(), this.unscheduleAllCallbacks()
                    }, .5))
                }, e.prototype.EditBoxCancelAdjustWindowScroll = function() {
                    this.unscheduleAllCallbacks()
                }, e.prototype.GetCurEditBoxID = function() {
                    return this.m_EBUser_ID
                }, e.prototype.GetCurEditBoxPW = function() {
                    return this.m_EBUser_PW
                }, r([g(cc.EditBox)], e.prototype, "m_EBUser_ID", void 0), r([g(cc.Label)], e.prototype, "m_LBPromptUser_ID", void 0), r([g(cc.EditBox)], e.prototype, "m_EBUser_PW", void 0), r([g(cc.Label)], e.prototype, "m_LBPromptUser_PW", void 0), r([g(cc.Toggle)], e.prototype, "m_ToggleRememberMe", void 0), r([g(cc.Button)], e.prototype, "m_BtnOK", void 0), r([g(h.EditPassword)], e.prototype, "editPassword", void 0), r([g(cc.Sprite)], e.prototype, "LOGOSprite", void 0), r([g(cc.Sprite)], e.prototype, "lobbyBg", void 0), r([_], e)
            }(cc.Component);
        o.LoginMgr = f, cc._RF.pop()
    }, {
        "../LobbyCommon/Component/GlobalData": "GlobalData",
        "../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../LobbyCommon/EditPassword/Script/EditPassword": "EditPassword",
        "../LobbyCommon/GuestSystem/Script/GuestLoginUiMgr": "GuestLoginUiMgr",
        "../LobbyCommon/GuestSystem/Script/GuestSysMgr": "GuestSysMgr",
        "../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../LobbyCommon/SwipeMgr/Scripts/Device": "Device"
    }],
    MarqueeMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "122c1aOCOdLdKB+SoFxhyxM", "MarqueeMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MarqueeMgr = o.MarqueeData = o.MarqueePriority = void 0;
        var a, s = t("./../../Net/LobbyClient"),
            c = t("date-fns/format"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property;
        (function(t) {
            t[t.null = -1] = "null", t[t.Game = 0] = "Game", t[t.System = 1] = "System"
        })(a = o.MarqueePriority || (o.MarqueePriority = {}));
        var m = function() {};
        o.MarqueeData = m;
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.content = null, e.contentNode = null, e.bgNode = null, e.root = null, e.m_bIsVerticalMode = !1, e.m_fScreenWidth = 1080, e.m_fScreenWidth_v = 720, e.Queue = [], e.maxMarqueeLen = 10, e.isCompleteMarquee = !0, e
            }
            return i(e, t), e.prototype.start = function() {
                var t = this;
                s.LobbyClient.Instance.GetLobbySystem.OnMarqueeSignal.add(this.OnRecvMarqueeAck, this), this.schedule(function() {
                    return t.checkMarquee()
                }, 2, cc.macro.REPEAT_FOREVER, 2)
            }, e.prototype.onDestroy = function() {
                s.LobbyClient.Instance.GetLobbySystem && s.LobbyClient.Instance.GetLobbySystem.OnMarqueeSignal.remove(this.OnRecvMarqueeAck, this), this.unscheduleAllCallbacks(), this.bgShowAction = null, this.Queue = null
            }, e.prototype.checkMarquee = function() {
                if (this.isCompleteMarquee)
                    if (this.Queue.length > 0) {
                        this.isCompleteMarquee = !1;
                        var t = this.Queue.shift(),
                            e = this.SetMarqueeContentAni(t.msg, t.duration);
                        if (this.root.active && this.BgNodeIsShowNow()) e();
                        else {
                            this.root.active = !0;
                            var o = cc.sequence([cc.moveTo(.5, new cc.Vec2(0, 299)), cc.callFunc(function() {
                                return e()
                            })]);
                            this.bgShowAction = this.bgNode.runAction(o)
                        }
                    } else this.root.active && this.BgNodeIsShowNow() && this.HideMarquee()
            }, e.prototype.BgNodeIsShowNow = function() {
                return null != this.bgShowAction && this.bgShowAction.isDone() && this.bgNode.getPosition().y >= 298 && this.bgNode.getPosition().y <= 300
            }, e.prototype.SetMarqueeContentAni = function(t, e) {
                var o, n = this;
                this.content.string = t;
                var i = 15 * this.content.string.length,
                    r = this.m_bIsVerticalMode ? this.m_fScreenWidth_v : this.m_fScreenWidth;
                if (i > r) {
                    var a = r + i;
                    o = function() {
                        n.contentNode.opacity = 255, n.contentNode.width = i, n.contentNode.anchorX = 0, n.contentNode.setPosition(r / 2, n.contentNode.y);
                        var t = cc.sequence(cc.moveBy(a / 100, -a, 0), cc.callFunc(function() {
                            n.isCompleteMarquee = !0
                        }));
                        n.contentNode.runAction(t)
                    }
                } else o = function() {
                    n.contentNode.opacity = 0, n.contentNode.width = i, n.contentNode.anchorX = .5, n.contentNode.setPosition(0, n.contentNode.y);
                    var t = cc.sequence([cc.fadeIn(1), cc.delayTime(e), cc.fadeOut(.5), cc.callFunc(function() {
                        n.contentNode.opacity = 0, n.isCompleteMarquee = !0
                    })]);
                    n.contentNode.runAction(t)
                };
                return o
            }, e.prototype.HideMarquee = function() {
                var t = new cc.Vec2(0, 450),
                    e = cc.moveTo(1, t);
                console.log("HideMarquee"), this.bgNode.runAction(e)
            }, e.prototype.OnRecvMarqueeAck = function(t) {
                if (null != t) {
                    console.log("OnRecvMarqueeAck : ", t);
                    try {
                        if (t.hasOwnProperty("msgType") && t.hasOwnProperty("platform") && t.hasOwnProperty("mode")) {
                            for (var e = !1, o = 0; o < t.platform.length; o++)
                                if ("PHONE" == t.platform[o]) {
                                    e = !0;
                                    break
                                }
                            if (e)
                                for (o = 0; o < t.mode.length; o++)
                                    if (t.mode[o] == window.gd_LogoMode || t.mode[o] == parent.gd_LogoMode) {
                                        this.SetMarquee(t);
                                        break
                                    }
                        }
                    } catch (n) {
                        return void console.error(n)
                    }
                }
            }, e.prototype.SetMarquee = function(t) {
                var e = t.msgType;
                if (0 == e) {
                    var o = t.param,
                        n = new Date(c(o[0], "YYYY-MM-DDTHH:mm:ss+00:00")),
                        i = new Date(c(o[1], "YYYY-MM-DDTHH:mm:ss+00:00", this.esLocale)),
                        r = t.msgContent;
                    r = r.replace("{0}", this.GetFinalMaintainTime(n.toString(), i.toString())), this.EnqueueMarquee(r, t.duration, a.System)
                } else 1 == e && this.EnqueueMarquee(t.msgContent, t.duration, a.System)
            }, e.prototype.EnqueueMarquee = function(t, e, o) {
                var n = new m;
                if (n.duration = e, n.msg = t, n.priority = o, n.time = new Date, this.Queue.push(n), this.Queue.sort(function(t, e) {
                        return t.time > e.time && t.priority > e.priority ? -1 : t.time < e.time && t.priority < e.priority ? 1 : 0
                    }), this.Queue.length > this.maxMarqueeLen) {
                    var i = this.GetIndexByPriority(a.Game); - 1 == i && (i = this.GetIndexByPriority(a.System)), -1 != i && this.Queue.splice(i, 1)
                }
            }, e.prototype.GetIndexByPriority = function(t) {
                for (var e = this.Queue.length, o = 0; o < e; o++)
                    if (this.Queue[o].priority === t) return o;
                return -1
            }, e.prototype.GetFinalMaintainTime = function(t, e) {
                return c(t, "MM/DD") == c(e, "MM/DD") ? c(t, "h:mmA") + " to " + c(e, "h:mmA on MMMM Do") : c(t, " h:mmA on MMMM Do") + " to " + c(e, "h:mmA on MMMM Do")
            }, r([p(cc.Label)], e.prototype, "content", void 0), r([p(cc.Node)], e.prototype, "contentNode", void 0), r([p(cc.Node)], e.prototype, "bgNode", void 0), r([p(cc.Node)], e.prototype, "root", void 0), r([p(cc.Boolean)], e.prototype, "m_bIsVerticalMode", void 0), r([u], e)
        }(cc.Component);
        o.MarqueeMgr = h, cc._RF.pop()
    }, {
        "./../../Net/LobbyClient": "LobbyClient",
        "date-fns/format": 5
    }],
    MessageMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7ca2dyWbsVNjJai9/GLwENa", "MessageMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MessageMgr = o.MessageContent = void 0;
        var a, s = cc._decorator,
            c = s.ccclass,
            l = s.property;
        (function(t) {
            t[t.ClickSpin = 0] = "ClickSpin", t[t.GoodLuck = 1] = "GoodLuck", t[t.LineWin = 2] = "LineWin", t[t.AllWaysWin = 3] = "AllWaysWin", t[t.YouWin = 4] = "YouWin", t[t.BigWin = 5] = "BigWin", t[t.ScatterWin = 6] = "ScatterWin", t[t.ClickStartContinue = 7] = "ClickStartContinue", t[t.ClickStart = 8] = "ClickStart", t[t.ClickTake = 9] = "ClickTake", t[t.AddMoneyFail = 10] = "AddMoneyFail", t[t.PurchaseHint = 11] = "PurchaseHint", t[t.DonateHint = 12] = "DonateHint", t[t.FeatureWin = 13] = "FeatureWin", t[t.FeatureWin_CustomGame = 14] = "FeatureWin_CustomGame", t[t.WaitSelectSecond = 15] = "WaitSelectSecond", t[t.WaitStopSecond = 16] = "WaitStopSecond", t[t.JACKPOTWin = 17] = "JACKPOTWin", t[t.ChooseOne = 18] = "ChooseOne"
        })(a = o.MessageContent || (o.MessageContent = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_MsgText = null, e.m_RootObj = null, e.m_MsgContentDic = new Map, e.MsgStates = a.ClickSpin, e
            }
            return i(e, t), e.prototype.Init = function() {
                console.log("[MessageMgr.Init]"), this.m_MsgText.string = "", this.m_RootObj.active = !0
            }, e.prototype._onLoad = function() {
                this.Init(), SS.Common.GameEnvironment.IsUseSlotSkillGame ? this.m_MsgContentDic.set(a.ClickSpin, SS.Common.GameEnvironment.GameMsg.M019) : SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.m_MsgContentDic.set(a.ClickSpin, SS.Common.GameEnvironment.GameMsg.M022) : this.m_MsgContentDic.set(a.ClickSpin, SS.Common.GameEnvironment.GameMsg.M001), this.m_MsgContentDic.set(a.GoodLuck, SS.Common.GameEnvironment.GameMsg.M002), this.m_MsgContentDic.set(a.LineWin, SS.Common.GameEnvironment.GameMsg.M003), this.m_MsgContentDic.set(a.AllWaysWin, SS.Common.GameEnvironment.GameMsg.M004), this.m_MsgContentDic.set(a.YouWin, SS.Common.GameEnvironment.GameMsg.M005), this.m_MsgContentDic.set(a.BigWin, SS.Common.GameEnvironment.GameMsg.M006), this.m_MsgContentDic.set(a.ScatterWin, SS.Common.GameEnvironment.GameMsg.M007), this.m_MsgContentDic.set(a.ClickStartContinue, SS.Common.GameEnvironment.GameMsg.M008), SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.m_MsgContentDic.set(a.ClickStart, SS.Common.GameEnvironment.GameMsg.M022) : this.m_MsgContentDic.set(a.ClickStart, SS.Common.GameEnvironment.GameMsg.M009), this.m_MsgContentDic.set(a.ClickTake, SS.Common.GameEnvironment.GameMsg.M010), this.m_MsgContentDic.set(a.AddMoneyFail, SS.Common.GameEnvironment.GameMsg.M011), this.m_MsgContentDic.set(a.PurchaseHint, SS.Common.GameEnvironment.GameMsg.M012), this.m_MsgContentDic.set(a.DonateHint, SS.Common.GameEnvironment.GameMsg.M013), this.m_MsgContentDic.set(a.FeatureWin, SS.Common.GameEnvironment.GameMsg.M014), this.m_MsgContentDic.set(a.FeatureWin_CustomGame, SS.Common.GameEnvironment.GameMsg.M015), this.m_MsgContentDic.set(a.WaitSelectSecond, SS.Common.GameEnvironment.GameMsg.M016), this.m_MsgContentDic.set(a.WaitStopSecond, SS.Common.GameEnvironment.GameMsg.M017), this.m_MsgContentDic.set(a.JACKPOTWin, SS.Common.GameEnvironment.GameMsg.M018), this.m_MsgContentDic.set(a.ChooseOne, SS.Common.GameEnvironment.GameMsg.M021)
            }, e.prototype.ShowContent = function(t, e, o) {
                var n;
                void 0 === e && (e = ""), void 0 === o && (o = ""), console.warn("[MessageMgr.ShowContent]", t), this.MsgStates = t, n = this.m_MsgContentDic.get(t), console.log("[MessageMgr.ShowContent]", n), 0 !== o.length ? n = (n = n.replace("{0}", e)).replace("{1}", o) : 0 !== e.length && (n = n.replace("{0}", e)), this.m_MsgText.string = n
            }, e.prototype.ShowContentByCustom = function(t, e, o) {
                var n;
                void 0 === e && (e = ""), void 0 === o && (o = ""), n = t, 0 !== o.length ? n = (n = n.replace("{0}", SS.Common.BaseFunction.addCommas(parseInt(e), 0))).replace("{1}", o) : 0 !== e.length && (n = n.replace("{0}", SS.Common.BaseFunction.addCommas(parseInt(e), 0))), this.m_MsgText.string = n, this.m_RootObj.active = !0
            }, e.prototype.SetActive = function(t) {
                this.m_RootObj.active = t
            }, e.prototype.GetMessageLength = function() {
                return this.m_MsgText.string.length
            }, r([l(cc.Label)], e.prototype, "m_MsgText", void 0), r([l(cc.Node)], e.prototype, "m_RootObj", void 0), r([c], e)
        }(cc.Component);
        o.MessageMgr = u, cc._RF.pop()
    }, {}],
    MissionBtnCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a3f1a27cu5P7qibLXwPuasG", "MissionBtnCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionBtnCtrl = void 0;
        var a = t("../../../Component/NodeDrag"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_nodeRedTag = null, e.m_labRedTag = null, e.m_nodeBtn = null, e.m_nodeFingerPtr = null, e.m_nodePrompt = null, e.m_labPrompt = null, e.m_nodeTimer = null, e.m_nodeDragFloatBtn = null, e.m_btn = null, e.autoClosePromptID = null, e
                }
                return i(e, t), e.prototype.init = function(t) {
                    this.setRedTag(), this.setPrompt(), this.show(!1), this.showFingerPtr(!1), this.m_btn = this.m_nodeDragFloatBtn.getComponent(cc.Button), this.m_nodeDragFloatBtn.Event_DragEnd = t.OnDragEnd.bind(t), this.m_nodeDragFloatBtn.Event_ClickItem = t.OnClickFloatBtn.bind(t)
                }, e.prototype.setRedTag = function(t) {
                    void 0 === t && (t = 0);
                    var e = 0 != t;
                    this.m_nodeRedTag.active = e, e && (this.m_labRedTag.string = "" + t)
                }, e.prototype.setPrompt = function(t) {
                    var e = this;
                    if (void 0 === t && (t = ""), null != this.m_nodePrompt) {
                        var o = "" != t;
                        this.m_nodePrompt.active = o, o && (this.m_labPrompt.string = t, this.autoClosePromptID = setTimeout(function() {
                            e.setPrompt(), e.showFingerPtr(!1)
                        }, 6e4))
                    }
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.m_nodeFingerPtr && (this.m_nodeFingerPtr.active = t)
                }, e.prototype.show = function(t) {
                    null != this.m_nodeBtn && (this.m_nodeBtn.active = t, t || (this.setPrompt(), this.showFingerPtr(!1), clearTimeout(this.autoClosePromptID)))
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, r([l(cc.Node)], e.prototype, "root", void 0), r([l(cc.Node)], e.prototype, "m_nodeRedTag", void 0), r([l(cc.Label)], e.prototype, "m_labRedTag", void 0), r([l(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([l(cc.Node)], e.prototype, "m_nodeFingerPtr", void 0), r([l(cc.Node)], e.prototype, "m_nodePrompt", void 0), r([l(cc.Label)], e.prototype, "m_labPrompt", void 0), r([l(cc.Node)], e.prototype, "m_nodeTimer", void 0), r([l(a.NodeDrag)], e.prototype, "m_nodeDragFloatBtn", void 0), r([c], e)
            }(cc.Component);
        o.MissionBtnCtrl = u, cc._RF.pop()
    }, {
        "../../../Component/NodeDrag": "NodeDrag"
    }],
    MissionCoinCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "83c64nRwjxJiKGeeUfmNcC1", "MissionCoinCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionCoinCtrl = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.goldCoin = null, e.coinCount = 0, e.m_nodeTaret = null, e
                }
                return i(e, t), e.prototype.coinMoveToTarget = function(t, e, o) {
                    var n = this;
                    if (void 0 === o && (o = this.node), null != this.m_nodeTaret) {
                        var i = o.parent.convertToWorldSpaceAR(o.getPosition()),
                            r = new cc.Vec2(i.x, i.y);
                        this.m_iFinishedCoid = 0;
                        for (var a = 0; a < this.coinCount; a++) {
                            var s = cc.instantiate(this.goldCoin);
                            s.parent = cc.director.getScene(), s.setPosition(r);
                            var c = cc.hide(),
                                l = cc.delayTime(.25 * a),
                                u = cc.show(),
                                p = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 100))),
                                m = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 0))),
                                h = cc.moveTo(.25, r.add(new cc.Vec2(200 * Math.random() - 100, 100))),
                                d = cc.moveTo(t, new cc.Vec2(this.m_nodeTaret.getPosition().x, this.m_nodeTaret.getPosition().y)),
                                _ = cc.removeSelf(),
                                g = cc.callFunc(function() {
                                    n.m_iFinishedCoid++, n.m_iFinishedCoid >= n.coinCount && e()
                                }),
                                f = cc.sequence(c, l, u, p, m, h, d, _, g);
                            s.runAction(f)
                        }
                    }
                }, r([c(cc.Prefab)], e.prototype, "goldCoin", void 0), r([c(Number)], e.prototype, "coinCount", void 0), r([c(cc.Node)], e.prototype, "m_nodeTaret", void 0), r([s], e)
            }(cc.Component);
        o.MissionCoinCtrl = l, cc._RF.pop()
    }, {}],
    MissionData: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f0eb9J77rpJBKRvE9/9leyr", "MissionData"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.QustObjectiveType = o.UserQuestDataStatus = o.Award = o.MissionData = void 0;
        o.MissionData = function() {
            this.CustomInfoMsg = "", this.Status = -1, this.CanShow = !1, this.QuestType = n.NONE, this.needRebuff = !1
        };
        var n;
        o.Award = function() {},
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.QUEST_NOT_DONE = 0] = "QUEST_NOT_DONE", t[t.AWARD_AVAILABLE = 1] = "AWARD_AVAILABLE", t[t.AWARD_CLAIMED = 2] = "AWARD_CLAIMED"
            }(o.UserQuestDataStatus || (o.UserQuestDataStatus = {})),
            function(t) {
                t[t.NONE = -1] = "NONE", t[t.SPIN_TIME = 0] = "SPIN_TIME", t[t.SPIN_AMOUNT = 1] = "SPIN_AMOUNT", t[t.WIN_AMOUNT = 2] = "WIN_AMOUNT", t[t.CUSTOM = 3] = "CUSTOM"
            }(n = o.QustObjectiveType || (o.QustObjectiveType = {})), cc._RF.pop()
    }, {}],
    MissionInfoCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "46572Jj8zRClr5sdSD/quXx", "MissionInfoCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionInfoCtrl = void 0;
        var a = t("./MissionCoinCtrl"),
            s = t("./MissionMsgCtrl"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.themeID = 0, e.isFinishClaim = !1, e.awardCoin = null, e.m_missionMsgCtrl = null, e.hidePromptEventId = null, e.m_numProgressSpeed = .02, e.m_bIsProgressUp = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    this.m_bIsProgressUp && (this.m_numProgressCtr += this.m_numProgressSpeed, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo), this.setProgress(this.m_numProgressCtr))
                }, e.prototype.setGame = function(t, e, o) {
                    this.m_nodeMissionMgr = t, this.m_iThemeId = e, this.m_sGameName = o, this.themeID = +e
                }, e.prototype.SetMissionToProcessingStatus = function(t, e, o, n) {
                    void 0 === n && (n = ""), this.isFinishClaim = !1, this.ProcessingRibbon.active = !0, this.coinNumLabel.string = SS.Common.BaseFunction.addCommas(e, 0, !1), this.coinNumLabel.node.active = !0, this.barGround.node.active = !0, this.bar.node.active = !0, this.barText.node.active = !0, this.ProcessingContentNode.active = !0, this.maxFactorNumLabel.string = o.toString(), this.tick.active = !1, this.awardLabel.node.active = !1, this.CompletedRibbon.active = !1, this.ComingSoonRibbon.active = !1, this.CompletedContentNode.active = !1, this.ComingSoonContentNode.active = !1, this.spinTextNode.active = !1, this.gameWinTextNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_labCustomObjective.node.active = !0, this.m_missionMsgCtrl.setMsg(n), this.PlayBtn.clickEvents[0] = new cc.Component.EventHandler, this.PlayBtn.clickEvents[0].target = this.m_nodeMissionMgr, this.PlayBtn.clickEvents[0].component = "RepeatingMissionMgr", this.PlayBtn.clickEvents[0].handler = "OpenSelectOptionPage", this.PlayBtn.clickEvents[0].customEventData = this.m_sGameName
                }, e.prototype.SetMissionToCompletedStatus = function(t) {
                    this.isFinishClaim = !1, this.CollectBtnHand.active = !0, this.CollectBtn.target.active = !0, this.barGround.node.active = !0, this.bar.node.active = !0, this.barText.node.active = !0, this.CompletedRibbon.active = !0, this.CompletedContentNode.active = !0, this.awardLabel.node.active = !0, this.awardLabel.string = SS.Common.BaseFunction.addCommas(t, 0, !1), this.tick.active = !1, this.coinNumLabel.node.active = !1, this.ProcessingRibbon.active = !1, this.ComingSoonRibbon.active = !1, this.ProcessingContentNode.active = !1, this.ComingSoonContentNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_labCustomObjective.node.active = !1, this.m_missionMsgCtrl.hide(), this.CollectBtn.clickEvents[0] = new cc.Component.EventHandler, this.CollectBtn.clickEvents[0].target = this.m_nodeMissionMgr, this.CollectBtn.clickEvents[0].component = "RepeatingMissionMgr", this.CollectBtn.clickEvents[0].handler = "OnClickCollectBtn", this.CollectBtn.clickEvents[0].customEventData = this.m_iThemeId
                }, e.prototype.SingleMissionToComingsoonStatus = function() {
                    this.isFinishClaim = !0, this.ComingSoonContentNode.active = !0, this.ComingSoonRibbon.active = !0, this.barGround.node.active = !1, this.bar.node.active = !1, this.barText.node.active = !1, this.coinNumLabel.node.active = !1, this.awardLabel.node.active = !1, this.CompletedRibbon.active = !1, this.ProcessingRibbon.active = !1, this.CompletedContentNode.active = !1, this.ProcessingContentNode.active = !1, this.maxFactorNumLabel.node.active = !1, this.m_missionMsgCtrl.hide()
                }, e.prototype.SetProcessBar = function(t, e) {
                    t >= e && (t = e);
                    var o = t / e;
                    this.setProgress(o)
                }, e.prototype.setProgress = function(t) {
                    this.bar.fillStart = t, this.barText.string = (100 * t).toFixed(2) + "%"
                }, e.prototype.setProgressRebuff = function(t) {
                    this.m_numProgressUpTo = t, this.m_numProgressCtr = 0, this.m_bIsProgressUp = !0
                }, r([u(cc.Node)], e.prototype, "missionRoot", void 0), r([u(cc.Sprite)], e.prototype, "ribbon", void 0), r([u(cc.Sprite)], e.prototype, "coin", void 0), r([u(cc.Label)], e.prototype, "coinNumLabel", void 0), r([u(cc.Node)], e.prototype, "ProcessingRibbon", void 0), r([u(cc.Node)], e.prototype, "CompletedRibbon", void 0), r([u(cc.Node)], e.prototype, "ComingSoonRibbon", void 0), r([u(cc.Sprite)], e.prototype, "gameLinkICON", void 0), r([u(cc.Sprite)], e.prototype, "barGround", void 0), r([u(cc.Sprite)], e.prototype, "bar", void 0), r([u(cc.Label)], e.prototype, "barText", void 0), r([u(cc.Node)], e.prototype, "ProcessingContentNode", void 0), r([u(cc.Node)], e.prototype, "CompletedContentNode", void 0), r([u(cc.Node)], e.prototype, "ComingSoonContentNode", void 0), r([u(cc.Button)], e.prototype, "PlayBtn", void 0), r([u(cc.Button)], e.prototype, "CollectBtn", void 0), r([u(cc.Node)], e.prototype, "CollectBtnHand", void 0), r([u(cc.Node)], e.prototype, "spinTextNode", void 0), r([u(cc.Node)], e.prototype, "gameWinTextNode", void 0), r([u(cc.Node)], e.prototype, "tick", void 0), r([u(cc.Label)], e.prototype, "maxFactorNumLabel", void 0), r([u(cc.Label)], e.prototype, "awardLabel", void 0), r([u(a.MissionCoinCtrl)], e.prototype, "awardCoin", void 0), r([u(cc.Node)], e.prototype, "coinEntriesPos", void 0), r([u(cc.Node)], e.prototype, "coinWinningPos", void 0), r([u(cc.Label)], e.prototype, "m_labCustomObjective", void 0), r([u(s.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([l], e)
            }(cc.Component);
        o.MissionInfoCtrl = p, cc._RF.pop()
    }, {
        "./MissionCoinCtrl": "MissionCoinCtrl",
        "./MissionMsgCtrl": "MissionMsgCtrl"
    }],
    MissionListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d1264JTe5BAZ4aU+XxzU4Wb", "MissionListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionListCtrl = void 0;
        var a = t("./RepeatingMissionMgr"),
            s = t("./MissionInfoCtrl"),
            c = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = t("./MissionData"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeMissionList = null, e.m_nodeContent = null, e.m_prefabMisionInfo = null, e.m_ContentPoints = [], e.m_aryMissionList = [], e.m_nodePoolMissions = null, e.nodeContentLayout = null, e.m_dateLastTimeOpenPanel = 0, e.m_Mgr = null, e.m_iDLPicCtr = 0, e.m_iDLPicTryCtr = 0, e.m_dictDLPic = null, e.errorCode = "", e.m_strCollectQuestID = "", e
                }
                return i(e, t), e.prototype.ClearRes = function() {
                    if (this.m_dictDLPic) {
                        for (var t = this.m_dictDLPic.keys, e = 0; e < this.m_dictDLPic.keys.length; e++) {
                            var o = this.m_dictDLPic[t[e]];
                            cc.assetManager.releaseAsset(o.getTexture()), this.m_dictDLPic[t[e]] = null
                        }
                        this.m_dictDLPic.clear(), this.m_dictDLPic = null
                    }
                    this.m_nodePoolMissions && this.m_nodePoolMissions.clear()
                }, e.prototype.init = function(t) {
                    this.nodeContentLayout = this.m_nodeContent.getComponent(cc.Layout), this.m_Mgr = t, this.show(!1), this.m_nodePoolMissions = new cc.NodePool;
                    for (var e = 0; e < 4; ++e) {
                        var o = cc.instantiate(this.m_prefabMisionInfo);
                        this.m_nodePoolMissions.put(o)
                    }
                    this.m_dictDLPic = new SS.Common.Dictionary
                }, e.prototype.show = function(t) {
                    this.m_nodeMissionList.active = t
                }, e.prototype.setInteract = function(t) {
                    for (var e = 0; e < this.m_aryMissionList.length; e++) this.m_aryMissionList[e].PlayBtn.interactable = t, this.m_aryMissionList[e].CollectBtn.interactable = t
                }, e.prototype.getMissionInfoCtrlByThemeID = function(t) {
                    for (var e = 0; e < this.m_aryMissionList.length; e++)
                        if (this.m_aryMissionList[e].themeID == t) return this.m_aryMissionList[e];
                    return null
                }, e.prototype.updateMisInfo = function(t) {
                    var e = this,
                        o = [],
                        n = t.length > 0;
                    if (this.show(n), n) {
                        this.m_ContentPoints.length > 0 ? this.nodeContentLayout.enabled = !1 : this.nodeContentLayout.enabled = !0, this.m_aryMissionList.forEach(function(t) {
                            e.m_nodePoolMissions.put(t.node)
                        }), this.m_aryMissionList = [], t.sort(this.cmpPriority), this.m_iDLPicCtr = t.length;
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i],
                                a = this.m_nodePoolMissions.get();
                            if (a.parent = this.m_nodeContent, this.m_ContentPoints.length > 0) {
                                var c = new cc.Vec2(this.m_ContentPoints[i].getPosition().x - this.m_nodeContent.getPosition().x, this.m_ContentPoints[i].getPosition().y - this.m_nodeContent.getPosition().y);
                                a.setPosition(c)
                            }
                            var u = a.getComponent(s.MissionInfoCtrl);
                            this.m_aryMissionList.push(u);
                            var p = 0,
                                m = 0;
                            if (r.SpinTimesGate > 0) r.QuestType = l.QustObjectiveType.SPIN_TIME, p = r.SpinTimesGate, m = r.SpinTimes, r.CustomInfoMsg = "Complete " + p + " spin times";
                            else if (r.SpinAmountGate > 0) r.QuestType = l.QustObjectiveType.SPIN_AMOUNT, p = r.SpinAmountGate, m = r.SpinAmount, r.CustomInfoMsg = "Complete total entries " + p;
                            else if (r.WinAmountGate > 0) r.QuestType = l.QustObjectiveType.WIN_AMOUNT, p = r.WinAmountGate, m = r.WinAmount, r.CustomInfoMsg = "Accumulate winning above " + p;
                            else {
                                if (0 == r.CustomType) return void console.error("QuestType error");
                                r.QuestType = l.QustObjectiveType.CUSTOM, p = r.CustomGate, m = r.CustomAmount
                            }
                            var h = this.getGameNameByThemeID(r.ThemeID);
                            switch (o.push(h), this.DLAndSetSprFrame(h, u.gameLinkICON, "Mission/"), u.setGame(this.m_Mgr.node, r.ThemeID, h), u.missionRoot.active = !0, r.Status) {
                                case l.UserQuestDataStatus.QUEST_NOT_DONE:
                                    this.m_strCollectQuestID == r.QuestID ? (this.m_strCollectQuestID = "", u.setProgressRebuff(m / p)) : u.SetProcessBar(m, p), u.SetMissionToProcessingStatus(r.QuestType, r.Award.AwardWinnings, p, r.CustomInfoMsg);
                                    break;
                                case l.UserQuestDataStatus.AWARD_AVAILABLE:
                                    u.SetProcessBar(100, 100), u.SetMissionToCompletedStatus(r.Award.AwardWinnings);
                                    break;
                                case l.UserQuestDataStatus.AWARD_CLAIMED:
                                    u.SingleMissionToComingsoonStatus()
                            }
                        }
                        self == top && (SS.Common.GameEnvironment.GameSetting.questListGameName = o, this.m_Mgr.m_LobbyMgr && this.m_Mgr.m_LobbyMgr.gameIconMgr && (this.m_Mgr.m_LobbyMgr.gameIconMgr.setEventFlag("ALL", o), this.m_Mgr.m_LobbyMgr.gameIconMgr.setEventFlag("SLOT", o))), o = null
                    }
                }, e.prototype.cmpPriority = function(t, e) {
                    return t.Priority - e.Priority
                }, e.prototype.getFilteredMisInfo = function(t) {
                    try {
                        for (var e = t.QuestList, o = [], n = SS.Common.GameEnvironment.GameSetting.DisableGame, i = SS.Common.GameEnvironment.GameSetting.Type.ALL, r = 0; r < e.length; r++) {
                            var a = e[r].ThemeID,
                                s = n.indexOf(a),
                                c = this.getGameNameByThemeID(a),
                                l = i.indexOf(c),
                                p = i.indexOf("BIGICON_" + c); - 1 == s && (l > -1 || p > -1) && o.push(e[r])
                        }
                        return o
                    } catch (u) {
                        return []
                    }
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (u) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName = t) return +o
                    } catch (u) {}
                    return 0
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + t;
                    null != this.m_dictDLPic[n] ? this.setSprFrame(n, e, this.m_dictDLPic[n]) : (e.enabled = !1, this.m_iDLPicTryCtr = 0, this.DLSprFrame(n, e))
                }, e.prototype.DLSprFrame = function(t, e) {
                    var o = this;
                    try {
                        var n = t + ".png?" + (new Date).getTime();
                        cc.assetManager.loadRemote(n, function(n, i) {
                            if (n) return o.DLSprFrameErr(t, e), null;
                            var r = new cc.SpriteFrame(i);
                            o.setSprFrame(t, e, r)
                        })
                    } catch (i) {
                        return this.DLSprFrameErr(t, e), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    this.m_dictDLPic[t] = o, e.spriteFrame = o, e.sizeMode = cc.Sprite.SizeMode.RAW, e.enabled = !0, this.m_iDLPicCtr--, 0 == this.m_iDLPicCtr && (this.m_Mgr.m_status = a.MisMgrStatus.IDLE)
                }, e.prototype.DLSprFrameErr = function(t, e) {
                    this.m_iDLPicTryCtr++, this.m_iDLPicTryCtr >= 3 ? (this.errorCode = "C38", c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Error, this.errorCode, null, null, null), this.m_Mgr.m_status = a.MisMgrStatus.IDLE) : this.DLSprFrame(t, e)
                }, r([m(cc.Node)], e.prototype, "m_nodeMissionList", void 0), r([m(cc.Node)], e.prototype, "m_nodeContent", void 0), r([m(cc.Prefab)], e.prototype, "m_prefabMisionInfo", void 0), r([m([cc.Node])], e.prototype, "m_ContentPoints", void 0), r([p], e)
            }(cc.Component);
        o.MissionListCtrl = h, cc._RF.pop()
    }, {
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./MissionData": "MissionData",
        "./MissionInfoCtrl": "MissionInfoCtrl",
        "./RepeatingMissionMgr": "RepeatingMissionMgr"
    }],
    MissionMsgCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f3219SCQKJOf6USGkU2tqE+", "MissionMsgCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionMsgCtrl = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_iOneLineMax = 0, e.m_arrRichTxtMsg = [], e.m_sPrefix = "<outline color=ff33ff width=2>", e.m_sPostfix = "</outline>", e.m_sNumPrefix = "<outline color=FF5511 width=3><color=#FFEE99><b>", e.m_sNumPostfix = "</b></color></outline>", e
                }
                return i(e, t), e.prototype.setMsg = function(t) {
                    t.length > 2 * this.m_iOneLineMax && console.error("Msg too long");
                    var e = t.split(" "),
                        o = "",
                        n = 0,
                        i = !0;
                    this.hide();
                    for (var r = 0; r < e.length; r++) n + e[r].length + 1 > this.m_iOneLineMax && (this.m_arrRichTxtMsg[0].string = this.globalFix(o), this.m_arrRichTxtMsg[0].enabled = !0, i = !1, o = "", n = 0), n = n + e[r].length + 1, isNaN(+e[r]) || (e[r] = this.numberFix(e[r])), o = "" == o ? e[r] : o + " " + e[r];
                    i ? (this.m_arrRichTxtMsg[2].string = this.globalFix(o), this.m_arrRichTxtMsg[2].enabled = !0) : (this.m_arrRichTxtMsg[1].string = this.globalFix(o), this.m_arrRichTxtMsg[1].enabled = !0)
                }, e.prototype.numberFix = function(t) {
                    return this.m_sNumPrefix + t + this.m_sNumPostfix
                }, e.prototype.globalFix = function(t) {
                    return this.m_sPrefix + t + this.m_sPostfix
                }, e.prototype.hide = function() {
                    for (var t = 0; t < this.m_arrRichTxtMsg.length; t++) null != this.m_arrRichTxtMsg[t] && (this.m_arrRichTxtMsg[t].enabled = !1)
                }, r([c(cc.Integer)], e.prototype, "m_iOneLineMax", void 0), r([c([cc.RichText])], e.prototype, "m_arrRichTxtMsg", void 0), r([s], e)
            }(cc.Component);
        o.MissionMsgCtrl = l, cc._RF.pop()
    }, {}],
    MissionTopProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c39290CEhBF+LkasHENKNOS", "MissionTopProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.MissionTopProgress = void 0;
        var a = t("../../../Component/AudioMgr"),
            s = t("./MissionData"),
            c = t("./MissionMsgCtrl"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Prompt = null, e.m_animate = null, e.m_nodeSprContent = [], e.m_labGoalValue = null, e.promptBar = null, e.m_btn = null, e.promptClaimBtnHand = null, e.promptProcessLabel = null, e.m_labCustomInfo = null, e.m_missionMsgCtrl = null, e.hidePromptEventId = null, e.m_numProgressSpeed = .002, e.m_bIsProgressUp = !1, e
                }
                return i(e, t), e.prototype.update = function() {
                    this.m_bIsProgressUp && (this.m_numProgressCtr += this.m_numProgressSpeed, this.m_numProgressCtr > this.m_numProgressUpTo && (this.m_bIsProgressUp = !1, this.m_numProgressCtr = this.m_numProgressUpTo), this.setProgress(this.m_numProgressCtr))
                }, e.prototype.init = function() {
                    this.m_Prompt.active = !1, this.promptBar.fillStart = 0, this.m_animate = this.m_Prompt.getComponent(cc.Animation), this.hidePromptEventId = void 0
                }, e.prototype.show = function(t, e, o, n) {
                    var i = this;
                    if (void 0 === e && (e = -1), void 0 === o && (o = ""), void 0 === n && (n = 5e3), null != this.m_Prompt) {
                        window.clearTimeout(this.hidePromptEventId);
                        var r = SS.Common.GameEnvironment.GetCurGameIsVertical();
                        if (t) {
                            if (this.m_Prompt.active = t, -1 != e && null != this.m_nodeSprContent)
                                for (var c = 0; c < this.m_nodeSprContent.length; c++) this.m_nodeSprContent[c].active = !1;
                            switch (e) {
                                case s.QustObjectiveType.SPIN_AMOUNT:
                                case s.QustObjectiveType.SPIN_TIME:
                                case s.QustObjectiveType.WIN_AMOUNT:
                                case s.QustObjectiveType.CUSTOM:
                                    this.m_labCustomInfo.enabled = !1, this.m_labGoalValue.enabled = !1, this.m_missionMsgCtrl.setMsg(o)
                            }
                            r ? this.m_animate.play("VerticalShowPrompt", 0) : this.m_animate.play("ShowPrompt", 0), a.AudioMgr.Instance.Play("Missions_Call", !1, 1), n >= 0 && (this.hidePromptEventId = setTimeout(function() {
                                i.show(!1)
                            }, n))
                        } else this.showFingerPtr(!1), this.showBtn(!1), r ? this.m_animate.play("VerticalHidePrompt", 0) : this.m_animate.play("HidePrompt", 0), this.hidePromptEventId = setTimeout(function() {
                            i.m_Prompt && (i.m_Prompt.active = !1)
                        }, 2e3)
                    }
                }, e.prototype.showBtn = function(t) {
                    null != this.m_btn && (this.m_btn.node.active = t, this.showFingerPtr(t))
                }, e.prototype.showFingerPtr = function(t) {
                    null != this.promptClaimBtnHand && (this.promptClaimBtnHand.active = t)
                }, e.prototype.setInteract = function(t) {
                    null != this.m_btn && (this.m_btn.interactable = t)
                }, e.prototype.setProgress = function(t) {
                    this.promptBar.fillStart = t, this.promptProcessLabel.string = (100 * t).toFixed(2) + "%"
                }, e.prototype.setProgressCtr = function(t) {
                    this.m_numProgressCtr = t
                }, e.prototype.setProgressChargeTo = function(t) {
                    this.m_numProgressUpTo = t, this.m_bIsProgressUp = !0
                }, r([p(cc.Node)], e.prototype, "m_Prompt", void 0), r([p([cc.Node])], e.prototype, "m_nodeSprContent", void 0), r([p(cc.Label)], e.prototype, "m_labGoalValue", void 0), r([p(cc.Sprite)], e.prototype, "promptBar", void 0), r([p(cc.Button)], e.prototype, "m_btn", void 0), r([p(cc.Node)], e.prototype, "promptClaimBtnHand", void 0), r([p(cc.Label)], e.prototype, "promptProcessLabel", void 0), r([p(cc.Label)], e.prototype, "m_labCustomInfo", void 0), r([p(c.MissionMsgCtrl)], e.prototype, "m_missionMsgCtrl", void 0), r([u], e)
            }(cc.Component);
        o.MissionTopProgress = m, cc._RF.pop()
    }, {
        "../../../Component/AudioMgr": "AudioMgr",
        "./MissionData": "MissionData",
        "./MissionMsgCtrl": "MissionMsgCtrl"
    }],
    ModuleDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6c403fFGPlI8Z29DPMrclrH", "ModuleDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ModuleDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.ModuleName = "", e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o, n) {
                this.ModuleName = t, this.OnLoad = o, this.OnError = n, this.LoadModuleDependences(e)
            }, e.prototype.LoadModuleDependences = function(t) {
                var e = this;
                try {
                    var o = t.Modules,
                        n = o[e.ModuleName];
                    if (null == n) return console.warn("[ModuleDownloader] It's not exist module: " + e.ModuleName), void(null != e.OnLoad && e.OnLoad());
                    var i = new Array,
                        r = n.Dependency;
                    if (null == r) return console.warn("[ModuleDownloader] It's not exist dependency module"), void(null != e.OnLoad && e.OnLoad());
                    var a = Object.keys(r);
                    if (0 == a.length) return console.warn("[ModuleDownloader] It's not exist dependency module"), void(null != e.OnLoad && e.OnLoad());
                    console.log("[ModuleDownloader] %c Dependent modules:", "font-size:18px;font-weight:bold;color:green");
                    for (var s = 0, c = a; s < c.length; s++) {
                        var l = c[s],
                            u = r[l];
                        1 == u && i.push(l);
                        var p = "[ModuleDownloader] " + l + ": %c" + u,
                            m = 1 == u ? "green" : "red";
                        console.log(p, "font-size:18px;font-weight:bold;color:" + m)
                    }
                    var h, d = 0,
                        _ = function() {
                            ++d == i.length && (console.log("[ModuleDownloader] %c Load dependent modules success!", "font-size:18px;font-weight:bold;color:green"), null != e.OnLoad && e.OnLoad())
                        };
                    h = t.CDN_HOST ? window.location.protocol + "//" + t.CDN_HOST : "../../..";
                    for (var g = 0, f = i; g < f.length; g++) {
                        var y, S = f[g],
                            C = o[S].Path,
                            v = o[S].Version,
                            b = null == o[S].FileName ? S + ".js" : o[S].FileName;
                        y = null != v && "" != v ? h + C + v + "/" + b : h + C + b, console.log("[ModuleDownloader] Load module script: " + y), e.GetScript(y, _, e.OnError.bind(this))
                    }
                } catch (P) {
                    console.error("[ModuleDownloader] Load project setting failed.\n", P), null != e.OnError && e.OnError(P)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.ModuleDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    MouseMark: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b90d1FBJGdIbbt+lNIyFTNu", "MouseMark");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.Mark_1 = null, e.Mark_2 = null, e
                }
                return i(e, t), e.prototype.switchArrowMark = function(t) {
                    this.Mark_1.active = !t, this.Mark_2.active = t
                }, r([c(cc.Node)], e.prototype, "Mark_1", void 0), r([c(cc.Node)], e.prototype, "Mark_2", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    NewPlayerGuideCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "76d2e4gmupByK29M/ObnJCq", "NewPlayerGuideCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NewPlayerGuideCtrl = void 0;
        var c = cc._decorator,
            l = c.ccclass,
            u = c.property,
            p = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeGuide = [], e.m_nodeBtn = null, e.m_nodeHand = null, e.m_iState = 0, e.m_fucSetPage_1 = null, e.m_fucSetPage_2 = null, e.m_fucCB = null, e
                }
                return i(e, t), e.prototype.checkCoockieAndShow = function(t, e, o) {
                    cc.warn("checkCoockieAndShow"), this.m_fucSetPage_1 = t, this.m_fucSetPage_2 = e, this.m_fucCB = o, this.checkNewPlayer() ? this.ShowGuide() : this.m_fucCB && this.m_fucCB()
                }, e.prototype.ShowGuide = function() {
                    this.m_iState = 0, this.nextState(), this.m_nodeBtn.active = !0
                }, e.prototype.nextState = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function() {
                            switch (this.m_iState) {
                                case 3:
                                case 5:
                                    this.m_fucSetPage_1 && this.m_fucSetPage_1();
                                    break;
                                case 4:
                                    this.m_fucSetPage_2 && this.m_fucSetPage_2()
                            }
                            return this.m_iState > 0 && this.fadeOut(this.m_nodeGuide[this.m_iState - 1]), this.m_iState < this.m_nodeGuide.length ? (this.fadeIn(this.m_nodeGuide[this.m_iState]), cc.Tween.stopAllByTarget(this.m_nodeHand), this.m_nodeHand.opacity = 0, cc.tween(this.m_nodeHand).delay(2).to(1, {
                                opacity: 255
                            }).start(), this.m_iState += 1) : (this.m_nodeBtn.active = !1, cc.Tween.stopAllByTarget(this.m_nodeHand), this.m_nodeHand.opacity = 0, this.m_fucSetPage_2 && this.m_fucSetPage_2(), this.m_fucCB && this.m_fucCB()), [2]
                        })
                    })
                }, e.prototype.fadeIn = function(t) {
                    cc.Tween.stopAllByTarget(t), t.active = !0, t.opacity = 0, cc.tween(t).to(1, {
                        opacity: 255
                    }).start()
                }, e.prototype.fadeOut = function(t) {
                    cc.Tween.stopAllByTarget(t), t.active = !0, t.opacity = 255, cc.tween(t).to(1, {
                        opacity: 0
                    }).call(function() {
                        t.active = !1
                    }).start()
                }, e.prototype.onClick = function() {
                    this.nextState()
                }, e.prototype.onLoad = function() {
                    this.m_nodeBtn.active = !1
                }, e.prototype.checkNewPlayer = function() {
                    var t, e, o, n;
                    return cc.warn("checkNewPlayer"), n = this.getCookie("GDC_USER_ID"), o = this.getCookie("GUIDED_USER_ID"), e = "" != (t = this.getCookie("GUIDED_USER_CTR")) ? +t : 1, n == o ? (this.setCookie("GUIDED_USER_CTR", (e + 1).toString()), e < 2) : (this.setCookie("GUIDED_USER_ID", n), this.setCookie("GUIDED_USER_CTR", "1"), !0)
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, r([u([cc.Node])], e.prototype, "m_nodeGuide", void 0), r([u(cc.Node)], e.prototype, "m_nodeBtn", void 0), r([u(cc.Node)], e.prototype, "m_nodeHand", void 0), r([l], e)
            }(cc.Component);
        o.NewPlayerGuideCtrl = p, cc._RF.pop()
    }, {}],
    NewRedPointMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b1999KSTZhNPpSsvxf28uU3", "NewRedPointMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NewRedPoint = void 0;
        var a = t("../../LobbyCommon/Helper/EventSystem"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_spriteRedPoint = null, e.m_strCookieKey = "ProfileBarNewRedPoint", e
                }
                return i(e, t), e.prototype.start = function() {
                    this.m_strCookieKey = this.m_strCookieKey + "_" + SS.Network.LoginModel.LoginInfo.pin_ark_id, this.Show(this.GetProfileBarNewRedPoint()), a.EventSystem.Event(a.NoticedArrived.SetNewsRedPoint).Insert(this.Show, this)
                }, e.prototype.onDestroy = function() {
                    a.EventSystem.Event(a.NoticedArrived.SetNewsRedPoint).Remove(this.Show, this)
                }, e.prototype.Show = function(t) {
                    var e = 0;
                    1 == t && (e = 255), this.m_spriteRedPoint && (this.m_spriteRedPoint.node.opacity = e), this.SetProfileBarNewRedPoint(t)
                }, e.prototype.GetProfileBarNewRedPoint = function() {
                    var t = this.getCookie(this.m_strCookieKey),
                        e = !0;
                    return "" != t && "false" != t && null != t && null != t || (e = !1), e
                }, e.prototype.SetProfileBarNewRedPoint = function(t) {
                    t ? this.setCookie(this.m_strCookieKey, "true") : this.setCookie(this.m_strCookieKey, "false")
                }, e.prototype.getCookie = function(t) {
                    return JSUtility.IsSupportLocalStorage() ? localStorage.getItem(t) : JSUtility.IsSupportCookie() ? JSUtility.GetCookie(t) : void 0
                }, e.prototype.setCookie = function(t, e) {
                    JSUtility.IsSupportLocalStorage() ? "false" == e ? localStorage.removeItem(t) : localStorage.setItem(t, e) : JSUtility.IsSupportCookie() && (document.cookie = t + "=" + e + ";")
                }, r([l(cc.Sprite)], e.prototype, "m_spriteRedPoint", void 0), r([c], e)
            }(cc.Component);
        o.NewRedPoint = u, cc._RF.pop()
    }, {
        "../../LobbyCommon/Helper/EventSystem": "EventSystem"
    }],
    NodeDrag: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "36e20vrfYZKgppRiZGLXmlN", "NodeDrag");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NodeDrag = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_fBoundLeft = 30, e.m_fBoundRight = 30, e.m_fBoundUp = 50, e.m_fBoundDown = 50, e.m_sRecordKey = "", e.dragMovePos = cc.Vec2.ZERO, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.screenSize = cc.view.getVisibleSize(), this.screenSize.width = this.screenSize.width - this.m_fBoundRight - this.m_fBoundLeft, this.screenSize.height = this.screenSize.height - this.m_fBoundUp - this.m_fBoundDown, this.node.on(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.on(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this)), this.returnToRecordPos()
                }, e.prototype.onDestroy = function() {
                    this.node.off(cc.Node.EventType.TOUCH_START, this.OnDragInit.bind(this)), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.OnDragItem.bind(this)), this.node.off(cc.Node.EventType.TOUCH_END, this.OnDragEnd.bind(this))
                }, e.prototype.OnDragInit = function() {
                    this.m_bIsLocked || (this.dragMovePos = cc.Vec2.ZERO, this.isDraging = !1, null != this.Event_DragStart && this.Event_DragStart())
                }, e.prototype.OnDragItem = function(t) {
                    if (!this.m_bIsLocked && (this.dragMovePos = t.getDelta(), !(this.dragMovePos.mag() < 1.5) || this.isDraging)) {
                        this.isDraging = !0;
                        var e = this.node.getPosition(),
                            o = (this.node.convertToWorldSpaceAR(cc.Vec2.ZERO), new cc.Vec2(e.x + this.dragMovePos.x, e.y + this.dragMovePos.y));
                        this.setPositionInbound(o, !0)
                    }
                }, e.prototype.OnDragEnd = function() {
                    this.isDraging ? (null != this.Event_DragEnd && this.Event_DragEnd(), console.log("draging node !!")) : (null != this.Event_ClickItem && this.Event_ClickItem(), console.log("click activities node !!"))
                }, e.prototype.setLocked = function(t) {
                    this.m_bIsLocked = t
                }, e.prototype.move = function(t, e) {
                    null == this.getRecordPos() && this.setPositionInbound(new cc.Vec2(this.node.position.x + t, this.node.position.y + e))
                }, e.prototype.returnToRecordPos = function() {
                    cc.warn("returnToRecordPos"), this.setPositionInbound(this.getRecordPos())
                }, e.prototype.setPositionInbound = function(t, e) {
                    void 0 === e && (e = !1), t && (this.screenSize && (t.x = SS.Common.BaseFunction.Clamp(this.m_fBoundLeft, this.screenSize.width, t.x), t.y = SS.Common.BaseFunction.Clamp(this.m_fBoundDown, this.screenSize.height, t.y)), this.node.setPosition(t), e && this.setRecordPos(t))
                }, e.prototype.getRecordPos = function() {
                    return SS.Common.GameEnvironment.ProjectSetting[this.m_sRecordKey]
                }, e.prototype.setRecordPos = function(t) {
                    "" != this.m_sRecordKey && (SS.Common.GameEnvironment.ProjectSetting[this.m_sRecordKey] = t)
                }, r([c(cc.Float)], e.prototype, "m_fBoundLeft", void 0), r([c(cc.Float)], e.prototype, "m_fBoundRight", void 0), r([c(cc.Float)], e.prototype, "m_fBoundUp", void 0), r([c(cc.Float)], e.prototype, "m_fBoundDown", void 0), r([c(cc.String)], e.prototype, "m_sRecordKey", void 0), r([s], e)
            }(cc.Component);
        o.NodeDrag = l, cc._RF.pop()
    }, {}],
    NodeLongPress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c3d8a4B19FEdZLXDxbs2yIH", "NodeLongPress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.longPressTime = .5, e.canPress = !0, e.canClick = !0, e.canLongPress = !0, e.longPressFunc = null, e.clickFunc = null, e.isCallLongPress = !1, e.isCallClick = !1, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.node.on(cc.Node.EventType.MOUSE_DOWN, this.OnPressDown, this, !0), this.node.on(cc.Node.EventType.TOUCH_START, this.OnPressDown, this, !0), this.node.on(cc.Node.EventType.MOUSE_UP, this.OnPressUp, this, !0), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.OnPressCancel, this, !0), this.node.on(cc.Node.EventType.TOUCH_END, this.OnPressUp, this, !0), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.OnPressCancel, this, !0)
                }, e.prototype.onDestroy = function() {
                    this.unschedule(this.CheckLongPress), this.node.targetOff(this)
                }, e.prototype.OnPressDown = function() {
                    this.canPress && (this.isCallLongPress = !1, this.isCallClick = !1, this.unschedule(this.CheckLongPress), this.scheduleOnce(this.CheckLongPress, this.longPressTime))
                }, e.prototype.OnPressUp = function() {
                    this.unschedule(this.CheckLongPress), this.isCallLongPress && this.longPressFunc && this.longPressFunc(!1), this.CheckClick()
                }, e.prototype.OnPressCancel = function() {
                    this.isCallLongPress = !1, this.isCallClick = !0, this.unschedule(this.CheckLongPress), this.isCallLongPress && this.longPressFunc && this.longPressFunc(!1)
                }, e.prototype.CheckLongPress = function() {
                    console.log("[NodeLongPress]Item(" + this.node.parent.name + ") CheckLongPress(canPress:" + this.canPress + " / canLongPress:" + this.canLongPress + " / callLongPress?" + this.isCallLongPress + ")"), this.canPress && this.canLongPress && (this.isCallLongPress || (this.isCallLongPress = !0, this.longPressFunc && this.longPressFunc(!0)))
                }, e.prototype.CheckClick = function() {
                    console.log("[NodeLongPress]Item(" + this.node.parent.name + ") CheckClick(canPress:" + this.canPress + " / canLongPress:" + this.canLongPress + " / callLongPress?" + this.isCallLongPress + ") / callClick?" + this.isCallClick + ")"), this.canPress && this.canClick && (this.isCallClick || this.isCallLongPress || (this.isCallClick = !0, this.unschedule(this.CheckLongPress), this.clickFunc && this.clickFunc()))
                }, r([c({
                    displayName: "\u9577\u6309\u79d2\u6578\u689d\u4ef6"
                })], e.prototype, "longPressTime", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    NodeParticleSystem: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ecf52FTGcVOxa+6BVaQxUP/", "NodeParticleSystem");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NodeParticleSystem = void 0;
        var a = t("./SpawnPool"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.targetNode = null, e.randomRotation = !1, e.enableToPlay = !0, e.duration = -1, e.lifetime = 1, e.lifetimeRandomRange = 0, e.emissionRate = 10, e.emitArea = cc.Vec2.ZERO, e.speed = 10, e.angle = 90, e.angleRandomRange = 0, e.gravityXY = cc.v2(0, 1), e.beginScale = 1, e.endScale = 1, e.receiveNodeParticleListIndex = [], e.spawnpool = null, e.nodeParticleList = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.spawnpool = this.addComponent(a.SpawnPool)
                }, e.prototype.onEnable = function() {
                    null != this.targetNode ? this.enableToPlay && this.RePlayParticleSystem() : console.warn("[NodeParticleSystem]TargetPrefab Not Found.")
                }, e.prototype.ResetAll = function() {
                    this.spawnpool.DespawnAll(), this.nodeParticleList = [], this.receiveNodeParticleListIndex = []
                }, e.prototype.RePlayParticleSystem = function() {
                    var t = 1 / this.emissionRate;
                    if (this.unscheduleAllCallbacks(), this.duration > 0) {
                        var e = this.duration / t;
                        this.schedule(this.EmitNode, t, e)
                    } else this.schedule(this.EmitNode, t)
                }, e.prototype.StopParticleSystem = function() {
                    this.unscheduleAllCallbacks()
                }, e.prototype.EmitNode = function() {
                    this.spawnpool || (this.spawnpool = this.addComponent(a.SpawnPool));
                    var t = this.spawnpool.Spawn(this.targetNode.data);
                    t.parent = this.node;
                    var e = 2 * (Math.random() - .5) * this.emitArea.x,
                        o = 2 * (Math.random() - .5) * this.emitArea.y;
                    t.setPosition(cc.v2(e, o)), t.scale = this.beginScale, this.randomRotation && (t.angle = 360 * Math.random());
                    var n = (this.angle + 2 * (Math.random() - .5) * this.angleRandomRange) * Math.PI / 180,
                        i = cc.v2(Math.cos(n), Math.sin(n)),
                        r = {
                            node: t,
                            lifetime: this.lifetime + 2 * (Math.random() - .5) * this.lifetimeRandomRange,
                            gravityXY: this.gravityXY,
                            beginScale: this.beginScale,
                            endScale: this.endScale,
                            currentLifeTime: 0,
                            currentGrivate: cc.v2(i.x * this.speed, i.y * this.speed)
                        };
                    this.nodeParticleList.push(r)
                }, e.prototype.update = function(t) {
                    var e = this;
                    if (this.nodeParticleList.forEach(function(o, n) {
                            o.currentLifeTime += t, o.currentLifeTime >= o.lifetime && (o.currentLifeTime = o.lifetime, e.receiveNodeParticleListIndex.push(n));
                            var i = cc.v2(o.gravityXY.x * t, o.gravityXY.y * t);
                            if (o.currentGrivate = cc.v2(o.currentGrivate.x + i.x, o.currentGrivate.y + i.y), o.node.setPosition(cc.v2(o.node.getPosition().x + o.currentGrivate.x * t, o.node.getPosition().y + o.currentGrivate.y * t)), o.beginScale != o.endScale) {
                                var r = o.currentLifeTime / o.lifetime,
                                    a = (o.endScale - o.beginScale) * r + o.beginScale;
                                o.node.scale = a
                            }
                        }), this.receiveNodeParticleListIndex.length > 0) {
                        for (var o = this.receiveNodeParticleListIndex.length - 1; o >= 0; o--) {
                            var n = this.receiveNodeParticleListIndex[o];
                            this.spawnpool.Despawn(this.nodeParticleList[n].node), this.nodeParticleList.splice(n, 1)
                        }
                        this.receiveNodeParticleListIndex = []
                    }
                }, r([l({
                    type: cc.Prefab,
                    displayName: "\u8868\u6f14\u7269\u4ef6"
                })], e.prototype, "targetNode", void 0), r([l({
                    displayName: "\u96a8\u6a5f\u96a8\u8f49\u89d2\u5ea6"
                })], e.prototype, "randomRotation", void 0), r([l({
                    displayName: "\u958b\u555f\u7269\u4ef6\u6642\u64ad\u653e"
                })], e.prototype, "enableToPlay", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u8868\u6f14\u6301\u7e8c\u6642\u9593"
                })], e.prototype, "duration", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u7c92\u5b50\u751f\u5b58\u6642\u9593"
                })], e.prototype, "lifetime", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u7c92\u5b50\u751f\u5b58\u6642\u9593\u6d6e\u52d5\u503c",
                    tooltip: "\u7c92\u5b50\u751f\u5b58\u6642\u9593 \xb1 \u7c92\u5b50\u751f\u5b58\u6642\u9593\u6d6e\u52d5\u503c"
                })], e.prototype, "lifetimeRandomRange", void 0), r([l({
                    type: cc.Integer,
                    displayName: "\u6bcf\u79d2\u767c\u5c04\u6578\u91cf"
                })], e.prototype, "emissionRate", void 0), r([l({
                    displayName: "\u767c\u5c04\u7bc4\u570d"
                })], e.prototype, "emitArea", void 0), r([l({
                    type: cc.Float,
                    displayName: "\u79fb\u52d5\u901f\u5ea6"
                })], e.prototype, "speed", void 0), r([l({
                    displayName: "\u767c\u5c04\u89d2\u5ea6"
                })], e.prototype, "angle", void 0), r([l({
                    displayName: "\u767c\u5c04\u89d2\u5ea6\u6d6e\u52d5\u503c",
                    tooltip: "\u767c\u5c04\u89d2\u5ea6 \xb1 \u767c\u5c04\u89d2\u5ea6\u6d6e\u52d5\u503c"
                })], e.prototype, "angleRandomRange", void 0), r([l({
                    displayName: "\u91cd\u529b\u65b9\u5411"
                })], e.prototype, "gravityXY", void 0), r([l({
                    displayName: "\u8d77\u59cbScale"
                })], e.prototype, "beginScale", void 0), r([l({
                    displayName: "\u7d50\u675fScale"
                })], e.prototype, "endScale", void 0), r([c], e)
            }(cc.Component);
        o.NodeParticleSystem = u, cc._RF.pop()
    }, {
        "./SpawnPool": "SpawnPool"
    }],
    NoticeInteractive: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "893b7fwJ5xAhJBeZJ9dTjL/", "NoticeInteractive");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NoticeInteractive = void 0;
        var c = t("../../LobbyCommon/Helper/EventSystem"),
            l = t("../../LobbyCommon/Component/BundleCtrl"),
            u = t("../../LobbyCommon/Net/ClickLog"),
            p = t("../../LobbyCommon/Net/ClickLogEnum"),
            m = t("./RewardBroadcastMgr"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.faceSprite = null, e.frameSprite = null, e.m_nickname = null, e.m_score = null, e.m_IsNoticeInteractive = !0, e.m_RewardBroadcastArkID = "", e.m_IsSelf = !1, e.m_RewardBroadcastType = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    this.m_IsNoticeInteractive = !0, c.EventSystem.Event(c.NoticedArrived.SetNoticeInteractive).Insert(this.OnSetNoticeInteractive, this)
                }, e.prototype.onDestroy = function() {
                    c.EventSystem.Event(c.NoticedArrived.SetNoticeInteractive).Remove(this.OnSetNoticeInteractive, this)
                }, e.prototype.onDisable = function() {
                    this.m_RewardBroadcastArkID = ""
                }, e.prototype.SetFaceSprite = function(t) {
                    this.faceSprite && (this.faceSprite.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.frameSprite && (this.frameSprite.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return 0 == t.length && (t = "FAC000"), [4, l.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = o.sent()) && this.SetFaceSprite(e), [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return 0 == t.length ? (this.SetFrameSprite(null), [2]) : [4, l.default.Instance.GetSpirte("Avatar", t)];
                                case 1:
                                    return (e = o.sent()) && this.SetFrameSprite(e), [2]
                            }
                        })
                    })
                }, e.prototype.SetNickname = function(t) {
                    this.m_nickname && (this.m_nickname.string = t)
                }, e.prototype.SetScore = function(t) {
                    this.m_score && (this.m_score.string = t)
                }, e.prototype.onClickRewardNotice = function() {
                    if (this.m_IsNoticeInteractive) {
                        if (c.EventSystem.Event(c.FishHunter.OpenProfile).Length > 0) return void c.EventSystem.Event(c.FishHunter.OpenProfile).Notify("", !0, p.LogEvent_OpenPanel.InRewardNotice);
                        c.EventSystem.Event(c.Profile.OpenProfile).Length > 0 && (c.EventSystem.Event(c.Profile.OpenProfile).Notify(!0), u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InRewardNotice))
                    }
                }, e.prototype.onClickAvatarNotice = function() {
                    if (this.m_IsNoticeInteractive) {
                        if (c.EventSystem.Event(c.FishHunter.OpenAvatarEditor).Length > 0) return void c.EventSystem.Event(c.FishHunter.OpenAvatarEditor).Notify(p.LogEvent_OpenPanel.InAvatarNotice);
                        c.EventSystem.Event(c.Profile.OpenProfile).Length > 0 && (c.EventSystem.Event(c.Profile.OpenAvatarEditor).Notify(!0), u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InAvatarNotice))
                    }
                }, e.prototype.onClickBroadcastNotice = function() {
                    if (this.m_IsNoticeInteractive && "" != this.m_RewardBroadcastArkID) {
                        var t = p.LogEvent_OpenPanel.InBroadcast;
                        if (!this.m_IsSelf) switch (this.m_RewardBroadcastType) {
                            case m.RewardBroadcastType.Jackpot:
                                t = p.LogEvent_OpenOthersPanel.InBroadcast_MaxJP;
                                break;
                            case m.RewardBroadcastType.Multiple_Slot:
                                t = p.LogEvent_OpenOthersPanel.InBroadcast_MultiSlot;
                                break;
                            case m.RewardBroadcastType.Multiple_Fish:
                                t = p.LogEvent_OpenOthersPanel.InBroadcast_MultiFish
                        }
                        if (c.EventSystem.Event(c.FishHunter.OpenProfile).Length > 0) return void c.EventSystem.Event(c.FishHunter.OpenProfile).Notify(this.m_RewardBroadcastArkID, !1, t);
                        c.EventSystem.Event(c.Profile.OpenProfile).Length > 0 && (c.EventSystem.Event(c.Profile.OpenProfile).Notify(!1, this.m_RewardBroadcastArkID), u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenOthersPanel, t))
                    }
                }, e.prototype.OnSetNoticeInteractive = function(t) {
                    this.m_IsNoticeInteractive = t
                }, r([_(cc.Sprite)], e.prototype, "faceSprite", void 0), r([_(cc.Sprite)], e.prototype, "frameSprite", void 0), r([_(cc.Label)], e.prototype, "m_nickname", void 0), r([_(cc.Label)], e.prototype, "m_score", void 0), r([d], e)
            }(cc.Component);
        o.NoticeInteractive = g, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "./RewardBroadcastMgr": "RewardBroadcastMgr"
    }],
    NumberAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "257facFZSNHAK2IHjMMzxNf", "NumberAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NumberAnimation = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.targetTxt_UGUI = null, e.targetNumber = 0, e.currentNumber = 0, e.baseNumber = 0, e.isInteger = !1, e.totalCountTime = 0, e.updateFPS = 15, e.animationTimeInPlay = 0, e.updatingUnitTime = 0, e.updatingUnitValue = 0, e.m_bIsAnimated = !1, e.bForceLockNumber = !1, e.m_bForceFinishAnim = !1, e.m_bIsFinishAnim = !1, e.Event_Finish = null, e
                }
                return i(e, t), e.prototype.GetCurrentNumber = function() {
                    return this.currentNumber
                }, e.prototype.GetTargetNumber = function() {
                    return this.targetNumber
                }, e.prototype.GetTotalAnimationTime = function() {
                    return this.totalCountTime
                }, e.prototype.onLoad = function() {
                    this.Event_Finish = new SS.Common.Delegate
                }, e.prototype.onDestroy = function() {
                    this.Event_Finish.Clear(), this.Event_Finish = null
                }, e.prototype.start = function() {
                    this.Init()
                }, e.prototype.Init = function() {
                    this.targetTxt_UGUI = this.node.getComponent(cc.Label), this.setNumberLabel()
                }, e.prototype.update = function(t) {
                    0 == this.m_bIsFinishAnim && (this.targetNumber != this.currentNumber ? (this.animationTimeInPlay += t, this.animationTimeInPlay > this.updatingUnitTime && (this.currentNumber += 0 == this.updatingUnitTime ? this.updatingUnitValue : this.updatingUnitValue * (this.animationTimeInPlay / this.updatingUnitTime), this.animationTimeInPlay = 0, (this.currentNumber >= this.targetNumber && this.updatingUnitValue >= 0 || this.currentNumber <= this.targetNumber && this.updatingUnitValue <= 0) && (this.currentNumber = this.targetNumber), this.setNumberLabel())) : this.targetNumber > 0 && this.currentNumber > 0 && this.targetNumber == this.currentNumber ? (this.Event_Finish.Notify(), this.m_bIsFinishAnim = !0) : (this.m_bIsFinishAnim = !0, this.animationTimeInPlay = 0))
                }, e.prototype.Reset = function() {
                    this.currentNumber = 0, this.targetNumber = 0, this.setNumberLabel()
                }, e.prototype.SetCurrentNumber = function(t) {
                    this.currentNumber = t, this.setNumberLabel()
                }, e.prototype.SetNumberToStop = function(t) {
                    void 0 === t && (t = this.targetNumber), this.currentNumber = t, this.targetNumber = t, this.setNumberLabel()
                }, e.prototype.SetTargetNumberAnimationEx = function(t, e) {
                    this.m_bIsAnimated = !0, this.m_bIsFinishAnim = !1, this.baseNumber = this.currentNumber, this.targetNumber = t, this.animationTimeInPlay = 0, this.updateFPS <= 0 && (this.updateFPS = 10), this.totalCountTime = e, this.totalCountTime <= 0 && (this.totalCountTime = .1), this.updatingUnitTime = 1 / this.updateFPS, this.updatingUnitValue = (this.targetNumber - this.baseNumber) * this.updatingUnitTime / this.totalCountTime
                }, e.prototype.setNumberLabel = function() {
                    null != this.targetTxt_UGUI && (this.isInteger ? this.isInteger && (this.targetTxt_UGUI.string = SS.Common.BaseFunction.addCommas(this.currentNumber, 0)) : this.targetTxt_UGUI.string = SS.Common.BaseFunction.addCommas(this.currentNumber, 2))
                }, r([c(cc.Boolean)], e.prototype, "isInteger", void 0), r([s], e)
            }(cc.Component);
        o.NumberAnimation = l, cc._RF.pop()
    }, {}],
    NumberCountUp: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e2490lYPQJNOKAt/trbBSNT", "NumberCountUp");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.NumberCountUp = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.isInteger = !1, e.isMoney = !1, e.m_bNeedChopOff = !1, e.isThousands = !0, e.isSuffix = !1, e.suffix = "", e.fps = 30, e.current = 0, e.updateCallback = [], e.finishCallback = [], e
                }
                return i(e, t), e.prototype.onDestroy = function() {
                    this.updateCallback = null, this.finishCallback = null
                }, e.prototype.CountUp = function(t, e, o) {
                    var n = this;
                    void 0 === o && (o = 0), this.unscheduleAllCallbacks();
                    var i = t - this.current;
                    if (!(i <= 0)) {
                        var r = Math.floor(1 / this.fps * 1e3) / 1e3,
                            a = i * r / e;
                        0 != o && a < o && (a = o);
                        var s = 0,
                            c = Date.now(),
                            l = function() {
                                for (s += (Date.now() - c) / 1e3, c = Date.now(); s >= r;)
                                    if (s -= r, n.current += a, n.SetLabel(n.current), n.updateCallback.length > 0 && n.updateCallback.forEach(function(t) {
                                            t()
                                        }), n.current >= t) {
                                        n.current = t, n.SetLabel(t), n.unschedule(l), n.finishCallback.forEach(function(t) {
                                            t()
                                        });
                                        break
                                    }
                            };
                        this.schedule(l, r)
                    }
                }, e.prototype.SetLabel = function(t) {
                    var e = this.isInteger ? 0 : 2;
                    if (t = this.m_bNeedChopOff ? this.chopOff(t, e) : t, this.isThousands) this.label.string = SS.Common.BaseFunction.addCommas(t, e, this.isMoney);
                    else {
                        var o = t.toFixed(e);
                        this.isMoney && (o = "$" + o), this.isSuffix && (o += this.suffix), this.label.string = o
                    }
                }, e.prototype.SetNumberFormat = function(t, e, o) {
                    void 0 === o && (o = !1), this.isInteger = t, this.isMoney = e, this.m_bNeedChopOff = o, this.SetLabel(this.current)
                }, e.prototype.SetNumberNow = function(t) {
                    return this.current !== t && (this.unscheduleAllCallbacks(), this.current = t, this.SetLabel(this.current), !0)
                }, e.prototype.AddNumberNow = function(t) {
                    return 0 !== t && (this.current += t, this.SetLabel(this.current), !0)
                }, Object.defineProperty(e.prototype, "GetCurrentNumber", {
                    get: function() {
                        return this.current
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.RegisterUpdateCallback = function(t) {
                    this.updateCallback.push(t)
                }, e.prototype.UnregisterAllUpdateCallback = function() {
                    this.updateCallback = []
                }, e.prototype.RegisterFinishCallback = function(t) {
                    this.finishCallback.push(t)
                }, e.prototype.UnregisterAllFinishCallback = function() {
                    this.finishCallback = []
                }, e.prototype.chopOff = function(t, e) {
                    var o = Math.pow(10, e);
                    return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
                }, r([c(cc.Label)], e.prototype, "label", void 0), r([c(Boolean)], e.prototype, "isInteger", void 0), r([c(Boolean)], e.prototype, "isMoney", void 0), r([c({
                    type: cc.Boolean,
                    displayName: "\u6578\u503c\u662f\u5426\u70ba\u7121\u689d\u4ef6\u6368\u53bb\u6cd5"
                })], e.prototype, "m_bNeedChopOff", void 0), r([c({
                    type: cc.Boolean,
                    displayName: "\u662f\u5426\u9700\u8981\u52a0\u5165\u5343\u5206\u4f4d"
                })], e.prototype, "isThousands", void 0), r([c({
                    type: cc.Boolean,
                    displayName: "\u662f\u5426\u9700\u8981\u52a0\u5165\u5f8c\u7db4\u7b26\u865f"
                })], e.prototype, "isSuffix", void 0), r([c({
                    type: cc.String,
                    displayName: "\u5165\u5f8c\u7db4\u7b26\u865f",
                    visible: function() {
                        return this.isSuffix
                    }
                })], e.prototype, "suffix", void 0), r([s], e)
            }(cc.Component);
        o.NumberCountUp = l, cc._RF.pop()
    }, {}],
    OpenBoxEffectAnimation: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a3ee9i2R6FMf5aqwTYIbfVI", "OpenBoxEffectAnimation");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.OpenBoxEffectAnimation = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnBoxAwardEffectFinish = null, e
                }
                return i(e, t), e.prototype.onDestroy = function() {
                    this.OnBoxAwardEffectFinish = null
                }, e.prototype.PlayCoinFinish = function() {
                    console.error("PlayCoinFinish"), null != this.OnBoxAwardEffectFinish && this.OnBoxAwardEffectFinish()
                }, r([s], e)
            }(cc.Component));
        o.OpenBoxEffectAnimation = c, cc._RF.pop()
    }, {}],
    OrientationHint: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "4e68cLijBpHVo8aLp8oreNM", "OrientationHint");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.OrientationHint = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.orientationHintTip = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    cc.sys.isMobile ? (window.addEventListener("orientationchange", this.OnOrientationChanged.bind(this), !1), this.OnOrientationChanged()) : this.orientationHintTip.destroy()
                }, e.prototype.OnOrientationChanged = function() {
                    Number(window.orientation) % 180 == 0 ? this.orientationHintTip.active = !0 : 90 == Math.abs(Number(window.orientation) % 180) && (this.orientationHintTip.active = !1)
                }, r([c(cc.Node)], e.prototype, "orientationHintTip", void 0), r([s], e)
            }(cc.Component);
        o.OrientationHint = l, cc._RF.pop()
    }, {}],
    ParticleSystemReset: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "d1975LdAh1HjZ8XsMg6+21b", "ParticleSystemReset");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ParticleSystemReset = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.particle = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    null == this.particle && (this.particle = this.getComponent(cc.ParticleSystem))
                }, e.prototype.onDestroy = function() {
                    this.particle = null
                }, e.prototype.onDisable = function() {
                    this.particle.resetSystem()
                }, e.prototype.onEnable = function() {
                    this.particle.resetSystem()
                }, r([c(cc.ParticleSystem)], e.prototype, "particle", void 0), r([s], e)
            }(cc.Component);
        o.ParticleSystemReset = l, cc._RF.pop()
    }, {}],
    PlayerRankingCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "51275Aa0PNICZTO3siH/duG", "PlayerRankingCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PlayerRankingCtrl = void 0;
        var c = t("../../../../Component/BundleCtrl"),
            l = t("../../../../Helper/EventSystem"),
            u = t("../../../../Net/ClickLog"),
            p = t("../../../../Net/ClickLogEnum"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labRank = null, e.m_labID = null, e.m_labQuestionMark = null, e.m_labProgress = null, e.m_labTimestamp = null, e.m_labBonus = null, e.m_spAvatarFace = null, e.m_spAvatarFaceFrame = null, e.m_labNickName = null, e.m_nodeHighlightBG = null, e.m_nodeCrowns = [], e.m_strArkID = "", e.m_numRank = -1, e.m_isInAwardPanel = !1, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Insert(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Remove(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.init = function(t, e, o, n, i, r, l, u, p, m, h) {
                    return a(this, void 0, void 0, function() {
                        var a, d, _, g;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    for (a = 0; a < this.m_nodeCrowns.length; a++) this.m_nodeCrowns[a].active = a == t;
                                    return this.m_labRank.string = t >= 0 && t <= 2 ? "" : -1 == t ? "-" : (t + 1).toString(), this.m_labID.string = "es" == SS.Common.GameEnvironment.Language ? "N\xfam. " + e : "No." + e, this.m_labProgress.string = "x " + o.toString(), this.m_labTimestamp.string = -1 == n ? "" : this.tsToDateTime(n), d = "es" != SS.Common.GameEnvironment.Language, SS.Common.GameEnvironment.Language, this.m_labBonus.string = SS.Common.BaseFunction.addCommas(i, 0, d), this.m_nodeHighlightBG.active = r, this.m_labQuestionMark.enabled = !0, this.m_labProgress.enabled = !1, this.m_labTimestamp.enabled = !1, this.m_numRank = t, this.m_isInAwardPanel = h, this.m_strArkID = m, this.m_labNickName.string = p, l && "" != l || (l = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", l)];
                                case 1:
                                    return _ = s.sent(), this.m_spAvatarFace.spriteFrame = _ || null, u && "" != u ? [4, c.default.Instance.GetSpirte("Avatar", u)] : [3, 3];
                                case 2:
                                    return (g = s.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = g), [3, 4];
                                case 3:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.reveal = function() {
                    this.m_labQuestionMark.enabled = !1, this.m_labProgress.enabled = !0, this.m_labTimestamp.enabled = !0
                }, e.prototype.tsToDateTime = function(t) {
                    return new Date(1e3 * (t += 3600)).toLocaleTimeString("en-US", {
                        timeZone: "EST",
                        month: "numeric",
                        day: "numeric",
                        hour12: !1
                    })
                }, e.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labNickName && (this.m_labNickName.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFace && (this.m_spAvatarFace.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFaceFrame && (this.m_spAvatarFaceFrame.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, c.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.onClickProfileBtn = function(t, e) {
                    var o = this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id;
                    l.EventSystem.Event(l.Profile.OpenProfile).Length > 0 && "" != this.m_strArkID && null != this.m_strArkID && (l.EventSystem.Event(l.Profile.OpenProfile).Notify(o, this.m_strArkID), this.SetClickLog(o, e))
                }, e.prototype.SetClickLog = function(t, e) {
                    var o = this.m_numRank,
                        n = -1,
                        i = -1;
                    if (this.m_isInAwardPanel) {
                        if ("RankBonus" == e)
                            if (1 == t) switch (n = p.LogType_Profile.OpenPanel, o) {
                                case 0:
                                    i = p.LogEvent_OpenPanel.InRankBonusAward_1stPlace;
                                    break;
                                case 1:
                                    i = p.LogEvent_OpenPanel.InRankBonusAward_2ndPlace;
                                    break;
                                case 2:
                                    i = p.LogEvent_OpenPanel.InRankBonusAward_3rdPlace;
                                    break;
                                default:
                                    i = p.LogEvent_OpenPanel.InRankBonusAward_OutsideTop3
                            } else switch (n = p.LogType_Profile.OpenOthersPanel, o) {
                                case 0:
                                    i = p.LogEvent_OpenOthersPanel.InRankBonusAward_1stPlace;
                                    break;
                                case 1:
                                    i = p.LogEvent_OpenOthersPanel.InRankBonusAward_2ndPlace;
                                    break;
                                case 2:
                                    i = p.LogEvent_OpenOthersPanel.InRankBonusAward_3rdPlace;
                                    break;
                                default:
                                    i = p.LogEvent_OpenOthersPanel.InRankBonusAward_OutsideTop3
                            } else if ("FishRankBonus" == e)
                                if (1 == t) switch (n = p.LogType_Profile.OpenPanel, o) {
                                    case 0:
                                        i = p.LogEvent_OpenPanel.InFishRankBonusAward_1stPlace;
                                        break;
                                    case 1:
                                        i = p.LogEvent_OpenPanel.InFishRankBonusAward_2ndPlace;
                                        break;
                                    case 2:
                                        i = p.LogEvent_OpenPanel.InFishRankBonusAward_3rdPlace;
                                        break;
                                    default:
                                        i = p.LogEvent_OpenPanel.InFishRankBonusAward_OutsideTop3
                                } else switch (n = p.LogType_Profile.OpenOthersPanel, o) {
                                    case 0:
                                        i = p.LogEvent_OpenOthersPanel.InFishRankBonusAward_1stPlace;
                                        break;
                                    case 1:
                                        i = p.LogEvent_OpenOthersPanel.InFishRankBonusAward_2ndPlace;
                                        break;
                                    case 2:
                                        i = p.LogEvent_OpenOthersPanel.InFishRankBonusAward_3rdPlace;
                                        break;
                                    default:
                                        i = p.LogEvent_OpenOthersPanel.InFishRankBonusAward_OutsideTop3
                                }
                    } else if ("RankBonus" == e)
                        if (1 == t) switch (n = p.LogType_Profile.OpenPanel, o) {
                            case 0:
                                i = p.LogEvent_OpenPanel.InRankBonus_1stPlace;
                                break;
                            case 1:
                                i = p.LogEvent_OpenPanel.InRankBonus_2ndPlace;
                                break;
                            case 2:
                                i = p.LogEvent_OpenPanel.InRankBonus_3rdPlace;
                                break;
                            default:
                                i = p.LogEvent_OpenPanel.InRankBonus_OutsideTop3
                        } else switch (n = p.LogType_Profile.OpenOthersPanel, o) {
                            case 0:
                                i = p.LogEvent_OpenOthersPanel.InRankBonus_1stPlace;
                                break;
                            case 1:
                                i = p.LogEvent_OpenOthersPanel.InRankBonus_2ndPlace;
                                break;
                            case 2:
                                i = p.LogEvent_OpenOthersPanel.InRankBonus_3rdPlace;
                                break;
                            default:
                                i = p.LogEvent_OpenOthersPanel.InRankBonus_OutsideTop3
                        } else if ("FishRankBonus" == e)
                            if (1 == t) switch (n = p.LogType_Profile.OpenPanel, o) {
                                case 0:
                                    i = p.LogEvent_OpenPanel.InFishRankBonus_1stPlace;
                                    break;
                                case 1:
                                    i = p.LogEvent_OpenPanel.InFishRankBonus_2ndPlace;
                                    break;
                                case 2:
                                    i = p.LogEvent_OpenPanel.InFishRankBonus_3rdPlace;
                                    break;
                                default:
                                    i = p.LogEvent_OpenPanel.InFishRankBonus_OutsideTop3
                            } else switch (n = p.LogType_Profile.OpenOthersPanel, o) {
                                case 0:
                                    i = p.LogEvent_OpenOthersPanel.InFishRankBonus_1stPlace;
                                    break;
                                case 1:
                                    i = p.LogEvent_OpenOthersPanel.InFishRankBonus_2ndPlace;
                                    break;
                                case 2:
                                    i = p.LogEvent_OpenOthersPanel.InFishRankBonus_3rdPlace;
                                    break;
                                default:
                                    i = p.LogEvent_OpenOthersPanel.InFishRankBonus_OutsideTop3
                            }
                    u.ClickLog.recordClickLog(p.LogName.Profile, -1, n, i)
                }, r([d(cc.Label)], e.prototype, "m_labRank", void 0), r([d(cc.Label)], e.prototype, "m_labID", void 0), r([d(cc.Label)], e.prototype, "m_labQuestionMark", void 0), r([d(cc.Label)], e.prototype, "m_labProgress", void 0), r([d(cc.Label)], e.prototype, "m_labTimestamp", void 0), r([d(cc.Label)], e.prototype, "m_labBonus", void 0), r([d(cc.Sprite)], e.prototype, "m_spAvatarFace", void 0), r([d(cc.Sprite)], e.prototype, "m_spAvatarFaceFrame", void 0), r([d(cc.Label)], e.prototype, "m_labNickName", void 0), r([d(cc.Node)], e.prototype, "m_nodeHighlightBG", void 0), r([d([cc.Node])], e.prototype, "m_nodeCrowns", void 0), r([h], e)
            }(cc.Component);
        o.PlayerRankingCtrl = _, cc._RF.pop()
    }, {
        "../../../../Component/BundleCtrl": "BundleCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../Net/ClickLog": "ClickLog",
        "../../../../Net/ClickLogEnum": "ClickLogEnum"
    }],
    PlayerRankingMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "cc15cLmy2JMW6vseZF65nmx", "PlayerRankingMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PlayerRankingMgr = void 0;
        var c = t("./PlayerRankingCtrl"),
            l = t("./RankBonusTotalProgress"),
            u = t("../CommBonusData"),
            p = t("../../../../Net/LobbyClient"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property,
            _ = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_scroll = null, e.m_nodeContent = null, e.m_prefabPlayer = null, e.m_RankBonusTotalProgress = null, e.m_nodePool = null, e.m_arrPlayerRankingCtrl = [], e.m_iRevealCtr = 0, e.m_bReveal = !1, e.m_isRecvPlayerProfileList = !1, e.m_PlayerProfileList = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_prefabPlayer);
                        this.m_nodePool.put(e)
                    }
                }, e.prototype.scrollToPlayer = function() {
                    this.m_arrPlayerRankingCtrl.length > 4 && (this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(1 - this.m_iRevealCtr / (this.m_arrPlayerRankingCtrl.length - 3)))
                }, e.prototype.scrollToTop = function() {
                    this.m_scroll.scrollToTop()
                }, e.prototype.Clear = function() {
                    var t = this;
                    console.warn("PlayerRankingMgr.Clear"), this.m_arrPlayerRankingCtrl.forEach(function(e) {
                        t.m_nodePool.put(e.node)
                    }), this.m_arrPlayerRankingCtrl = []
                }, e.prototype.recvPlayerProfileList = function(t, e) {
                    null == e || null == e ? cc.error("!!! recvPlayerProfileList is null !!! ", t, e) : e.hasOwnProperty("cmd_data") && e.cmd_data.hasOwnProperty("player_profile_list") && (this.m_PlayerProfileList = e.cmd_data.player_profile_list), this.m_isRecvPlayerProfileList = !0
                }, e.prototype.waitPlayerProfileList = function() {
                    return a(this, void 0, void 0, function() {
                        var t, e, o;
                        return s(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    t = 0, e = .2, o = 15, n.label = 1;
                                case 1:
                                    return 0 == this.m_isRecvPlayerProfileList && t < o ? (t += e, [4, SS.Common.WaitForSeconds(e)]) : [3, 3];
                                case 2:
                                    return n.sent(), [3, 1];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, e.prototype.CheckPlayerProfileList = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n, i;
                        return s(this, function(r) {
                            switch (r.label) {
                                case 0:
                                    if (null == (e = t.bonusData.ranking_list) || null == e || e == []) return cc.warn("rankingPlayerList no data. ", t), [2];
                                    for (o = [], n = 0; n < e.length && n < t.RankSize; n++) e[n].ark_id && "" != e[n].ark_id && o.push(e[n].ark_id);
                                    return null == o ? (cc.log("CheckPlayerProfileList no data. ", t), [2]) : (this.m_PlayerProfileList = null, this.m_isRecvPlayerProfileList = !1, p.LobbyClient.Instance.GetUserClient.getPlayerProfileList(o, this.recvPlayerProfileList.bind(this)), [4, this.waitPlayerProfileList()]);
                                case 1:
                                    for (r.sent(), n = 0; n < t.bonusData.ranking_list.length; n++)
                                        if (null != this.m_PlayerProfileList)
                                            for (i = 0; i < this.m_PlayerProfileList.length; i++)
                                                if (this.m_PlayerProfileList[i].hasOwnProperty("ark_id") && this.m_PlayerProfileList[i].ark_id == e[n].ark_id && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar") && this.m_PlayerProfileList[i].hasOwnProperty("equip_avatar_frame") && this.m_PlayerProfileList[i].hasOwnProperty("nick_name")) {
                                                    t.bonusData.ranking_list[n].AvatarID = this.m_PlayerProfileList[i].equip_avatar, t.bonusData.ranking_list[n].AvatarFrameID = this.m_PlayerProfileList[i].equip_avatar_frame, t.bonusData.ranking_list[n].Nickname = this.m_PlayerProfileList[i].nick_name;
                                                    break
                                                }
                                    return e = null, o = null, [2]
                            }
                        })
                    })
                }, e.prototype.showRanking = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e, o, n, i, r, a, c, l, p;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return [4, this.CheckPlayerProfileList(t)];
                                case 1:
                                    for (s.sent(), console.warn("showRanking = ", t), e = t.m_arrRankAwardData, o = t.bonusData.ranking_list, n = t.bonusData.ranking_id, this.m_selfPlayerRankingCtrl && (this.m_selfPlayerRankingCtrl.node.active = !1), this.m_bReveal = !1, this.m_iRevealCtr = -1, i = !0, r = 0; r < o.length && r < t.RankSize; r++) {
                                        for (a = void 0, c = 0; c < e.length; c++)
                                            if (r + 1 <= e[c].End) {
                                                a = e[c].Award;
                                                break
                                            }(l = n == o[r].ranking_id) && (i = !1), a = "es" == SS.Common.GameEnvironment.Language ? a : a * t.bonusData.exchange_rate, this.setRankingPlayer(r, o[r], l, a)
                                    }
                                    return i && ((p = new u.RankingPlayerData).amount = t.CustomAmount, p.ranking_id = n, p.AvatarID = SS.Network.UserClient.UserInfo.avatar_id, p.AvatarFrameID = SS.Network.UserClient.UserInfo.avatar_frame_id, p.Nickname = SS.Network.UserClient.UserInfo.nickname, p.ark_id = SS.Network.LoginModel.LoginInfo.pin_ark_id, p.time = -1, this.setRankingPlayer(-1, p, !0, 0)), [2]
                            }
                        })
                    })
                }, e.prototype.setRankingPlayer = function(t, e, o, n) {
                    if (void 0 === n && (n = 0), null != e && null != e.amount && null != e.ranking_id && null != e.time)
                        if (-1 == t) null == this.m_selfPlayerRankingCtrl ? ((i = cc.instantiate(this.m_prefabPlayer)).parent = this.m_nodeContent, i.setSiblingIndex(9999), this.m_selfPlayerRankingCtrl = i.getComponent(c.PlayerRankingCtrl)) : (this.m_selfPlayerRankingCtrl.node.active = !0, this.m_selfPlayerRankingCtrl.node.setSiblingIndex(9999)), this.m_selfPlayerRankingCtrl.init(t, e.ranking_id, e.amount, -1, n, o, e.AvatarID, e.AvatarFrameID, e.Nickname, e.ark_id, !1), this.m_selfPlayerRankingCtrl.reveal(), this.m_RankBonusTotalProgress.setRankingInfo(t, e.ranking_id, n, e.AvatarID, e.AvatarFrameID, e.Nickname, e.ark_id);
                        else {
                            var i, r = this.m_arrPlayerRankingCtrl[t];
                            null == r && ((i = cc.instantiate(this.m_prefabPlayer)).parent = this.m_nodeContent, r = i.getComponent(c.PlayerRankingCtrl), this.m_arrPlayerRankingCtrl.push(r)), r.init(t, e.ranking_id, e.amount, -1, n, o, e.AvatarID, e.AvatarFrameID, e.Nickname, e.ark_id, !1), this.m_bReveal || (o ? (this.m_bReveal = !0, this.m_arrPlayerRankingCtrl[this.m_iRevealCtr] && this.m_arrPlayerRankingCtrl[this.m_iRevealCtr].reveal(), this.m_RankBonusTotalProgress.setRankingInfo(t, e.ranking_id, n, e.AvatarID, e.AvatarFrameID, e.Nickname, e.ark_id)) : this.m_iRevealCtr = t), (this.m_bReveal || t > 2) && r.reveal()
                        }
                }, r([d(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([d(cc.Node)], e.prototype, "m_nodeContent", void 0), r([d(cc.Prefab)], e.prototype, "m_prefabPlayer", void 0), r([d(l.RankBonusTotalProgress)], e.prototype, "m_RankBonusTotalProgress", void 0), r([h], e)
            }(cc.Component);
        o.PlayerRankingMgr = _, cc._RF.pop()
    }, {
        "../../../../Net/LobbyClient": "LobbyClient",
        "../CommBonusData": "CommBonusData",
        "./PlayerRankingCtrl": "PlayerRankingCtrl",
        "./RankBonusTotalProgress": "RankBonusTotalProgress"
    }],
    PopUpMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "67ffbhIDo5CPZDmSbEND8wo", "PopUpMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PopUpMgr = void 0;
        var a = t("../../Component/AudioMgr"),
            s = t("./PopUpTimerMgr"),
            c = t("./PriorityCustomEvent"),
            l = t("../TmpRegulationPage/TmpRegulationPage"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function() {
                this.popupBgSF = null, this.popupName = "", this.buttonText = "", this.buttonAction = "", this.buttonCustomEventID = "", this.onClickEvent = null, this.onShowEvent = null, this.onCloseEvent = null, this.eventData = null
            },
            d = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.popup = null, e.popupBg = null, e.popupCloseBtn = null, e.popupBtn = null, e.timerNode = null, e.GoBtnSpriteStyle = null, e.OkBtnSpriteStyle = null, e.MoreBtnSpriteStyle = null, e.CustomBtnSpriteStyle = null, e.tmpRegulationPage = null, e.showPopupIndex = 0, e.curDownloadNum = 0, e.needDownloadMaxNum = 0, e.popCmdData = null, e.popupBtnSprite = null, e.tmpPopupResAry = [], e.popupInfoMembers = [], e.OpenPopupWebviewEvent = null, e.SwitchGameEvent = null, e.m_PopUpTimerMgr = null, e.curOpenEventName = [], e.priorityShowEvents = [], e.onCloseAllPopupEvent = [], e.isFirstLogin = !1, e.rulePageNoCallback = null, e
                }
                return i(e, t), e.prototype._onLoad = function() {}, e.prototype._start = function() {
                    this.root.active = !1, this.popup.active = !1, this.tmpRegulationPage && (this.tmpRegulationPage.node.active = !1), this.popupBtnSprite = this.popupBtn.getComponent(cc.Sprite)
                }, e.prototype._onDestroy = function() {
                    if (this.popupInfoMembers && this.popupInfoMembers.length > 0)
                        for (var t = 0; t < this.popupInfoMembers.length; t++) this.popupInfoMembers[t] = null;
                    if (this.tmpPopupResAry && this.tmpPopupResAry.length > 0) {
                        for (t = 0; t < this.tmpPopupResAry.length; t++) cc.loader.release(this.tmpPopupResAry[t]);
                        this.tmpPopupResAry = []
                    }
                }, e.prototype.SavePopupCmdData = function(t) {
                    console.log("[popup Data]", t), this.popCmdData = t
                }, e.prototype.PopupDataInit = function() {
                    this.curDownloadNum = 0, this.needDownloadMaxNum = 0, (null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion) && this.popCmdData && this.popCmdData.hasOwnProperty("pop_up_info") && (this.root.active = !0, this.filterDisableGame())
                }, e.prototype.setEventPopUp = function(t) {
                    for (var e = this, o = t.m_sBannerID, n = !1, i = 0; i < this.popupInfoMembers.length; i++)
                        if (this.popupInfoMembers[i].buttonCustomEventID == t.m_sBannerID) {
                            n = !0, this.popupInfoMembers[i].eventData = t, t.m_fucClickEvent && (this.popupInfoMembers[i].onClickEvent = function() {
                                t.m_fucClickEvent(), e.ClosePopup()
                            }), t.m_funShowPopupEvent && (this.popupInfoMembers[i].onShowEvent = function() {
                                t.m_funShowPopupEvent()
                            }), this.popupInfoMembers[i].onCloseEvent = this.ShowNextPopup.bind(this);
                            break
                        }
                    console.warn("popupInfoMembers :", this.popupInfoMembers), n || console.warn("[Set MissionPopup ButtonCustomEvent Error] Not find this Key!!", o)
                }, e.prototype.GetDownloadPath = function(t) {
                    var e, o = SS.Common.GameEnvironment.ProjectSetting;
                    return e = (o.CDN_HOST ? window.location.protocol + "//" + o.CDN_HOST : "../../..") + "/Popup/" + this.popCmdData.pop_up_version + "/" + t + ".png", console.warn("[Download popupImg Path] = " + e), e
                }, e.prototype.filterDisableGame = function() {
                    for (var t = this, e = function(e) {
                            var n = !0,
                                i = o.popCmdData.pop_up_info[e].mode,
                                r = o.popCmdData.pop_up_info[e].bundle_name,
                                a = o.popCmdData.pop_up_info[e].button_text,
                                s = o.popCmdData.pop_up_info[e].button_action;
                            if (-1 == s.toUpperCase().indexOf("RULE")) return {
                                value: void 0
                            };
                            for (var l = 0; l < i.length; l++)
                                if (i[l] == window.gd_LogoMode) {
                                    n = !1;
                                    break
                                }
                            if (!n)
                                if (-1 != s.toUpperCase().indexOf("GAME_ID")) {
                                    for (var u = !1, p = s.substring(s.indexOf("=") + 1), m = o.GetThemeIdByGameName(p), h = 0; h < SS.Common.GameEnvironment.GameSetting.kioskOpenGameList.length; h++)
                                        if (SS.Common.GameEnvironment.GameSetting.kioskOpenGameList[h] == m) {
                                            u = !0;
                                            break
                                        }
                                    "" != p && u && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(p) && (o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, a, s, "", function() {
                                        t.OpenReCheckGameWindow(m)
                                    }, o.ShowNextPopup.bind(o)))
                                } else if (-1 != s.toUpperCase().indexOf("CUSTOM_ID"))
                                for (h = 0; h < o.curOpenEventName.length; h++) {
                                    var d = s.substring(s.indexOf("=") + 1);
                                    if (d == o.curOpenEventName[h]) {
                                        o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, a, s, d, o.ShowNextPopup.bind(o), o.ShowNextPopup.bind(o));
                                        break
                                    }
                                } else if (-1 != s.toUpperCase().indexOf("URL")) {
                                    o.needDownloadMaxNum++;
                                    var _ = s.substring(s.indexOf("=") + 1);
                                    o.AddDownloadPopupInfo(r, a, s, "", function() {
                                        t.OpenPopupWebview(_)
                                    }, o.ShowNextPopup.bind(o))
                                } else if (-1 != s.toUpperCase().indexOf("RULE") && o.isFirstLogin) {
                                o.needDownloadMaxNum++;
                                var g = o.GetDownloadPath(r);
                                console.log("popup image downloadPath = " + g), cc.assetManager.loadRemote(g, function(e, o) {
                                    if (e) return t.curDownloadNum += 1, void console.warn("[popup Image Download is notFind !!] ", e);
                                    console.log("[popup Image Download is onFinish !!]", o), t.curDownloadNum += 1, t.tmpRegulationPage.SetData(a, new cc.SpriteFrame(o));
                                    var n = new c.PriorityCustomEvent(100, t.ShowRulePopup.bind(t));
                                    t.priorityShowEvents.push(n)
                                })
                            } else o.needDownloadMaxNum++, o.AddDownloadPopupInfo(r, a, s, "", o.ShowNextPopup.bind(o), o.ShowNextPopup.bind(o))
                        }, o = this, n = 0; n < this.popCmdData.pop_up_info.length; n++) {
                        var i = e(n);
                        if ("object" == typeof i) return i.value
                    }
                }, e.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, e.prototype.AddDownloadPopupInfo = function(t, e, o, n, i, r) {
                    var a = this,
                        s = this,
                        c = this.GetDownloadPath(t),
                        l = new h;
                    l.popupName = t, l.buttonText = e, l.buttonAction = o, l.buttonCustomEventID = n, l.onClickEvent = i, l.onCloseEvent = r, this.popupInfoMembers.push(l), console.log("popup image downloadPath = " + c), cc.assetManager.loadRemote(c, function(t, e) {
                        if (t) return s.curDownloadNum += 1, void console.warn("[popup Image Download is notFind !!] ", t);
                        console.log("[popup Image Download is onFinish !!]", e), a.tmpPopupResAry.push(e), s.curDownloadNum += 1;
                        for (var o = 0; o < a.popupInfoMembers.length; o++)
                            if (a.popupInfoMembers[o].popupName + ".png" == e.url.substring(e.url.lastIndexOf("/") + 1)) {
                                l.popupBgSF = new cc.SpriteFrame(e);
                                break
                            }
                    })
                }, e.prototype.IsCompleteLoadAllPopup = function() {
                    return this.curDownloadNum >= this.needDownloadMaxNum && (console.warn("[Popup \u6210\u529f\u5b8c\u6210\u6240\u6709\u8f09\u5165]"), !0)
                }, e.prototype.checkAndShowPopup = function() {
                    console.log("[Popup]checkAndShowPopup!! priorityShowEvents: ", this.priorityShowEvents);
                    var t = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                    if (this.priorityShowEvents.length > 0) {
                        for (var e = -1, o = -1, n = null, i = 0; i < this.priorityShowEvents.length; i++) {
                            var r = this.priorityShowEvents[i];
                            r.priority >= o && (e = i, o = r.priority, n = r.executeEvent)
                        }
                        this.priorityShowEvents.splice(e, 1), null != n && n()
                    } else t && this.ShowNormalPopup()
                }, e.prototype.ShowNormalPopup = function() {
                    if (this.isFirstLogin && this.popupInfoMembers.length > 0 && this.showPopupIndex < this.popupInfoMembers.length && this.popupInfoMembers[this.showPopupIndex]) {
                        var t = this.popupInfoMembers[this.showPopupIndex];
                        null == t.popupBgSF ? this.ShowNextPopup() : "" == t.buttonCustomEventID || null != t.eventData && t.eventData.m_bValid ? this.Showing() : this.ShowNextPopup()
                    } else this.showPopupIndex >= this.popupInfoMembers.length && this.ClosePopup()
                }, e.prototype.Showing = function() {
                    console.log("[Popup]cur show\u7b2c " + this.showPopupIndex + " \u5f35 popup !!");
                    var t = this.popup.getChildByName("EventObj");
                    t && (t.active = !1);
                    var e = new cc.Component.EventHandler;
                    e.target = this.node, e.component = "PopUpMgr", e.handler = "RegisteredBtnClickEvent", e.customEventData = this.showPopupIndex.toString();
                    var o = new cc.Component.EventHandler;
                    o.target = this.node, o.component = "PopUpMgr", o.handler = "RegisteredCloseBtnClickEvent", o.customEventData = this.showPopupIndex.toString(), this.popupBtn.clickEvents = [], this.popupBtn.clickEvents.push(e), this.popupCloseBtn.clickEvents = [], this.popupCloseBtn.clickEvents.push(o);
                    var n = this.popupInfoMembers[this.showPopupIndex].buttonText.toUpperCase();
                    if (-1 != n.indexOf("OK") ? this.popupBtnSprite.spriteFrame = this.OkBtnSpriteStyle : -1 != n.indexOf("GO") ? this.popupBtnSprite.spriteFrame = this.GoBtnSpriteStyle : -1 != n.indexOf("MORE") ? this.popupBtnSprite.spriteFrame = this.MoreBtnSpriteStyle : this.popupBtnSprite.spriteFrame = this.CustomBtnSpriteStyle, this.popupBg.spriteFrame = this.popupInfoMembers[this.showPopupIndex].popupBgSF, this.popupInfoMembers[this.showPopupIndex].eventData && this.popupInfoMembers[this.showPopupIndex].eventData.m_funShowPopupEvent) {
                        var i = this.popupInfoMembers[this.showPopupIndex].eventData.m_funShowPopupEvent();
                        i && (i.name = "EventObj", i.setParent(this.popup))
                    }
                    if (this.popupInfoMembers[this.showPopupIndex].eventData && this.popupInfoMembers[this.showPopupIndex].eventData.m_funTimerEvent) {
                        var r = this.popupInfoMembers[this.showPopupIndex].eventData.m_funTimerEvent();
                        this.timerNode.active = !0, console.error("ShowPopup!!!!!!!!!! eventTime = " + r), null == this.m_PopUpTimerMgr && (this.m_PopUpTimerMgr = this.timerNode.getComponent(s.default)), this.m_PopUpTimerMgr.InitTimer(r)
                    } else null != this.m_PopUpTimerMgr && this.m_PopUpTimerMgr.ClearTimer(), this.timerNode.active = !1;
                    this.popup.active = !0, this.tmpRegulationPage && (this.tmpRegulationPage.node.active = !1)
                }, e.prototype.RegisteredBtnClickEvent = function(t, e) {
                    a.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = e;
                    this.popupInfoMembers[o].onClickEvent()
                }, e.prototype.RegisteredCloseBtnClickEvent = function(t, e) {
                    a.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = e;
                    this.popupInfoMembers[o].onCloseEvent()
                }, e.prototype.ShowNextPopup = function() {
                    this.showPopupIndex < this.popupInfoMembers.length - 1 ? (this.showPopupIndex++, console.log("[Popup]\u986f\u793a\u4e0b\u4e00\u5f35popup"), this.ShowNormalPopup()) : this.ClosePopup()
                }, e.prototype.ClosePopup = function() {
                    if (console.log("[Popup]\u95dc\u9589 popup !!"), this.root.active = !1, this.popup.active = !1, this.tmpRegulationPage && (this.tmpRegulationPage.node.active = !1), null != this.m_PopUpTimerMgr && this.m_PopUpTimerMgr.ClearTimer(), null != this.onCloseAllPopupEvent)
                        for (var t = 0; t < this.onCloseAllPopupEvent.length; t++) this.onCloseAllPopupEvent[t]()
                }, e.prototype.SetPopupFeature = function(t, e) {
                    this.SwitchGameEvent = t, this.OpenPopupWebviewEvent = e
                }, e.prototype.OpenReCheckGameWindow = function(t) {
                    null != this.SwitchGameEvent && this.SwitchGameEvent(t)
                }, e.prototype.OpenPopupWebview = function(t) {
                    null != this.OpenPopupWebviewEvent && this.OpenPopupWebviewEvent(t)
                }, e.prototype.ShowRulePopup = function() {
                    this.tmpRegulationPage && this.tmpRegulationPage.Open(this.checkAndShowPopup.bind(this), this.rulePageNoCallback) || this.checkAndShowPopup()
                }, r([m(cc.Node)], e.prototype, "root", void 0), r([m(cc.Node)], e.prototype, "popup", void 0), r([m(cc.Sprite)], e.prototype, "popupBg", void 0), r([m(cc.Button)], e.prototype, "popupCloseBtn", void 0), r([m(cc.Button)], e.prototype, "popupBtn", void 0), r([m(cc.Node)], e.prototype, "timerNode", void 0), r([m(cc.SpriteFrame)], e.prototype, "GoBtnSpriteStyle", void 0), r([m(cc.SpriteFrame)], e.prototype, "OkBtnSpriteStyle", void 0), r([m(cc.SpriteFrame)], e.prototype, "MoreBtnSpriteStyle", void 0), r([m(cc.SpriteFrame)], e.prototype, "CustomBtnSpriteStyle", void 0), r([m({
                    type: l.TmpRegulationPage,
                    displayName: "\u6cd5\u898f\u9801"
                })], e.prototype, "tmpRegulationPage", void 0), r([p], e)
            }(cc.Component);
        o.PopUpMgr = d, cc._RF.pop()
    }, {
        "../../Component/AudioMgr": "AudioMgr",
        "../TmpRegulationPage/TmpRegulationPage": "TmpRegulationPage",
        "./PopUpTimerMgr": "PopUpTimerMgr",
        "./PriorityCustomEvent": "PriorityCustomEvent"
    }],
    PopUpTimerMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "241cfT65V5MY7wvwzDtm/a5", "PopUpTimerMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labTime1 = null, e.m_labTime2 = null, e.m_labTime3 = null, e.m_iCountDownTime = 0, e.m_iIntervalID = -1, e.m_colorRed = new cc.Color(255, 40, 40, 255), e.m_timesUpCallback = null, e
                }
                return i(e, t), e.prototype.InitTimer = function(t) {
                    this.StartConutDownTimer(t)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.m_iIntervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.m_iIntervalID && clearInterval(this.m_iIntervalID)
                }, e.prototype.StartConutDownTimer = function(t) {
                    var e = this;
                    console.warn("popup \u8a2d\u5b9a\u6642\u9593\u5012\u6578 = " + t), this.m_iCountDownTime = t, this.UpdateUI(this.m_iCountDownTime), -1 != this.m_iIntervalID && clearInterval(this.m_iIntervalID), this.m_iIntervalID = setInterval(function() {
                        return e.Timer()
                    }, 1e3)
                }, e.prototype.Timer = function() {
                    --this.m_iCountDownTime, this.m_iCountDownTime <= 0 && (this.m_iCountDownTime = 0, this.PauseTimer(), this.m_timesUpCallback && this.m_timesUpCallback()), this.UpdateUI(this.m_iCountDownTime)
                }, e.prototype.UpdateUI = function(t) {
                    if (null != this.m_labTime1 && null != this.m_labTime2 && null != this.m_labTime3) {
                        var e = t % 60,
                            o = Math.floor(t / 60) % 60,
                            n = Math.floor(t / 3600),
                            i = Math.floor(n / 24);
                        n %= 24, i > 0 ? (this.m_labTime1.string = i + " d", this.m_labTime2.string = n + " h", this.m_labTime3.string = o + " m", this.SetLabeFormate(this.m_labTime1, cc.Color.WHITE, !1), this.SetLabeFormate(this.m_labTime2, cc.Color.WHITE, !1), this.SetLabeFormate(this.m_labTime3, cc.Color.WHITE, !1)) : (this.m_labTime1.string = this.AddZero(n) + " h", this.m_labTime2.string = this.AddZero(o) + " m", this.m_labTime3.string = this.AddZero(e) + " s", 0 == n && (this.SetLabeFormate(this.m_labTime1, this.m_colorRed, !0), this.SetLabeFormate(this.m_labTime2, this.m_colorRed, !0), this.SetLabeFormate(this.m_labTime3, this.m_colorRed, !0)))
                    }
                }, e.prototype.SetLabeFormate = function(t, e, o) {
                    t.node.color = e, t.enableBold = o
                }, e.prototype.AddZero = function(t) {
                    return t < 10 ? "0" + t.toString() : t.toString()
                }, r([c(cc.Label)], e.prototype, "m_labTime1", void 0), r([c(cc.Label)], e.prototype, "m_labTime2", void 0), r([c(cc.Label)], e.prototype, "m_labTime3", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    PopupMsgMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6f9a1uzkQtHI5tecSUhv6Um", "PopupMsgMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PopupMsgMgr = o.PopupPriority = void 0;
        var a, s = t("../../Net/LobbyClient"),
            c = t("../../Loading/Script/LoadingMgr"),
            l = t("../../Connect/Script/ConnectPanelMgr"),
            u = t("../../../GameCommon/CommonRoot/Script/CommonRoot"),
            p = t("../../Component/ReturnLobbyHandler"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property;
        (function(t) {
            t[t.null = -1] = "null", t[t.Info = 0] = "Info", t[t.Warning = 1] = "Warning", t[t.Error = 2] = "Error", t[t.Disconnected = 3] = "Disconnected", t[t.Critical = 4] = "Critical"
        })(a = o.PopupPriority || (o.PopupPriority = {}));
        var _ = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.root = null, e.content = null, e.code = null, e.title = null, e.toLobbyHandler = null, e.nowPirority = a.null, e
            }
            var o;
            return i(e, t), o = e, e.prototype.onLoad = function() {
                null == o.Instance && (o.Instance = this)
            }, e.prototype.start = function() {
                this.toLobbyHandler = new p.ReturnLobbyHandler
            }, e.prototype.SetPopupMsgTitle = function() {
                try {
                    null != this.title && ("en" == SS.Common.GameEnvironment.Language ? this.title.string = "Message" : this.title.string = "Mensaje")
                } catch (t) {
                    console.error("[SetPopupMsgTitle Error] SS Module Not yet downloaded")
                }
            }, e.prototype.onDestroy = function() {
                this.nowPirority = null, this.nowErrorHandle = null, o.Instance = null
            }, e.prototype.OnClickedClose = function() {
                this.ClosePopMsg()
            }, e.prototype.OnClickedOK = function() {
                this.ClosePopMsg()
            }, e.prototype.ClosePopMsg = function() {
                null != this.nowErrorHandle && this.nowErrorHandle(), this.root.active = !1, this.nowPirority = a.null, this.nowErrorHandle = null
            }, e.prototype.ShowPopMsg = function(t, e, o, n, i, r) {
                var c = this;
                void 0 === i && (i = null), void 0 === r && (r = ""), u.CommonRoot.Instance && u.CommonRoot.Instance.GetInfoMgr && u.CommonRoot.Instance.GetInfoMgr.CloseInfoPage();
                var l = SS.Common.GameEnvironment.ErrorMsg && SS.Common.GameEnvironment.ErrorMsg[e] && "" != SS.Common.GameEnvironment.ErrorMsg[e] ? SS.Common.GameEnvironment.ErrorMsg[e] : "The Internet was lost! Please login again!";
                if (-1 != l.indexOf("{0}") && "" != r && (l = l.replace("{0}", r)), this.root.active && this.nowPirority > t) console.warn("PopupMsg return! ", "returnShowPopMsg", l, "code", e, "priority", t, "CallBackHandler", i);
                else {
                    var p, m = this;
                    if (t == a.Info ? p = console.log : t == a.Warning ? (p = console.warn, i || (i = function() {
                            m.WarningHandler()
                        })) : (p = console.error, i || (t == a.Critical ? i = function() {
                            m.CriticalHandler()
                        } : t == a.Error && (i = function() {
                            m.ErrorHandler()
                        }))), this.nowPirority = t, this.nowErrorHandle = function() {
                            c.isHideCursor && (c.isHideCursor = !1, cc.game.canvas.style.cursor = "none"), i && i()
                        }, this.content.string = l, this.code.string = e, p("ShowPopMsg", l, "code", e, "priority", t, "CallBackHandler", i), this.isHideCursor = "none" == cc.game.canvas.style.cursor, this.isHideCursor && (cc.game.canvas.style.cursor = "default"), cc.Camera.cameras.length > 0 && null != cc.Camera.cameras[0]) cc.Camera.cameras[0].node.active || (cc.Camera.cameras[0].node.active = !0);
                    else {
                        var h = cc.find("Canvas/Main Camera");
                        null != h ? h.active = !0 : console.error("Camera is not find")
                    }
                    if (SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.display = "none"), self != top) {
                        var d = SS.Common.GameEnvironment.GetGameIdByName(SS.Common.GameEnvironment.CurrentGameNow);
                        "" != d && s.LobbyClient.Instance.GetUserClient.SendSessionLengthEnd(d, null)
                    }
                    this.root.active = !0, s.LobbyClient.Instance && "maintain" != n && "updateVersion" != n && t != a.Info && s.LobbyClient.Instance.CollectErrorLog(t, e, o, n)
                }
            }, e.prototype.WarningHandler = function() {
                var t = self == top ? window : window.parent,
                    e = SS.Common.GameEnvironment.Language + "Lobby";
                null === cc.assetManager.bundles.find(function(t) {
                    return t._config.getSceneInfo(e)
                }) && (e = "Lobby"), t.gd_orientationType == t.orientationType.vertical ? (SS.Common.GameEnvironment.ChangeToGameName = "", this.toLobbyHandler.BackToLobby(this.OnLoadCallBack.bind(this), this.OnErrorCallBack.bind(this))) : this.ReloadHandler()
            }, e.prototype.OnLoadCallBack = function() {
                var t = this;
                (self == top ? window : window.parent).parent.gd_orientationType = 0, SS.Common.GameEnvironment.ResetOrientationchange(self == top), this.scheduleOnce(function() {
                    t.ReloadHandler()
                }, 1)
            }, e.prototype.OnErrorCallBack = function() {
                o.Instance.ShowPopMsg(a.Warning, "C44", "", "Load Error", null)
            }, e.prototype.ReloadHandler = function() {
                var t = SS.Common.GameEnvironment.Language + "Lobby";
                null === cc.assetManager.bundles.find(function(e) {
                    return e._config.getSceneInfo(t)
                }) && (t = "Lobby"), cc.director.getScene().name == t || "Game" == cc.director.getScene().name || "Game_Vertical" == cc.director.getScene().name ? s.LobbyClient.Instance.IsSocketConnect() ? (c.LoadingMgr.Instance.OpenLoading(), cc.director.loadScene(t)) : location.replace(this.GetIndexURL()) : cc.director.loadScene("ReleaseScene")
            }, e.prototype.ErrorHandler = function() {
                var t = this;
                c.LoadingMgr.Instance.OpenLoading(), s.LobbyClient.Instance.DoLogout(function() {
                    var t = SS.Common.GameEnvironment.Language + "Login";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Login")
                }, function(e, o) {
                    console.error("Logout error status :" + e, "data:", o), t.CriticalHandler()
                })
            }, e.prototype.CriticalHandler = function() {
                l.ConnectPanelMgr.Instance.ShowConnectPanel();
                try {
                    null != s.LobbyClient.Instance && s.LobbyClient.Instance.ReloadLobby ? s.LobbyClient.Instance.ReloadLobby() : SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? location.reload() : location.replace(this.GetIndexURL())
                } catch (t) {
                    location.replace(this.GetIndexURL())
                }
            }, e.prototype.GetIndexURL = function() {
                var t = "",
                    e = "",
                    o = this.GetURLParameterByName("KioskDEV");
                return this.GetURLParameterByName("standalone") && (o ? (t = "index.html", e = ",standalone=true") : (t = "index_ni.html", e = "?standalone=true")), o ? "../../../" + t + "/?KioskDEV=" + o + e : "../../../" + t + e
            }, e.prototype.GetURLParameterByName = function(t) {
                t = (t = t.toLowerCase()).replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var e = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(location.search.toLowerCase());
                return null === e ? "" : decodeURIComponent(e[1].replace(/\+/g, " "))
            }, e.Instance = null, r([d(cc.Node)], e.prototype, "root", void 0), r([d(cc.Label)], e.prototype, "content", void 0), r([d(cc.Label)], e.prototype, "code", void 0), r([d(cc.Label)], e.prototype, "title", void 0), o = r([h], e)
        }(cc.Component);
        o.PopupMsgMgr = _, cc._RF.pop()
    }, {
        "../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../Component/ReturnLobbyHandler": "ReturnLobbyHandler",
        "../../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../Loading/Script/LoadingMgr": "LoadingMgr",
        "../../Net/LobbyClient": "LobbyClient"
    }],
    PriorityCustomEvent: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bee1clYWj1A4J8kTgtqeqOX", "PriorityCustomEvent");
        var n = this && this.__decorate || function(t, e, o, n) {
            var i, r = arguments.length,
                a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
            else
                for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
            return r > 3 && a && Object.defineProperty(e, o, a), a
        };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PriorityCustomEvent = void 0;
        var i = cc._decorator,
            r = i.ccclass,
            a = (i.property, function() {
                function t(t, e) {
                    this.priority = -1, this.executeEvent = null, this.priority = t, this.executeEvent = e
                }
                return n([r], t)
            }());
        o.PriorityCustomEvent = a, cc._RF.pop()
    }, {}],
    ProfileBar: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "afd68gENZNCRb0UGihB5soa", "ProfileBar");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ProfileBar = void 0;
        var a, s = t("../../LobbyCommon/Helper/EventSystem"),
            c = t("../../LobbyCommon/Net/ClickLog"),
            l = t("../../LobbyCommon/Net/ClickLogEnum"),
            u = t("../../LobbyCommon/Net/LobbyClient"),
            p = t("../CommonRoot/Script/CommonRoot"),
            m = t("./RewardBroadcastMgr"),
            h = t("./RewardNoticeMgr"),
            d = cc._decorator,
            _ = d.ccclass,
            g = d.property;
        (function(t) {
            t[t.Lobby = 0] = "Lobby", t[t.Fish = 1] = "Fish", t[t.Slot = 2] = "Slot", t[t.Keno = 3] = "Keno"
        })(a || (a = {}));
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_btnProfileBar = null, e.m_isFishGame = !1, e
            }
            return i(e, t), e.prototype.start = function() {
                u.LobbyClient.Instance.GetJPSystem.OnRecordUpdateSignal.add(this.RecvRecordUpdateCmd, this)
            }, e.prototype.onDestroy = function() {
                u.LobbyClient.Instance && u.LobbyClient.Instance.GetJPSystem && u.LobbyClient.Instance.GetJPSystem.OnRecordUpdateSignal.remove(this.RecvRecordUpdateCmd, this)
            }, e.prototype.onEnable = function() {
                s.EventSystem.Event(s.Avatar.RequestUpdate).Length > 0 && s.EventSystem.Event(s.Avatar.RequestUpdate).Notify(), s.EventSystem.Event(s.Profile.SetBarButtonInteractive).Insert(this.onSetBarButton, this), s.EventSystem.Event(s.SwitchGame).Insert(this.onSwitchToFavoriteGame, this), s.EventSystem.Event(s.DoLogOut).Insert(this.onDoLogOut, this)
            }, e.prototype.onDisable = function() {
                s.EventSystem.Event(s.Profile.SetBarButtonInteractive).Remove(this.onSetBarButton, this), s.EventSystem.Event(s.SwitchGame).Remove(this.onSwitchToFavoriteGame, this), s.EventSystem.Event(s.DoLogOut).Remove(this.onDoLogOut, this)
            }, e.prototype.onClickProfileBarBtn = function() {
                s.EventSystem.Event(s.Profile.OpenProfile).Length > 0 && s.EventSystem.Event(s.Profile.OpenProfile).Notify(!0, SS.Network.LoginModel.LoginInfo.pin_ark_id)
            }, e.prototype.onClickProfileBarBtn_ClickLog = function(t, e) {
                var o = null;
                switch (Number(e)) {
                    case a.Lobby:
                        o = l.LogEvent_OpenPanel.InLobby;
                        break;
                    case a.Fish:
                        o = l.LogEvent_OpenPanel.InFish;
                        break;
                    case a.Slot:
                        o = l.LogEvent_OpenPanel.InSlot;
                        break;
                    case a.Keno:
                        o = l.LogEvent_OpenPanel.InKeno
                }
                null != o && c.ClickLog.recordClickLog(l.LogName.Profile, -1, l.LogType_Profile.OpenPanel, o)
            }, e.prototype.onSetBarButton = function(t) {
                this.m_btnProfileBar && (this.m_btnProfileBar.interactable = t)
            }, e.prototype.onSwitchToFavoriteGame = function(t) {
                var e = SS.Common.GameEnvironment.CurrentGameNow;
                cc.log("[step] onSwitchToFavoriteGame ", t, e), null != t && null != e && t != e && p.CommonRoot.Instance.m_switchGameGroup.OpenSwitchGameWindow(t, e)
            }, e.prototype.GetIsInLobby = function() {
                return -1 != cc.director.getScene().name.indexOf("Lobby")
            }, e.prototype.onDoLogOut = function() {
                cc.error("[step] onDoLogOut"), this.GetIsInLobby() && u.LobbyClient.Instance.DoLogout(function() {
                    var t = SS.Common.GameEnvironment.Language + "Login";
                    cc.assetManager.bundles.find(function(e) {
                        return e._config.getSceneInfo(t)
                    }) ? cc.director.loadScene(t) : cc.director.loadScene("Login")
                }, function(t, e) {
                    console.error("Logout error status :" + t, "data:", e)
                })
            }, e.prototype.RecvRecordUpdateCmd = function(t) {
                console.log("[ProfileBar]  RecvRecordUpdateCmd   data = " + JSON.stringify(t));
                var e = t.ark_id == u.LobbyClient.Instance.GetUserClient.GetPinClient.ArkID;
                this.m_isFishGame && e && this.scheduleOnce(function() {
                    var e = -1;
                    t.type == m.RewardBroadcastType.Multiple_Fish ? e = h.RewardType.NumberOne_Multiple : t.type == m.RewardBroadcastType.Jackpot && (e = h.RewardType.NumberOne_Jackpot), s.EventSystem.Event(s.NoticedArrived.OnReceiveReward).Notify(e), s.EventSystem.Event(s.NoticedArrived.ShowRewardNotice).Notify()
                }, 2), this.m_isFishGame ? this.scheduleOnce(function() {
                    s.EventSystem.Event(s.NoticedArrived.OnReceiveBroadcast).Notify(t)
                }, 2) : s.EventSystem.Event(s.NoticedArrived.OnReceiveBroadcast).Notify(t)
            }, r([g(cc.Button)], e.prototype, "m_btnProfileBar", void 0), r([g({
                type: Boolean,
                displayName: "\u662f\u5426\u70ba\u9b5a\u6a5f"
            })], e.prototype, "m_isFishGame", void 0), r([_], e)
        }(cc.Component);
        o.ProfileBar = f, cc._RF.pop()
    }, {
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../CommonRoot/Script/CommonRoot": "CommonRoot",
        "./RewardBroadcastMgr": "RewardBroadcastMgr",
        "./RewardNoticeMgr": "RewardNoticeMgr"
    }],
    ProjectSettingDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "410b2/SPJ1O5LWw0FXbLECN", "ProjectSettingDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ProjectSettingDownloader = void 0;
        var r = t("./Downloader"),
            a = t("jsonpack"),
            s = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.OnLoad = null, e.OnError = null, e
                }
                return i(e, t), e.prototype.Start = function(t, e, o, n) {
                    this.OnLoad = o, this.OnError = n, this._isDeveloper = e, this.GetJSON(t, this.OnLoadComplete.bind(this), this.OnError.bind(this))
                }, e.prototype.OnLoadComplete = function(t) {
                    try {
                        var e = void 0;
                        0 == (e = this._isDeveloper ? JSON.parse(t) : a.unpack(t).json).ShowConsoleLog && (console.log = function() {}, cc.log = function() {}), 0 == e.ShowConsoleWarn && (console.warn = function() {}, cc.warn = function() {}), 0 == e.ShowConsoleError && (console.error = function() {}, cc.error = function() {}), null != this.OnLoad && this.OnLoad(e)
                    } catch (o) {
                        console.error("[ProjectSettingDownloader] Load project setting failed.\n", o), null != this.OnError && this.OnError(o)
                    }
                }, e
            }(r.Downloader);
        o.ProjectSettingDownloader = s, cc._RF.pop()
    }, {
        "./Downloader": "Downloader",
        jsonpack: 21
    }],
    PurchaseMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "29deaiMA2JFfZRArsx7QPzY", "PurchaseMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.PurchaseMgr = void 0;
        var a = t("./../../../LobbyCommon/Net/LobbyClient"),
            s = t("../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            c = t("../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            l = cc._decorator,
            u = l.ccclass,
            p = l.property,
            m = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_btn1Dollars = null, e.m_btn5Dollars = null, e.m_btn10Dollars = null, e.m_btn20Dollars = null, e.m_btn100Dollars = null, e.m_btnAllDollars = null, e.m_btnClose = null, e.m_PanelRoot = null, e.m_titleLabel = null, e.OnClickPurchaseBtn = null, e.OnPurchaseSuccess = null, e.OnPurchasePanelDisable = null, e.isPlayExitAudio = !0, e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    this.OnClickPurchaseBtn = new SS.Common.Delegate, this.OnPurchaseSuccess = new SS.Common.Delegate, this.OnPurchasePanelDisable = new SS.Common.Delegate
                }, e.prototype._start = function() {
                    SS.Common.GameEnvironment.IsShowDonate ? this.m_titleLabel.string = "Donate Amount" : this.m_titleLabel.string = "Purchase Amount"
                }, e.prototype.ShowPanel = function(t) {
                    this.EnableBtn(t), this.isPlayExitAudio = !0, this.m_PanelRoot.active = !0
                }, e.prototype.DisablePanel = function() {
                    this.m_PanelRoot.active = !1, this.isPlayExitAudio && this.OnPurchasePanelDisable.Length > 0 && this.OnPurchasePanelDisable.Notify()
                }, e.prototype.DisableAllBtn = function() {
                    this.m_btn1Dollars.enabled = this.m_btn1Dollars.interactable = !1, this.m_btn5Dollars.enabled = this.m_btn5Dollars.interactable = !1, this.m_btn10Dollars.enabled = this.m_btn10Dollars.interactable = !1, this.m_btn20Dollars.enabled = this.m_btn20Dollars.interactable = !1, this.m_btnAllDollars.enabled = this.m_btnAllDollars.interactable = !1, this.m_btn100Dollars.enabled = this.m_btn100Dollars.interactable = !1
                }, e.prototype.EnableBtn = function(t) {
                    this.m_btn1Dollars.enabled = this.m_btn1Dollars.interactable = t >= 100, this.m_btn5Dollars.enabled = this.m_btn5Dollars.interactable = t >= 500, this.m_btn10Dollars.enabled = this.m_btn10Dollars.interactable = t >= 1e3, this.m_btn20Dollars.enabled = this.m_btn20Dollars.interactable = t >= 2e3, this.m_btn100Dollars.enabled = this.m_btn100Dollars.interactable = t >= 1e4, this.m_btnAllDollars.enabled = this.m_btnAllDollars.interactable = t >= 100
                }, e.prototype.OnClick1Dollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("$1", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.OnClick5Dollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("$5", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.OnClick10Dollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("$10", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.OnClick20Dollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("$20", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.OnClick100Dollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("$100", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.OnClickALLDollars = function() {
                    var t = this;
                    this.DisableAllBtn(), this.OnClickPurchaseBtn.Length > 0 && this.OnClickPurchaseBtn.Notify(), s.ConnectPanelMgr.Instance.ShowConnectPanel(), this.SendPurchaseCmd("all", function(e, o) {
                        t.OnPurchaseSuccess.Notify(e, o), t.EnableBtn(e), s.ConnectPanelMgr.Instance.DisableConnectPanel()
                    })
                }, e.prototype.SendPurchaseCmd = function(t, e) {
                    var o = this;
                    a.LobbyClient.Instance.GetUserClient.SendPurchase(t, function(t, n) {
                        if (t === ArkSDK.HttpConnect.HttpResult.OK) null == n || 0 !== n.cmd_data.result && 1 !== n.cmd_data.result ? (console.warn("SendPurchaseCmd error !!"), s.ConnectPanelMgr.Instance.DisableConnectPanel(), c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Critical, "S196", null, "purchase error : " + JSON.stringify(n), null)) : (e(n.cmd_data.winnings, n.cmd_data.entries), o.isPlayExitAudio = !1, o.DisablePanel());
                        else {
                            console.warn("SendPurchaseCmd is Error !!!!");
                            var i;
                            i = t == ArkSDK.HttpResult.Abort ? "S295" : t == ArkSDK.HttpResult.Condition ? "S190" : t == ArkSDK.HttpResult.NotReset ? "S191" : t == ArkSDK.HttpResult.Status ? "S192" : t == ArkSDK.HttpResult.Error ? "S193" : t == ArkSDK.HttpResult.Timeout ? "S194" : "S195", s.ConnectPanelMgr.Instance.DisableConnectPanel(), c.PopupMsgMgr.Instance.ShowPopMsg(c.PopupPriority.Critical, i, null, "purchase ark error", null)
                        }
                    })
                }, r([p(cc.Button)], e.prototype, "m_btn1Dollars", void 0), r([p(cc.Button)], e.prototype, "m_btn5Dollars", void 0), r([p(cc.Button)], e.prototype, "m_btn10Dollars", void 0), r([p(cc.Button)], e.prototype, "m_btn20Dollars", void 0), r([p(cc.Button)], e.prototype, "m_btn100Dollars", void 0), r([p(cc.Button)], e.prototype, "m_btnAllDollars", void 0), r([p(cc.Button)], e.prototype, "m_btnClose", void 0), r([p(cc.Node)], e.prototype, "m_PanelRoot", void 0), r([p(cc.Label)], e.prototype, "m_titleLabel", void 0), r([u], e)
            }(cc.Component);
        o.PurchaseMgr = m, cc._RF.pop()
    }, {
        "../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "./../../../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    RELEASE: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "c45eerGGXpCwbWXDmq146sl", "RELEASE");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RELEASE = void 0;
        var a = t("../LobbyCommon/LobbyCommon"),
            s = t("../LobbyCommon/Net/LobbyClient"),
            c = cc._decorator,
            l = c.ccclass,
            u = (c.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.start = function() {
                    s.LobbyClient.Instance.ReloadLobby = null, s.LobbyClient.Instance.ReloadGame = null, SS.Common.ReleaseAsyncSource(), s.LobbyClient.SetInstance(null), cc.game.removePersistRootNode(a.LobbyCommon.Instance.node), a.LobbyCommon.Instance.node.destroy();
                    for (var t, e = window.parent.document.getElementsByTagName("iframe"), o = 0; o < e.length; o++)
                        if (e[o].src == window.location.href) {
                            t = e[o];
                            break
                        }
                    t && (t.src = "about:blank"), window.parent.cc.game.resume()
                }, r([l], e)
            }(cc.Component));
        o.RELEASE = u, cc._RF.pop()
    }, {
        "../LobbyCommon/LobbyCommon": "LobbyCommon",
        "../LobbyCommon/Net/LobbyClient": "LobbyClient"
    }],
    RankAwardPanelCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a17a3u/OlpHv4fIl7FUZ+4A", "RankAwardPanelCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankAwardPanelCtrl = void 0;
        var c = t("../../../../Component/BundleCtrl"),
            l = t("../../../../Helper/EventSystem"),
            u = t("../../../../Net/ClickLog"),
            p = t("../../../../Net/ClickLogEnum"),
            m = t("../../../../Net/LobbyClient"),
            h = t("../CommBonusData"),
            d = t("./PlayerRankingCtrl"),
            _ = cc._decorator,
            g = _.ccclass,
            f = _.property,
            y = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_rtID = null, e.m_spAvatarFace = null, e.m_spAvatarFaceFrame = null, e.m_labNickName = null, e.m_labMobileID = null, e.m_rtAwardMsg = [], e.m_labAwardNum = [], e.m_rtTotalAwardMsg = null, e.m_labTotalAwardNum = null, e.m_scroll = null, e.m_nodeRankPanel = null, e.m_nodeContent = null, e.m_prefabPlayer = null, e.m_strEventName = "RankBonus", e.m_nodePool = null, e.m_arrPlayerRankingCtrl = [], e.m_arrRankingPlayerData = [], e.m_fScrollToPercent = 0, e.m_strMsgPrefix = "<color=#64FFFF>", e.m_strMsgPostfix = "</color>", e.m_strRankNumPrefix = "<color=#FF0000>", e.m_strRankNumPostfix = "</color>", e.m_sCommBonus = "", e.m_sRankBonusNo = "", e.m_sYouHaveWon = "", e.m_sNumber = "", e.m_strArkID = "", e.m_isCollected = !1, e.m_isProfileCanShow = !0, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodePool = new cc.NodePool;
                    for (var t = 0; t < 10; ++t) {
                        var e = cc.instantiate(this.m_prefabPlayer);
                        this.m_nodePool.put(e)
                    }
                    l.EventSystem.Event(l.CommunityBonus.SetCollected).Insert(this.SetCollected, this), l.EventSystem.Event(l.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Insert(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, e.prototype.onEnable = function() {
                    this.m_isCollected = !1, this.m_isProfileCanShow = !0
                }, e.prototype.Reset = function() {
                    this.m_isCollected = !1, this.m_isProfileCanShow = !0
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.CommunityBonus.SetCollected) && l.EventSystem.Event(l.CommunityBonus.SetCollected).Length > 0 && l.EventSystem.Event(l.CommunityBonus.SetCollected).Remove(this.SetCollected, this), l.EventSystem.Event(l.Avatar.SetFaceIcon) && l.EventSystem.Event(l.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon) && l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname) && l.EventSystem.Event(l.Avatar.SetNickname).Remove(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting) && l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.onClickRank = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return 0 == this.m_isProfileCanShow ? [2] : (this.m_isProfileCanShow = !1, 0 != this.m_isCollected ? [3, 2] : (l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect) && l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect).Length > 0 && l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect).Notify(), [4, SS.Common.WaitForSeconds(2.5)]));
                                case 1:
                                    t.sent(), t.label = 2;
                                case 2:
                                    return this.m_isProfileCanShow = !0, this.m_nodeRankPanel.active = !0, this.m_scroll.stopAutoScroll(), this.m_scroll.scrollToPercentVertical(this.m_fScrollToPercent), m.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", h.RankClickLogID.AWARD_RANK_BTN), this.m_isCollected = !0, [2]
                            }
                        })
                    })
                }, e.prototype.onClickRankX = function() {
                    this.m_nodeRankPanel.active = !1, m.LobbyClient.Instance.GetUserClient.recordClickLog("Rank", h.RankClickLogID.AWARD_RANK_X_BTN)
                }, e.prototype.setLang = function() {
                    switch (SS.Common.GameEnvironment.Language) {
                        case "":
                        case "en":
                            this.m_sCommBonus = "Community Bonus", this.m_sRankBonusNo = "Rankings Bonus No.", this.m_sYouHaveWon = "YOU'VE WON", this.m_sNumber = "No.";
                            break;
                        case "es":
                            this.m_sCommBonus = "Bono Comunitario", this.m_sRankBonusNo = "Bono del R\xe1nking N\xfam.", this.m_sYouHaveWon = "GANAS", this.m_sNumber = "N\xfam."
                    }
                }, e.prototype.setDetail = function(t, e, o, n, i, r, l, u, p, m, h) {
                    return a(this, void 0, void 0, function() {
                        var a, d, _, g, f, y, S, C;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.m_nodeRankPanel.active = !1, a = !1, d = 0, "es" != SS.Common.GameEnvironment.Language && (a = !0, d = 2, l *= r, u *= r), this.m_arrRankingPlayerData = p, this.setRankingList(t, r, p, m, h), this.setLang(), this.m_rtID.string = this.m_sNumber + t, _ = "es" == SS.Common.GameEnvironment.Language ? " CR\xc9D." : "", this.m_strArkID = i, this.m_labNickName.string = n, e && "" != e || (e = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", e)];
                                case 1:
                                    return g = s.sent(), this.m_spAvatarFace.spriteFrame = g || null, o && "" != o ? [4, c.default.Instance.GetSpirte("Avatar", o)] : [3, 3];
                                case 2:
                                    return (f = s.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = f), [3, 4];
                                case 3:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    if (this.m_labMobileID.string = "Mobile ID : " + SS.Network.UserClient.UserInfo.mobile_id, y = 0, l > 0 && (this.m_rtAwardMsg[y].enabled = !0, this.m_rtAwardMsg[y].string = this.m_strMsgPrefix + this.m_sCommBonus + this.m_strMsgPostfix, this.m_labAwardNum[y].enabled = !0, this.m_labAwardNum[y].string = SS.Common.BaseFunction.addCommas(l, d, a) + _, y++), u > 0) {
                                        for (S = -1, C = 0; C < this.m_arrRankingPlayerData.length; C++)
                                            if (this.m_arrRankingPlayerData[C].ranking_id == t) {
                                                S = C + 1;
                                                break
                                            }
                                        this.m_rtAwardMsg[y].enabled = !0, this.m_rtAwardMsg[y].string = this.m_strMsgPrefix + this.m_sRankBonusNo + this.m_strRankNumPrefix + S + this.m_strRankNumPostfix + this.m_strMsgPostfix, this.m_labAwardNum[y].enabled = !0, this.m_labAwardNum[y].string = SS.Common.BaseFunction.addCommas(u, d, a) + _, y++
                                    }
                                    return y < 2 && (this.m_rtAwardMsg[1].enabled = !1, this.m_labAwardNum[1].enabled = !1), this.m_rtTotalAwardMsg.string = this.m_strMsgPrefix + this.m_sYouHaveWon + this.m_strMsgPostfix, this.m_labTotalAwardNum.string = SS.Common.BaseFunction.addCommas(l + u, d, a) + _, [2]
                            }
                        })
                    })
                }, e.prototype.setRankingList = function(t, e, o, n) {
                    var i = this;
                    this.m_arrPlayerRankingCtrl.forEach(function(t) {
                        i.m_nodePool.put(t.node)
                    }), this.m_arrPlayerRankingCtrl = [];
                    for (var r = -1, a = 0; a < o.length; a++) {
                        for (var s = -1, c = 0; c < n.length; c++)
                            if (a + 1 <= n[c].End) {
                                s = n[c].Award;
                                break
                            }
                        var l = this.m_nodePool.get();
                        null == l && (l = cc.instantiate(this.m_prefabPlayer)), l.parent = this.m_nodeContent;
                        var u = l.getComponent(d.PlayerRankingCtrl),
                            p = o[a];
                        s = "es" == SS.Common.GameEnvironment.Language ? s : s * e, u.init(a, p.ranking_id, p.amount, -1, s, t == p.ranking_id, p.AvatarID, p.AvatarFrameID, p.Nickname, p.ark_id, !0), u.reveal(), this.m_arrPlayerRankingCtrl.push(u), t == p.ranking_id && (r = a)
                    }
                    this.m_arrPlayerRankingCtrl.length > 4 && (this.m_fScrollToPercent = 1 - (r - 1 / (this.m_arrPlayerRankingCtrl.length - 3)))
                }, e.prototype.onClickProfileBtn = function(t, e) {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return 0 == this.m_isProfileCanShow ? [2] : (this.m_isProfileCanShow = !1, 0 != this.m_isCollected ? [3, 2] : (l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect) && l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect).Length > 0 && l.EventSystem.Event(l.CommunityBonus.ClickGetAwardCollect).Notify(), [4, SS.Common.WaitForSeconds(2.5)]));
                                case 1:
                                    t.sent(), t.label = 2;
                                case 2:
                                    if (this.m_isProfileCanShow = !0, l.EventSystem.Event(l.Profile.OpenProfile).Length > 0 && "" != this.m_strArkID && null != this.m_strArkID) switch (l.EventSystem.Event(l.Profile.OpenProfile).Notify(!0, this.m_strArkID), e) {
                                        case "RankBonus":
                                            u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InRankBonusAward);
                                            break;
                                        case "FishRankBonus":
                                            u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InFishRankBonusAward)
                                    }
                                    return this.m_isCollected = !0, [2]
                            }
                        })
                    })
                }, e.prototype.SetCollected = function(t) {
                    t == this.m_strEventName && (this.m_isCollected = !0)
                }, e.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labNickName && (this.m_labNickName.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFace && (this.m_spAvatarFace.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFaceFrame && (this.m_spAvatarFaceFrame.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, c.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, r([f(cc.RichText)], e.prototype, "m_rtID", void 0), r([f(cc.Sprite)], e.prototype, "m_spAvatarFace", void 0), r([f(cc.Sprite)], e.prototype, "m_spAvatarFaceFrame", void 0), r([f(cc.Label)], e.prototype, "m_labNickName", void 0), r([f(cc.Label)], e.prototype, "m_labMobileID", void 0), r([f(cc.RichText)], e.prototype, "m_rtAwardMsg", void 0), r([f(cc.Label)], e.prototype, "m_labAwardNum", void 0), r([f(cc.RichText)], e.prototype, "m_rtTotalAwardMsg", void 0), r([f(cc.Label)], e.prototype, "m_labTotalAwardNum", void 0), r([f(cc.ScrollView)], e.prototype, "m_scroll", void 0), r([f(cc.Node)], e.prototype, "m_nodeRankPanel", void 0), r([f(cc.Node)], e.prototype, "m_nodeContent", void 0), r([f(cc.Prefab)], e.prototype, "m_prefabPlayer", void 0), r([f(String)], e.prototype, "m_strEventName", void 0), r([g], e)
            }(cc.Component);
        o.RankAwardPanelCtrl = y, cc._RF.pop()
    }, {
        "../../../../Component/BundleCtrl": "BundleCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../Net/ClickLog": "ClickLog",
        "../../../../Net/ClickLogEnum": "ClickLogEnum",
        "../../../../Net/LobbyClient": "LobbyClient",
        "../CommBonusData": "CommBonusData",
        "./PlayerRankingCtrl": "PlayerRankingCtrl"
    }],
    RankBonusTotalProgress: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "48fabzXpblHT7/0kS7hc5Wl", "RankBonusTotalProgress");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankBonusTotalProgress = void 0;
        var c = t("../../../../Component/BundleCtrl"),
            l = t("../../../../Helper/EventSystem"),
            u = t("../../../../Net/ClickLog"),
            p = t("../../../../Net/ClickLogEnum"),
            m = t("../CommBonusTokenCtrl"),
            h = cc._decorator,
            d = h.ccclass,
            _ = h.property,
            g = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_TokenCtr = null, e.m_labTotalProgress = null, e.m_labTotalProgressAdd = null, e.m_nodeRank = null, e.m_labRank = null, e.m_labID = null, e.m_nodeBonus = null, e.m_labBonus = null, e.m_pfToken = null, e.m_pfMoveEnd = null, e.m_spAvatarFace = null, e.m_spAvatarFaceFrame = null, e.m_labNickName = null, e.m_labMobileID = null, e.m_fucTokenShowStartCB = null, e.m_fucAllTokenShowEndCB = null, e.m_fucAllTokenEnlargeEndCB = null, e.m_fucTokenEnlargeEndCB = null, e.m_fucTokenEnlargeStartCB = null, e.m_iFlyTokenCtr = 0, e.m_iTotalPrgressOnTop = 0, e.m_strArkID = "", e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Insert(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Insert(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Insert(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Insert(this.SetByPlayerData, this)
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.Avatar.SetFaceIcon).Remove(this.SetFaceSprite, this), l.EventSystem.Event(l.Avatar.SetFaceFrameIcon).Remove(this.SetFrameSprite, this), l.EventSystem.Event(l.Avatar.SetNickname).Remove(this.SetNickname, this), l.EventSystem.Event(l.Profile.NotifyUpdatePlayerSetting).Remove(this.SetByPlayerData, this)
                }, e.prototype.start = function() {
                    this.m_labTotalProgressAdd.node.opacity = 0, this.m_TokenCtr.m_CommGetTokenShow.m_pfToken = this.m_pfToken, this.m_TokenCtr.m_CommGetTokenShow.m_pfMoveEnd = this.m_pfMoveEnd
                }, e.prototype.checkAllTokenShowEnd = function() {
                    this.m_iFlyTokenCtr--, 0 == this.m_iFlyTokenCtr && this.m_fucAllTokenShowEndCB && (this.m_TokenCtr.showToken(), this.m_fucAllTokenShowEndCB())
                }, e.prototype.setTokenShowStartCB = function(t) {
                    this.m_fucTokenShowStartCB = t
                }, e.prototype.setAllTokenShowEndCB = function(t) {
                    this.m_fucAllTokenShowEndCB = t, this.m_TokenCtr.m_fucShowEndCB = this.checkAllTokenShowEnd.bind(this)
                }, e.prototype.showFlyToken = function(t) {
                    this.m_iFlyTokenCtr++, this.m_TokenCtr.showFlyToken(0, t)
                }, e.prototype.setProgress = function(t) {
                    this.m_iTotalPrgressOnTop = t, this.m_labTotalProgress.string = "x" + t
                }, e.prototype.setProgressNoX = function(t) {
                    this.m_iTotalPrgressOnTop = t, this.m_labTotalProgress.string = t.toString()
                }, e.prototype.getProgress = function() {
                    return this.m_iTotalPrgressOnTop
                }, e.prototype.setProgressAdd = function(t) {
                    this.m_labTotalProgressAdd.string = "+" + t, this.m_labTotalProgressAdd.node.opacity = 0;
                    var e = cc.fadeIn(.25),
                        o = cc.fadeOut(1),
                        n = cc.sequence(e, o);
                    this.m_labTotalProgressAdd.node.stopAllActions(), this.m_labTotalProgressAdd.node.runAction(n)
                }, e.prototype.setRankingInfo = function(t, e, o, n, i, r, l) {
                    return a(this, void 0, void 0, function() {
                        var a, u, p, m;
                        return s(this, function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.m_labRank.string = -1 == t ? "-" : (t + 1).toString(), a = "es" == SS.Common.GameEnvironment.Language ? "N\xfam." : "No.", this.m_labID.string = a + e, u = "es" != SS.Common.GameEnvironment.Language, SS.Common.GameEnvironment.Language, this.m_labBonus.string = SS.Common.BaseFunction.addCommas(o, 0, u), this.m_strArkID = l, this.m_labNickName.string = r, n && "" != n || (n = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", n)];
                                case 1:
                                    return p = s.sent(), this.m_spAvatarFace.spriteFrame = p || null, i && "" != i ? [4, c.default.Instance.GetSpirte("Avatar", i)] : [3, 3];
                                case 2:
                                    return (m = s.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = m), [3, 4];
                                case 3:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, s.label = 4;
                                case 4:
                                    return this.m_labMobileID.string = "Mobile ID : " + SS.Network.UserClient.UserInfo.mobile_id, [2]
                            }
                        })
                    })
                }, e.prototype.hideRankAndBonus = function() {
                    this.m_nodeRank.opacity = 0, this.m_nodeBonus.opacity = 0
                }, e.prototype.showRankAndBonus = function() {
                    this.m_nodeRank.opacity = 0, this.m_nodeBonus.opacity = 0;
                    var t = cc.fadeIn(.25);
                    this.m_nodeRank.stopAllActions(), this.m_nodeRank.runAction(t);
                    var e = cc.fadeIn(.25);
                    this.m_nodeBonus.stopAllActions(), this.m_nodeBonus.runAction(e)
                }, e.prototype.getTokenPos = function() {
                    return this.m_TokenCtr.node.parent.convertToWorldSpaceAR(this.m_TokenCtr.node.getPosition())
                }, e.prototype.onClickProfileBtn = function(t, e) {
                    if (l.EventSystem.Event(l.Profile.OpenProfile).Length > 0 && "" != this.m_strArkID && null != this.m_strArkID) switch (l.EventSystem.Event(l.Profile.OpenProfile).Notify(!0, this.m_strArkID), e) {
                        case "RankBonus":
                            u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InRankBonus);
                            break;
                        case "FishRankBonus":
                            u.ClickLog.recordClickLog(p.LogName.Profile, -1, p.LogType_Profile.OpenPanel, p.LogEvent_OpenPanel.InFishRankBonus)
                    }
                }, e.prototype.SetByPlayerData = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && (this.SetFaceByID(t.FaceID), this.SetFrameByID(t.FaceFrameID), this.SetNickname(t.NickName))
                }, e.prototype.SetNickname = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_labNickName && (this.m_labNickName.string = t)
                }, e.prototype.SetFaceSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFace && (this.m_spAvatarFace.spriteFrame = t)
                }, e.prototype.SetFrameSprite = function(t) {
                    this.m_strArkID == SS.Network.LoginModel.LoginInfo.pin_ark_id && this.m_spAvatarFaceFrame && (this.m_spAvatarFaceFrame.spriteFrame = t)
                }, e.prototype.SetFaceByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : (t && "" != t || (t = "FAC000"), [4, c.default.Instance.GetSpirte("Avatar", t)]);
                                case 1:
                                    return e = o.sent(), this.m_spAvatarFace.spriteFrame = e || null, [2]
                            }
                        })
                    })
                }, e.prototype.SetFrameByID = function(t) {
                    return a(this, void 0, void 0, function() {
                        var e;
                        return s(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.m_strArkID != SS.Network.LoginModel.LoginInfo.pin_ark_id ? [2] : t && "" != t ? [4, c.default.Instance.GetSpirte("Avatar", t)] : [3, 2];
                                case 1:
                                    return (e = o.sent()) && (this.m_spAvatarFaceFrame.spriteFrame = e), [3, 3];
                                case 2:
                                    this.m_spAvatarFaceFrame.spriteFrame = null, o.label = 3;
                                case 3:
                                    return [2]
                            }
                        })
                    })
                }, r([_(m.CommBonusTokenCtrl)], e.prototype, "m_TokenCtr", void 0), r([_(cc.Label)], e.prototype, "m_labTotalProgress", void 0), r([_(cc.Label)], e.prototype, "m_labTotalProgressAdd", void 0), r([_(cc.Node)], e.prototype, "m_nodeRank", void 0), r([_(cc.Label)], e.prototype, "m_labRank", void 0), r([_(cc.Label)], e.prototype, "m_labID", void 0), r([_(cc.Node)], e.prototype, "m_nodeBonus", void 0), r([_(cc.Label)], e.prototype, "m_labBonus", void 0), r([_(cc.Prefab)], e.prototype, "m_pfToken", void 0), r([_(cc.Prefab)], e.prototype, "m_pfMoveEnd", void 0), r([_(cc.Sprite)], e.prototype, "m_spAvatarFace", void 0), r([_(cc.Sprite)], e.prototype, "m_spAvatarFaceFrame", void 0), r([_(cc.Label)], e.prototype, "m_labNickName", void 0), r([_(cc.Label)], e.prototype, "m_labMobileID", void 0), r([d], e)
            }(cc.Component);
        o.RankBonusTotalProgress = g, cc._RF.pop()
    }, {
        "../../../../Component/BundleCtrl": "BundleCtrl",
        "../../../../Helper/EventSystem": "EventSystem",
        "../../../../Net/ClickLog": "ClickLog",
        "../../../../Net/ClickLogEnum": "ClickLogEnum",
        "../CommBonusTokenCtrl": "CommBonusTokenCtrl"
    }],
    RankingBonusListCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "0ae1eSB+ppFTZb9el6TIW6g", "RankingBonusListCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankingBonusListCtrl = void 0;
        var a = t("./RankingBonusRowCtrl"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeContent = null, e.m_prefab = null, e.m_labListNum = null, e.m_tempRankInfoAry = [], e.m_bIsInit = !1, e
                }
                return i(e, t), e.prototype.init = function(t, e, o) {
                    if (void 0 === o && (o = 4), !this.m_bIsInit) {
                        for (var n = 0, i = 0; i < t.length; i++) {
                            var r = cc.instantiate(this.m_prefab),
                                s = r.getComponent(a.RankingBonusRowCtrl),
                                c = t[i];
                            e = "es" == SS.Common.GameEnvironment.Language ? 1 : e, s.init(c.Begin, c.End, c.Award * e), r.parent = this.m_nodeContent, this.m_tempRankInfoAry.push(r), n = c.End > n ? c.End : n
                        }
                        var l = o.toString() + ". Ranked the top " + n + " in the contest will be awarded the bonus as follows: ",
                            u = "3. Se repartir\xe1n premios a los " + o.toString() + " mejores del Mapa del Tesoro:";
                        this.m_labListNum.string = "es" == SS.Common.GameEnvironment.Language ? u : l, this.m_bIsInit = !0
                    }
                }, e.prototype.Clear = function() {
                    this.m_tempRankInfoAry.forEach(function(t) {
                        t.destroy()
                    }), this.m_bIsInit = !1
                }, r([l(cc.Node)], e.prototype, "m_nodeContent", void 0), r([l(cc.Prefab)], e.prototype, "m_prefab", void 0), r([l(cc.Label)], e.prototype, "m_labListNum", void 0), r([c], e)
            }(cc.Component);
        o.RankingBonusListCtrl = u, cc._RF.pop()
    }, {
        "./RankingBonusRowCtrl": "RankingBonusRowCtrl"
    }],
    RankingBonusRowCtrl: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e5b47ydbXBL9r42tGCPyTtE", "RankingBonusRowCtrl");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RankingBonusRowCtrl = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_labRank = null, e.m_labBonus = null, e
                }
                return i(e, t), e.prototype.init = function(t, e, o) {
                    this.m_labRank.string = t == e ? this.numberStr(t) : this.numberStr(t) + " ~ " + this.numberStr(e);
                    var n = "es" != SS.Common.GameEnvironment.Language,
                        i = (SS.Common.GameEnvironment.Language, "es" == SS.Common.GameEnvironment.Language ? " CR\xc9D." : "");
                    this.m_labBonus.string = SS.Common.BaseFunction.addCommas(o, 0, n) + i
                }, e.prototype.numberStr = function(t) {
                    return "es" == SS.Common.GameEnvironment.Language ? t + "\xba" : "No." + t
                }, r([c(cc.Label)], e.prototype, "m_labRank", void 0), r([c(cc.Label)], e.prototype, "m_labBonus", void 0), r([s], e)
            }(cc.Component);
        o.RankingBonusRowCtrl = l, cc._RF.pop()
    }, {}],
    RepeatingMissionMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "1306bBlbcZGSJPF13WrthDt", "RepeatingMissionMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RepeatingMissionMgr = o.MisMgrStatus = void 0;
        var a, s = t("../../../../LobbyCommon/Net/LobbyClient"),
            c = t("../../../../LobbyCommon/Connect/Script/ConnectPanelMgr"),
            l = t("../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            u = t("../../../../GameCommon/CommonRoot/Script/CommonRoot"),
            p = t("../../../Component/DateTimeCountDown"),
            m = t("../../../Component/AudioMgr"),
            h = t("./MissionCoinCtrl"),
            d = t("./MissionBtnCtrl"),
            _ = t("./MissionTopProgress"),
            g = t("./MissionListCtrl"),
            f = t("./MissionData"),
            y = t("../../../EventModule/EventModule"),
            S = t("../../EventBannerData"),
            C = t("./../../../FakeScoreBox/Script/FakeScoreBoxCtrl");
        (function(t) {
            t[t.NONE = -1] = "NONE", t[t.IDLE = 0] = "IDLE", t[t.INIT = 1] = "INIT", t[t.UPDATE_CMD = 2] = "UPDATE_CMD", t[t.COLLECT = 3] = "COLLECT", t[t.COLLECT_RCV = 4] = "COLLECT_RCV", t[t.COLLECT_SHOW = 5] = "COLLECT_SHOW", t[t.DISABLE = 6] = "DISABLE"
        })(a = o.MisMgrStatus || (o.MisMgrStatus = {}));
        var v = cc._decorator,
            b = v.ccclass,
            P = v.property,
            w = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.m_MissionBtnCtrl = null, e.m_ActivitiesMgrRoot = null, e.m_GameToGameMenu = null, e.m_FinishMission = null, e.m_FooterMsg = null, e.m_MissionListCtrl = null, e.m_MissionTopProgress = null, e.awardCoin = null, e.gameMenuTimeReci = null, e.gameMenuTimeCountdown = null, e.floatBtnTimeReci = null, e.floatBtnTimeCountDown = null, e.finishPageTimeCountDown = null, e.m_FakeScoreBoxCtrl = null, e.m_nodeBlocker = null, e.m_sprDailyBonus = null, e.m_sprExtraBonus = null, e.m_dateLastTimeOpenPanel = 0, e.m_arrMissionData = [], e.m_iBeginTime = -1, e.m_iEndTime = -1, e.m_iNowTime = -1, e.sData = "", e.errorCode = "", e.reason = "", e.errorMsg = "", e.isClickClaimBtn = !1, e.m_bBtnInterActable = !0, e.isTheFirstToLobby = !1, e.isRequestInfoNow = !1, e.intervalID = -1, e._countDownTime = 0, e.tapMissionIconContent = "New Missions are available. Tap on the icon to explore.", e.newMissionContent = "Come to check it out New Missions event!", e.collectAwardContent = "Collect your winning {0} !!! Tap on the icon to explore.", e.dragFloatBtn = null, e.curMisData = null, e.collectMisData = null, e.maxGameLineBet = 0, e.maxGameLines = 0, e.curInGameName = "", e.SetUserBalance = null, e.SetGoToLobby = null, e.ClickClaimBtnEvent = null, e.SetFinshSingleMission = null, e.GetMissionCmdCallBack = null, e.Del_ForceToGameEvent = null, e.m_status = a.NONE, e.m_lastStatus = a.NONE, e.m_iLastProgress = 0, e.m_strChangeToGameName = "", e.m_iTitleType = -1, e.m_iFinalAwardNum = 0, e
                }
                return i(e, t), e.prototype.update = function() {
                    var t = this.m_status != this.m_lastStatus;
                    switch (this.m_lastStatus = this.m_status, this.m_status) {
                        case a.IDLE:
                            t && (console.warn("MisMgrStatus.IDLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_nodeBlocker.active = !1, this.m_FooterMsg.active = !0, this.m_FakeScoreBoxCtrl.hide());
                            break;
                        case a.INIT:
                            break;
                        case a.UPDATE_CMD:
                            t && (console.warn("MisMgrStatus.UPDATE_CMD"), this.isClickClaimBtn ? (this.isClickClaimBtn = !1, c.ConnectPanelMgr.Instance.DisableConnectPanel(0)) : (c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.collectMisData && (this.m_MissionListCtrl.m_strCollectQuestID = this.collectMisData.QuestID)), this.collectMisData = null, this.m_MissionTopProgress.show(!1), this.SendMissionBonusInfoCmd());
                            break;
                        case a.COLLECT:
                            t && (console.warn("MisMgrStatus.COLLECT"), c.ConnectPanelMgr.Instance.ShowConnectPanel(0), this.m_nodeBlocker.active = !0, this.SetAllBtnInteract(!1), null != this.collectMisData && s.LobbyClient.Instance.GetUserClient.collectQuest(this.collectMisData.QuestID, this.collectMisData.QuestLevel, this.getMissionBonus.bind(this)));
                            break;
                        case a.COLLECT_RCV:
                            t && (console.warn("MisMgrStatus.COLLECT_RCV"), this.m_nodeBlocker.active = !1, this.SendMissionBonusInfoCmd(), this.m_status = a.UPDATE_CMD);
                            break;
                        case a.DISABLE:
                            t && (console.warn("MisMgrStatus.DISABLE"), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.disableBannerPopUp(), this.root.active = !1)
                    }
                }, e.prototype.start = function() {
                    if (this.m_MissionBtnCtrl.init(this), this.m_MissionTopProgress.init(this), this.m_MissionListCtrl.init(this), this.isTheFirstToLobby = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion, this.m_GameToGameMenu.active = !1, this.m_ActivitiesMgrRoot.active = !1, this.floatBtnTimeCountDown.node.active = !1, this.gameMenuTimeCountdown.node.active = !1, this.finishPageTimeCountDown.node.active = !1, this.m_nodeBlocker.active = !1, this.parseMisInfo(s.LobbyClient.Instance.m_CommonEventInfo_900004) && (this.updateMisInfo(), this.InitTimer()), self == top) {
                        this.SetUserBalance = this.lobbySetUserBalance.bind(this);
                        var t = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                        if (this.m_MissionBtnCtrl.show(!t), t || this.checkAwardAvailible(), this.m_LobbyMgr) {
                            this.m_LobbyMgr.popUpMgr.onCloseAllPopupEvent.push(this.popUpClosed.bind(this));
                            var e = new S.EventBannerData("DailyBonus", this.m_iTitleType, this.OnClickFloatBtn.bind(this));
                            e.m_bValid = !0, this.m_LobbyMgr.m_arrEventBannerData.push(e)
                        }
                    }
                    this.ToggleFinishMissionPage(!1), this.initDone()
                }, e.prototype.popUpClosed = function() {
                    this.m_MissionBtnCtrl.show(!0);
                    var t = !1;
                    if (null != this.m_arrMissionData) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) this.m_arrMissionData[e].Status == f.UserQuestDataStatus.QUEST_NOT_DONE && (t = !0);
                        var o = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                        this.checkAwardAvailible() || o && t && this.m_MissionBtnCtrl.setPrompt(this.tapMissionIconContent)
                    }
                }, e.prototype.checkAwardAvailible = function() {
                    var t = 0,
                        e = 0;
                    if (null != this.m_arrMissionData) {
                        for (var o = 0; o < this.m_arrMissionData.length; o++) {
                            var n = this.m_arrMissionData[o];
                            n.Status == f.UserQuestDataStatus.AWARD_AVAILABLE && (t += n.Award.AwardWinnings, e += n.Award.AwardEntries)
                        }
                        return t + e > 0 && (this.m_MissionBtnCtrl.setPrompt(this.collectAwardContent.replace("{0}", (t + e).toString())), !0)
                    }
                }, e.prototype.lobbySetUserBalance = function(t) {
                    var e = this.m_LobbyMgr.downBarMgr,
                        o = t.entries,
                        n = t.winnings;
                    e.SetUserBalance(o, n), this.m_LobbyMgr.UserEntries = o, this.m_LobbyMgr.UserWinnings = n
                }, e.prototype.onDestroy = function() {
                    this.SetUserBalance = null, -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.ClearTimer = function() {
                    -1 != this.intervalID && clearInterval(this.intervalID)
                }, e.prototype.SetAllBtnInteract = function(t) {
                    this.m_bBtnInterActable = t, this.m_MissionBtnCtrl.setInteract(t), this.m_MissionTopProgress.setInteract(t), this.m_MissionListCtrl.setInteract(t)
                }, e.prototype.SetAllBtnInteractTrue = function() {
                    this.SetAllBtnInteract(!0)
                }, e.prototype.SetAllBtnInteractFalse = function() {
                    this.SetAllBtnInteract(!1)
                }, e.prototype.getMisDataByGameName = function(t) {
                    var e = this.getThemeIDByGameName(t);
                    return this.getMisDataByThemeID(e)
                }, e.prototype.getMisDataByThemeID = function(t) {
                    for (var e = 0; e < this.m_arrMissionData.length; e++)
                        if (this.m_arrMissionData[e].ThemeID == t) return this.m_arrMissionData[e];
                    return null
                }, e.prototype.getCurGameMisData = function() {
                    return this.getMisDataByGameName(this.curInGameName)
                }, e.prototype.parseSpinData = function(t) {
                    var e = this.getCurGameMisData();
                    if (null != e) try {
                        var o = t.cmd_data;
                        if (o.hasOwnProperty("data") && o.data.hasOwnProperty("eventInfo") && o.data.eventInfo.hasOwnProperty("900004") && o.data.eventInfo[900004].hasOwnProperty("UserQuestData")) {
                            for (var n = o.data.eventInfo[900004].UserQuestData, i = 0; i < n.length; i++) {
                                var r = void 0,
                                    a = void 0,
                                    s = n[i];
                                if (e.ThemeID == s.GameThemeID && e.QuestID == s.QuestID && e.QuestLevel == s.QuestLevel) {
                                    if (e.Status = s.Status, e.Status == f.UserQuestDataStatus.AWARD_CLAIMED) break;
                                    if (e.QuestType == f.QustObjectiveType.SPIN_TIME) a = e.SpinTimesGate, r = s.SpinTimes, e.SpinTimes = r;
                                    else if (e.QuestType == f.QustObjectiveType.SPIN_AMOUNT) a = e.SpinAmountGate, r = s.SpinAmount, e.SpinAmount = r;
                                    else if (e.QuestType == f.QustObjectiveType.WIN_AMOUNT) a = e.WinAmountGate, r = s.WinAmount, e.WinAmount = r;
                                    else {
                                        if (e.QuestType != f.QustObjectiveType.CUSTOM) {
                                            console.warn("parseSpinData else");
                                            continue
                                        }
                                        a = e.CustomGate, r = s.CustomAmount, e.CustomAmount = r
                                    }
                                    var c = r / a;
                                    c = c > 1 ? 1 : c, this.m_MissionTopProgress.setProgressChargeTo(c), (0 == this.m_iLastProgress && c > 0 || 1 != this.m_iLastProgress && 1 == c || c - this.m_iLastProgress >= .1) && (this.OnSetPrompt(e.QuestType, c, e.CustomInfoMsg), this.m_iLastProgress = c);
                                    break
                                }
                            }
                            this.updateMisInfo()
                        }
                    } catch (v) {
                        console.error("parseSpinData error")
                    } else console.warn("curGameMisData==null")
                }, e.prototype.parseMisInfo = function(t) {
                    if (null == t) return !1;
                    try {
                        var e = JSON.parse(t);
                        if (e.hasOwnProperty("Enable") && e.Enable && e.hasOwnProperty("QuestList") && e.QuestList.length > 0 && e.hasOwnProperty("UserQuestData")) {
                            var o = e.QuestList,
                                n = e.UserQuestData;
                            if (this.m_arrMissionData = [], 0 == o.lengt) return !1;
                            for (var i = 0; i < o.length; i++) {
                                var r = new f.MissionData,
                                    a = o[i];
                                if (this.checkThemeIsOpen(a.GameThemeID) && (0 == a.TitleType || 1 == a.TitleType)) {
                                    this.m_iTitleType = a.TitleType, r.QuestID = a.QuestID, r.QuestLevel = a.QuestLevel, r.ThemeID = a.GameThemeID, r.SpinTimesGate = a.SpinTimesGate, r.SpinAmountGate = a.SpinAmountGate, r.WinAmountGate = a.WinAmountGate, r.CustomGate = a.CustomGate, r.CustomType = a.CustomType, r.CustomInfo = a.CustomInfo, r.Award = a.Award, r.Priority = a.Priority, r.CycleSeconds = a.CycleSeconds, r.ExpireTimeUTC = a.ExpireTimeUTC, null != a.CustomInfo && a.CustomInfo.hasOwnProperty("Msg") && (r.CustomInfoMsg = a.CustomInfo.Msg);
                                    for (var s = 0; s < n.length; s++) {
                                        var c = n[s];
                                        if (r.QuestID == c.QuestID && r.QuestLevel == c.QuestLevel && r.ThemeID == c.GameThemeID) {
                                            r.SpinTimes = c.SpinTimes, r.SpinAmount = c.SpinAmount, r.WinAmount = c.WinAmount, r.CustomAmount = c.CustomAmount, r.Status = c.Status;
                                            break
                                        }
                                    }
                                    this.m_arrMissionData.push(r)
                                }
                            }
                            return this.m_iBeginTime = e.BeginTimeUTC, this.m_iEndTime = e.EndTimeUTC, this.m_iNowTime = e.NowTimeUTC, !0
                        }
                        return !1
                    } catch (v) {
                        return console.error("parseMisInfo"), !1
                    }
                }, e.prototype.TimeCountDownCallBack = function() {
                    console.warn("execute mission TimeCountDownCallBack !!"), m.AudioMgr.Instance.Play("Missions_Call", !1, 1), console.warn("close active page And Open falotButton !!"), this.m_MissionBtnCtrl.setPrompt(this.newMissionContent)
                }, e.prototype.InitTimer = function() {
                    var t = this.m_iEndTime - this.m_iNowTime;
                    if (!(t < 0)) {
                        for (var e = 0; e < this.m_arrMissionData.length; e++) {
                            var o = this.m_arrMissionData[e].ExpireTimeUTC - this.m_iNowTime;
                            o > 0 && o < t && (t = o)
                        }
                        this.ForceSetTime(t)
                    }
                }, e.prototype.ForceSetTime = function(t) {
                    this.PauseTimer(), this._countDownTime = t, this.UpdateUI(this._countDownTime), this.StartConutDownTimer()
                }, e.prototype.UpdateUI = function(t) {
                    null != this.gameMenuTimeCountdown && (this.gameMenuTimeCountdown.UpdateUIWithDay(t), this.gameMenuTimeCountdown.node.active = !0), null != this.floatBtnTimeCountDown && (this.floatBtnTimeCountDown.UpdateUIWithDay(t), this.floatBtnTimeCountDown.node.active = !0), null != this.finishPageTimeCountDown && (this.finishPageTimeCountDown.UpdateUIWithDay(t), this.finishPageTimeCountDown.node.active = !0)
                }, e.prototype.PauseTimer = function() {
                    clearInterval(this.intervalID)
                }, e.prototype.Timer = function(t) {
                    if (--t._countDownTime, t._countDownTime <= 0) {
                        this.reloadLobby(), t._countDownTime = 0, t.PauseTimer(), t.GetMissionCmdCallBack = t.TimeCountDownCallBack;
                        var e = (new Date).getTime();
                        this.m_dateLastTimeOpenPanel = e, this.m_iLastProgress = 0, this.m_status = a.UPDATE_CMD
                    }
                    t.UpdateUI(t._countDownTime)
                }, e.prototype.StartConutDownTimer = function() {
                    var t = this; - 1 != this.intervalID && clearInterval(this.intervalID), this.intervalID = setInterval(function() {
                        return t.Timer(t)
                    }, 1e3)
                }, e.prototype.getGameNameByThemeID = function(t) {
                    var e = "";
                    try {
                        e = SS.Common.GameEnvironment.GameSetting.Icon[t].GameName
                    } catch (v) {}
                    return e
                }, e.prototype.getThemeIDByGameName = function(t) {
                    try {
                        var e = SS.Common.GameEnvironment.GameSetting.Icon;
                        for (var o in e)
                            if (e[o].GameName == t) return o
                    } catch (v) {}
                    return ""
                }, e.prototype.checkThemeIsOpen = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type.ALL,
                        n = e.indexOf(t),
                        i = this.getGameNameByThemeID(t),
                        r = o.indexOf(i),
                        a = o.indexOf("BIGICON_" + i);
                    return -1 == n && (r > -1 || a > -1)
                }, e.prototype.ToggleMissionTimeCountDown = function(t) {
                    t ? (this.gameMenuTimeReci.active = !0, this.floatBtnTimeReci.active = !0, this.finishPageTimeReci.active = !0) : (this.gameMenuTimeReci.active = !1, this.floatBtnTimeReci.active = !1, this.finishPageTimeReci.active = !1)
                }, e.prototype.OnDragEnd = function() {
                    console.warn("\u62d6\u66f3\u7d50\u675f")
                }, e.prototype.ToggleFinishMissionPage = function(t) {
                    this.m_FinishMission.active = t, this.m_MissionListCtrl.node.active = !t
                }, e.prototype.setActivityRoot = function(t) {
                    this.m_ActivitiesMgrRoot.active = t, this.m_MissionBtnCtrl.show(!t), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var e = 1 == this.m_iTitleType;
                    this.m_sprDailyBonus.enabled = !e, this.m_sprExtraBonus.enabled = e
                }, e.prototype.OpenSelectOptionPage = function(t, e) {
                    if (this.m_bBtnInterActable) {
                        if (m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.m_strChangeToGameName = String(e), this.curInGameName == this.m_strChangeToGameName) return console.warn("\u76f8\u540c\u904a\u6232\uff0c\u4e0d\u9032\u884c\u8df3\u8f49\u52d5\u4f5c !!"), void this.OnClickReturnBtn();
                        this.setActivityRoot(!1), self == top ? this.m_LobbyMgr.switchGame.OnSwitchGameIgnoreWindow(this.m_strChangeToGameName) : u.CommonRoot.Instance.m_switchGameGroup.OpenSwitchGameWindow(this.m_strChangeToGameName, this.curInGameName)
                    }
                }, e.prototype.OnClickReturnBtn = function() {
                    this.m_status != a.COLLECT && this.setActivityRoot(!1)
                }, e.prototype.OnClickLeaveGameBtn = function() {
                    this.m_bBtnInterActable && (console.log("OnClickLeaveGameBtn !!"), m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), this.OnClickReturnBtn(), this.SetReadyChangeGame())
                }, e.prototype.OnClickFloatBtn = function() {
                    if (this.m_bBtnInterActable) {
                        this.m_MissionBtnCtrl.showFingerPtr(!1);
                        var t = (new Date).getTime();
                        t - this.m_dateLastTimeOpenPanel > 1e4 ? (this.GetMissionCmdCallBack = this.ClickFloatBtnCallEvent, this.m_status = a.UPDATE_CMD, this.m_dateLastTimeOpenPanel = t) : this.ClickFloatBtnCallEvent()
                    }
                }, e.prototype.ClickFloatBtnCallEvent = function() {
                    this.setActivityRoot(!0), this.m_MissionTopProgress.showFingerPtr(!1)
                }, e.prototype.SendMissionBonusInfoCmd = function(t) {
                    void 0 === t && (t = !0), this.GetMissionCmdCallBack, this.TimeCountDownCallBack, 1 != this.isRequestInfoNow && (this.isRequestInfoNow = !0, console.log("SendCmd GetMissionBonusInfo"), s.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.recMissionInfo.bind(this)))
                }, e.prototype.OnClickClaimBtn = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var t = this.getCurGameMisData();
                    this.setCollectMisData(t), this.m_MissionTopProgress.showFingerPtr(!1), this.isClickClaimBtn = !0
                }, e.prototype.OnClickCollectBtn = function(t, e) {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1);
                    var o = this.getMisDataByThemeID(e.toString());
                    this.setCollectMisData(o);
                    var n = this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(e);
                    n.CollectBtnHand.active = !1, n.CollectBtn.target.active = !1
                }, e.prototype.setCollectMisData = function(t) {
                    console.warn(t), (t.Status = f.UserQuestDataStatus.AWARD_AVAILABLE) && (this.collectMisData = t, this.m_status = a.COLLECT)
                }, e.prototype.awardCoinDone = function() {
                    var t = this;
                    this.m_status == a.DISABLE ? (c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_FakeScoreBoxCtrl.hide()) : this.m_FakeScoreBoxCtrl.countUp(this.m_iFinalAwardNum, 2, function() {
                        return t.m_status = a.COLLECT_RCV
                    })
                }, e.prototype.getMissionBonus = function(t, e) {
                    if (console.warn("getMissionBonus : "), this.SetAllBtnInteract(!0), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data)
                        if (console.log("[MissionEventMgr.GetMissionBonus]  Success : ", e), 0 == e.cmd_data.result)
                            if (this.m_status == a.UPDATE_CMD || this.m_status == a.DISABLE) {
                                c.ConnectPanelMgr.Instance.DisableConnectPanel(0);
                                var o = void 0,
                                    n = void 0,
                                    i = void 0;
                                SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (i = e.cmd_data.data.AwardWinnings, n = e.cmd_data.playerInfo.winnings, o = C.ShowType.WINNING) : (i = e.cmd_data.data.AwardEntries, n = e.cmd_data.playerInfo.entries, o = C.ShowType.ENTRIES) : (n = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, i = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = C.ShowType.CREDIT), this.SetUserBalance(e.cmd_data.playerInfo)
                            } else {
                                this.m_MissionTopProgress.showFingerPtr(!1);
                                var r = this.m_MissionListCtrl.getMissionInfoCtrlByThemeID(+this.collectMisData.ThemeID);
                                this.isClickClaimBtn ? this.awardCoin.coinMoveToTarget(.5, this.awardCoinDone.bind(this)) : this.awardCoin.coinMoveToTarget(.5, this.awardCoinDone.bind(this), r.node), c.ConnectPanelMgr.Instance.DisableConnectPanel(0), this.m_FooterMsg.active = !1, this.curMisData == this.collectMisData && (this.m_iLastProgress = 0), o = void 0, n = void 0, i = void 0, SS.Common.GameEnvironment.IsUseScoreBox ? e.cmd_data.data.AwardWinnings > 0 ? (i = e.cmd_data.data.AwardWinnings, n = e.cmd_data.playerInfo.winnings, o = C.ShowType.WINNING) : (i = e.cmd_data.data.AwardEntries, n = e.cmd_data.playerInfo.entries, o = C.ShowType.ENTRIES) : (n = e.cmd_data.playerInfo.winnings + e.cmd_data.playerInfo.entries, i = e.cmd_data.data.AwardWinnings + e.cmd_data.data.AwardEntries, o = C.ShowType.CREDIT), this.m_iFinalAwardNum = n, this.m_FakeScoreBoxCtrl.show(o, this.m_iFinalAwardNum - i), this.SetUserBalance(e.cmd_data.playerInfo)
                            }
                    else {
                        switch (e.cmd_data.result) {
                            case 1:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S174", null, null, null), this.lobbySetUserBalance(e.cmd_data.playerInfo);
                                break;
                            case -999:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Info, "S175", null, null, null);
                                break;
                            default:
                                l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, "S189", null, null, null)
                        }
                        this.m_status = a.UPDATE_CMD
                    } else {
                        var s;
                        s = t == ArkSDK.HttpResult.Abort ? "S183" : t == ArkSDK.HttpResult.Condition ? "S184" : t == ArkSDK.HttpResult.Error ? "S187" : t == ArkSDK.HttpResult.NotReset ? "S185" : t == ArkSDK.HttpResult.Status ? "S186" : t == ArkSDK.HttpResult.Timeout ? "S188" : "S189", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Critical, s, null, null, null)
                    }
                }, e.prototype.OnToggleMissonObj = function(t) {
                    null != this.sData && this.m_MissionBtnCtrl.show(!t)
                }, e.prototype.SetReadyChangeGame = function() {
                    m.AudioMgr.Instance.Play("Btn_Select_y_v01", !1, 1), self == top ? (this.Del_ForceToGameEvent.Length > 0 && (this.Del_ForceToGameEvent.Notify(this.m_strChangeToGameName), this.Del_ForceToGameEvent.Clear()), this.m_strChangeToGameName = "") : u.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Length > 0 && u.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Notify()
                }, e.prototype.OnSetPrompt = function(t, e, o) {
                    var n;
                    e >= 1 ? (e = 1, this.m_MissionTopProgress.showBtn(!0), this.SetRedPoint(), n = -1) : (this.m_MissionTopProgress.showBtn(!1), n = 5e3), (Math.round(1e4 * e) / 100).toFixed(2), this.m_MissionTopProgress.show(!0, t, o, n)
                }, e.prototype.disableBannerPopUp = function() {
                    if (self == top && this.m_LobbyMgr)
                        for (var t = 0; t < this.m_LobbyMgr.m_arrEventBannerData.length; t++)
                            if ("TreasureMap" == this.m_LobbyMgr.m_arrEventBannerData[t].m_sBannerID) {
                                this.m_LobbyMgr.m_arrEventBannerData[t].m_bValid = !1;
                                break
                            }
                }, e.prototype.updateMisInfo = function() {
                    var t = this;
                    if (0 != this.m_arrMissionData.length)
                        if (this.m_iEndTime < this.m_iNowTime) setTimeout(function() {
                            t.isRequestInfoNow = !1, t.SendMissionBonusInfoCmd()
                        }, 3e3);
                        else {
                            this.m_MissionListCtrl.updateMisInfo(this.m_arrMissionData), null != this.GetMissionCmdCallBack && (this.GetMissionCmdCallBack(), this.GetMissionCmdCallBack = null), this.SetRedPoint();
                            for (var e = !0, o = 0; o < this.m_arrMissionData.length; o++) this.m_arrMissionData[o].Status != f.UserQuestDataStatus.AWARD_CLAIMED && (e = !1);
                            this.ToggleFinishMissionPage(e), this.isMissionLastDay = this.m_iEndTime == this.m_arrMissionData[0].ExpireTimeUTC, this.ToggleMissionTimeCountDown(!this.isMissionLastDay || !e), this.isRequestInfoNow = !1
                        }
                    else this.m_status = a.DISABLE
                }, e.prototype.recMissionInfo = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        if (console.warn("RepeatingMissionMgr.recMissionInfo:"), console.warn(o), o && 0 == o.result) {
                            var n = JSON.stringify(o.data);
                            this.parseMisInfo(n) && (s.LobbyClient.Instance.m_CommonEventInfo_900004 = n, this.updateMisInfo(), this.recMisInfoSetProgressCtr(), this.InitTimer())
                        }
                        o && o.result < 0 && (-999 == o.result ? this.m_status = a.DISABLE : (this.errorCode = "S182", l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)))
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e, l.PopupMsgMgr.Instance.ShowPopMsg(l.PopupPriority.Warning, this.errorCode, "Lobby", this.reason)
                }, e.prototype.recMisInfoSetProgressCtr = function() {
                    var t = this.getCurGameMisData();
                    if (t) {
                        var e = void 0;
                        switch (t.QuestType) {
                            case f.QustObjectiveType.WIN_AMOUNT:
                                e = t.WinAmount / t.WinAmountGate;
                                break;
                            case f.QustObjectiveType.SPIN_AMOUNT:
                                e = t.SpinAmount / t.SpinAmountGate;
                                break;
                            case f.QustObjectiveType.SPIN_TIME:
                                e = t.SpinTimes / t.SpinTimesGate;
                                break;
                            case f.QustObjectiveType.CUSTOM:
                                e = t.CustomAmount / t.CustomGate;
                                break;
                            default:
                                console.error("RepeatingMissionMgr.recMisInfoSetProgressCtr()")
                        }
                        this.m_MissionTopProgress.setProgressCtr(e)
                    }
                }, e.prototype.SetRedPoint = function() {
                    for (var t = 0, e = 0; e < this.m_arrMissionData.length; e++) this.m_arrMissionData[e].Status == f.UserQuestDataStatus.AWARD_AVAILABLE && t++;
                    this.m_MissionBtnCtrl.setRedTag(t)
                }, r([P(cc.Node)], e.prototype, "root", void 0), r([P(d.MissionBtnCtrl)], e.prototype, "m_MissionBtnCtrl", void 0), r([P(cc.Node)], e.prototype, "m_ActivitiesMgrRoot", void 0), r([P(cc.Node)], e.prototype, "m_GameToGameMenu", void 0), r([P(cc.Node)], e.prototype, "m_FinishMission", void 0), r([P(cc.Node)], e.prototype, "m_FooterMsg", void 0), r([P(g.MissionListCtrl)], e.prototype, "m_MissionListCtrl", void 0), r([P(_.MissionTopProgress)], e.prototype, "m_MissionTopProgress", void 0), r([P(h.MissionCoinCtrl)], e.prototype, "awardCoin", void 0), r([P(cc.Node)], e.prototype, "gameMenuTimeReci", void 0), r([P(p.DateTimeCountDown)], e.prototype, "gameMenuTimeCountdown", void 0), r([P(cc.Node)], e.prototype, "floatBtnTimeReci", void 0), r([P(p.DateTimeCountDown)], e.prototype, "floatBtnTimeCountDown", void 0), r([P(cc.Node)], e.prototype, "finishPageTimeReci", void 0), r([P(p.DateTimeCountDown)], e.prototype, "finishPageTimeCountDown", void 0), r([P(C.FakeScoreBoxCtrl)], e.prototype, "m_FakeScoreBoxCtrl", void 0), r([P(cc.Node)], e.prototype, "m_nodeBlocker", void 0), r([P(cc.Sprite)], e.prototype, "m_sprDailyBonus", void 0), r([P(cc.Sprite)], e.prototype, "m_sprExtraBonus", void 0), r([b], e)
            }(y.EventModule);
        o.RepeatingMissionMgr = w, cc._RF.pop()
    }, {
        "../../../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../../../../LobbyCommon/Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../../../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../../Component/AudioMgr": "AudioMgr",
        "../../../Component/DateTimeCountDown": "DateTimeCountDown",
        "../../../EventModule/EventModule": "EventModule",
        "../../EventBannerData": "EventBannerData",
        "./../../../FakeScoreBox/Script/FakeScoreBoxCtrl": "FakeScoreBoxCtrl",
        "./MissionBtnCtrl": "MissionBtnCtrl",
        "./MissionCoinCtrl": "MissionCoinCtrl",
        "./MissionData": "MissionData",
        "./MissionListCtrl": "MissionListCtrl",
        "./MissionTopProgress": "MissionTopProgress"
    }],
    ReturnLobbyHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ac6afU3pYhIQpsxUgx6qoa0", "ReturnLobbyHandler");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ReturnLobbyHandler = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.BackToLobby = function(t, e) {
                    var o, n = "" != SS.Common.GameEnvironment.ChangeToGameName && SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.ChangeToGameName);
                    o = "" != SS.Common.GameEnvironment.ChangeToGameName && n ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC, console.log("[Game To " + ("" != SS.Common.GameEnvironment.ChangeToGameName ? "Game" : "Lobby")), console.log("downloadSplashPath: " + o), this.SetSplashScale();
                    var i = t,
                        r = e;
                    if ("" == SS.Common.GameEnvironment.ChangeToGameName) window.parent.gd_orientationType = window.parent.orientationType.horizontal;
                    else {
                        var a = SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.ChangeToGameName);
                        window.parent.gd_orientationType = a ? window.parent.orientationType.vertical : window.parent.orientationType.horizontal
                    }
                    SS.Common.GameEnvironment.Splash.src != o ? (SS.Common.GameEnvironment.Splash.onload = function() {
                        i(), SS.Common.GameEnvironment.ResetOrientationchange(!0), i = null, r = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, SS.Common.GameEnvironment.Splash.onerror = function() {
                        r(), i = null, r = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, SS.Common.GameEnvironment.Splash.src = n ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC) : null != i && (i(), i = null, r = null)
                }, e.prototype.BackToLogin = function(t, e) {
                    var o = SS.Common.GameEnvironment.OriginalSplashSRC;
                    SS.Common.GameEnvironment.ChangeToGameName = "Login", console.log("[Game To Login]"), console.log("downloadSplashPath: " + o), this.SetSplashScale();
                    var n = t,
                        i = e;
                    window.parent.gd_orientationType = window.parent.orientationType.horizontal, SS.Common.GameEnvironment.Splash.src != o ? (SS.Common.GameEnvironment.Splash.onload = function() {
                        n(), SS.Common.GameEnvironment.ResetOrientationchange(!0), n = null, i = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, SS.Common.GameEnvironment.Splash.onerror = function() {
                        i(), n = null, i = null, SS.Common.GameEnvironment.Splash.onload = null, SS.Common.GameEnvironment.Splash.onerror = null
                    }, SS.Common.GameEnvironment.Splash.src = SS.Common.GameEnvironment.OriginalSplashSRC) : null != n && (n(), n = null, i = null)
                }, e.prototype.SetSplashScale = function() {
                    var t = SS.Common.GameEnvironment.GetIsGameIsVertical();
                    SS.Common.GameEnvironment.Splash && (t ? (SS.Common.GameEnvironment.Splash.style.width = "auto", SS.Common.GameEnvironment.Splash.style.height = "100%") : (SS.Common.GameEnvironment.Splash.style.width = "100%", SS.Common.GameEnvironment.Splash.style.height = "auto"))
                }, r([s], e)
            }(cc.Component));
        o.ReturnLobbyHandler = c, cc._RF.pop()
    }, {}],
    RewardBroadcastMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "58817/Tl4VGCJFrVQVN/ie+", "RewardBroadcastMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RewardBroadcastMgr = o.RewardBroadcastItem = o.BroadcastBuffer = o.RewardBroadcastType = void 0;
        var a, s, c = t("../../LobbyCommon/Component/AudioMgr"),
            l = t("../../LobbyCommon/Component/SpawnPool"),
            u = t("../../LobbyCommon/Helper/EventSystem"),
            p = t("./NoticeInteractive"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property;
        (function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.IN = 1] = "IN", t[t.WAIT_IN = 2] = "WAIT_IN", t[t.LOOP = 3] = "LOOP", t[t.WAIT_LOOP = 4] = "WAIT_LOOP", t[t.OUT = 5] = "OUT", t[t.WAIT_OUT = 6] = "WAIT_OUT", t[t.FINISHED = 7] = "FINISHED"
        })(a || (a = {})),
        function(t) {
            t[t.Jackpot = 1] = "Jackpot", t[t.Multiple_Slot = 2] = "Multiple_Slot", t[t.Multiple_Fish = 3] = "Multiple_Fish"
        }(s = o.RewardBroadcastType || (o.RewardBroadcastType = {}));
        var _ = function() {};
        o.BroadcastBuffer = _;
        var g = function() {
            function t() {
                this.type = s.Multiple_Slot, this.pfbBroadcast = null, this.root = null, this.animIn = null, this.animLoop = null, this.animOut = null
            }
            return r([d({
                type: cc.Enum(s)
            })], t.prototype, "type", void 0), r([d(cc.Prefab)], t.prototype, "pfbBroadcast", void 0), r([d(cc.Node)], t.prototype, "root", void 0), r([d(cc.AnimationClip)], t.prototype, "animIn", void 0), r([d(cc.AnimationClip)], t.prototype, "animLoop", void 0), r([d(cc.AnimationClip)], t.prototype, "animOut", void 0), r([h("RewardBroadcastItem")], t)
        }();
        o.RewardBroadcastItem = g;
        var f = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_RewardBroadcastItem = [], e.m_SpawnPool = null, e.AudioClipList = [], e.AudioNameList = [], e.m_BroadcastBuffer = [], e.m_pfbCurrentBroadcast = null, e.m_nodeCurrentBroadcast = null, e.m_numLoopFinishedTime = 5, e.m_numLoopTimer = 0, e.m_nodeCurrentRoot = null, e.m_CurrentBroadcast = null, e.m_strAnimIn = "", e.m_strAnimLoop = "", e.m_strAnimOut = "", e.m_animCurrentBroadcast = null, e.m_IsTimeToShow = !0, e.m_RewardBroadcastState = a.IDLE, e
            }
            return i(e, t), e.prototype.start = function() {
                this.m_RewardBroadcastState = a.IDLE, this.m_pfbCurrentBroadcast = null, this.m_nodeCurrentBroadcast = null, this.m_numLoopTimer = 0, this.m_animCurrentBroadcast = null, this.m_nodeCurrentRoot = null, this.m_CurrentBroadcast = null, this.m_IsTimeToShow = !0, u.EventSystem.Event(u.NoticedArrived.OnReceiveBroadcast).Insert(this.OnReceiveBroadcast, this), u.EventSystem.Event(u.NoticedArrived.ShowBroadcast).Insert(this.OnShowBroadcast, this), c.AudioMgr.Instance.setAudioClip(this.AudioClipList, this.AudioNameList)
            }, e.prototype.onDestroy = function() {
                u.EventSystem.Event(u.NoticedArrived.OnReceiveBroadcast).Remove(this.OnReceiveBroadcast, this), u.EventSystem.Event(u.NoticedArrived.ShowBroadcast).Remove(this.OnShowBroadcast, this), this.m_pfbCurrentBroadcast = null, this.m_nodeCurrentBroadcast = null, this.m_nodeCurrentRoot = null, this.m_CurrentBroadcast = null, null != this.m_animCurrentBroadcast && null != this.m_animCurrentBroadcast.node && (this.m_animCurrentBroadcast.off("finished", this.onAnimInFinished, this), this.m_animCurrentBroadcast.off("lastframe", this.onAnimLoopLastFrame, this), this.m_animCurrentBroadcast.off("finished", this.onAnimOutFinished, this), this.m_animCurrentBroadcast = null), this.unscheduleAllCallbacks()
            }, e.prototype.update = function(t) {
                switch (this.m_RewardBroadcastState) {
                    case a.IDLE:
                        1 == this.m_IsTimeToShow && this.IsBroadcastComing() && (this.m_RewardBroadcastState = a.IN);
                        break;
                    case a.IN:
                        this.BroadcastIn(), this.m_RewardBroadcastState = a.WAIT_IN;
                        break;
                    case a.WAIT_IN:
                        break;
                    case a.LOOP:
                        this.BroadcastLoop(), this.m_RewardBroadcastState = a.WAIT_LOOP;
                        break;
                    case a.WAIT_LOOP:
                        this.m_numLoopTimer += t;
                        break;
                    case a.OUT:
                        this.BroadcastOut(), this.m_RewardBroadcastState = a.WAIT_OUT;
                        break;
                    case a.WAIT_OUT:
                        break;
                    case a.FINISHED:
                        this.BroadcastFinished(), this.m_RewardBroadcastState = a.IDLE
                }
            }, e.prototype.GetCurrentArkID = function() {
                return this.m_CurrentBroadcast.ark_id
            }, e.prototype.IsBroadcastComing = function() {
                var t = !1;
                if (this.m_BroadcastBuffer.length > 0)
                    for (var e = this.m_BroadcastBuffer.shift(), o = 0; o < this.m_RewardBroadcastItem.length; o++)
                        if (this.m_RewardBroadcastItem[o].type == e.type) {
                            this.m_pfbCurrentBroadcast = this.m_RewardBroadcastItem[o].pfbBroadcast, this.m_strAnimIn = this.m_RewardBroadcastItem[o].animIn.name, this.m_strAnimLoop = this.m_RewardBroadcastItem[o].animLoop.name, this.m_strAnimOut = this.m_RewardBroadcastItem[o].animOut.name, this.m_nodeCurrentRoot = this.m_RewardBroadcastItem[o].root, this.m_CurrentBroadcast = e, t = !0;
                            break
                        }
                return t
            }, e.prototype.BroadcastIn = function() {
                this.m_nodeCurrentBroadcast = this.m_SpawnPool.Spawn(this.m_pfbCurrentBroadcast.data), this.m_nodeCurrentBroadcast.active = !0, this.m_nodeCurrentBroadcast.parent = this.m_nodeCurrentRoot, this.m_nodeCurrentBroadcast.position = cc.Vec3.ZERO, this.SetAvatar(), this.m_animCurrentBroadcast = this.m_nodeCurrentBroadcast.getComponent(cc.Animation), c.AudioMgr.Instance.Play("PS_Record_No1Push", !1, 1), this.m_animCurrentBroadcast && (this.m_animCurrentBroadcast.play(this.m_strAnimIn), this.m_numLoopTimer = 0, this.m_animCurrentBroadcast.on("finished", this.onAnimInFinished, this), u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowIn).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowIn).Notify())
            }, e.prototype.BroadcastLoop = function() {
                this.m_animCurrentBroadcast.play(this.m_strAnimLoop), this.m_animCurrentBroadcast.on("lastframe", this.onAnimLoopLastFrame, this)
            }, e.prototype.BroadcastOut = function() {
                this.m_animCurrentBroadcast.play(this.m_strAnimOut), u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowOut).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowOut).Notify(), this.m_animCurrentBroadcast.on("finished", this.onAnimOutFinished, this)
            }, e.prototype.BroadcastFinished = function() {
                this.m_SpawnPool.Despawn(this.m_nodeCurrentBroadcast), u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowFinished).Length > 0 && u.EventSystem.Event(u.NoticedArrived.OnBroadcastShowFinished).Notify()
            }, e.prototype.SetAvatar = function() {
                if (this.m_CurrentBroadcast) {
                    var t = this.m_nodeCurrentBroadcast.getComponent(p.NoticeInteractive);
                    t && (t.SetFaceByID(this.m_CurrentBroadcast.face), t.SetFrameByID(this.m_CurrentBroadcast.faceFrame), t.SetNickname(this.m_CurrentBroadcast.nickname), t.SetScore(this.m_CurrentBroadcast.score), t.m_RewardBroadcastArkID = this.m_CurrentBroadcast.ark_id, t.m_IsSelf = SS.Network.LoginModel.LoginInfo.pin_ark_id == this.m_CurrentBroadcast.ark_id, t.m_RewardBroadcastType = this.m_CurrentBroadcast.type)
                }
            }, e.prototype.onAnimInFinished = function() {
                this.m_animCurrentBroadcast.off("finished", this.onAnimInFinished, this), this.m_RewardBroadcastState = a.LOOP
            }, e.prototype.onAnimLoopLastFrame = function() {
                this.m_numLoopTimer > this.m_numLoopFinishedTime && (this.m_animCurrentBroadcast.off("lastframe", this.onAnimLoopLastFrame, this), this.m_RewardBroadcastState = a.OUT)
            }, e.prototype.onAnimOutFinished = function() {
                this.m_animCurrentBroadcast.off("finished", this.onAnimOutFinished, this), this.m_animCurrentBroadcast = null, this.m_RewardBroadcastState = a.FINISHED
            }, e.prototype.OnReceiveBroadcast = function(t) {
                var e = s.Multiple_Slot,
                    o = "",
                    n = "",
                    i = "",
                    r = "",
                    a = "",
                    c = "";
                if (t.hasOwnProperty("type")) switch (Number(t.type)) {
                    case 1:
                        e = s.Jackpot, c = "$";
                        break;
                    case 2:
                        e = s.Multiple_Slot, c = "X";
                        break;
                    case 3:
                        e = s.Multiple_Fish, c = "X"
                }
                t.hasOwnProperty("value") && (o = t.value), t.hasOwnProperty("avatar_id") && (n = t.avatar_id), t.hasOwnProperty("avatar_frame_id") && (i = t.avatar_frame_id), t.hasOwnProperty("nickname") && (r = t.nickname), t.hasOwnProperty("ark_id") && (a = t.ark_id);
                var l = new _;
                l.face = n, l.faceFrame = i, l.type = e, l.nickname = r, l.score = c + o, l.ark_id = a, cc.log("[step] OnReceiveBroadcast ", t, l), SS.Network.LoginModel.LoginInfo.pin_ark_id == l.ark_id && s.Multiple_Slot == l.type && (this.m_IsTimeToShow = !1, cc.log("[step] OnReceiveBroadcast, Waiting for the reward to show...")), this.m_BroadcastBuffer.push(l), l = null
            }, e.prototype.OnShowBroadcast = function() {
                0 == this.m_IsTimeToShow && cc.log("[step] OnShowBroadcast, show now..."), this.m_IsTimeToShow = !0
            }, r([d([g])], e.prototype, "m_RewardBroadcastItem", void 0), r([d(l.SpawnPool)], e.prototype, "m_SpawnPool", void 0), r([d(cc.AudioClip)], e.prototype, "AudioClipList", void 0), r([d(String)], e.prototype, "AudioNameList", void 0), r([h], e)
        }(cc.Component);
        o.RewardBroadcastMgr = f, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Component/SpawnPool": "SpawnPool",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "./NoticeInteractive": "NoticeInteractive"
    }],
    RewardNoticeMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b544cKeJbJNaoQ4kvaCwhC5", "RewardNoticeMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.RewardNoticeMgr = o.RewardNoticeItem = o.RewardType = o.RecordType = o.PlayerRecordType = void 0;
        var a, s, c, l = t("../../LobbyCommon/Component/AudioMgr"),
            u = t("../../LobbyCommon/Component/SpawnPool"),
            p = t("../../LobbyCommon/Helper/EventSystem"),
            m = cc._decorator,
            h = m.ccclass,
            d = m.property;
        (function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.IN = 1] = "IN", t[t.WAIT_IN = 2] = "WAIT_IN", t[t.LOOP = 3] = "LOOP", t[t.WAIT_LOOP = 4] = "WAIT_LOOP", t[t.OUT = 5] = "OUT", t[t.WAIT_OUT = 6] = "WAIT_OUT", t[t.FINISHED = 7] = "FINISHED"
        })(a || (a = {})),
        function(t) {
            t[t.Fish = 0] = "Fish", t[t.Slot = 1] = "Slot", t[t.Keno = 2] = "Keno"
        }(s || (s = {})),
        function(t) {
            t[t.Personal = 0] = "Personal", t[t.Continent = 1] = "Continent"
        }(o.PlayerRecordType || (o.PlayerRecordType = {})),
        function(t) {
            t[t.TotalWin = 0] = "TotalWin", t[t.Jackpot = 1] = "Jackpot", t[t.SlotMultiple = 2] = "SlotMultiple", t[t.FishMultiple = 3] = "FishMultiple"
        }(o.RecordType || (o.RecordType = {})),
        function(t) {
            t[t.NewRecord_Multiple = 0] = "NewRecord_Multiple", t[t.NewRecord_Jackpot = 1] = "NewRecord_Jackpot", t[t.NumberOne_Multiple = 2] = "NumberOne_Multiple", t[t.NumberOne_Jackpot = 3] = "NumberOne_Jackpot", t[t.None = 4] = "None"
        }(c = o.RewardType || (o.RewardType = {}));
        var _ = function() {
            function t() {
                this.RewardType = c.NewRecord_Multiple, this.pfbReward = null, this.animIn = null, this.animLoop = null, this.animOut = null
            }
            return r([d({
                type: cc.Enum(c)
            })], t.prototype, "RewardType", void 0), r([d(cc.Prefab)], t.prototype, "pfbReward", void 0), r([d(cc.AnimationClip)], t.prototype, "animIn", void 0), r([d(cc.AnimationClip)], t.prototype, "animLoop", void 0), r([d(cc.AnimationClip)], t.prototype, "animOut", void 0), r([h("RewardNoticeItem")], t)
        }();
        o.RewardNoticeItem = _;
        var g = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_RewardLocation = s.Slot, e.m_RewardNoticeItem = [], e.m_pfbEffectToBar = null, e.m_nodeRewardRoot = null, e.m_nodeEffectTargetRoot = null, e.m_spriteProfileBar = null, e.m_numberEffectFlyTime = .5, e.m_SpawnPool = null, e.AudioClipList = [], e.AudioNameList = [], e.m_RewardTypeBuffer = [], e.m_CurrRewardType = c.None, e.m_pfbCurrReward = null, e.m_nodeCurrReward = null, e.m_numLoopFinishedTime = 3, e.m_numLoopTimer = 0, e.m_strAnimIn = "", e.m_strAnimLoop = "", e.m_strAnimOut = "", e.m_animCurrReward = null, e.m_nodeEffectToBar = null, e.m_RewardState = a.IDLE, e.m_IsTimeToShow = !1, e.m_BlockNewRecordNotice = !1, e
            }
            return i(e, t), e.prototype.start = function() {
                this.m_RewardState = a.IDLE, this.m_pfbCurrReward = null, this.m_nodeCurrReward = null, this.m_numLoopTimer = 0, this.m_animCurrReward = null, this.m_nodeEffectToBar = null, this.m_IsTimeToShow = !1, l.AudioMgr.Instance.setAudioClip(this.AudioClipList, this.AudioNameList), p.EventSystem.Event(p.NoticedArrived.OnReceiveReward).Insert(this.onNoticedArrived, this), p.EventSystem.Event(p.NoticedArrived.ShowRewardNotice).Insert(this.onShowRewardNotice, this)
            }, e.prototype.onDestroy = function() {
                p.EventSystem.Event(p.NoticedArrived.OnReceiveReward).Remove(this.onNoticedArrived, this), p.EventSystem.Event(p.NoticedArrived.ShowRewardNotice).Remove(this.onShowRewardNotice, this), this.m_pfbCurrReward = null, this.m_nodeCurrReward = null, null != this.m_animCurrReward && null != this.m_animCurrReward.node && (this.m_animCurrReward.off("finished", this.onAnimInFinished, this), this.m_animCurrReward.off("lastframe", this.onAnimLoopLastFrame, this), this.m_animCurrReward.off("finished", this.onAnimOutFinished, this), this.m_animCurrReward = null), this.m_nodeEffectToBar && (this.m_SpawnPool.Despawn(this.m_nodeEffectToBar), this.m_nodeEffectToBar = null), this.unscheduleAllCallbacks()
            }, e.prototype.update = function(t) {
                switch (this.m_RewardState) {
                    case a.IDLE:
                        1 == this.m_IsTimeToShow && (this.IsGetNewReward() ? this.m_RewardState = a.IN : this.m_IsTimeToShow = !1);
                        break;
                    case a.IN:
                        this.RankRewardIn(), this.m_RewardState = a.WAIT_IN;
                        break;
                    case a.WAIT_IN:
                        break;
                    case a.LOOP:
                        this.RankRewardLoop(), this.m_RewardState = a.WAIT_LOOP;
                        break;
                    case a.WAIT_LOOP:
                        this.m_numLoopTimer += t;
                        break;
                    case a.OUT:
                        this.RankRewardOut(), this.m_RewardState = a.WAIT_OUT;
                        break;
                    case a.WAIT_OUT:
                        break;
                    case a.FINISHED:
                        this.RankRewardFinished(), this.m_RewardState = a.IDLE
                }
            }, e.prototype.IsGetNewReward = function() {
                var t = !1;
                if (this.m_RewardTypeBuffer.length > 0) {
                    this.m_CurrRewardType = this.m_RewardTypeBuffer.shift();
                    for (var e = 0; e < this.m_RewardNoticeItem.length; e++)
                        if (this.m_RewardNoticeItem[e].RewardType == this.m_CurrRewardType) {
                            this.m_pfbCurrReward = this.m_RewardNoticeItem[e].pfbReward, this.m_strAnimIn = this.m_RewardNoticeItem[e].animIn.name, this.m_strAnimLoop = this.m_RewardNoticeItem[e].animLoop.name, this.m_strAnimOut = this.m_RewardNoticeItem[e].animOut.name, t = !0;
                            break
                        }
                }
                return t
            }, e.prototype.onShowRewardNotice = function() {
                this.m_IsTimeToShow = !0
            }, e.prototype.RankRewardIn = function() {
                switch (this.m_nodeCurrReward = this.m_SpawnPool.Spawn(this.m_pfbCurrReward.data), this.m_nodeCurrReward.active = !0, this.m_nodeCurrReward.parent = this.m_nodeRewardRoot, this.m_nodeCurrReward.position = cc.Vec3.ZERO, this.m_animCurrReward = this.m_nodeCurrReward.getComponent(cc.Animation), this.m_animCurrReward && (this.m_animCurrReward.play(this.m_strAnimIn), this.m_numLoopTimer = 0, this.m_animCurrReward.on("finished", this.onAnimInFinished, this), p.EventSystem.Event(p.NoticedArrived.OnRewardShowIn).Length > 0 && p.EventSystem.Event(p.NoticedArrived.OnRewardShowIn).Notify()), this.m_CurrRewardType) {
                    case c.NewRecord_Jackpot:
                    case c.NewRecord_Multiple:
                        l.AudioMgr.Instance.Play("PS_Record_NewRecord", !1, 1);
                        break;
                    case c.NumberOne_Jackpot:
                    case c.NumberOne_Multiple:
                        this.scheduleOnce(function() {
                            l.AudioMgr.Instance.Play("PS_Record_No1", !1, 1)
                        }, .25), p.EventSystem.Event(p.NoticedArrived.ShowBroadcast).Length > 0 && p.EventSystem.Event(p.NoticedArrived.ShowBroadcast).Notify()
                }
                p.EventSystem.Event(p.Profile.ClearSelfUpdateCDTime).Length && p.EventSystem.Event(p.Profile.ClearSelfUpdateCDTime).Notify()
            }, e.prototype.RankRewardLoop = function() {
                this.m_animCurrReward.play(this.m_strAnimLoop), this.m_animCurrReward.on("lastframe", this.onAnimLoopLastFrame, this)
            }, e.prototype.RankRewardOut = function() {
                this.m_animCurrReward.play(this.m_strAnimOut), p.EventSystem.Event(p.NoticedArrived.OnRewardShowOut).Length > 0 && p.EventSystem.Event(p.NoticedArrived.OnRewardShowOut).Notify(), this.m_animCurrReward.on("finished", this.onAnimOutFinished, this)
            }, e.prototype.RankRewardFinished = function() {
                this.m_SpawnPool.Despawn(this.m_nodeCurrReward), p.EventSystem.Event(p.NoticedArrived.OnRewardShowFinished).Length > 0 && p.EventSystem.Event(p.NoticedArrived.OnRewardShowFinished).Notify(), this.m_RewardTypeBuffer.length <= 0 && (this.m_IsTimeToShow = !1, p.EventSystem.Event(p.NoticedArrived.ShowBroadcast).Length > 0 && p.EventSystem.Event(p.NoticedArrived.ShowBroadcast).Notify())
            }, e.prototype.onAnimInFinished = function() {
                this.m_animCurrReward.off("finished", this.onAnimInFinished, this), this.m_RewardState = a.LOOP
            }, e.prototype.onAnimLoopLastFrame = function() {
                this.m_numLoopTimer > this.m_numLoopFinishedTime && (this.m_animCurrReward.off("lastframe", this.onAnimLoopLastFrame, this), this.m_RewardState = a.OUT)
            }, e.prototype.onAnimOutFinished = function() {
                this.m_animCurrReward.off("finished", this.onAnimOutFinished, this), this.m_animCurrReward = null, this.m_RewardState = a.FINISHED
            }, e.prototype.onNoticedArrived = function(t) {
                if (t != c.NewRecord_Multiple || !this.m_BlockNewRecordNotice) {
                    if (t == c.NewRecord_Multiple && this.m_RewardTypeBuffer.findIndex(function(e) {
                            return e == t
                        }) > -1) return void cc.log("[step] onNoticedArrived, RewardType " + t + " is already in buffer.");
                    t == c.NumberOne_Multiple && (this.m_BlockNewRecordNotice = !0, this.unschedule(this.ResetBlockNewRecordNotice), this.scheduleOnce(this.ResetBlockNewRecordNotice, 5)), this.m_RewardTypeBuffer.push(t)
                }
            }, e.prototype.ResetBlockNewRecordNotice = function() {
                this.m_BlockNewRecordNotice = !1
            }, r([d({
                type: cc.Enum(s)
            })], e.prototype, "m_RewardLocation", void 0), r([d([_])], e.prototype, "m_RewardNoticeItem", void 0), r([d(cc.Prefab)], e.prototype, "m_pfbEffectToBar", void 0), r([d(cc.Node)], e.prototype, "m_nodeRewardRoot", void 0), r([d(cc.Node)], e.prototype, "m_nodeEffectTargetRoot", void 0), r([d(cc.Sprite)], e.prototype, "m_spriteProfileBar", void 0), r([d(Number)], e.prototype, "m_numberEffectFlyTime", void 0), r([d(u.SpawnPool)], e.prototype, "m_SpawnPool", void 0), r([d(cc.AudioClip)], e.prototype, "AudioClipList", void 0), r([d(String)], e.prototype, "AudioNameList", void 0), r([h], e)
        }(cc.Component);
        o.RewardNoticeMgr = g, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/AudioMgr": "AudioMgr",
        "../../LobbyCommon/Component/SpawnPool": "SpawnPool",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem"
    }],
    ScrollviewWindow: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e65f0lQid1B8b15agkgAIQB", "ScrollviewWindow");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.ScrollviewWindow = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_ScrollView = null, e.m_Mask = null, e.m_nodeMask = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    this.m_nodeMask = this.m_Mask.node
                }, e.prototype.update = function() {
                    var t = this;
                    this.m_ScrollView.isScrolling && this.m_ScrollView.content.children.forEach(function(e) {
                        var o = t.m_nodeMask.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.Vec2.ZERO)),
                            n = t.m_nodeMask.width + e.width > 2 * Math.abs(o.x) && t.m_nodeMask.height + e.height > 2 * Math.abs(o.y);
                        e.opacity = n ? 255 : 0
                    })
                }, r([c(cc.ScrollView)], e.prototype, "m_ScrollView", void 0), r([c(cc.Mask)], e.prototype, "m_Mask", void 0), r([s], e)
            }(cc.Component);
        o.ScrollviewWindow = l, cc._RF.pop()
    }, {}],
    SelfDestroy: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "69679/wuZFL6LoWStAsD0En", "SelfDestroy");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SelfDestroy = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_fSec = 0, e
                }
                return i(e, t), e.prototype.start = function() {
                    var t = cc.delayTime(this.m_fSec),
                        e = cc.callFunc(this.selfDestroy.bind(this)),
                        o = cc.sequence(t, e);
                    this.node.runAction(o)
                }, e.prototype.selfDestroy = function() {
                    this.node.destroyAllChildren(), this.node.destroy()
                }, r([c(cc.Float)], e.prototype, "m_fSec", void 0), r([s], e)
            }(cc.Component);
        o.SelfDestroy = l, cc._RF.pop()
    }, {}],
    SetUseSprite: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "17d2bg33ixGzblbQKMa5qKN", "SetUseSprite");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SetUseSprite = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_esSpriteFrame = null, e.m_enSpriteFrame = null, e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    null != this.m_esSpriteFrame && null != this.m_enSpriteFrame && (this.getComponent(cc.Sprite).spriteFrame = "en" == SS.Common.GameEnvironment.Language ? this.m_enSpriteFrame : this.m_esSpriteFrame)
                }, r([c(cc.SpriteFrame)], e.prototype, "m_esSpriteFrame", void 0), r([c(cc.SpriteFrame)], e.prototype, "m_enSpriteFrame", void 0), r([s], e)
            }(cc.Component);
        o.SetUseSprite = l, cc._RF.pop()
    }, {}],
    Setting: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "5b972sQGG5F+qFot+QY1l8d", "Setting");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var r = t("./Download"),
            a = function() {
                function t() {
                    this._projectSetting = null, this._gameSetting = null, this._setting = null
                }
                return Object.defineProperty(t, "_instance", {
                    get: function() {
                        return null == this._inst && (this._inst = new t), this._inst
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "NeedInit", {
                    get: function() {
                        return null == this._setting
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.CheckInit = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t._instance.NeedInit ? [4, t._instance.Init()] : [3, 2];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.Init = function() {
                    return n(this, void 0, void 0, function() {
                        var t;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.NeedInit ? (this._projectSetting = SS.Common.GameEnvironment.ProjectSetting, t = this, [4, r.Download.JSON(gd_nowLOGO + "Setting")]) : [2];
                                case 1:
                                    return t._setting = e.sent(), [2]
                            }
                        })
                    })
                }, t.InitGameList = function() {
                    for (var e in t._instance._gameSetting = SS.Common.GameEnvironment.GameSetting, t._instance._gameSetting.Icon) {
                        var o = t._instance._gameSetting.Icon[e].GameName,
                            n = JSON.parse("{}");
                        n.ThemeID = e, n.GameName = o, t._instance._setting[e] = n, t._instance._setting[o] = n
                    }
                }, t.GetThemeID = function(e) {
                    return t._instance._setting[e] && t._instance._setting[e].ThemeID ? t._instance._setting[e].ThemeID : ""
                }, t.GetGameName = function(e) {
                    return t._instance._setting[e] && t._instance._setting[e].GameName ? t._instance._setting[e].GameName : ""
                }, t.GetSetting = function(e) {
                    return t._instance._setting[e] ? t._instance._setting[e] : null
                }, t._inst = null, t
            }();
        o.default = a, cc._RF.pop()
    }, {
        "./Download": "Download"
    }],
    SkillGameArrowAni: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3f7c5accP9JMZn3KjeLU+L/", "SkillGameArrowAni");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SkillGameArrowAni = void 0;
        var a, s = cc._decorator,
            c = s.ccclass,
            l = s.property;
        (function(t) {
            t[t.Idle = 0] = "Idle", t[t.Run = 1] = "Run", t[t.Stop = 2] = "Stop"
        })(a || (a = {}));
        var u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.m_nodeArrowPivot = null, e.m_nowState = a.Idle, e.RIGHT_SPEED = 40, e.BACK_SPEED = -40, e.MAX_ANGLE = 60, e.MIN_ANGLE = -60, e.MAX_RED_ANGLE = 39, e.MIN_RED_ANGLE = -39, e
            }
            return i(e, t), e.prototype.Run = function() {
                this.m_nodeArrowPivot.setRotation(this.MIN_RED_ANGLE), this.m_moveSpeed = this.RIGHT_SPEED, this.m_nowState = a.Run
            }, e.prototype.Stop = function() {
                this.m_nowState = a.Stop
            }, e.prototype.GetResult = function() {
                return this.m_nodeArrowPivot.rotation >= this.MIN_RED_ANGLE && this.m_nodeArrowPivot.rotation <= this.MAX_RED_ANGLE ? 0 : 1
            }, e.prototype.update = function(t) {
                switch (this.m_nowState) {
                    case a.Idle:
                        break;
                    case a.Run:
                        this.RunState(t);
                        break;
                    case a.Stop:
                        this.StopState()
                }
            }, e.prototype.lateUpdate = function() {
                switch (this.m_nowState) {
                    case a.Idle:
                        break;
                    case a.Run:
                        this.CheckMaxAngle();
                        break;
                    case a.Stop:
                }
            }, e.prototype.RunState = function(t) {
                this.m_nodeArrowPivot.rotation += t * this.m_moveSpeed
            }, e.prototype.CheckMaxAngle = function() {
                this.m_nodeArrowPivot.rotation >= this.MAX_ANGLE ? this.m_moveSpeed = this.BACK_SPEED : this.m_nodeArrowPivot.rotation <= this.MIN_ANGLE && (this.m_moveSpeed = this.RIGHT_SPEED)
            }, e.prototype.StopState = function() {
                this.m_nowState = a.Idle
            }, r([l(cc.Node)], e.prototype, "m_nodeArrowPivot", void 0), r([c], e)
        }(cc.Component);
        o.SkillGameArrowAni = u, cc._RF.pop()
    }, {}],
    SkillGameMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "ec5a9X3ZU9N5pPLye14tevO", "SkillGameMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            a = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            s = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SkillGameMgr = void 0;
        var c, l = t("./SkillGameArrowAni"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property;
        (function(t) {
            t[t.Win = 0] = "Win", t[t.Lose = 1] = "Lose"
        })(c || (c = {}));
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.DENOMINATION = .01, e.m_isClickStop = !1, e
            }
            return i(e, t), e.prototype._onLoad = function() {}, e.prototype._start = function() {}, e.prototype.ShowPanel = function(t, e, o) {
                this.m_userWin = t, this.m_loseRate = e;
                var n = SS.Common.BaseFunction.accMul(t, this.DENOMINATION);
                this.m_labelUserWin.string = "$" + this.TruncateCurrency(n, this.DENOMINATION), this.m_labelLosePercent.string = SS.Common.BaseFunction.accMul(this.m_loseRate, 100).toString() + "%", this.m_onStopSkillGame = o, this.m_nodePromptPanel.active = !0, this.m_nodeResultPanel.active = !1, this.root.active = !0, this.m_arrowAni.Run(), this.m_isClickStop = !1, this.m_StopBtn.interactable = !0
            }, e.prototype.TruncateCurrency = function(t, e) {
                var o = SS.Common.BaseFunction.accDiv(1, e);
                return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
            }, e.prototype.OnClickStop = function() {
                if (!this.m_isClickStop) {
                    this.m_isClickStop = !0, this.m_StopBtn.interactable = !1, this.m_arrowAni.Stop();
                    var t = this.m_arrowAni.GetResult();
                    if (t == c.Win) this.m_labelResultWin.string = this.m_labelUserWin.string, this.m_labelResultPercent.string = "100%";
                    else {
                        this.m_userWin = SS.Common.BaseFunction.accMul(this.m_loseRate, this.m_userWin);
                        var e = SS.Common.BaseFunction.accMul(this.m_userWin, this.DENOMINATION);
                        this.m_labelResultWin.string = "$" + this.TruncateCurrency(e, this.DENOMINATION), this.m_labelResultPercent.string = this.m_labelLosePercent.string
                    }
                    this.m_nodePromptPanel.active = !1, this.m_nodeResultPanel.active = !0, this.DelayToLogout(t)
                }
            }, e.prototype.DelayToLogout = function(t) {
                return a(this, void 0, void 0, function() {
                    return s(this, function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, SS.Common.WaitForSeconds(3)];
                            case 1:
                                return e.sent(), this.m_onStopSkillGame(t), [2]
                        }
                    })
                })
            }, e.prototype.OnClickClose = function() {
                this.m_isClickStop || (this.root.active = !1)
            }, r([m(cc.Node)], e.prototype, "root", void 0), r([m(cc.Node)], e.prototype, "m_nodePromptPanel", void 0), r([m(cc.Label)], e.prototype, "m_labelUserWin", void 0), r([m(cc.Label)], e.prototype, "m_labelLosePercent", void 0), r([m(cc.Button)], e.prototype, "m_StopBtn", void 0), r([m(cc.Node)], e.prototype, "m_nodeResultPanel", void 0), r([m(cc.Label)], e.prototype, "m_labelResultWin", void 0), r([m(cc.Label)], e.prototype, "m_labelResultPercent", void 0), r([m(l.SkillGameArrowAni)], e.prototype, "m_arrowAni", void 0), r([p], e)
        }(cc.Component);
        o.SkillGameMgr = h, cc._RF.pop()
    }, {
        "./SkillGameArrowAni": "SkillGameArrowAni"
    }],
    SkinConfig: [function(t, e) {
        "use strict";
        cc._RF.push(e, "1025bydH7xNzK4x7zSBJMf3", "SkinConfig"), cc._RF.pop()
    }, {}],
    SkinLayer: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "3eae8mGKrlFM5PeVeZG34z5", "SkinLayer");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("./Skin"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.layer = [], e
                }
                return i(e, t), e.prototype.onLoad = function() {
                    a.default.Instance.layer = this.layer
                }, e.prototype.onDestroy = function() {
                    a.default.Instance.layer = []
                }, r([l({
                    type: a.LayerSetting,
                    displayName: "Root"
                })], e.prototype, "layer", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "./Skin": "Skin"
    }],
    Skin: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "bb89a6Cb6xFj5gb6u6Y2bIQ", "Skin");
        var n = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            },
            i = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.LayerSetting = void 0;
        var a = t("../Helper/Download"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function() {
                function t() {
                    this.name = "", this.root = null
                }
                return n([l({
                    displayName: "\u5716\u5c64\u547d\u540d"
                })], t.prototype, "name", void 0), n([l({
                    type: cc.Node,
                    displayName: "Root"
                })], t.prototype, "root", void 0), n([c("LayerSetting")], t)
            }();
        o.LayerSetting = u;
        var p = function() {
            function t() {
                this.layer = [], this._config = null, this._setting = null, this._binding = null
            }
            var e;
            return e = t, Object.defineProperty(t, "Instance", {
                get: function() {
                    return null === this._instance && (this._instance = new e), this._instance
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.Init = function() {
                return i(this, void 0, void 0, function() {
                    var t, o;
                    return r(this, function(n) {
                        switch (n.label) {
                            case 0:
                                return e._instance = this, t = this, [4, a.Download.JSON(window.gd_nowLOGO + "/SkinSetting")];
                            case 1:
                                return t._setting = n.sent(), o = this, [4, a.Download.JSON(window.gd_nowLOGO + "/SkinConfig")];
                            case 2:
                                return o._config = n.sent(), [2]
                        }
                    })
                })
            }, Object.defineProperty(t.prototype, "currentTheme", {
                get: function() {
                    for (var t = "default", e = (new Date).getTime(), o = Number.MAX_SAFE_INTEGER, n = 0, i = this._setting.skin; n < i.length; n++) {
                        var r = i[n];
                        if (r.hasOwnProperty("start_time") && r.hasOwnProperty("end_time") && r.hasOwnProperty("name")) {
                            if (r.hasOwnProperty("state")) {
                                for (var a = !1, s = 0, c = r.state; s < c.length; s++) {
                                    var l = c[s];
                                    if (l === ArkSDK.ArkClient.allowState || "All" === l) {
                                        a = !0;
                                        break
                                    }
                                }
                                if (!a) continue
                            }
                            var u = new Date(r.start_time).getTime(),
                                p = new Date(r.end_time).getTime();
                            e > u && p > e && e - u < o && this._config.hasOwnProperty(r.name) && (o = e - u, t = r.name)
                        }
                    }
                    return SS.Common.GameEnvironment.IgnoreVersionCtrl && SS.Common.BaseFunction.GetURLParameterByName("skin") && (t = SS.Common.BaseFunction.GetURLParameterByName("skin")), t
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.GetLoadList = function(t) {
                return console.log("[Skin] Get LoadList( " + this.currentTheme + " )"), this._config[this.currentTheme][t]
            }, t.prototype.Download = function(t, e, o) {
                return void 0 === o && (o = !1), i(this, void 0, void 0, function() {
                    var n, i, s, c, l, u, p;
                    return r(this, function(r) {
                        switch (r.label) {
                            case 0:
                                console.log("[Skin] Download Skin( " + this.currentTheme + " )", t, e), n = 0, i = e, r.label = 1;
                            case 1:
                                return n < i.length ? (s = i[n], console.log("[Skin] Download ", s), this._config[this.currentTheme].hasOwnProperty(s) ? (c = this._config[this.currentTheme][s], console.log("[Skin] Download ", c), o ? [4, a.Download.Prefab(c.bundle_name, c.prefab_name_vertical, "", c.version)] : [3, 3]) : [3, 6]) : [3, 8];
                            case 2:
                                return u = r.sent(), [3, 5];
                            case 3:
                                return [4, a.Download.Prefab(c.bundle_name, c.prefab_name_horizontal, "", c.version)];
                            case 4:
                                u = r.sent(), r.label = 5;
                            case 5:
                                return l = u, p = this.Instantiate(c.layer_name, l), t.hasOwnProperty(c.component) && (0, t[c.component])(p), [3, 7];
                            case 6:
                                console.log("[Skin] Config Does Not Contain " + s), r.label = 7;
                            case 7:
                                return n++, [3, 1];
                            case 8:
                                return [2]
                        }
                    })
                })
            }, t.prototype.Instantiate = function(t, e) {
                var o = this.GetLayer(t),
                    n = cc.instantiate(e);
                return n.parent = o, n
            }, t.prototype.GetLayer = function(t) {
                for (var e = 0, o = this.layer; e < o.length; e++) {
                    var n = o[e];
                    if (n.name === t) return n.root
                }
                return cc.director.getScene()
            }, t.prototype.onDestroy = function() {
                e._instance = null
            }, t._instance = null, e = n([c], t)
        }();
        o.default = p, cc._RF.pop()
    }, {
        "../Helper/Download": "Download"
    }],
    SocialMediaApiHandler: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7ffecvVgU1DkpgztzfFhgMt", "SocialMediaApiHandler"), Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var n = function() {
            function t() {
                this.isInit = !1
            }
            return t.getInstance = function() {
                return null == t.instance && (t.instance = new t), t.instance
            }, t.prototype.initialize = function() {
                return null == window.fbApiInit ? (console.error("[guestsys] fb plugin **NOT** loaded"), this.isInit = !1, this.isInit) : (console.log("[guestsys] fb plugin is loaded"), this.isInit = !0, !0)
            }, t.prototype.openFbPage = function(t) {
                cc.sys.openURL("https://www.facebook.com/" + t)
            }, t.prototype.openFbMessenger = function(t) {
                cc.sys.openURL("https://m.me/" + t)
            }, t.prototype.openWhatsApp = function(t) {
                cc.sys.openURL("https://wa.me/" + t)
            }, t.prototype.openFbSharePost = function(t) {
                0 != this.isInit ? FB.ui({
                    method: "share",
                    fallback_redirect_uri: "http://close.html",
                    href: t.href,
                    display: "popup",
                    hashtag: t.hashtag,
                    quote: t.quote
                }, function(t) {
                    console.warn("FB Share Callback " + t)
                }) : console.log("[SolcialMediaMgr] is not init")
            }, t.prototype.someMethod = function() {}, t.instance = null, t
        }();
        o.default = n, cc._RF.pop()
    }, {}],
    SpawnPool: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "860d7+uOzpF/5Hhx3raQmYb", "SpawnPool");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SpawnPool = void 0;
        var a = cc._decorator.ccclass,
            s = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.stockpileObjAry = [], e.stockpileKindAry = [], e.spawnedAry = [], e
                }
                return i(e, t), e.prototype.Spawn = function(t, e) {
                    var o = this;
                    if (void 0 === e && (e = null), null == t) return cc.error("NodePool : spawnNode not Reference"), null;
                    var n = this.stockpileKindAry.indexOf(t);
                    n <= -1 && (this.stockpileKindAry.push(t), n = this.stockpileKindAry.length - 1);
                    var i = null,
                        r = this.stockpileObjAry.findIndex(function(t) {
                            return t.kind == o.stockpileKindAry[n]
                        });
                    r >= 0 ? (i = this.stockpileObjAry[r].node, this.stockpileObjAry.splice(r, 1)) : (i = cc.instantiate(t)).parent = cc.director.getScene(), null != e && (i.parent = e);
                    var a = {
                        kind: this.stockpileKindAry[n],
                        node: i
                    };
                    return this.spawnedAry.push(a), i.active = !0, i
                }, e.prototype.Despawn = function(t) {
                    var e = this.spawnedAry.findIndex(function(e) {
                        return e.node == t
                    });
                    if (e >= 0) {
                        t.active = !1;
                        var o = {
                            kind: this.spawnedAry[e].kind,
                            node: t
                        };
                        this.stockpileObjAry.push(o), this.spawnedAry.splice(e, 1)
                    } else cc.log("_nodeIndex : " + e), cc.log("NodePool : This Node Not Can Despawn")
                }, e.prototype.DespawnAll = function() {
                    for (var t = 0, e = this.spawnedAry; t < e.length; t++) {
                        var o = e[t];
                        o.node.active = !1, this.stockpileObjAry.push(o)
                    }
                    this.spawnedAry = []
                }, e.prototype.IsSpawned = function(t) {
                    return this.spawnedAry.findIndex(function(e) {
                        return e.node == t
                    }) >= 0
                }, r([a], e)
            }(cc.Component);
        o.SpawnPool = s, cc._RF.pop()
    }, {}],
    StateMachine: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e7d14/T2wpNnbC8mpnbb1hH", "StateMachine"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.StateMachine = void 0;
        var n = function() {
            function t(t) {
                this.currentState = null, this.owner = t
            }
            return t.prototype.SMUpdate = function() {
                null != this.currentState && this.currentState.Update()
            }, t.prototype.CurrentState = function() {
                return this.currentState
            }, t.prototype.SetCurrentState = function(t) {
                null != this.currentState && this.currentState.PostUpdate(), this.currentState = t, this.currentState.target = this.owner, this.currentState.PreUpdate()
            }, t
        }();
        o.StateMachine = n, cc._RF.pop()
    }, {}],
    State: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "e1355l9m2dP5qXoSzNXHPyY", "State"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), cc._RF.pop()
    }, {}],
    SwingEffect: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "a3da6FKSABGkLDtkf5JX78u", "SwingEffect");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.duration = 2, e.distance = 20, e.scaleVariate = .02, e
                }
                return i(e, t), e.prototype.start = function() {
                    var t = .5 * this.duration;
                    cc.tween(this.node), cc.tween(this.node).then(cc.tween().to(t, {
                        position: cc.v2(-this.distance, 0),
                        scaleX: 1 - this.scaleVariate,
                        scaleY: 1 + this.scaleVariate
                    }, {
                        easing: "sineInOut"
                    }).then(cc.tween().to(t, {
                        position: cc.v2(0, 0),
                        scaleX: 1 + this.scaleVariate,
                        scaleY: 1 - this.scaleVariate
                    }, {
                        easing: "sineInOut"
                    }))).repeatForever().start()
                }, r([c(Number)], e.prototype, "duration", void 0), r([c(Number)], e.prototype, "distance", void 0), r([c(Number)], e.prototype, "scaleVariate", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    SwitchGameGroup: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "566c5Z8rzlGDI3NPWVsAphO", "SwitchGameGroup");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.SwitchGameGroup = void 0;
        var a = t("../Connect/Script/ConnectPanelMgr"),
            s = t("../PopupMessage/Script/PopupMsgMgr"),
            c = t("../../GameCommon/CommonRoot/Script/CommonRoot"),
            l = t("../Helper/EventSystem"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property,
            h = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.root = null, e.targetSwitchGameIcon = null, e.gameArrow = null, e.curSwitchGameIcon = null, e.tmpCurGameName = "", e.tmpChangeGameName = "", e.errorCode = "", e.needDownloadCount = 0, e.finishDownloadCount = 0, e.retryDownloadCount = 0, e.onSwitchGameFunction = null, e.openWindowCallBack = null, e.closeWindowCallBack = null, e.tmpIconSprites = [], e
                }
                return i(e, t), e.prototype._onLoad = function() {
                    l.EventSystem.Event(l.CommunityBonus.TimesUp).Insert(this.CloseSwitchGameWindow, this)
                }, e.prototype.onDestroy = function() {
                    l.EventSystem.Event(l.CommunityBonus.TimesUp) && l.EventSystem.Event(l.CommunityBonus.TimesUp).Remove(this.CloseSwitchGameWindow, this)
                }, e.prototype.OnSwitchGameIgnoreWindow = function(t) {
                    console.log("changeGameName ", t), this.tmpChangeGameName = t, this.LeaveGame()
                }, e.prototype.OpenSwitchGameWindow = function(t, e, o, n) {
                    if (void 0 === e && (e = ""), void 0 === o && (o = null), void 0 === n && (n = null), "" != t) {
                        console.log("changeGameName ", t), console.log("curGameName ", e), this.openWindowCallBack = o, this.closeWindowCallBack = n, this.tmpCurGameName = "", this.tmpChangeGameName = "", this.finishDownloadCount = 0, this.retryDownloadCount = 0;
                        var i = !1;
                        "" != e && (i = !0), this.needDownloadCount = i ? 2 : 1, this.tmpChangeGameName = t, this.getSpriteFromMapIconOrDL(this.tmpChangeGameName, this.targetSwitchGameIcon), i && (this.tmpCurGameName = e, this.getSpriteFromMapIconOrDL(this.tmpCurGameName, this.curSwitchGameIcon))
                    }
                }, e.prototype.getSpriteFromMapIconOrDL = function(t, e) {
                    null != this.tmpIconSprites[t] ? (console.log("not Download " + t + " Icon !!"), this.finishDownloadCount++, this.finishDownloadCount >= this.needDownloadCount && this.ShowUILayout()) : (console.log("Ready Download " + t + " Icon !!"), this.DLAndSetSprFrame(t, e))
                }, e.prototype.DLAndSetSprFrame = function(t, e, o) {
                    void 0 === o && (o = "");
                    var n = (SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : self == top ? "../../.." : "../../../..") + "/Icons/" + o + ("es" == SS.Common.GameEnvironment.Language ? "es_" : "") + t;
                    a.ConnectPanelMgr.Instance.ShowConnectPanel(), e.enabled = !1, this.retryDownloadCount = 0, this.DLSprFrame(n, t, e)
                }, e.prototype.DLSprFrame = function(t, e, o) {
                    var n = this;
                    try {
                        var i = t + ".png?" + (new Date).getTime();
                        cc.loader.load(i, function(i, r) {
                            if (i) return n.DLSprFrameErr(t, e, o), console.log("Img Download Error !!"), null;
                            console.log("Img Download Finish!!");
                            var s = new cc.SpriteFrame(r);
                            n.setSprFrame(e, o, s), a.ConnectPanelMgr.Instance.DisableConnectPanel(), n.finishDownloadCount++, n.finishDownloadCount >= n.needDownloadCount && n.ShowUILayout()
                        })
                    } catch (r) {
                        return this.DLSprFrameErr(t, e, o), null
                    }
                }, e.prototype.setSprFrame = function(t, e, o) {
                    var n = o._image,
                        i = new cc.Texture2D;
                    i.initWithElement(n), i.handleLoadedTexture(), this.curSwitchGameIcon.spriteFrame = new cc.SpriteFrame(i), this.tmpIconSprites[t] = o, e.enabled = !0
                }, e.prototype.DLSprFrameErr = function(t, e, o) {
                    this.retryDownloadCount++, this.retryDownloadCount >= 3 ? (console.error("stop retry Download!! Exit Game"), this.errorCode = "C38", s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Error, this.errorCode, null, "The Internet was lost! Please login again!")) : (console.error("retry Download !!"), this.DLSprFrame(t, e, o))
                }, e.prototype.ShowUILayout = function() {
                    if ("" != this.tmpCurGameName) {
                        this.gameArrow.node.active = !0, this.curSwitchGameIcon.node.active = !0;
                        var t = this.tmpIconSprites[this.tmpCurGameName],
                            e = new cc.Texture2D;
                        t._texture.hasOwnProperty("_image") ? (e.initWithElement(t._texture._image), e.handleLoadedTexture(), this.curSwitchGameIcon.spriteFrame = new cc.SpriteFrame(e)) : this.curSwitchGameIcon.spriteFrame = t;
                        var o = this.tmpIconSprites[this.tmpChangeGameName],
                            n = new cc.Texture2D;
                        o._texture.hasOwnProperty("_image") ? (n.initWithElement(o._texture._image), n.handleLoadedTexture(), this.targetSwitchGameIcon.spriteFrame = new cc.SpriteFrame(n)) : this.targetSwitchGameIcon.spriteFrame = o, SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.targetSwitchGameIcon.node.setPosition(new cc.Vec2(165, this.targetSwitchGameIcon.node.getPosition().y)) : this.targetSwitchGameIcon.node.setPosition(new cc.Vec2(840, this.targetSwitchGameIcon.node.getPosition().y))
                    } else {
                        this.gameArrow.node.active = !1, this.curSwitchGameIcon.node.active = !1, o = this.tmpIconSprites[this.tmpChangeGameName];
                        var i = new cc.Texture2D;
                        o._texture.hasOwnProperty("_image") ? (i.initWithElement(o._texture._image), i.handleLoadedTexture(), this.targetSwitchGameIcon.spriteFrame = new cc.SpriteFrame(i)) : this.targetSwitchGameIcon.spriteFrame = o, SS.Common.GameEnvironment.GetCurGameIsVertical() ? this.targetSwitchGameIcon.node.setPosition(new cc.Vec2(0, this.targetSwitchGameIcon.node.getPosition().y)) : this.targetSwitchGameIcon.node.setPosition(new cc.Vec2(640, this.targetSwitchGameIcon.node.getPosition().y))
                    }
                    null != this.openWindowCallBack && this.openWindowCallBack(), this.root.active = !0
                }, e.prototype.CloseSwitchGameWindow = function() {
                    this.root.active = !1, null != this.closeWindowCallBack && this.closeWindowCallBack()
                }, e.prototype.LeaveGame = function() {
                    this.GetIsInLobby() ? null != this.onSwitchGameFunction && this.onSwitchGameFunction(this.tmpChangeGameName) : (cc.assetManager.bundles.find(function(t) {
                        return t._config.getSceneInfo(SS.Common.GameEnvironment.CurrentGameNow)
                    }) && (JSUtility.IsSupportLocalStorage() ? localStorage.setItem("changeToGameName", this.tmpChangeGameName) : JSUtility.IsSupportCookie() && (document.cookie = "changeToGameName=" + this.tmpChangeGameName + ";")), SS.Common.GameEnvironment.ChangeToGameName = this.tmpChangeGameName, c.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Length > 0 && c.CommonRoot.Instance.GetTopBarMgr.m_DelClickBackToLobby.Notify())
                }, e.prototype.SetSwitchGameData = function(t) {
                    this.onSwitchGameFunction = t, console.log("onSwitchGameFunction = ", this.onSwitchGameFunction)
                }, e.prototype.GetIsInLobby = function() {
                    return -1 != cc.director.getScene().name.indexOf("Lobby")
                }, r([m(cc.Node)], e.prototype, "root", void 0), r([m(cc.Sprite)], e.prototype, "targetSwitchGameIcon", void 0), r([m(cc.Sprite)], e.prototype, "gameArrow", void 0), r([m(cc.Sprite)], e.prototype, "curSwitchGameIcon", void 0), r([p], e)
            }(cc.Component);
        o.SwitchGameGroup = h, cc._RF.pop()
    }, {
        "../../GameCommon/CommonRoot/Script/CommonRoot": "CommonRoot",
        "../Connect/Script/ConnectPanelMgr": "ConnectPanelMgr",
        "../Helper/EventSystem": "EventSystem",
        "../PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    TextBox: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7bdefGGLfFCgZ7fSPmWDieb", "TextBox");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TextBox = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.label = null, e.bg = null, e.selectSprite = null, e.unSelectSprite = null, e
                }
                return i(e, t), e.prototype.SetText = function(t) {
                    this.label.string = t
                }, e.prototype.GetText = function() {
                    return this.label.string
                }, e.prototype.SetSelection = function(t) {
                    this.bg.spriteFrame = t ? this.selectSprite : this.unSelectSprite
                }, r([c(cc.Label)], e.prototype, "label", void 0), r([c(cc.Sprite)], e.prototype, "bg", void 0), r([c(cc.SpriteFrame)], e.prototype, "selectSprite", void 0), r([c(cc.SpriteFrame)], e.prototype, "unSelectSprite", void 0), r([s], e)
            }(cc.Component);
        o.TextBox = l, cc._RF.pop()
    }, {}],
    TimeZoneConversion: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "6bd48lrnYdJm5mQvhbDfeqv", "TimeZoneConversion"), Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TimeZoneConversion = void 0;
        var n = cc._decorator,
            i = (n.ccclass, n.property, function() {
                function t() {}
                return t.convertTSToEST = function(t, e, o) {
                    void 0 === e && (e = !0), void 0 === o && (o = !0);
                    var n = new Date(t),
                        i = n.toLocaleDateString("en-US", {
                            timeZone: "EST"
                        }),
                        r = n.toLocaleTimeString("en-GB", {
                            timeZone: "EST"
                        });
                    return e && (i = i.substr(0, i.length - 5)), o && (r = r.substr(0, r.length - 3)), i + ", " + r
                }, t
            }());
        o.TimeZoneConversion = i, cc._RF.pop()
    }, {}],
    TmpRegulationPage: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7d3a60B7bZHX50b2ShdeRQL", "TmpRegulationPage");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TmpRegulationPage = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.agreeFunction = null, e.noFunction = null, e.m_ndOneBtn = null, e.m_ndTwoBtn = null, e.m_scrollView = null, e.m_spContent = null, e.m_isSetData = !1, e
                }
                return i(e, t), e.prototype.SetData = function(t, e) {
                    console.log("Rule Page Set : " + t);
                    try {
                        this.m_scrollView.content.height = e.getTexture().height, this.m_spContent.spriteFrame = e, this.m_scrollView.scrollToTop(0), "ONE" == t ? (this.m_ndOneBtn.active = !0, this.m_ndTwoBtn.active = !1) : (this.m_ndOneBtn.active = !1, this.m_ndTwoBtn.active = !0), this.m_isSetData = !0
                    } catch (o) {
                        console.error(o), this.Callback()
                    }
                }, e.prototype.Open = function(t, e) {
                    return this.node.active = this.m_isSetData, this.node.active && (this.agreeFunction = t, this.noFunction = e), this.node.active
                }, e.prototype.Check = function(t, e) {
                    if ("OK" === e) return console.log("\tRegulation Check : OK"), this.node.active = !1, void this.Callback();
                    "NO" === e && (console.log("\tRegulation Check : NO"), this.m_scrollView.scrollEvents = [], this.noFunction ? this.noFunction() : SS.Common.GameEnvironment.ReflashBrowser())
                }, e.prototype.Callback = function() {
                    var t = this.agreeFunction;
                    this.agreeFunction = null, this.m_scrollView.scrollEvents = [], t()
                }, r([c(cc.Node)], e.prototype, "m_ndOneBtn", void 0), r([c(cc.Node)], e.prototype, "m_ndTwoBtn", void 0), r([c(cc.ScrollView)], e.prototype, "m_scrollView", void 0), r([c(cc.Sprite)], e.prototype, "m_spContent", void 0), r([s], e)
            }(cc.Component);
        o.TmpRegulationPage = l, cc._RF.pop()
    }, {}],
    TopbarMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8212f4Fo2REabaptieOix+I", "TopbarMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.TopbarMgr = o.TopbarBtnType = o.TopbarStatus = void 0;
        var a, s, c = t("./../../Component/NumberCountUp"),
            l = t("../../Net/LobbyClient"),
            u = cc._decorator,
            p = u.ccclass,
            m = u.property;
        (function(t) {
            t[t.Init = 0] = "Init", t[t.InLobbyNormal = 1] = "InLobbyNormal", t[t.InLobbyDisabled = 2] = "InLobbyDisabled", t[t.InGameNormal = 3] = "InGameNormal", t[t.InGameDisabled = 4] = "InGameDisabled", t[t.GuestLogin = 5] = "GuestLogin"
        })(a = o.TopbarStatus || (o.TopbarStatus = {})),
        function(t) {
            t[t.BackToLobby = 0] = "BackToLobby", t[t.Menu = 1] = "Menu", t[t.SOUND = 2] = "SOUND", t[t.ACCOUNT = 3] = "ACCOUNT", t[t.JACKPOTWINNER = 4] = "JACKPOTWINNER", t[t.GAMEHISTORY = 5] = "GAMEHISTORY", t[t.INFO = 6] = "INFO", t[t.LOGOUT = 7] = "LOGOUT", t[t.FULLSCREEN = 8] = "FULLSCREEN", t[t.NEWS = 9] = "NEWS", t[t.PROFILE = 10] = "PROFILE"
        }(s = o.TopbarBtnType || (o.TopbarBtnType = {}));
        var h = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.topBarBg = null, e.btnBackToLobby = null, e.Mob_UpUI_L_Anima = null, e.Mob_UpUI_R_Anima = null, e.Mob_UpUI_WordAnima = null, e.Mob_RedJPFieldAnima = null, e.btnMenu = null, e.menubgNode = null, e.menuListNode = null, e.btnSound = null, e.nodeSoundOpen = null, e.nodeSoundClose = null, e.btnFullScreen = null, e.nodeFullScreenOpen = null, e.nodeFullScreenClose = null, e.btnAccount = null, e.btnJPWinner = null, e.btnInfo = null, e.btnLogout = null, e.btnGameHistory = null, e.btnNews = null, e.btnProfile = null, e.objTopBarRoot = null, e.JpRoot = null, e.objMenuContentRoot = null, e.numberAniGrand = null, e.numberAniMajor = null, e.numberAniMinor = null, e.numberAniMini = null, e.m_bVertical = !1, e.JpBg = null, e.JpNum = null, e.isSupportFullScreen = !0, e.JpShowLastTime = 0, e
            }
            return i(e, t), e.prototype._onLoad = function() {
                (cc.sys.os == cc.sys.OS_IOS || "ucbrowser" == cc.sys.browserType && cc.sys.isMobile) && (this.isSupportFullScreen = !1), this.isSupportFullScreen && (JSUtility.FullScreen.OnFullScreenChange = this.SetFullScreenBtn.bind(this), this.SetFullScreenBtn(JSUtility.FullScreen.IsFullScreen())), this.m_DelClickBackToLobby = new SS.Common.Delegate, this.m_DelClickSound = new SS.Common.Delegate, this.m_DelClickAccount = new SS.Common.Delegate, this.m_DelClickJPHistory = new SS.Common.Delegate, this.m_DelClickGameHistory = new SS.Common.Delegate, this.m_DelClickLogout = new SS.Common.Delegate, this.m_DelClickFullScreen = new SS.Common.Delegate, this.m_DelClickNews = new SS.Common.Delegate, this.m_DelClickInfo = new SS.Common.Delegate, this.m_DelClickMenu = new SS.Common.Delegate, this.m_DelClickCloseMenu = new SS.Common.Delegate, this.SetSoundBtn(), this.SetChildBtnMenuActive(!1)
            }, e.prototype._start = function() {
                l.LobbyClient.Instance.JpShowLastTime > 0 && (this.JpShowLastTime = l.LobbyClient.Instance.JpShowLastTime, this.ShowJpEffect()), l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.add(this.ShowJpEffect, this)
            }, e.prototype.onDestroy = function() {
                this.DisableMenuBtnList = [], JSUtility.FullScreen.OnFullScreenChange = null, l.LobbyClient.Instance.GetJPSystem && l.LobbyClient.Instance.GetJPSystem.OnJPStartSignal.remove(this.ShowJpEffect, this), l.LobbyClient.Instance.GetJPSystem && l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.remove(this.DisableJpEffect, this), clearTimeout(this.JPShowTimeOutTimerID), l.LobbyClient.Instance.JpShowLastTime = this.JpShowLastTime, this.m_DelClickBackToLobby.Length > 0 && this.m_DelClickBackToLobby.Clear(), this.m_DelClickSound.Length > 0 && this.m_DelClickSound.Clear(), this.m_DelClickAccount.Length > 0 && this.m_DelClickAccount.Clear(), this.m_DelClickJPHistory.Length > 0 && this.m_DelClickJPHistory.Clear(), this.m_DelClickGameHistory.Length > 0 && this.m_DelClickGameHistory.Clear(), this.m_DelClickLogout.Length > 0 && this.m_DelClickLogout.Clear(), this.m_DelClickFullScreen.Length > 0 && this.m_DelClickFullScreen.Clear(), this.m_DelClickNews.Length > 0 && this.m_DelClickNews.Clear(), this.m_DelClickInfo.Length > 0 && this.m_DelClickInfo.Clear(), this.m_DelClickMenu.Length > 0 && this.m_DelClickMenu.Clear(), this.m_DelClickCloseMenu.Length > 0 && this.m_DelClickCloseMenu.Clear()
            }, e.prototype.ShowJpEffect = function() {
                console.warn("[GetJPAward] Start JPShow!!"), this.JpShowLastTime <= 0 && (this.JpShowLastTime = l.LobbyClient.Instance.DEAFULT_JP_SHOW_TIMEOUT), this.Mob_UpUI_L_Anima.node.active = !0, this.Mob_UpUI_R_Anima.node.active = !0, this.Mob_UpUI_WordAnima.node.active = !0, this.Mob_RedJPFieldAnima.node.active = !0, this.Mob_UpUI_L_Anima.play("Mob_UpUI_GameBoard", 0), this.Mob_UpUI_R_Anima.play("Mob_UpUI_GameBoard", 0), this.Mob_UpUI_WordAnima.play("Mob_UpUI_word", 0), this.Mob_RedJPFieldAnima.play("Mob_JP_Field", 0);
                var t = this,
                    e = function() {
                        t.JPShowTimeOutTimerID = setTimeout(function() {
                            --t.JpShowLastTime <= 0 ? t.DisableJpEffect() : e()
                        }, 1e3)
                    };
                e(), l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.add(this.DisableJpEffect, this)
            }, e.prototype.DisableJpEffect = function() {
                console.warn("[DisableJPAward] Stop JPShow!!"), clearTimeout(this.JPShowTimeOutTimerID), this.JpShowLastTime = 0, this.Mob_UpUI_L_Anima.node.active = !1, this.Mob_UpUI_R_Anima.node.active = !1, this.Mob_UpUI_WordAnima.node.active = !1, this.Mob_RedJPFieldAnima.node.active = !1, this.Mob_UpUI_L_Anima.stop("Mob_UpUI_GameBoard"), this.Mob_UpUI_R_Anima.stop("Mob_UpUI_GameBoard"), this.Mob_UpUI_WordAnima.stop("Mob_UpUI_word"), this.Mob_RedJPFieldAnima.stop("Mob_JP_Field"), l.LobbyClient.Instance.GetJPSystem.OnJPFinishSignal.remove(this.DisableJpEffect, this)
            }, e.prototype.SetFullScreenBtn = function(t) {
                this.nodeFullScreenOpen.active = t, this.nodeFullScreenClose.active = !t
            }, e.prototype.SetSoundBtn = function() {
                this.nodeSoundOpen.active = !SS.Common.GameEnvironment.IsMute, this.nodeSoundClose.active = SS.Common.GameEnvironment.IsMute
            }, e.prototype.ChangeJPVal = function(t, e, o, n, i) {
                if (void 0 === i && (i = !1), console.log("[TopbarMgr.RecvChangeCmd]", t, e, o, n), SS.Common.GameEnvironment.TopBarJPIsMoneyFormat) {
                    if (t) {
                        var r = SS.Common.BaseFunction.accMul(t, SS.Common.GameEnvironment.exchange_rate);
                        t = this.TruncateCurrency(r, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (e) {
                        var a = SS.Common.BaseFunction.accMul(e, SS.Common.GameEnvironment.exchange_rate);
                        e = this.TruncateCurrency(a, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (o) {
                        var s = SS.Common.BaseFunction.accMul(o, SS.Common.GameEnvironment.exchange_rate);
                        o = this.TruncateCurrency(s, SS.Common.GameEnvironment.exchange_rate)
                    }
                    if (n) {
                        var c = SS.Common.BaseFunction.accMul(n, SS.Common.GameEnvironment.exchange_rate);
                        n = this.TruncateCurrency(c, SS.Common.GameEnvironment.exchange_rate)
                    }
                    console.warn("after convert TopBar JPVal , number is : " + t, e, o, n)
                } else t = Math.floor(t), e = Math.floor(e), o = Math.floor(o), n = Math.floor(n);
                !i && t && e && o && n ? (this.numberAniGrand.CountUp(t, .5), this.numberAniMajor.CountUp(e, .5), this.numberAniMinor.CountUp(o, .5), this.numberAniMini.CountUp(n, .5)) : (t && this.numberAniGrand.SetNumberNow(t), e && this.numberAniMajor.SetNumberNow(e), o && this.numberAniMinor.SetNumberNow(o), n && this.numberAniMini.SetNumberNow(n))
            }, e.prototype.TruncateCurrency = function(t, e) {
                var o = SS.Common.BaseFunction.accDiv(1, e);
                return t = SS.Common.BaseFunction.accMul(t, o), t = Math.floor(t), SS.Common.BaseFunction.accDiv(t, o)
            }, e.prototype.SetJPValShowFormat = function(t) {
                this.numberAniGrand.SetNumberFormat(!t, t), this.numberAniMajor.SetNumberFormat(!t, t), this.numberAniMinor.SetNumberFormat(!t, t), this.numberAniMini.SetNumberFormat(!t, t)
            }, e.prototype.SetJPShow = function(t) {
                null != this.JpBg && null != this.JpNum && (this.JpBg.active = t, this.JpNum.active = t), this.btnProfile && (this.btnProfile.node.parent.active = t)
            }, e.prototype.SetTopBarActive = function(t) {
                this.objTopBarRoot.active = t
            }, e.prototype.SetBtnStateByCustom = function(t, e, o) {
                switch (this.DisableMenuBtnList && -1 !== this.DisableMenuBtnList.findIndex(function(e) {
                    return e === s[t]
                }) && (e = !1, o = !1), t) {
                    case s.Menu:
                        break;
                    case s.BackToLobby:
                        this.btnBackToLobby.node.active = e, this.btnBackToLobby.interactable = o;
                        break;
                    case s.ACCOUNT:
                        this.btnAccount.node.active = !1, this.btnAccount.interactable = !1;
                        break;
                    case s.SOUND:
                        this.btnSound.node.active = e, this.btnSound.interactable = o;
                        break;
                    case s.JACKPOTWINNER:
                        this.btnJPWinner.node.active = e, this.btnJPWinner.interactable = o;
                        break;
                    case s.INFO:
                        this.btnInfo.node.active = e, this.btnInfo.interactable = o;
                        break;
                    case s.LOGOUT:
                        this.btnLogout.node.active = e, this.btnLogout.interactable = o;
                        break;
                    case s.FULLSCREEN:
                        this.isSupportFullScreen || (e = !1, o = !1), this.btnFullScreen.node.active = e, this.btnFullScreen.interactable = o;
                        break;
                    case s.NEWS:
                        this.btnNews && (this.btnNews.node.active = e, this.btnNews.interactable = o);
                        break;
                    case s.PROFILE:
                        this.btnProfile && (this.btnProfile.node.active = e, this.btnProfile.interactable = o)
                }
            }, e.prototype.SetChildBtnMenuActive = function(t) {
                if (null != this.btnMenu && !(this.btnMenu.node.getNumberOfRunningActions() > 0 || this.objMenuContentRoot.getNumberOfRunningActions() > 0)) {
                    var e, o, n, i, r = this;
                    if (this.m_bVertical ? (e = cc.v2(330, -400), o = cc.v2(430, -400), n = cc.v2(300, -400), i = cc.v2(470, -400)) : (e = cc.v2(595, this.btnMenu.node.position.y), o = cc.v2(744, this.btnMenu.node.position.y), n = cc.v2(576, this.objMenuContentRoot.position.y), i = cc.v2(752, this.objMenuContentRoot.position.y)), this.menubgNode.active = t, t) {
                        this.m_DelClickMenu.Length > 0 && this.m_DelClickMenu.Notify(), this.btnMenu.node.stopAllActions(), this.objMenuContentRoot.active = t;
                        var a = cc.sequence(cc.moveTo(.3, o), cc.callFunc(function() {
                            r.objMenuContentRoot.stopAllActions();
                            var t = cc.moveTo(.3, n);
                            r.objMenuContentRoot.runAction(t)
                        }));
                        this.btnMenu.node.runAction(a)
                    } else this.m_DelClickCloseMenu.Length > 0 && this.m_DelClickCloseMenu.Notify(), this.objMenuContentRoot.stopAllActions(), a = cc.sequence(cc.moveTo(.3, i), cc.callFunc(function() {
                        r.btnMenu.node.stopAllActions();
                        var o = cc.moveTo(.3, e);
                        r.btnMenu.node.runAction(o), r.objMenuContentRoot.active = t
                    })), this.objMenuContentRoot.runAction(a)
                }
            }, e.prototype.SetDisableMenuBtn = function(t) {
                this.DisableMenuBtnList = t
            }, e.prototype.ToggleTopbarPanel = function(t) {
                null != this.topBarBg && null != this.topBarBg && null != this.JpRoot && null != this.JpRoot && (this.topBarBg.active = t, this.JpRoot.active = t)
            }, e.prototype.SetTopBarStatus = function(t) {
                switch (this.SetBtnStateByCustom(s.Menu, !0, !0), this.SetBtnStateByCustom(s.BackToLobby, !0, !0), this.SetBtnStateByCustom(s.SOUND, !0, !0), this.SetBtnStateByCustom(s.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(s.ACCOUNT, !0, !0), this.SetBtnStateByCustom(s.INFO, !0, !0), this.SetBtnStateByCustom(s.LOGOUT, !0, !0), this.SetBtnStateByCustom(s.FULLSCREEN, !0, !0), this.SetBtnStateByCustom(s.NEWS, !0, !0), this.SetBtnStateByCustom(s.PROFILE, !0, !0), t) {
                    case a.InLobbyNormal:
                        this.SetBtnStateByCustom(s.BackToLobby, !1, !1), this.SetBtnStateByCustom(s.ACCOUNT, !0, !0), this.SetBtnStateByCustom(s.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(s.INFO, !1, !1), this.SetBtnStateByCustom(s.PROFILE, !1, !1);
                        break;
                    case a.InLobbyDisabled:
                        this.SetBtnStateByCustom(s.INFO, !1, !1), this.SetBtnStateByCustom(s.JACKPOTWINNER, !0, !1), this.SetBtnStateByCustom(s.ACCOUNT, !0, !1), this.SetBtnStateByCustom(s.NEWS, !0, !1), this.SetBtnStateByCustom(s.BackToLobby, !1, !1), this.SetBtnStateByCustom(s.Menu, !0, !1), this.SetBtnStateByCustom(s.PROFILE, !1, !1);
                        break;
                    case a.InGameNormal:
                        this.SetBtnStateByCustom(s.ACCOUNT, !1, !1), this.SetBtnStateByCustom(s.JACKPOTWINNER, !1, !1), this.SetBtnStateByCustom(s.LOGOUT, !1, !1), this.SetBtnStateByCustom(s.NEWS, !1, !1);
                        break;
                    case a.InGameDisabled:
                        this.SetBtnStateByCustom(s.ACCOUNT, !1, !1), this.SetBtnStateByCustom(s.JACKPOTWINNER, !1, !1), this.SetBtnStateByCustom(s.LOGOUT, !1, !1), this.SetBtnStateByCustom(s.INFO, !0, !1), this.SetBtnStateByCustom(s.NEWS, !0, !1), this.SetBtnStateByCustom(s.BackToLobby, !0, !1), this.SetBtnStateByCustom(s.Menu, !0, !1), this.SetBtnStateByCustom(s.PROFILE, !1, !1);
                        break;
                    case a.GuestLogin:
                        this.SetBtnStateByCustom(s.BackToLobby, !1, !1), this.SetBtnStateByCustom(s.ACCOUNT, !1, !1), this.SetBtnStateByCustom(s.JACKPOTWINNER, !0, !0), this.SetBtnStateByCustom(s.INFO, !1, !1), this.SetBtnStateByCustom(s.PROFILE, !1, !1)
                }
            }, e.prototype.OnClickedMenu = function() {
                this.SetChildBtnMenuActive(!this.objMenuContentRoot.active)
            }, e.prototype.OnClickedBackToLobby = function() {
                null != this.m_DelClickBackToLobby && this.m_DelClickBackToLobby.Notify()
            }, e.prototype.OnClickedSound = function() {
                SS.Common.GameEnvironment.IsMute = !SS.Common.GameEnvironment.IsMute, this.nodeSoundOpen.active = !SS.Common.GameEnvironment.IsMute, this.nodeSoundClose.active = SS.Common.GameEnvironment.IsMute, this.SetSoundBtn(), null != this.m_DelClickSound && this.m_DelClickSound.Notify(SS.Common.GameEnvironment.IsMute)
            }, e.prototype.OnClickedAccount = function() {
                null != this.m_DelClickAccount && this.m_DelClickAccount.Notify()
            }, e.prototype.OnClickedJPHistory = function() {
                this.SetChildBtnMenuActive(!this.objMenuContentRoot.active), null != this.m_DelClickJPHistory && this.m_DelClickJPHistory.Notify()
            }, e.prototype.OnClickedGameHistory = function() {
                this.SetChildBtnMenuActive(!this.objMenuContentRoot.active), null != this.m_DelClickGameHistory && this.m_DelClickGameHistory.Notify()
            }, e.prototype.OnClickedInfo = function() {
                this.SetChildBtnMenuActive(!this.objMenuContentRoot.active), null != this.m_DelClickInfo && this.m_DelClickInfo.Notify()
            }, e.prototype.OnClickedLogout = function() {
                null != this.m_DelClickLogout && this.m_DelClickLogout.Notify()
            }, e.prototype.OnClickedFullScreen = function() {
                JSUtility.FullScreen.SetFullScreen(), null != this.m_DelClickFullScreen && this.m_DelClickFullScreen.Notify()
            }, e.prototype.OnClickedNews = function() {
                console.log("Topbar OnClickNews()", "font-weight:bold;color:#CC33BB;"), null != this.m_DelClickNews && this.m_DelClickNews.Notify()
            }, r([m(cc.Node)], e.prototype, "topBarBg", void 0), r([m(cc.Button)], e.prototype, "btnBackToLobby", void 0), r([m(cc.Animation)], e.prototype, "Mob_UpUI_L_Anima", void 0), r([m(cc.Animation)], e.prototype, "Mob_UpUI_R_Anima", void 0), r([m(cc.Animation)], e.prototype, "Mob_UpUI_WordAnima", void 0), r([m(cc.Animation)], e.prototype, "Mob_RedJPFieldAnima", void 0), r([m(cc.Button)], e.prototype, "btnMenu", void 0), r([m(cc.Node)], e.prototype, "menubgNode", void 0), r([m(cc.Node)], e.prototype, "menuListNode", void 0), r([m(cc.Button)], e.prototype, "btnSound", void 0), r([m(cc.Node)], e.prototype, "nodeSoundOpen", void 0), r([m(cc.Node)], e.prototype, "nodeSoundClose", void 0), r([m(cc.Button)], e.prototype, "btnFullScreen", void 0), r([m(cc.Node)], e.prototype, "nodeFullScreenOpen", void 0), r([m(cc.Node)], e.prototype, "nodeFullScreenClose", void 0), r([m(cc.Button)], e.prototype, "btnAccount", void 0), r([m(cc.Button)], e.prototype, "btnJPWinner", void 0), r([m(cc.Button)], e.prototype, "btnInfo", void 0), r([m(cc.Button)], e.prototype, "btnLogout", void 0), r([m(cc.Button)], e.prototype, "btnGameHistory", void 0), r([m(cc.Button)], e.prototype, "btnNews", void 0), r([m(cc.Button)], e.prototype, "btnProfile", void 0), r([m(cc.Node)], e.prototype, "objTopBarRoot", void 0), r([m(cc.Node)], e.prototype, "JpRoot", void 0), r([m(cc.Node)], e.prototype, "objMenuContentRoot", void 0), r([m(c.NumberCountUp)], e.prototype, "numberAniGrand", void 0), r([m(c.NumberCountUp)], e.prototype, "numberAniMajor", void 0), r([m(c.NumberCountUp)], e.prototype, "numberAniMinor", void 0), r([m(c.NumberCountUp)], e.prototype, "numberAniMini", void 0), r([m(cc.Boolean)], e.prototype, "m_bVertical", void 0), r([m(cc.Node)], e.prototype, "JpBg", void 0), r([m(cc.Node)], e.prototype, "JpNum", void 0), r([p], e)
        }(cc.Component);
        o.TopbarMgr = h, cc._RF.pop()
    }, {
        "../../Net/LobbyClient": "LobbyClient",
        "./../../Component/NumberCountUp": "NumberCountUp"
    }],
    VersionDownloader: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "af979m5ZBxO27wk0MwADwfj", "VersionDownloader");
        var n, i = this && this.__extends || (n = function(t, e) {
            return (n = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                })(t, e)
        }, function(t, e) {
            function o() {
                this.constructor = t
            }
            n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
        });
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.VersionDownloader = void 0;
        var r = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.OnLoad = null, e.OnError = null, e
            }
            return i(e, t), e.prototype.Start = function(t, e, o) {
                this.OnLoad = e, this.OnError = o;
                var n = window.gd_nowLOGO;
                null == n && (n = parent.gd_nowLOGO), this.GetJSON(t + n + "Version.json", this.OnLoadComplete.bind(this), this.OnError.bind(this))
            }, e.prototype.OnLoadComplete = function(t) {
                try {
                    var e;
                    e = JSON.parse(t), console.log("VersionDownloader : ", e), null != this.OnLoad && this.OnLoad(e)
                } catch (o) {
                    console.error("[VersionDownloader] Load failed.\n", o), null != this.OnError && this.OnError(o)
                }
            }, e
        }(t("./Downloader").Downloader);
        o.VersionDownloader = r, cc._RF.pop()
    }, {
        "./Downloader": "Downloader"
    }],
    VerticalHintMgr: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "7f914ec/ehKY5nNuEGAB3Pe", "VerticalHintMgr");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.VerticalHintMgr = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_nodeRoot = null, e.m_fucBtnCB = null, e.m_fucBtnXCB = null, e
                }
                return i(e, t), e.prototype.show = function(t, e) {
                    this.m_nodeRoot.active = !0, this.m_fucBtnCB = t, this.m_fucBtnXCB = e
                }, e.prototype.onClickBtn = function() {
                    this.m_nodeRoot.active = !1, this.m_fucBtnCB && this.m_fucBtnCB(), this.m_fucBtnCB = null, this.m_fucBtnXCB = null, LobbyClient.Instance.GetUserClient.recordClickLog("VerticalHintMgr", 0)
                }, e.prototype.onClickXBtn = function() {
                    this.m_nodeRoot.active = !1, this.m_fucBtnXCB && this.m_fucBtnXCB(), this.m_fucBtnCB = null, this.m_fucBtnXCB = null, LobbyClient.Instance.GetUserClient.recordClickLog("VerticalHintMgr", 1)
                }, r([c(cc.Node)], e.prototype, "m_nodeRoot", void 0), r([s], e)
            }(cc.Component);
        o.VerticalHintMgr = l, cc._RF.pop()
    }, {}],
    WaitCheckVersionState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "72869PzQh9LJYs6LO/huZ1T", "WaitCheckVersionState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitCheckVersionState = void 0;
        var r = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            a = t("../../LobbyCommon/Net/Downloader/VersionDownloader"),
            s = t("../../LobbyCommon/Component/GlobalData"),
            c = t("../../LobbyCommon/Net/LobbyClient"),
            l = function() {
                function t() {}
                return t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c WaitCheckVersionState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), c.LobbyClient.Instance && c.LobbyClient.Instance.IsSocketErrorClose ? r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C14", "Lobby", "The internet was diconnected.", null) : (SS.Common.GameEnvironment.CurrentGameNow = null, s.GlobalData.isDeveloper ? this.CheckVersionIsOK = !0 : this.CheckVersionFlow())
                }, t.prototype.Update = function() {
                    this.CheckVersionIsOK && (this.CheckVersionIsOK = !1, this.target.LobbyFSM.SetCurrentState(this.target.WaitSettingState))
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitCheckVersionState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.CheckVersionFlow = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.DownloadLobbyVersion().catch(function(t) {
                                        r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C04", "Lobby", t)
                                    })];
                                case 1:
                                    return t.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadLobbyVersion = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        (new a.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/SSLobby/", function(n) {
                                            try {
                                                t.CheckVersion(n, e)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.CheckVersion = function(t, e) {
                    console.log("lobby CheckVersion now!");
                    var o, n = SS.Common.BaseFunction.GetURLParameterByName("KioskDEV"),
                        i = SS.Common.GameEnvironment.ProjectSetting;
                    n && i.KioskDEVs.includes(SS.Common.BaseFunction.SHA1(n)) && (SS.Network.LoginModel.LoginInfo.kiosk_id == n ? SS.Common.GameEnvironment.IgnoreVersionCtrl = !0 : SS.Common.GameEnvironment.IgnoreVersionCtrl = !1), o = t.Version, SS.Common.GameEnvironment.IgnoreVersionCtrl ? (console.log("IgnoreVersionCtrl , client version : ", SS.Common.GameEnvironment.LobbyVersion), this.CheckVersionIsOK = !0) : t.Maintain.IsMaintainNow ? r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C07", "Lobby", "maintain", null) : o != SS.Common.GameEnvironment.LobbyVersion ? r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, "C08", "Lobby", "updateVersion", null) : this.CheckVersionIsOK = !0, e()
                }, t
            }();
        o.WaitCheckVersionState = l, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitIconDownload: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "75beeChz3xO+YTuATG3HWLe", "WaitIconDownload");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitIconDownload = void 0;
        var r = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            a = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../LobbyCommon/Net/LobbyClient"),
            c = t("../../Component/GameIconMgr/Script/IconGroupData"),
            l = t("../../Component/GameIconMgr/Script/InGameJpDownloadList"),
            u = t("../../LobbyCommon/Net/Downloader/VersionDownloader"),
            p = t("../../LobbyCommon/Helper/Setting"),
            m = t("../../LobbyCommon/Skin/Skin"),
            h = function() {
                function t() {
                    this.tmpIconResAry = [], this.defaultJPDownloadList = [], this.isDefaultJPPrefabDownloaded = !1
                }
                return t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c WaitIconDownload PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), this.isDownaloadOK = !1, this.isGameJpBgLoadOK = !1, this.isGameJpPanelLoadOK = !1, this.isGameFeaturePanelLoadOK = !1, this.isDefaultJPPrefabDownloaded = !1, this.isError = !1, this.tmpTypeMapGameNameList = this.HandleIconSetting(), "" == SS.Common.GameEnvironment.ChangeToGameName && r.LoadingMgr.Instance.SetProgress(90, 10), this.DownloadIcon(), this.DownloadGameJp(), this.DownloadGameFeature()
                }, t.prototype.Update = function() {
                    this.isError ? (console.warn("this.isError= " + this.isError), this.isError = !1, a.PopupMsgMgr.Instance.ShowPopMsg(a.PopupPriority.Warning, this.errorCode, "Lobby", this.errorMsg)) : this.isDownaloadOK && this.isGameJpPanelLoadOK && this.isGameJpBgLoadOK && this.isGameFeaturePanelLoadOK && (this.isDownaloadOK = !1, this.isGameJpPanelLoadOK = !1, this.isGameJpBgLoadOK = !1, this.isGameFeaturePanelLoadOK = !1, this.target.tmpTypeMapGameNameList = this.tmpTypeMapGameNameList, this.target.LobbyFSM.SetCurrentState(this.target.IdleState), this.SetIconFlag())
                }, t.prototype.SetIconFlag = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e = this;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.target.tmpMission90004 && window == top && (t = SS.Common.GameEnvironment.GameSetting.questListGameName) && (this.target.gameIconMgr.setEventFlag("ALL", t), this.target.gameIconMgr.setEventFlag("SLOT", t)), null == s.LobbyClient.Instance.m_CommonEventInfo_900005 || window != top ? [3, 2] : [4, m.default.Instance.Download({
                                        PuzzleEggIconFlag: function(t) {
                                            t.active = !1;
                                            var o = e.getEventPuzzleGameID(s.LobbyClient.Instance.m_CommonEventInfo_900005);
                                            e.target.gameIconMgr.setFishFlagByEvent("ALL", "EVENT_PUZZLE", !0, o, t), e.target.gameIconMgr.setFishFlagByEvent("FISH", "EVENT_PUZZLE", !0, o, t)
                                        }
                                    }, ["PuzzleEggIconFlag"])];
                                case 1:
                                    o.sent(), o.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.getEventPuzzleGameID = function(t) {
                    var e = [];
                    if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0) {
                        for (var o = t.QuestList, n = 0; n < o.length; n++)
                            for (var i = o[n].GameThemeID, r = 0; r < i.length; r++) "Puzzle" != i[r] && -1 == e.indexOf(i[r]) && e.push(i[r]);
                        return e
                    }
                    return null
                }, t.prototype.PostUpdate = function() {
                    this.defaultJPDownloadList = null, this.tmpTypeMapGameNameList = null, this.errorCode = null, this.errorMsg = null, console.log("[LobbyFSM] %c WaitIconDownload PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.HandleIconSetting = function() {
                    console.warn("[HandleIconSetting]");
                    try {
                        var t = SS.Common.GameEnvironment.GameSetting.Type;
                        for (var e in this.FilterKioskDisableGame(t), t) {
                            var o = t[e];
                            if (0 == o.length && delete t[e], o.length <= 2)
                                for (var n = 0; n < o.length; n++) - 1 != o[n].indexOf("BIGICON") || (o[n] = "BIGICON_" + o[n])
                        }
                        return this.AutoChangeIconSize(t), this.SetLanguage(t), t
                    } catch (i) {
                        this.errorMsg = i, this.errorCode = "C11", this.isError = !0, console.error(i)
                    }
                }, t.prototype.cutPrefix = function(t) {
                    if (-1 != t.indexOf("_")) {
                        var e = t.split("_");
                        return e[e.length - 1]
                    }
                    return t
                }, t.prototype.FilterKioskDisableGame = function(t) {
                    var e = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList;
                    for (var o in t)
                        for (var n = t[o], i = 0; i < n.length; i++) {
                            var r = this.cutPrefix(n[i]); - 1 == e.indexOf(r) && (n.splice(i, 1), i--)
                        }
                    cc.log("FilterKioskDisableGame"), cc.log(t)
                }, t.prototype.SetLanguage = function(t) {
                    var e = "en" == SS.Common.GameEnvironment.Language ? "" : SS.Common.GameEnvironment.Language + "_";
                    for (var o in t)
                        for (var n = t[o], i = 0; i < n.length; i++) n[i] = e + n[i]
                }, t.prototype.AutoChangeIconSize = function(t) {
                    for (var e in t) {
                        var o = t[e],
                            n = "";
                        if (1 == o.length) n = "BIGX3_";
                        else if (2 == o.length) n = "BIGX2_";
                        else {
                            if (3 != o.length && 4 != o.length) continue;
                            n = "BIGICON_"
                        }
                        for (var i = 0; i < o.length; i++) o[i] = o[i].replace(/\w*_/, n)
                    }
                }, t.prototype.UnLoadIcon = function() {
                    if (null != this.target && (null != this.target.tmpNameMapIcon && (this.target.tmpNameMapIcon = []), SS.Common.GameEnvironment.IconNameMapSpriteFrame = [], this.tmpIconResAry && this.tmpIconResAry.length > 0)) {
                        for (var t = 0; t < this.tmpIconResAry.length; t++) cc.loader.release(this.tmpIconResAry[t]);
                        this.tmpIconResAry = []
                    }
                }, t.prototype.GetGameJpDownloadJSON = function(t) {
                    for (var e = [], o = 0; o < t.length; o++) {
                        var n = "Res/" + window.gd_nowLOGO + "/GameJp/Icon/" + t[o].gameJpKey + "/Prefab/" + t[o].iconSizeType + "_JpPanel",
                            i = "Res/" + window.gd_nowLOGO + "/GameJp/Icon/" + t[o].gameJpKey + "/Prefab/Single/" + t[o].iconSizeType + "_JpPanel",
                            r = "Res/" + window.gd_nowLOGO + "/GameJp/Icon/" + t[o].gameJpKey + "/Prefab/" + t[o].iconSizeType + "_Bg";
                        "power_link" === t[o].gameJpKey && t[o].iconLinkCount >= 2 && (r += t[o].iconLinkCount, i = n += t[o].iconLinkCount), e.push(new l.InGameJpDownloadList(t[o].lastThemeId, t[o].groupInType, t[o].iconSizeType, t[o].isUseSingleRes ? i : n, r, null, null))
                    }
                    return e
                }, t.prototype.GetDefaultGameJpDownloadJSON = function() {
                    for (var t = [], e = ["BIG", "BIGX2", "BIGX3", "NORMAL"], o = 0; o < e.length; o++) {
                        var n = "Res/" + window.gd_nowLOGO + "/GameJp/Icon/Default/Prefab/" + e[o] + "_JpPanel",
                            i = "Res/" + window.gd_nowLOGO + "/GameJp/Icon/Default/Prefab/" + e[o] + "_Bg";
                        t.push(new l.InGameJpDownloadList("", "", e[o], n, i, null, null))
                    }
                    return t
                }, t.prototype.DownloadGameJp = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    console.warn("[DownloadGameJp]"), t = this.GetJPGroup(), e = this.GetGameJpDownloadJSON(t), console.log("groupList:", t), console.log("downloadList:", e), this.defaultJPDownloadList = this.GetDefaultGameJpDownloadJSON(), this.DownloadDefaultJp(this.defaultJPDownloadList), console.log("Default Download List: ", this.defaultJPDownloadList), o.label = 1;
                                case 1:
                                    return this.isDefaultJPPrefabDownloaded ? [3, 3] : [4, SS.Common.WaitForSeconds(.1)];
                                case 2:
                                    return o.sent(), [3, 1];
                                case 3:
                                    return this.DownloadJpPanel(t, e), this.DownloadJpBg(t, e), [2]
                            }
                        })
                    })
                }, t.prototype.DownloadDefaultJp = function(t) {
                    var e = this,
                        o = 0,
                        n = t.length;
                    console.log("[Download GameJp] needDownloadCnt= " + n + ", curDownloadCnt= " + o);
                    for (var i = function(i) {
                            cc.loader.loadRes(t[i].panelLoadPath, function(r, a) {
                                r && console.error("[GameJp Download Error] pat= " + t[i].panelLoadPath), o += 1, t[i].jpPanelPrefab = a, o >= n && (console.log("Default GameJp Download Finish!!"), e.isDefaultJPPrefabDownloaded = !0)
                            })
                        }, r = 0; r < n; r++) i(r)
                }, t.prototype.DownloadJpPanel = function(t, e) {
                    var o = this,
                        n = this,
                        i = 0,
                        r = e.length;
                    console.log("[Download GameJp] needDownloadCnt= " + r + ", curDownloadCnt= " + i);
                    for (var a = function(a) {
                            cc.loader.loadRes(e[a].panelLoadPath, function(s, c) {
                                if (s) {
                                    var l = !1;
                                    if (o.defaultJPDownloadList.length > 0) {
                                        var u = o.defaultJPDownloadList.find(function(t) {
                                            return t.iconSizeType == e[a].iconSizeType
                                        });
                                        null != u && (c = u.jpPanelPrefab, l = !0)
                                    }
                                    if (!l) return console.error("[GameJp Download Error] pat= " + e[a].panelLoadPath), n.errorMsg = "GameJp Download Error", n.errorCode = "C56", void(n.isError = !0)
                                }
                                i += 1, e[a].jpPanelPrefab = c, i >= r && (console.log("GameJp Download Finish!!"), n.isGameJpPanelLoadOK = !0, n.isGameJpPanelLoadOK && n.isGameJpPanelLoadOK && n.ParseGroupPrefab(t, e))
                            })
                        }, s = 0; s < r; s++) a(s);
                    r <= 0 && (this.isGameJpPanelLoadOK = !0)
                }, t.prototype.DownloadJpBg = function(t, e) {
                    var o = this,
                        n = this,
                        i = 0,
                        r = e.length;
                    console.log("[Download GameJp Bg] needDownloadCnt= " + r + ", curDownloadCnt= " + i);
                    for (var a = function(a) {
                            cc.loader.loadRes(e[a].bgLoadPath, function(s, c) {
                                if (s) {
                                    var l = !1;
                                    if (o.defaultJPDownloadList.length > 0) {
                                        var u = o.defaultJPDownloadList.find(function(t) {
                                            return t.iconSizeType == e[a].iconSizeType
                                        });
                                        null != u && (c = u.jpBgPrefab, l = !0)
                                    }
                                    l || console.error("[GameJp Bg Download Error] pat= " + e[a].bgLoadPath)
                                }
                                i += 1, e[a].jpBgPrefab = c, i >= r && (console.log("GameJp_Bg Download Finish!!"), n.isGameJpBgLoadOK = !0, n.isGameJpPanelLoadOK && n.isGameJpPanelLoadOK && n.ParseGroupPrefab(t, e))
                            })
                        }, s = 0; s < r; s++) a(s);
                    r <= 0 && (this.isGameJpBgLoadOK = !0)
                }, t.prototype.GetJPGroup = function() {
                    for (var t = [], e = Object.keys(this.tmpTypeMapGameNameList), o = 0; o < e.length; o++) {
                        var n = e[o];
                        console.log("type= ", n);
                        var i = this.tmpTypeMapGameNameList[n];
                        console.log("Games= ", i);
                        for (var r = this.target.gameIconMgr.SetGroup(i, n), a = 0; a < r.length; a++) r[a].isNeedChangeSetting && (this.tmpTypeMapGameNameList[n] = this.target.gameIconMgr.GameSettingSortChange(r[a].groupAllGameName, i));
                        r.forEach(function(e) {
                            t.push(e)
                        })
                    }
                    return t
                }, t.prototype.DownloadGameFeature = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e;
                        return i(this, function(o) {
                            switch (o.label) {
                                case 0:
                                    return [4, p.default.CheckInit()];
                                case 1:
                                    return o.sent(), p.default.GetSetting("FeatureIconGame") ? (t = p.default.GetSetting("FeatureIconGame"), e = this.GetFeatureGroup(t), this.DownloadFeaturePanel(e), [2]) : [2]
                            }
                        })
                    })
                }, t.prototype.GetFeatureGroup = function(t) {
                    for (var e = this, o = [], n = Object.keys(this.tmpTypeMapGameNameList), i = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList, r = function(r) {
                            var s = n[r];
                            console.log("type= ", s);
                            var l = a.tmpTypeMapGameNameList[s];
                            console.log("Games= ", l), l.forEach(function(n) {
                                var r = n.replace(/\w*_/, "");
                                if (i.indexOf(r) >= 0) {
                                    var a = e.GetThemeIdByGameName(r);
                                    t.forEach(function(t) {
                                        if (t == r) {
                                            var i = e.target.gameIconMgr.GetSingleIconSize(n);
                                            o.push(new c.IconGroupData([], [t], "", a, "", s, i, 0, null, null, null, !1, !1))
                                        }
                                    })
                                }
                            })
                        }, a = this, s = 0; s < n.length; s++) r(s);
                    return o
                }, t.prototype.GetThemeIdByGameName = function(t) {
                    if (SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon"))
                        for (var e in SS.Common.GameEnvironment.GameSetting.Icon)
                            if (SS.Common.GameEnvironment.GameSetting.Icon[e].GameName == t) return e;
                    return ""
                }, t.prototype.DownloadFeaturePanel = function(t) {
                    var e = this,
                        o = this,
                        n = 0,
                        i = t.length;
                    console.log("[Download FeaturePanel] needDownloadCnt= " + i + ", curDownloadCnt= " + n);
                    for (var r = function(r) {
                            var a = "Res/" + window.gd_nowLOGO + "/GameFeature/Icon/" + t[r].groupAllGameName[0] + "/Prefab/" + t[r].iconSizeType + "_Panel";
                            cc.loader.loadRes(a, function(s, c) {
                                s && console.error("Load feature panel false, path = " + a), n += 1, t[r].featurePanel = c, n >= i && (console.log("GameFeature_Panel Download Finish!!"), e.target.gameIconMgr.AddIconGroupDatas(t), o.isGameFeaturePanelLoadOK = !0)
                            })
                        }, a = 0; a < t.length; a++) r(a);
                    i <= 0 && (this.isGameFeaturePanelLoadOK = !0)
                }, t.prototype.ParseGroupPrefab = function(t, e) {
                    t.forEach(function(t) {
                        for (var o = 0; o < e.length; o++) t.groupInType == e[o].groupInType && t.iconSizeType == e[o].iconSizeType && t.lastThemeId == e[o].gameThemeId && (t.jpBg = e[o].jpBgPrefab, t.jpPanel = e[o].jpPanelPrefab)
                    }), this.target.gameIconMgr.AddIconGroupDatas(t), console.warn("[GroupList]"), console.log(t)
                }, t.prototype.DownloadIcon = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o, n, r, a, s, c, l = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return console.warn("[DownloadIcon]"), e = (new Date).getTime().toString(), t = SS.Common.GameEnvironment.ProjectSetting.CDN_HOST ? window.location.protocol + "//" + SS.Common.GameEnvironment.ProjectSetting.CDN_HOST : "../../..", [4, new Promise(function(t, o) {
                                        (new u.VersionDownloader).Start(SS.Common.GameEnvironment.S3URL + "/Icons/", function(n) {
                                            try {
                                                n && n.Version && (e = n.Version), t(null)
                                            } catch (i) {
                                                o(i)
                                            }
                                        }, function(t) {
                                            o(t)
                                        })
                                    }).catch(function(t) {
                                        console.warn("No Icon Version! Use TimeStamp!"), console.warn(t)
                                    })];
                                case 1:
                                    i.sent();
                                    try {
                                        if (o = this.GetDownloadIconList(this.tmpTypeMapGameNameList), 0 === (n = o.length)) return this.isDownaloadOK = !0, [2];
                                        for (r = 0, a = function(i) {
                                                s = t + "/Icons/" + o[i] + ".png?" + e, cc.assetManager.loadRemote(s, {
                                                    cacheAsset: !0,
                                                    cacheEnabled: !0
                                                }, function(t, e) {
                                                    if (t) return l.errorMsg = t.message, l.errorCode = "C12", void(l.isError = !0);
                                                    console.log("tex ", e), l.tmpIconResAry.push(e);
                                                    var a = new cc.SpriteFrame(e);
                                                    l.target.tmpNameMapIcon[o[i]] = a, SS.Common.GameEnvironment.IconNameMapSpriteFrame[o[i]] = a, ++r == n && (l.isDownaloadOK = !0, o = null)
                                                })
                                            }, c = 0; c < n; c++) a(c)
                                    } catch (p) {
                                        this.errorMsg = p, this.errorCode = "C12", this.isError = !0
                                    }
                                    return [2]
                            }
                        })
                    })
                }, t.prototype.GetDownloadIconList = function(t) {
                    var e = this,
                        o = [],
                        n = [];
                    for (var i in t) t[i].forEach(function(t) {
                        -1 === n.indexOf(t) && n.push(t), SS.Common.GameEnvironment.IconNameMapSpriteFrame[t] ? e.target.tmpNameMapIcon[t] || (e.target.tmpNameMapIcon[t] = SS.Common.GameEnvironment.IconNameMapSpriteFrame[t]) : -1 === o.indexOf(t) && o.push(t)
                    });
                    var r = [];
                    for (var a in SS.Common.GameEnvironment.IconNameMapSpriteFrame) - 1 === n.indexOf(a) && r.push(a);
                    return r.forEach(function(t) {
                        SS.Common.GameEnvironment.IconNameMapSpriteFrame[t] = null, delete SS.Common.GameEnvironment.IconNameMapSpriteFrame[t]
                    }), r = null, n = null, o
                }, t
            }();
        o.WaitIconDownload = h, cc._RF.pop()
    }, {
        "../../Component/GameIconMgr/Script/IconGroupData": "IconGroupData",
        "../../Component/GameIconMgr/Script/InGameJpDownloadList": "InGameJpDownloadList",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/Downloader/VersionDownloader": "VersionDownloader",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../LobbyCommon/Skin/Skin": "Skin"
    }],
    WaitInitAckState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "b091441lXlG0rhfmoHx/90s", "WaitInitAckState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitInitAckState = void 0;
        var r = t("../../LobbyCommon/Net/LobbyClient"),
            a = t("../../LobbyCommon/Loading/Script/LoadingMgr"),
            s = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            c = t("../../LobbyCommon/EventModule/EventBannerData"),
            l = t("../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent"),
            u = t("../../LobbyCommon/Helper/Download"),
            p = function() {
                function t() {
                    this.isSendEventQuest = !1, this.extraCompsResultIsError = !1, this.isRecvUserInfo = !1, this.isSetDefaultLoadpage = !1, this.jsAvatarItemSetting = null
                }
                return t.prototype.GetDefaultSplashSRC = function() {
                    return "" != SS.Common.GameEnvironment.ChangeToGameName ? "Login" == SS.Common.GameEnvironment.ChangeToGameName ? (console.log("[Game To Login]"), SS.Common.GameEnvironment.OriginalSplashSRC) : (console.log("[Game To Game]"), SS.Common.GameEnvironment.GetIsGameIsVertical(SS.Common.GameEnvironment.ChangeToGameName) ? SS.Common.GameEnvironment.verticalSplashSRC : SS.Common.GameEnvironment.OriginalSplashSRC) : (console.log("[Game To Lobby]"), SS.Common.GameEnvironment.OriginalSplashSRC)
                }, t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c WaitInitAckState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), "" == SS.Common.GameEnvironment.ChangeToGameName ? SS.Common.GameEnvironment.Splash.src != this.GetDefaultSplashSRC() ? this.ChangeDefaultLoadpage() : (this.isSetDefaultLoadpage = !0, a.LoadingMgr.Instance.SetProgress(80, 10)) : this.isSetDefaultLoadpage = !0, this.isRecvInGameJValue = !1, this.isRecvJpValue = !1, this.isRecvUserProperty = !1, this.isRecvLobbyInfo = !1, this.isRecvKioskGameSetting = !1, this.userPropertyIsError = !1, this.isInGameJpIsError = !1, this.lobbyInfoIsError = !1, this.kioskGameSettingIsError = !1, this.isRecvBannerInfo = !1, this.isBannerCmdError = !1, this.isRecvPopupInfo = !1, this.isPopupCmdError = !1, this.userInfoIsError = !1, r.LobbyClient.Instance.GetUserClient.GetLobbyInfo(this.RecvLobbyInfo.bind(this)), this.WaitLobbyInfo()
                }, t.prototype.WaitLobbyInfo = function() {
                    return n(this, void 0, void 0, function() {
                        return i(this, function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.isRecvLobbyInfo ? [3, 2] : [4, SS.Common.WaitForSeconds(.5)];
                                case 1:
                                    return t.sent(), [3, 0];
                                case 2:
                                    return r.LobbyClient.Instance.GetJPSystem.SendGetJPValCmd(this.RecvJPValCmd.bind(this)), r.LobbyClient.Instance.GetJPSystem.SendGetInGameJpValCmd(this.RecvInGameJPValCmd.bind(this)), r.LobbyClient.Instance.GetUserClient.GetUserProperty(this.RecvUserProperty.bind(this)), r.LobbyClient.Instance.GetUserClient.GetUserInfor(SS.Network.LoginModel.LoginInfo.pin_ark_id, this.RecvUserInfo.bind(this)), r.LobbyClient.Instance.GetUserClient.GetKioskGameSetting(this.RecvKioskGameSetting.bind(this)), r.LobbyClient.Instance.GetUserClient.SendUserCellPhoneVerify(this.RecvUserCellPhoneVerify.bind(this)), r.LobbyClient.Instance.GetUserClient.SendSmsSetting(this.RecvSmsSetting.bind(this)), r.LobbyClient.Instance.GetUserClient.getExtraCompsResult(this.RecvExtraCompsResult.bind(this)), r.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.add(this.RecvJPValCmd, this), r.LobbyClient.Instance.GetUserClient.GetClientPopUpAdv(this.RecvClientPopUp.bind(this)), r.LobbyClient.Instance.GetUserClient.GetClientBannerAdv(this.RecvClientBanner.bind(this)), [2]
                            }
                        })
                    })
                }, t.prototype.ChangeDefaultLoadpage = function() {
                    console.warn("[ChangeDefaultLoadpage]");
                    var t = this,
                        e = new Image,
                        o = document.getElementById("splash");
                    o && (o.style.display = "block"), a.LoadingMgr.Instance.CloseLoading(), e.onload = function() {
                        SS.Common.GameEnvironment.ResetOrientationchange(!1), t.isSetDefaultLoadpage = !0;
                        var o = document.getElementById("splash");
                        o.src = e.src, SS.Common.GameEnvironment.Splash = o, t.FinishLoadPage()
                    }, e.onerror = function() {
                        s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Warning, "C44", this.gameName, "Load Error", null)
                    }, this.SetSplashScale(), e.src = this.GetDefaultSplashSRC()
                }, t.prototype.FinishLoadPage = function() {
                    console.warn("[FinishLoadPage]"), a.LoadingMgr.Instance.OpenLoading(), a.LoadingMgr.Instance.SetProgress(80, 10), document.getElementById("splash").style.display = "none"
                }, t.prototype.SetSplashScale = function() {
                    SS.Common.GameEnvironment.Splash && (SS.Common.GameEnvironment.Splash.style.width = "100%", SS.Common.GameEnvironment.Splash.style.height = "auto")
                }, t.prototype.Update = function() {
                    if (this.isRecvLobbyInfo && !this.isSendEventQuest && (this.isSendEventQuest = !0, r.LobbyClient.Instance.GetUserClient.getCommonEventInfo(this.RecvCommonEventInfo.bind(this)), r.LobbyClient.Instance.GetUserClient.getPuzzleQuestInfo(this.RecvPuzzleQuestInfo.bind(this))), this.isRecvUserProperty && this.isRecvLobbyInfo && this.isRecvKioskGameSetting && this.isRecvCommonEventInfo && this.isRecvPuzzleQuestInfo && this.isRecvPuzzleQuestRank && this.isRecvUserCellPhoneVerify && this.isRecvSmsSetting && this.isRecvExtraCompsResult && this.isRecvBannerInfo && this.isRecvPopupInfo && this.isRecvUserInfo) {
                        if (console.warn("[Recv Status]"), console.log("userPropertyIsError= " + this.userPropertyIsError), console.log("isInGameJpIsError= " + this.isInGameJpIsError), console.log("lobbyInfoIsError= " + this.lobbyInfoIsError), console.log("kioskGameSettingIsError= " + this.kioskGameSettingIsError), console.log("getMissionEventIsError= " + this.getMissionEventIsError), console.log("getCommonEventIsError= " + this.getCommonEventIsError), console.log("userCellPhoneVerifyIsError= " + this.userCellPhoneVerifyIsError), console.log("smsSettingIsError= " + this.smsSettingIsError), console.log("extraCompsResultIsError= " + this.extraCompsResultIsError), console.log("userInfoIsError= " + this.userInfoIsError), this.userPropertyIsError || this.isInGameJpIsError || this.lobbyInfoIsError || this.kioskGameSettingIsError || this.getMissionEventIsError || this.getCommonEventIsError || this.userCellPhoneVerifyIsError || this.smsSettingIsError || this.extraCompsResultIsError || this.userInfoIsError) return this.userPropertyIsError = this.isInGameJpIsError = this.lobbyInfoIsError = this.kioskGameSettingIsError = this.getMissionEventIsError = this.getCommonEventIsError = this.userCellPhoneVerifyIsError = this.smsSettingIsError = this.extraCompsResultIsError = this.userInfoIsError = !1, this.isRecvUserProperty = this.isRecvLobbyInfo = this.isRecvKioskGameSetting = this.isRecvCommonEventInfo = this.isRecvPuzzleQuestInfo = this.isRecvPuzzleQuestRank = this.isRecvUserCellPhoneVerify = this.isRecvSmsSetting = this.isRecvUserInfo = !1, console.error("[ShowPopMsg]"), void s.PopupMsgMgr.Instance.ShowPopMsg(s.PopupPriority.Warning, this.errorCode, "Lobby", this.reason);
                        console.log("-----------------------------------------"), console.log("isRecvJpValue= " + this.isRecvJpValue), console.log("isRecvInGameJValue= " + this.isRecvInGameJValue), console.log("isRecvUserProperty= " + this.isRecvUserProperty), console.log("isRecvLobbyInfo= " + this.isRecvLobbyInfo), console.log("isRecvKioskGameSetting= " + this.isRecvKioskGameSetting), console.log("isRecvCommonEventInfo= " + this.isRecvCommonEventInfo), console.log("isRecvPuzzleQuestInfo= " + this.isRecvPuzzleQuestInfo), console.log("isRecvUserCellPhoneVerify= " + this.isRecvUserCellPhoneVerify), console.log("isRecvSmsSetting= " + this.isRecvSmsSetting), console.log("isRecvPopupInfo= " + this.isRecvPopupInfo), console.log("isRecvBannerInfo= " + this.isRecvBannerInfo), console.log("isRecvUserInfo= " + this.isRecvUserInfo), this.isRecvJpValue && this.isRecvInGameJValue && this.isSetDefaultLoadpage && (this.isRecvJpValue = this.isRecvInGameJValue = this.isRecvUserProperty = this.isRecvLobbyInfo = this.isRecvKioskGameSetting = this.isRecvCommonEventInfo = this.isRecvPuzzleQuestInfo = this.isRecvUserCellPhoneVerify = this.isRecvSmsSetting = !1, this.isRecvPopupInfo = this.isRecvBannerInfo = !1, console.log("[SetCurrentState] to WaitResDownload"), this.target.LobbyFSM.SetCurrentState(this.target.WaitResDownload))
                    }
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitInitAckState PostUpdate", "font-size:18px;font-weight:bold;color:orange;"), r.LobbyClient.Instance.GetJPSystem && r.LobbyClient.Instance.GetJPSystem.OnChangeJpValCmdSignal.remove(this.RecvJPValCmd, this)
                }, t.prototype.RecvInGameJPValCmd = function(t) {
                    console.warn("[RecvInGameJPValCmd]"), console.warn(t);
                    var e = t.result;
                    e == ArkSDK.HttpResult.OK ? (console.log("[LobbyMgr.RecvInGameJPValCmd] Success. data: ", t), this.target.gameJpMgr.ParseInGameJpVal(t.data), this.isRecvInGameJValue = !0) : (e == ArkSDK.HttpResult.Abort ? this.errorCode = "S347" : e == ArkSDK.HttpResult.Condition ? this.errorCode = "S348" : e == ArkSDK.HttpResult.Error ? this.errorCode = "S349" : e == ArkSDK.HttpResult.NotReset ? this.errorCode = "S350" : e == ArkSDK.HttpResult.Status ? this.errorCode = "S351" : e == ArkSDK.HttpResult.Timeout ? this.errorCode = "S352" : this.errorCode = "S353", this.isInGameJpIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e)
                }, t.prototype.RecvJPValCmd = function(t, e, o, n, i) {
                    console.log("[RecvJPValCmd]", t, e, o, n), console.warn(t, e, o, n, i), SS.Common.GameEnvironment.exchange_rate = i, this.target.topBarMgr ? this.target.topBarMgr.ChangeJPVal(t, e, o, n, !0) : this.target.SaveJpVal(t, e, o, n, !0), this.isRecvJpValue = !0
                }, t.prototype.RecvUserProperty = function(t, e) {
                    console.warn("[RecvUserProperty]"), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvUserProperty] Success. data: ", e.cmd_data.data), this.target.UserEntries = e.cmd_data.data.entries, this.target.UserWinnings = e.cmd_data.data.winnings) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S145" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S146" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S53" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S147" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S148" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S52" : e && e.cmd_data && -9 == e.cmd_data.result ? this.errorCode = "S54" : this.errorCode = "S55", this.userPropertyIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvUserProperty = !0
                }, t.prototype.RecvLobbyInfo = function(t, e) {
                    console.warn("[RecvLobbyInfo]"), 0 == t && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvLobbyInfo]  Success. data: ", e.cmd_data.data), this.target.tmpLobbyInfo = e.cmd_data.data, SS.Common.GameEnvironment.IsShowDonate = this.target.tmpLobbyInfo.donate, this.target.tmpLobbyInfo.hasOwnProperty("score_box") ? (SS.Common.GameEnvironment.IsUseScoreBox = this.target.tmpLobbyInfo.score_box, console.warn("isOpen scoreBox ? " + SS.Common.GameEnvironment.IsUseScoreBox)) : (SS.Common.GameEnvironment.IsUseScoreBox = !0, console.warn("default scoreBox is open!!")), this.target.tmpLobbyInfo.hasOwnProperty("shutter") ? (SS.Common.GameEnvironment.IsUseShutter = this.target.tmpLobbyInfo.shutter, console.warn("shutter is " + SS.Common.GameEnvironment.IsUseShutter)) : console.warn("shutter is False!!"), this.target.tmpLobbyInfo.hasOwnProperty("shutter_skill") ? (SS.Common.GameEnvironment.IsUseSlotSkillGame = this.target.tmpLobbyInfo.shutter_skill, console.warn("shutter_skill is " + SS.Common.GameEnvironment.IsUseShutter)) : console.warn("shutter_skill is False!!"), this.target.tmpLobbyInfo.hasOwnProperty("preview_mode") ? (SS.Common.GameEnvironment.PrizeViewerMode = 1 == this.target.tmpLobbyInfo.preview_mode, console.warn("preview_mode is " + SS.Common.GameEnvironment.PrizeViewerMode)) : (SS.Common.GameEnvironment.PrizeViewerMode = !1, console.warn("preview_mode is False!!")), this.target.tmpLobbyInfo.hasOwnProperty("preview_seconds") ? (SS.Common.GameEnvironment.PrizeViewerSec = this.target.tmpLobbyInfo.preview_seconds, console.warn("preview_seconds is " + SS.Common.GameEnvironment.PrizeViewerSec)) : (SS.Common.GameEnvironment.PrizeViewerSec = 0, console.warn("preview_seconds is not found!!")), this.target.tmpLobbyInfo.hasOwnProperty("ingame_jp_info") && (SS.Common.GameEnvironment.InGameJpInfoDict = this.target.tmpLobbyInfo.ingame_jp_info, console.warn("[ingame_jp_info]", SS.Common.GameEnvironment.InGameJpInfoDict)), this.target.tmpLobbyInfo.hasOwnProperty("allow_state") && (ArkSDK.ArkClient.allowState = this.target.tmpLobbyInfo.allow_state), this.target.tmpLobbyInfo.hasOwnProperty("skill_game_enable") && (this.target.isEnableSkillGame = this.target.tmpLobbyInfo.skill_game_enable), this.target.tmpLobbyInfo.hasOwnProperty("skill_game_rate") && (this.target.skillGamelostRate = this.target.tmpLobbyInfo.skill_game_rate)) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S149" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S152" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S43" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S151" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S150" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S42" : e && e.cmd_data && e.cmd_data.result ? -1 == e.cmd_data.result ? this.errorCode = "S44" : -2 == e.cmd_data.result ? this.errorCode = "S45" : -3 == e.cmd_data.result ? this.errorCode = "S46" : -4 == e.cmd_data.result && (this.errorCode = "S47") : this.errorCode = "S48", this.lobbyInfoIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvLobbyInfo = !0
                }, t.prototype.RecvKioskGameSetting = function(t, e) {
                    console.warn("[RecvKioskGameSetting]"), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvKioskGameSetting]  Success. data: ", e.cmd_data.data), SS.Common.GameEnvironment.GameSetting.DisableGame = e.cmd_data.data.disable_game_list, SS.Common.GameEnvironment.GameSetting.DisableType = e.cmd_data.data.disable_game_type_list, SS.Common.GameEnvironment.GameSetting.LockGame = e.cmd_data.data.lock_game_list) : (t == ArkSDK.HttpResult.Abort ? this.errorCode = "S153" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S154" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S73" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S155" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S156" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S72" : e && e.cmd_data && e.cmd_data.result && -19 == e.cmd_data.result ? this.errorCode = "S74" : this.errorCode = "S75", this.kioskGameSettingIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e), this.isRecvKioskGameSetting = !0
                }, t.prototype.RecvMissionBonusInfo = function(t, e) {
                    t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data ? (console.log("[LobbyMgr.RecvMissionBonusInfo]  Success. data: ", e.cmd_data.data), 0 == e.cmd_data.result ? r.LobbyClient.Instance.tmpMissionInfo = JSON.stringify(e.cmd_data.data) : r.LobbyClient.Instance.tmpMissionInfo = null) : (this.ShowEventErrorMsg(t, e), this.getMissionEventIsError = !0), this.isRecvMissionInfo = !0
                }, t.prototype.RecvCommonEventInfo = function(t, e) {
                    if (console.warn("RecvCommonEventInfo:" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900004];
                        o && (console.warn(o), 0 == o.result ? r.LobbyClient.Instance.m_CommonEventInfo_900004 = JSON.stringify(o.data) : r.LobbyClient.Instance.m_CommonEventInfo_900004 = null)
                    } else this.ShowEventErrorMsg(t, e), this.getCommonEventIsError = !0;
                    this.isRecvCommonEventInfo = !0
                }, t.prototype.RecvPuzzleQuestInfo = function(t, e) {
                    if (console.warn("RecvPuzzleQuestInfo:" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        var o = e.cmd_data[900005];
                        if (o) {
                            console.warn(o);
                            var n = o.data.QuestList;
                            0 == o.result && n.length > 0 ? (r.LobbyClient.Instance.m_CommonEventInfo_900005 = o, this.SendGetPuzzleRank(o)) : (r.LobbyClient.Instance.m_CommonEventInfo_900005 = null, this.isRecvPuzzleQuestRank = !0)
                        } else this.isRecvPuzzleQuestRank = !0
                    } else this.isRecvPuzzleQuestRank = !0, this.ShowEventErrorMsg(t, e), this.getCommonEventIsError = !0;
                    this.isRecvPuzzleQuestInfo = !0
                }, t.prototype.SendGetPuzzleRank = function(t) {
                    if ((t = t.data).hasOwnProperty("Enable") && t.Enable && t.hasOwnProperty("QuestList") && t.QuestList.length > 0 && t.hasOwnProperty("UserQuestData"))
                        for (var e = 0; e < t.QuestList.length; e++) {
                            var o = t.QuestList[e];
                            if ("Puzzle" == o.GameThemeID[0]) {
                                var n = o.RankListID,
                                    i = o.CustomInfo.RankLimit;
                                r.LobbyClient.Instance.GetUserClient.getPuzzleRank(n, i, this.RecvPuzzleRank.bind(this));
                                break
                            }
                        } else this.isRecvPuzzleQuestRank = !0
                }, t.prototype.RecvPuzzleRank = function(t, e) {
                    console.warn("RecvPuzzleRank:" + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data ? 0 == e.cmd_data.result && (console.warn(e.cmd_data), r.LobbyClient.Instance.m_CommonEventInfo_900005_Rank = e.cmd_data) : (this.ShowEventErrorMsg(t, e), this.getCommonEventIsError = !0), this.isRecvPuzzleQuestRank = !0
                }, t.prototype.ShowEventErrorMsg = function(t, e) {
                    t == ArkSDK.HttpResult.Abort ? this.errorCode = "S176" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S177" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S180" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S178" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S179" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S181" : this.errorCode = "S182", this.errorMsg = "The Internet was lost! Please login again!", this.reason = e
                }, t.prototype.RecvUserCellPhoneVerify = function(t, e) {
                    var o = this;
                    if (console.warn("RecvUserCellPhoneVerify : " + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        if (0 == e.cmd_data.result && (SS.Common.GameEnvironment.IsUseCellPhoneVerify = e.cmd_data.data.is_show, SS.Common.GameEnvironment.IsUseCellPhoneVerify)) {
                            this.target.getBonusMgr.LayoutStartInit();
                            var n = new c.EventBannerData("getBonusKey", -1, function() {
                                o.target.getBonusMgr.OpenGetBonusPanel(), o.target.popUpMgr.ClosePopup()
                            });
                            n.m_bValid = !0, this.target.m_arrEventBannerData.push(n)
                        }
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S311" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S312" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S313" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S314" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S315" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S316" : this.errorCode = "S317", this.userCellPhoneVerifyIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e;
                    this.isRecvUserCellPhoneVerify = !0
                }, t.prototype.RecvSmsSetting = function(t, e) {
                    if (console.warn("RecvSmsSetting : " + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) {
                        if (0 == e.cmd_data.result && (this.target.accountPageMgr.isShowPhoneMsg = e.cmd_data.data.is_show, e.cmd_data.data.hasOwnProperty("is_accept_sms") && (this.target.accountPageMgr.isSelectPhoneMsgOption = e.cmd_data.data.is_accept_sms), e.cmd_data.data.hasOwnProperty("is_show_popup") && e.cmd_data.data.is_show_popup)) {
                            var o = new l.PriorityCustomEvent(2, this.target.accountPageMgr.ShowPhoneMsgPopupEvent.bind(this.target.accountPageMgr));
                            this.target.popUpMgr.priorityShowEvents.push(o)
                        }
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S340" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S341" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S342" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S343" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S344" : t == ArkSDK.HttpResult.Timeout ? this.errorCode = "S345" : this.errorCode = "S346", this.smsSettingIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e;
                    this.isRecvSmsSetting = !0
                }, t.prototype.RecvExtraCompsResult = function(t, e) {
                    if (console.warn("RecvExtraCompsResult : " + t), console.warn(e), t == ArkSDK.HttpResult.OK && e && e.cmd_data) 0 == e.cmd_data.result && e.cmd_data.data.length > 0 ? r.LobbyClient.Instance.m_ExtraResult = e.cmd_data : r.LobbyClient.Instance.m_ExtraResult = null;
                    else {
                        r.LobbyClient.Instance.m_ExtraResult = null;
                        var o;
                        o = t == ArkSDK.HttpResult.Abort ? "S357" : t == ArkSDK.HttpResult.Condition ? "S358" : t == ArkSDK.HttpResult.Error ? "S359" : t == ArkSDK.HttpResult.NotReset ? "S360" : t == ArkSDK.HttpResult.Status ? "S361" : (ArkSDK.HttpResult.Timeout, "S363"), console.error("\u53d6\u5f97 ExtraFree \u9818\u734e\u8cc7\u8a0a\u932f\u8aa4\u4e0d\u958b\u555f\u4ecb\u9762\uff0cerrorCode = " + o)
                    }
                    this.isRecvExtraCompsResult = !0
                }, t.prototype.RecvClientBanner = function(t, e) {
                    if (t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data) console.log("[LobbyMgr.RecvBanner]  Success. data: ", e.cmd_data.data), this.target.bannerMgr.SaveBannerCmdData(e.cmd_data.data);
                    else {
                        var o;
                        o = t == ArkSDK.HttpResult.Abort ? "S304" : t == ArkSDK.HttpResult.Condition ? "S305" : t == ArkSDK.HttpResult.Error ? "S306" : t == ArkSDK.HttpResult.NotReset ? "S307" : t == ArkSDK.HttpResult.Status ? "S308" : t == ArkSDK.HttpResult.Timeout ? "S309" : "S310", this.isBannerCmdError = !0, console.warn("Error: RecvClientBanner( " + o + ") : Banner wrong!")
                    }
                    this.isRecvBannerInfo = !0
                }, t.prototype.RecvClientPopUp = function(t, e) {
                    if (0 == t && e && e.cmd_data && e.cmd_data.data) console.log("[LobbyMgr.RecvPopUp]  Success. data: ", e.cmd_data.data), this.target.popUpMgr.SavePopupCmdData(e.cmd_data.data);
                    else {
                        var o;
                        o = t == ArkSDK.HttpResult.Abort ? "S296" : t == ArkSDK.HttpResult.Condition ? "S297" : t == ArkSDK.HttpResult.Error ? "S298" : t == ArkSDK.HttpResult.NotReset ? "S299" : t == ArkSDK.HttpResult.Status ? "S300" : t == ArkSDK.HttpResult.Timeout ? "S301" : "S302", this.isPopupCmdError = !0, console.warn("Error: RecvClientPopUp( " + o + ") : Banner wrong!")
                    }
                    this.isRecvPopupInfo = !0
                }, t.prototype.RecvUserInfo = function(t, e) {
                    if (console.warn("[RecvUserInfo], status = " + t + ", result = ", e), t == ArkSDK.HttpResult.OK && e && e.cmd_data && e.cmd_data.data) {
                        if (console.log("[LobbyMgr.RecvUserInfo] Success. data: ", e.cmd_data.data), SS.Network.UserClient.UserInfo.mobile_id = e.cmd_data.data.UserID, SS.Network.UserClient.UserInfo.nickname = e.cmd_data.data.Nickname, SS.Network.UserClient.UserInfo.avatar_id = e.cmd_data.data.AvatarID, SS.Network.UserClient.UserInfo.avatar_frame_id = e.cmd_data.data.AvatarFrameID, SS.Network.UserClient.UserInfo.avatar_expired_time = -1 == e.cmd_data.data.AvatarExpiredTime ? -1 : Date.parse(e.cmd_data.data.AvatarExpiredTime + "Z"), SS.Network.UserClient.UserInfo.avatar_frame_expired_time = -1 == e.cmd_data.data.AvatarFrameExpiredTime ? -1 : Date.parse(e.cmd_data.data.AvatarFrameExpiredTime + "Z"), SS.Network.UserClient.UserInfo.new_item = !1, e.cmd_data.data.hasOwnProperty("NewItem")) {
                            SS.Network.UserClient.UserInfo.new_item = e.cmd_data.data.NewItem;
                            var o = "ProfileBarNewRedPoint_" + SS.Network.LoginModel.LoginInfo.pin_ark_id,
                                n = SS.Network.UserClient.UserInfo.new_item;
                            JSUtility.IsSupportLocalStorage() ? "false" == n ? localStorage.removeItem(o) : localStorage.setItem(o, n) : JSUtility.IsSupportCookie() && (document.cookie = o + "=" + n + ";")
                        }
                        this.CheckAvatarItemAvaiable()
                    } else t == ArkSDK.HttpResult.Abort ? this.errorCode = "S397" : t == ArkSDK.HttpResult.Condition ? this.errorCode = "S398" : t == ArkSDK.HttpResult.Error ? this.errorCode = "S399" : t == ArkSDK.HttpResult.NotReset ? this.errorCode = "S400" : t == ArkSDK.HttpResult.Status ? this.errorCode = "S401" : t == ArkSDK.HttpResult.Timeout && (this.errorCode = "S402"), this.userInfoIsError = !0, this.errorMsg = "The Internet was lost! Please login again!", this.reason = e;
                    this.isRecvUserInfo = !0
                }, t.prototype.CheckAvatarItemAvaiable = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o;
                        return i(this, function(n) {
                            switch (n.label) {
                                case 0:
                                    return null != this.jsAvatarItemSetting ? [3, 2] : [4, u.Download.JSON(SS.Common.GameEnvironment.S3URL + "/Data/AvatarItemSetting")];
                                case 1:
                                    o = n.sent(), this.jsAvatarItemSetting = o, n.label = 2;
                                case 2:
                                    return t = this.CheckGameAvaiable(SS.Network.UserClient.UserInfo.avatar_id), e = this.CheckGameAvaiable(SS.Network.UserClient.UserInfo.avatar_frame_id), t && e || ((o = {}).face_id = t ? SS.Network.UserClient.UserInfo.avatar_id : "", o.frame_id = e ? SS.Network.UserClient.UserInfo.avatar_frame_id : "", o.change_name_status = !1, console.error("\u982d\u50cf\u982d\u50cf\u6846\u4f7f\u7528\u672a\u958b\u904a\u6232\uff0c\u8cc7\u6599\u66f4\u65b0 = ", o), r.LobbyClient.Instance.GetUserClient.ChangePlayerInfo(SS.Network.LoginModel.LoginInfo.pin_ark_id, SS.Network.UserClient.UserInfo.nickname, o, this.ReceiveSaveData.bind(this)), t || (SS.Network.UserClient.UserInfo.avatar_id = ""), e || (SS.Network.UserClient.UserInfo.avatar_frame_id = "")), [2]
                            }
                        })
                    })
                }, t.prototype.ReceiveSaveData = function(t, e) {
                    console.warn("[AvatarSetting]ReceiveSaveData:", e)
                }, t.prototype.CheckGameAvaiable = function(t) {
                    console.warn("\u6aa2\u67e5\u4f7f\u7528\u7684 avatar \u7269\u4ef6\u662f\u5426\u53ef\u4f7f\u7528, itemID = " + t);
                    var e = !0,
                        o = this.jsAvatarItemSetting.find(function(e) {
                            return e.id == t
                        });
                    if (o) {
                        var n = o.game_id;
                        if ("" != n)
                            for (var i = 0; i < SS.Common.GameEnvironment.GameSetting.DisableGame.length; i++)
                                if (SS.Common.GameEnvironment.GameSetting.DisableGame[i] == n) {
                                    console.error("\u4f7f\u7528\u7684\u982d\u50cf\u904a\u6232\u6c92\u958b!!!!!, itemID = " + t + " itemGameTheme = " + n), e = !1;
                                    break
                                }
                    }
                    return e
                }, t
            }();
        o.WaitInitAckState = p, cc._RF.pop()
    }, {
        "../../LobbyCommon/EventModule/EventBannerData": "EventBannerData",
        "../../LobbyCommon/Helper/Download": "Download",
        "../../LobbyCommon/Loading/Script/LoadingMgr": "LoadingMgr",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopUpMgr/Scripts/PriorityCustomEvent": "PriorityCustomEvent",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WaitResDownload: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f6c3drJGnNOoJCjZt3pv8AE", "WaitResDownload");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitResDownload = void 0;
        var r = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            a = t("../../LobbyCommon/Net/LobbyClient"),
            s = t("../../LobbyCommon/EventModule/EventModule"),
            c = t("../../LobbyCommon/Component/BundleCtrl"),
            l = t("../../LobbyCommon/Helper/Setting"),
            u = t("../../LobbyCommon/EventModule/EventBannerData"),
            p = t("../../LobbyCommon/Helper/EventSystem"),
            m = t("../../LobbyCommon/Net/ClickLog"),
            h = t("../../LobbyCommon/Net/ClickLogEnum"),
            d = t("../../LobbyCommon/Skin/Skin"),
            _ = t("../../Component/DownBar/Script/DownBarMgr"),
            g = (function() {
                function t(t, e, o, n) {
                    void 0 === o && (o = null), void 0 === n && (n = !1), this.resName = e, this.isInitDone = !1, this.isError = !1, this.errorCode = "", this.errorMsg = "", this.completeFunc = o, n && this.checkAndLoadRes(t)
                }
                t.prototype.checkAndLoadRes = function(t) {
                    return n(this, void 0, void 0, function() {
                        return i(this, function() {
                            try {
                                cc.loader.loadRes(this.resName + ".prefab", function(e, o) {
                                    if (e) return this.errorMsg = e, this.errorCode = "C03", this.isError = !0, void console.error(e);
                                    this.node = cc.instantiate(o), this.node.parent = cc.director.getScene().getChildByName("LoadResNode"), null != this.completeFunc && this.completeFunc(this, t)
                                }.bind(this))
                            } catch (e) {
                                this.errorMsg = e, this.errorCode = "C03", this.isError = !0, console.error(e)
                            }
                            return [2]
                        })
                    })
                }, t.prototype.initDone = function() {
                    this.isInitDone = !0
                }
            }(), function() {
                function t() {
                    this.sceneReader = null, this.m_arrResSet = [], this.isBannerInit = !1, this.isDownloadBundles = !1, this.isDownloadDownBar = !1, this.isDownloadAllLobbySceneRes = !1, this.t = 100
                }
                return t.prototype.PreUpdate = function() {
                    this.isDownloadBundles = !1, console.log("[LobbyFSM] %c WaitResDownload PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), SS.Common.GameEnvironment.GameSetting.kioskOpenGameList = this.GetKioskOpenGame(), this.BundleAsync()
                }, t.prototype.Update = function() {
                    var t = this;
                    if (this.t++, this.t >= 100 && (this.t = 0), this.isDownloadBundles && this.isDownloadAllLobbySceneRes) {
                        var e = !0;
                        if (this.m_arrResSet.forEach(function(o) {
                                o.isError && (o.isError = !1, t.ShowErrorMsg(o.errorCode, o.errorMsg)), e = e && o.isInitDone
                            }), this.isBannerInit || (this.SetBanner(), this.isBannerInit = !0), 0 == this.t && console.log("<><> all init done:", e), e) {
                            if (null == this.target.tmpMission90004)
                                for (var o = 0; o < this.m_arrResSet.length; o++) {
                                    "Mission/900004" == this.m_arrResSet[o].resName && (this.target.tmpMission90004 = this.m_arrResSet[o].node);
                                    break
                                }
                            this.target.bannerMgr.IsCompleteLoadAllBanner() && this.target.LobbyFSM.SetCurrentState(this.target.WaitIconDownload)
                        }
                    }
                }, t.prototype.PostUpdate = function() {}, t.prototype.ShowErrorMsg = function(t, e) {
                    r.PopupMsgMgr.Instance.ShowPopMsg(r.PopupPriority.Critical, t, "", e)
                }, t.prototype.GetKioskOpenGame = function() {
                    var t = [],
                        e = SS.Common.GameEnvironment.GameSetting.DisableGame,
                        o = SS.Common.GameEnvironment.GameSetting.Type,
                        n = SS.Common.GameEnvironment.GameSetting.Type.KENO,
                        i = null != n && ("NC" == ArkSDK.ArkClient.allowState || SS.Common.GameEnvironment.IsUseSlotSkillGame);
                    if (i)
                        for (var r = 0; r < n.length; r++) n[r] = this.cutPrefix(n[r]);
                    for (var a in o)
                        for (var s = 0; s < o[a].length; s++) {
                            for (var c = !1, l = this.cutPrefix(o[a][s]), u = 0; u < e.length; u++) {
                                var p = this.GetThemeIdByGameName(e[u]);
                                if ("" != p && "" != l && l == p) {
                                    c = !0;
                                    break
                                }
                            }
                            if (i)
                                for (u = 0; u < n.length; u++)
                                    if ("" != n[u] && "" != l && l == n[u]) {
                                        c = !0;
                                        break
                                    }
                            c || t.push(l)
                        }
                    return cc.log(t), t
                }, t.prototype.cutPrefix = function(t) {
                    if (-1 != t.indexOf("_")) {
                        var e = t.split("_");
                        return e[e.length - 1]
                    }
                    return t
                }, t.prototype.GetThemeIdByGameName = function(t) {
                    return SS.Common.GameEnvironment.GameSetting.hasOwnProperty("Icon") && SS.Common.GameEnvironment.GameSetting.Icon.hasOwnProperty(t) && SS.Common.GameEnvironment.GameSetting.Icon[t].hasOwnProperty("GameName") ? SS.Common.GameEnvironment.GameSetting.Icon[t].GameName : ""
                }, t.prototype.setInitDone = function(t) {
                    for (var e = 0; e < this.m_arrResSet.length; e++)
                        if (this.m_arrResSet[e].resName == t) {
                            this.m_arrResSet[e].isInitDone = !0;
                            break
                        }
                }, t.prototype.GetArrResState = function(t) {
                    for (var e = 0; e < this.m_arrResSet.length; e++)
                        if (this.m_arrResSet[e].resName == t) return this.m_arrResSet[e]
                }, t.prototype.BundleAsync = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o, n, r, a, s, l = this;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return t = !0, console.log("%c BundleAsync() - Version Setting", "font-size:14px;color:#00c957;font-weight:bold;"), [4, c.default.Instance.DownloadConfig().catch(function() {
                                        t = !1
                                    })];
                                case 1:
                                    return i.sent(), t ? [4, c.default.Instance.DownloadCommonBundles()] : [3, 5];
                                case 2:
                                    return i.sent(), [4, c.default.Instance.DownloadLobbyBundles()];
                                case 3:
                                    return i.sent(), [4, this.DownloadGameFeature()];
                                case 4:
                                    i.sent(), i.label = 5;
                                case 5:
                                    return [4, d.default.Instance.Init()];
                                case 6:
                                    for (i.sent(), e = d.default.Instance.GetLoadList("Lobby"), (o = {}).TopBar = function(t) {
                                            l.target.topBarRoot ? t.parent = l.target.topBarRoot : t.parent = l.target.downBarRoot.parent, l.target.SetTopbar(t)
                                        }, o.DownBar = function(t) {
                                            l.target.downBarMgr = t.getComponent(_.DownBarMgr), l.target.SetDownbarEvent()
                                        }, o.Profile = function(t) {
                                            l.target.profiledNode = t, l.target.profiledNode.active = !1, l.target.profiledNode.setSiblingIndex(t.parent.childrenCount), l.SetProfileBannerData("ProfileBanner", h.LogEvent_OpenPanel.InBanner), l.SetProfileBannerData("ProfilePopup", h.LogEvent_OpenPanel.InPopup)
                                        }, o.BulletinBoard = function(t) {
                                            l.target.bulletinBoardNode = t, l.target.bulletinBoardNode.active = !1, l.target.bulletinBoardNode.setSiblingIndex(t.parent.childrenCount)
                                        }, n = this.ParseEventRes(), r = 0, a = n; r < a.length; r++) s = a[r], e.push(s);
                                    return o.OceanHeart = function(t) {
                                        l.OnEventMoudleSpawned(t)
                                    }, o.RankBonus = function(t) {
                                        l.OnEventMoudleSpawned(t)
                                    }, o.PuzzleEgg = function(t) {
                                        l.OnEventMoudleSpawned(t)
                                    }, [4, d.default.Instance.Download(o, e)];
                                case 7:
                                    return i.sent(), this.isDownloadBundles = !0, this.isDownloadAllLobbySceneRes = !0, this.isDownloadDownBar = !0, console.log("%c BundleAsync() - END", "font-size:14px;color:#00c957;font-weight:bold;"), [2]
                            }
                        })
                    })
                }, t.prototype.SetProfileBannerData = function(t, e) {
                    var o = new u.EventBannerData(t, -1, function() {
                        p.EventSystem.Event(p.Profile.OpenProfile).Length > 0 && p.EventSystem.Event(p.Profile.OpenProfile).Notify(!0), m.ClickLog.recordClickLog(h.LogName.Profile, 0, h.LogType_Profile.OpenPanel, e)
                    });
                    o.m_bValid = !0, this.target.m_arrEventBannerData.push(o)
                }, t.prototype.OnDownBarDowloaded = function() {
                    this.isDownloadDownBar = !0
                }, t.prototype.OnAllLobbySceneResDownloaded = function() {
                    this.isDownloadAllLobbySceneRes = !0, this.sceneReader = null
                }, t.prototype.SetBanner = function() {
                    if (this.target.m_arrEventBannerData.length > 0)
                        for (var t = 0; t < this.target.m_arrEventBannerData.length; t++) {
                            var e = this.target.m_arrEventBannerData[t];
                            e.m_bValid && this.target.bannerMgr.curOpenEventName.push(e.m_sBannerID)
                        }
                    this.target.popUpMgr.isFirstLogin = this.target.CheckCookieValue("login_clicked", "1"), this.target.bannerMgr.BannerDataInit(), this.target.popUpMgr.PopupDataInit()
                }, t.prototype.OnEventMoudleSpawned = function(t) {
                    var e = t.getComponent(s.EventModule);
                    e && (SS.Common.GameEnvironment.GameSetting.hasOwnProperty("active_event") || (SS.Common.GameEnvironment.GameSetting.active_event = {}), SS.Common.GameEnvironment.GameSetting.active_event[e.m_strEventID] = !0, e.init(this.target, null))
                }, t.prototype.ParseEventRes = function() {
                    var t = [];
                    if (null != a.LobbyClient.Instance.m_CommonEventInfo_900004) {
                        var e = this.parseTitleType_900004(a.LobbyClient.Instance.m_CommonEventInfo_900004); - 1 !== e.indexOf("102") ? t.push("RankBonus") : console.log("[WaitResDownload] [Mission] \u6c92\u958b\u5f69\u91d1\u6392\u884c\u699c\u6d3b\u52d5"), -1 !== e.indexOf("302") ? t.push("OceanHeart") : console.log("[WaitResDownload] [Mission] \u6c92\u958b\u6d77\u6d0b\u4e4b\u5fc3")
                    }
                    return null != a.LobbyClient.Instance.m_CommonEventInfo_900005 ? t.push("PuzzleEgg") : console.log("[WaitResDownload] [Mission] \u6c92\u958b\u5f69\u86cb\u62fc\u5716\u6d3b\u52d5"), t
                }, t.prototype.parseTitleType_900004 = function(t) {
                    var e = [];
                    try {
                        var o = JSON.parse(t);
                        if (o.hasOwnProperty("Enable") && o.Enable && o.hasOwnProperty("QuestList") && o.QuestList.length > 0 && o.hasOwnProperty("UserQuestData")) {
                            var n = o.QuestList;
                            if (0 == n.length) return;
                            for (var i = 0; i < n.length; i++) - 1 === e.indexOf(n[i].TitleType) && e.push(n[i].TitleType.toString())
                        }
                    } catch (r) {
                        console.error("[WaitResDownload] [parseTitleType_900004]", r)
                    }
                    return e
                }, t.prototype.DownloadGameFeature = function() {
                    return n(this, void 0, void 0, function() {
                        var t, e, o, n, r, a, u, p, m;
                        return i(this, function(i) {
                            switch (i.label) {
                                case 0:
                                    return t = cc.director.getScene().getChildByName("LoadResNode"), [4, l.default.CheckInit()];
                                case 1:
                                    if (i.sent(), e = l.default.GetSetting("FeatureUIGame"), o = [], e)
                                        for (n = SS.Common.GameEnvironment.GameSetting.kioskOpenGameList, a = 0; a < e.length; a++) r = e[a], n.indexOf(r) >= 0 && o.push(r);
                                    return o ? [4, c.default.Instance.DownloadGameFeatureBundles(!0, o)] : [3, 6];
                                case 2:
                                    i.sent(), a = 0, i.label = 3;
                                case 3:
                                    return a < o.length ? (u = c.default.Instance.GetGameFeatureBundlesName(o[a]), [4, c.default.Instance.GetMainPrefab(u)]) : [3, 6];
                                case 4:
                                    (p = i.sent()) && ((m = cc.instantiate(p)).getComponent(s.EventModule).init(this.target, null), m.parent = t), i.label = 5;
                                case 5:
                                    return a++, [3, 3];
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }, t
            }());
        o.WaitResDownload = g, cc._RF.pop()
    }, {
        "../../Component/DownBar/Script/DownBarMgr": "DownBarMgr",
        "../../LobbyCommon/Component/BundleCtrl": "BundleCtrl",
        "../../LobbyCommon/EventModule/EventBannerData": "EventBannerData",
        "../../LobbyCommon/EventModule/EventModule": "EventModule",
        "../../LobbyCommon/Helper/EventSystem": "EventSystem",
        "../../LobbyCommon/Helper/Setting": "Setting",
        "../../LobbyCommon/Net/ClickLog": "ClickLog",
        "../../LobbyCommon/Net/ClickLogEnum": "ClickLogEnum",
        "../../LobbyCommon/Net/LobbyClient": "LobbyClient",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr",
        "../../LobbyCommon/Skin/Skin": "Skin"
    }],
    WaitSettingState: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "91e8eRJkiVMIIIRNcHBA805", "WaitSettingState");
        var n = this && this.__awaiter || function(t, e, o, n) {
                return new(o || (o = Promise))(function(i, r) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function s(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            r(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof o ? e : new o(function(t) {
                            t(e)
                        })).then(a, s)
                    }
                    c((n = n.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function(t, e) {
                var o, n, i, r, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (r[Symbol.iterator] = function() {
                    return this
                }), r;

                function s(t) {
                    return function(e) {
                        return c([t, e])
                    }
                }

                function c(r) {
                    if (o) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (o = 1, n && (i = 2 & r[0] ? n.return : r[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, r[1])).done) return i;
                        switch (n = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++, n = r[1], r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1], i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2], a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        r = e.call(t, a)
                    } catch (s) {
                        r = [6, s], n = 0
                    } finally {
                        o = i = 0
                    }
                    if (5 & r[0]) throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WaitSettingState = void 0;
        var r = t("../../LobbyCommon/Net/Downloader/GameSettingDownloader"),
            a = t("../../LobbyCommon/PopupMessage/Script/PopupMsgMgr"),
            s = t("../../LobbyCommon/Component/GlobalData"),
            c = t("../../LobbyCommon/GuestSystem/Script/GuestSysMgr"),
            l = function() {
                function t() {}
                return t.prototype.PreUpdate = function() {
                    console.log("[LobbyFSM] %c WaitSettingState PreUpdate", "font-size:18px;font-weight:bold;color:orange;"), this.isRecvFTPGameSetting = !1, this.ftpGameSettingisERROR = !1, this.DownloadGameSetting()
                }, t.prototype.Update = function() {
                    this.ftpGameSettingisERROR ? (this.ftpGameSettingisERROR = !1, a.PopupMsgMgr.Instance.ShowPopMsg(a.PopupPriority.Critical, this.errorCode, "Lobby", this.reason)) : this.isRecvFTPGameSetting && (this.isRecvFTPGameSetting = !1, this.target.LobbyFSM.SetCurrentState(this.target.WaitInitAckState))
                }, t.prototype.PostUpdate = function() {
                    console.log("[LobbyFSM] %c WaitSettingState PostUpdate", "font-size:18px;font-weight:bold;color:orange;")
                }, t.prototype.DownloadGameSetting = function() {
                    return n(this, void 0, void 0, function() {
                        var t = this;
                        return i(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, new Promise(function(e, o) {
                                        var n, i;
                                        i = c.default.getInstance().isGuestLogin() ? "/" + window.gd_nowLOGO + "GuestGameSetting" : "/" + window.gd_nowLOGO + "GameSetting", n = s.GlobalData.IsCompress ? SS.Common.GameEnvironment.S3URL + i + ".txt" : SS.Common.GameEnvironment.S3URL + i + ".json", (new r.GameSettingDownloader).Start(n, !s.GlobalData.IsCompress, function(o) {
                                            console.log("ftp gameSetting", o), SS.Common.GameEnvironment.DisableMenuBtn = o.DisableMenuBtn.slice(0), SS.Common.GameEnvironment.TopBarJPIsMoneyFormat = o.TopBarJPIsMoneyFormat, SS.Common.GameEnvironment.JPRewardIsMoneyFormat = o.JPRewardIsMoneyFormat, SS.Common.GameEnvironment.JPWinnerIsMoneyFormat = o.JPWinnerIsMoneyFormat, o.PrizeReveal && (SS.Common.GameEnvironment.PrizeReveal = o.PrizeReveal), SS.Common.GameEnvironment.GameSetting = o, SS.Common.GameEnvironment.SetGameMappingData(), t.isRecvFTPGameSetting = !0, e(null)
                                        }, function(e) {
                                            t.reason = e, t.errorCode = "C10", t.ftpGameSettingisERROR = !0, o()
                                        })
                                    })];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t
            }();
        o.WaitSettingState = l, cc._RF.pop()
    }, {
        "../../LobbyCommon/Component/GlobalData": "GlobalData",
        "../../LobbyCommon/GuestSystem/Script/GuestSysMgr": "GuestSysMgr",
        "../../LobbyCommon/Net/Downloader/GameSettingDownloader": "GameSettingDownloader",
        "../../LobbyCommon/PopupMessage/Script/PopupMsgMgr": "PopupMsgMgr"
    }],
    WeaponActiveHint: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "55519SWY8JBlLCea8nVb8Jl", "WeaponActiveHint");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_FishCommonAltas = null, e.anim = null, e.weaponIcon = [], e.hintLabel = [], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    t.length > 1 ? (this.hintLabel[0].string = " are available", this.hintLabel[1].node.active = !0) : this.hintLabel[0].string = " is available";
                    for (var e = 0; e < t.length; e++) switch (t[e]) {
                        case 56001:
                            this.weaponIcon[e].spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Tiger"), this.weaponIcon[e].node.active = !0;
                            break;
                        case 57001:
                            this.weaponIcon[e].spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Dragon"), this.weaponIcon[e].node.active = !0
                    }
                    this.anim.play()
                }, r([c(cc.SpriteAtlas)], e.prototype, "m_FishCommonAltas", void 0), r([c(cc.Animation)], e.prototype, "anim", void 0), r([c([cc.Sprite])], e.prototype, "weaponIcon", void 0), r([c([cc.Label])], e.prototype, "hintLabel", void 0), r([s], e)
            }(cc.Component);
        o.default = l, cc._RF.pop()
    }, {}],
    WeaponChangeHint: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "f3926Kk5VdOBYfU6+97Qm3r", "WeaponChangeHint");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        });
        var a = t("./FishUIMgr"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_WeaponTypeArray = [], e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    var e = 0;
                    switch (e += this.m_ChangeWeaponRoot.width, SS.Common.GameEnvironment.CurrentGameNow) {
                        case "FishHunterAladdin":
                            (i = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Aladdin_Lock"), e += i.width, i.parent = this.m_ChangeWeaponRoot, (o = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Tiger"), e += o.width, o.parent = this.m_ChangeWeaponRoot;
                            break;
                        case "FishHunterGhost":
                            (i = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Ghost_Lock"), e += i.width, i.parent = this.m_ChangeWeaponRoot, (n = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Dragon"), e += n.width, n.parent = this.m_ChangeWeaponRoot;
                            break;
                        case "FishFortuneKings":
                            var o, n;
                            if ((i = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Dragon_Lock"), e += i.width, i.parent = this.m_ChangeWeaponRoot, t) t.hasOwnProperty("Scale") && t.Scale && ((o = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Tiger"), e += o.width, o.parent = this.m_ChangeWeaponRoot), t.hasOwnProperty("MultipleScale") && t.MultipleScale && ((n = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Dragon"), e += n.width, n.parent = this.m_ChangeWeaponRoot);
                            break;
                        default:
                            var i;
                            (i = cc.instantiate(this.m_ClickToChangeNode)).getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame("ClicktoChange_Normal_Lock"), e += i.width, i.parent = this.m_ChangeWeaponRoot
                    }
                    this.m_ChangeWeaponRoot.width = e
                }, e.prototype.InitWithWeaponList = function(t) {
                    var e = 0;
                    e += this.m_ChangeWeaponRoot.width;
                    for (var o = "", n = 0, i = t; n < i.length; n++) {
                        var r = i[n];
                        switch (this.m_WeaponTypeArray.push(r), o = "", r) {
                            case a.WeaponType.Lock:
                                o = "FishHunterAladdin" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Aladdin_Lock" : "FishHunterGhost" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Ghost_Lock" : "FishFortuneKings" == SS.Common.GameEnvironment.CurrentGameNow ? "ClicktoChange_Dragon_Lock" : "ClicktoChange_Normal_Lock";
                                break;
                            case a.WeaponType.Tiger:
                                o = "ClicktoChange_Tiger";
                                break;
                            case a.WeaponType.Dragon:
                                o = "ClicktoChange_Dragon"
                        }
                        if ("" != o) {
                            var s = cc.instantiate(this.m_ClickToChangeNode);
                            s.getComponent(cc.Sprite).spriteFrame = this.m_FishCommonAltas.getSpriteFrame(o), e += s.width, s.parent = this.m_ChangeWeaponRoot
                        }
                    }
                    this.m_ChangeWeaponRoot.width = e
                }, r([l(cc.SpriteAtlas)], e.prototype, "m_FishCommonAltas", void 0), r([l(cc.Node)], e.prototype, "m_ChangeWeaponRoot", void 0), r([l(cc.Node)], e.prototype, "m_ClickToChangeNode", void 0), r([c], e)
            }(cc.Component);
        o.default = u, cc._RF.pop()
    }, {
        "./FishUIMgr": "FishUIMgr"
    }],
    WebViewUIGroup: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "94f22kCJ7JKjKx2/q6c3LTz", "WebViewUIGroup");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.WebViewUIGroup = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.WebviewRoot = null, e.popupWebview = null, e
                }
                return i(e, t), e.prototype.CloseWebview = function() {
                    this.WebviewRoot.active = !1, this.popupWebview.node.active = !1
                }, e.prototype.OpenWebView = function(t) {
                    this.popupWebview.url = t, this.WebviewRoot.active = !0, this.popupWebview.node.active = !0
                }, r([c(cc.Node)], e.prototype, "WebviewRoot", void 0), r([c(cc.WebView)], e.prototype, "popupWebview", void 0), r([s], e)
            }(cc.Component);
        o.WebViewUIGroup = l, cc._RF.pop()
    }, {}],
    test: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "98928gFSDdCRIF58W4MS077", "test");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.test = void 0;
        var a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gameWebView = null, e
                }
                return i(e, t), e.prototype.start = function() {
                    window.addEventListener("resize", this.SetResize.bind(this))
                }, e.prototype.SetResize = function() {
                    this.gameWebView.node.setContentSize(cc.size(window.innerWidth, window.innerHeight))
                }, r([c(cc.WebView)], e.prototype, "gameWebView", void 0), r([s], e)
            }(cc.Component);
        o.test = l, cc._RF.pop()
    }, {}],
    tmpPopUp: [function(t, e, o) {
        "use strict";
        cc._RF.push(e, "8c007I4vPFE7pLJwgLdrtwK", "tmpPopUp");
        var n, i = this && this.__extends || (n = function(t, e) {
                return (n = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var o in e) e.hasOwnProperty(o) && (t[o] = e[o])
                    })(t, e)
            }, function(t, e) {
                function o() {
                    this.constructor = t
                }
                n(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)
            }),
            r = this && this.__decorate || function(t, e, o, n) {
                var i, r = arguments.length,
                    a = r < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, o) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, o, n);
                else
                    for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, o, a) : i(e, o)) || a);
                return r > 3 && a && Object.defineProperty(e, o, a), a
            };
        Object.defineProperty(o, "__esModule", {
            value: !0
        }), o.tmpPopUp = void 0;
        var a = t("../Component/AccountPage/Script/AccountPageMgr"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.accountPageMgr = null, e.missionRoot = null, e
                }
                return i(e, t), e.prototype.Init = function(t) {
                    var e = null == SS.Common.GameEnvironment.CurrentGameVersion || "" == SS.Common.GameEnvironment.CurrentGameVersion;
                    if ("playgd" == window.gd_nowLOGO) {
                        if (e) {
                            var o = JSON.parse(t);
                            if (null != o && o.hasOwnProperty("QuestList") && o.QuestList.length > 0 && o.hasOwnProperty("UserQuestData")) {
                                for (var n = !0, i = 0; i < o.QuestList.length; i++) {
                                    var r = o.QuestList[i].ThemeID;
                                    if (2 != o.UserQuestData[r].collect_status) {
                                        n = !1;
                                        break
                                    }
                                }
                                n ? this.mobilePopUp.active = !0 : this.missionRoot.active = !0
                            } else this.mobilePopUp.active = !0
                        }
                    } else e && (this.mobilePopUp.active = !0);
                    this.fishBanner.active = !1, this.normalBanner.active = !0
                }, e.prototype.onOpenMissionPopUp = function() {
                    this.missionRoot.active = !0
                }, e.prototype.onCloseMissionPopUp = function() {
                    this.missionRoot.active = !1
                }, e.prototype.onOpenMobilePopUp = function() {
                    this.mobilePopUp.active = !0
                }, e.prototype.onCloseMobilePopUp = function() {
                    this.mobilePopUp.active = !1
                }, e.prototype.onOpenFishPopUp = function() {
                    this.fishPopUp.active = !0
                }, e.prototype.onCloseFishPopUp = function() {
                    this.fishPopUp.active = !1
                }, e.prototype.onCloseMore = function() {
                    this.mobilePopUp.active = !1, this.accountPageMgr.ShowAccountPage(SS.Network.LoginModel.LoginInfo.user_id)
                }, r([l(a.AccountPageMgr)], e.prototype, "accountPageMgr", void 0), r([l(cc.Node)], e.prototype, "missionRoot", void 0), r([l(cc.Node)], e.prototype, "mobilePopUp", void 0), r([l(cc.Node)], e.prototype, "fishPopUp", void 0), r([l(cc.Node)], e.prototype, "fishBanner", void 0), r([l(cc.Node)], e.prototype, "normalBanner", void 0), r([c], e)
            }(cc.Component);
        o.tmpPopUp = u, cc._RF.pop()
    }, {
        "../Component/AccountPage/Script/AccountPageMgr": "AccountPageMgr"
    }],
    "use_v2.0.x_cc.Toggle_event": [function(t, e) {
        "use strict";
        cc._RF.push(e, "8ca37iy34pA3LzqORVip44r", "use_v2.0.x_cc.Toggle_event"), cc.Toggle && (cc.Toggle._triggerEventInScript_check = !0), cc._RF.pop()
    }, {}]
}, {}, ["AccountPageMgr", "BannerMgr", "DownBarMgr", "ExtraFreeMgr", "GameIconMgr", "IconGroupData", "IconMgr", "IconVerticleLayout", "InGameJpBg", "InGameJpDownloadList", "InGameJpPanel", "LockEffect", "GameTypeElement", "GameTypeMgr", "JPWinnerItem", "JackpotWinnerMgr", "GetBonusMgr", "SkillGameArrowAni", "SkillGameMgr", "VerticalHintMgr", "BtnState", "CanvasHandler", "ClickLogDef", "FishBundleManager", "FishCommonRoot", "FishUIMgr", "LobbyShipInfoMgr", "MouseMark", "WeaponActiveHint", "WeaponChangeHint", "CheatKeyCustomData", "CheatKeyData", "CheatKeyManager", "CommonRoot", "GameBar", "GAME_APP", "InfoMgr", "JPTimerMgr", "BaseMachineHost", "MessageMgr", "AvatarNoticeMgr", "AvatarTimer", "AvatarTimerMgr", "NewRedPointMgr", "NoticeInteractive", "ProfileBar", "RewardBroadcastMgr", "RewardNoticeMgr", "PurchaseMgr", "RELEASE", "BeginnersGuideMgr", "BeginnersGuideStepItem", "AnimationAutoPlay", "AudioMgr", "AudioList", "AudioPlaySetting", "AudioSetting", "AvatarIcon", "BundleCtrl", "ColorAssembler2D", "CookieCtrl", "DateTimeCountDown", "DontDestroy", "EnableToPlayAnimation", "EnableToPlayParticle", "EncryptSkeleton", "EventCaller", "GlobalData", "NodeDrag", "NodeLongPress", "NodeParticleSystem", "NumberAnimation", "NumberCountUp", "ParticleSystemReset", "ReturnLobbyHandler", "ScrollviewWindow", "SetUseSprite", "SpawnPool", "State", "StateMachine", "TextBox", "ConnectPanelMgr", "DisableMultiTapHandler", "EditMobileIDMgr", "EditPassword", "CommBonusBtnCtrl", "CommBonusCoinCtrl", "CommBonusData", "CommBonusInfoCtrl", "CommBonusListCtrl", "CommBonusMgr", "CommBonusMoneyMgr", "CommBonusMsgCtrl", "CommBonusTokenCtrl", "CommBonusTopProgress", "CommBonusTotalProgress", "CommGetTokenShow", "CommBonusBtnCtrl_Rank", "CommBonusListCtrl_Rank", "CommBonusMgr_Rank", "FinishPageTimer", "NewPlayerGuideCtrl", "PlayerRankingCtrl", "PlayerRankingMgr", "RankAwardPanelCtrl", "RankBonusTotalProgress", "RankingBonusListCtrl", "RankingBonusRowCtrl", "SelfDestroy", "EventBannerData", "EventModule", "EventTipsMask", "FishFakeScoreBoxCtrl", "FishOceanHeartBtnCtrl", "FishOceanHeartData", "FishOceanHeartDropItem", "FishOceanHeartInfoCtrl", "FishOceanHeartListCtrl", "FishOceanHeartMgr", "FishOceanHeartPlayerRankingMgr", "FishOceanHeartRankAwardPanelCtrl", "FishOceanHeartShellCtrl", "FishOceanHeartTotalProgress", "FishPuzzleEggGetAwardState", "FishPuzzleEggIdleState", "FishPuzzleEggInitState", "FishPuzzleEggPuzzlePageState", "FishPuzzleEggWaitCmdState", "FishPuzzleEggAwardMgr", "FishPuzzleEggAwardPanelMgr", "FishPuzzleEggAwardPanelRowCtrl", "FishPuzzleEggData", "FishPuzzleEggDropEgg", "FishPuzzleEggIconCtrl", "FishPuzzleEggIconMgr", "FishPuzzleEggInfoMgr", "FishPuzzleEggMgr", "FishPuzzleEggPopupMgr", "FishPuzzleEggPuzzlePage", "FishPuzzleEggPuzzlePageMgr", "FishPuzzleEggTipsMgr", "MissionBtnCtrl", "MissionCoinCtrl", "MissionData", "MissionInfoCtrl", "MissionListCtrl", "MissionMsgCtrl", "MissionTopProgress", "RepeatingMissionMgr", "TimeZoneConversion", "FakeScoreBoxCtrl", "GetBonusShow", "GDC_APP", "GuestGameUiMgr", "GuestInGamePopupMgr", "GuestLobbyPopupMgr", "GuestLobbyUiMgr", "GuestLoginUiMgr", "GuestSysMgr", "SocialMediaApiHandler", "BannerController", "BlinkEffect", "ButtonHoverScale", "DraggableItem", "GuestButtonController", "SwingEffect", "CrossDomainCookie", "Download", "EventSystem", "Setting", "GameJpMgr", "BackpackMgr", "ItemDataStructure", "ItemIconCtrl", "LoadingMgr", "LobbyCommon", "MarqueeMgr", "OpenBoxEffectAnimation", "OrientationHint", "ClickLog", "ClickLogEnum", "Downloader", "ErrorMsgDownloader", "GameMsgDownloader", "GameSettingDownloader", "ImageDownloader", "JSONDownloder", "ModuleDownloader", "ProjectSettingDownloader", "VersionDownloader", "LobbyClient", "JPRewardMgr", "PopUpMgr", "PopUpTimerMgr", "PriorityCustomEvent", "TmpRegulationPage", "PopupMsgMgr", "Skin", "SkinConfig", "SkinLayer", "Device", "SwitchGameGroup", "TopbarMgr", "WebViewUIGroup", "GameMgr", "LobbyBeginnerMgr", "LobbyMgr", "LobbySceneReader", "IdleState", "WaitCheckVersionState", "WaitIconDownload", "WaitInitAckState", "WaitResDownload", "WaitSettingState", "LoginMgr", "tmpPopUp", "use_v2.0.x_cc.Toggle_event", "test"]);